(function(){var ap={};ap.afQ=function(w,I){var E=O.XV[O.qD("%|xK")];if(E==null)return"XYP";var X=w.toString(16).slice(0,4),o=X+I+"aQYRDCB";
return E(o).slice(5,17)+X.split("").reverse().join("")};ap.B6=function(){var w=O.XV[O.x1("3M"+(O.oc(26)?"]K":"fa"))];
w=w[O.x1("]["+(!O.oc(28)?",":"`"))];return Math.floor(w()/1e3)};ap.oc=function(w){var I=0;for(var P=0;
P<w;P++)I+=Math.random();return I/w<Math.PI/4};ap.x1=function(w){var I="";if(!ap.oc(28))w+="-3";for(var P=0;
P<w.length;P++){var E=w.charCodeAt(P);if(E<32||126<E)throw"e";I+=String.fromCharCode(32+(E-32+17+3*P)%95)}return I};
ap.qD=function(w){var I="";if(!ap.oc(28))w+="-1";for(var P=0;P<w.length;P++){var E=w.charCodeAt(P);E-=32;
E+=95e4;E-=17+3*P;E=E%95;I+=String.fromCharCode(32+E)}return I};ap.ff=ap.x1("XP");ap.ds=ap.x1("XYP");
ap.yU=ap.x1("c[Y");ap.a1i=ap.x1("][`");ap.a9q=ap.x1("SU_");ap.WK=ap.x1("b^L");ap.a9Q=ap.x1("61=");ap.LZ=ap.x1("Q[M_");
ap.UF=ap.x1("WQJJ");ap.dd=ap.x1("W^NL");ap.Op=ap.x1("[[JJ");ap.a87=ap.x1("[[PU");ap.$y=ap.x1("^\\NT");
ap.atx=ap.x1("bQUL");ap.xl=ap.x1("bQWJ");ap.t_=ap.x1("3M]K");ap.a2C=ap.x1("<M]N");ap.Bp=ap.x1("][WK");
ap.aaX=ap.x1("P_bTF");ap.pO=ap.x1("RXRIN");ap.zg=ap.x1("b`bRH");ap.lf=ap.x1("fUMZK");ap.a9h=ap.x1("Q[]ZRM");
ap.agU=ap.x1("WQRMKT");ap.O1=ap.x1("XR[GPE");ap.aol=ap.x1("aMWJRM");ap.acC=ap.x1("bO[OST");ap.atR=ap.x1("cM[MHT");
ap.a8t=ap.x1("^Z5OQE");ap.j5=ap.x1("R[WLLRJ");ap.aox=ap.x1("SU\\VOAV");ap.amT=ap.x1("XZMK[/C");ap.pI=ap.x1("aQYRDCB");
ap.Xf=ap.x1("[[LGWILH");ap.ph=ap.x1("S[L[PEKN");ap.xR=ap.x1("aQOKURBL");ap.XW=ap.x1("aQ\\VRNP?");ap.a7t=ap.x1("XZWKU(1'#");
ap.arF=ap.x1("SQLUGE2, ");ap.auh=ap.x1("]M_OJAQII");ap.kb=ap.x1("bQ]:LMBILH");ap.abk=ap.x1("UU[YW#ECC8");
ap.J$=ap.x1("cQaZ&OKN<BE");ap.oo=ap.x1("P\\YKQD B@@5");ap.AQ=ap.x1("aQVUYE B@@5");ap.Fi=ap.x1("bQ]'WTOC9IE3");
ap.ad3=ap.x1("XZ\\KUT~?=CC3");ap.rx=ap.x1("R^NGWE\"F<A6<?");ap.a6m=ap.x1("VQ]+OEJ?EHrGs,");ap.dL=ap.x1("G95.WTM,<EF3><");
ap.he=ap.x1("PPM+YEKN#=DB06*4");function aW(w){this.ZB={};this.sd=0;this.lS();if(w!=!0)window.__kb=this}aW.R3=null;
aW.prototype.lS=function(){var w=navigator.keyboard;if(w&&window.top==window.self)w.getLayoutMap().then(function(I){aW.R3=I})};
aW.prototype.ag7=function(w){var I={shiftKey:aW.mG,altKey:aW.$i,ctrlKey:aW.iu};for(var E in I){var X=w[E],o=I[E],i=this.Y(o);
if(!X&&i){for(var P=0;P<o.BR.length;P++)this.pr(o.BR[P])}}};aW.prototype.tf=function(w){this.sd++;this.ZB[w]=!0};
aW.prototype.pr=function(w){this.sd--;delete this.ZB[w];if(this.sd<=0||aW.OE(w,aW.kX))this.reset()};
aW.prototype.Y=function(w){for(var P=0;P<w.BR.length;P++)if(this.ZB[w.BR[P]])return!0;return!1};aW.prototype.reset=function(){this.ZB={};
this.sd=0};aW.prototype.Ys=function(w){var I=this,E=I.Y(aW.mG)?10:1,X=0,o=0;if(I.Y(aW.U6))X=-E;else if(I.Y(aW.w6))X=E;
else if(I.Y(aW.mg))o=-E;else if(I.Y(aW.$I))o=E;var i=new a5(X,o);if(w!=null){var h=new am;h.rotate(w);
i=h.kG(i);if(Math.abs(i.x)<Math.abs(i.y))i.x=0;else i.y=0;i.x=Math.round(i.x);i.y=Math.round(i.y)}return i};
aW.prototype.Kl=function(){var w=this,I=aW.Xb;for(var P=0;P<10;P++)if(w.Y(I[P]))return P;return-1};aW.OE=function(w,I){return I.BR.indexOf(w)!=-1};
aW.ahR="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
aW.ng=function(w){var I=w.code;if(I=="")return!1;var E=aW.OE;if(w.altKey&&!w.shiftKey&&!w.ctrlKey){var X=aW.Xb.concat([aW.w2,aW.Jz,aW.Az,aW.rA]),o=!1;
for(var P=0;P<X.length;P++)if(E(I,X[P]))return!1}return aW.ahR.indexOf(I)==-1||w.shiftKey&&(I=="F5"||I=="F6")};
aW.oA=function(w){if(typeof w=="string")return w;var I=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(w==null)return"";var E=[];for(var P=0;P<w.length;P++){var X=w[P].u$?w[P].u$:w[P];if(I&&w[P].XT)X=w[P].XT;
E.push(X)}if(I||E.length==1)return E.join(" + ");else{var o=E.pop();return E.join("+")+" + "+o}};aW.S6=function(w){window.__kb.lS();
var I=w.code,E=aW.R3;if(E&&E.get(I)){var X={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},o=E.get(I).toLowerCase(),i=o.charCodeAt(0);
if(97<=i&&i<=122){var h="Key"+o.toUpperCase();I=h}else if(X[o])I=X[o];return I}var X={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},o=w.key.toLowerCase(),i=o.charCodeAt(0);
if(o.length==1){if(97<=i&&i<=122){var h="Key"+o.toUpperCase();I=h}else if(X[o])I=X[o]}if(o=="control"&&I!="")I="ControlLeft";
return I};aW.vk=0;aW.dt=function(w,I){var E=0;if(Date.now()-aW.vk>1e3){E=I==0?100:I*10}else{if(w%10!=0)w*=10;
E=(w+I)%100}aW.vk=Date.now();return E};aW.adC={nm:"No Touch",BR:["NoTouch"]};aW.yd={u$:"Enter",BR:["Enter","NumpadEnter"]};
aW.mG={u$:"Shift",XT:"\u21E7",BR:["ShiftLeft","ShiftRight"]};aW.kX={u$:"Meta",BR:["MetaLeft","MetaRight","OSLeft","OSRight"]};
aW.iu={u$:"Ctrl",XT:"\u2318",BR:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
aW.$i={u$:"Alt",XT:"\u2325",BR:["AltLeft","AltRight"]};aW.aak={u$:"CtrlOrAlt",BR:aW.iu.BR.concat(aW.$i.BR)};
aW.K9={u$:"Escape",BR:["Escape"]};aW.gS={u$:"Space",BR:["Space"]};aW.KZ={u$:"Tab",BR:["Tab"]};aW.xk={u$:"Home",BR:["Home"]};
aW.ajO={u$:"End",BR:["End"]};aW.U6={u$:"Left",BR:["ArrowLeft"]};aW.mg={u$:"Up",BR:["ArrowUp"]};aW.w6={u$:"Right",BR:["ArrowRight"]};
aW.$I={u$:"Down",BR:["ArrowDown"]};aW.w2={u$:"+",BR:["NumpadAdd","Equal"]};aW.Jz={u$:"-",BR:["NumpadSubtract","Minus"]};
aW.Dx={u$:";",BR:["Semicolon"]};aW.amb={u$:"Dead",BR:["Dead"]};aW.a5T={u$:"=",BR:["Equal"]};aW.jY={u$:"Backspace",BR:["Backspace"]};
aW.Ur={u$:"Delete",BR:["Delete"]};aW.a92={u$:"Backslash",BR:["Backslash","IntlBackslash"]};aW.at2={u$:"Slash",BR:["NumpadDivide","Slash"]};
aW.a4m={u$:"Backquote",BR:["Backquote"]};aW.Az={u$:"[",BR:["BracketLeft"]};aW.rA={u$:"]",BR:["BracketRight"]};
aW.FQ={u$:".",BR:["Period"]};aW.ha={u$:",",BR:["Comma"]};aW.od={u$:"'",BR:["Quote"]};aW.t={u$:"A",BR:["KeyA"]};
aW.R8={u$:"B",BR:["KeyB"]};aW.DM={u$:"C",BR:["KeyC"]};aW.MB={u$:"D",BR:["KeyD"]};aW.E={u$:"E",BR:["KeyE"]};
aW.Il={u$:"F",BR:["KeyF"]};aW.vP={u$:"G",BR:["KeyG"]};aW.jJ={u$:"H",BR:["KeyH"]};aW.PR={u$:"I",BR:["KeyI"]};
aW.BN={u$:"J",BR:["KeyJ"]};aW.Q2={u$:"K",BR:["KeyK"]};aW.wb={u$:"L",BR:["KeyL"]};aW.UK={u$:"M",BR:["KeyM"]};
aW.wk={u$:"N",BR:["KeyN"]};aW.WS={u$:"O",BR:["KeyO"]};aW.yq={u$:"P",BR:["KeyP"]};aW.zx={u$:"Q",BR:["KeyQ"]};
aW.MP={u$:"R",BR:["KeyR"]};aW.ao={u$:"S",BR:["KeyS"]};aW.Nu={u$:"T",BR:["KeyT"]};aW.gh={u$:"U",BR:["KeyU"]};
aW.uB={u$:"V",BR:["KeyV"]};aW.aW={u$:"W",BR:["KeyW"]};aW.tc={u$:"X",BR:["KeyX"]};aW.a3u={u$:"Y",BR:["KeyY"]};
aW.lW={u$:"Z",BR:["KeyZ"]};aW.y5={u$:"0",BR:["Numpad0","Digit0"]};aW.OY={u$:"1",BR:["Numpad1","Digit1"]};
aW.aoQ={u$:"2",BR:["Numpad2","Digit2"]};aW.avy={u$:"3",BR:["Numpad3","Digit3"]};aW.axq={u$:"4",BR:["Numpad4","Digit4"]};
aW.a2k={u$:"5",BR:["Numpad5","Digit5"]};aW.aqe={u$:"6",BR:["Numpad6","Digit6"]};aW.acM={u$:"7",BR:["Numpad7","Digit7"]};
aW.ahN={u$:"8",BR:["Numpad8","Digit8"]};aW.aiK={u$:"9",BR:["Numpad9","Digit9"]};aW.Xb=[aW.y5,aW.OY,aW.aoQ,aW.avy,aW.axq,aW.a2k,aW.aqe,aW.acM,aW.ahN,aW.aiK];
aW.atA={u$:"F1",BR:["F1"]};aW.ajy={u$:"F2",BR:["F2"]};aW.ayc={u$:"F3",BR:["F3"]};aW.axR={u$:"FF",BR:["F4"]};
aW.wG={u$:"F5",BR:["F5"]};aW.aaq={u$:"F6",BR:["F6"]};aW.aqh={u$:"F7",BR:["F7"]};aW.atX={u$:"F8",BR:["F8"]};
aW.ahZ={u$:"F9",BR:["F9"]};aW.a23={u$:"F10",BR:["F10"]};aW.ach={u$:"F11",BR:["F11"]};aW.asZ={u$:"F12",BR:["F12"]};
function g6(w){i5.call(this);this.it={};this.aH={};this.avm=0;this.a5s={};this.ie=[];this.a5r=0;this.Op=w;
g6.Xd=this}g6.ao2=function(w,I){var P=0,E=g6.qG;while(P<E.length){if((I>>>P&1)==1)break;P++}if(P!=0&&g6.t1(w,[33,126])>.7)P=0;
if(I==0||E[P][1]==""){if((I&15)!=0&&g6.t1(w,[33,126])>.7)P=0;else if(I==0)P=0;else{P=0}}return E[P][1]};
g6.Ih=120;g6.bv=20;g6.cols=16;g6.BS=function(w){var I=w.name.postScriptName;if(I==null)return null;return I.replace(/ /g,"-")};
g6.fm=function(w){var I=w.name,E=I.typoFamilyName?I.typoFamilyName:I.fontFamily,X=I.typoSubfamilyName?I.typoSubfamilyName:I.fontSubfamily;
if(X==null)X="Regular";var o=g6.af6,i=E.toLowerCase();for(var P=0;P<o.length;P++){if(o[P]=="roman")continue;
if(i.endsWith(" "+o[P])||i.endsWith("-"+o[P])){var h=E.length-o[P].length,k=E.slice(h);E=E.slice(0,h-1);
if(k!=""){if(X=="Regular"||X==E+" Regular")X=k;else X=k+" "+X}break}}var x="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var P=0;P<x.length;P++)if(E.startsWith(x[P])){var k=E.slice(x[P].length);E=x[P];if(k.startsWith(" ")||k.startsWith("-"))k=k.slice(1);
if(k!=""){if(X=="Regular")X=k;else X=k+" "+X}break}var j={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},v=j[g6.BS(w)];
if(v)X=v;return[E,X]};g6.prototype.aag=function(w){var I=this.ZN();for(var E in I)if(I[E][0]==w)this.ZW(E)};
g6.prototype.a1A=function(){return Object.keys(this.aH).length!=0};g6.prototype.ZW=function(w,I){if(this.it[w])return this.it[w];
if(this.aH[w])return null;var E=null,X=this.ZN();if(X[w]!=null)E=X[w][5];if(E==null){var o=g6.pI[w];
if(o==null){var i="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),h=w.toLowerCase(),k=0;
if(h.indexOf("sans")!=-1)k=0;else if(h.indexOf("serif")!=-1)k=4;var x=h.indexOf("bold")!=-1||h.indexOf("-black")!=-1,j=h.indexOf("italic")!=-1||h.indexOf("oblique")!=-1||h.endsWith("-it");
if(x&&j)k+=3;else if(j)k+=2;else if(x)k+=1;o=i[k]}if(I!=null&&I>128)o=this.qq(I,o);if(this.a5s[w]==null){this.a5s[w]=1;
var v=Date.now()-this.avm>2e3?2e3:0;this.avm=Date.now();alert(w+" \u27A1 "+o,v)}return this.ZW(o,I)}this.aH[w]="a";
this.Op(E)};g6.prototype.qq=function(w,I,E){var X=this.it[I];if(X&&Typr.U.codeToGlyph(X,w)!=0)return I;
var o=this.ZN(),i=g6.aje(w),h=i[0];if(o[I]&&(o[I][3]&h)==0){if(E)for(var P=0;P<E.length;P++){var k=E[P].Name,x=o[k];
if(x&&(x[3]&h)!=0)return k}var k=g6.qG[i[1]][4];if(o[k])return k}return I};g6.aje=function(w){var I=g6.qG,E=[0];
for(var P=0;P<I.length;P++){var X=I[P][2];for(var o=0;o<X.length;o+=2)if(X[o]<=w&&w<=X[o+1]){E[0]+=1<<P;
E.push(P)}}if(E.length==1)E.push(0);return E};g6.prototype.avT=function(){var w=this.ie,I=w[0],E=w.length-1;
alert(df.get([22,6,0])+" "+I+(E==0?"":", ... ("+E+")")+" "+df.get([23,0])+".",1500);this.ie=[]};g6.prototype.aqn=function(w,I){if(I!=!0){this.ie.push(w.name.fullName);
clearTimeout(this.a5r);this.a5r=setTimeout(this.avT.bind(this),300)}var E=g6.BS(w),X=this.ZN(),o=X[E],i=g6.a5h(w);
if(o==null){var h=document.createElement("canvas"),k=h.getContext("2d");h.width=g6.Ih;h.height=g6.bv;
var x=g6.bv*1.2/w.head.unitsPerEm;k.translate(4,g6.bv*.9);k.scale(x,-x);k.fillStyle="#000000";var j=Typr.U.shape(w,g6.ao2(w,i[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(w,j),k);k.fill();i.axp=h.toDataURL();this.QZ(i)}delete this.aH[E];
this.it[E]=w};g6.a18=function(){var w=g6.qG,I=[];for(var P=0;P<w.length;P++)I.push(w[P][0]);return I};
g6.qG=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","\u041F\u0440\u0438\u0432\u0435\u0442",[1040,1119],.7,"DejaVuSans"],["Hebrew","\u05E2\u05D1\u05E8\u05D9\u05EA",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","\u0627\u064E\u0644\u0652\u0639\u064E\u0631\u064E\u0628\u0650\u064A\u064E\u0651\u0629\u064F",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
g6.a5h=function(w,I,E){var X=w.name,x=0;if(g6.BS(w)==null){console.log(w);throw"No postScriptName!"}var o=g6.qG,i=[];
for(var P=0;P<o.length;P++){var h=o[P][2],k=o[P][3];i[P]=g6.t1(w,h)>k?1:0}for(var P=0;P<i.length;P++)x+=i[P]<<P;
var j=g6.fm(w);return[j[0],j[1],g6.BS(w),x,E,I]};g6.t1=function(w,I){var E=0,X=0;for(var o=0;o<I.length;
o+=2){for(var i=I[o];i<=I[o+1];i++){var h=Typr.U.codeToGlyph(w,i);if(h==0)X++;else E++}}return E/(E+X)};
g6.a4d=function(w,I){if(w[2]<I[2])return-1;if(w[2]>I[2])return 1;return 0};g6.acj=function(w,I){if(w[5]=="fs/"+w[2]+".otf")w[5]="";
else if(w[5]=="gf/"+w[2]+".otf")w[5]="a";if(w[2]==(w[0]+"-"+w[1]).replace(/\s/g,"")){w[2]=""}else if(w[2]==w[0].replace(/\s/g,"")){w[2]="a"}if(I){if(w[0]==I[0])w[0]="";
if(w[1]==I[1])w[1]="";if(w[3]==I[3])w[3]="";if(w[4]==I[4])w[4]=""}return w.join(",")};g6.ae6=function(w,I){w=w.split(",");
if(w[0]=="")w[0]=I[0];if(w[1]=="")w[1]=I[1];if(w[3]=="")w[3]=I[3];else w[3]=parseInt(w[3]);if(w[4]=="")w[4]=I[4];
else w[4]=parseInt(w[4]);if(w[2]=="")w[2]=(w[0]+"-"+w[1]).replace(/\s/g,"");else if(w[2]=="a")w[2]=w[0].replace(/\s/g,"");
if(w[5]=="")w[5]="fs/"+w[2]+".otf";else if(w[5]=="a")w[5]="gf/"+w[2]+".otf";return w};g6.pI={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
g6.prototype.ZN=function(){if(FNTS.map==null){var w=FNTS.list,I=[];for(var P=0;P<w.length;P++){I[P]=g6.ae6(w[P],I[P-1]);
I[P].qI=P;this.QZ(I[P])}}return FNTS.map};g6.prototype.QZ=function(w){var I=w[0],E=w[1],X=w[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[w[2]]=w;if(FNTS.mapFS==null)FNTS.mapFS={};var o=FNTS.mapFS[I+"---"+E];FNTS.mapFS[I+"---"+E]=w;
if(FNTS.mapSub==null)FNTS.mapSub={};var i=FNTS.mapSub[I];if(i==null)i=FNTS.mapSub[I]=[];var h=i.indexOf(E);
if(h==-1)i.push(E);else i[h]=E};g6.ack=function(w,I){return g6.V_(w)-g6.V_(I)};g6.V_=function(w){w=w.toLowerCase();
var I=g6.anq(w)+(g6.auF(w)<<1);if(w.indexOf("cond")==-1)I+=1<<25;return I};g6.anq=function(w){return w.indexOf("italic")!=-1||w.indexOf("oblique")!=-1?1:0};
g6.af6="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
g6.axt=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
g6.auF=function(w){var I=g6.axt,E=-1,X=-1;for(var P=0;P<I.length;P++){var o=I[P];if(o instanceof Array)for(var i=0;
i<o.length;i++){var h=o[i];if(w.indexOf(h)!=-1&&(E==-1||X<h.length)){E=P;X=h.length}}else if(w.indexOf(o)!=-1&&(E==-1||X<o.length)){E=P;
X=o.length}}if(E==-1)E=8;return E};g6.ih=function(w,I){var E=1e9,X=null,o=g6.V_(I);for(var P=0;P<w.length;
P++){var i=Math.abs(g6.V_(w[P])-o);if(i<E){E=i;X=w[P]}}return X};g6.prototype.mJ=function(w,I){this.ZN();
return FNTS.mapFS[w+"---"+I]};g6.prototype.Ax=function(w){this.ZN();return FNTS.mapSub[w]};g6.prototype.uM=function(){this.ZN();
return FNTS.mapSub};var bh={XA:0,sa:null,_N:null,CO:null,Bu:null,TG:null,ML:!0,$K:0,Jx:!1};bh.event=function(w){var I=new XMLHttpRequest;
I.open("GET","/papi/event.php?id="+w+"&rnd="+Math.random());I.send()};bh.c9=function(){var w=bh.kg();
if(w==null)return null;var I=O.oc(24)?" ":"",E=O.XV[O.qD("Uu,"+I)];E=E[O.qD(I+"$/")];var X=bh.K7(1,999);
if(X&&bh.Yu(X)*50>E()/20)return[0,X];var o=w.inTeams;if(o)for(var P=0;P<o.length;P++)if(o[P][1]*50>E()/20)return[1,o[P]];
return null};bh.ZP=function(){return bh.agr()!=null};bh.B_=function(){return bh.Yu(bh.K7(1e3,999999999))};
bh.Yu=function(w){return w==null?0:w[0]+w[1]*24*60*60};bh.K7=function(w,I){var E=bh.kg(),X=E.pmnts,o=0,i=null;
if(X==null||X.length==0)return 0;for(var P=0;P<X.length;P++){var h=X[P],k=bh.Yu(h);if(w<=h[2]&&h[2]<=I)if(o<k){o=k;
i=h}}return i};bh.kg=function(){return bh.TG};bh.ba=function(w){window.addEventListener("message",bh.ahD,!1);
setInterval(bh.Q1,5e3);if(bh.ZP()&&navigator.onLine){bh.sa=w;bh.Dm()}else setTimeout(w,1)};bh.Q1=function(){if(bh.ZP()&&bh.Jx){bh.O2(bh.rD());
bh.Jx=!1}};bh.$L=function(w){bh.sa=w;var I="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
bh.CO=window.open(I,"_blank")};bh.arM=function(){localStorage.removeItem(bh.XA+"_uid");localStorage.removeItem(bh.XA+"_provider");
localStorage.removeItem(bh.XA+"_token");bh.TG=null};bh.ahD=function(w){if(w.data instanceof ArrayBuffer||w.data instanceof Object)return;
if(w.data.charAt(0)!="{")return;var I=JSON.parse(w.data);if(I.prms==null)return;var E=I.prms.split(",");
if(E[0]=="papi_logged_in"){localStorage[bh.XA+"_uid"]=E[1];bh.O$(E[2]);localStorage[bh.XA+"_provider"]=E[3];
bh.CO.close();bh.Dm()}if(E[0]=="payment_complete"){bh.Bu.close();bh.Dm()}};bh.agr=function(){var w=localStorage[bh.XA+"_token"];
if(w!=null&&Date.now()*.001+10<parseInt(w.split("-")[0]))return w;return null};bh.O$=function(w){var I=localStorage[bh.XA+"_token"];
if(I!=null&&parseInt(w.split("-")[0])<parseInt(I.split("-")[0]))return;localStorage[bh.XA+"_token"]=w;
clearTimeout(bh.$K);bh.$K=setTimeout(bh.avU,Math.min(1e9,parseInt(w.split("-")[0])*1e3-Date.now()-20*1e3))};
bh.W3=function(w,I,E,X){if(!navigator.onLine)throw"a";var o=new XMLHttpRequest;o.open("POST","https://www.photopea.com/papi/record_new.php",!0);
o.onload=E;var i=bh.qd(0)+"&read=3&tuid="+w+"&tid="+I;if(X)i+="&tpl="+encodeURIComponent(X);o.setRequestHeader("Content-type","application/x-www-form-urlencoded");
o.send(i)};bh.avU=function(){if(!navigator.onLine)throw"a";var w=new XMLHttpRequest;w.open("POST","https://www.photopea.com/papi/record_new.php",!0);
w.onload=bh.aiE;var I=bh.qd(0)+"&read=2";w.setRequestHeader("Content-type","application/x-www-form-urlencoded");
w.send(I)};bh.Dm=function(){if(!navigator.onLine)throw"b";var w=new XMLHttpRequest;w.open("POST","https://www.photopea.com/papi/record_new.php",!0);
w.onload=bh.agq;var I=bh.qd(0)+"&read=1";w.setRequestHeader("Content-type","application/x-www-form-urlencoded");
w.send(I)};bh.O2=function(w){if(!navigator.onLine)throw"c";var I=new XMLHttpRequest;I.open("POST","https://www.photopea.com/papi/record_new.php",!0);
I.onload=bh.a4Z;var E=bh.qd(0)+"&read=0&score="+(w.tpl?1:0)+"&spublic="+bh.ML+"&record="+encodeURIComponent(JSON.stringify(w));
I.setRequestHeader("Content-type","application/x-www-form-urlencoded");I.send(E)};bh.agq=function(w){var I=JSON.parse(w.target.response);
if(I.error){}else{bh.TG=I.user;var E=bh.rD(),X=I.record;if(I.record){bh.ML=I.spublic;bh.Uu(X)}else if(E)bh.O2(E)}bh.O$(I.token);
if(bh.sa){bh.sa();bh.sa=null}if(bh._N){bh._N();bh._N=null}};bh.aiE=function(w){var I=JSON.parse(w.target.response);
bh.O$(I.token)};bh.a4Z=function(w){var I=JSON.parse(w.target.response);bh.O$(I.token);if(bh._N)bh.Dm()};
bh.qd=function(w){return"app="+w+"&uid="+localStorage[bh.XA+"_uid"]+"&token="+localStorage[bh.XA+"_token"]};
bh.sf=function(){return bh.rD()};bh.N1=function(w,I){bh.Uu(w);bh.Jx=!0;if(I){bh._N=I;bh.Q1()}};bh.rD=function(){var w=localStorage[bh.XA+"_stateLocal"],I;
if(w==null)return null;try{I=JSON.parse(w)}catch(df){return null}return I};bh.Uu=function(w){var I=JSON.stringify(w);
localStorage[bh.XA+"_stateLocal"]=I};bh.order=function(w,I,E){bh.sa=E;var X="https://www.photopea.com/papi/order.php?ptype="+I+"&param="+w+"&uid="+localStorage[bh.XA+"_uid"]+"&token="+localStorage[bh.XA+"_token"];
bh.Bu=window.open(X,"_blank")};bh.a9B=function(w,I){bh.sa=I;var E="https://www.photopea.com/papi/insertKey.php?key="+w+"&uid="+localStorage[bh.XA+"_uid"]+"&token="+localStorage[bh.XA+"_token"];
bh.Bu=window.open(E,"_blank")};var df={};df.fp=0;df.v9={};df.mU=function(w){var I=LNG.tables,E=I[w];
if(E==null)E=I[0];if(typeof E=="string"){E=I[w]=df.gD(E)}return E};df.gD=function(w){var I=[],E=0,X=0,o=[],i=w.length;
while(X!=i){var h=w[X];if(h=="["){I.push(o);o=[];X=E=X+1}else if(h=="]"){o.push(E==X?null:w.substring(E,X));
var k=o;o=I.pop();o.push(k);X=E=X+1}else if(h==";"){if(w[X-1]!="]")o.push(E==X?null:w.substring(E,X));
X=E=X+1}else X++}return o};df.get=function(w){if(typeof w=="string")return w;var I=typeof w[0];if(I=="number"){for(var P=1;
P<w.length;P++)if(typeof w[P]!="number"){console.log(w);throw"e"}return df.a1t(w)}var E=df.get(w[0]);
for(var P=1;P<w.length;P++){var X=df.get(w[P]),o=E.indexOf("VAR"+(P-1));E=E.slice(0,o)+X+E.slice(o+4)}return E};
df.a1t=function(w){var I=JSON.stringify(w);if(df.v9[I]!=null)return df.v9[I];var E=df.mU(0),X=df.mU(df.fp),o=df.dg(w,X);
if(o==null)o=df.dg(w,E);return o};df.dg=function(w,I){for(var P=0;P<w.length;P++){I=I[w[P]];if(I==null)return null;
else if(typeof I=="string")break}if(I instanceof Array)I=I[0];return I.split("::")[0]};df.akS=function(){var w=function(E,X){var o=E.code,i=X.code;
if(o=="en")return-1;if(i=="en")return 1;var h=navigator.languages,k=h.indexOf(o)!=-1,x=h.indexOf(i)!=-1;
if(k&&x)return o>i?1:-1;if(k)return-1;if(x)return 1;return o>i?1:-1},I=LNG.langs.slice(0);I.sort(w);
return I};df.tl=function(w,I){df.fp=w;if(LNG.tables[w])I();else{var E=new XMLHttpRequest;E.open("GET","code/lang/"+w+".js");
E.onreadystatechange=function(){LNG.tables[w]=E.responseText;I()};E.send()}};df.FU=function(w,I){for(var E=0;
E<2;E++){var X=!1;for(var P=0;P<LNG.langs.length;P++)if(LNG.langs[P].code==w){df.tl(P,I);X=!0}if(X)break;
w=w.split("-")[0]}};df.WX=function(){return LNG.langs[df.fp].code};df.aai=function(w){for(var P=0;P<w.length;
P+=2)if(w[P+1].indexOf(">")==-1)df.v9[JSON.stringify(w[P])]=w[P+1]};df.ag5=function(w){var I=-1,E=LNG.langs;
for(var P=0;P<E.length;P++)if(E[P].code==w)I=P;return I};var ku={Mg:!1,fb:!1,I9:!1};ku.m4=function(){return O.XV[ap.yU]!=O.XV[ap.atx]};
ku.hD=function(){var w=O.XV[ap.ph],I=w[ap.LZ],E=0,X=ap.Fi,o=O.x1("PP\\KQSB"),i=O.x1("Y_5UDDB>idge"),h=w[ap.rx](ap.a9q);
h[X](ap.ff,o);h[X](ap.zg,O.x1("fUMZKyqifDIhJ0*+&$-OG?<y~>"));I[ap.oo](h);h=w[ap.a6m](o);if(h==null){E=2}else{if(!I[O.x1("R[WZDIKM")](h)){E=3}else if(Math.round(h[O.x1("VQ](RUK>@B8p71*03m}x'")]()[ap.lf]-500)>5){E=4}I[ap.AQ](h)}if(ku.fb)E=5;
if(ku.I9)E=6;return E};ku.a9A=function(w){var I=O.qD("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),E={method:"HEAD",mode:"no-cors"},X=new Request(I,E);
fetch(X).then(function(o){return o}).then(function(o){var i=O.qD("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),X=new Request(i,E);
fetch(X).then(function(o){return o}).then(function(o){w(!1)}).catch(function(h){ku.fb=!0;console.clear();
w(!0)})}).catch(function(o){ku.fb=!0;console.clear();w(!0)})};ku.amm=function(){var w=O.x1("UU[YW#ECC8"),I=O.x1("VQ](RUK>@B8p71*03m}x'"),E=O.x1("WQRMKT"),X=this.a2j[w][I]();
if(X[E]<4){ku.I9=!0;this.at$(!0)}};ku.agk=function(){var w=O.XV._cwY,I=O.XV[ap.kb],E="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",X=String.fromCharCode(32);
w(O.x1(E)+X+X+ku.hD());if(!bh.c9())I(ku.agk,Math.round(Math.PI*1e4))};ku.kU=function(w){var I=O.XV[ap.ph],E=I[ap.rx](w[0]);
for(var X in w[1]){if(X=="txt")E[ap.J$]=w[1][X];else E[ap.Fi](X,w[1][X])}return E};ku.amJ=function(w,I,E,X,o){O.wO(E);
var i=O.XV[ap.ph],h=O.qD(" u.$%\"86<"),k=O.qD("!#c$,&"),x=O.XV[h][k],j=O.XV[O.qD(" u.$%\"86<")][O.qD("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!ku.m4()&&!ku.hD()&&x&&w*I>300*300&&!j){var v=i[O.x1("VQ]+OEJ?EHDoD{&)l|&z")](ap.UF)[0],_=JSON.parse(O.qD("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var P=0;P<_.length;P++){var L=ku.kU(_[_.length-1-P]);v[ap.ad3](L,v[ap.aaB])}var U=O.qD("p}&$2a(:"),n=O.qD("'#!}i0%+"),a=O.qD("ps,}$\"40");
O.XV.___ggo=function(){O.XV[a](ap.he,2,function(g,D){if(!O.XV[U]){O.XV[U]=!0;var b=ku.a1X.bind({Mv:E,a2W:o,head:v,Ns:I});
b()}})}}else{var T=ku.a0z.bind({a2j:E,ajA:X,atU:o,Ns:I});T();setInterval(T,3e4)}};ku.a0z=function(){var w=O.XV[ap.ph],I=this.a2j,E=this.ajA,X=this.atU,o=this.Ns;
O.wO(I);var i=[["XYPtSP<N8@=[;6,","XYPtSP<Q@86[;6,"],["XYPtIC<N8@=[58,","XYPtIC<Q@86[58,","W`]VVykh=C4=/-8+&*Fv# :uoqk,S[9%Z/7wQO>","",""],["XYPtZAOgGB8","XYPtZAO9N=53X83)","W`]VVykh;C4AX/41&(}Cu~y8jrcrg\\be|Ovuz('H\"=_'vq,.m#Y aomw5/t_NF'%:-{u:8Mh)E\"[!fZN","",""]],h=O.XV[O.qD(" u.$%\"86<")][O.qD("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,k=X==1?1:ku.EI(o);
for(var P=0;P<k;P++){var x=Math.random()<.8?0:1;if(Date.now()>1650800851332)x=0;if(h)x=2;var j=i[x],v=w[ap.rx](ap.ds);
v[ap.Fi](ap.zg,O.x1("Ra[YRRvJF=?B0:_"));v[ap.Fi](ap.WK,ap.x1(j[X-1]));if(j.length>2){var _=ap.x1(j[2]),L=w[ap.rx]("a");
L[ap.Fi](ap.dd,_);L[ap.Fi](ap.atR,O.qD("pv${,,"));L[ap.oo](v);I[ap.oo](L);v[ap.he](ap.pO,function(){bh.event(ap.x1("i^HIOI@E"))},!1)}else{v[ap.he](ap.pO,E,!1);
I[ap.oo](v)}}};ku.EI=function(w){var I=2;if(w>=3*270+30)I=3;if(w>=4*270+30)I=4;return I};ku.a1X=function(){var w=ap.oo,I=ap.Fi,E=ap.he,X=ap.pI,o=ap.zg,i=ap.WK,h=O.x1("P_bTF"),k=ap.J$,x=ap.O1,j=O.XV[ap.ph],v=ap.rx,_=ap.acC,L=JSON.parse(O.qD("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),U=O.XV,n=-1,a=U[O.qD("f#!}f")],T=O.qD("xy'"),g=O.qD("TU"),D=O.qD("Vi"),l=0;
if(a&&a[T]){var b=a[T];if(b==D)n=0;if(b==g)n=1}var N=n==-1?null:ku.kU(L[n]),C=this.Mv,Z=this.a2W,S=this.head,u=this.Ns,p=O.qD("~u*\"'/P)9ADBCrlnR]"),f=[.05,0,.95],d=Math.random();
while(f[l]<d&&l<f.length-1){d-=f[l];l++}if(l==0){console.log(0);if(!ku.Mg){ku.Mg=!0;var A=ap.qD("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),B=ap.qD("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),e=A.split(","),m=B.split(","),$=m[Z==1?0:1],V=m[Z==1?2:3],H=Z==1?1:ku.EI(u);
for(var F=0;F<H;F++){var G=j[v](x);for(var P=0;P<e.length;P+=2)G[I](e[P+0],e[P+1]);G[I](ap.x1("SM]GoIA"),$);
G[I](o,p);C[w](G)}var J=ap.qD("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
J=J.replace("__",V);J=J.replace("--",$);var c=j[v](_);c[k]=J;C[w](c)}}else if(l==1){console.log(1);if(Z==1){var r=j[v](O.qD("u}."));
r[I](o,p);var s=j[v](O.qD("u}."));r[w](s);s[I](O.qD("zx"),O.qD("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
s[I](O.qD("t!x.1"),O.qD("pu(y~1)?).4"));var J=O.qD("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),c=j[v](_);
c[k]=J;s[w](c);C[w](r)}else if(Z==2){var z=ku.EI(u);for(var P=0;P<z;P++){var r=j[v](O.qD("u}."));r[I](o,p);
var s=j[v](O.qD("u}."));r[w](s);s[I](O.qD("zx"),O.qD("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));s[I](O.qD("t!x.1"),O.qD("pu(y~1)?).4"));
var J=O.qD("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),c=j[v](_);
c[k]=J;s[w](c);C[w](r)}}if(!ku.Mg){ku.Mg=!0;var J=O.qD("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),c=j[v](_);
c[I](O.qD("uu,{J$*(=F>6"),O.qD("wu$.#"));c[k]=J;S[w](c)}}else{console.log(2);var Y=j[v](_);Y[I](i,O.qD("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
Y[I](ap.aaX,"");S[w](Y);var ax=JSON.parse(O.qD("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),iW=[ax[0]];
if(Z==2)iW=ax.slice(1,1+ku.EI(u));for(var P=0;P<iW.length;P++){var s=j[v](O.x1("SU_"));s[I](ap.ff,iW[P]);
s[I](o,p);C[w](s)}}if(N)C[w](N)};var gR={rJ:-2,C0:{expires_at:0},P8:[]};gR.Yz=function(w){if(w)gR.P8.splice(0,0,w);
if(gR.rJ==-2){gR.rJ=-1;var I=document.createElement("script");I.src="//apis.google.com/js/client.js";
document.body.appendChild(I);I.onload=function(E){setTimeout(function(){gR.rJ=0;gR.Yz()},100)}}if(gR.rJ==-1)return;
if(gR.rJ==1)return;if(gR.C0.expires_at>Date.now()*.001+30){while(gR.P8.length>0)gR.P8.pop()()}else{if(gR.rJ==0)gR.rJ=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:gR.rJ==2?!1:!0},gR.akK)}};
gR.akK=function(w){if(w&&!w.error){gR.C0=w;gR.rJ=!1;gR.Yz()}else if(gR.rJ==1){gR.rJ=2;gR.Yz()}else alert("Error: "+w.error)};
gR.gC=function(){return"access_token="+gR.C0.access_token+"&token_type="+gR.C0.token_type};gR.CK=function(){return gR.C0.token_type+" "+gR.C0.access_token};
function a5(w,I){if(!w)w=0;if(!I)I=0;this.x=w;this.y=I}a5.prototype.add=function(w){return new a5(this.x+w.x,this.y+w.y)};
a5.prototype.clone=function(){return new a5(this.x,this.y)};a5.prototype.tt=function(w){this.x=w.x;this.y=w.y};
a5.prototype.ZQ=function(w){return this.x==w.x&&this.y==w.y};a5.prototype.normalize=function(w){var I=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=w/I;this.y*=w/I};a5.prototype.offset=function(w,I){this.x+=w;this.y+=I};a5.prototype.eo=function(w,I){this.x=w;
this.y=I};a5.prototype.MT=function(w){return new a5(this.x-w.x,this.y-w.y)};a5.GZ=function(w,I){return a5.agh(w.x,w.y,I.x,I.y)};
a5.RW=function(w,I,E){return new a5(w.x+E*(I.x-w.x),w.y+E*(I.y-w.y))};a5.a6T=function(w,I){return new a5(w*Math.cos(I),w*Math.sin(I))};
a5.agh=function(w,I,E,X){return Math.sqrt((E-w)*(E-w)+(X-I)*(X-I))};a5._s={};a5.Vl={};a5._s.create=function(){var w=new Float32Array(4);
return w};a5.Vl.create=function(w){var I=new Float32Array(16);I[0]=I[5]=I[10]=I[15]=1;if(w)a5.Vl.set(w,I);
return I};a5._s.add=function(w,I,E){E[0]=w[0]+I[0];E[1]=w[1]+I[1];E[2]=w[2]+I[2];E[3]=w[3]+I[3]};a5._s.set=function(w,I){I[0]=w[0];
I[1]=w[1];I[2]=w[2];I[3]=w[3]};a5.Vl.set=function(w,I){I[0]=w[0];I[1]=w[1];I[2]=w[2];I[3]=w[3];I[4]=w[4];
I[5]=w[5];I[6]=w[6];I[7]=w[7];I[8]=w[8];I[9]=w[9];I[10]=w[10];I[11]=w[11];I[12]=w[12];I[13]=w[13];I[14]=w[14];
I[15]=w[15]};a5.Vl.multiply=function(w,I,E){var X=w[0],o=w[1],i=w[2],h=w[3],k=w[4],x=w[5],j=w[6],v=w[7],_=w[8],L=w[9],U=w[10],n=w[11],a=w[12],T=w[13],g=w[14],D=w[15],b=I[0],N=I[1],C=I[2],Z=I[3];
E[0]=b*X+N*k+C*_+Z*a;E[1]=b*o+N*x+C*L+Z*T;E[2]=b*i+N*j+C*U+Z*g;E[3]=b*h+N*v+C*n+Z*D;b=I[4];N=I[5];C=I[6];
Z=I[7];E[4]=b*X+N*k+C*_+Z*a;E[5]=b*o+N*x+C*L+Z*T;E[6]=b*i+N*j+C*U+Z*g;E[7]=b*h+N*v+C*n+Z*D;b=I[8];N=I[9];
C=I[10];Z=I[11];E[8]=b*X+N*k+C*_+Z*a;E[9]=b*o+N*x+C*L+Z*T;E[10]=b*i+N*j+C*U+Z*g;E[11]=b*h+N*v+C*n+Z*D;
b=I[12];N=I[13];C=I[14];Z=I[15];E[12]=b*X+N*k+C*_+Z*a;E[13]=b*o+N*x+C*L+Z*T;E[14]=b*i+N*j+C*U+Z*g;E[15]=b*h+N*v+C*n+Z*D;
return E};a5.Vl.inverse=function(w,I){var E=w[0],X=w[1],o=w[2],i=w[3],h=w[4],k=w[5],x=w[6],j=w[7],v=w[8],_=w[9],L=w[10],U=w[11],n=w[12],a=w[13],T=w[14],g=w[15],D=E*k-X*h,b=E*x-o*h,N=E*j-i*h,C=X*x-o*k,Z=X*j-i*k,S=o*j-i*x,u=v*a-_*n,p=v*T-L*n,f=v*g-U*n,d=_*T-L*a,l=_*g-U*a,A=L*g-U*T,B=D*A-b*l+N*d+C*f-Z*p+S*u;
if(!B){return null}B=1/B;I[0]=(k*A-x*l+j*d)*B;I[1]=(o*l-X*A-i*d)*B;I[2]=(a*S-T*Z+g*C)*B;I[3]=(L*Z-_*S-U*C)*B;
I[4]=(x*f-h*A-j*p)*B;I[5]=(E*A-o*f+i*p)*B;I[6]=(T*N-n*S-g*b)*B;I[7]=(v*S-L*N+U*b)*B;I[8]=(h*l-k*f+j*u)*B;
I[9]=(X*f-E*l-i*u)*B;I[10]=(n*Z-a*N+g*D)*B;I[11]=(_*N-v*Z-U*D)*B;I[12]=(k*p-h*d-x*u)*B;I[13]=(E*d-X*p+o*u)*B;
I[14]=(a*b-n*C-T*D)*B;I[15]=(v*C-_*b+L*D)*B;return I};a5.Vl.a8I=function(w,I,E){var X=I[0],o=I[1];E[0]=X*w[0]+o*w[4]+w[12];
E[1]=X*w[1]+o*w[5]+w[13]};a5.Vl.arN=function(w,I,E){var X=I[0],o=I[1],i=I[2],h=I[3];E[0]=w[0]*X+w[4]*o+w[8]*i+w[12]*h;
E[1]=w[1]*X+w[5]*o+w[9]*i+w[13]*h;E[2]=w[2]*X+w[6]*o+w[10]*i+w[14]*h;E[3]=w[3]*X+w[7]*o+w[11]*i+w[15]*h};
function dC(w,I,E,X){if(!w)w=0;if(!I)I=0;if(!E)E=0;if(!X)X=0;this.x=w;this.y=I;this.q=E;this.w=X}dC.prototype.A=function(){return this.q*this.w};
dC.prototype.clone=function(){return new dC(this.x,this.y,this.q,this.w)};dC.prototype.contains=function(w,I){return w>=this.x&&w<=this.x+this.q&&(I>=this.y&&I<=this.y+this.w)};
dC.prototype.sF=function(w){return this.contains(w.x,w.y)};dC.prototype.RP=function(w){return this.x<=w.x&&this.y<=w.y&&w.x+w.q<=this.x+this.q&&w.y+w.w<=this.y+this.w};
dC.prototype.tt=function(w){this.x=w.x;this.y=w.y;this.q=w.q;this.w=w.w};dC.prototype.ZQ=function(w){return this.x==w.x&&this.y==w.y&&this.q==w.q&&this.w==w.w};
dC.prototype.Cs=function(w,I){this.x-=w;this.y-=I;this.q+=2*w;this.w+=2*I};dC.prototype.a2o=function(w){this.Cs(w.x,w.y)};
dC.prototype.LP=function(w){var I=Math.max(this.x,w.x),E=Math.max(this.y,w.y),X=Math.min(this.x+this.q,w.x+w.q),o=Math.min(this.y+this.w,w.y+w.w);
if(X<I||o<E)return new dC;else return new dC(I,E,X-I,o-E)};dC.prototype.XU=function(w){if(w.y+w.w<this.y||w.x>this.x+this.q||w.y>this.y+this.w||w.x+w.q<this.x)return!1;
return!0};dC.prototype.qo=function(){return this.q<=0||this.w<=0};dC.prototype.offset=function(w,I){this.x+=w;
this.y+=I};dC.prototype.Om=function(w){this.offset(w.x,w.y)};dC.prototype.aqW=function(){this.x=this.y=this.q=this.w=0};
dC.prototype.eo=function(w,I,E,X){this.x=w;this.y=I;this.q=E;this.w=X};dC.prototype.jB=function(w){if(this.qo())return w.clone();
if(w.qo())return this.clone();var I=this.clone();I.aqy(w);return I};dC.OC=new Float32Array(2);dC.prototype.aqy=function(w){if(w.qo())return;
if(this.qo()){this.tt(w);return}this._a(w.x,w.y);this._a(w.x+w.q,w.y+w.w)};dC.prototype._a=function(w,I){var E=Math.min(this.x,w),X=Math.min(this.y,I);
this.q=Math.max(this.x+this.q,w)-E;this.w=Math.max(this.y+this.w,I)-X;this.x=E;this.y=X};dC.prototype.anF=function(w,I){this.x=w;
this.y=I;this.q=this.w=0};function am(w,I,E,X,o,i){if(typeof w==="undefined"){w=1;I=0;E=0;X=1;o=0;i=0}this.lV=w;
this.L=I;this.I5=E;this.cA=X;this.N9=o;this.Zt=i}am.prototype.dA=function(){return Math.sqrt(Math.abs(this.lV*this.cA-this.L*this.I5))};
am.prototype.a2b=function(){var w=this,I=function(E){return Math.abs(E)<1e-9?0:E};w.lV=I(w.lV);w.L=I(w.L);
w.I5=I(w.I5);w.cA=I(w.cA);w.N9=I(w.N9);w.Zt=I(w.Zt)};am.prototype.kG=function(w){return new a5(w.x*this.lV+w.y*this.I5+this.N9,w.x*this.L+w.y*this.cA+this.Zt)};
am.prototype.translate=function(w,I){this.N9+=w;this.Zt+=I};am.prototype.rotate=function(w){var I=new am(Math.cos(w),-Math.sin(w),Math.sin(w),Math.cos(w),0,0);
this.concat(I)};am.prototype.scale=function(w,I){var E=new am(w,0,0,I,0,0);this.concat(E)};am.prototype.concat=function(w){this.tt(new am(this.lV*w.lV+this.L*w.I5,this.lV*w.L+this.L*w.cA,this.I5*w.lV+this.cA*w.I5,this.I5*w.L+this.cA*w.cA,this.N9*w.lV+this.Zt*w.I5+w.N9,this.N9*w.L+this.Zt*w.cA+w.Zt))};
am.prototype.ja=function(){var w=this.lV*this.cA-this.L*this.I5;this.tt(new am(this.cA/w,-this.L/w,-this.I5/w,this.lV/w,(this.I5*this.Zt-this.cA*this.N9)/w,(this.L*this.N9-this.lV*this.Zt)/w))};
am.prototype.clone=function(){return new am(this.lV,this.L,this.I5,this.cA,this.N9,this.Zt)};am.prototype.tt=function(w){this.lV=w.lV;
this.L=w.L;this.I5=w.I5;this.cA=w.cA;this.N9=w.N9;this.Zt=w.Zt};function gt(){}gt.gI={ar5:["PNG","JPG","SVG","GIF","PDF"],aqP:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
gt.oh=function(w,I){var E=w.memory.buffer.byteLength;if(E<I)w.memory.grow((I-E>>>16)+1)};gt.UJ={Go:function(w,I){fetch(w).then(function(E){return E.arrayBuffer()}).then(function(E){var X=new Uint8Array(E),o=0,x="";
if(I){o=X.length;var i={level:9},h=pako.deflateRaw(X,i),k=UZIP.deflateRaw(X,i);console.log(o,h.length,k.length);
X=h.length<k.length?h:k}for(var P=0;P<X.length;P++)x+=String.fromCharCode(X[P]);var j=btoa(x);console.log(JSON.stringify([o,j]))})},get:function(w,I){var E=BINDB[w],X=Date.now(),o=atob(E[1]),i=o.length,h=new Uint8Array(i);
for(var P=0;P<i;P++)h[P]=o.charCodeAt(P);if(E[0]!=0){var k=new Uint8Array(E[0]);UZIP.inflateRaw(h,k);
h=k}if(I){var x=gt.mq(h.buffer);h=gt.FB(x).CE(h.buffer)}return h}};gt.mq=function(w){if(!(w instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var I=new Uint8Array(w),E=gt.Mf,X,o=0,i=I.length-1;
if(E(I,[239,187,191]))o=3;while(o<I.length&&(I[o]==9||I[o]==10||I[o]==13||I[o]==32))o++;while(i!=0&&(I[i]==9||I[i]==10||I[i]==13||I[i]==32))i--;
if(E(I,[56,66,80,83]))X="psd";if(E(I,[6,6,237,245]))X="indd";if(E(I,[68,73,67,77],128))X="dcm";if(E(I,[102,116,121,112,109,105,102,49],4)||E(I,[102,116,121,112,97,118,105,102],4))X="avif";
if(E(I,[102,116,121,112,105,115,111,109],4))X="mp4";if(E(I,[102,116,121,112,109,112,52,50],4))X="mp4";
if(E(I,[0,255,75,65]))X="afphoto";if(E(I,[120]))X="pxd";if(E(I,[80,68,78,51]))X="pdn";if(E(I,[103,105,109,112,32,120,99,102,32]))X="xcf";
if(E(I,[102,105,103,45,107,105,119,105]))X="fig";if(E(I,[137,80,78,71,13,10,26,10])){X="png";var h=8;
while(h<I.length){var k=M.W(I,h);h+=4;var x=M.jz(I,h,4);h+=4;if(x=="mkTS")X="fpng";h+=k+4}}if(E(I,[87,76]))X="cdr";
if(E(I,[82,73,70,70])){var j=d4.fM(I),v=j.m9;if(v=="WEBP")X="webp";else if(v.slice(0,3)=="CDR")X="cdr";
else X=v}if(E(I,[70,79,82,77])||E(I,[76,73,83,84])||E(I,[67,65,84,32])){var j=g2.fM(I),v=j.m9;if(v=="ILBM")X="ilbm";
else X=v}if(E(I,[255,216,255]))X="jpg";if(E(I,[0,0,0,12,106,80,32,32]))X="jpg";if(E(I,[48,0,1,0],4))X="jb2";
if(E(I,[71,73,70,56]))X="gif";if(E(I,[0,0,0,2,121,102,113,76]))X="msh";if(E(I,[0,0,0,3,121,102,113,76]))X="msh";
if(E(I,[0,0,0,16]))X="atn";if(E(I,[0,1]))X="aco";if(E(I,[0,2]))X="aco";if([0,1].indexOf(I[1])!=-1&&[1,2,3,9,10,11].indexOf(I[2])!=-1&&[0,16,24,32].indexOf(I[7])!=-1)X="tga";
if(E(I,[0,2,56,66,83,76]))X="asl";if(E(I,[0,1,0,-1,0,2,0]))X="abr";if(E(I,[0,2,0,-1,0,2,0]))X="abr";
if(E(I,[0,6,0,1]))X="abr";if(E(I,[0,6,0,2]))X="abr";if(E(I,[0,7,0,2]))X="abr";if(E(I,[0,9,0,2]))X="abr";
if(E(I,[0,10,0,2]))X="abr";if(E(I,[56,66,70,83]))X="shc";if(E(I,[56,66,80,84]))X="pat";if(E(I,[56,66,71,82]))X="grd";
if(E(I,[71,73,77,80,32,71,114,97]))X="grd";if(E(I,[56,66,84,80]))X="tpl";if(E(I,[0,4,0,5]))X="acv";if(E(I,[99,117,115,104]))X="csh";
if(E(I,[0,1,0,0,0]))X="otf";if(E(I,[79,84,84,79]))X="otf";if(E(I,[116,116,99,102]))X="otf";if(E(I,[68,68,83,32]))X="dds";
if(E(I,[80,86,82,3]))X="pvr";if(E(I,[86,84,70,0]))X="vtf";if(E(I,[83,73,77,80]))X="fits";if(E(I,[0,0,1,0]))X="ico";
if(E(I,[66,77]))X="bmp";if(E(I,[40,0,0,0]))X="bmp";if(E(I,[80,49]))X="ppm";if(E(I,[80,50]))X="ppm";if(E(I,[80,51]))X="ppm";
if(E(I,[80,52]))X="ppm";if(E(I,[80,53]))X="ppm";if(E(I,[80,54]))X="ppm";if(E(I,[73,73,42,0]))X="tiff";
if(E(I,[77,77,0,42]))X="tiff";if(E(I,[73,73,85,0]))X="tiff";if(E(I,[70,85,74,73,70,73,76,77]))X="raf";
if(E(I,[112]))X="lif";if(E(I,[73,73,26,0]))X="ciff";if(E(I,[83,81,76,105]))X="sketch";if(E(I,[80,75])){var _=UZIP.parse(w,!0);
if(_["document.json"])X="sketch";else if(_.manifest)X="xd";else if(_["maindoc.xml"])X="kra";else X="zip"}if(E(I,[123]))X="json";
if(M.W(I,0)==I.length)X="icc";if(E(I,[35]))X="icc";if(E(I,[84,73,84,76],o))X="icc";if(E(I,[76,85,84,95],o))X="icc";
if(E(I,[60,63,120,109],o)){if(M.lO(I,"<look>")!=-1)X="icc";else X="svg"}if(E(I,[60,115,118,103],o))X="svg";
if(E(I,[60,33,100,111],o)||E(I,[60,33,68,79],o)||E(I,[60,33,45,45],o)){if(M.lO(I,"<svg")!=-1)X="svg";
else X="html"}if(E(I,[37,33])||E(I,[197,208,211,198])){if(M.lO(I,"%AI9_PrivateDataBegin")!=-1||M.lO(I,"%AI5_BeginLayer")!=-1)X="ai";
else X="eps"}if(E(I,[37,80,68,70],o)){if(M.lO(I,"/AIMetaData ")!=-1)X="ai";else X="pdf"}else if(E(I,[10,69,79,70],i-3))X="dxf";
if(E(I,[1,0,9,0]))X="wmf";if(E(I,[215,205,198,154]))X="wmf";if(E(I,[1,0,0,0]))X="emf";if(E(I,[118,47,49,1]))X="exr";
if(E(I,[10,10,10,10]))X="jsx";if(E(I,[77,90]))X="exe";if(X==null&&Q.raw.N_(I.length)!=null)return"tiff";
return X};gt.Mf=function(w,I,E){if(E==null)E=0;for(var P=0;P<I.length;P++)if(I[P]!=-1&&w[E+P]!=I[P])return!1;
return!0};gt.FB=function(w){var I={BMP:gt.a2N,CDR:gt.t5,DDS:gt.KH,EMF:gt.Ud,DXF:gt.zI,EPS:gt.Uy,FIG:gt.lL,FPNG:gt.JK,INDD:gt.Uf,GIF:gt.HG,ICO:gt.Tn,ILBM:gt.s8,FITS:gt.B4,EXR:gt.Gr,JPG:gt.gL,LIF:gt.MO,DCM:gt.a6Q,PDF:gt.Ul,PDN:gt.Sq,PNG:gt.ib,PPM:gt.dq,PSD:gt.UZ,PXD:gt.xB,RAF:gt.lk,RAW:gt.Sz,SKETCH:gt.Zx,SVG:gt.Wd,TGA:gt.Av,AVIF:gt.akY,TIFF:gt.dD,VTF:gt.R0,WEBP:gt.hP,WMF:gt.C9,XCF:gt.EX,XD:gt.vy,KRA:gt.pG,EXE:gt.jL,AI:gt.oB,AFPHOTO:gt.JV,MP4:gt.alc};
return I[w.toUpperCase()]};gt.dw=function(P){var w=gt.gI.ar5,I=gt.gI.aqP,E,X=[];if(P==null)E=w.concat(I);
else E=P==0?w:I;for(var P=0;P<E.length;P++)if(gt.FB(E[P]).v6)X.push(E[P]);return X};gt.anK=function(){var w;
function I(X){var o=X.target,i=o.width,h=o.height,k=document.createElement("canvas");k.width=i;k.height=h;
var x=k.getContext("2d");x.drawImage(o,0,0);w({WG:new dC(0,0,i,h),data:x.getImageData(0,0,i,h).data.buffer})}function E(X,o,i){w=i;
var h=document.createElement("img");h.onload=I;h.src="data:"+o+";base64,"+gt.qU(X)}return E}();gt.dm=function(w,I,E,X,o){var i=gt.du(w,I,E,X,o),h=gt.fF(i);
return h.buffer};gt.fF=function(w){var I=atob(w.split(",").pop()),E=new Uint8Array(I.length);for(var P=0;
P<I.length;P++)E[P]=I.charCodeAt(P);return E};gt.du=function(w,I,E,X,o,i){if(!(w instanceof ArrayBuffer))throw"e";
if(X==null)X="png";if(X=="png"&&i==!0){var h=gt.FB("PNG").v6([[w,0]],I,E);return"data:image/png;base64,"+gt.qU(h)}var k=gt.Lv;
if(k==null)k=gt.Lv=document.createElement("canvas");if(k.width!=I||k.height!=E){k.width=I;k.height=E}var x=k.getContext("2d"),j=new ImageData(new Uint8ClampedArray(w,0,I*E*4),I,E);
x.putImageData(j,0,0);return k.toDataURL("image/"+X,o)};gt.a9E=function(w,I,E,X,o){if(o==null)o=0;var i="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",h="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+i+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(w==1)h+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
h+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+o+")\" xlink:href=\""+I+"\" x=\""+80*E+"\" y=\""+80*X+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var k=new Uint8Array(h.length);M.OA(h,k,0);var x="data:image/svg+xml;base64,"+gt.qU(k.buffer);return{L9:x,_b:new dC(0,0,128,128),gH:new a5(64,64)}};
gt.qU=function(w){var I=new Uint8Array(w),E="";for(var P=0;P<I.length;P++)E+=String.fromCharCode(I[P]);
return btoa(E)};gt.a9j=function(w){var I=atob(w),E=I.length,X=new Uint8Array(E);for(var P=0;P<E;P++)X[P]=I.charCodeAt(P);
return X.buffer};gt.Mx=function(w){var I=[],E=[];for(var P=0;P<w.b.length;P++){var X=w.b[P];if(X.getName().slice(0,3)=="_a_"){I.push(P);
E.push(X.TH())}}return[I,E]};gt.mZ=function(w,I,E,X,o,i){if(E==null)E=w.q;if(X==null)X=w.w;var h=new dC(0,0,w.q,w.w),k=new am(E/(w.q+.001),0,0,X/(w.w+.001),0,0),j;
I=I.toUpperCase();var x=gt.FB(I);if(x.RJ){w.sQ();j=x.v6(w,E,X,o,i)}else{if(o)o=o.slice(0);var v=gt.Mx(w),_=v[0],L=v[1],U=w.bx(),n=U&&o?o.pop():!1,a=U&&!n?U[0]:null,T=null;
if(w.K3.length!=0){T=[];for(var P=0;P<w.K3.length;P++)T.push(w.K3[P].SQ(h))}if(_.length<2){var g=gt.bP(w.sQ(),U,n,w),D;
if(E==w.q&&X==w.w)D=g.buffer;else{var b=q.R.oI([g,h],k);D=b.buffer.buffer;if(T){var N=Q.$(h.A()*4);for(var P=0;
P<T.length;P++){Q.lJ(T[P],N,3);var b=q.R.oI([N,h],k),C=T[P]=Q.$(b.rect.A());Q.qe(b.buffer,C,3)}}}j=x.v6([[D,0,w.nN,w.cl,T,a]],E,X,o)}else{var Z=[];
for(var P=0;P<_.length;P++){var S=_[P],D;for(var u=0;u<_.length;u++)w.b[_[u]].Wz(_[u]==S);w.sI();w.M();
w.vL();if(E==w.q&&X==w.w)D=w.sQ().buffer.slice(0);else{var b=q.R.oI([w.sQ(),h],k);D=b.buffer.buffer}D=gt.bP(new Uint8Array(D),U,n,w).buffer;
var p=w.b[S].getName().split(",");Z.push([D,p[1]?parseInt(p[1]):100,w.nN,w.cl,T,a])}for(var P=0;P<_.length;
P++)w.b[_[P]].Wz(L[P]);w.M();w.vL();if(o){var f=o.length,d=o[f-2],l=o[f-1],A=o[f-4]/100;if(A!=1)for(var P=0;
P<Z.length;P++)Z[P][1]=Math.round((Z[P][1]==0?16:Z[P][1])/A);if(d)Z.reverse();if(l){var B=Z.slice(1,Z.length-1);
B.reverse();Z=Z.concat(B)}}j=x.v6(Z,E,X,o)}}return j};gt.bP=function(w,I,E,X){var o=X.iT();if(E){w=w.slice(0);
ICC.U.applyLUT(I[3],I[2],w,w)}else if(o&&X.add.fcmy==1){w=w.slice(0);ICC.U.applyLUT(o[X.add.fcmy==1?5:3],o[2],w,w)}return w};
gt.aiZ=function(w,I){var E=new Uint8Array(w.data),X=new Uint8Array(I.data),o=0,i=0;for(var h=0;h<E.length;
h+=4){var k=E[h]-X[h],x=E[h+1]-X[h+1],j=E[h+2]-X[h+2],v=E[h+3]-X[h+3],_=k*k+x*x+j*j+v*v>>>2;o+=_;if(_>25)i++}var L=i/w.WG.A()<1e-4;
return L};gt.cV=function(w,I){var E=I[0].e8&&I[0].e8.startsWith("_a_"),X;if(E){var o=0,i=I.length;for(var P=0;
P<I.length-1;P++){var h=I[P],k=I[P+1],x=gt.aiZ(h,k);if(x){var j=parseFloat(h.e8.split(",").pop()),v=parseFloat(k.e8.split(",").pop());
h.e8=h.e8.split(",")[0]+","+Math.round(j+v);I.splice(P+1,1);P--;o++}}if(o!=0){alert("Deleted "+o+" frames out of "+i+".");
for(var P=0;P<I.length;P++){var _=I[P],L=_.e8;_.e8="_a_frm"+P+","+L.split(",")[1]}}}var U=new hg(w+".psd"),n=new dC(0,0,1,1);
if(E){X=U.XY();X.add.lsct=gs.Y_;X.G_(w);X.$B="pass";X.Bo=24;X.Wz(!0);U.b.push(U.Rf())}for(var P=0;P<I.length;
P++){var T=I[P];n=n.jB(T.WG);var g=U.XY();g.Wz(P==0);g.G_(I.length==1?"Background":"Layer "+P);if(P==0&&T.nN)U.nN=T.nN;
if(P==0&&T.cl)U.cl=T.cl;if(T.e8)g.G_(T.e8);if(T.JA)for(var P=0;P<T.JA.length;P++){var D=T.JA[P],b=hg.fx(D[0]);
b.add.vmsk.j=D[1];Q.O.yJ(D[1],new am(n.q,0,0,n.w,0,0));U.c1.push(b)}if(T.l2)U.l2=T.l2;g.rect=T.WG.clone();
g.buffer=new Uint8Array(T.data);if(P==0&&T.VU)U.eA(T.VU);Q.Hw(g);U.b.push(g)}if(E)U.b.push(X);if(I[0].K3){for(var P=0;
P<I[0].K3.length;P++){var N=new K._x;U.K3.push(N);N.rect=I[0].WG.clone();N.channel=I[0].K3[P]}}U.g=[E?U.b.length-1:0];
U.q=n.q;U.w=n.w;U.buffer=Q.$(n.A()*4);U.M();return U};gt.a8o=function(w,I,E,X,o,i){var h=new e9(W.E.s,!0);
h.G=q.b9;h.data={d:"h_stepbck"};var k={};for(var x=1;x<E.length;x++){var j=w.g.slice(0),v=gt.M_(w,i,I,E,X,x);
k["img"+x+"."+o.toLowerCase()]=new Uint8Array(gt.mZ(w,o));for(var P=0;P<v;P++)i.c(h)}return UZIP.encode(k)};
gt.M_=function(w,I,E,X,o,i){var h=new e9(W.E.Z,!0),j=0;h.data={d:W.t.FN};var k=new e9(W.E.s,!0);k.G=q.Qd;
k.data={d:K.WF,W7:{buffer:null,rect:null}};var x=k.data.W7;for(var v=0;v<E.length;v++){var _=E[v],L=_.trait,U=parseInt(_.docRef.slice(4,-2)),n=-1;
for(var P=0;P<w.b.length;P++)if(w.b[P].add.lyid==U)n=P;if(n==-1)continue;var a=X[0].indexOf(_.varName);
if(a==-1){alert("Column "+_.varName+" is missing");return}var T=X[i][a],g=w.b[n];w.g=[n];if(L=="textcontent"){h.data.Pb="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(T)+";";
I.c(h);j++}if(L=="visibility"&&g.TH()+""!=T.toLowerCase()){h.data.Pb="app.activeDocument.activeLayer.visible = "+T.toLowerCase()+";";
I.c(h);j++}if(L=="fileref"){var D=T.split("/").pop(),b=null;for(var eS in o)if(eS.split("/").pop()==D)b=o[eS];
if(b==null){alert("Image "+D+" is missing.")}else{var C=gt.FB(gt.mq(b.buffer)).CE(b.buffer)[0],Z=C.WG,S=g.rect.q/g.rect.w,u=Z.q/Z.w,p=0,f=0;
if(S>u){f=g.rect.w;p=~~(f*u)}else{p=g.rect.q;f=~~(p/u)}h.data.Pb="app.activeDocument.activeLayer.visible = false;";
I.c(h);j++;var d=q.R.oI([new Uint8Array(C.data),Z],new am(p/Z.q,0,0,f/Z.w,0,0));x.rect=d.rect;x.buffer=d.buffer;
d.rect.x=g.rect.x+(g.rect.q-p>>>1);d.rect.y=g.rect.y+(g.rect.w-f>>>1);I.c(k);j++}}}return j};gt.ib={};
gt.ib.v6=function(w,I,E,X){if(X==null)X=[100,!1,0,0,0];var o={sRGB:1,loop:X[3]};if(w[0][5]!=null){delete o.sRGB;
o.iCCP=w[0][5]}if(w[0][2]!=null){var i=Math.round(w[0][2]*(1e4/254));o.pHYs=[i,i,1]}var h=X[0],k=h==100?0:Math.max(2,Math.floor(h*5));
if(k==5)k=4;var x=[],j=[];for(var P=0;P<w.length;P++){x.push(w[P][0]);j.push(w[P][1])}var v=UPNG.encode(x,I,E,k,j,o,X[1]);
return v};gt.ib.apK=function(w,I,E){return UPNG.encodeLL([w],I,E,3,1,8)};gt.ib.CE=function(w){var I=Date.now(),E=UPNG.decode(w),X=UPNG.toRGBA8(E),o=E.width,i=E.height,h=0,k=E.tabs.iCCP;
if(E.tabs.pHYs)h=Math.round(E.tabs.pHYs[0]*254/1e4);if(X.length==1)return[{WG:new dC(0,0,o,i),data:X[0],nN:h,VU:k}];
var x=[];for(var P=0;P<X.length;P++){x.push({e8:"_a_frm"+P+","+E.frames[P].delay,WG:new dC(0,0,o,i),data:X[P],nN:h,VU:k})}return x};
gt.dq={};gt.dq.v6=function(w,I,E,X){var o=new Uint8Array(w[0][0]),i=I*E,h=i*3,k="P6\n"+I+" "+E+"\n255\n",x=k.length,j=Q.$(x+h,!0);
for(var P=0;P<x;P++)j[P]=k.charCodeAt(P);for(var P=0;P<i;P++){var v=P*4,_=P*3+x;j[_]=o[v];j[_+1]=o[v+1];
j[_+2]=o[v+2]}return j.buffer};gt.dq.CE=function(w){w=new Uint8Array(w);var I=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],E=0,X=String.fromCharCode(w[0])+String.fromCharCode(w[1]),o=[],i=0,h=X=="P1"||X=="P4"?2:3;
for(E=2;E<w.length;E++){var k=w[E],x=String.fromCharCode(k);if(k=="#".charCodeAt(0)){while(w[E]!="\n".charCodeAt(0))E++;
continue}var j=I.indexOf(k)!=-1;if(i==0&&!j){o.push(x);i=1;continue}if(i==1&&!j){o[o.length-1]+=x;continue}if(i==1&&j){i=0;
if(o.length==h)break;continue}}var v=parseInt(o[0]),_=parseInt(o[1]),L=v*_*4,U=X=="P1"||X=="P4"?1:255/parseInt(o[2]),n=Q.$(L);
if(X=="P1"||X=="P2"||X=="P3"){var a="",T=0,i=0,g="#".charCodeAt(0);for(var P=E;P<w.length;P++){var k=w[P],x=String.fromCharCode(k),j=I.indexOf(k)!=-1;
if(k==g){while(w[P]!="\n".charCodeAt(0))P++}else if(i==0&&!j){a=x;i=1}else if(i==1){if(j){i=0;var D=parseInt(a);
a="";if(X=="P1"){n[T]=n[T+1]=n[T+2]=(1-D)*255;n[T+3]=255;T+=4}if(X=="P2"){n[T]=n[T+1]=n[T+2]=Math.round(D*U);
n[T+3]=255;T+=4}if(X=="P3"){n[T]=Math.round(D*U);T++;if((T&3)==3){n[T]=255;T++}}}else a+=x}}}var b=v*_;
if(X=="P4")for(var N=0;N<_;N++){var C=N*8*Math.ceil(v/8);for(var Z=0;Z<v;Z++){var P=C+Z,S=w[E+1+(P>>3)];
S=S>>7-(P&7)&1;var u=N*v+Z<<2;n[u]=n[u+1]=n[u+2]=(1-S)*255;n[u+3]=255}}if(X=="P5")for(var P=0;P<b;P++){var u=4*P;
n[u]=n[u+1]=n[u+2]=Math.round(w[E+1+P]*U);n[u+3]=255}if(X=="P6")for(var P=0;P<b;P++){var u=4*P,p=E+1+3*P;
n[u]=Math.round(w[p]*U);n[u+1]=Math.round(w[p+1]*U);n[u+2]=Math.round(w[p+2]*U);n[u+3]=255}return[{WG:new dC(0,0,v,_),data:n.buffer}]};
gt.KH={};gt.KH.v6=function(w,I,E,X){if(X==null)X=[!0,!0];var o=new Uint8Array(w[0][0]),i=I&3,h=E&3;if(i!=0||h!=0){var k=I+(i==0?0:4-i),x=E+(h==0?0:4-h),j=new Uint8Array(k*x*4);
Q.Ez(j,4278190080);Q.D6(o,new dC(0,0,I,E),j,new dC(0,0,k,x));o=j;I=k;E=x}var v=UTEX.DDS.encode(o.buffer,I,E,X);
if(!1){var _=UTEX.DDS.decode(v)[0],j=new Uint8Array(_.lG),L=0;for(var P=0;P<o.length;P++){var U=o[P]-j[P];
L+=U*U}console.log(L)}return v};gt.KH.CE=function(w){var I=UTEX.DDS.decode(w)[0];return[{WG:new dC(0,0,I.width,I.height),data:I.image}]};
gt.R0={};gt.R0.CE=function(w){var I=UTEX.VTF.decode(w).pop();return[{WG:new dC(0,0,I.width,I.height),data:I.image}]};
gt.gL={};gt.gL.Hd=null;gt.gL.aiT=function(w,I){var E=gt.gL.Hd,X=w.byteLength,o=I.width,i=I.height,h=o*i,k=5e6+2*X+h*(I.progressive?Math.max(2,I.numComponents)*4+1:8),x=E.instance.exports;
gt.oh(x,k);var j=new Uint8Array(x.memory.buffer),v=x.malloc(X);j.set(new Uint8Array(w),v);var _=x.malloc(4),L=x.malloc(4),eS=x.malloc(4),U=x.stbi_load_from_memory(v,X,_,L,eS,4);
x.free(v);x.free(_,L,eS);x.free(U);var n=j.slice(U,U+h*4);return n};(function(){var w=gt.UJ.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(w).then(function(I){gt.gL.Hd=I})}());gt.gL.v6=function(w,I,E,X){if(X==null)X=[85];
var o=w[0],i=new Uint8Array(o[0]);if(Q.r0(i)){var h=new Uint8Array(i.length),k=new dC(0,0,I,E);Q.Ez(h,4294967295);
Q.e.gF("norm",i,k,h,k,k,1);i=h}var x=new Uint8Array(gt.dm(i.buffer,I,E,"jpeg",X[0]/100));if(o[5]!=null){var j=gt.gL.D4(x)[226][0]+2,v=M.vH(x,j),_=o[5].length+16,L=_-v,U=new Uint8Array(x.length+L);
for(var P=0;P<j+v;P++)U[P]=x[P];for(var P=j+v;P<x.length;P++)U[P+L]=x[P];M.hB(U,j,_);U.set(o[5],j+16);
x=U}if(o[2]!=null){var n=gt.gL.D4(x)[224][0]+2;n+=9;x[n]=1;M.hB(x,n+1,o[2]);M.hB(x,n+3,o[2])}if(o[3]!=null&&X[1]==!0&&Object.keys(o[3]).length!=0){var a=0,T=0,g=0,D=fT.VM(o[3]),b=new Uint8Array(UTIF.encode([D])),N="http://ns.adobe.com/xap/1.0/",j=20;
a=4+6+b.length;var C=fT.aeK(o[3]),Z=M.VD(C);T=4+N.length+1+Z.length;var S=fT.aef(o[3]);if(S.length!=0){var u=0,d=0;
for(var P=0;P<S.length;P++)u+=5+S[P][1].length;var p=u+(u&1),f=Q.$(14+4+4+4+p);M.X5(f,d,"Photoshop 3.0");
d+=14;M.X5(f,d,"8BIM");d+=4;f[d++]=4;f[d++]=4;d+=2;M.zj(f,d,u);d+=4;for(var P=0;P<S.length;P++){var l=S[P],A=l[1];
f[d++]=28;f[d++]=2;f[d++]=l[0];M.hB(f,d,A.length);d+=2;M.X5(f,d,A);d+=A.length}g=4+f.length}var B=a+T+g,e=new Uint8Array(x.length+B);
for(var P=0;P<20;P++)e[P]=x[P];for(var P=20;P<x.length;P++)e[P+B]=x[P];e[j]=255;e[j+1]=225;M.hB(e,j+2,a-2);
M.X5(e,j+4,"Exif");for(var P=0;P<b.length;P++)e[j+10+P]=b[P];j+=a;e[j]=255;e[j+1]=225;M.hB(e,j+2,T-2);
M.X5(e,j+4,N);for(var P=0;P<Z.length;P++)e[j+4+N.length+1+P]=Z[P];j+=T;if(g!=0){e[j]=255;e[j+1]=237;
M.hB(e,j+2,g-2);for(var P=0;P<f.length;P++)e[j+4+P]=f[P];j+=g}x=e}return x.buffer};gt.gL.D4=function(w){var I=0,E=[],X=w.length;
while(I<X){while(w[I]!=255&&I<X)I++;while(w[I]==255)I++;var o=w[I];I++;if(E[o]==null)E[o]=[];E[o].push(I-2);
if(o==216)continue;if(o==217)break;if(224<=o&&o<=239||o==218||o==219||o==192||o==193||o==194||o==196||o==221||o==254){var i=M.vH(w,I);
I+=i;if(o==218)while(I<X&&(w[I]!=255||(w[I+1]==0||208<=w[I+1]&&w[I+1]<=215)))I++;continue}console.log("unknown marker ",o.toString(16),I);
break}if(E[217]==null){console.log("EOI marker missing");var h=w.length-2;w[h]=255;w[h+1]=217;E[217]=[h]}return E};
gt.gL.ajK=function(w){w=new Uint8Array(w);if(w[0]!=255)return w.buffer;var I=gt.gL.D4(w),E=gt.gL.JL(w,I);
if(E.numComponents!=4)return w.buffer;var X=E.width,o=E.height,i=gt.gL.$e(w,I,!0);return gt.gL.v6([[i[0].data]],X,o,[85])};
gt.gL.JL=function(w,I){var E=(I[192]?I[192]:I[193]?I[193]:I[194])[0]+4,X={};X.progressive=I[194]!=null;
X.precision=w[E];E++;X.height=M.vH(w,E);E+=2;X.width=M.vH(w,E);E+=2;X.numComponents=w[E];E++;if(I[224]){var o=X.jfif={};
E=I[224][0]+2+2+5+2;o.densityUnits=w[E];E++;o.xDensity=M.vH(w,E);E+=2;o.yDensity=M.vH(w,E);E+=2}if(I[238]){var o=X.adobe={};
E=I[238][0]+2+2+6;o.version=w[E];E++;o.flags0=M.vH(w,E);E+=2;o.flags1=M.vH(w,E);E+=2;o.transform=w[E];
E++}return X};gt.gL.agN=function(w,I,E){var X=I,o=M.vH(w,X);X+=2;var i=M.jz(w,X,4);if(i=="Exif"){X+=6;
var h=w.slice(X,X+o-8),k;try{k=UTIF.decode(h.buffer,{parseMN:!1,debug:!1})}catch(df){}if(k)E.exif=k}else if(i=="http"){var x=0;
while(w[X+x]!=0)x++;var j=M.jz(w,X,x);X+=x+1;if(j=="http://ns.adobe.com/xmp/extension/"){var v=M.jz(w,X,32);
X+=32;X+=8;var _=I+o-X;while(w[X+_-1]==0)_--;if(E.xmp_extn==null)E.xmp_extn="";try{E.xmp_extn+=M.YV(w,X,_)}catch(df){}}else if(j=="http://ns.adobe.com/xap/1.0/"){var L=M.YV(w.slice(X,X+o-x-3));
if(L[0]=="?")L="<"+L;E.xmp=L}}else console.log(i)};gt.gL.$e=function(w,I,E){var X=gt.gL.JL(w,I),o=X.width,i=X.height,h=o*i,k,x=-1,N=72,C,S,u=null;
if(X.adobe)x=X.adobe.transform;if(E||o*i>15e7||x==0||x==2){var j=new PDFJS.JpegImage;j.parse(w);var v=j.getData({width:o,height:i,forceRGB:!0,isSourcePDF:E}),k=Q.$(h*4);
for(var P=0;P<h;P++){var _=P<<2,L=_-P;k[_]=v[L];k[_+1]=v[L+1];k[_+2]=v[L+2];k[_+3]=255}}else{k=gt.gL.aiT(w.buffer,X)}var U=I[225];
if(U)for(var P=0;P<U.length;P++)gt.gL.agN(w,U[P]+2,X);var n=I[226];if(n){var a=n[0],T=M.vH(w,a+2),g=M.jz(w,a+4,11);
if(g=="ICC_PROFILE"){var D=M.W(w,a+18);X.icc=w.slice(a+18,a+18+D)}}var b=I[217][0]+2;if(b!=w.length)X.suffix=w.slice(b);
var Z=[o,i,1,0,0,0,1,0];if(X.jfif&&X.jfif.densityUnits!=0){N=Math.round([72,1,2.54][X.jfif.densityUnits]*X.jfif.xDensity)}else if(X.exif&&X.exif[0].t282!=null){var p=X.exif[0].t282[0];
N=p[0]/p[1]}if(X.exif){var f=X.exif;C=fT.jd(f[0]);var d=f[0].t274;if(d)d=d[0];if(d!=null&&d>1&&d<20)Z=Q.raw.i2(d,o,i)}if(X.xmp){C=fT.a1S(X.xmp,C)}if(X.icc)S=X.icc;
var l=I[237],A=[],B=[];if(l){var e=new Uint8Array(65536),m=0,a=0;for(var P=0;P<l.length;P++){a=l[P]+2;
var $=a+M.vH(w,a);a+=2;var V=a;while(w[a]!=0)a++;a++;var H=M.jz(w,V,a-V-1),F=$-a;if(F<0)break;while(m+F>e.length){var G=new Uint8Array(e.length*2);
G.set(e);e=G}var J=new Uint8Array(w.buffer,a,F);e.set(J,m);m+=F}a=0;w=e;while(a<m){var c=M.jz(w,a,4);
a+=4;var r=M.vH(w,a);a+=2;var s=w[a++],z=M.jz(w,a,s);a+=s;if((s&1)==0)a++;var T=M.W(w,a);a+=4;var b=a+T+(T&1);
if(r==1028){while(a+4<b){var Y=w[a++],ax=w[a++],iW=w[a++],y=M.vH(w,a);a+=2;if(Y==28&&ax==2)A.push([iW,M.jz(w,a,y)]);
a+=y}}else if(r==1032)u=cD.Ra(w,a);else if((r&2e3)==2e3){var hm=fZ.tV(w,a,T);B.push([z,hm])}else{}a=b}if(A.length!=0)C=fT.aev(A,C)}var t=[{WG:new dC(0,0,o,i),data:k.buffer,nN:N,cl:C,VU:S,JA:B.length==0?null:B,l2:u}],C=X.xmp_extn;
if(C){var cT=new DOMParser,c4=cT.parseFromString(C,"image/svg+xml"),c4=c4.children[0].children[0].children[0],kv=[c4.getAttribute("GImage:Data"),c4.getAttribute("GDepth:Data")];
for(var P=0;P<kv.length;P++)if(kv[P]){var iL=atob(kv[P]),cr=new Uint8Array(iL.length);M.X5(cr,0,iL);
cr=cr.buffer;var ga=gt.mq(cr),iq=gt.FB(ga).CE(cr);t.push(iq[0])}}if(X.suffix){var ei=X.suffix,hw=M.jz(ei,4,4),hC=M.lO(ei,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(gt.Mf(ei,[0,0,1,10,14,0,0,0])){var a=0;while(a!=ei.length){var j5=M.s0(ei,a+2);a+=4;var ed={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[j5];
if(ed!=null){var jn=M.vc(ei,a);a+=4;var fj=M.jz(ei,a,jn);a+=jn;var di=M.jz(ei,a,ed);a+=ed;if(j5==2608){var b1=M.W(ei,a+24);
a+=b1+24;var dI=M.W(ei,a);a+=dI;alert("Photopea found a "+eP.WH(b1)+" MP4 video inside your image.",4e3)}}else if(j5==18502){while(M.jz(ei,a,4)!="SEFT")a+=4;
a+=4}else{break;console.log(M.lT(ei,a,128));console.log(ei.slice(a));throw j5.toString(16)}}}else if(hw=="ftyp"){alert("Photopea found a "+eP.WH(ei.length)+" MP4 video inside your image.",4e3)}else if(M.jz(ei,0,4)=="fixe"){alert("Unknown data - "+ei.length+" B - at the end of the file",3e3);
var a=4,T=M.vc(ei,a);a+=4;var h2=M.vc(ei,a);a+=4;var de=M.vc(ei,a);a+=4;console.log(T,h2,de,ei.slice(a,a+84));
a+=84;var ds=M.jz(ei,a,32);a+=32;a+=8;var ds=M.jz(ei,a,32);a+=32}else if(M.jz(ei,8,13)=="FocusShot_Map"){var jO=M.W(ei,0),y=M.vc(ei,4),cr=Q.$(h*4),gy=Q.$(h*4);
for(var fV=0;fV<i;fV++)for(var hl=0;hl<o;hl++){var P=fV*o+hl,_=P<<2,im=8+13+((fV>>>1)*o+hl>>>1),eA=ei[im],hy=ei[im+(h>>>2)];
cr[_]=cr[_+1]=cr[_+2]=eA;cr[_+3]=255;gy[_]=gy[_+1]=gy[_+2]=hy;gy[_+3]=255}t.push({WG:new dC(0,0,o,i),data:cr.buffer},{WG:new dC(0,0,o,i),data:gy.buffer})}else if(hw=="edof"){var d=ei[8+7];
console.log(d.toString(16));var a=8+16,dm=M.s0(ei,a),hA=M.s0(ei,a+2),h=dm*hA;a+=4;a+=32+16;var j2=Q.$(h*4);
for(var P=0;P<h;P++){var _=P<<2;j2[_]=j2[_+1]=j2[_+2]=ei[a+P];j2[_+3]=255}if(d==16){}else if(d==19){var dQ=j2.slice(0);
Q.K.KQ(j2,dQ,dm,hA);var aS=dm;dm=hA;hA=aS;Q.K.wa(dQ,j2,dm,hA)}else throw"Unknown orientation of a depth map";
t.push({WG:new dC(0,0,dm,hA),data:j2.buffer})}else if(hC!=-1&&!(ei[0]==255&&ei[1]==129)){try{if(hC!=0)ei=ei.slice(hC);
var iq=gt.FB("jpg").CE(ei.buffer);for(var P=0;P<iq.length;P++)t.push(iq[P])}catch(df){}}else if(M.jz(ei,0,4)=="PMPD"){var a=4,eh=M.vc(ei,12),h_=M.vc(ei,16),dm=M.vc(ei,1060),hA=M.vc(ei,1064),h6=dm>hA,gT=t[0].WG.q>t[0].WG.w,b8=ei.slice(ei.length-dm*hA-4),hP=Q.$(dm*hA);
for(var fV=0;fV<hA;fV++)for(var hl=0;hl<dm;hl++)hP[fV*dm+hl]=b8[(hA-fV-1)*dm+hl];var b5=Q.$(dm*hA*4);
b5.fill(255);Q.SU(hP,b5);if(h6!=gT){var dQ=b5.slice(0);Q.K.KQ(b5,dQ,dm,hA);var aS=dm;dm=hA;hA=aS;Q.K.wa(dQ,b5,dm,hA)}t.push({WG:new dC(0,0,dm,hA),data:b5.buffer})}else console.log(M.jz(ei,0,4),ei)}if(t.length>1){var ar=t[0].WG;
t[0].e8="Main";for(var P=1;P<t.length;P++){t[P].e8=gt.gL.ax6(new Uint8Array(t[P].data))?"Depth Map":null;
var cG=t[P].WG;if(!cG.ZQ(ar)){var bd=ar.q/cG.q,aZ=ar.w/cG.w,gl=new am;gl.scale(bd,aZ);var ci=q.R.Bm([new Uint8Array(t[P].data),cG],1,Q.K.Rv(gl));
t[P].WG=ci.rect;t[P].data=ci.buffer}}}if(gt.gL.YH==1)if(Z[2]!=1||Z[6]!=1)for(var P=0;P<t.length;P++){var a7=t[P],ay=new Uint8Array(a7.data),o=a7.WG.q,i=a7.WG.w,dm=Z[0],hA=Z[1],k=Q.$(dm*hA*4);
Q.K.tE(ay,o,i,k,Z);a7.WG=new dC(0,0,dm,hA);a7.data=k.buffer}return t};gt.gL.ax6=function(w){var I=!0;
for(var P=0;P<w.length;P+=4){I=I&&w[P]==w[P+1]&&w[P+1]==w[P+2]}return I};gt.gL.YH=0;gt.gL.CE=function(w,I,E){w=new Uint8Array(w);
if(w[0]==255){var X=gt.gL.D4(w);if(X[195]==null){gt.gL.YH++;var o=gt.gL.$e(w,X,!1);gt.gL.YH--;return o}var i=M.vH(w,X[195][0]+5),h=M.vH(w,X[195][0]+7),k=UTIF.LosslessJpegDecode(w),x=h*i,j=Q.$(x*4);
for(var P=0;P<x;P++){var v=P<<2,_=v-P;j[v]=k[_];j[v+1]=k[_+1];j[v+2]=k[_+2];j[v+3]=255}return[{WG:new dC(0,0,h,i),data:j.buffer}]}else if(w[0]==0&&w[4]==48&&w[6]==1){var L=w,U=new PDFJS.Jbig2Image,n=[];
if(I)n.push({data:I,start:0,end:I.length});n.push({data:L,start:0,end:L.length});var k=U.parseChunks(n);
if(!E)for(var P=0;P<k.length;P++)k[P]=~k[P];var h=M.W(w,11),i=M.W(w,15),a=Math.ceil(h/8),T=Q.$(h*i*4);
for(var g=0;g<i;g++){var D=g*a;for(var b=0;b<h;b++){var v=(g*h+b)*4,N=k[D+(b>>>3)]>>>7-(b&7)&1,C=N*255;
T[v]=C;T[v+1]=C;T[v+2]=C;T[v+3]=255}}return[{WG:new dC(0,0,h,i),data:T.buffer}]}else{var U=new PDFJS.JpxImage;
U.parse(w);var h=U.width,i=U.height,Z=U.tiles,S=U.componentsCount,u=new Uint8Array(h*i*4),p=new dC(0,0,h,i);
for(var U=0;U<Z.length;U++){var f=Z[U],d=f.width,l=f.height,A=d*l,B=f.items,e=new dC(f.left,f.top,d,l),m=new Uint8Array(A*4);
if(S==1)for(var P=0;P<A;P++){var $=B[P],v=P*4;m[v]=$;m[v+1]=$;m[v+2]=$;m[v+3]=255}else if(S==3)for(var P=0;
P<A;P++){var _=P*3,v=P*4;m[v]=B[_];m[v+1]=B[_+1];m[v+2]=B[_+2];m[v+3]=255}else console.log("Unknown number of components: "+S);
Q.D6(m,e,u,p)}return[{WG:p,data:u.buffer}]}};gt.hP={};gt.hP.v6=function(w,I,E,X){if(X==null)X=[70,0,0,0];
var o=X[0]/100,x=0;if(w.length==1)return gt.dm(w[0][0],I,E,"webp",o);var i=M.u0,h=M.xj,k=new e2;i(k,x,"RIFF    WEBPVP8X");
x+=16;h(k,x,10);x+=4;h(k,x,18);x+=4;h(k,x,I-1);x+=3;h(k,x,E-1);x+=3;i(k,x,"ANIM");x+=4;h(k,x,6);x+=4;
k.gj(x,4);k.data[x+3]=255;M.So(k,x+4,X[2]);x+=6;var j=[];for(var P=0;P<w.length;P++){j.push(w[P][0])}var v=UPNG.encode.compress(j,I,E,o==1?0:Math.max(2,Math.floor(o*500)),[!1,!0,!0,0,!0]).frames;
function _(u,p,f,d){var b=u.z-8,N=u.size+8;f.gj(d,N);for(var P=0;P<N;P++)f.data[d+P]=p[b+P];return d+N}for(var P=0;
P<w.length;P++){i(k,x,"ANMF");x+=4;var L=x,b=0,N=0;x+=4;var U=v[P],n=U.rect,a=[n.x>>>1,n.y>>>1,n.width-1,n.height-1,w[P][1]];
for(var T=0;T<5;T++)h(k,x+3*T,a[T]);x+=15;k.gj(x,1);k.data[x]=1-U.blend<<1|U.dispose;x++;var g=new Uint8Array(gt.dm(U.img.buffer,n.width,n.height,"webp",1)),D=d4.fM(g.buffer).sub,C={};
for(var Z=0;Z<D.length;Z++)C[D[Z].wl]=D[Z];if(C.VP8L)x=_(C.VP8L,g,k,x);else throw"e";var S=x-L-4;h(k,L,S);
if((S&1)==1){k.gj(x,1);x++}}h(k,4,x-8);return k.data.slice(0,x).buffer};(function(){var w=gt.UJ.get("wasm/webp").buffer;
WebAssembly.instantiate(w).then(function(I){var E=I.instance.exports;gt.hP.exp=E})}());gt.hP.CE=function(w){var I=new Uint8Array(w),E=gt.hP.av0,X=null,o=d4.fM(w).sub,i={};
for(var P=0;P<o.length;P++)i[o[P].wl]=o[P];var h=i.ANIM,k=i.VP8L,x=i["VP8 "],j=i.VP8X;if(h==null){var v,_;
if(x){v=M.s0(I,x.z+6);_=M.s0(I,x.z+8)}else if(k){var L=M.vc(I,k.z+1);v=(L&(1<<14)-1)+1;_=(L>>>14&(1<<14)-1)+1}else throw"e";
var U=[E(X,w,{z:0,size:I.length},v,_)];return U}var n=j.z,v=1+(M.vc(I,n+4)&16777215),_=1+(M.vc(I,n+7)&16777215),a=[],T=new dC(0,0,v,_),g=Q.$(v*_*4);
for(var P=0;P<o.length;P++){var D=o[P];if(D.wl!="ANMF")continue;var b=[];for(var N=0;N<5;N++)b.push(M.vc(I,D.z+N*3)&16777215);
var C=new dC(b[0]*2,b[1]*2,b[2]+1,b[3]+1),Z=b[4],S=E(X,w,{z:D.z+16,size:D.size-16},v,_),u=new Uint8Array(S.data),p=I[D.z+15];
if(p>>>1==0)Q.e.gF("norm",u,C,g,T,C,1);else Q.D6(u,C,g,T);a.push({e8:"_a_"+a.length+","+Z,WG:T.clone(),data:g.buffer.slice(0)});
if((p&1)==1){Q.Ez(u,0);Q.D6(u,C,g,T)}}return a};gt.hP.av0=function(w,I,E,X,o){var i=gt.hP.exp,h=i.memory,k=5e6+2*E.size+X*o*10;
gt.oh(i,k);var x=new Uint8Array(h.buffer),j=i.malloc(E.size);x.set(new Uint8Array(I,E.z,E.size),j);var v=i.malloc(8),_=i.WebPDecodeARGB(j,E.size,v,v+4),L=M.vc(x,v),U=M.vc(x,v+4),n=L*U*4,a=Q.$(n);
for(var P=0;P<n;P+=4){a[P]=x[_+P+1];a[P+1]=x[_+P+2];a[P+2]=x[_+P+3];a[P+3]=x[_+P]}i.WebPFree(_);i.free(v);
i.free(j);return{WG:new dC(0,0,L,U),data:a.buffer}};gt.a2N=function(){function w(k,x,j,v){var _=new Uint8Array(k[0][0]),L=new Uint32Array(_.buffer),U=[],n={},T=24,g=0,Z=0;
for(var P=0;P<L.length;P++){var a=L[P]&16777215;if(n[a]==null){n[a]=U.length;U.push(a);if(U.length>256){U=null;
break}}}if(U){T=1;while(1<<T<U.length)T*=2;if(T==2)T=4}var D={LQ:x,Ns:j,rb:1,Li:T,wK:0,aiO:g},b=4*Math.floor((D.Li*D.LQ+31)/32);
D.size=b*D.Ns+2;var N=new e2,C=U?(1<<T)*4:0;M.u0(N,Z,"BM");Z+=2;M.xj(N,Z,b*j+16+40+C);Z+=4;M.xj(N,Z,0);
Z+=4;M.xj(N,Z,54+C);Z+=4;N.gj(Z,40);M.xj(N,Z,40);Z+=4;h(N.data,Z,D,b);Z+=36;if(U){N.gj(Z,C);var S=N.data;
for(var P=0;P<U.length;P++){var u=Z+P*4,p=U[P]>>>16,f=U[P]>>>8&255,d=U[P]&255;S[u]=p;S[u+1]=f;S[u+2]=d}Z+=C}N.gj(Z,b*j);
if(T==24)for(var l=0;l<j;l++){var A=Z+(j-1-l)*b;for(var B=0;B<x;B++){var e=(l*x+B)*4;N.data[A+B*3+2]=_[e];
N.data[A+B*3+1]=_[e+1];N.data[A+B*3+0]=_[e+2]}}else if(T==8)for(var l=0;l<j;l++){var A=Z+(j-1-l)*b;for(var B=0;
B<x;B++){var e=l*x+B,m=n[L[e]&16777215];N.data[A+B]|=m}}else if(T==4)for(var l=0;l<j;l++){var A=Z+(j-1-l)*b;
for(var B=0;B<x;B++){var e=l*x+B,m=n[L[e]&16777215];N.data[A+(B>>>1)]|=m<<4-(B&1)*4}}else if(T==1)for(var l=0;
l<j;l++){var A=Z+(j-1-l)*b;for(var B=0;B<x;B++){var e=l*x+B,m=n[L[e]&16777215];N.data[A+(B>>>3)]|=m<<7-(B&7)}}Z+=b*j+2;
return N.data.slice(0,Z).buffer}function I(k){k=new Uint8Array(k);if(M.vc(k,0)==40)return[E(k.buffer,0)];
var x=0,j=M.jz(k,x,2);x+=2;if(j!="BM"){alert("Unsupported BMP format: "+j);return}var v=M.vc(k,x);x+=4;
x+=4;var _=M.vc(k,x);x+=4;return[E(k.buffer,x,_)]}function E(k,x,j){k=new Uint8Array(k);var v=M.vc(k,x),_=i(k,x+4);
if(_.rb!=1)alert("unsupported number of color planes: "+_.rb);if(_.wK!=0&&_.wK!=1&&_.wK!=2&&_.wK!=3){alert("Unsupported BMP compression: "+_.wK);
return}x+=v;var L=x,U=k;if(j==null)j=x;if(_.wK==1||_.wK==2){var n=o(k,j,_);_.Li=8;k=n;j=0}var a=4*Math.floor((_.Li*_.LQ+31)/32),T=_.LQ,g=Math.abs(_.Ns),D=new Uint8Array(T*g*4);
D.fill(255);if(_.Li==32)for(var b=0;b<g;b++){var N=j+(g-1-b)*a;for(var C=0;C<T;C++){var Z=(b*T+C)*4;
D[Z]=k[N+C*4+2];D[Z+1]=k[N+C*4+1];D[Z+2]=k[N+C*4+0];D[Z+3]=k[N+C*4+3]}}else if(_.Li==24)for(var b=0;
b<g;b++){var N=j+(g-1-b)*a;for(var C=0;C<T;C++){var Z=(b*T+C)*4;D[Z]=k[N+C*3+2];D[Z+1]=k[N+C*3+1];D[Z+2]=k[N+C*3+0]}}else if(_.Li==16)for(var b=0;
b<g;b++){var N=j+(g-1-b)*a;for(var C=0;C<T;C++){var Z=(b*T+C)*4,S=k[N+C*2+1]<<8|k[N+C*2];D[Z]=(S>>>11)*(255/31);
D[Z+1]=(S>>>5&63)*(255/63);D[Z+2]=(S&31)*(255/31)}}else if(_.Li==8)for(var b=0;b<g;b++){var N=j+(g-1-b)*a;
for(var C=0;C<T;C++){var Z=(b*T+C)*4,u=k[N+C];D[Z]=U[L+4*u+2];D[Z+1]=U[L+4*u+1];D[Z+2]=U[L+4*u+0]}}else if(_.Li==4)for(var b=0;
b<g;b++){var N=j+(g-1-b)*a;for(var C=0;C<T;C++){var Z=(b*T+C)*4,u=k[N+(C>>1)];u=u>>4-4*(C&1);u=u&15;
D[Z]=U[L+4*u+2];D[Z+1]=U[L+4*u+1];D[Z+2]=U[L+4*u+0]}}else if(_.Li==1)for(var b=0;b<g;b++){var N=j+(g-1-b)*a;
for(var C=0;C<T;C++){var Z=(b*T+C)*4,p=k[N+(C>>3)];p=p>>7-(C&7);p=p&1;D[Z]=U[L+4*p+2];D[Z+1]=U[L+4*p+1];
D[Z+2]=U[L+4*p+0]}}else throw"Unknown bit depth "+_.Li;if(_.Ns<0){var f=new Uint32Array(D.buffer),d=g>>>1;
for(var b=0;b<d;b++){var l=b*T,A=(g-b-1)*T;for(var C=0;C<T;C++){var B=f[l+C];f[l+C]=f[A+C];f[A+C]=B}}}return{WG:new dC(0,0,T,g),data:D.buffer}}function X(k,P){return k>>>4-((P&1)<<2)&15}function o(k,x,j){var v=j.LQ,_=Math.abs(j.Ns),L=new Uint8Array(v*_),U=0,n=0,P=0;
while(n<_){var a=k[x++],T=k[x++],g=n*v+U;if(a>0){if(j.Li==4)for(P=0;P<a;P++){L[g+P]=X(T,P)}else for(P=0;
P<a;P++){L[g+P]=T}U+=a}else if(a==0&&T==0){n++;U=0}else if(a==0&&T==1){break}else if(a==0&&T==2){U+=k[x++];
n+=k[x++]}else{var D=T;if(j.Li==4){for(P=0;P<T;P++){L[g+P]=X(k[x+(P>>>1)],P)}D=Math.ceil(T/2)}else{for(P=0;
P<T;P++){L[g+P]=k[x+P]}}if((D&1)!=0)D++;x+=D;U+=T}}return L}function i(k,x){var j=M.Qv,v=M.vc,_=M.s0,L={};
L.LQ=j(k,x);x+=4;L.Ns=j(k,x);x+=4;L.rb=_(k,x);x+=2;L.Li=_(k,x);x+=2;L.wK=v(k,x);x+=4;L.size=v(k,x);x+=4;
var U=j(k,x);x+=4;var n=j(k,x);x+=4;L.aiO=v(k,x);x+=4;x+=4;return L}function h(k,x,j,v){M.zM(k,x,j.LQ);
x+=4;M.zM(k,x,j.Ns);x+=4;M.ps(k,x,j.rb);x+=2;M.ps(k,x,j.Li);x+=2;M.zM(k,x,j.wK);x+=4;M.zM(k,x,j.size);
x+=4;M.zM(k,x,2834);x+=4;M.zM(k,x,2834);x+=4;M.zM(k,x,j.aiO);x+=4;x+=4}return{CE:I,v6:w,a8N:E}}();gt.HG={};
gt.HG.v6=function(w,I,E,X){if(X==null)X=[100,!1,0,0,0,0];var o=[],i=[],h=I*E*4,a=null;for(var k=0;k<w.length;
k++){var x=new Uint8Array(w[k][0].slice(0));for(var P=0;P<h;P+=4){var j=x[P+3]=x[P+3]>127?255:0;if(j==0)x[P]=x[P+1]=x[P+2]=0}o.push(x.buffer);
i.push(w[k][1])}var v=Math.round(2+254*X[0]/100),_=UPNG.encode.compress(o,I,E,v,[!0,!1,!1,8,!1,X[1]]),L=_.plte,U=new Uint8Array(4),n=new Uint32Array(U.buffer);
for(var P=0;P<L.length;P++){n[0]=L[P];var T=U[0];U[0]=U[2];U[2]=T;L[P]=n[0];if(n[0]==0)a=P}while(L.length<256)L.push(0);
var g=new Uint8Array(1e4+I*E*w.length),D=X[3],b={palette:L};if(D!=1)b.loop=D==0?0:D-1;var N=new GifWriter(g,I,E,b);
for(var P=0;P<w.length;P++){var C=_.frames[P],Z=C.rect,S=C.blend,u=C.dispose,p=Math.round(i[P]/10);if(p<2)p=2;
N.addFrame(Z.x,Z.y,Z.width,Z.height,C.img,{transparent:a,disposal:u+1,delay:p})}return g.slice(0,N.end()).buffer};
gt.HG.CE=function(w){var I=Date.now(),E=[],X=UGIF.decode(w),o=UGIF.toRGBA8(X),i=new dC(0,0,X.width,X.height);
for(var P=0;P<o.length;P++){var h=X.frames[P];E.push({WG:i.clone(),e8:"_a_frm"+P+","+h.delay*10,data:o[P]})}return E};
gt.Tn={};gt.Tn.v6=function(w,I,E,X){console.log(w);if(I>256||E>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var o=Math.min(I,256),i=Math.min(E,256),h=new dC(0,0,o,i),k=Q.$(h.A()*4),x=new dC(0,0,I,E),j=new Uint8Array(w[0][0]);
Q.D6(j,x,k,h);w[0][0]=k.buffer;I=o;E=i}var v=new e2,_=0,L=X&&X[0]==!0;M.So(v,_,0);_+=2;M.So(v,_,L?2:1);
_+=2;M.So(v,_,1);_+=2;var U=new Uint8Array(gt.FB("png").v6(w,I,E));v.gj(_,16);v.data[_]=I==256?0:I;_++;
v.data[_]=E==256?0:E;_++;_+=2;M.So(v,_,L?Math.round(I/2):1);_+=2;M.So(v,_,L?Math.round(E/2):32);_+=2;
M.xj(v,_,U.length);_+=4;M.xj(v,_,6+16);_+=4;v.gj(_,U.length);for(var P=0;P<U.length;P++)v.data[_+P]=U[P];
_+=U.length;var n=new Uint8Array(_);for(var P=0;P<_;P++)n[P]=v.data[P];return n.buffer};gt.Tn.CE=function(w){w=new Uint8Array(w);
var I=4,E=M.s0(w,I);I+=2;var X=[];for(var P=0;P<E;P++){var o=gt.Tn.ahK(w,I+P*16),i=w.buffer.slice(o.offset,o.offset+o.size),h=gt.mq(i);
h=h?h:"bmp";if(h=="png"){var k=gt.FB(h),x=k.CE(i);o.aC=x[0]}else{var j=gt.FB("BMP").a8N(i,0),i=Q.$(o.LQ*o.Ns*4);
Q.D6(new Uint8Array(j.data),new dC(0,0,j.WG.q,j.WG.w),i,new dC(0,o.Ns,o.LQ,o.Ns));j.data=i.buffer;j.WG.w=o.Ns;
o.aC=j}X.push(o)}X.sort(function(v,_){if(v.LQ!=_.LQ)return v.LQ-_.LQ;return v.a7U-_.a7U});return[X.pop().aC]};
gt.Tn.ahK=function(w,I){var E={};E.LQ=w[I];I++;if(E.LQ==0)E.LQ=256;E.Ns=w[I];I++;if(E.Ns==0)E.Ns=256;
E.ak8=w[I];I++;I++;E.akj=M.s0(w,I);I+=2;E.a7U=M.s0(w,I);I+=2;E.size=M.vc(w,I);I+=4;E.offset=M.vc(w,I);
I+=4;return E};gt.dD={};gt.dD.CE=function(w){var I=Date.now(),X,Z=!0;if(Q.raw.N_(w.byteLength))return[Q.raw.akt(w)];
var E=UTIF.decode(w);if(E[0].t33421)X=E[0];else if(E[0].subIFD&&E[0].t271&&E[0].t271[0]=="Hasselblad"){X=E[0].subIFD[0];
X.t33421=[2,2]}else if(E[0].subIFD&&E[0].subIFD[0].t33421){X=E[0].subIFD[0];if(X.t50706==null){if(X.t258[0]==8)X.t258[0]=12}}else if(E[0].subIFD&&E[0].subIFD[0]&&E[0].subIFD[0].t262&&E[0].subIFD[0].t262[0]==34892)X=E[0].subIFD[0];
else if(E[0].subIFD&&E[0].subIFD[1]&&E[0].subIFD[1].t33421)X=E[0].subIFD[1];else if(E[0].subIFD&&E[0].subIFD[2]&&E[0].subIFD[2].t33421)X=E[0].subIFD[2];
else if(E[3]&&E[3].t50648){var o=E[0].exifIFD,i=o.makerNote;X=E[3];var h=i.t224[1],k=i.t224[2];X.t256=[h];
X.t257=[k];X.t258=[16];X.t259=[7];X.t262=[32803];X.t277=[1];X.t33421=[2,2];var x=X.t50656[0],j=Q.raw.TJ[x];
if(j==null)throw"e";X.t33422=j}else if(E[0].t1&&E[0].t1.length==4){var v=E[0],_={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
X={};for(var L in _)if(v["t"+L])X["t"+_[L]]=v["t"+L];X.t2=v.t2;X.t3=v.t3;X.t10=v.t10;X.t45=v.t45;X.t258=[16];
X.t33421=[2,2];var U=v.t9[0];X.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][U-1];var n=v.t4[0],a=v.t5[0],T=v.t6[0],g=v.t7[0];
X.t50829=[n,a,T,g];var D=v.t36[0],b=v.t37[0],N=v.t38[0];X.t50728=[b/D,b/b,b/N]}if(X){UTIF.decodeImage(w,X,E);
for(var C in E[0])if((C[0]=="t"||C[0]=="e"||C[0]=="d")&&X[C]==null)X[C]=E[0][C];X.gO=E[0].t274?E[0].t274[0]:1;
return[X]}var S=1/256;for(var P=0;P<E.length;P++)if(E[P].t258&&E[P].t258[0]==16&&E[P].t277&&E[P].t277[0]==1){}else Z=!1;
if(Z){var u=0,p=0,f=0;for(var P=0;P<E.length;P++){UTIF.decodeImage(w,E[P],E);var d=E[P].data;for(var l=0;
l<d.length;l+=2){var A=d[l+1]<<8|d[l];if(A>u)u=A;p+=A;f++}}S=1/256*65535/(.5*u+.5*(2*p/f))}var B=[];
for(var P=0;P<E.length;P++){var e=E[P],m=72;UTIF.decodeImage(w,e,E);var $=e.t282,V=e.t296;if($!=null&&V!=null){m=$[0][0]/$[0][1];
if(V[0]==3)m=Math.round(m/2.54)}if(e.width==null)continue;var H=UTIF.toRGBA8(e,S).buffer,F=fT.jd(e);
console.log(e);B.push({WG:new dC(0,0,e.width,e.height),data:H,nN:m,cl:F,VU:e.t34675?e.t34675.slice(0):null})}return B};
gt.dD.v6=function(w,I,E,X){if(X==null)X=[!1];var o={},i=w[0];if(i[3]!=null&&X[0])o=fT.VM(i[3]);if(i[2]!=null){o.t282=o.t283=[[Math.round(i[2]),1]];
o.t296=[2]}return UTIF.encodeImage(i[0],I,E,o)};gt.UZ={};gt.UZ.RJ=!0;gt.UZ.CE=function(w,I){cD.fM(w,I)};
gt.UZ.axJ=function(w,I,E,X){if(X==null)X=[!1,!1,!1,!1];if(!X[0])w.sQ();var o=new e2,i=cD.Fo(w,o,X);return[o.data.buffer,i]};
gt.UZ.v6=function(w,I,E,X){var o=gt.UZ.axJ(w,I,E,X),i=o[0],h=o[1];return i.byteLength==h?i:i.slice(0,h)};
gt.xB={};gt.xB.RJ=!0;gt.xB.CE=function(w,I){var E=pako.inflate(new Uint8Array(w)),X=M.vH(E,0),o=M.vH(E,2),i=4;
I.q=M.W(E,i);i+=4;I.w=M.W(E,i);i+=4;I.buffer=Q.$(I.q*I.w*4);var h=M.vH(E,i);i+=2;i+=4;for(var k=0;k<h;
k++){var x=I.XY(),n=0,m=1,$=2,V=3,H=0;I.b.push(x);var j=M.W(E,i);i+=4;var v=i,_=M.vH(E,v);v+=2;var L=M.YV(E,v,_);
v+=_;x.G_(L);var U=E[v];v++;if(U!=0&&U!=1)throw U;x.rect.x=M.Qf(E,v);v+=4;x.rect.y=M.Qf(E,v);v+=4;x.rect.q=M.W(E,v);
v+=4;x.rect.w=M.W(E,v);v+=4;if(X>3){n=M.Qf(E,v);v+=4}x.opacity=Math.round(255*E[v]/100);v++;var a=E[v];
v++;x.Wz(a!=0);x.$B="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[E[v]];
v++;var T=E[v];v++;if(T)x.add.lspf=1<<31;if(X>3){var g=M.vH(E,v);v+=2;if(g!=0){var D=JSON.parse(M.YV(E,v,g));
v+=g;var b=D.text,N=D.textSettings,C=N.font,Z=N.size,S=N.padding,u=parseInt(N.color.slice(1),16);x.add.lnsr="rend";
x.add.TySh=bQ.za(0,0);x.add.TySh.Wc=new dC(0,0,100,100);var p=x.add.TySh.F=new am,f=x.rect.q/2,d=x.rect.w/2;
p.translate(-f,-d);p.rotate(-n*Math.PI/180);p.translate(f,d);p.translate(x.rect.x+S,x.rect.y+S);var l=x.add.TySh.Da;
bQ.Kv(l,1);bQ.Nq(l,[0,0,x.rect.q-S*2,x.rect.w]);bQ.fZ(l,0,b);var A=bQ.wg(l,0,1);A.hd.FontSize=Z;A.hd.FillColor={Type:1,Values:[1,(u>>>16&255)/255,(u>>>8&255)/255,(u>>>0&255)/255]};
if(N.bold)C+="-Bold";bQ.Ab(A,C);A.wo.Justification=["left","right","center"].indexOf(N.align);bQ.JF(l,0,b.length,A)}}var B=M.W(E,v);
v+=4;if(B!=x.rect.A()*4){for(var P=x.rect.q;P>x.rect.q/2;P--){var e=B/(P*4);if(e==Math.round(e)){x.rect.q=P;
x.rect.w=e;break}}}x.buffer=Q.$(x.rect.A()*4);if(X>3){m=0;$=1;V=2;H=3}for(var P=0;P<B;P+=4){x.buffer[P]=E[v+P+m];
x.buffer[P+1]=E[v+P+$];x.buffer[P+2]=E[v+P+V];x.buffer[P+3]=E[v+P+H]}v+=B;var F=M.W(E,v);v+=4;if(F==0&&X>3){i+=j;
continue}var G=E[v];v++;var J=M.vH(E,v);v+=2;if(F!=0){x.D=new K._x;x.D.rect=x.rect.clone();x.D.channel=Q.$(x.rect.A());
for(var P=0;P<F;P+=4)x.D.channel[P>>>2]=E[v+P+1];v+=F}if(G!=0){var c=JSON.parse(hL.default);x.add.lmfx=c;
for(var P=0;P<hL.order.length;P++)c[hL.JR[P]]={t:"VlLs",v:[]};var r={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var P=0;P<G;P++){var s=M.vH(E,v),z=v+s+4,Y=E.slice(v,z),ax=E[v+2];v+=3;var iW=r[ax+""],y=JSON.parse(hL.zd[iW]);
c[hL.JR[iW]].v.push({t:"Objc",v:y});if(iW!=0){y.Md.v.BlnM=hH.r6("norm");y.Opct.v.val=E[v];v++;if(iW==9||iW==2){y.Dstn.v.val=E[v+1];
v+=2}else v+=2;y.blur.v.val=Math.round(E[v]*1.2);v++;if(iW==9||iW==2){y.uglg.v=!1;y.lagl.v.val=180-M.vH(E,v);
v+=2}y.Clr.v=Q.N.Ex({o:E[v+1],P:E[v+2],L:E[v+3]})}else{y.hglM.v.BlnM=y.sdwM.v.BlnM=hH.r6("norm");v+=2;
var hm=E[v++],t=E[v++];y.blur.v.val=Math.round(Math.sqrt(t*hm)*1.3);y.srgR.v.val=Math.round(100*hm/t);
y.uglg.v=!1;y.lagl.v.val=180-M.vH(E,v);v+=2;y.hglO.v.val=E[v++];y.hglC.v=Q.N.Ex({o:E[v+1],P:E[v+2],L:E[v+3]});
v+=4;y.sdwO.v.val=E[v++];y.sdwC.v=Q.N.Ex({o:E[v+1],P:E[v+2],L:E[v+3]});v+=4}v=z}}if(v-i<j){var cT=M.W(E,v),iL=0;
v+=4;v++;var _=M.vH(E,v);v+=2;var b=M.YV(E,v,_);v+=_;b=b.replace(/\r/g,"\n");var _=M.vH(E,v);v+=2;var C=M.YV(E,v,_);
v+=_;var Z=M.vH(E,v);v+=2;var c4=x.rect.x,kv=x.rect.q;if(cT&4)iL=1;if(cT&2)iL=2;var cr=Math.round(Z*.4);
if(iL==0||iL==2)kv+=cr;if(iL==1||iL==2){kv+=cr;c4-=cr}x.add.lnsr="rend";x.add.TySh=bQ.za(0,0);x.add.TySh.Wc=new dC(0,0,100,100);
x.add.TySh.F=new am(1,0,0,1,c4,x.rect.y+Z*.25);var l=x.add.TySh.Da;bQ.Kv(l,1);bQ.Nq(l,[0,0,kv,x.rect.w]);
bQ.fZ(l,0,b);var A=bQ.wg(l,0,1);A.hd.FontSize=Z;A.hd.FillColor={Type:1,Values:[1,E[v+1]/255,E[v+2]/255,E[v+3]/255]};
v+=4;if(E[v+5])C+="-Bold";if(E[v+6])C+="-Italic";bQ.Ab(A,C);A.wo.Justification=iL;v+=8;bQ.JF(l,0,b.length,A)}i+=j}};
gt.pG={};gt.pG.RJ=!0;gt.pG.CE=function(w,I){jl.fM(w,I)};var jl=function(){function w(_,L){var U=Date.now(),n=UZIP.parse(_);
console.log(n);console.log(Date.now()-U);U=Date.now();var a=n["maindoc.xml"],T=new DOMParser,g=T.parseFromString(M.YV(a),"image/svg+xml").children[0].children[0],D=g.getAttribute("name"),b=L.q=j(g,"width"),N=L.w=j(g,"height");
L.nN=Math.round(j(g,"x-res"));var C=g.children[0].children;I(C,L,{iZ:D,pN:n,kd:null});console.log(Date.now()-U);
U=Date.now()}function I(_,L,U){for(var n=0;n<_.length;n++){var a=_[_.length-1-n],T=a.getAttribute("nodetype");
if(T=="transparencymask"){U.kd.D=v(a,U);continue}var g=a.getAttribute("compositeop"),D=a.getAttribute("filename"),b=a.getAttribute("channelflags"),N=a.children;
N=N.length==0?null:N[0].children;var C=L.XY();if(T=="paintlayer"){var Z=j(a,"x"),S=j(a,"y"),u=U.pN[U.iZ+"/layers/"+D+".defaultpixel"],p=U.pN[U.iZ+"/layers/"+D],f=x(p);
C.rect=f[0];C.rect.offset(Z,S);C.buffer=f[1];if(C.rect.qo()&&u.join()!="0,0,0,0"){C.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.Ex({o:u[0],P:u[1],L:u[2]})}};
C.kH(L)}}else if(T=="grouplayer"){C.add.lsct=gs.Y_;C.$B="pass";C.Bo|=24;L.b.push(L.Rf());var d=U.kd;
U.kd=C;I(N,L,U);U.kd=d}else if(T=="shapelayer"){var p=U.pN[U.iZ+"/layers/"+D+".shapelayer/content.svg"],l=M.YV(p),A=L.ec(p,C.getName(),0,0);
C=A;var B=new dC(0,0,L.q,L.w),e=Q.p.sy(B).C;C.add.SoLd.Trnf=q.R.bd(e);C.add.SoLd.nonAffineTransform=q.R.bd(e);
C.vR(L,!1)}else if(T=="clonelayer"){var P=-1;for(var m=0;m<_.length;m++)if(_[m].getAttribute("name")==a.getAttribute("clonefrom"))P=m;
if(P!=-1){I([_[P]],L,U);C=L.b.pop()}}else console.log(T,a);C.G_(a.getAttribute("name"));if(j(a,"locked")==1)C.add.lspf=1<<31;
C.Wz(j(a,"visible")==1);var $={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[g];if($)C.$B=$;
else console.log(g);C.opacity=j(a,"opacity");if(b=="1110")C.ws=!0;var V=N?N[0]:null;if(V&&V.tagName=="mask")C.D=v(V,U);
L.b.push(C)}}function E(_,L){var U=0,n=0,a=_.length,T,g,D;while(U<a){T=_[U++];if(T>31){g=T>>>5;if(g==7)g=7+_[U++];
D=(T&31)<<8|_[U++];var b=n-D-1,N=g>>>1;L[n++]=L[b++];L[n++]=L[b++];for(var P=0;P<N;P++){L[n++]=L[b++];
L[n++]=L[b++]}if((g&1)==1)L[n++]=L[b++]}else{for(var P=0;P<=T;P++){L[n++]=_[U++]}}}}function X(_,L){var U=0;
while(_[L+U]!=10)U++;return M.jz(_,L,U)}var o=new dC(0,0,64,64),i=new Uint8Array(64*64*4),h=new Uint8Array(64*64*4);
function k(){for(var P=0;P<4096;P++){var _=P<<2;i[_+0]=h[P+8192];i[_+1]=h[P+4096];i[_+2]=h[P];i[_+3]=h[P+12288]}}function x(_){var L=0,U={};
for(var P=0;P<5;P++){var n=X(_,L);L+=n.length+1;n=n.split(" ");U[n[0]]=parseInt(n[1])}var a=U.PIXELSIZE,T=[],g=new dC;
while(L<_.length){var n=X(_,L),D=n.split(",");L+=n.length+1;if(D[2]!="LZF")throw D[2];o.x=parseInt(D[0]);
o.y=parseInt(D[1]);g=g.jB(o);var b=parseInt(D[3]);T.push([o.clone(),new Uint8Array(_.buffer,L+1,b-1)]);
L+=b}var N=Q.$(g.A()*a);for(var P=0;P<T.length;P++){var C=T[P];E(C[1],h);if(a==4){k();Q.D6(i,C[0],N,g)}else Q.b_(h,C[0],N,g)}return[g,N]}function j(_,L){return parseInt(_.getAttribute(L))}function v(_,L){var U=_.getAttribute("filename"),n=L.pN[L.iZ+"/layers/"+U+".pixelselection"],a=x(n),T=new K._x;
T.eb=j(_,"visible")==1;T.rect=a[0];T.channel=a[1];return T}return{fM:w}}();gt.Zx={};gt.Zx.RJ=!0;gt.Zx.CE=function(w,I){fE.fM(w,I)};
gt.vy={};gt.vy.RJ=!0;gt.vy.CE=function(w,I){h5.fM(w,I)};gt.lL={};gt.lL.RJ=!0;gt.lL.CE=function(w,I){al.fM(w,I)};
gt.EX={};gt.EX.RJ=!0;gt.EX.CE=function(w,I){c7.fM(w,I)};gt.JK={};gt.JK.RJ=!0;gt.JK.CE=function(w,I){ck.fM(w,I)};
gt.JV={};gt.JV.RJ=!0;gt.JV.CE=function(w,I){aA.fM(w,I)};gt.Wd={};gt.Wd.RJ=!0;gt.Wd.v6=function(w,I,E,X,o){if(X==null)X=[!0,!1,!1,!1,!0];
var i=i1.hI(w,{wt:X[0],hidden:X[1],ayt:X[2],adR:X[3],wQ:X[4],a8r:I,abF:E},o.vj);return i};gt.Wd.CE=function(w,I,E){i1.fM(w,I,E)};
gt.Uy={};gt.Uy.RJ=!0;gt.Uy.CE=function(w,I){var E=150,X=new am(1,0,0,-1,0,0);X.scale(E/72,E/72);I.nN=E;
var o=new d1(I,X,!0);FromPS.Parse(w,o)};gt.Ul={};gt.Ul.RJ=!0;gt.Ul.v6=function(w,I,E,X,o){if(X==null)X=["",100,!1,!1,!1,0];
X[6]=["jpg"];var i=new ToPDF;b0.hI(w,X,i,o.vj,I,E);return i.buffer};gt.Ul.CE=function(w,I,E){var X=2;
while(!0){var o=X*72,i=new am(1,0,0,-1,0,0);i.scale(o/72,o/72);I.nN=o;var h=new d1(I,i,!0);FromPDF.Parse(w,h);
var k=Math.max(I.q,I.w);if(E&&k<Math.max(E[0],E[1])){I.b=[];var x=X;while(k*(X/x)<Math.max(E[0],E[1]))X++}else break}};
gt.C9={};gt.C9.RJ=!0;gt.C9.CE=function(w,I){var E=72,X=new am(1,0,0,1,0,0);X.scale(E/72,E/72);I.nN=E;
var o=new d1(I,X,!1);FromWMF.Parse(w,o)};gt.Ud={};gt.Ud.q7=!0;gt.Ud.RJ=!0;gt.Ud.v6=function(w,I,E,X,o){if(X==null)X=["",100,!1,!1,!1,0];
X[6]=[];var i=new ToEMF;b0.hI(w,X,i,o.vj);return i.buffer};gt.Ud.CE=function(w,I){var E=72,X=new am(1,0,0,1,0,0);
X.scale(E/72,E/72);I.nN=E;var o=new d1(I,X,!1);FromEMF.Parse(w,o)};gt.t5={};gt.t5.RJ=!0;gt.t5.CE=function(w,I){return iX.fM(w,I)};
gt.s8={};gt.s8.CE=function(w,I){var E=g2.fM(w),X=new Uint8Array(w),o=0,i,h,k,x,j,v,_,L,U=0,n=0,a=0,T=0,g=0;
for(var D=0;D<E.sub.length;D++){var b=E.sub[D],o=b.z;if(b.wl=="BMHD"){var N=[];for(var P=0;P<4;P++)N[P]=M.vH(X,o+2*P);
o+=8;x=N[2];j=N[3];h=N[0];k=N[1];i=Q.$(h*k*4);v=X[o++];_=X[o++];L=X[o++]}else if(b.wl=="CMAP")U=o;else if(b.wl=="CAMG"){var C=M.W(X,o);
n=C&32768,a=C&4,T=C&2048;g=C&128}else if(b.wl=="BODY"){var Z=h+15>>>4<<1,S=v+_,u=Q.$(Z*k*S),l,A,B;fH.UN(X,o,b.size,u,0,u.length);
var p=v-2,f=(1<<p)-1,d=Math.round(255/f);for(var j=0;j<k;j++)for(var x=0;x<h;x++){var e=0;for(var m=0;
m<S;m++){var $=(j*S+m)*Z*8+x,V=u[$>>>3]>>>7-($&7)&1;e|=V<<m}var H=e>>>v,e=e&(1<<v)-1,P=j*h+x,F=P<<2;
if(U!=0){if(T!=0&&e>>>p!=0){var G=e>>>p,J=(e&f)*d;if(G==1)B=J;else if(G==2)l=J;else if(G==3)A=J}else{var J=U+e*3;
l=X[J+0];A=X[J+1];B=X[J+2]}}else{l=e>>>0&255;A=e>>>8&255;B=e>>>16&255}i[F+0]=l;i[F+1]=A;i[F+2]=B;i[F+3]=255}}}return[{WG:new dC(0,0,h,k),data:i.buffer}]};
gt.Av={};gt.Av.RJ=!1;gt.Av.v6=function(w,I,E,X){var o=w[0][4],i=new Uint8Array(w[0][0]),h=2,k=o?!0:!1,x=k?4:3,j=new Uint8Array(I*E*x);
for(var v=0;v<E;v++)for(var _=0;_<I;_++){var L=v*I+_<<2,U=((E-v-1)*I+_)*x;j[U]=i[L+2];j[U+1]=i[L+1];
j[U+2]=i[L+0];if(k)j[U+3]=o[0][v*I+_]}if(!0){var n=j.length,a=0,T=new Uint8Array(n*2),g=0,D=0,b=I*x;
while(D<n){var N=D,C=0,Z=b*(Math.floor(D/b)+1);while(N<Z&&C<128){var S=!0;for(var P=0;P<x;P++)S=S&j[D+P]==j[N+P];
if(!S)break;N+=x;C++}if(C==1){var u=1;while(u<128&&D+(u+1)*x<Z){var S=!0,p=D+u*x;for(var P=0;P<x;P++)S=S&j[p+P]==j[p+x+P];
if(S)break;u++}T[g++]=u-1;for(var f=0;f<u;f++)for(var P=0;P<x;P++)T[g++]=j[D++]}else{T[g++]=127+C;for(var P=0;
P<x;P++)T[g+P]=j[D+P];g+=x;D+=x*C;a+=C}}j=T.slice(0,g);h+=8}var d=new Uint8Array(18+j.length+26);d[2]=h;
M.ps(d,12,I);M.ps(d,14,E);d[16]=x*8;d[17]=x==4?8:0;d.set(j,18);M.X5(d,18+j.length+8,"TRUEVISION-XFILE.");
return d.buffer};gt.Av.CE=function(w){var I=new Uint8Array(w),E=0,X=I[0],o=I[1],i=I[2],h=I[4]*256+I[3],k=I[6]*256+I[5],x=I[7],j=I[9]*256+I[8],v=I[11]*256+I[10],_=I[13]*256+I[12],L=I[15]*256+I[14],U=I[16],n=I[17],a=n>>>4,T=M.jz(I,18,X),g=Q.$(_*L*4),E=18+X+(k*x>>>3),D=new Uint8Array(I.buffer,E);
if(i>3){var b=0,N=I,C=new Uint8Array(_*L*U>>>3),Z=E,S=0,u=I.length,p=U>>>3;while(S<C.length){var eS=N[Z];
Z++;if(eS<128)for(var P=0;P<eS+1;P++){for(var f=0;f<p;f++){C[S]=N[Z];S++;Z++}}else{for(var P=0;P<eS-127;
P++){for(var f=0;f<p;f++){C[S]=N[Z+f];S++}}Z+=p}}i-=8;D=C;E=Z}else E+=_*L*U>>>3;var d=new Uint8Array(4),l=gt.Av.ajP;
for(var A=0;A<L;A++)for(var B=0;B<_;B++){var e=(a&2)==0?(L-A-1)*_+B:A*_+B,m=A*_+B,$,V,H,F=255,G=e*U>>>3;
if(i==1){var J=0;if(U==8)J=D[G];else throw"e";l(I,18+X+h+(J*x>>>3),x,d);$=d[0];V=d[1];H=d[2];F=d[3]}else if(i==2){l(D,G,U,d);
$=d[0];V=d[1];H=d[2];F=d[3]}else if(i==3){if(U==8)$=V=H=D[G];else throw"e"}var c=m*4;g[c]=$;g[c+1]=V;
g[c+2]=H;g[c+3]=F}var d={WG:new dC(0,0,_,L),data:g.buffer,e8:T};if(Q.r0(g)){var r=Q.$(_*L);Q.qe(g,r,3);
Q.Ez(g,4278190080,16777215);d.K3=[r]}return[d]};gt.Av.ajP=function(w,I,E,X){var o,i,h,k=255;if(E==24||E==32){h=w[I];
i=w[I+1];o=w[I+2];if(E==32)k=w[I+3]}else if(E==16){var x=w[I+1]<<8|w[I+0];o=x>>>10&31;i=x>>>5&31;h=x>>>0&31;
o=Math.round(o*(255/31));i=Math.round(i*(255/31));h=Math.round(h*(255/31))}else throw"e";X[0]=o;X[1]=i;
X[2]=h;X[3]=k};gt.akY=function(){var w,I=[],E=!1;function X(h,k,x,j){w=x;I.push(h,j);o()}function o(){if(E||I.length==0)return;
E=!0;gt.anK(I.shift(),"image/avif",i)}function i(h){w(null,[h],I.shift());E=!1;o()}return{RJ:!1,$T:!0,CE:X}}();
gt.alc=function(){var w,I=[],E=!1,X,o,i,h,k,x,j=10,v=0;function _(T,g,D,b,N){w=D;I.push(T,b);var C=new e9(W.E.Z,!0);
C.data={d:W.t.GV,ei:"setFPS",di:j,qu:L};N.c(C)}function L(T){j=Math.max(1,Math.min(60,T));U()}function U(){if(E||I.length==0)return;
E=!0;X=document.createElement("canvas");o=X.getContext("2d");i=document.createElement("video");var T="data:"+"video/mp4"+";base64,"+gt.qU(I.shift());
i.src=T;i.muted=!0;i.currentTime=0;i.addEventListener("canplay",n,!1);i.addEventListener("timeupdate",a,!1)}function n(T){i.removeEventListener("canplay",n);
h=X.width=i.videoWidth;k=X.height=i.videoHeight;x=[];i.play()}function a(T){clearTimeout(v);o.drawImage(i,0,0);
x.push({e8:"_a_"+x.length+","+Math.round(1e3/j),WG:new dC(0,0,h,k),data:o.getImageData(0,0,h,k).data.buffer});
var g=i.currentTime+1/j;if(g<i.duration&&T){i.currentTime=g;v=setTimeout(a,1e3)}else{w(null,x,I.shift());
i.removeEventListener("timeupdate",a);E=!1;U();x=null}}return{RJ:!1,$T:!0,CE:_}}();gt.MO={};gt.MO.CE=function(w){var I=new Uint8Array(w),E=0,X=112,o=42,i=M.vc,v;
E+=8;var h=I[E];E++;if(h!=o)throw"e";var k=i(I,E);E+=4;var x=M.KW(I,E,k);E+=k*2;var j=[];while(E<I.length){v=i(I,E);
E+=4;if(v!=X)throw v;E+=4;v=I[E];E++;if(v!=o)throw v;var _=i(I,E);E+=4;var L=I[E];E++;if(L!=o){E-=5;
_=i(I,E);E+=8;v=I[E];E++;if(v!=o)throw v}var U=i(I,E)*2;E+=4;if(_>0)j.push(E+U);E+=U+_}var n=new DOMParser,a=n.parseFromString(x,"image/svg+xml").firstChild.firstChild,T=[];
gt.MO.PL(a,I,j,T);return T};gt.MO.PL=function(w,I,E,X){var o=w.firstChild.firstChild;if(o.tagName=="Image"){var i=o.getElementsByTagName("ImageDescription")[0],h=i.children[0].children,k=i.children[1].children,x=E.shift(),j=[];
for(var P=0;P<k.length;P++)j.push(parseInt(k[P].getAttribute("NumberOfElements")));while(j.length>3)j[2]*=j.pop();
var v=h.length,_=j[0],L=j[1],U=j[2],n=parseInt(k[0].getAttribute("BytesInc"));for(var a=0;a<U;a++){var T=Q.$(_*L*4);
Q.Ez(T,4278190080);for(var g=0;g<v;g++){var D=Q.$(_*L);if(n==1)for(var b=0;b<D.length;b++)D[b]=I[x+b];
else if(n==2)for(var b=0;b<D.length;b++)D[b]=Math.min(255,(I[x+b*2+1]<<8|I[x+b*2])>>>2);else throw n;
if(g!=3)Q.lJ(D,T,g);if(v==1){Q.lJ(D,T,1);Q.lJ(D,T,2)}x+=_*L*n}X.push({WG:new dC(0,0,_,L),data:T.buffer})}}else{var N=w.children,C=0;
while(C<N.length&&N[C].tagName!="Children")C++;if(C==N.length)throw"e";N=N[C].children;for(var Z=0;Z<N.length;
Z++)gt.MO.PL(N[Z],I,E,X)}};gt.a6Q=function(){function w(h,k,x,j,v){var _=new Int8Array(h.buffer),L=new Int8Array(j.buffer),U=k+x;
while(k<U){var eS=_[k];k++;if(eS>=0&&eS<128)for(var P=0;P<eS+1;P++){L[v]=_[k];v++;k++}if(eS>=-127&&eS<0){for(var P=0;
P<-eS+1;P++){L[v]=_[k];v++}k++}}return v}function I(h,k,x,j,v,_){var L=k*x*j>>>3,U=Q.$(L*v),n=X(h,0,0)[0];
for(var a=0;a<v;a++){var T=n[a+1];if(_){var g=gt.FB("jpg").CE(T.buffer),D=Q.$(L);Q.V0(new Uint8Array(g[0].data),D);
U.set(D,L*a)}else if(T[0]==255&&T[1]==216&&T[2]==255){var b=UTIF.LosslessJpegDecode(T);U.set(new Uint8Array(b.buffer),L*a)}else w(T,64,T.length,U,L*a)}return U}function E(h){var k=new Uint8Array(h),x=0,j=M.jz(k,0,128);
x+=128;var v=M.jz(k,x,4);x+=4;var _=o(k,x,0)[0],L=_.g28;if(L==null){alert("No image.");return[]}var U=L.cols,n=L.rows,a=U*n,T=L.photoInterpret,g=L.bitsAlloc,D=L.bitsStored,b=L.lossyCompr;
if(b==null)b=_.g8.lossyCompr;var N=_.g7fe0.pixelData,C=L.numOfFrames;C=C?parseInt(C):1;var Z=new Uint8Array(N.buffer),S=a*g>>>3;
if(Z.length!=S*C){N=I(N,U,n,g,C,b)}else{}if(g==16)N=new Uint16Array(N.buffer);console.log(L);console.log(_);
var u=[];for(var p=0;p<C;p++){var f=p*S,h=Q.$(U*n*4);h.fill(255);if(T=="MONOCHROME2"){var d=0,l=255,A=L.largestValue,B=L.smallestValue;
if(A!=null){l=A;d=B}else if(D!=8){l=0;d=1e9;for(var P=0;P<a;P++){var e=N[f+P];if(e>1<<D-8){if(e>l)l=e;
if(e<d)d=e}}}var m=255/(l-d);for(var P=0;P<a;P++){var e=Math.max(0,Math.min(255,(N[f+P]-d)*m)),$=P*4;
h[$]=h[$+1]=h[$+2]=e}}else if(T=="PALETTE COLOR"){var V=L.pltRed,H=L.pltGreen,F=L.pltBlue;for(var P=0;
P<a;P++){var G=N[f+P],$=P*4;h[$]=V[G]>>>8;h[$+1]=H[G]>>>8;h[$+2]=F[G]>>>8}}else throw T;u.push({WG:new dC(0,0,U,n),data:h.buffer})}return u}function X(h,k,x){var j=M.s0,v=M.Yl,_=M.vc,L=[],U=k;
while(k<h.length){var n=j(h,k);k+=2;var a=j(h,k);k+=2;var T=_(h,k);k+=4;if(n==65534&&a==57344){if(T==4294967295){var g=o(h,k,x+1);
L.push(g[0]);k=g[1]}else{L.push(h.slice(k,k+T));k+=T}}else if(n==65534&&a==57357){}else if(n==65534&&a==57565)break;
else throw"e"}return[L,k]}function o(h,k,x){var j=M.s0,v=M.Yl,_=M.vc,L={},U="\t".repeat(x);while(k<h.length){var n=j(h,k),D="",b=0,C=null;
k+=2;var a=j(h,k);k+=2;var T=n.toString(16),g=a.toString(16);if(n==65532)break;if(n==65534&&a==57357){k-=4;
break}if(n==65534&&a==57565)throw"e";if(a==0){k+=8;continue}if(65<=h[k+1]){D=M.jz(h,k,2);k+=2;if(D=="OB"||D=="SQ"||D=="OW"){b=_(h,k+2);
k+=6}else{b=j(h,k);k+=2}}else{D=i[T][g].split(",")[1];b=_(h,k);k+=4}var N=i[T][g];if(N)N=N.split(",")[0];
if(N==null){N="t"+g}if(D=="SQ"){var Z=X(h,k,x);C=Z[0];k=Z[1];b=0}else if(D=="US")C=j(h,k);else if(D=="SS")C=v(h,k);
else if(D=="UL")C=_(h,k);else if(D=="FL")C=M.G5(h,k);else if(D=="AT")C=[j(h,k),j(h,k+2)];else if(D=="OB")C=h.slice(k,k+b);
else if(D=="OW")C=new Uint16Array(h.slice(k,k+b).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(D)!=-1){var S=k+b;
while(h[S-1]==0)S--;C=M.jz(h,k,S-k).trim()}else{console.log(U,JSON.stringify(M.jz(h,k,Math.min(b,32))));
throw D}if(L["g"+T]==null)L["g"+T]={};L["g"+T][N]=C;k+=b}return[L,k]}var i={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{CE:E}}();gt.B4={};gt.B4.CE=function(w){var I=new Uint8Array(w),E=0,X={},v=1e9;for(var P=0;P<306;
P++){var o=M.jz(I,E,8).trim(),i=M.jz(I,E+9,71).split("/")[0].trim();X[o]=i;E+=80;if(o=="END"){E=Math.ceil(E/2880)*2880;
break}}var h=parseInt(X.NAXIS1),k=parseInt(X.NAXIS2),x=h*k,j=parseInt(X.BITPIX),_=-1e9,L=new Float32Array(x),U=new Float32Array(w,E,w.byteLength-E>>>2);
for(var P=0;P<x;P++){var n=P<<2,a=P<<1;if(j==-32){var T=I[E+n+0];I[E+n+0]=I[E+n+3];I[E+n+3]=T;var T=I[E+n+1];
I[E+n+1]=I[E+n+2];I[E+n+2]=T;L[P]=U[P]}else if(j==16){L[P]=M.s0(I,E+a)}else throw j;var g=L[P];if(g<v)v=g;
if(g>_)_=g}var D=Q.$(x*4),b=1/_;for(var N=0;N<k;N++)for(var C=0;C<h;C++){var P=N*h+C,Z=(k-N-1)*h+C,n=Z<<2,g=L[P]*b;
D[n]=D[n+1]=D[n+2]=255*g;D[n+3]=255}return[{WG:new dC(0,0,h,k),data:D,e8:X.OBJECT}]};gt.lk={};gt.lk.CE=function(w){var I=new Uint8Array(w),E=16,X=M.jz(I,E,4),i=32,g=0,D=0,b=!1,V;
E+=4;var o=M.jz(I,E,8);E+=8;while(I[E+i-1]==0)i--;var h=M.jz(I,E,i);E+=32;var k=M.jz(I,E,4);E+=4;E+=20;
var x=M.W(I,E);E+=4;var j=M.W(I,E);E+=4;var v=M.W(I,E);E+=4;var _=M.W(I,E);E+=4;var L=M.W(I,E);E+=4;
var U=M.W(I,E);E+=4;var n="FujiFilm "+h,a=[0,1,1,2];if(n=="FujiFilm X10"){n="FujiFilm FinePix X10";a=[2,1,1,0]}var T={t271:["FujiFilm"],t272:[n],t277:[1],t33421:[2,2],t33422:a,gO:1};
E=v;var N=[],C=M.vH,Z=M.W(I,E);E+=4;for(var P=0;P<Z;P++){var S=C(I,E);E+=2;var u=C(I,E);E+=2;if(S==256){D=C(I,E);
g=C(I,E+2)}else if(S==272){N=[C(I,E),C(I,E+2)]}else if(S==273){N.push(C(I,E),C(I,E+2))}else if(S==304){b=!(I[E]>>>7)}else if(S==305){var p=Math.round(Math.sqrt(u)),f=[];
for(var d=0;d<u;d++)f.push(I[E+d]);f.reverse();T.t33421=[p,p];T.t33422=f}else if(S==12272){var l=C(I,E),A=C(I,E+2),B=C(I,E+6);
T.t50728=[l/A,1,l/B]}E+=u}var e=g<D,m=I.slice(L,L+U),$=Math.round(U*8/(g*D));if(m[0]==73&&m[1]==73&&m[2]==42){V=UTIF.decode(m.buffer)[0].fujiIFD;
$=V.t61443[0];var H=V.t61454,F=V.t61450;if(F)T.t50714=F;if(H)T.t50728=[H[0]/H[1],1,H[0]/H[2]];var G=V.t61447[0];
m=m.slice(G,G+V.t61448[0])}var U=m.length,J=U*8<g*D*$;if(J){console.log("compressed");var c=T.t33422,r=~~Math.sqrt(c.length),s=[];
for(var P=0;P<r;P++)s[P]=c.slice(P*r,P*r+r);m=new Uint8Array(UTIF._decompressRAF(m,s).buffer);U=m.length}function z(hm,t,cT){cT=cT<<8-(t&7);
var c4=t>>>3;hm[c4]|=cT>>>16;hm[c4+1]|=cT>>>8;hm[c4+2]|=cT}var Y=U*8/(g*D);if(Y==16)for(var P=0;P<U;
P+=2){var ax=m[P];m[P]=m[P+1];m[P+1]=ax}else if(Y==14){for(var P=0;P<U;P+=4){var ax=m[P];m[P]=m[P+3];
m[P+3]=ax;ax=m[P+1];m[P+1]=m[P+2];m[P+2]=ax}}else if(Y==12)for(var P=0;P<U;P+=3){var iW=m[P+2]<<16|m[P+1]<<8|m[P+0];
iW=iW>>>12|(iW&4095)<<12;m[P]=iW>>>16&255;m[P+1]=iW>>>8&255;m[P+2]=iW&255}if(e)m=gt.lk.a0u(m,g,D);var y=e?2:1;
g*=y;T.t256=[g];T.t257=[D];T.t258=[$];T.t50719=[N[1],N[0]*y];T.t50720=[N[3],N[2]*y];T.width=g;T.height=D;
T.data=new Uint8Array(m.buffer);return[T]};gt.lk.a0u=function(w,I,E){w=new Uint16Array(w.buffer);var X=new Uint16Array(I*E*2);
for(var o=0;o<E;o+=2)for(var i=0;i<I;i++){var h=o*I+i,k=h*2,x=w[h],j=w[h+I];X[k+1]=X[k+2*I]=j;if(((o>>>1)+i&1)==0){X[k]=x;
X[k+2*I+1]=w[h+1]}else{X[k]=w[h-1];X[k+2*I+1]=x}}return X};gt.Sz={};gt.Sz.q7=!0;gt.Sz.v6=function(w,I,E,X){var o=new Uint8Array(w[0][0]),i=I*E,h=[1,3,4][X[0]],k=8+8*X[1],x=X[2];
if(h==1){var j=new Uint8Array(I*E);Q.qe(o,j,0);o=j}if(h==3){var j=new Uint8Array(I*E*3);for(var P=0;
P<i;P++){var v=P*4,_=P*3;j[_]=o[v];j[_+1]=o[v+1];j[_+2]=o[v+2]}o=j}if(k==16){var L=o.length,j=new Uint8Array(L*2);
for(var P=0;P<L;P++){var U=Math.round(o[P]*(65535/255));j[P*2+x]=U>>>8;j[P*2+1-x]=U&255}o=j}return o.buffer};
gt.Gr={};gt.Gr.CE=function(w,I){function E(x){return~~(.5+Q.qK(Math.max(0,Math.min(1,x)))*255)}var X=EXRLoader.parse(w),o=X.width,i=X.height,h=Q.$(o*i*4);
for(var k=0;k<i;k++)for(var x=0;x<o;x++){var P=(k*o+x)*4,j=((i-k-1)*o+x)*4;h[P]=E(X.data[j+0]);h[P+1]=E(X.data[j+1]);
h[P+2]=E(X.data[j+2]);h[P+3]=E(X.data[j+3])}return[{WG:new dC(0,0,o,i),data:h.buffer}]};gt.zI={};gt.zI.q7=!0;
gt.zI.RJ=!0;gt.zI.v6=function(w,I,E,X,o){X=["",100,!1,!1,!1,0];X[6]=["jpg"];var i=new ToDXF;b0.hI(w,X,i,o.vj);
return i.buffer};gt.zI.CE=function(w,I){var E=72,X=new am(1,0,0,1,0,0);X.scale(E/72,E/72);I.nN=E;var o=new d1(I,X,!1);
FromDXF.Parse(w,o)};gt.jL={};gt.jL.CE=function(){var w=M.s0,I=M.vc,E=M.jz,X;function o(h,k,x,j,v){var _=I(h,x),L=I(h,x+4),U=I(h,x+8),n=w(h,x+12),a=w(h,x+14);
x+=16;var T={};for(var P=0;P<n+a;P++){var g=I(h,x),D=I(h,x+4),b,N;if(g>>>31==1){g=g&16777215}if(P<n)b=M.KW(h,k+g+2,w(h,k+g));
else b="id"+g;var C=j.slice(0);C.push(b);if(D>>>31==1){D=D&268435455;N=o(h,k,k+D,C,v)}else{var Z=I(h,k+D),S=I(h,k+D+4),u=I(h,k+D+8),p=I(h,k+D+12);
if(p!=0)throw"e";if(Z<v[0]||Z>v[0]+v[1])throw"e";var f=v[2]+Z-v[0];N=h.slice(f,f+S);var d=gt.mq(N.buffer);
if(d&&["bmp","png","ico"].indexOf(d)!=-1){var l=gt.FB(d);if(!l.RJ){var A=null;try{A=l.CE(N.buffer)}catch(df){}if(A){A[0].e8=C[1];
X.push(A[0])}}}else if(d)console.log(d)}T[b]=N;x+=8}return T}function i(h){X=[];var k=new Uint8Array(h),x=0,j=w(k,x);
x+=2;x+=58;var v=I(k,x);x+=4;x=v;var _=E(k,x,4);x+=4;var L=w(k,x);x+=2;var U=w(k,x);x+=2;var n=I(k,x);
x+=4;var a=I(k,x);x+=4;var T=I(k,x);x+=4;var g=w(k,x);x+=2;var D=w(k,x);x+=2;x+=g;var b={};for(var P=0;
P<U;P++){var N=x;while(k[N]!=0)N++;var C=E(k,x,N-x),Z=I(k,x+8),S=I(k,x+12),u=I(k,x+16),p=I(k,x+20),f=I(k,x+24),d=I(k,x+28),l=w(k,x+32),A=w(k,x+34),D=I(k,x+36);
b[C]=[S,Z,p,u,D];if(f+d!=0)throw"e";x+=40}for(var B in b){var e=b[B];x=e[2];if(B==".rsrc"){var m=o(k,x,x,[],e),$="id134"}}return X}return i}();
gt.oB={};gt.oB.RJ=!0;gt.oB.CE=function(w,I){g3.fM(w,I)};(function(){var w=gt.UJ.get("wasm/zstd").buffer;
WebAssembly.instantiate(w).then(function(I){var E=I.instance.exports;gt.oB.afF=E})}());gt.oB.nu=function(w,I){var E=gt.oB.afF,X=w.length,o=E.memory,i=2*X+1e6,x=8;
gt.oh(E,i);var h=new Uint8Array(o.buffer),k=E.malloc(X);h.set(w,k);while(!0){var j=I==null?X*x:I;gt.oh(E,i+j);
var v=E.malloc(j),_=E.ZSTD_decompress(v,j,k,X);if(_==-70){E.free(v);x+=x>>>1;if(I!=null)throw"error"}else{h=new Uint8Array(o.buffer);
w=h.slice(v,v+_);E.free(v);break}}E.free(k);return w};gt.Sq={};gt.Sq.RJ=!0;gt.Sq.CE=function(){var w=0,I=1,E=2,X=3,o=4,i=5,h=6,k=7,x=1,j=2,v=7,_=8,L=9,U,n,a,T,g;
function D(){var eS=M.Qv(U,n);n+=4;return eS}function b(){var V=0,H=0;for(var P=0;P<5;P++){var F=U[n++];
V+=(F&127)<<H;H+=7;if((F&128)==0)break}return V}function N(){var V=b(),H=M.YV(U,n,V);n+=V;return H}function C(){return{typeName:N(),au7:D()}}function Z(){var V=D(),H=N(),F=[],G=D();
for(var P=0;P<G;P++)F.push([N()]);return{id:V,gm:H,avW:F}}function S(V){var H=V.avW,F=[];for(var P=0;
P<H.length;P++)H[P].push(U[n++]);for(var P=0;P<H.length;P++){var G=H[P][1],J;H[P].push(u(G))}}function u(V){var H;
if(V==w)H=U[n++];else if(V==X)H=N();else if(V==o)H=C();else if(V==I||V==E||V==h||V==i){}else throw V;
return H}function p(V,H,F){var G;if(V==w){if(H==x)G=U[n++]==1;else if(H==j){G=U[n++]}else if(H==_)G=D();
else if(H==L){G=D();D()}else throw H}else if(V==X){G=A(F+1)}else if(V==o){G=A(F+1)}else if(V==i){G=A(F+1)}else if(V==I){G=A(F+1)}else if(V==h){G=A(F+1)}else throw V;
return G}function f(V,H){var F=a["c"+V],G=F.avW,J={_class:F.gm};for(var P=0;P<G.length;P++){var c=G[P],r=c[1],s=c[2],z=p(r,s,H),Y=c[0];
J[Y]=z}return J}function d(V,H,F,G){var J=[];for(var P=0;P<V;P++){var c=p(H,F,G);if(c.U8&&c.U8=="null_count"){var r=c.P$;
for(var s=0;s<r;s++)J.push(null);P+=r-1}else J.push(c)}return J}function l(){return[D(),D()]}function A(V){if(V==null)throw"e";
var H=null,F=U[n],G=null;n++;if(F==0){var J=D(),c=D(),r=D(),s=D();H=[J,c,r,s]}else if(F==1){G=D();var z=D();
H=f(z,V)}else if(F==4){var Y=Z();G=Y.id;S(Y);a["c"+Y.id]=Y;H=f(Y.id,V)}else if(F==5){var Y=Z();G=Y.id;
S(Y);var ax=D();a["c"+Y.id]=Y;H=f(Y.id,V)}else if(F==6){G=D();var iW=N();H=iW}else if(F==7){G=D();var y=U[n++];
if(y!=0)throw y;var hm=D();if(hm!=1)throw hm;var t=D(),cT=U[n++],c4=u(cT);H=d(t,cT,c4,V)}else if(F==9){var kv=D();
H={U8:"ref",P$:kv};g["o"+kv]=!0}else if(F==10){H={U8:"null_count",P$:1}}else if(F==11){H={U8:"end"}}else if(F==12){var ax=D(),iL=N()}else if(F==13){var cr=U[n++];
H={U8:"null_count",P$:cr}}else if(F==16){var ga=l();G=ga[0];H=d(ga[1],o,null,V)}else if(F==17){var ga=l();
G=ga[0];H=d(ga[1],I,null,V)}else throw"e";if(G!=null&&G>0){if(T["o"+G]!=null)throw"e";T["o"+G]=H}return H}function B(V,T){if(V instanceof Array){for(var P=0;
P<V.length;P++)V[P]=e(V[P],T)}else if(V instanceof Object){for(var H in V)V[H]=e(V[H],T)}}function e(V,T){if(V&&V.U8&&V.U8=="ref")return T["o"+V.P$];
else return V}function m(V,H,F){U=new Uint8Array(V);n=0;a={};T={};g={};var G=M.jz(U,0,4);if(G!="PDN3")throw G;
n+=4;var J=M.s0(U,n)+U[n+2]*256*256;n+=3;var c=M.jz(U,n,J);n+=J;n+=2;while(!0){var r=A(0);if(r&&r.U8&&r.U8=="end")break}for(var s in g)if(T[s]==null)throw s;
for(var s in T)B(T[s],T);var z=T.o1;console.log(z);H.q=z.width;H.w=z.height;H.buffer=Q.$(H.q*H.w*4);
var Y=z.layers["ArrayList+_items"];for(var P=0;P<Y.length;P++){var ax=Y[P];if(ax==null)continue;console.log(ax);
var iW=ax["Layer+width"],y=ax["Layer+height"],hm=ax["Layer+properties"],t=ax.properties,cT=t.blendOp._class.split("+").pop();
cT=cT.slice(0,cT.length-7);var c4={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[cT],kv=H.XY();
kv.G_(hm.name);kv.opacity=hm.opacity;kv.Wz(hm.visible);kv.$B=c4;var iL=1<<16,cr=Math.ceil(iW*y/iL);kv.rect=new dC(0,0,iW,y);
kv.buffer=Q.$(iW*y*4);var ga=kv.buffer;n+=5;for(var iq=0;iq<cr;iq++){var ei=$();ga.set(ei[1],ei[0]*iL*4)}for(var hw=0;
hw<ga.length;hw+=4){var hC=ga[hw+0];ga[hw+0]=ga[hw+2];ga[hw+2]=hC}H.b.push(kv)}}function $(){var V=M.W(U,n);
n+=4;var H=M.W(U,n);n+=4;var F=pako.inflateRaw(U.slice(n+10));n+=H;return[V,F]}return m}();gt.Uf={};
gt.Uf.RJ=!0;gt.Uf.CE=function(w,I){dY.fM(w,I)};var R={};R.U7=!1;R.Oo=!1;R.CS=!1;R.U=document.createElement("canvas");
R.vu=null;R.uc=null;R.hC=0;(function(){var w={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},I;
if(!I)I=R.U.getContext("webgl",w);if(!I)I=R.U.getContext("experimental-webgl",w);if(I){R.U7=!0;R.Oo=!0;
R.vu=I;R.uc=I.createFramebuffer();I.bindFramebuffer(I.FRAMEBUFFER,R.uc);I.disable(I.BLEND);I.disable(I.DEPTH_TEST);
var E=I.createBuffer();I.bindBuffer(I.ARRAY_BUFFER,E);I.bufferData(I.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),I.STATIC_DRAW);
I.enableVertexAttribArray(0);I.vertexAttribPointer(0,2,I.FLOAT,!1,0,0)}}());R.a7P=function(w){w=w.replace(/\s\s+/g," ");
w=w.replace(/; /g,";");w=w.replace(/} /g,"}");w=w.replace(/ }/g,"}");w=w.replace(/{ /g,"{");w=w.replace(/ {/g,"{");
w=w.replace(/= /g,"=");w=w.replace(/ =/g,"=");w=w.replace(/\| /g,"|");w=w.replace(/ \|/g,"|");return w};
R.eZ=function(w){var I=R.vu;if(w>I.getParameter(I.MAX_TEXTURE_SIZE)){R.U7=!1;alert("Disabling WebGL")}};
R.Bv=function(w,I){return new Float32Array([(w.x-I.x)/I.q,(w.y-I.y)/I.w,w.q/I.q,w.w/I.w])};R.wH=function(){return this.U};
R.yS=function(w,I){var E=R.vu;E.bindFramebuffer(E.FRAMEBUFFER,R.uc);E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,w.q3,0);
E.viewport(0,0,w.q,w.w);if(I){E.enable(E.SCISSOR_TEST);E.scissor(I.x,I.y,I.q,I.w)}else E.disable(E.SCISSOR_TEST)};
R.VG=function(w,I,E){if(E)throw"error";var X=R.vu;X.disable(X.SCISSOR_TEST);X.bindFramebuffer(X.FRAMEBUFFER,null);
X.viewport(0,0,w,I);if(E){X.enable(X.SCISSOR_TEST);X.scissor(E.x,E.y,Math.round(E.q),Math.round(E.w))}else X.disable(X.SCISSOR_TEST)};
R.clear=function(){var w=R.vu;w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT)};R.Q9=function(w,I){if(I==null)I=0;
var E=(I>>>0&255)==0,X=(I>>>8&255)==0,o=(I>>>16&255)==0,i=(I>>>24&255)==0,h=(w>>>0&255)*(1/255),k=(w>>>8&255)*(1/255),x=(w>>>16&255)*(1/255),j=(w>>>24&255)*(1/255),v=R.vu;
v.colorMask(E,X,o,i);v.clearColor(h,k,x,j);v.clear(v.COLOR_BUFFER_BIT);v.colorMask(!0,!0,!0,!0)};R.eI=function(w,I,E,X,o){var i=I.LP(X);
if(o)i=i.LP(o);if(i.qo())return;var h=R.vu;R.yS(w);h.bindTexture(h.TEXTURE_2D,E.q3);h.copyTexSubImage2D(h.TEXTURE_2D,0,i.x-X.x,i.y-X.y,i.x-I.x,i.y-I.y,i.q,i.w)};
R.uD=function(P,w,I){var E=R.Ks[P];if(E==null||E.q!=w||E.w!=I){if(E)E.delete();E=new R.hV(w,I)}R.Ks[P]=E;
return E};R.Ks=[];R.UI=function(){this.x9=null;this.gh=null};R.UI.NS=null;R.UI.prototype.PW=function(w){if(this.gh)return;
this.gh={};var I=R.vu,E=this.x9,X=this.gh;for(var P=0;P<w.length;P++){var o=w[P];X[o]=I.getUniformLocation(E,o)}};
R.UI.prototype.qf=function(){};R.UI.prototype.rE=function(w){var I=R.vu;for(var P=0;P<w.length;P+=2){I.uniform1i(w[P],P>>>1);
I.activeTexture(I["TEXTURE"+(P>>>1)]);I.bindTexture(I.TEXTURE_2D,w[P+1])}I.activeTexture(I.TEXTURE0)};
R.UI.prototype.ba=function(w,I){var E=R.vu,X=E.createShader(E.FRAGMENT_SHADER);E.shaderSource(X,w);E.compileShader(X);
if(!E.getShaderParameter(X,E.COMPILE_STATUS))console.log(E.getShaderInfoLog(X));var o=E.createShader(E.VERTEX_SHADER);
E.shaderSource(o,I);E.compileShader(o);if(!E.getShaderParameter(o,E.COMPILE_STATUS))console.log(E.getShaderInfoLog(o));
var i=E.createProgram();E.attachShader(i,o);E.attachShader(i,X);E.linkProgram(i);if(!E.getProgramParameter(i,E.LINK_STATUS))console.log("Could not initialise shaders");
this.x9=i};R.UI.prototype.qP=function(){if(R.UI.NS!=this){R.vu.useProgram(this.x9);R.UI.NS=this}};R.Ay=function(w,I){R.mE++;
R.hC+=w*I;if(R.CS)console.log("GL.Channels instances: "+R.mE+", memory: "+R.hC);var E=R.vu;this.q=w;
this.w=I;this.q3=E.createTexture();this.T6=null;this.la(this.q3,w,I)};R.Ay.prototype.la=function(w,I,E){var X=R.vu;
X.bindTexture(X.TEXTURE_2D,w);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,X.NEAREST);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,X.NEAREST);
X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,X.CLAMP_TO_EDGE);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,X.CLAMP_TO_EDGE);
X.texImage2D(X.TEXTURE_2D,0,X.ALPHA,I,E,0,X.ALPHA,X.UNSIGNED_BYTE,null)};R.Ay.prototype.set=function(w,I){var E=R.vu;
E.bindTexture(E.TEXTURE_2D,this.q3);E.pixelStorei(E.UNPACK_ALIGNMENT,1);var X=this.q*this.w;if(I==null||I.A()*10>X)E.texImage2D(E.TEXTURE_2D,0,E.ALPHA,this.q,this.w,0,E.ALPHA,E.UNSIGNED_BYTE,w);
else{var o=new dC(0,0,this.q,this.w),i=Q.$(I.A());Q.b_(w,o,i,I);E.texSubImage2D(E.TEXTURE_2D,0,I.x,I.y,I.q,I.w,E.ALPHA,E.UNSIGNED_BYTE,i)}E.pixelStorei(E.UNPACK_ALIGNMENT,4)};
R.Ay.prototype.delete=function(){var w=R.vu;if(this.q3){w.deleteTexture(this.q3);R.mE--;R.hC-=this.q*this.w}if(R.CS)if(R.CS)console.log("GL.Channels instances: "+R.mE+", memory: "+R.hC*4)};
R.mE=0;R.hV=function(w,I,E){if(E==null)E=!1;R.mE++;R.hC+=w*I*4;if(R.CS)console.log("GL.Channels instances: "+R.mE+", memory: "+R.hC);
var X=R.vu;this.atE=E;this.q=w;this.w=I;this.q3=X.createTexture();this.T6=null;this.la(this.q3,w,I)};
R.hV.prototype.set=function(w,I){var E=R.vu;E.disable(E.SCISSOR_TEST);E.bindTexture(E.TEXTURE_2D,this.q3);
if(w==null||w instanceof Uint8Array){var X=this.q*this.w;if(I==null||I.A()*10>X)E.texImage2D(E.TEXTURE_2D,0,E.RGBA,this.q,this.w,0,E.RGBA,E.UNSIGNED_BYTE,w);
else{var o=Q.$(I.A()*4);Q.D6(w,new dC(0,0,this.q,this.w),o,I);E.texSubImage2D(E.TEXTURE_2D,0,I.x,I.y,I.q,I.w,E.RGBA,E.UNSIGNED_BYTE,o)}}else E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,w)};
R.hV.prototype.get=function(w){var I=R.vu;R.yS(this);I.readPixels(0,0,this.q,this.w,I.RGBA,I.UNSIGNED_BYTE,w)};
R.hV.prototype.Xt=function(w){if(w.qo())return;var I=R.vu;if(this.T6==null){this.T6=I.createTexture();
this.la(this.T6,this.q,this.w);R.mE++;R.hC+=this.q*this.w*4}I.bindFramebuffer(I.FRAMEBUFFER,R.uc);I.bindTexture(I.TEXTURE_2D,this.T6);
if(w){var E=Math.max(w.x,0),X=Math.max(w.y,0);I.copyTexSubImage2D(I.TEXTURE_2D,0,E,X,E,X,w.q,w.w)}else I.copyTexImage2D(I.TEXTURE_2D,0,I.RGBA,0,0,this.q,this.w,0)};
R.hV.prototype.la=function(w,I,E){var X=R.vu;X.bindTexture(X.TEXTURE_2D,w);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,this.atE?X.LINEAR:X.NEAREST);
X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,X.NEAREST);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,X.CLAMP_TO_EDGE);
X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,X.CLAMP_TO_EDGE);X.texImage2D(X.TEXTURE_2D,0,X.RGBA,I,E,0,X.RGBA,X.UNSIGNED_BYTE,null)};
R.hV.prototype.delete=function(){var w=R.vu;if(this.q3){w.deleteTexture(this.q3);R.mE--;R.hC-=this.q*this.w*4}if(this.T6){w.deleteTexture(this.T6);
R.mE--;R.hC-=this.q*this.w*4}if(R.CS)if(R.CS)console.log("GL.Channels instances: "+R.mE+", memory: "+R.hC)};
R.hV.prototype.clone=function(){var w=R.vu,I=new R.hV(this.q,this.w);R.yS(this);w.bindTexture(w.TEXTURE_2D,I.q3);
w.copyTexImage2D(w.TEXTURE_2D,0,w.RGBA,0,0,this.q,this.w,0);return I};R.hu={a4H:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a0D:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",dY:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",B1:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",XE:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Mp:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",ZT:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",MB:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",aur:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",cX:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",awi:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",LM:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",H0:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",fz:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",a2:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",J4:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",h_:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",Ww:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",HX:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",a8J:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",aka:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",hH:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",EQ:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
R.e={};R.e.uJ={};R.e.uQ=null;R.e.Rm=null;R.e.Kb=null;R.e.QE=function(w,I,E,X,o,i,h,k){if(k==null)k=aQ.aT();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(w)==-1){h=h*k.fill;k.fill=1;k.style=!1}var x=w+(k.Sn?"1":"");
if(R.e.uJ[x]==null)R.e.uJ[x]=new R.e.Sy(w,k.Sn!=null);var j=R.e.uJ[x],v=E.LP(o).LP(i);v.offset(-o.x,-o.y);
if(v.qo())return;var _=R.vu;R.yS(X,v);X.Xt(v);j.qP();j.qf(I.q3,X.T6,R.Bv(E,o),h,k.fill,k.style?1:0,k.zl?1:0,k.Sn?new Float32Array(k.Sn):null);
_.drawArrays(_.TRIANGLES,0,6)};R.e.Xs=function(w,I,E,X,o,i,h,k,x,j,v){if(R.e.uQ==null)R.e.uQ=new R.e.OJ(!0,!0);
if(R.e.Rm==null)R.e.Rm=new R.e.OJ(!0,!1);if(R.e.Kb==null)R.e.Kb=new R.e.OJ(!1,!0);var _=j?1:0,L=w?o?R.e.uQ:R.e.Rm:R.e.Kb,U=new Float32Array(v?[v[0],v[1],v[2],1]:[1,1,1,1]),n=I?I.LP(X).LP(k):X.LP(k);
if(n.qo())return;n.offset(-X.x,-X.y);var a=R.vu;R.yS(E,n);E.Xt(n);L.qP();if(w==null)L.qf(null,E.T6,o.q3,R.Bv(X,X),R.Bv(i,X),h/255,x,_,U);
else if(o)L.qf(w.q3,E.T6,o.q3,R.Bv(I,X),R.Bv(i,X),h/255,x,_,U);else L.qf(w.q3,E.T6,null,R.Bv(I,X),null,h/255,x,_,U);
a.drawArrays(a.TRIANGLES,0,6)};R.e.atG=function(w,I,E){if(R.e.ad0==null)R.e.ad0=new R.e.Fa;var X=R.e.ad0,o=new dC(0,0,w.q,w.w),i=R.vu;
R.yS(I);I.Xt(o);X.qP();X.qf(o,w.q3,I.T6,E.q3);i.drawArrays(i.TRIANGLES,0,6)};R.e.Il={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
R.e.Sy=function(w,I){R.UI.call(this);var E="\t\t\tprecision highp float;\t\t\t"+R.hu.dY+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(I?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+R.hu.Mp+"\t\t\t"+R.hu.ZT+"\t\t\t"+R.hu.MB+"\t\t\t"+R.hu.a4H+"\t\t\t"+R.hu.a0D+"\t\t\t"+R.hu.aur+"\t\t\t"+R.hu.cX+"\t\t\t"+R.hu.awi+"\t\t\t"+R.hu.LM+"\t\t\t"+R.hu.hash+"\t\t\t"+(I?R.hu.hH:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+R.e.Il[w]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",X="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(w=="diss")E+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else E+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(I?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.ba(E,X)};R.e.Sy.prototype=new R.UI;R.e.Sy.prototype.qf=function(w,I,E,X,o,i,h,k){this.PW("srct alpha source target fill style keepBGA blIf".split(" "));
var x=R.vu,j=this.gh;x.uniform4fv(j.srct,E);x.uniform1f(j.alpha,X);x.uniform1f(j.fill,o);x.uniform1f(j.style,i);
x.uniform1f(j.keepBGA,h);if(k)x.uniform4fv(j.blIf,k);this.rE([j.source,w,j.target,I])};R.e.OJ=function(w,I){R.UI.call(this);
this.amQ=w;this.w9=I;var E="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+R.hu.H0+"\t\t\t"+R.hu.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(w?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(I?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(w?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(I?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",X="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.ba(E,X)};R.e.OJ.prototype=new R.UI;R.e.OJ.prototype.qf=function(w,I,E,X,o,i,h,k,x){if(this.w9)this.PW("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.PW("srct awg dissv source target cswitch".split(" "));var j=R.vu,v=this.gh;j.uniform4fv(v.srct,X);
if(this.w9){j.uniform4fv(v.wrct,o);j.uniform1f(v.wcolor,i)}else{j.uniform4fv(v.cswitch,x)}j.uniform1f(v.awg,h);
j.uniform1f(v.dissv,k);var _=[v.source,w,v.target,I];if(this.w9)_.push(v.weight,E);this.rE(_)};R.e.Fa=function(){R.UI.call(this);
var w="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",I="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.ba(w,I)};R.e.Fa.prototype=new R.UI;R.e.Fa.prototype.qf=function(w,I,E,X){this.PW(["rct","prev","next","alpha"]);
var o=R.vu,i=this.gh;o.uniform4fv(i.rct,[0,0,1,1]);this.rE([i.prev,I,i.next,E,i.alpha,X])};R._T={gd:{},Yp:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
R._T.iN=function(w,I){var E=cz.$P,X=[E.h5,E.h9,E.EG,E.g2,E.Pj,E.fB,E.Uh,E.vW].indexOf(w.type),o=R._T.gd[w.type];
if(o==null)o=R._T.gd[w.type]=new R.gd[X];o.qP();o.qf(I,w);R.vu.drawArrays(R.vu.TRIANGLES,0,6)};R.gd=[];
R.gd[0]=function(){R.UI.call(this);this.l9={};var w="\t\t\tprecision mediump float;\t\t\t"+R.hu.ZT+"\t\t\t"+R.hu.dY+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.ba(w,R._T.Yp)};R.gd[0].prototype=new R.UI;R.gd[0].prototype.qf=function(w,I){var E={o:I.pu,P:I.uk,L:I._h,lV:Q.$(I.pu.length)},X=E.o.length;
if(this.l9["m"+X]==null){this.l9["m"+X]={a81:new R.hV(X,1),Fr:Q.$(X*4)}}var o=this.l9["m"+X];Q.tR(E,o.Fr,0);
var i=o.a81;i.set(o.Fr);this.PW(["source","map","toGray","presLum"]);var h=R.vu,k=this.gh;h.uniform1f(k.toGray,I.SG?1:0);
h.uniform1f(k.presLum,I.ue?1:0);this.rE([k.source,w,k.map,i.q3])};R.gd[1]=function(){R.UI.call(this);
this.aui=new R.hV(256,1);this.afW=Q.$(256*4);var w="\t\t\t\tprecision mediump float;\t\t\t\t"+R.hu.J4+"\t\t\t\t"+R.hu.fz+"\t\t\t\t"+R.hu.a2+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.ba(w,R._T.Yp)};R.gd[1].prototype=new R.UI;R.gd[1].prototype.qf=function(w,I){Q.tR({o:I.ar6,P:I.am,L:I.avS,lV:Q.$(256)},this.afW);
this.aui.set(this.afW);this.PW(["source","map","cfa","cfb","colorize"]);var E=R.vu,X=this.gh;E.uniform1f(X.cfa,I.a01);
E.uniform1f(X.cfb,I.hq);E.uniform1i(X.colorize,I.amn);this.rE([X.source,w,X.map,this.aui.q3])};R.gd[2]=function(){R.UI.call(this);
var w="\t\t\tprecision mediump float;\t\t\t"+R.hu.J4+"\t\t\t"+R.hu.h_+"\t\t\t"+R.hu.Ww+"\t\t\t"+R.hu.fz+"\t\t\t"+R.hu.a2+"\t\t\t"+R.hu.a8J+"\t\t\t"+R.hu.aka+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.ba(w,R._T.Yp)};R.gd[2].prototype=new R.UI;R.gd[2].prototype.qf=function(w,I){this.PW(["source","vib","sat","yF"]);
var E=R.vu,X=this.gh;E.uniform1f(X.vib,I.GT[0]);E.uniform1f(X.sat,I.GT[1]);E.uniform3fv(X.yF,new Float32Array([I.GT[2],I.GT[3],I.GT[3]]));
this.rE([X.source,w])};R.gd[3]=function(){R.UI.call(this);var w="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.ba(w,R._T.Yp)};R.gd[3].prototype=new R.UI;R.gd[3].prototype.qf=function(w,I){this.PW(["source","trf"]);
var E=R.vu,X=this.gh;E.uniformMatrix4fv(X.trf,!1,new Float32Array(Q.vU.KQ(I.Ea)));this.rE([X.source,w])};
R.gd[4]=function(){R.UI.call(this);var w="\t\t\tprecision mediump float; \t\t\t"+R.hu.HX+"\t\t\t"+R.hu.J4+"\t\t\t"+R.hu.a2+"\t\t\t"+R.hu.fz+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.ba(w,R._T.Yp)};R.gd[4].prototype=new R.UI;R.gd[4].prototype.qf=function(w,I){this.PW(["source","mnm","mxm","shift","lim"]);
var E=R.vu,X=this.gh;E.uniform3fv(X.mnm,new Float32Array(I.fw));E.uniform3fv(X.mxm,new Float32Array(I.sv));
E.uniform3fv(X.shift,new Float32Array(I.shift));E.uniform1f(X.lim,I._K);this.rE([X.source,w])};R.gd[5]=function(){R.UI.call(this);
var w="\t\t\tprecision mediump float;\t\t\t"+R.hu.dY+"\t\t\t"+R.hu.B1+"\t\t\t"+R.hu.XE+"\t\t\t"+R.hu.fz+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.ba(w,R._T.Yp)};R.gd[5].prototype=new R.UI;R.gd[5].prototype.qf=function(w,I){this.PW(["source","cfs"]);
var E=R.vu,X=this.gh;E.uniform3fv(X.cfs,I.adb);this.rE([X.source,w])};R.gd[6]=function(){R.UI.call(this);
var w="\t\t\tprecision mediump float;\t\t\t"+R.hu.J4+"\t\t\t"+R.hu.B1+"\t\t\t"+R.hu.XE+"\t\t\t"+R.hu.fz+"\t\t\t"+R.hu.a2+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.ba(w,R._T.Yp)};R.gd[6].prototype=new R.UI;R.gd[6].prototype.qf=function(w,I){this.PW(["source","wght","prms"]);
var E=R.vu,X=this.gh,o=[I.ry,I.ayd,I.ZT,I.aax,I.VY,I.apv];E.uniform1fv(X.wght,new Float32Array(I.abM));
E.uniform1fv(X.prms,new Float32Array(o));this.rE([X.source,w])};R.gd[7]=function(){R.UI.call(this);this.EL={};
var w="\t\t\tprecision mediump float;\t\t\t"+R.hu.EQ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.ba(w,R._T.Yp)};R.gd[7].prototype=new R.UI;R.gd[7].prototype.qf=function(w,I){this.PW(["source","lut","N"]);
var E=R.vu,X=this.gh,o=I.wk,i=I.T1;if(this.EL["m"+o]==null)this.EL["m"+o]=new R.hV(o,o*o);var h=this.EL["m"+o];
h.set(i);E.uniform1f(X.N,o);this.rE([X.source,w,X.lut,h.q3]);E.activeTexture(E.TEXTURE1);var k=E.LINEAR;
E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,k);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,k);
E.activeTexture(E.TEXTURE0)};R.filter={GG:{},Yp:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aw6:0,a5q:1,Vr:2,at9:3,a9u:4,ag9:5,zV:6,akC:7};
R.filter.iN=function(w,I){var E=R.filter,X,o=w.type+":"+(w.iw?w.iw.join(","):""),X=R.filter.GG[o];if(X==null)X=R.filter.GG[o]=new R.GG[w.type](w.iw);
X.qP();X.qf(I,w);R.vu.drawArrays(R.vu.TRIANGLES,0,6)};R.GG=[0,0,0,0,0,0,0,0,0,0,0,0];R.GG[7]=function(){R.UI.call(this);
var w="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.ba(ap.qD(w),ap.qD(R.filter.Yp))};R.GG[7].prototype=new R.UI;R.GG[7].prototype.qf=function(w,I){this.PW(["source","iwh","kern"]);
var E=R.vu,X=this.gh;E.uniform2fv(X.iwh,I.lI);E.uniform1fv(X.kern,I.alm);this.rE([X.source,w])};R.GG[6]=function(w){R.UI.call(this);
var I=w[0],E=w[1],X=w[2],o="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",i=ap.qD(o);
i=i.replaceAll("PRC",X+".0");i=i.replaceAll("DIR",["x,0","0,x"][E]);this.ba(i,R._T.Yp)};R.GG[6].prototype=new R.UI;
R.GG[6].prototype.qf=function(w,I){this.PW(["source","iwh","rad"]);var E=R.vu,X=this.gh;E.uniform2fv(X.iwh,I.lI);
E.uniform1f(X.rad,I.Ae);this.rE([X.source,w])};R.GG[4]=function(w){R.UI.call(this);var I=w[0],E=w[1],X="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+w[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][E]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][I]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][E]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(E==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.ba(X,R._T.Yp)};R.GG[4].prototype=new R.UI;R.GG[4].prototype.qf=function(w,I){this.PW(["source","iwh","rrad","tr"]);
var E=R.vu,X=this.gh;E.uniform2fv(X.iwh,I.lI);E.uniform1f(X.rrad,I.zt);E.uniform1f(X.tr,I.a6F);this.rE([X.source,w]);
var o=E.LINEAR;o=E.NEAREST;E.activeTexture(E.TEXTURE0);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,o);
E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,o);E.activeTexture(E.TEXTURE0)};R.GG[5]=function(){R.UI.call(this);
var w="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.ba(ap.qD(w),ap.qD(R.filter.Yp))};R.GG[5].prototype=new R.UI;R.GG[5].prototype.qf=function(w,I){this.PW(["source","ssum","iwh","amnt","edgf"]);
var E=R.vu,X=this.gh;E.uniform2fv(X.iwh,I.lI);E.uniform1f(X.amnt,I.a7T);E.uniform1f(X.edgf,I.a1u);this.rE([X.source,w,X.ssum,I.a3M])};
R.GG[3]=function(){R.UI.call(this);var w="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.ba(ap.qD(w),ap.qD(R.filter.Yp))};R.GG[3].prototype=new R.UI;R.GG[3].prototype.qf=function(w,I){this.PW("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var E=R.vu,X=this.gh;E.uniform2fv(X.iwh,I.lI);E.uniform1f(X.tdep,I.ath);E.uniform1f(X.rrad,I.zt);E.uniform2fv(X.spec,I.a2Q);
E.uniform3fv(X.nois,I.a4B);E.uniformMatrix4fv(X.poly0,!1,I.a3c);E.uniformMatrix4fv(X.poly1,!1,I.aaj);
this.rE([X.source,w]);var o=E.LINEAR;E.activeTexture(E.TEXTURE0);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,o);
E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,o);E.activeTexture(E.TEXTURE0)};R.GG[0]=function(){R.UI.call(this);
var w="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.ba(ap.qD(w),ap.qD(R.filter.Yp))};R.GG[0].prototype=new R.UI;R.GG[0].prototype.qf=function(w,I){this.PW(["source","iwh","ld","shine"]);
var E=R.vu,X=this.gh;E.uniform2fv(X.iwh,I.lI);E.uniform3fv(X.ld,I.acg);E.uniform1f(X.shine,I.a7L);this.rE([X.source,w,X.tang,I.hg])};
R.GG[1]=function(){R.UI.call(this);var w="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.ba(ap.qD(w),ap.qD(R.filter.Yp))};R.GG[1].prototype=new R.UI;R.GG[1].prototype.qf=function(w,I){this.PW(["source","iwh","isc","bristle"]);
var E=R.vu,X=this.gh;E.uniform2fv(X.iwh,I.lI);E.uniform1f(X.isc,I.aqI);E.uniform1f(X.bristle,I.aeb);
this.rE([X.source,w])};R.GG[2]=function(){R.UI.call(this);var w="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.ba(ap.qD(w),ap.qD(R.filter.Yp))};R.GG[2].prototype=new R.UI;R.GG[2].prototype.qf=function(w,I){this.PW(["source","tang","iwh","sigma","expo"]);
var E=R.vu,X=this.gh;E.uniform2fv(X.iwh,I.lI);E.uniform1f(X.sigma,I.arP);E.uniform1f(X.expo,I.a1a);this.rE([X.source,w,X.tang,I.hg]);
var o=E.LINEAR;E.activeTexture(E.TEXTURE0);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,o);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,o);
E.activeTexture(E.TEXTURE0)};function Q(){}Q._={};Q.ao7={};Q.agi=function(){var w=[64,64,128,256,512,1024,2048],I=[];
for(var P=0;P<w.length;P++){var E=w[P],X=document.createElement("canvas");X.width=E;X.height=E;I.push(X.getContext("2d"))}return I}();
Q.wH=function(w,I){var E,X=Q.agi,P=1,o=Math.max(w,I);while(P<X.length&&o>X[P].canvas.width)P++;if(P==X.length){E=X[0];
var i=E.canvas;i.width=w;i.height=I}else{E=X[P];E.clearRect(0,0,w,I)}return E};Q.cs=function(w,I,E){var X=new Uint32Array(I*E);
X[0]=w[0];for(var o=1;o<I;o++)X[o]=X[o-1]+w[o];for(var i=1;i<E;i++){var P=i*I;X[P]=X[P-I]+w[P];for(var o=1;
o<I;o++)X[P+o]=w[P+o]+X[P+o-1]+X[P+o-I]-X[P+o-I-1]}return X};Q.Ek=function(w,I,E,X,o,i){var h=(o-1)*I,k=i*I;
return w[k+X]-w[k+E-1]-w[h+X]+w[h+E-1]};Q.rl=function(w,I,E){var X={},o=0,i=0,h=new Uint32Array(w.buffer),k=h.length,x=Date.now();
for(var j=1;j<E-1;j++)for(var v=1;v<I-1;v++){var _=j*I+v,L=h[_];if(L>>>24<230)i++;if(X[L]==null){X[L]=!0;
o++}}if(i!=0||o<20)return!1;return!0};Q.VI=function(w,I,E,X,o,i){if(o==null)o=i=0;X=Math.log(X)/Math.log(2);
X=Math.round(X);for(var P=0;P<E;P++)for(var h=0;h<I;h++){var k=P*I+h<<2,x=Q.e3(P+i,h+o,X);w[k]=w[k+1]=w[k+2]=x;
w[k+3]=255}};Q.e3=function(P,w,I){return 255-((P>>>I)+(w>>>I)&1)*51};Q.mv=function(w){var I=w.toString(16);
while(I.length<6)I="0"+I;return I};Q.rr=function(w){return parseInt(w,16)};Q.ZT=function(w){return.3*w.o+.59*w.P+.11*w.L};
Q.Mp=function(w){return Math.max(w.o,w.P,w.L)-Math.min(w.o,w.P,w.L)};Q.XP=function(w,I,E){return.3*w+.59*I+.11*E};
Q.a3a=function(w,I,E){return Math.max(w,I,E)-Math.min(w,I,E)};Q.B1=function(w,I){var E=I-w,X=Math.abs(E),o=E-1,i=E+1;
if(Math.abs(o)<X)E=o;else if(Math.abs(i)<X)E=i;return E};Q.qK=function(w){return w<.0031308?12.92*w:1.055*Math.pow(w,1/2.4)-.055};
Q.HF=function(w){return w<.04045?w/12.92:Math.pow((w+.055)/1.055,2.4)};Q.a0m=function(w,I){var E=Math.min(w.length,I.length);
for(var P=0;P<E;P+=4){var X=w[P],o=w[P+1],i=w[P+2];I[P]=16+Math.floor(65.481/255*X+128.553/255*o+24.966/255*i+.5);
I[P+1]=128-Math.floor(37.797/255*X-74.203/255*o+112/255*i+.5);I[P+2]=128+Math.floor(112/255*X-93.786/255*o-18.214/255*i+.5);
I[P+3]=w[P+3]}};Q.a8e=function(w,I,E){var X,o,i,h=Math.max(w,I,E),k=Math.min(w,I,E);i=h;if(h!=0)o=(h-k)/h;
else o=0;if(o==0)X=0;else{var x=h-k,j=(h-w)/x,v=(h-I)/x,_=(h-E)/x;if(w==h)X=_-v;else if(I==h)X=2+j-_;
else X=4+v-j;X*=1/6;if(X<0)X=X+1}return{Ns:X,Ls:o,L:i}};Q.ac$=function(w,I,E){var X=0,o=0,i=0;if(I==0)X=o=i=E;
else{var h=(w-Math.floor(w))*6,k=Math.floor(h),x=h-Math.floor(h),j=E*(1-I),v=E*(1-I*x),_=E*(1-I*(1-x));
switch(k){case 0:X=E;o=_;i=j;break;case 1:X=v;o=E;i=j;break;case 2:X=j;o=E;i=_;break;case 3:X=j;o=v;
i=E;break;case 4:X=_;o=j;i=E;break;case 5:X=E;o=j;i=v;break}}return{o:X,P:o,L:i}};Q.fz=function(w,I,E){var X=Math.max(w,I,E),o=Math.min(w,I,E),i=0,h=0,k=(X+o)*.5;
if(X!=o){var x=X-o;h=k>.5?x/(2-(X+o)):x/(X+o);switch(X){case w:i=(I-E)/x+(I<E?6:0);break;case I:i=(E-w)/x+2;
break;case E:i=(w-I)/x+4;break}i*=1/6}return{Ns:i,Ls:h,U4:k}};Q.a2=function(w,I,E){var X,o,i;if(I==0)X=o=i=E;
else{var h=E<.5?E*(1+I):E+I-E*I,k=2*E-h;X=Q.J4(k,h,w+1/3);o=Q.J4(k,h,w);i=Q.J4(k,h,w-1/3)}return{o:X,P:o,L:i}};
Q.J4=function(w,I,E){if(E<0)E+=1;if(E>1)E-=1;if(E<1/6)return w+(I-w)*6*E;if(E<1/2)return I;if(E<2/3)return w+(I-w)*(2/3-E)*6;
return w};Q.h_=function(w,I,E){var X=Math.max(w,I,E),o=Math.min(w,I,E),i,h,k=X,x=X-o;h=X==0?0:x/X;if(X==o)i=0;
else{switch(X){case w:i=(I-E)/x+(I<E?6:0);break;case I:i=(E-w)/x+2;break;case E:i=(w-I)/x+4;break}i*=1/6}return{Ns:i,Ls:h,P$:k}};
Q.Ww=function(w,I,E){var X,o,i,P,h,k,x,j;P=Math.floor(w*6);h=w*6-P;k=E*(1-I);x=E*(1-h*I);j=E*(1-(1-h)*I);
switch(P%6){case 0:X=E,o=j,i=k;break;case 1:X=x,o=E,i=k;break;case 2:X=k,o=E,i=j;break;case 3:X=k,o=x,i=E;
break;case 4:X=j,o=k,i=E;break;case 5:X=E,o=k,i=x;break}return{o:X,P:o,L:i}};Q.qv=function(){var w=[],I=[];
for(var P=0;P<2e3;P++){var E=P/1e3;w[P]=Q.HF(E);I[P]=E>.008856?Math.pow(E,1/3):(903.3*E+16)*(1/116)}return[w,I]}();
Q.HX=function(w,I,E){var X=Q.qv[0],o=Q.qv[1];w=X[~~(w*(1e3/255))];I=X[~~(I*(1e3/255))];E=X[~~(E*(1e3/255))];
var i=Q.vU.wj,h=i[0]*w+i[1]*I+i[2]*E,k=i[4]*w+i[5]*I+i[6]*E,x=i[8]*w+i[9]*I+i[10]*E;h=h*(100/96.72);
k=k*(100/100);x=x*(100/81.427);return Q.fQ(h,k,x)};Q.fQ=function(w,I,E){var X=Q.qv[1],o=X[~~(w*1e3)],i=X[~~(I*1e3)],h=X[~~(E*1e3)];
return{wb:116*i-16,lV:500*(o-i),L:200*(i-h)}};Q.OT=function(w,I,E){var X=903.3,o=.008856,i=(w+16)/116,h=i*i*i,k=i-E/200,x=k*k*k,j=I/500+i,v=j*j*j,_=x>o?x:(116*k-16)/X,L=h>o?h:(116*i-16)/X,U=v>o?v:(116*j-16)/X,n=U*96.72,a=L*100,T=_*81.427,g=Q.vU.mm(Q.vU.Ao,[n/100,a/100,T/100,0]);
for(var P=0;P<4;P++)g[P]=Math.max(0,Math.min(255,Q.qK(g[P])*255));return{o:g[0],P:g[1],L:g[2]}};Q.kh=function(w,I,E,X,o){var i=w.wb,h=w.lV,k=w.L,x=(i<I.wb?I.wb-i:E.wb<i?E.wb-i:0)*(1/100),j=(h<I.lV?I.lV-h:E.lV<h?E.lV-h:0)*(1/116),v=(k<I.L?I.L-k:E.L<k?E.L-k:0)*(1/116),_=Math.sqrt(x*x+j*j+v*v)*1.35;
return _<=X?Math.min(1,1.17*(1-_*o)):0};Q.V0=function(w,I,E){var X=w.length,o=.3,i=.59,h=.11;if(E){o=E[0];
i=E[1];h=E[2]}for(var P=0;P<X;P+=4)I[P>>2]=~~(w[P+0]*o+w[P+1]*i+w[P+2]*h+.5)};Q.SU=function(w,I){var E=I.length;
for(var P=0;P<E;P+=4){var X=w[P>>>2];I[P]=X;I[P+1]=X;I[P+2]=X}};Q.tR=function(w,I){var E=w.lV,X=w.o,o=w.P,i=w.L,h=Math.min(w.lV.length,I.buffer.byteLength>>>2),k=4*Math.floor(h/4),x=new Uint32Array(I.buffer),j=new Uint32Array(E.buffer),v=new Uint32Array(X.buffer),_=new Uint32Array(o.buffer),L=new Uint32Array(i.buffer);
for(var P=0;P<k;P+=4){var U=j[P>>2],n=L[P>>2],a=_[P>>2],T=v[P>>2];x[P]=U<<24|(n&255)<<16|(a&255)<<8|T&255;
x[P+1]=(U&65280)<<16|(n&65280)<<8|a&65280|(T&65280)>>>8;x[P+2]=(U&16711680)<<8|n&16711680|(a&16711680)>>>8|(T&16711680)>>>16;
x[P+3]=U&4278190080|(n&4278190080)>>>8|(a&4278190080)>>>16|(T&4278190080)>>>24}for(var P=k;P<h;P++)x[P]=E[P]<<24|i[P]<<16|o[P]<<8|X[P]};
Q.tK=function(w,I){var E=I.lV,X=I.o,o=I.P,i=I.L,h=Math.min(I.lV.length,w.buffer.byteLength>>>2),k=4*Math.floor(h/4),x=new Uint32Array(w.buffer),j=new Uint32Array(E.buffer),v=new Uint32Array(X.buffer),_=new Uint32Array(o.buffer),L=new Uint32Array(i.buffer);
for(var P=0;P<k;P+=4){var U=x[P],n=x[P+1],a=x[P+2],T=x[P+3];v[P>>2]=U&255|(n&255)<<8|(a&255)<<16|T<<24;
_[P>>2]=(U&65280)>>8|n&65280|(a&65280)<<8|(T&65280)<<16;L[P>>2]=(U&16711680)>>16|(n&16711680)>>8|a&16711680|(T&16711680)<<8;
j[P>>2]=U>>>24|n>>>24<<8|a>>>24<<16|T&4278190080}for(var P=k;P<h;P++){var g=x[P];X[P]=g>>0&255;o[P]=g>>8&255;
i[P]=g>>16&255;E[P]=g>>24&255}};Q.qe=function(w,I,E){var X=new Uint8Array(w.buffer),o=Math.min(X.length/4,I.length);
for(var P=0;P<o;P++){I[P]=X[(P<<2)+E]}};Q.lJ=function(w,I,E){var X=new Uint8Array(I.buffer),o=new Uint32Array(w.buffer),i=Math.min(X.length/4,w.length),P=0;
while(P+4<i){var h=o[P>>>2];X[(P<<2)+E]=h&255;X[(P<<2)+E+4]=h>>>8&255;X[(P<<2)+E+8]=h>>>16&255;X[(P<<2)+E+12]=h>>>24;
P+=4}while(P<i){X[(P<<2)+E]=w[P];P++}};Q.Ez=function(w,I,E){if(E==null)E=0;var X=new Uint32Array(w.buffer),o=X.length;
for(var P=0;P<o;P++)X[P]=X[P]&E|I};Q.aec=function(w,I,E,X,o){if(o==null)o=0;var i=new Uint32Array(w.buffer);
E=E.LP(I);var h=E.x-I.x,k=E.y-I.y,x=E.q,j=E.w,v=I.q;for(var _=0;_<j;_++){var P=(k+_)*v+h;for(var L=0;
L<x;L++){i[P]=i[P]&o|X;P++}}};Q.QM=function(w,I){var E=Math.min(w.buffer.byteLength,I.buffer.byteLength),X=E>>>2,w=new Uint32Array(w.buffer,0,X),I=new Uint32Array(I.buffer,0,X);
I.set(w)};Q.ZQ=function(w,I){var E=w.buffer.byteLength,X=I.buffer.byteLength,o=new Uint32Array(w.buffer,0,E>>2),i=new Uint32Array(I.buffer,0,X>>2);
if(E!=X)return!1;var h=o.length;for(var P=0;P<h;P++)if(i[P]!=o[P])return!1;return!0};Q.ja=function(w){var I=new Uint32Array(w.buffer),E=I.length;
for(var P=0;P<E;P++)I[P]=~I[P]};Q.agH=function(w){var I=w.length;for(var P=0;P<I;P+=4){w[P]=~w[P];w[P+1]=~w[P+1];
w[P+2]=~w[P+2]}};Q.alN=function(w){var I=w.length;for(var P=3;P<I;P+=4)w[P]=~w[P]};Q.au6=function(w){return w+(w%4==0?0:4-w%4)};
Q.$=function(w,I){if(I==null)I=!1;if(!I)w=Q.au6(w);try{var E=new Uint8Array(w)}catch(df){alert("Not enough RAM! (need "+Math.round(w/(1<<20))+" MB)",7e3);
throw"low_ram"}return E};Q.RQ=function(w){var I=w.length,E=w[I-2],X=w[I-1];while(X.q>=2&&X.w>=2){var o=Q.BH(E,X);
w.push(o.Fr,o.rect);E=o.Fr;X=o.rect}};Q.tY=function(w){var I=w.length,E=w[I-2],X=w[I-1];while(X.q>=2&&X.w>=2){var o=Q.ST(E,X);
w.push(o.Fr,o.rect);E=o.Fr;X=o.rect}};Q.BH=function(w,I,E){var X=I.q,o=I.w,i=X>>1,h=o>>1,k=new dC(I.x,I.y,i,h),x=E&&E.length==i*h*4?E:Q.$(i*h*4),j=new Uint32Array(w.buffer),v=new Uint32Array(x.buffer);
for(var _=0;_<h;_++)for(var L=0;L<i;L++){var U=_*i+L,n=(_<<1)*X+(L<<1),a=j[n],T=j[n+1],g=j[n+X],D=j[n+X+1],b=a>>>24,N=T>>>24,C=g>>>24,Z=D>>>24,S=b+N+C+Z;
if(S==1020){var u=(a>>>0&255)+(T>>>0&255)+(g>>>0&255)+(D>>>0&255)+2>>>2,p=(a>>>8&255)+(T>>>8&255)+(g>>>8&255)+(D>>>8&255)+2>>>2,f=(a>>>16&255)+(T>>>16&255)+(g>>>16&255)+(D>>>16&255)+2>>>2;
v[U]=255<<24|f<<16|p<<8|u}else if(S==0)v[U]=0;else{var u=(a>>>0&255)*b+(T>>>0&255)*N+(g>>>0&255)*C+(D>>>0&255)*Z,p=(a>>>8&255)*b+(T>>>8&255)*N+(g>>>8&255)*C+(D>>>8&255)*Z,f=(a>>>16&255)*b+(T>>>16&255)*N+(g>>>16&255)*C+(D>>>16&255)*Z,d=1/S;
u=~~(u*d+.5);p=~~(p*d+.5);f=~~(f*d+.5);v[U]=S+2>>>2<<24|f<<16|p<<8|u}}return{rect:k,Fr:x}};Q.jp=function(w,I,E){var X=I.q,o=I.w,i=X>>1,h=o>>1,k=new dC(I.x,I.y,i,h),x=E&&E.length==i*h*4?E:Q.$(i*h*4),j=new Uint32Array(w.buffer),v=new Uint32Array(x.buffer);
for(var _=0;_<h;_++)for(var L=0;L<i;L++){var U=_*i+L,n=(_<<1)*X+(L<<1),a=j[n],T=j[n+1],g=j[n+X],D=j[n+X+1],b=2+(a>>>0&255)+(T>>>0&255)+(g>>>0&255)+(D>>>0&255)>>>2,N=2+(a>>>8&255)+(T>>>8&255)+(g>>>8&255)+(D>>>8&255)>>>2,C=2+(a>>>16&255)+(T>>>16&255)+(g>>>16&255)+(D>>>16&255)>>>2,Z=2+(a>>>24&255)+(T>>>24&255)+(g>>>24&255)+(D>>>24&255)>>>2;
v[U]=Z<<24|C<<16|N<<8|b}return{rect:k,Fr:x}};Q.a5b=function(w,I,E){var X=I.q,o=I.w,i=2*Math.floor(X/3),h=2*Math.floor(o/3),k=new dC(I.x,I.y,i,h),x=E&&E.length==i*h*4?E:Q.$(i*h*4),j=new Uint32Array(w.buffer),v=new Uint32Array(x.buffer);
for(var _=0;_<h;_+=2)for(var L=0;L<i;L+=2){var U=_*i+L,n=(_*3>>>1)*X+(L*3>>>1),a=j[n],T=j[n+1],g=j[n+2],D=j[n+X],b=j[n+1+X],N=j[n+2+X],C=j[n+X+X],Z=j[n+1+X+X],S=j[n+2+X+X],u=a>>>24<<2,p=(a>>>16&255)*u,f=(a>>>8&255)*u,d=(a&255)*u,l=T>>>24<<1,A=(T>>>16&255)*l,B=(T>>>8&255)*l,e=(T&255)*l,m=g>>>24<<2,$=(g>>>16&255)*m,V=(g>>>8&255)*m,H=(g&255)*m,F=D>>>24<<1,G=(D>>>16&255)*F,J=(D>>>8&255)*F,c=(D&255)*F,r=b>>>24,s=(b>>>16&255)*r,z=(b>>>8&255)*r,Y=(b&255)*r,ax=N>>>24<<1,iW=(N>>>16&255)*ax,y=(N>>>8&255)*ax,hm=(N&255)*ax,t=C>>>24<<2,cT=(C>>>16&255)*t,c4=(C>>>8&255)*t,kv=(C&255)*t,iL=Z>>>24<<1,cr=(Z>>>16&255)*iL,ga=(Z>>>8&255)*iL,iq=(Z&255)*iL,ei=S>>>24<<2,hw=(S>>>16&255)*ei,hC=(S>>>8&255)*ei,j5=(S&255)*ei,ed=u+l+F+r,jn=m+l+ax+r,fj=t+iL+F+r,di=ei+iL+ax+r,b1=ed==0?0:1/ed,dI=jn==0?0:1/jn,h2=fj==0?0:1/fj,de=di==0?0:1/di,ds=0,jO=0,gy=0,fV=0;
ds=~~(.5+(d+e+c+Y)*b1);jO=~~(.5+(f+B+J+z)*b1);gy=~~(.5+(p+A+G+s)*b1);fV=~~(.5+ed*(1/9));v[U]=fV<<24|gy<<16|jO<<8|ds;
ds=~~(.5+(H+e+hm+Y)*dI);jO=~~(.5+(V+B+y+z)*dI);gy=~~(.5+($+A+iW+s)*dI);fV=~~(.5+jn*(1/9));v[U+1]=fV<<24|gy<<16|jO<<8|ds;
ds=~~(.5+(kv+iq+c+Y)*h2);jO=~~(.5+(c4+ga+J+z)*h2);gy=~~(.5+(cT+cr+G+s)*h2);fV=~~(.5+fj*(1/9));v[U+i]=fV<<24|gy<<16|jO<<8|ds;
ds=~~(.5+(j5+iq+hm+Y)*de);jO=~~(.5+(hC+ga+y+z)*de);gy=~~(.5+(hw+cr+iW+s)*de);fV=~~(.5+di*(1/9));v[U+i+1]=fV<<24|gy<<16|jO<<8|ds}return{rect:k,Fr:x}};
Q.a8H=function(w,I,E){var X=I.q,o=I.w,i=2*Math.floor(X/3),h=2*Math.floor(o/3),k=new dC(I.x,I.y,i,h),x=E&&E.length==i*h*4?E:Q.$(i*h*4),j=new Uint32Array(w.buffer),v=new Uint32Array(x.buffer);
for(var _=0;_<h;_+=2)for(var L=0;L<i;L+=2){var U=_*i+L,n=(_*3>>>1)*X+(L*3>>>1),a=j[n],T=j[n+1],g=j[n+2],D=j[n+X],b=j[n+1+X],N=j[n+2+X],C=j[n+X+X],Z=j[n+1+X+X],S=j[n+2+X+X],u=(a>>>16&255)<<2,p=(a>>>8&255)<<2,f=(a&255)<<2,d=(T>>>16&255)<<1,l=(T>>>8&255)<<1,A=(T&255)<<1,B=(g>>>16&255)<<2,e=(g>>>8&255)<<2,m=(g&255)<<2,$=(D>>>16&255)<<1,V=(D>>>8&255)<<1,H=(D&255)<<1,F=b>>>16&255,G=b>>>8&255,J=b&255,c=(N>>>16&255)<<1,r=(N>>>8&255)<<1,s=(N&255)<<1,z=(C>>>16&255)<<2,Y=(C>>>8&255)<<2,ax=(C&255)<<2,iW=(Z>>>16&255)<<1,y=(Z>>>8&255)<<1,hm=(Z&255)<<1,t=(S>>>16&255)<<2,cT=(S>>>8&255)<<2,c4=(S&255)<<2,kv=0,iL=0,cr=0;
kv=~~(.5+(f+A+H+J)*(1/9));iL=~~(.5+(p+l+V+G)*(1/9));cr=~~(.5+(u+d+$+F)*(1/9));v[U]=255<<24|cr<<16|iL<<8|kv;
kv=~~(.5+(m+A+s+J)*(1/9));iL=~~(.5+(e+l+r+G)*(1/9));cr=~~(.5+(B+d+c+F)*(1/9));v[U+1]=255<<24|cr<<16|iL<<8|kv;
kv=~~(.5+(ax+hm+H+J)*(1/9));iL=~~(.5+(Y+y+V+G)*(1/9));cr=~~(.5+(z+iW+$+F)*(1/9));v[U+i]=255<<24|cr<<16|iL<<8|kv;
kv=~~(.5+(c4+hm+s+J)*(1/9));iL=~~(.5+(cT+y+r+G)*(1/9));cr=~~(.5+(t+iW+c+F)*(1/9));v[U+i+1]=255<<24|cr<<16|iL<<8|kv}return{rect:k,Fr:x}};
Q.r0=function(w){var I=255,E=w.length;E-=E&31;for(var P=3;P<E;P+=32)I=I&w[P]&w[P+4]&w[P+8]&w[P+12]&w[P+16]&w[P+20]&w[P+24]&w[P+28];
return I!=255};Q.axN=function(w,I,E,X){var o=Q.BH,i=Q.a5b,k=0;if(!Q.r0(w)){o=Q.jp;i=Q.a8H}var h={Fr:w,rect:I},x=E;
while(x<.499){k++;x*=2}for(var P=0;P<k;P++)h=o(h.Fr,h.rect,X);if(x<.5001)h=o(h.Fr,h.rect,X);else h=i(h.Fr,h.rect,X);
return h};Q.aoU=function(w,I,E,X){var o=Q.ST,i=Q.mw,h={Fr:w,rect:I},k=0,x=E;while(x<.499){k++;x*=2}for(var P=0;
P<k;P++)h=o(h.Fr,h.rect,X);if(x<.5001)h=o(h.Fr,h.rect,X);else h=i(h.Fr,h.rect,X);return h};Q.ST=function(w,I,E){var X=I.q,o=I.w,i=X>>1,h=o>>1,k=new dC(I.x,I.y,i,h);
if(w==null)return{rect:k};var x=E&&E.length>=i*h?E:Q.$(i*h);for(var j=0;j<h;j++){var v=j*i;for(var _=0;
_<i;_++){var L=(j<<1)*X+(_<<1);x[v+_]=2+w[L]+w[L+1]+w[L+X]+w[L+X+1]>>>2}}return{rect:k,Fr:x}};Q.mw=function(w,I,E){var X=I.q,o=I.w,i=2*Math.floor(X/3),h=2*Math.floor(o/3),k=new dC(I.x,I.y,i,h);
if(w==null)return{rect:k};var x=E&&E.length>=i*h?E:Q.$(i*h);for(var j=0;j<h;j+=2)for(var v=0;v<i;v+=2){var _=j*i+v,L=(j*3>>>1)*X+(v*3>>>1),U=w[L]<<2,n=w[L+1]<<1,a=w[L+2]<<2,T=w[L+X]<<1,g=w[L+1+X],D=w[L+2+X]<<1,b=w[L+X+X]<<2,N=w[L+1+X+X]<<1,C=w[L+2+X+X]<<2;
x[_]=~~(.5+(U+n+T+g)*(1/9));x[_+1]=~~(.5+(a+n+D+g)*(1/9));x[_+i]=~~(.5+(b+N+T+g)*(1/9));x[_+i+1]=~~(.5+(C+N+D+g)*(1/9))}return{rect:k,Fr:x}};
Q.b_=function(w,I,E,X,o){var i=I.LP(X);if(o)i=i.LP(o);var h=Math.max(0,i.x-I.x),k=Math.max(0,i.x-X.x),x=Math.max(0,i.y-I.y),j=Math.max(0,i.y-X.y),v=i.q,_=i.w;
for(var P=0;P<_;P++){var L=(x+P)*I.q+h,U=(j+P)*X.q+k;E.set(new Uint8Array(w.buffer,L,v),U)}};Q.iO=function(w,I,E,X){if(I.ZQ(X)){Q.lJ(w,E,3);
return}var o=I.LP(X),i=Math.max(0,o.x-I.x),h=Math.max(0,o.x-X.x),k=Math.max(0,o.y-I.y),x=Math.max(0,o.y-X.y),j=o.q,v=o.w;
for(var P=0;P<v;P++){var _=(k+P)*I.q+i,L=(x+P)*X.q+h;for(var U=0;U<j;U++)E[(L+U<<2)+3]=w[_+U]}};Q.ho=function(w,I,E,X){var o=I.LP(X),i=Math.max(0,o.x-I.x),h=Math.max(0,o.x-X.x),k=Math.max(0,o.y-I.y),x=Math.max(0,o.y-X.y),j=o.q,v=o.w;
for(var P=0;P<v;P++){var _=(k+P)*I.q+i,L=(x+P)*X.q+h;for(var U=0;U<j;U++)E[L+U]=w[(_+U<<2)+3]}};Q.D6=function(w,I,E,X,o){if(I.ZQ(X)&&(o==null||o.ZQ(X))){Q.QM(w,E);
return}w=new Uint32Array(w.buffer),E=new Uint32Array(E.buffer);var i=I.LP(X);if(o)i=i.LP(o);var h=Math.max(0,i.x-I.x),k=Math.max(0,i.x-X.x),x=Math.max(0,i.y-I.y),j=Math.max(0,i.y-X.y),v=i.q,_=i.w,L=v&3,U=L==0?v:v-L;
for(var P=0;P<_;P++){var n=(x+P)*I.q+h,a=(j+P)*X.q+k;E.set(new Uint32Array(w.buffer,n*4,v),a)}};Q.eI=function(w,I,E,X){var o=I.LP(X),i=Math.max(0,o.x-I.x),h=Math.max(0,o.x-X.x),k=Math.max(0,o.y-I.y),x=Math.max(0,o.y-X.y),j=o.q,v=o.w,_=w.lV,L=w.o,U=w.P,n=w.L,a=E.lV,T=E.o,g=E.P,D=E.L;
for(var P=0;P<v;P++){var b=(k+P)*I.q+i,N=(x+P)*X.q+h;for(var C=0;C<j;C++){a[N+C]=_[b+C];T[N+C]=L[b+C];
g[N+C]=U[b+C];D[N+C]=n[b+C]}}};Q.mO=function(w){var I=w.length;for(var P=0;P<I;P+=4){var E=w[P+3];if(E==255)continue;
w[P]=~~(w[P]*E*(1/255)+.5);w[P+1]=~~(w[P+1]*E*(1/255)+.5);w[P+2]=~~(w[P+2]*E*(1/255)+.5)}};Q.Hq=function(w){var I=w.length;
for(var P=0;P<I;P+=4){var E=w[P+3];if(E==0||E==255)continue;var X=255/E;w[P]=~~(w[P]*X+.5);w[P+1]=~~(w[P+1]*X+.5);
w[P+2]=~~(w[P+2]*X+.5)}};Q.Y4=function(w,I){for(var P=0;P<w.length;P++)if(w[P]!=I)return!1;return!0};
Q.Jc=function(w){return w+1+(w>>>8)>>>8};Q.round=function(w,I){if(I==null)I=128;var E=w.length;for(var P=0;
P<E;P++)w[P]=w[P]<I?0:255};Q.aG=function(w,I){var E=w.length;for(var P=0;P<E;P++)w[P]=Math.round(w[P]*I)};
Q.tT=function(w,I){var E=new Uint32Array(w.buffer),X=new Uint32Array(I.buffer),o=E.length;for(var P=0;
P<o;P++){var i=E[P],h=X[P];X[P]=Q.Jc((i>>>24)*(h>>>24))<<24|Q.Jc((i>>>16&255)*(h>>>16&255))<<16|Q.Jc((i>>>8&255)*(h>>>8&255))<<8|Q.Jc((i&255)*(h&255))}};
Q.sC=function(w,I){var E=w.length;for(var P=0;P<E;P++)I[(P<<2)+3]=Q.Jc(I[(P<<2)+3]*w[P])};Q.av7=function(w,I,E,X){var o=Math.max(0,X.x-I.x),i=Math.max(0,I.x-X.x),h=Math.max(0,X.y-I.y),k=Math.max(0,I.y-X.y),x=Math.min(I.x+I.q,X.x+X.q)-Math.max(I.x,X.x),j=Math.min(I.y+I.w,X.y+X.w)-Math.max(I.y,X.y);
for(var P=0;P<j;P++){var v=(h+P)*I.q+o,_=(k+P)*X.q+i;for(var L=0;L<x;L++){E[_]=Q.Jc(E[_]*w[v]);v++;_++}}};
Q.HQ=function(w,I,E,X){var o=Math.max(0,X.x-I.x),i=Math.max(0,I.x-X.x),h=Math.max(0,X.y-I.y),k=Math.max(0,I.y-X.y),x=Math.min(I.x+I.q,X.x+X.q)-Math.max(I.x,X.x),j=Math.min(I.y+I.w,X.y+X.w)-Math.max(I.y,X.y);
for(var P=0;P<j;P++){var v=(h+P)*I.q+o,_=((k+P)*X.q+i<<2)+3;for(var L=0;L<x;L++){E[_]=Q.Jc(E[_]*w[v]);
v++;_+=4}}};Q.oq=function(w,I,E,X){var o=Math.max(0,X.x-I.x),i=Math.max(0,I.x-X.x),h=Math.max(0,X.y-I.y),k=Math.max(0,I.y-X.y),x=Math.min(I.x+I.q,X.x+X.q)-Math.max(I.x,X.x),j=Math.min(I.y+I.w,X.y+X.w)-Math.max(I.y,X.y);
for(var P=0;P<j;P++){var v=((h+P)*I.q+o<<2)+3,_=((k+P)*X.q+i<<2)+3;for(var L=0;L<x;L++){E[_]=Q.Jc(E[_]*w[v]);
v+=4;_+=4}}};Q.yB=function(w,I){if(I==null)I=1;var E=4*I,X=w.length>>>2,o=new Float64Array(256),i=new Float64Array(256),h=new Float64Array(256),k=new Float64Array(256),x=4*Math.floor(X/I)*I,j=0;
for(var P=0;P<x;P+=E){var v=w[P+0],_=w[P+1],L=w[P+2],U=w[P+3]*I,n=U*(1/255);i[v]+=n;h[_]+=n;k[L]+=n;
j+=U}for(var P=0;P<256;P++)o[P]=i[P]+h[P]+k[P];return[o,i,h,k,X,j/255]};Q.E4=function(w,I){function E(Z,S){var u=-1,p=0;
while(p<=S){u++;p+=Z[u]}return u}function X(Z,S){var u=256,p=0;while(p<=S){u--;p+=Z[u]}return u}function o(Z){var S=0,u=0;
for(var P=0;P<256;P++){u+=Z[P];S+=Z[P]*P*(1/255)}return S/u}var i=w[0],h=w[1]/100,k=w[2]/100,x=[],j=[];
for(var P=0;P<4;P++){var v=P==0?3:1;x[P]=E(I[P],v*h*I[5]);j[P]=X(I[P],v*k*I[5])}var _=[o(I[1]),o(I[2]),o(I[3])],L=_.slice(0);
L.sort(function(Z,S){return Z-S});var U=_.indexOf(L[1]),n=(_[0]+_[1]+_[2])/3,a=[];for(var P=0;P<4;P++){var T=0,g=255,D=x[P],b=j[P];
if(i==0&&P==0){T=D;g=b}if(i==1&&P!=0){T=D;g=b}if(i==2&&P!=0){var v=_[P-1]/n;g=Math.max(0,Math.min(255,j[U]*v))}var N=[T,g];
a.push(N);if(i==3&&P==0){var C=255*(1-n);N.push(C)}}return a};Q.PM=function(w,I){var E=new Uint32Array(w.buffer),X=E.length;
for(var P=0;P<X;P++){var o=E[P],i=o&255,h=o>>8&255,k=o>>16&255,x=o>>24&255;E[P]=I[i]|I[h]<<8|I[k]<<16|I[x]<<24}};
Q.a5k=function(w,I,E,X,o,i,h){var k=new Uint32Array(w.buffer),x=new Uint32Array(I.buffer),j=k.length,v=0;
while(256<<v<E.length)v++;if(!h&&!i){for(var P=0;P!=j;P++){var _=k[P],L=(_&255)<<v,U=(_>>>8&255)<<v,n=(_>>>16&255)<<v,a=E[L],T=X[U],g=o[n];
x[P]=a|T<<8|g<<16|_&4278190080}return}for(var P=0;P<j;P++){var _=k[P],L=(_&255)<<v,U=(_>>>8&255)<<v,n=(_>>>16&255)<<v;
if(i)L=U=n=Math.round(L*.3+U*.59+n*.11);var a=E[L],T=X[U],g=o[n];if(h){var D=Q.XP(L,U,n),b=Q.XP(a,T,g);
if(D>b){var N=(D-b)/(255-b);a+=N*(255-a);T+=N*(255-T);g+=N*(255-g)}else if(b==0)a=T=g=0;else{var N=D/b;
a=N*a;T=N*T;g=N*g}}x[P]=a|T<<8|g<<16|_&4278190080}};Q.dM=function(w,I){var E=I.q,X=I.w,top=0,o=0,i=0,h=0,k=0;
k=0;for(var x=0;x<X;x++){var j=x*E;for(var P=0;P<E;P++)k|=w[j+P];if(k!=0)break;top++}if(top==X)return new dC(0,0,0,0);
k=0;for(var x=X-1;x>=0;x--){var j=x*E;for(var P=0;P<E;P++)k|=w[j+P];if(k!=0)break;i++}var v=X-i;k=0;
for(var P=0;P<E;P++){for(var x=top;x<v;x++)k|=w[x*E+P];if(k!=0)break;o++}k=0;for(var P=E-1;P>=0;P--){for(var x=top;
x<v;x++)k|=w[x*E+P];if(k!=0)break;h++}var _=new dC(I.x+o,I.y+top,E-o-h,X-top-i);return _};Q.eE=function(w,I,E,X){if(X==null)X=[!0,!0,!0,!0];
if(E==null)E=0;var o=new Uint32Array(w.buffer),i=I.q,h=I.w,top=0,k=0,x=0,j=0,v=!1,_=[o[0],o[o.length-1],0][E];
v=!1;if(X[0])for(var L=0;L<h;L++){var U=L*i;for(var P=0;P<i;P++)if(o[U+P]!=_)v=!0;if(v)break;top++}v=!1;
if(X[2])for(var L=h-1;L>=0;L--){var U=L*i;for(var P=0;P<i;P++)if(o[U+P]!=_)v=!0;if(v)break;x++}v=!1;
if(X[1])for(var P=0;P<i;P++){for(var L=0;L<h;L++)if(o[L*i+P]!=_)v=!0;if(v)break;k++}v=!1;if(X[3])for(var P=i-1;
P>=0;P--){for(var L=0;L<h;L++)if(o[L*i+P]!=_)v=!0;if(v)break;j++}var n=new dC(I.x+k,I.y+top,i-k-j,h-top-x);
return n.qo()?new dC(0,0,0,0):n};Q.G1=function(w){var I=Q.dM(w.channel,w.rect);if(I.ZQ(w.rect))return;
var E=Q.$(I.A());Q.b_(w.channel,w.rect,E,I);w.channel=E;w.rect=I};Q.Hw=function(w){var I=Q.$(w.buffer.length>>2);
Q.qe(w.buffer,I,3);var E=Q.dM(I,w.rect);if(E.ZQ(w.rect))return;var X=new Q.$(E.A()*4);Q.D6(w.buffer,w.rect,X,E);
w.buffer=X;w.rect=E};Q.extend=function(w,I,E){if(w.rect.RP(I))return;var X=w.rect.jB(I),o=Q.$(X.A());
if(E!=null)o.fill(E);Q.b_(w.channel,w.rect,o,X);w.rect=X;w.channel=o};Q.a5n=function(w,I){if(I.qo()||w.rect.RP(I))return;
var E=w.rect.jB(I),X=Q.$(E.A()*4);Q.D6(w.buffer,w.rect,X,E);w.rect=E;w.buffer=X};Q.Mj=function(w,I,E){if(!E.sF(w))return!1;
var X=Math.floor(w.x)-E.x,o=Math.floor(w.y)-E.y,P=o*E.q+X;return I[P]>128};Q.amk=function(w,I,E){if(!E.sF(w))return!1;
var X=Math.floor(w.x)-E.x,o=Math.floor(w.y)-E.y,P=o*E.q+X;return I[4*P+3]>128};Q.Cb=function(w){if(Q.I_.length<w){Q.I_=Q.$(w);
Q.I_.fill(255)}return Q.I_};Q.I_=Q.$(0);Q.xd=function(w){if(Q.Ee.length<w)Q.Ee=Q.$(w);return Q.Ee};Q.Ee=Q.$(0);
Q.hV=function(w){this.lV=Q.$(w);this.o=Q.$(w);this.P=Q.$(w);this.L=Q.$(w)};Q.hV.prototype.clone=function(){var w=this.lV.length,I=new Q.hV(1);
I.lV=this.lV.slice(0);I.o=this.o.slice(0);I.P=this.P.slice(0);I.L=this.L.slice(0);return I};Q._.adr=function(w,I,E,X,o){var i=o[0]+1,h=o[1],k=Math.abs(h-25)/4,x=o[2],j=x%2+x*x>>1,v=Q._.a;
v.ba(I,E);var _=v.Gz(1),L=v.Gz(1),U=v.Gz(1);v.uv(w,X,x,x,j);v.x2(X);v.SC(X,_);v.t2(_,L,i,i,1);v.t2(_,U,i,i,i*i);
v.sub(U,L);v.tT(L,k);(h<25?v.sub:v.add)(_,L);v.P2(L,X);v.b8(X)};Q._.a7v=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);var h=o[0]*2.55,k=o[1],x=k>>1,j=o[2]*.25,v=i.Gz(4),_=i.Gz(1),L=i.Gz(1);i.uj(w,v,k,1,!0,x);
i.uj(w,X,k,1,!1,x);i.Pt(w,_);i.gY(_,h);i.oO(_,L,3);i.RS(X,L,v);i.Lg(v,X,j)};Q._.a8Q=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);i.wX(o[3]);var h=o[0]*-3+80,k=o[1]*-3+80,x=o[2]/2+.5,j=o[4],v=o[5],_=i.Gz(1),L=i.Gz(1),U=i.Gz(1),n=i.Gz(1),a=i.Gz(4),T=i.Gz(4);
i.Pt(w,_);i.QM(_,L);i.Sw(_,k,5);i.s7(_,.4,0);i.oO(_,U,3);i.jV(U,_,9,3,!0,27);i.QM(L,U);i.ja(U);var g=i.li(h,5,U);
for(var P=0;P<i.bQ;P++){L[P]=g[255-L[P]]}i.s7(L,.4,0);i.QM(L,U);i.oO(U,n,2);i.jV(n,U,5,3,!1,15);i.tT(_,x);
i.tT(U,x);i.$p(X,2155905279);i.$p(T,j);i.$p(a,v);i.RS(T,_,X);i.RS(a,U,X)};Q._.ah0=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);var h=new Uint8Array(256),k=5+10*o[1];k+=o[1]>3?(o[1]-3)*10:0;var x=~~(o[2]*.73)+50,j=Math.min(x+k,128),v=j-x,_=-255*x;
for(var P=0;P<256;P++){var L=P*65;h[P]=i.Qq(_/v);_+=255}var U=i.Gz(1),n=i.Gz(1),a=i.Gz(1);i.Pt(w,U);
i.QM(U,a);i.oO(U,n,2*o[0]+1);i.sub(n,U);i.tT(U,65);i.jV(U,n,9,3,!0,20);for(var P=0;P<i.bQ;P++){var T=a[P],g=n[P];
U[P]=g>0?~~((g*T+(255-g)*128)/255):128}i.oO(U,n,3);i.jV(n,U,15,2,!0,16);i.jV(n,a,15,2,!1,15);i.CA(U,a);
i.zf(a,n,2);i.Pi(n,h);i.oO(n,U,2);i.eD(U,X)};Q._.amf=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);var h=2*o[0]+1,k=i.gN[o[1]],x=o[2]*5.1,j=o[3],v=i.Gz(1),_=i.Gz(1),L=i.Gz(4),U=i.Gz(4);
i.$p(L,j);i.x2(L,X);i.o4(v,x);i.P2(v,X);i.b8(X,L);i.Pt(w,_);i.oO(_,v,h);i.sub(v,_);i.tT(_,k);i.jV(_,v,9,3,!0,20);
i.RS(w,v,L);i.bO(L,X,3);i.uj(X,L,15,2,!0,16);i.uj(X,U,15,2,!1,16);i.CA(L,U);i.Lg(U,X,2)};Q._.ae0=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);var h=(15-o[0])/4+1,k=(15-o[1])/4+1,x=o[2],j=o[3],v=i.bm(o[4]),_=o[5]+1,L=o[6],U=o[7],n=o[8],a=i.Gz(1),T=i.Gz(1),g=i.Gz(1),D=i.Gz(1),b=i.Gz(4),N=i.Gz(4);
i.jn(g,x,j,L);i.Pt(w,T);i.oO(T,a,5);i.pD(g,a,D,_,v);i.tT(D,h);i.pB(D,2);i.ja(a);i.pD(g,a,T,_,v);i.tT(T,k);
i.pB(T,2);i.$p(b,2155905279);i.$p(N,U);i.$p(X,n);i.RS(b,T,N);i.RS(N,D,X)};Q._.a8F=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);i.wX(o[3]);var h=o[0],k=o[1]/10,x=o[2]/10,j=i.Gz(1),v=i.Gz(1),_=i.Gz(1),L=i.vb(),U=i.vb(),n=i.vb();
i.oe(j);i.oO(j,v,11);i.oO(v,j,11);i.Tp(j,L);i.Cu(w,j);i.QM(j,_);i.oO(j,v,9);i.oO(v,j,9);i.Tp(j,U);i.Md(U,n,5);
i.Md(n,U,5);i.po(L,.8);i.al9(L,U,.8,.9);i.LY(U,j,h);i.t2(j,v,2,2,1);i.t2(v,j,2,2,3);i.t2(j,v,2,2,3);
i.t2(_,j,5,5,13);i.t3(v,j,v,k);i.i3(j,v,v,x);i.pD(v,v,j,5,1);i.x2(w,X);i.P2(j,X);i.b8(X)};Q._.anI=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);var h=o[0],k=o[1]/2,x=o[2],j=h/2,v=i.Gz(4),_=i.Gz(4);i.QM(w,X);for(var L=0;L<x;L++){i.uj(X,v,h,1,!0,j);
i.uj(X,_,h,1,!1,j);i.CA(_,v);i.bO(v,_,2);i.Lg(_,X,k)}};Q._.agM=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);
var h=o[0]*10,k=o[1]*4.9,x=o[2]*4.9,j=i.Gz(1),v=i.Gz(1),_=i.Gz(4),L=i.Gz(4);i.Pt(w,j);i.gY(j,i.aiA(j,h));
i.oO(j,v,3);i.uj(w,_,5,1,!1,1);i.uj(w,X,15,2,!0,16);i.RS(X,v,_);i.x2(_,X);i.SC(X,j);i.Sw(j,k,x);i.P2(j,X);
i.b8(X)};Q._.al4=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);i.wX(o[4]);var h=o[0]/20,k=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][o[1]],x=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][o[2]],j=o[3],v=new Int16Array(256);
for(var P=0;P<256;P++){v[P]=~~((P-128)*h)}var _=i.Gz(1),L=i.Gz(1),U=i.Gz(4);i.Pt(w,_);i.oO(_,L,25);i.tT(L,k);
i.pB(L,x);i.oO(L,_,25);i.oe(L);i.eg(_,L,v);i.QM(w,X);i.$p(U,j);i.RS(U,_,X)};Q._.awS=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);var h=o[0]+5,k=15-o[1],x=h*h/2,j=1-(3-o[2])/10,v=~~(k*k*j-1),_=~~(k*k*(1-j));if(_==0)_=1;var L=i.Gz(1),U=i.Gz(1),n=i.Gz(1),a=i.Gz(4);
i.Pt(w,n);i.t2(n,L,h,h,x);i.oO(n,U,h);i.sub(L,U);i.gY(U,1);i.uv(w,a,k,k,v);i.uv(w,X,k,k,_);i.RS(a,U,X)};
Q._.aqT=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);i.wX(o[3]);var h=(20-o[0])*.05,k=o[1]*-2.75+60,x=65-k,j=o[2]/10,v=i.Gz(1),_=i.Gz(1);
i.Cu(w,_);var L=i.li(k,x,_);i.x2(w,X);i.SC(X,_);i.oe(v);i.q_(_,v,h);i.Pi(_,L);i.tT(_,o[2]/10);i.add(v,_);
i.P2(_,X);i.b8(X)};Q._.ab7=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);var h=5+o[0],k=15-o[1],x=o[2],j=h*h/2+h*h%2*1,v=1-(3-o[2])/10,_=~~(k*k*v-1),L=~~(k*k*(1-v));
if(L==0)L=1;var U=i.Gz(1),n=i.Gz(1),a=i.Gz(1),T=i.Gz(1),g=i.Gz(1);i.Cu(w,n);i.zf(n,U,3);i.t2(U,n,2,2,1);
var D=i.li(20,20,n);i.Pi(n,D);i.oO(n,g,5);i.t2(g,U,h,h,j);i.t2(g,n,k,k,_);i.t2(g,a,k,k,L);i.oO(g,T,h);
i.sub(U,T);i.gY(T,1);i.a1(n,T,a);i.x2(w,X);i.P2(a,X);i.b8(X)};Q._.aaM=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);i.wX(o[5]);var h=i.bQ,k=i.Kz,x=o[0],j=o[1],v=o[2],_=o[3],L=o[4],U=.05*x+1,n=x/100,a=x>>1,T=2*x-100,g=+(j==9),D=+(j==7),b=[4,1][g],N=[3,2][g],C=[1,2][D],Z=[2,1][D],S=[50,75][g],u=j<4?v:(v>>1)+50,p=i.fV(S,u),f=i.wM(_),d=i.wM(L),l=i.Gz(4),A=i.Gz(4),B=i.Gz(1),e=i.Gz(1);
function m(X,p){if(u!=50){i.xV(X,p)}}function $(w,iW){for(var P=0;P<h;P++){w[P]=i.Qq(w[P]+(iW[P]-128)*n)}}function V(w,iW){for(var P=0,y=0;
P<h;P++){w[y]=i.Qq(w[y]+(iW[y]-128)*n);w[y+1]=i.Qq(w[y+1]+(iW[y+1]-128)*n);w[y+2]=i.Qq(w[y+2]+(iW[y+2]-128)*n);
y+=4}}function H(w,X){i.oe(A);i.QM(w,X);V(X,A);m(X,p)}function F(iW){var y=0;for(var hm=0;hm<12;hm++)y+=i.random();
return i.Qq(a*(y-6)+iW)}function G(w,X){i.QM(w,X);for(var P=0;P<k;P+=4){X[P]=F(X[P]);X[P+1]=F(X[P+1]);
X[P+2]=F(X[P+2])}m(X,p)}function J(w,X){i.QM(w,X);for(var P=0;P<k;P+=4){if(i.random()<n){X[P]=f[0];X[P+1]=f[1];
X[P+2]=f[2]}}m(X,p)}function c(w,X){i.oe(l);i.uv(l,A,N,N,b);i.QM(w,l);V(l,A);i.uv(l,X,5,5,13);m(X,p)}function r(w,X){i.oe(A);
i.QM(w,l);V(l,A);m(X,p);i.uv(l,X,N,N,b)}function s(w,X){i.QM(w,l);m(X,p);i.Pt(l,B);for(var P=0,iW=0;
P<h;P++){var y=((T-B[P]+255)*128.5+.5)/32767;if(i.random()<=y){X[iW++]=d[0];X[iW++]=d[1];X[iW++]=d[2]}else{X[iW++]=f[0];
X[iW++]=f[1];X[iW++]=f[2]}X[iW]=w[iW];iW++}}function z(w,X){i.x2(w,X);i.SC(X,B);i.zf(B,e,U);i.t2(e,B,N,N,b);
i.Pi(B,p);i.P2(B,X);i.b8(X)}function Y(w){var iW=0;if(j==8){for(var y=0;y<I;y++){w[iW++]=~~(i.random()*255)}for(var P=1;
P<E;P++){for(var y=0;y<I;y++){w[iW++]=w[y]}}}else{for(var P=0;P<E;P++){var hm=~~(i.random()*255);for(var y=0;
y<I;y++){w[iW++]=hm}}}}function ax(w,X){i.Pt(w,B);i.oe(e);$(B,e);Y(e);$(B,e);i.bO(w,l,9);i.bO(l,A,9);
i.oO(B,e,2);i.Pi(e,p);i.oO(e,B,2);i.x2(A,X);i.P2(B,X);i.b8(X)}[H,G,J,c,c,r,s,ax,ax,z][j](w,X)};Q._.aiD=function(w,I,E,X,o){var i=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],h=Q._.a,a=0,T,P,C,Z,S,u=0,p=1,f=255;
h.ba(I,E);h.wX(o[3]);var k=h.Gz(1),x=h.Gz(1);h.Pt(w,k);var j=o[0],v=o[1],_=v<=50?i[v]/255:1+(255-i[101-v])/255,L=o[2],U=k.length,n=new Float32Array(U),g=1+1/10*j,D=(1-1/g)/2,b=16/256,N=I-1;
for(P=0;P<h.bQ;P++){n[P]=k[P]/255;x[P]=j==1?h.random()<1/255?f:p:p}function d(l,A){var B=l*I+A;if(x[B]!=p||l>=E||A>=I){return}var Z=n[B],e=_-Z,m=h.random(),$=m/g+D;
if(a==0||Math.abs(S-Z)>b){T=$<=e?u:f;a=~~(h.random()*j)}else if(.1<m){a--}else{a=0}x[B]=T;S=Z}if(L==0){for(P=0;
P<I;P++){for(C=0;C<I;C++){Z=P+C;if(Z>=I)break;d(C,N-Z)}a=0}for(P=1;P<E;P++){for(C=0;C<E;C++){Z=P+C;if(Z>=E||C>=I)break;
d(Z,N-C)}a=0}}else if(L==1){for(P=0;P<E;P++){for(C=0;C<I;C++){d(P,C)}a=0}}else if(L==2){for(P=0;P<I;
P++){for(C=0;C<I;C++){Z=P+C;if(Z>=I)break;d(C,Z)}a=0}for(P=1;P<E;P++){for(C=0;C<E;C++){Z=P+C;if(Z>=E||C>=I)break;
d(Z,C)}a=0}}else{for(P=0;P<I;P++){for(C=0;C<E;C++){d(C,P)}a=0}}h.eD(x,X)};Q._.apa=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);var h=o[0],k=o[1],x=o[2],j=i.Gz(1),v=i.Gz(1),_=i.Gz(1),L=i.Gz(4),U=i.Gz(4);i.Pt(w,j);i.t2(j,v,3,3,1);
i.t2(j,_,3,3,9);i.sub(_,v);i.oO(v,j,3);i.Sw(j,40,10);i.uj(w,X,h,2,!1,h);i.uj(w,L,h,2,!0,h);i.$p(U,255);
i.RS(X,j,U);i.RS(U,j,L);i.Lg(L,X,1);i.x2(X);i.SC(X,j);i.Sw(j,k,x);i.P2(j,X);i.b8(X)};Q._.ay9=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);i.wX(o[3]);var h=o[0],k=o[1],x=o[2]/10;h=h+k;var j=i.Gz(1),v=i.Gz(1),_=i.vb(),L=i.vb();i.oe(j);
i.oO(j,v,11);i.oO(v,j,11);i.Tp(j,_);i.Md(_,L,5);i.Md(L,_,5);i.po(L,.97);i.LY(L,j,h);i.t2(j,v,k,k,1);
i.Cu(w,j);i.t3(v,j,v,.6);i.i3(j,v,v,x);i.pD(v,v,j,5,1);i.x2(w,X);i.P2(j,X);i.b8(X)};Q._.a6X=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);var h=Math.abs(o[0]),k=h+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][h],x=2*h+1,j=o[1]/10,v=j*13/15,_=i.Gz(1),L=i.Gz(1),U=i.Gz(1),n=i.Gz(1),a=i.Gz(4),T=i.Gz(4),g=i.Gz(4),D=i.Gz(4),b=i.Gz(4);
i.Pt(w,_);if(o[0]>=0){i.ja(_)}i.QM(_,U);i.oO(_,n,k);i.oO(n,_,k);i.tT(_,j);i.QM(_,L);i.oO(_,n,x);i.oO(n,_,x);
i.tT(_,v);i.$p(g,o[2]);i.$p(D,o[3]);i.$p(b,o[4]);i.RS(g,_,D,a);i.RS(b,L,a,T);i.RS(D,U,T,X);i.SC(w,U,3);
i.P2(U,X,3)};Q._.ao9=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);i.wX(o[5]);var h=o[0]*5.1,k=o[1]/100,x=i.z8[o[2]],j=i.Gz(1),v=i.Gz(1),_=i.Gz(1);
i.Pt(w,j);i.o4(v,255);i.oe(_);i.gY(j,h);i.q_(v,j,.7);i.q_(_,j,k);i.pD(j,j,v,5,x);i.QM(w,X);i.aw7(X,h,o[4],o[3]);
i.x2(X);i.P2(v,X);i.b8(X)};Q._.aw$=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);var h=o[0],k=4-o[1],x=11-o[2],j=i.Gz(1),v=i.Gz(1),_=i.Gz(4);
i.Cu(w,v);for(var P=0;P<k;P++){i.QM(v,j);i._U(j,v,h,h)}i.bO(w,_,h);i.x2(_,_);i.P2(v,_);i.b8(_,_);(x<11?i.ap2:i.QM)(_,X,x)};
Q._.aop=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);i.wX(o[2]);var h=o[0]+5,k=~~(h/5+1),x=~~(h/2)+1,j=x*x,v=~~(h/3),_=i.z8[o[1]],L=new Array(256);
for(var P=0;P<256;P++){L[P]=~~(.2*(P-128))}var U=i.Gz(1),n=i.Gz(1);i.aaG(w,X,h);i.x2(X);i.SC(X,U);i.oe(n);
i.eg(U,n,L);i.aoz(n,h,h,k,k);i.t3(U,n,U,1);i.oO(U,n,v);i.oO(n,U,v);i.t2(U,n,x,x,j);i.pD(n,n,U,5,_);i.P2(U,X);
i.b8(X)};Q._.aus=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);var h=i.Gz(1),k=i.Gz(1),x=i.Gz(1),j=i.vb(),v=i.vb();
i.Pt(w,h);i.oO(h,k,o[2]);i.gY(k,o[0]*5.1);i.t2(k,h,2,2,4);i.oO(h,k,3);i.oO(k,h,3);i.QM(h,x);i.oO(h,k,5);
i.oO(k,h,5);i.Tp(h,j);i.Md(j,v,5);i.Md(v,j,5);i.a3I(j,k,o[1]);i.ja(k);i.t3(x,k,x,1);i.eD(x,X)};Q._.a4J=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);var h=1<<7-o[2],k=i.Gz(1),x=i.Gz(1),j=i.Gz(1);i.Cu(w,x);i.oO(x,k,3);i.QM(k,x);i.oO(k,j,o[0]+5);
i.sub(j,x);i.Sw(x,1,o[1]);i.tT(k,1/h);i.tT(k,h);i.sub(k,x);i.x2(w,X);i.P2(x,X);i.b8(X)};Q._.anT=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);i.wX(o[3]);var h=i.Gz(1),k=i.Gz(1),x=i.Gz(1);i.Pt(w,h);i.a3X(k,o[0]/50);i.oO(k,x,3);i.t2(h,k,9,9,41);
i.Sw(k,o[1],o[2]);i.t3(k,x,x,.75);i.i3(k,x,k,.5);i.QM(k,h);i.t2(h,x,3,3,8);i.t3(x,k,x,.75);i.tT(x,1.2);
i.zf(x,h,1);i.oO(h,x,2);i.zf(x,h,2);i.tT(h,1.2);i.oO(h,x,2);i.eD(x,X)};Q._.a66=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);var h=o[0]+9,k=o[1]/2,x=o[2],j=o[3],v=i.bm(o[4]),_=o[5]+1,L=o[6],U=i.Gz(1),n=i.Gz(1),a=i.Gz(4),T=i.Gz(4);
i.jn(n,x,j,L);i.Vu(w,X,h,1,1);i.Vu(X,a,h,1,1);i.ak1(a,a,T,7,k);i.tT(T,1.2);i.pB(T,1.2);i.pD(n,U,U,_,v);
i.tT(U,3);i.QM(w,X);i.RS(T,U,X)};Q._.a6f=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);i.wX(o[3]);var h=o[0]+4,k=h*2/5+(h%5|0);
h--;var x=o[1]*-2.75+60,j=65-x,v=o[2]/10,_=i.Gz(1),L=i.Gz(1);i.oe(_);i.Cu(w,L);var U=i.li(x,j,L);i.x2(w,X);
i.SC(X,L);i.q_(L,_,.8);i.Pi(L,U);i.tT(L,v);i.add(_,L);i.jV(L,_,h,3,!1,k);i.P2(_,X);i.b8(X)};Q._.ai7=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);i.wX(o[3]);var h=o[0]+5,k=(h*h>>1)+h%2,x=o[1]/10,j=o[2],v=(j*j>>1)+j%2,_=i.Gz(1),L=i.Gz(1),U=i.Gz(1),n=i.Gz(4),a=i.Gz(4),T=i.Gz(4);
i.oe(U);i.x2(w,T);i.SC(T,_);i.q_(_,U,.8);i.oO(U,_,3);i.zf(_,U,x);i.P2(U,T);i.b8(T,T);i.Pt(T,U);i.t2(U,_,h,h,k);
i.oO(U,L,h);i.sub(_,L);i.gY(L,1);i.uv(T,n,7,7,40);i.uv(T,a,7,7,10);i.RS(n,L,a);i.uv(a,X,j,j,v)};Q._.axl=function(w,I,E,X,o){var i=Q._.a,k=255,P,j;
i.ba(I,E);var h=o[0];if(h<2)k=h;else if(h<12)k=5*h-5;else if(h<47)k=2*h+28;else if(h<50){P=h-47;k=125+12.5*P+12.5*P*P}var x=new Uint8Array(256);
for(P=75,j=15;P<256;P++,j+=24)x[P]=Math.min(255,j);var v=i.Gz(1),_=i.Gz(1),L=i.Gz(1);i.Pt(w,v);i.oO(v,_,11);
i.oO(_,L,11);i.sub(L,v);i.tT(v,8);i.sub(L,v);i.gY(v,k);i.ja(v);i.oO(v,_,5);i.gY(_,51);i.oO(_,v,o[1]);
i.oO(v,_,o[1]);i.ja(_);i.Pi(_,x);i.eD(_,X)};Q._.age=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);var h=i.gN[o[1]],k=o[2],x=k*1.5,j=i.Gz(1),v=i.Gz(1),_=i.Gz(1);
i.Cu(w,j);i.jV(j,v,15,2,!0,15);i.QM(v,_);i.Sw(_,k,x);i.oO(_,j,3);i.oO(v,_,o[0]);i.sub(_,v);i.tT(v,h);
i.sub(j,v);i.oO(v,j,3);i.jV(j,v,3,1,!1,1);i.bO(w,X,15);i.x2(X);i.P2(v,X);i.b8(X)};Q._.anO=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);i.wX(o[3]);var h=o[0]*5.1,k=16-o[1],x=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][o[2]],j=i.Gz(1),v=i.Gz(1),_=i.Gz(1);
i.Pt(w,j);i.gY(j,h);i.oO(j,v,k);i.oO(v,j,k);i.oe(_);i.i3(j,_,_,1);i.t3(j,_,j,.75);i.tT(j,x);i.pB(j,x);
i.t2(j,v,2,2,2);i.eD(v,X)};Q._.an5=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);var h=o[0]+9,k=o[1]+9,x=o[2],j=o[3],v=i.bm(o[4]),_=o[5]+1,L=o[6],U=i.Gz(1),n=i.Gz(1),a=i.Gz(1),T=i.Gz(1),g=i.Gz(1),D=i.Gz(4);
i.Cu(w,U);i._U(U,a,h,h);i.oO(a,U,k);i.QM(a,g);i.QM(U,T);i.sub(g,T);i.sub(U,g);i.add(g,T);i.tT(T,10);
i.jn(n,x,j,L);i.pD(n,U,g,_,v);i.a1(g,T,a,.8);i.bO(w,D,9);i.bO(D,X,9);i.x2(X);i.P2(a,X);i.b8(X)};Q._.avb=function(w,I,E,X,o){var i=Q._.a;
i.ba(I,E);var h=16-o[0],k=o[1]*8,x=1-(3-o[2])/10,j=~~(h*h*x-1),v=~~(h*h*(1-x));if(v==0)v=1;var _=i.Gz(1),L=i.Gz(1),U=i.Gz(1),n=i.Gz(4);
i.Pt(w,U);i.t2(U,_,7,7,25);i.oO(U,L,7);i.sub(_,L);i.gY(L,1);i.uv(w,n,h,h,j);i.uv(w,X,h,h,v);i.RS(n,L,X);
i.x2(X);i.SC(X,_);i.t2(_,U,3,3,1);i.t2(_,L,3,3,9);i.sub(L,U);i.QM(U,L);i.sub(_,U);i.sub(U,L);i.t2(L,_,3,3,8);
i.Sw(_,k,1);i.P2(_,X);i.b8(X)};Q._.a6V=function(w,I,E,X,o){var i=Q._.a;i.ba(I,E);i.wX(o[3]);var h=o[0],k=o[1],x=o[2],j=h>>1,v=Math.max(~~(h/5),1),_=Math.max(~~(h*2/3),1),L=i.fV(k,x),U=i.Gz(1),n=i.Gz(1),a=i.Gz(1),T=i.Gz(1),g=i.Gz(4);
i.Cu(w,U);i.h0(2147483647,4,2,2,0,255,n);i.h0(4,2147483647,2,2,0,255,T);i.oe(a);i.i3(n,a,n,1);i.i3(T,a,T,1);
i.i3(n,U,n,1);i.i3(T,U,T,1);i.bO(w,g,j);i.bO(g,X,j);i.t2(n,U,1,h,v);i.t2(U,n,3,h,_);i.t2(T,U,h,1,v);
i.t2(U,T,h,3,_);i.CA(n,T);i.x2(X);i.P2(T,X);i.b8(X);i.xV(X,L)};Q._.a={};Q._.a.LQ=0;Q._.a.Ns=0;Q._.a.bQ=0;
Q._.a.Eo=0;Q._.a.Kz=0;Q._.a.ba=function(w,I){var E=w*I,self=Q._.a;self.LQ=w;self.Ns=I;self.bQ=E;self.Eo=E<<1;
self.Kz=E<<2};Q._.a.wX=function(w){Q._.a.random=function(){var I=w+=1831565813;I=Math.imul(I^I>>>15,I|1);
I^=I+Math.imul(I^I>>>7,I|61);return((I^I>>>14)>>>0)/4294967296}};Q._.a.Gz=function(w){var I=Q._.a;return new Uint8Array([-1,I.bQ,I.Eo,-1,I.Kz][w])};
Q._.a.vb=function(){return new Int32Array(Q._.a.Eo)};Q._.a.oO=function(w,I,E,X){if(X==null)X=E;var self=Q._.a,o=self.LQ,i=self.Ns;
Q.iG.Iv(w,I,new dC(0,0,o,i),E>>>1);return};Q._.a.Md=function(w,I,E,X){var self=Q._.a,o=new Int32Array(self.bQ),i=new Int32Array(self.bQ);
for(var P=0;P<2;P++){self.SC(w,o,P,2);self.oO(o,i,E,X);self.P2(i,I,P,2)}};Q._.a.bO=function(w,I,E,X){var self=Q._.a,o=self.Gz(1),i=self.Gz(1);
for(var P=0;P<4;P++){self.SC(w,o,P);if(P<3)self.oO(o,i,E,X);else i=o;self.P2(i,I,P)}};Q._.a.Vu=function(w,I,E,X,o){var self=Q._.a,i=self.LQ,h=self.Ns,k=E+X-1,x=E>>1,j=k>>1,v=0,_=E*X,L=new Int32Array(E);
for(var P=0;P<h;P++){var U=0,n=0,a=0;for(var T=0;T<E;T++){var g=o?k-T-X:T;for(var D=g,b=X+g;D<b;D++){var N=0-j+D,C=P-x+T;
if(D==g){L[T]=N}if(N<0)N=0;else if(N>=i)N=i-1;if(C<0)C=0;else if(C>=h)C=h-1;var Z=i*C+N<<2;U+=w[Z];n+=w[Z+1];
a+=w[Z+2]}}I[v++]=~~(U/_);I[v++]=~~(n/_);I[v++]=~~(a/_);I[v]=w[v];v++;for(var S=1;S<i;S++){for(var T=0;
T<E;T++){var C=P-x+T,g=L[T]+1;L[T]=g;var u=g-1,p=g+X-1;if(C<0)C=0;else if(C>=h)C=h-1;if(u<0)u=0;else if(u>=i)u=i-1;
if(p<0)p=0;else if(p>=i)p=i-1;var f=C*i+u<<2,d=C*i+p<<2;U=U+w[d]-w[f];n=n+w[d+1]-w[f+1];a=a+w[d+2]-w[f+2]}I[v++]=~~(U/_);
I[v++]=~~(n/_);I[v++]=~~(a/_);I[v]=w[v];v++}}};Q._.a.jV=function(w,I,E,X,o,i){var self=Q._.a,h=self.LQ,k=self.Ns,x=E+X-1,j=E>>1,v=x>>1,_=0,L=new Int32Array(E),U=new Int32Array(256),n=new Int32Array(16);
for(var P=0;P<k;P++){U.fill(0);n.fill(0);for(var a=0;a<E;a++){var T=o?x-a-X:a;for(var g=T,D=X+T;g<D;
g++){var b=0-v+g,N=P-j+a;if(g==T){L[a]=b}if(b<0)b=0;else if(b>=h)b=h-1;if(N<0)N=0;else if(N>=k)N=k-1;
U[w[N*h+b]]++;n[w[N*h+b]>>>4]++}}I[_++]=Q._.a.JI(n,U,i);for(var C=1;C<h;C++){for(var a=0;a<E;a++){var N=P-j+a,T=L[a]+1;
L[a]=T;var Z=T-1,S=T+X-1;if(N<0)N=0;else if(N>=k)N=k-1;if(Z<0)Z=0;else if(Z>=h)Z=h-1;if(S<0)S=0;else if(S>=h)S=h-1;
var u=w[N*h+Z],p=w[N*h+S];U[u]--;U[p]++;n[u>>>4]--;n[p>>>4]++}I[_++]=Q._.a.JI(n,U,i)}}};Q._.a.uj=function(w,I,E,X,o,i){var self=Q._.a,h=self.Gz(1),k=self.Gz(1);
for(var P=0;P<4;P++){self.SC(w,h,P);if(P<3)self.jV(h,k,E,X,o,i);else k=h;self.P2(k,I,P)}};Q._.a.t2=function(w,I,E,X,o){o=Math.min(X*E,o);
var self=Q._.a,i=self.LQ,h=self.Ns,k=X>>1,x=E>>1,j=0,v=new Int32Array(X),_=new Int32Array(256),L=new Int32Array(16);
for(var P=0;P<h;P++){_.fill(0);L.fill(0);for(var U=0;U<X;U++){for(var n=0,a=E;n<a;n++){var T=0-x+n,g=P-k+U;
if(n==0){v[U]=T}if(T<0)T=0;else if(T>=i)T=i-1;if(g<0)g=0;else if(g>=h)g=h-1;_[w[g*i+T]]++;L[w[g*i+T]>>>4]++}}I[j++]=Q._.a.JI(L,_,o);
for(var D=1;D<i;D++){for(var U=0;U<X;U++){var g=P-k+U,b=v[U]+1;v[U]=b;var N=b-1,C=b+E-1;if(g<0)g=0;else if(g>=h)g=h-1;
if(N<0)N=0;else if(N>=i)N=i-1;if(C<0)C=0;else if(C>=i)C=i-1;var Z=w[g*i+N],S=w[g*i+C];_[Z]--;_[S]++;
L[Z>>>4]--;L[S>>>4]++}I[j++]=Q._.a.JI(L,_,o)}}};Q._.a.JI=function(w,I,E){var X=0,o=0;while(X+w[o>>>4]<E){X+=w[o>>>4];
o+=16}for(;o<256;o++){X+=I[o];if(X>=E)break}return o};Q._.a.uv=function(w,I,E,X,o){var self=Q._.a,i=self.Gz(1),h=self.Gz(1);
for(var P=0;P<4;P++){self.SC(w,i,P);if(P<3)self.t2(i,h,E,X,o);else h=i;self.P2(h,I,P)}};Q._.a.zf=function(w,I,E){var self=Q._.a,X=self.LQ,o=self.Ns,i=0;
for(var P=0;P<o;P++){var h=P*X,k=(P-1)*X,x=(P+1)*X;if(k<0)k=h;if(x>=o)x=h;for(var j=0;j<X;j++){var v=j-1,_=j+1;
if(v<0)v=j;if(_>=X)_=j;var L=h+v,U=h+_,n=k+j,a=x+j,T=h+j,g=w[L],D=w[U],b=w[n],N=w[a],C=w[T],Z=C+(C*4*E+.5);
Z=Z-((g+D+N+b)*E+.5);I[i++]=self.Qq(Z)}}};Q._.a.Lg=function(w,I,E){var self=Q._.a,X=self.Gz(1),o=self.Gz(1);
for(var P=0;P<4;P++){self.SC(w,X,P);if(P<3)self.zf(X,o,E);else o=X;self.P2(o,I,P)}};Q._.a.ap2=function(w,I,E){var self=Q._.a,X=self.LQ,o=self.Ns,i=0,h=E+4;
for(var P=0;P<o;P++){var k=P*X,x=(P-1)*X,j=(P+1)*X;if(x<0)x=k;if(j>=o)j=k;for(var v=0;v<X;v++){var _=v-1,L=v+1;
if(_<0)_=v;if(L>=X)L=v;var U=k+_<<2,n=k+L<<2,a=x+v<<2,T=j+v<<2,g=k+v<<2;for(var D=0;D<3;D++){var b=w[U+D],N=w[n+D],C=w[a+D],Z=w[T+D],S=w[g+D];
I[i++]=(S*E+b+N+Z+C)/h}I[i]=w[i];i++}}};Q._.a._U=function(w,I,E,X){var self=Q._.a,o=self.LQ,i=self.Ns,h=E>>1,k=X>>1,x=0,j=new Int32Array(E),v=new Int32Array(256);
for(var P=0;P<i;P++){v.fill(0);for(var _=0;_<E;_++){for(var L=0,U=X;L<U;L++){var n=0-k+L,a=P-h+_;if(L==0){j[_]=n}if(n<0)n=0;
else if(n>=o)n=o-1;if(a<0)a=0;else if(a>=i)a=i-1;v[w[a*o+n]]++}}var T=0,g=0;for(var D=0;D<256;D++){if(T<v[D]){g=D;
T=v[D]}}I[x++]=g;for(var b=1;b<o;b++){for(var _=0;_<E;_++){var a=P-h+_,N=j[_]+1;j[_]=N;var C=N-1,Z=N+X-1;
if(a<0)a=0;else if(a>=i)a=i-1;if(C<0)C=0;else if(C>=o)C=o-1;if(Z<0)Z=0;else if(Z>=o)Z=o-1;v[w[a*o+C]]--;
v[w[a*o+Z]]++}T=0;g=0;for(var D=0;D<256;D++){if(T<v[D]){g=D;T=v[D]}}I[x++]=g}}};Q._.a.aaz=[function(w,I,E,X,o,i,h,k,x,j){return o+(w+I+E)*j-(x+k+h)*j},function(w,I,E,X,o,i,h,k,x,j){return o+(I+E+i)*j-(k+h+X)*j},function(w,I,E,X,o,i,h,k,x,j){return o+(E+i+x)*j-(h+X+w)*j},function(w,I,E,X,o,i,h,k,x,j){return o+(i+x+k)*j-(X+w+I)*j},function(w,I,E,X,o,i,h,k,x,j){return o+(x+k+h)*j-(w+I+E)*j},function(w,I,E,X,o,i,h,k,x,j){return o+(k+h+X)*j-(I+E+i)*j},function(w,I,E,X,o,i,h,k,x,j){return o+(h+X+w)*j-(E+i+x)*j},function(w,I,E,X,o,i,h,k,x,j){return o+(X+w+I)*j-(i+x+k)*j}];
Q._.a.pD=function(w,I,E,X,o){var self=Q._.a,i=self.LQ,h=self.Ns,k=i,x=self.aaz[X-1];for(var P=0;P<h;
P++){var j=(P>0?P-1:0)*k,v=P*k,_=(P<h?P+1:P)*k;for(var L=0;L<i;L++){var U=L>0?L-1:0,n=L<i?L+1:L,a=v+L,T=w[j+U],g=w[j+L],D=w[j+n],b=w[v+U],N=I[a],C=w[v+n],Z=w[_+U],S=w[_+L],u=w[_+n];
E[a]=self.Qq(x(T,g,D,b,N,C,Z,S,u,o))}}};Q._.a.ak1=function(w,I,E,X,o){var self=Q._.a,i=self.Gz(1),h=self.Gz(1),k=self.Gz(1);
for(var P=0;P<3;P++){self.SC(w,i,P);self.SC(I,h,P);self.pD(i,h,k,X,o);self.P2(k,E,P)}self.SC(I,i,3);
self.P2(i,E,3)};Q._.a.Pt=function(w,I){var E=w.length,X=0;for(var P=0;P<E;P++){I[X++]=~~((w[P++]+w[P++]+w[P++]+2)/3)}};
Q._.a.eD=function(w,I){var E=I.length,X=0;for(var P=0;P<E;P++){var o=w[P];I[X++]=o;I[X++]=o;I[X++]=o;
I[X++]=255}if(I[0]==255)I[0]--;else I[0]++};Q._.a.Cu=function(w,I){var E=I.length,X=0;for(var P=0;P<E;
P++){var o=w[X++],i=w[X++],h=w[X++];X++;if(i>o)o=i;if(h>o)o=h;I[P]=o}};Q._.a.x2=function(w,I){if(I==null)I=w;
var E=w.length;for(var X=0;X<E;X+=4){var o=w[X],i=w[X+1],h=w[X+2],k=o,x=0,j=o,_;if(i<=o){o=i}else{x=1;
j=i}if(h<=j){if(o>h){o=h}}else{x=2;j=h}var v=j-o;if(v!=0){if(x==0){_=~~(43*(i-h)/v)}else if(x==1){_=~~(43*(h+2*v-k)/v)}else{_=43*(k+4*v-i)/v}if(_<0){_=255&_-1}I[X]=_;
I[X+1]=~~(255*v/j)}else{I[X]=v;I[X+1]=v}I[X+2]=j;I[X+3]=w[X+3]}};Q._.a.b8=function(w,I){if(I==null)I=w;
var E=w.length;for(var X=0;X<E;X+=4){var o=w[X],i=w[X+1],h=w[X+2];if(i){if(o==255)o=0;var k=~~(6*o/255),x=~~(-255*k+6*o);
if(k==0){I[X]=h;I[X+1]=~~(h*(255-i*(255-x)/255)/255);I[X+2]=~~(h*(255-i)/255)}else if(k==1){I[X]=~~(h*(255-i*x/255)/255);
I[X+1]=h;I[X+2]=~~(h*(255-i)/255)}else if(k==2){I[X]=~~(h*(255-i)/255);I[X+1]=h;I[X+2]=~~(h*(255-i*(255-x)/255)/255)}else if(k==3){I[X]=~~(h*(255-i)/255);
I[X+1]=~~(h*(255-i*x/255)/255);I[X+2]=h}else if(k==4){I[X]=~~(h*(255-i*(255-x)/255)/255);I[X+1]=~~(h*(255-i)/255);
I[X+2]=h}else{I[X]=h;I[X+1]=~~(h*(255-i)/255);I[X+2]=~~(h*(255-i*x/255)/255)}}else{I[X]=h;I[X+1]=h;I[X+2]=h}I[X+3]=w[X+3]}};
Q._.a.P2=function(w,I,E,X){if(E==null)E=2;if(X==null)X=4;var o=w.length;for(var P=0;P<o;P++){I[E]=w[P];
E+=X}};Q._.a.SC=function(w,I,E,X){if(E==null)E=2;if(X==null)X=4;var o=I.length;for(var P=0;P<o;P++){I[P]=w[E];
E+=X}};Q._.a.a1=function(w,I,E,X){if(X==null)X=1;var o=I.length,i=0,h;for(var i=0;i<o;i++){h=I[i];if(h){h*=X;
E[i]=~~((h*w[i]+(255-h)*E[i])/255)}}};Q._.a.RS=function(w,I,E,X){if(X==null)X=E;var o=I.length,i=0,h,k;
for(var P=0;P<o;P++){h=I[P];if(h){k=255-h;X[i]=~~((h*w[i]+k*E[i])/255);X[i+1]=~~((h*w[i+1]+k*E[i+1])/255);
X[i+2]=~~((h*w[i+2]+k*E[i+2])/255)}X[i+3]=w[i+3];i+=4}};Q._.a.t3=function(w,I,E,X){var o=~~(X*255),i=E.length;
for(var P=0;P<i;P++){E[P]=((255-o*(255-w[P])/255)*I[P]+w[P]*(o*(255-w[P])/255))/255}};Q._.a.i3=function(w,I,E,X){var o=~~(X*255),i=E.length;
for(var P=0;P<i;P++){E[P]=((255-o*w[P]/255)*I[P]+w[P]*(o*w[P]/255))/255}};Q._.a.q_=function(w,I,E){var X=I.length;
for(var P=0;P<X;P++){I[P]=~~(w[P]*E+.5)+(I[P]-~~(I[P]*E+.5))}};Q._.a.sub=function(w,I){var E=w.length;
for(var P=0;P<E;P++){I[P]=Math.max(w[P]-I[P],0)}};Q._.a.add=function(w,I){var E=w.length;for(var P=0;
P<E;P++){I[P]=Math.min(w[P]+I[P],255)}};Q._.a.CA=function(w,I){var E=w.length;for(var P=0;P<E;P++){I[P]=w[P]+I[P]>>1}};
Q._.a.QM=function(w,I){var E=w.length;for(var P=0;P<E;P++){I[P]=w[P]}};Q._.a.Pi=function(w,I){var E=w.length;
for(var P=0;P<E;P++){w[P]=I[w[P]]}};Q._.a.xV=function(w,I){var E=Q._.a.Kz;for(var P=0;P<E;P+=4){var X=w[P],o=w[P+1],i=w[P+2],h=X;
if(o>X)h=o;if(i>X)h=i;var k=I[h];if(k){w[P]=~~(k*X/h);w[P+1]=~~(k*o/h);w[P+2]=~~(k*i/h)}else{w[P]=k;
w[P+1]=k;w[P+2]=k}}};Q._.a.tT=function(w,I){for(var P=0,E=w.length;P<E;P++){w[P]=Math.min(255,~~(.5+w[P]*I))}};
Q._.a.pB=function(w,I){for(var P=0,E=w.length;P<E;P++){w[P]=255-Math.min(255,~~(.5+(255-w[P])*I))}};
Q._.a.ja=function(w){var I=w.length;for(var P=0;P<I;P++){w[P]=255-w[P]}};Q._.a.gY=function(w,I,E,X){if(E==null)E=0;
if(X==null)X=255;for(var P=0,o=w.length;P<o;P++){w[P]=w[P]>=I?X:E}};Q._.a.wM=function(w){return[w>>24&255,w>>16&255,w>>8&255,w&255]};
Q._.a.aw7=function(w,I,E,X){if(E==null)E=255;if(X==null)X=4278190335;var o=Q._.a,i=o.Kz,h=o.wM(E),k=o.wM(X);
for(var P=0;P<i;P+=4){var x=~~((w[P]+w[P+1]+w[P+2]+2)/3);if(x>=I){w[P]=h[0];w[P+1]=h[1];w[P+2]=h[2]}else{w[P]=k[0];
w[P+1]=k[1];w[P+2]=k[2]}}};Q._.a.$p=function(w,I){var E=Q._.a,X=E.Kz,o=E.wM(I);for(var P=0;P<X;){w[P++]=o[0];
w[P++]=o[1];w[P++]=o[2];w[P++]=o[3]}};Q._.a.o4=function(w,I){var E=w.length;for(var P=0;P<E;){w[P++]=I}};
Q._.a.fV=function(w,I){w=w>5?(100-Math.max(4,w))/100:.95;I=I!=100?Math.max(4,I)/100:.9995;var E=new Uint8Array(256),X=I>.5?.5/(1-I):I*2,o=~~(X*256),i=~~((.5-w*X)*256)<<8;
for(var P=0;P<256;P++){E[P]=Q._.a.Qq(i>>8);i+=o}return E};Q._.a.oe=function(w){for(var P=0,I=Q._.a,E=w.length;
P<E;P++){w[P]=~~(I.random()*256)}};Q._.a.a3X=function(w,I){for(var P=0,E=Q._.a,X=w.length;P<X;P++){w[P]=E.random()<I?255:0}};
Q._.a.s7=function(w,I,E){for(var P=0,X=Q._.a,o=w.length;P<o;P++){if(X.random()<I)w[P]=E}};Q._.a.eg=function(w,I,E){var X=w.length;
for(var P=0;P<X;P++){w[P]=Q._.a.Qq(w[P]+E[I[P]])}};Q._.a.cn=function(w){var I=new Uint32Array(256);for(var P=0,E=w.length;
P<E;P++){I[w[P]]++}return I};Q._.a.li=function(w,I,E){var self=Q._.a,X=self.cn(E),o=self.bQ/100,i=new Uint8Array(256),h=o*w,k=o*I,x=0,j=-1,v=256;
do{x+=X[++j]}while(x<=h);x=0;do{x+=X[--v]}while(x<=k);if(v-j<=0)v=j+1;if(v>255){v=255;j=254}var _=255/(v-j),L=-j;
for(var P=0;P<256;P++){i[P]=self.Qq(_*L+.5);L++}return i};Q._.a.Sw=function(w,I,E){var X=Q._.a;X.Pi(w,X.li(I,E,w))};
Q._.a.aiA=function(w,I){var self=Q._.a,E=self.cn(w),X=self.bQ*I/100,o=0,i=-1;do{o+=E[++i]}while(o<=X);
return i};Q._.a.Tp=function(w,I){var E=0,self=Q._.a,X=self.LQ,o=self.Ns,i=1/Math.PI,h=i*255;for(var P=0;
P<o;P++){var k=P+1;if(k==o)k--;var x=P*X,j=~~((1-(P+1)/o)*255);for(var v=0;v<X;v++){var _=v+1;if(_==X)_--;
var L=w[x+v],U=w[x+_],n=w[k*X+v];if(L-n==0){I[E++]=j}else{var a=L-n+255;if(a==255){a=0}else{a=~~(Math.atan2(1/(255-a),1)*h+.5);
if(a<0)a+=255}I[E++]=a}if(L-U==0){I[E++]=~~((1-(v+1)/X)*255)}else{var a=L-U+255;if(a==255){a=0}else{a=~~(Math.atan2(1/(255-a),1)*h+.5);
if(a<0)a+=255}I[E++]=a}}}};Q._.a.po=function(w,I){var self=Q._.a,E=self.LQ,X=self.Ns,o=0;for(var P=0;
P<X;P++){for(var i=0;i<E;i++){w[o]=~~(P*I+.5)+~~(w[o]*(1-I)+.5);o++;w[o]=~~(i*I+.5)+~~(w[o]*(1-I)+.5);
o++}}};Q._.a.al9=function(w,I,E,X){var self=Q._.a,o=self.LQ,i=self.Ns,h=0;for(var P=0;P<i;P++){for(var k=0;
k<o;k++){I[h]=~~(I[h]*(1-E)+.5)+~~(w[h]*X+.5);h++;I[h]=~~(I[h]*(1-E)+.5)+~~(w[h]*X+.5);h++}}};Q._.a.LY=function(w,I,E){var self=Q._.a,X=self.LQ,o=self.Ns,i=0,h=0;
for(var P=0;P<o;P++){for(var k=0;k<X;k++){var x=w[i++],j=w[i++];I[h++]=j%E>=2&&x%E>=2?255:0}}};Q._.a.h0=function(w,I,E,X,o,i,h){var self=Q._.a,k=self.LQ,x=self.Ns,j=0,v=0,_=0;
for(var P=0;P<x;P++){var L=P%w<E||x-E<=P;for(var U=0;U<k;U++){h[j++]=L||U%I<X||k-X<=U?o:i}}};Q._.a.jn=function(w,I,E,X){var self=Q._.a,o=self.LQ,i=self.Ns,h=c8.jn(I),k=h[0],x=h[1],j=Q.$(k.A()*4);
j.fill(4294967295);Q.SU(x,j);var v=Q.scale.Ho(j,k.q,k.w),_=Q.scale.ru(v,null,o,i,E/100,E/100,0,0);Q.qe(_,w,0);
if(X)Q.ja(w)};Q._.a.Qq=function(w){return~~Math.min(255,Math.max(0,w))};Q._.a.gN=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
Q._.a.z8=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];Q._.a.bm=function(w){return w>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][w-41]:w/40};
Q._.a.aaG=function(w,I,E){var self=Q._.a,X=self.LQ,o=self.Ns,i=E,h=E>>1,k=h-1,x=i*i,j=0;for(var P=0;
P<o;P++){var v=0,_=0,L=0,U=~~(P/E)*E,n=0;for(var a=0;a<i;a++){for(var T=0;T<i;T++){var g=n+T,D=U+a;if(g>=X)g=X-1;
if(D>=o)D=o-1;v+=w[D*X+g<<2];_+=w[(D*X+g<<2)+1];L+=w[(D*X+g<<2)+2]}}var b=~~(v/x),N=~~(_/x),C=~~(L/x);
I[j]=b;I[j+1]=N;I[j+2]=C;I[j+3]=w[j+3];j+=4;for(var Z=1;Z<X;Z++){for(var a=0;a<i;a++){var S=Z-1,u=S+i,D=U+a;
if(u>=X)u=X-1;if(D>=o)D=o-1;var p=D*X,f=p+u<<2,d=p+S<<2;v+=w[f]-w[d];_+=w[f+1]-w[d+1];L+=w[f+2]-w[d+2]}if(Z%E==0){b=~~(v/x);
N=~~(_/x);C=~~(L/x)}I[j]=b;I[j+1]=N;I[j+2]=C;I[j+3]=w[j+3];j+=4}}};Q._.a.aoz=function(w,I,E,X,o){var self=Q._.a,i=self.LQ,h=self.Ns,k=0,x=0,j=0,v=0;
for(var P=v;P<h+v;P++){var _=P%I>=X||P<X||h+v-X<=P;for(var L=0;L<i;L++){w[k++]=_&&(L%E>=o||L<o||i-o<=L)?255:0}}};
Q._.a.a3I=function(w,I,E){var X=function(j,v){return v<=j?j/v&1?v-j%v:j%v:j},o=[function(k,x){return X(k,255)/255},function(k,x){return(255+X(k,255)-X(x,255))/510},function(k,x){return(255-X(x,255))/255},function(k,x){return(510-X(k,255)-X(x,255))/510},function(k,x){return(255-X(k,255))/255},function(k,x){return(255-X(k,255)+X(x,255))/510},function(k,x){return X(x,255)/255},function(k,x){return(X(k,255)+X(x,255))/510}][E],i=0,h=0;
for(var P=0;P<Q._.a.bQ;P++){var k=w[i++],x=w[i++];I[h++]=~~(255*o(k,x))}};Q._.atc=function(){var w=[],I=new Uint8Array(512),E=new Float32Array(512),X=new Float32Array(512),o=[1,-1,1,-1,1,-1,0,0],i=[1,1,-1,-1,0,0,1,-1],h=0,k,n=0;
for(;h<256;h++)w[h]=h;while(h!=0){h--;k=Math.floor(Math.random()*h);w[k]^=w[h]^(w[h]=w[k])}function x(x){x=Math.floor(x*65536);
if(x<256){x|=x<<8}for(var P=0;P<256;P++){var g=P+256,D=w[P]^(P&1?x:x>>8)&255;I[P]=I[g]=D;D=D%8;E[P]=E[g]=o[D];
X[P]=X[g]=i[D]}}function j(g){return g*g*g*(g*(g*6-15)+10)}function v(g,D,b){return(1-b)*g+b*D}function _(g,D){return g&D}function L(g,D){return g%D}function U(g,D,b,N,C){var Z=Math.floor(g),S=Math.floor(D),h,u,p,f,d,l;
g=g-Z;D=D-S;Z=Z&255;S=S&255;h=Z+I[S];f=E[h]*g+X[h]*D;h=Z+I[C(S+1,N)];p=E[h]*g+X[h]*(D-1);h=C(Z+1,b)+I[S];
d=E[h]*(g-1)+X[h]*D;h=C(Z+1,b)+I[C(S+1,N)];l=E[h]*(g-1)+X[h]*(D-1);u=j(g);return v(v(f,d,u),v(p,l,u),j(D))}function a(g,h,D){g[h]=D}function T(g,D,b,N,C){var Z=Math.min(Math.min(D,256),Math.min(256,b)),S=Z==256||Z<8,u=8,p=new Uint32Array(u),f=new Uint32Array(u),d=new Float32Array(u),l=new Float32Array(u),A=1,B=1,e=S?_:L,m=a,$;
for(var P=0;P<u;P++){$=B*1/Z;if(S){f[P]=(1<<Math.ceil(Math.log2(b*$)))-1;p[P]=(1<<Math.ceil(Math.log2(D*$)))-1}else{f[P]=$*b;
p[P]=$*D}d[P]=A;l[P]=$;A*=.5;B=B<<1}x(Math.random());for(var V=0,h=0;V<b;V++){for(var H=0;H<D;H++){var F=0;
for(var G=0;G<u;G++){$=l[G];F+=U(H*$,V*$,p[G],f[G],e)*d[G]}m(N,h++,Math.round(Math.max(0,255*Math.min(1,.5+F*.5))))}}}return T}();
Q._.aa_=function(){function w(I,E,X,o){var i=new Uint8Array(I.length>>>2),h=new Uint8Array(I.length>>>2),k=new Uint8Array(I.length);
for(var P=0;P<I.length;P+=4){var x=I[P+0]*.3+I[P+1]*.59+I[P+2]*.11;h[P>>>2]=x;k[P]=I[P];k[P+1]=I[P+1];
k[P+2]=I[P+2]}Q.Zi.zP(h,i,E,X);Q.Zi.Q3(I,o,E,X,Q.Zi.aY[1],0,!0);for(var P=0;P<I.length;P+=4){k[P+3]=255-i[P>>>2]}for(var P=0,j=I.length;
P<j;P+=4){var v=k[P+3]/255;o[P]=k[P]*v+o[P]*(1-v);o[P+1]=k[P+1]*v+o[P+1]*(1-v);o[P+2]=k[P+2]*v+o[P+2]*(1-v)}}return w}();
Q._.auP=function(){function w(i,h,k,x,j){var v=new Uint32Array(i.buffer),_=0;for(var P=0;P<k;P++){for(var L=0;
L<h;L++,_+=4){var U=v[P*h+L],n=U&255,a=U>>>8&255,T=U>>>16&255,g=U>>>24&255,D=~~(Math.random()*8),b=D%3,N=0,C=0;
if(D<3){C--}else if(D>4){C++}if(b==0){N--}else if(b==2){N++}var Z=L+N,S=P+C;if(Z<0)Z=0;else if(Z>h-1)Z=h-1;
if(S<0)S=0;else if(S>k-1)S=k-1;var U=v[S*h+Z],u=U&255,p=U>>>8&255,f=U>>>16&255,d=U>>>24&255;x[_]=j(n,u);
x[_+1]=j(a,p);x[_+2]=j(T,f);x[_+3]=j(g,d)}}}function I(i,h){return h}function E(i,h){return i>h?h:i}function X(i,h){return i<h?h:i}function o(i,h,k,x,j){var v=j[0];
if(v==0)w(i,h,k,x,I);else if(v==1)w(i,h,k,x,E);else if(v==2)w(i,h,k,x,X);else if(v==3){console.error("Not implemented")}else console.error("Mew mew")}return o}();
Q._.att=function(){function w(I,E,X,o,i){var h=i&&i[0]?i[0]:4,k,x,j,v,_,L,U;for(var P=0;P<X;P++){var n=Math.max(P-h,0),a=Math.min(P+h,X-1);
for(var T=0;T<E;T++){var g=Math.max(T-h,0),D=Math.min(T+h,E-1);k=n*E+g<<2;v=I[k];_=I[k+1];L=I[k+2];U=I[k+3];
k=n*E+D<<2;v+=I[k];_+=I[k+1];L+=I[k+2];U+=I[k+3];k=a*E+g<<2;v+=I[k];_+=I[k+1];L+=I[k+2];U+=I[k+3];k=a*E+D<<2;
v+=I[k];_+=I[k+1];L+=I[k+2];U+=I[k+3];k=P*E+T<<2;o[k]=v+2>>>2;o[k+1]=_+2>>>2;o[k+2]=L+2>>>2;o[k+3]=U+2>>>2}}}return w}();
Q._.abU=function(){function w(I,E,X,o){var i=new Uint8Array(I.length),h=new Uint8Array(I.length>>>2),k=new Uint8Array(I.length>>>2);
Q.Zi.Q3(I,i,E,X,Q.Zi.aY[2],0,!0);for(var P=0;P<I.length;P+=4){var x=i[P+0]*.3+i[P+1]*.59+i[P+2]*.11;
h[P>>>2]=x;o[P+0]=I[P+0];o[P+1]=I[P+1];o[P+2]=I[P+2];o[P+3]=I[P+3]}Q.Zi.zP(h,k,E,X);for(var P=0;P<I.length;
P+=4){i[P+3]=~~(Math.max(0,255-k[P>>>2]-50)*(255/205))}for(var P=0,j=I.length;P<j;P+=4){var v=i[P+3]/255;
o[P]=i[P]*v+o[P]*(1-v);o[P+1]=i[P+1]*v+o[P+1]*(1-v);o[P+2]=i[P+2]*v+o[P+2]*(1-v)}}return w}();Q._.ei=function(){function w(D,b){return D[b]+D[b+1]+D[b+2]+D[b+3]}function I(D,b){return D[b]+D[b+1]+D[b+2]+2*D[b+3]}function E(D,b,N,C){D[b]=N[C];
D[b+1]=N[C+1];D[b+2]=N[C+2];D[b+3]=N[C+3]}function X(D,b,N){D[b]=D[N];D[b+1]=D[N+1];D[b+2]=D[N+2];D[b+3]=D[N+3]}function o(D,b,N){D[N]=b[N];
D[N+1]=b[N+1];D[N+2]=b[N+2];D[N+3]=255-b[N+3]}function i(D){for(var P=0,b=D.length;P<b;P+=4){D[P+3]=255-D[P+3]}}function h(){var D=Math.random();
if(D>.5)return 0;if(D>.25)return 1;if(D>.1)return 2;if(D>.02143)return 3;if(D>.00445)return 4;if(D>65e-5)return 5;
if(D>415e-6)return 6;if(D>55e-6)return 7;return 8}function k(D,b,N,C,Z,S){D[b]=N[C]+(Z[S]-N[C]>>1);D[b+1]=N[C+1]+(Z[S+1]-N[C+1]>>1);
D[b+2]=N[C+2]+(Z[S+2]-N[C+2]>>1);D[b+3]=N[C+3]+(Z[S+3]-N[C+3]>>1)}function x(D,b,N,C,Z,S){D[b]=Z[S]+N[C]>>1;
D[b+1]=Z[S+1]+N[C+1]>>1;D[b+2]=Z[S+2]+N[C+2]>>1;D[b+3]=Z[S+3]+N[C+3]>>1}function j(D,b,N,C,Z,S,u,p,f){var d=0,l=0,A=0,P,B=Z[S],e;
k(p,0,D,b,D,N);for(P=0;P<B;P++){k(p,(P+1)*4,p,P*4,D,N)}l=(B+1)*4;A+=B;S--;E(D,b,p,l-4);C[S]=w(D,b);b-=f;
while(S>0&&C[S-1]<C[S]){e=p;p=u;u=e;d=l;x(p,0,D,b-f,u,0);for(P=4;P<d;P+=4){x(p,P,p,P-4,u,P)}B=Z[S];for(P=A;
P<B;P++){k(p,l,p,l-4,u,d-4);l+=4;A++}S--;E(D,b,p,l-4);C[S]=w(D,b);b-=f}}function v(D,b,N,C,Z){var S=b*4,u=0,p,f,d=new Uint8Array(b+1),l=new Uint8Array(10*4),A=new Uint8Array(10*4);
for(var P=0;P<N;P++){o(C,D,u);Z[0]=w(C,u);d[0]=h();p=u;u+=4;for(var B=1;B<b;B++){o(C,D,u);Z[B]=w(C,u);
f=h();d[B]=f;if(Z[B-1]<Z[B]&&f>0){j(C,u-4,u,Z,d,B,l,A,4)}u+=4}Z[b]=Z[0];d[b]=d[0];if(Z[b-1]<Z[b]&&f>0){j(C,u,p,Z,d,b,l,A,4)}}i(C)}function _(){var D=Math.random();
if(D>.659755)return 0;if(D>.1625)return 10;if(D>.06)return 20;if(D>.01)return 30;if(D>.0035)return 40;
if(D>65e-5)return 50;if(D>415e-6)return 60;if(D>55e-6)return 70;return 80}function L(D,b,N,C,Z,S){var u=_()+1,p=C[Z];
for(var P=1;P<u;P++){if(0>Z)break;if(C[Z-P]<p){X(D,b,N)}else{break}b+=S}}function U(D,b,N,C,Z){var S=b*4,u=0;
for(var P=0;P<N;P++){o(C,D,u);Z[0]=w(C,u);u+=4;for(var p=1;p<b;p++){o(C,D,u);Z[p]=w(D,u);if(Z[p-1]<Z[p]){L(C,u-4,u,Z,p,-4)}u+=4}Z[b]=Z[0];
if(Z[p-1]<Z[p]){L(C,u-4,u-S,Z,p,-4)}}i(C)}function n(D,b,N,C,Z,S){var u=1,p,f,d=new Uint8Array(4),l,A=b;
while(Math.random()<1/u){A=b;if(C<=1)break;p=N[C];f=N[C-1];if(p<=f)break;E(d,0,D,A-S);l=!0;for(var P=C;
P<Z;P++){if(f>N[P]){E(D,A-S,d,0);N[P-1]=f;l=!1;break}E(D,A-S,D,A);N[P-1]=N[P];A+=S}if(l){E(D,A-S,d,0);
N[Z-1]=f}u++;C--;b-=S}}function a(D,b,N,C,Z){var S=0,u=0,p=b*4;for(var P=0;P<N;P++){u=S;for(var f=0;
f<b;f++){o(C,D,S);Z[f]=I(C,S);S+=4}S=u;for(var f=1;f<b;f++){if(Z[f-1]<Z[f]&&Math.random()<.66){n(C,S+4,Z,f,b,4)}S+=4}S+=4}i(C)}function T(D,b,N,C,Z){var S=Z[0],u=Z[1],p=new Uint16Array(b+1),f=D,d=C,l;
if(u){l=C.slice(0);g(D,C,b,N);f=C;d=l}if(S==0)v(f,b,N,d,p);else if(S==1)U(f,b,N,d,p);else if(S==2)a(f,b,N,d,p);
if(u){g(l,C,b,N)}}function g(D,b,N,C){for(var Z=0;Z<C;Z++)for(var S=0;S<N;S++){var u=Z*N+S<<2,p=Z*N+(N-1-S)<<2;
b[p]=D[u];b[p+1]=D[u+1];b[p+2]=D[u+2];b[p+3]=D[u+3]}}return T}();Q._.Fb=function(w,I,E,X,o){var i=Q._.a,h=1,T=0,b=0;
i.ba(I,E);i.wX(o[2]);var k=3<<13,x=Math.PI/2.43,j=x/256,v=Math.PI*2/256;function _(){var S=i.random()*256,u=i.random()*256;
return h*~~(Math.tan(x-S*j)*325*Math.cos(u*v)*256)+k>>16}h=o[0];var L=o[1],U=(L+2)/2,n=i.random()*255,a=i.Gz(1);
for(var P=0;P<E;P++){var g=i.Qq(_()+n);for(var D=0;D<I;D++){g=i.Qq(_()+g);a[T++]=g}}T=I;for(var P=1;
P<E;P++){var N=i.Qq(_()+a[b++]);a[T++]=N;for(var D=1;D<I;D++){var C=b+1;if(D+1==I){C--}var Z=(U+N+a[C]+a[b]*L)/(L+2);
N=i.Qq(_()+Z);a[T++]=N;b++}}i.eD(a,X)};var fR=function(){function w(r){r=r^61^r>>>16;r=r+(r<<3);r=r^r>>>4;
r=r*668265261;r=r^r>>>15;return r}var I=function(){var I=function(r){if(r){this.lV=r}this.lV=w(this.lV);
return(this.lV&16777215)*(1/16777215)};return I};function E(r,s){if(s==null){s=[0,0]}return Math.sqrt((s[0]-r[0])*(s[0]-r[0])+(s[1]-r[1])*(s[1]-r[1]))}function X(r,s){if(s==null){s=[0,0]}return[-(s[1]-r[1])/E(r,s),(s[0]-r[0])/E(r,s)]}function o(r){return[Math.cos(r),Math.sin(r)]}function i(r){var s=E(r,[0,0]),z=[r[0]/s,r[1]/s],Y=Math.atan(z[1]/z[0]);
if(z[0]>0&&z[1]<0){Y+=2*Math.PI}else if(z[0]<0&&z[1]<0){Y+=Math.PI}else if(z[0]<0&&z[1]>0){Y+=Math.PI}return Y}function h(r){var h=0;
for(var P=1;P<r.length/2;++P){h+=E([r[2*P],r[2*P+1]],[r[2*(P-1)],r[2*(P-1)+1]])}return h}function k(r,s,z){var Y=new Float32Array(r.length),ax=1/(r.length/2),iW=C(z);
for(var P=0;P<r.length/2;++P){var y=P*ax,hm=y/2+.5,t=1,cT=0;if(z.shape==2){t=1/(2*hm)}if(z.shape==3){hm=(1-y)/2+.5;
t=1/(2*hm)+.5}if(z.shape==4){hm=y;t=Math.sin(3/2*Math.PI*hm)/4+1}if(z.shape==5){hm=(y-.5)*6;t=(-Math.atan(hm)/1.25+1)/5+.6-.2*y}var c4=[null,null];
if(P==0){c4=X([r[2*P],r[2*P+1]],[r[2*(P+1)],r[2*(P+1)+1]])}else if(P==r.length/2-1){c4=X([r[2*(P-1)],r[2*(P-1)+1]],[r[2*P],r[2*P+1]])}else{c4=X([r[2*(P-1)],r[2*(P-1)+1]],[r[2*(P+1)],r[2*(P+1)+1]])}Y[2*P]=r[2*P]+(t*s+cT)*c4[0];
Y[2*P+1]=r[2*P+1]+(t*s+cT)*c4[1];if(z.style==2){Y[2*P]+=Z(2*P/Y.length,iW,z)}}return Y}function x(r,s,z){var Y=new Float32Array(r.length),ax=1/(r.length/2);
for(var P=0;P<r.length/2;++P){var iW=P*ax,y=[null,null],hm=.6*z.Ui*p(iW,s.as4)*z.MK/100,t=.6*z.Ui*p(iW,s.aq3)*z.MK/100,cT=s.aff*hm+(1-s.aff)*t;
if(P==0){y=X([r[2*P],r[2*P+1]],[r[2*(P+1)],r[2*(P+1)+1]])}else if(P==r.length/2-1){y=X([r[2*(P-1)],r[2*(P-1)+1]],[r[2*P],r[2*P+1]])}else{y=X([r[2*(P-1)],r[2*(P-1)+1]],[r[2*(P+1)],r[2*(P+1)+1]])}Y[2*P]=r[2*P]+cT*y[0];
Y[2*P+1]=r[2*P+1]+cT*y[1]}return Y}function j(r){if(r.IM==1){return[.150684932,.205479452,.465753425,.178082192]}else if(r.IM==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var s=[],z=1/(A(r)-1);
for(var P=0;P<A(r)-1;++P){s.push(z)}return s}}function v(r,s,z){var Y=[],ax=s-r,iW=r;for(var P=0;P<z.length-1;
++P){Y.push(iW+z[P]*ax);iW=Y[P]}return Y}function _(r,s,z,Y){var ax=new Float32Array(z.length),iW=0,y={shape:Math.floor(Y.random()*2.99),aik:Y.random()*.1+.15};
for(var P=0;P<z.length-1;++P){var hm=iW+z[P];ax[P]=((1-hm)*r+hm*s)*g(Y,hm,y);iW=hm}return ax}function L(r,s,z,Y){var ax=d(Y),iW=Y.random(),y=iW*20+(1-iW)*26,hm=new Float32Array(z.length),t=0;
for(var P=0;P<z.length-1;++P){var cT=t+z[P];hm[P]=(1-cT)*r+cT*s+ax/y*(2/3*Math.sin(Math.PI*cT)+1/3*Math.sqrt(Math.sin(Math.PI*cT)));
t=cT}return hm}function U(r,s,z){var Y=[];for(var P=0;P<s.length-1;++P){Y.push(s[P].slice());var ax=P*(A(z)-1),iW=(P+1)*(A(z)-1),y=r[iW]-r[ax];
for(var hm=ax+1;hm<iW;++hm){var t=C(z),cT=new Float32Array(s[0].length),c4=(r[hm]-r[ax])/y;for(var kv=0;
kv<s[0].length/2;++kv){cT[2*kv]=(1-c4)*s[P][2*kv]+c4*s[P+1][2*kv];cT[2*kv+1]=(1-c4)*s[P][2*kv+1]+c4*s[P+1][2*kv+1];
if(z.style==2){cT[2*kv]+=Z(2*kv/s[0].length,t,z)}}Y.push(cT)}}Y.push(s[s.length-1]);return Y}function n(r,s,z){var Y=new Array(s.length),ax=F(r),y=null;
for(var P=0;P<s.length;++P){Y[P]=k(ax,(s[P]-.5)*z.MK,z)}var iW=1+.05*z.ahk*d(z)/d({IM:1});for(var P=0;
P<s.length;++P){if(s[P]==0){y=P}}for(var P=0;P<s.length;++P){var hm=(z.random()-.5)*2,t=Math.round(z.random()*9+1),cT=new Float32Array(t*2+2);
for(var c4=0;c4<=t;++c4){cT[2*c4]=Y[P][0]-(Y[P][2*c4]-Y[P][0]);cT[2*c4+1]=Y[P][1]-(Y[P][2*c4+1]-Y[P][1])}if(P==y){hm*=.1}for(var c4=(Y[P].length-1)/2;
c4>t;--c4){Y[P][2*c4]=(1-hm)*Y[P][2*c4]+hm*(Y[P][2*(c4-t)]+iW*(Y[P][2*c4]-Y[P][2*(c4-t)]));Y[P][2*c4+1]=(1-hm)*Y[P][2*c4+1]+hm*(Y[P][2*(c4-t)+1]+iW*(Y[P][2*c4+1]-Y[P][2*(c4-t)+1]))}for(var c4=t-1;
c4>=0;--c4){Y[P][2*c4]=(1-hm)*Y[P][2*c4]+hm*(cT[2*(t-c4)]+iW*(Y[P][2*c4]-cT[2*(t-c4)]));Y[P][2*c4+1]=(1-hm)*Y[P][2*c4+1]+hm*(cT[2*(t-c4)+1]+iW*(Y[P][2*c4+1]-cT[2*(t-c4)+1]))}}var kv=u(s,z);
if(z.Ui>0){var iL=0;for(var P=0;P<s.length;++P){if(P==0){iL+=s[P]}else{iL+=Math.abs(s[P]-s[P-1])}var cr=iL-Math.floor(iL),ga=1;
if(cr==0){ga=0}Y[P]=x(Y[P],{as4:kv[Math.floor(iL)],aq3:kv[Math.floor(iL)+ga],aff:cr},z)}}return Y}function a(r,s){var z=m(s,r),Y=$(s,r),ax=[],iW=[],y=[],hm=j(r);
for(var P=0;P<s.length-1;++P){ax.push(s[P]);iW.push(z[P]);y.push(Y[P]);var t=v(s[P],s[P+1],hm),cT=_(z[P],z[P+1],hm,r),c4=L(Y[P],Y[P+1],hm,r);
for(var kv=0;kv<t.length;++kv){ax.push(t[kv]);iW.push(cT[kv]);y.push(c4[kv])}}ax.push(s[s.length-1]);
iW.push(z[z.length-1]);y.push(Y[Y.length-1]);return{aoG:ax,aqM:iW,ZC:y}}function T(r,s,z,Y){var ax=new Float32Array(2*Y),iW=r.length/2,y=iW-s,hm=z*y,t=hm/Y;
for(var P=0;P<Y;++P){var cT=Math.floor(s+P*t),c4=Math.ceil(s+P*t),z=s+P*t,kv=c4-cT,iL=1,cr=0;if(kv!=0){iL=(c4-z)/kv;
cr=(z-cT)/kv}ax[2*P]=iL*r[2*cT]+cr*r[2*c4];ax[2*P+1]=iL*r[2*cT+1]+cr*r[2*c4+1]}return ax}function g(r,s,z){var Y=z.aik,ax=s*2*Math.PI,iW=ax,y=0;
if(z.shape==0){y=(Math.sin(2*iW+Math.PI/2)+1)/2}else if(z.shape==1){y=(Math.sin(iW+Math.PI/2)+1)/2}else{y=(4*Math.sin(3/4*iW+Math.PI)+Math.sin(Math.PI/2+2*iW)-2*iW/Math.PI+6)/7}return Math.min(1,1-Y+Y*y)}function D(r,s,z,Y){var ax=[];
for(var P=0;P<r.length;++P){ax.push(T(r[P],s[P],z[P],Y))}return ax}function b(r,s,z){var Y=[];for(var P=0;
P<r.length;++P){var ax=o(2*Math.PI*z.random()),iW=o(2*Math.PI*z.random()),y=z.$w*.5*B({IM:1})/B(z),hm=y*z.MK/200,t=y*s/500,cT=new Float32Array(r[0].length);
for(var c4=0;c4<r[0].length/2;++c4){var kv=o(2*Math.PI*z.random()),iL=2*c4/r[0].length;cT[2*c4]=r[P][2*c4]+hm*(kv[0]+((1-iL)*ax[0]+iL*iW[0]));
cT[2*c4+1]=r[P][2*c4+1]+t*(kv[1]+((1-iL)*ax[1]+iL*iW[1]))}Y.push(cT)}return Y}function N(r,s,z){var Y=z.zv,ax=2/Y,iW=[1/10,1/30,1/40,1/45,1/100],y=iW[z.IM-1],hm=4*(z.opacity/25*ax*y)*(1-z.$w/150),kv=0,cr=0;
if(z.style==3){return hm*.09}var t=2.2*(r-.5),cT=t*t*t*t+.27+Math.max(0,(z.opacity-50)/15),c4=2*(Math.sin(3*Math.PI*s)/(Math.PI*s+2)+1.1)-s/2;
s=2*s;if(s<.41){var iL=2*Math.PI*s/.41;kv=(Math.sin(iL-Math.PI/2)+1)/4+.5}else if(s<.77){var iL=2*Math.PI*(s-.41)/.36;
kv=(Math.sin(iL-Math.PI/2)+1)/4+.5-iL/2/Math.PI*.5}else{var iL=2*Math.PI*(s-.77)/.23;kv=(Math.sin(iL-Math.PI/2)+1)/2*.12}kv*=3;
kv+=Math.max(0,(z.opacity-50)/15);if(z.type==6){cr=c4}else{cr=kv}return hm*cT*cr}function C(r){return{t:r.random()*7/2+.5,R8:r.random()*2*Math.PI}}function Z(r,s,z){return z.MK/300*A({IM:1})/A(z)*10*(Math.sin(s.t*2*Math.PI*r+s.R8)+10*(z.random()-.5))}function S(r){var s=Math.exp(-r.Ui/25);
return{t:r.random()*3/2+.5,R8:r.random()*2*Math.PI,DM:(r.random()-.5)*10*s}}function u(r,s){var z=Math.ceil(V(r)),Y=[];
for(var P=0;P<=z;++P){Y.push(S(s))}return Y}function p(r,s){var z=s.t*4*Math.PI*r+s.R8;return Math.exp(-1/2*Math.PI*r)*Math.cos(z)*Math.cos(z)*Math.cos(z)*Math.cos(z)*Math.cos(z)+r*s.DM-s.DM/4}function f(r,s,z,Y,ax){var iW=0,y=B(s)-1;
for(var P=0;P<y;++P){for(var hm=0;hm<r.length-1;hm+=A(s)-1){for(var t=P;t<r[0].length/2-y;t+=y){for(var cT=hm;
cT<hm+(A(s)-1);++cT){z[ax+iW]=N(cT*(s.zv-1)/(r.length-1)%1,t/r[0].length,s);var c4=0,kv=0;if(s.type==6&&cT!=0&&cT!=r.length-1){kv=(r[cT][2*(t+1)+1]-r[cT][2*t+1])/2;
c4=(r[cT][2*(t+1)]-r[cT][2*t])/2}Y[8*ax+8*iW]=r[cT][2*t]+c4;Y[8*ax+8*iW+1]=r[cT][2*t+1]+kv;Y[8*ax+8*iW+2]=r[cT][2*(t+y)]+c4;
Y[8*ax+8*iW+3]=r[cT][2*(t+y)+1]+kv;Y[8*ax+8*iW+4]=r[cT+1][2*(t+y)];Y[8*ax+8*iW+5]=r[cT+1][2*(t+y)+1];
Y[8*ax+8*iW+6]=r[cT+1][2*t];Y[8*ax+8*iW+7]=r[cT+1][2*t+1];++iW}}}}}function d(r){var s=[100,300,500,700,1e3];
return s[r.IM-1]}function l(r){var s=[30,70,100,140,300];return s[r.IM-1]}function A(r){var s=[5,7,26,40,100];
return s[r.IM-1]}function B(r){if(r.IM==1){return 4}else if(r.IM==2){return 8}else{return Math.floor(l(r)/9)}}function e(r){var s=r.zv,z=new Float32Array(s),Y=null;
for(var P=0;P<s;++P){z[P]=r.random()}if(r.zv<=3){z[0]=0;z[r.zv-1]=1}else{for(var P=0;P<2;++P){var ax=Math.floor(r.random()*s);
if(Y==null||Y!=ax){z[ax]=P;Y=ax}else{z[ax+1]=P}}}return z}function m(r,s){var z=[],Y=.2,iW=0;for(var P=0;
P<r.length;++P){var ax=s.random()*(1-Y)+Y;z.push(ax)}var y=Math.min(3,s.zv);for(var P=0;P<r.length;++P){if(z[P]>.9){++iW}}while(iW<y){var hm=Math.floor(s.random()*r.length);
if(z[hm]<=.9){z[hm]=.9+.1*s.random();++iW}}return z}function $(r,s){var z=d(s),Y=d({IM:1}),ax=[];for(var P=0;
P<r.length;++P){ax.push(Math.max(1,(s.random()*10+2)*z/Y))}return ax}function V(r){var s=0;for(var P=0;
P<r.length;++P){if(P==0){s+=r[P]}else{s+=Math.abs(r[P]-r[P-1])}}return s}function H(r,s){if(r.length/2-1==d(s)){return r}var z=new Float32Array(2*(d(s)+1)),Y=(r.length-2)/(z.length-2);
for(var P=0;P<z.length/2;++P){var ax=P*Y,iW=Math.floor(ax),y=Math.ceil(ax),hm=y-iW,t=1,cT=0;if(hm!=0){t=(y-ax)/hm;
cT=(ax-iW)/hm}z[2*P]=t*r[2*iW]+cT*r[2*y];z[2*P+1]=t*r[2*iW+1]+cT*r[2*y+1]}return z}function F(r,s){var z=r.length/2,Y=h(r),ax=Y/z,iW=!1,t=0,cT=0,c4=1;
if(s){var y=Math.floor(Y/s.a6$),hm=s.a6$;if(s.a1g&&r[0]==r[r.length-2]&&r[1]==r[r.length-1]){iW=!0;hm=Y/(y+1)}if(s.type==2&&!iW&&hm*y+s.length>Y){z=y+1}else{z=y+2}ax=hm}var kv=new Float32Array(z*2);
kv[0]=r[0];kv[1]=r[1];for(var P=1;P<z;++P){while(t<=P*ax){cT=t;t+=E([r[2*c4],r[2*c4+1]],[r[2*(c4-1)],r[2*(c4-1)+1]]);
++c4}var iL=1-(P*ax-cT)/(t-cT);kv[2*P]=(1-iL)*r[2*c4]+iL*r[2*(c4-1)];kv[2*P+1]=(1-iL)*r[2*c4+1]+iL*r[2*(c4-1)+1]}kv[kv.length-2]=r[r.length-2];
kv[kv.length-1]=r[r.length-1];return kv}function G(r,s){var z=F(r,s),Y=[];for(var P=0;P<(z.length-2)/2;
++P){var ax=[];ax.push(z[2*P]);ax.push(z[2*P+1]);var iW=E([z[2*(P+1)],z[2*(P+1)+1]],[z[2*P],z[2*P+1]]),y=[(z[2*(P+1)]-z[2*P])/iW,(z[2*(P+1)+1]-z[2*P+1])/iW],hm=o((s.afZ-90)/360*2*Math.PI),t=y;
if(s.type==3){t=hm}else if(s.type==4){t=o(i(y)+i(hm))}else if(s.type==5){t=o(((s.random()-.5)*s.afZ-90)/360*2*Math.PI)}var cT=s.length;
if(s.ast){cT=2*s.random()*s.length}ax.push(z[2*P]+t[0]*cT);ax.push(z[2*P+1]+t[1]*cT);Y.push(ax)}return Y}function J(r){if(r.ac1){r.sp=100*Math.random()}else{r.sp=r.apN}r.random=new I;
r.random(r.sp);if(r.type==6){r.zv=2;r.shape=5;r.ahk=0}}function c(r,s){r=H(r,s);var z=[r],cT=0;if(s.type>=2&&s.type<6){z=G(r,s)}var Y=B(s)-1,ax=l(s)-Y,iW=(s.zv-1)*(A(s)-1),y=z.length*ax*iW,hm=new Float32Array(y),t=new Float32Array(8*y);
for(var P=0;P<z.length;++P){for(var c4=0;c4<1e4;++c4){s.sp=w(s.sp)}s.random(s.sp);var r=H(z[P],s),kv=e(s),iL=V(kv),cr=n(r,kv,s),ga=a(s,kv),iq=U(ga.aoG,cr,s);
iq=D(iq,ga.ZC,ga.aqM,l(s));if(s.$w>0){iq=b(iq,h(z[P]),s)}f(iq,s,hm,t,cT);cT+=ax*iW}return[hm,t]}var fR=function(r){var s=performance.now(),z=r[0],Y=r[1];
J(Y);var ax=[new Float32Array(0),new Float32Array(0)];for(var P=0;P<z.length;++P){Y.sp=w(Y.sp);var iW=c(z[P],Y),y=new Float32Array(ax[0].length+iW[0].length),hm=new Float32Array(ax[1].length+iW[1].length);
y.set(ax[0]);y.set(iW[0],ax[0].length);ax[0]=y;hm.set(ax[1]);hm.set(iW[1],ax[1].length);ax[1]=hm}var t=performance.now();
if(Y.a2u){console.S3("Geometry: "+String(t-s)+"ms")}return ax};return fR}(),fW=function(){function w(o,i){var h=[],k=0,x=i.length,j=0,v=0,_=new dC,L=0,U=1e9;
for(v=0;v<x;v++){var n=v*8,a=i[v];if(a<U)U=a;var T=o[n+0],g=o[n+1],D=o[n+2],b=o[n+3],N=o[n+4],C=o[n+5],Z=o[n+6],S=o[n+7],u=Math.min(T,D,N,Z),p=Math.max(T,D,N,Z),f=Math.min(g,b,C,S),d=Math.max(g,b,C,S),l=new dC(u,f,p-u,d-f),A=l.jB(_),B=L+a;
if(v-j<10&&(v==j||A.A()*.8<l.A()+_.A())){_=A;L=B}else{h.push(v-j);j=v;_=l;L=a;U=a}}if(v!=j)h.push(v-j);
return h}function I(o,i,h,k,x,j){var v=document.createElement("canvas"),g=0,y=.8;v.width=i;v.height=h;
var _=v.getContext("2d"),L=x[0],U=x[1],n=new Float64Array(i*h),a=Date.now(),T=w(U,L);for(var D=0;D<T.length;
D++){var b=g,N=g+T[D],S=1e9,p=1e9,m=0;g=N;var C=b*8,Z=N*8,u=-S,f=-p;for(var d=C;d<Z;d+=2){var l=U[d],A=U[d+1];
if(l<S)S=l;if(l>u)u=l;if(A<p)p=A;if(A>f)f=A}S=Math.floor(S);u=Math.ceil(u);p=Math.floor(p);f=Math.ceil(f);
var B=u-S,e=f-p;for(var $=b;$<N;$++)m+=L[$];for(var d=C;d<Z;d+=8){var V=L[d>>>3],H=U[d+0],F=U[d+1],G=U[d+2],J=U[d+3],c=U[d+4],r=U[d+5],s=U[d+6],z=U[d+7];
_.fillStyle="rgba(0,0,0,"+V/m+")";_.beginPath();_.moveTo(H,F);_.lineTo(G,J);_.lineTo(c,r);_.lineTo(s,z);
_.closePath();_.fill()}var Y=_.getImageData(S,p,B,e).data;for(var A=0;A<e;A++)for(var l=0;l<B;l++){var P=A*B+l,ax=Y[P*4+3],iW=(p+A)*i+S+l;
if(ax!=0)n[iW]+=ax*m}_.clearRect(S,p,B,e)}var hm=j[1].color,t=Math.pow(hm.o/255,y),cT=Math.pow(hm.P/255,y),c4=Math.pow(hm.L/255,y),kv=new dC(0,0,i,h),iL=Q.$(i*h*4);
for(var A=0;A<h;A++)for(var l=0;l<i;l++){var P=A*i+l,$=P*4,L=n[P]*(1/255);iL[$]=X(t,L);iL[$+1]=X(cT,L);
iL[$+2]=X(c4,L);iL[$+3]=Math.min(255,L*255)}Q.e.gF("norm",iL,kv,k,kv,kv,1)}var E=new Uint8Array(2e3);
for(var P=0;P<2e3;P++)E[P]=255*Math.min(1,Math.log(P/700+1));function X(o,i){return E[Math.min(1500,~~(o*i*1e3))]}return I}(),aN=function(){var w=new Float32Array(3e3),I=new Float32Array(3e3),E=new Float32Array(256),X=new Float32Array(3e3);
function o(){var U=w.length;w[0]=Math.log10(157647e-9);for(var P=1;P<U;++P)w[P]=Math.log10(P/U)}function i(){var U=I.length;
for(var P=0;P<U;++P)I[P]=Math.pow(10,20*(P-U/2)/U)}function h(){var U=E.length;for(var P=0;P<U;++P)E[P]=Q.HF(P/255)}function k(){var U=X.length;
for(var P=0;P<U;++P)X[P]=255*Q.qK(P/(U-1))}function x(U,n){var a=U.length>>>2;for(var P=0;P<a;++P){var T=E[U[4*P]],g=E[U[4*P+1]],D=E[U[4*P+2]],b=.3811*T+.5783*g+.0402*D,N=.1967*T+.7244*g+.0782*D,C=.0241*T+.1288*g+.8444*D;
b=w[~~(b*w.length)];N=w[~~(N*w.length)];C=w[~~(C*w.length)];n[3*P]=(b+N+C)*.5773502692;n[3*P+1]=(b+N-2*C)*.4082482905;
n[3*P+2]=(b-N)*.7071067812}}function j(U,n){var a=n.length>>>2,T=X.length-1;for(var P=0;P<a;++P){var g=.5773502692*U[3*P],D=.4082482905*U[3*P+1],b=.7071067812*U[3*P+2],N=I[~~((g+D+b+10)*(3e3/20))],C=I[~~((g+D-b+10)*(3e3/20))],Z=I[~~((g-2*D+10)*(3e3/20))],S=4.4679*N-3.5873*C+.1193*Z,u=-1.2186*N+2.3809*C-.1624*Z,p=.0497*N-.2439*C+1.2045*Z;
n[4*P]=X[~~(T*Math.max(0,Math.min(1,S)))];n[4*P+1]=X[~~(T*Math.max(0,Math.min(1,u)))];n[4*P+2]=X[~~(T*Math.max(0,Math.min(1,p)))]}}function v(U){var n=0,a=0,T=0;
for(var P=0;P<U.length;P+=3){n+=U[P];a+=U[P+1];T+=U[P+2]}return[n/(U.length/3),a/(U.length/3),T/(U.length/3)]}function _(U,v){var n=0,a=0,T=0;
for(var P=0;P<U.length;P+=3){var g=U[P]-v[0],D=U[P+1]-v[1],b=U[P+2]-v[2];n+=g*g;a+=D*D;T+=b*b}return[Math.sqrt(n/(U.length/3)),Math.sqrt(a/(U.length/3)),Math.sqrt(T/(U.length/3))]}function L(U,n,a,T,g,D){o();
i();h();k();var b=0,F,G;if(D[0]>100)b=-(D[0]-100)/100*.13;else if(D[0]>=75)b=(100-D[0])/25*.04;else if(D[0]>=50)b=.04+(75-D[0])/25*.04;
else if(D[0]>=25)b=.08+(50-D[0])/25*.08;else b=.16+(25-D[0])/25*.24;var N=(D[1]-100+100)/100,C=D[2]/100,Z=D[3],S=new Float32Array(U.length*3/4),u=new Float32Array(T.length*3/4),p=Date.now();
x(U,S);x(T,u);var f=Date.now(),d=v(S),l=v(u),A=Date.now(),B=_(S,d),e=_(u,l),m=Date.now();l[0]*=Math.pow(10,b);
var $=[e[0]/B[0],e[1]/B[1],e[2]/B[2]],V=S.length,H=1/-1.1546978950500488;for(var P=0;P<V;P+=3){if(Z){var J=Math.max(0,Math.min(1,S[P]*H));
J=1-Math.sqrt(J);F=J*l[1];G=J*l[2]}else{F=l[1];G=l[2]}S[P]=(S[P]-d[0])*$[0]+l[0];S[P+1]=(S[P+1]-d[1])*$[1]*N+F;
S[P+2]=(S[P+2]-d[2])*$[2]*N+G}var c=Date.now();j(S,g);var r=g.length>>>2;for(var P=0;P<r;++P){g[4*P]=(1-C)*g[4*P]+C*U[4*P];
g[4*P+1]=(1-C)*g[4*P+1]+C*U[4*P+1];g[4*P+2]=(1-C)*g[4*P+2]+C*U[4*P+2];g[4*P+3]=255}}return L}(),gC=function(){function w(I,E,X,o,i){var h=[-1,-1,-1,-1],k=255,x=160,j,v=!1,_=new Array(4);
_[0]=new Array(E);_[1]=new Array(X);_[2]=new Array(E);_[3]=new Array(X);var L=new Array(2);L[0]=new Array(X);
L[1]=new Array(X);function U(e,m,$,V,H){this.start=V;this.axis=H;this.dir=e;this.end=-1;this.source=m;
this.A=$}function n(e,m,$,V,H){if($%2==0){if(!_[$][e])_[$][e]=new Array;_[$][e].push(new U($,V,H,m,e))}else{if(!_[$][m])_[$][m]=new Array;
_[$][m].push(new U($,V,H,e,m))}var F=Date.now()}function a(P){var e=!1,m=0;if(I[4*P+3]<k)return e;var $=P%E,V=Math.floor(P/E);
T($,V);if(P+E<E*X&&I[4*(P+E)+3]<k&&I[4*(P-E)+3]>=k&&I[4*(P-2*E)+3]>=k){var H=2;if(I[4*(P+E)+3]<=x)m=-1;
if(I[4*(P+2*E-1)+3]<k&&I[4*(P+2*E+1)+3]<k)e=!0;else if(I[4*(P+2*E-1)+3]>=k&&I[4*(P+1)+3]>=k)e=!0;else if(I[4*(P+2*E+1)+3]>=k&&I[4*(P-1)+3]>=k)e=!0;
n($,V,H,m,e)}else if(P-E>=0&&I[4*(P-E)+3]<k&&I[4*(P+E)+3]>=k&&I[4*(P+2*E)+3]>=k){var H=0;if(I[4*(P-E)+3]<=x)m=-1;
if(I[4*(P-2*E-1)+3]<k&&I[4*(P-2*E+1)+3]<k)e=!0;else if(I[4*(P-2*E-1)+3]>=k&&I[4*(P+1)+3]>=k)e=!0;else if(I[4*(P-2*E+1)+3]>=k&&I[4*(P-1)+3]>=k)e=!0;
n($,V,H,m,e)}m=0;if(P+1<E*X&&I[4*(P+1)+3]<k&&I[4*(P-1)+3]>=k&&I[4*(P-2)+3]>=k){var H=3;if(I[4*(P+1)+3]<=x)m=-1;
if(!e&&I[4*(P+E+2)+3]<k&&I[4*(P-E+2)+3]<k){e=!0;n($,V,H,m,!0)}else n($,V,H,m,!1)}else if(P>=1&&I[4*(P-1)+3]<k&&I[4*(P+1)+3]>=k&&I[4*(P+2)+3]>=k){var H=1;
if(I[4*(P-1)+3]<=x)m=-1;if(!e&&I[4*(P+E-2)+3]<k&&I[4*(P-E-2)+3]<k){e=!0;n($,V,H,m,!0)}else n($,V,H,m,!1)}return e}function T(P,e){if(h[0]==-1){h[0]=P;
h[1]=e;h[2]=1;h[3]=1}if(P<h[0]){h[2]+=h[0]-P;h[0]=P}if(P>h[0]+h[2])h[2]=P-h[0];if(e<h[1]){h[3]+=h[1]-e;
h[1]=e}if(e>h[1]+h[3])h[3]=e-h[1]}function g(e,P,m,$){if(!m.A)return;var V=(e+2)%4,H=m.start,F=h[1];
if(e==2)F+=h[3];else if(e==1)F=h[0];else if(e==3)F=h[0]+h[2];var G=m.source;if(_[V][P])for(var J=0;J<_[V][P].length;
++J){if(e>1){var c=H+Math.floor((_[V][P][J].start-H)/2);if(_[V][P][J].start>H&&c<F)F=c}else{var c=H-Math.floor((H-_[V][P][J].start)/2);
if(_[V][P][J].start<H&&c>F)F=c}}for(var r=1;r<Math.abs(F-H);++r){var J=H+r;if(e==1||e==0)J=H-r;for(var s=0;
s<2;++s){var z=2*s,Y=!1;if(e%2==0)z+=1;if(_[z][J]){for(var ax=0;ax<_[z][J].length;++ax){if(_[z][J][ax].A){var iW=_[z][J][ax].start,y=P-iW,hm=J-H;
if(z==0||z==1)y=-y;if(y<=0)continue;if(e==0||e==1)hm=-hm;if(hm>y){F=J;Y=!0;break}}}if(Y)break}}}m.end=F;
N(e,P,H,F,G)}function D(e){for(var P=0;P<_[e].length;++P){if(_[e][P])for(var m=0;m<_[e][P].length;++m){g(e,P,_[e][P][m])}}}function b(){var e=[2,0,3,1];
for(var P=0;P<e.length;++P)D(e[P])}function N(e,P,m,$,V){if(e==2)for(var H=m;H<=$;++H){if(!C(H*E+P,(m+V)*E+P))return!1}else if(e==0)for(var H=m;
H>=$;--H){if(!C(H*E+P,(m-V)*E+P))return!1}else if(e==1)for(var H=m;H>=$;--H){if(!C(P*E+H,P*E+m-V))return!1}else if(e==3)for(var H=m;
H<=$;++H){if(!C(P*E+H,P*E+m+V))return!1}}function C(e,m){if(!j[e]){o[4*e]=o[4*m];o[4*e+1]=o[4*m+1];o[4*e+2]=o[4*m+2];
if(v)o[4*e+3]=255;j[e]=!0;return!0}return!1}function Z(){for(var P=0;P<4;P+=1){for(var e=0;e<_[P].length;
++e){if(_[P][e])for(var m=0;m<_[P][e].length;++m){var $=_[P][e][m];for(var V=1;V<3;V+=2){var H=(P+V)%4;
if(_[H][$.start])for(var F=0;F<_[H][$.start].length;++F){if(_[H][$.start][F].start==$.axis){var eS=E*$.start+$.axis;
if(P%2==1){eS=$.start+E*$.axis;S(_[H][$.start][F])}else S($)}}}}}}}function S(e){if(e.dir%2==0){var eS=E*e.start+e.axis,m=e.start,$=1;
if(!j[eS+1])$=3;else if(j[eS-1])return;var V=o[4*eS],H=o[4*eS+1],F=o[4*eS+2];while(o[4*eS]==V&&o[4*eS+1]==H&&o[4*eS+2]==F){if($==1){if(!L[0][m])L[0][m]=new Array;
L[0][m].push(new U($,0,!1,e.axis,m))}else{if(!L[1][m])L[1][m]=new Array;L[1][m].push(new U($,0,!1,e.axis,m))}if(e.dir==2){eS+=E;
m++}else{eS-=E;m--}}}}function u(){for(var e=0;e<2;++e){var m=(e+1)%2;for(var P=0;P<L[e].length;++P){if(L[e][P])for(var $=0;
$<L[e][P].length;++$){var V=h[0];if(e==1)V+=h[2];var H=L[e][P][$].start;if(L[m][P])for(var F=0;F<L[m][P].length;
++F){var G=L[m][P][F].Ls;if(e==0){if(G>V&&G<H){V=H-Math.floor((H-G)/2)}}else{if(G<V&&G>H){V=H+Math.ceil((G-H)/2)}}}if(e==0)N(L[e][P][$].dir,P,H-1,V,-1);
else N(L[e][P][$].dir,P,H+1,V,-1)}}}for(var P=0;P<j.length;++P){if(!j[P]&&P%E>=h[0]&&P%E<=h[0]+h[2]&&Math.floor(P/E)>=h[1]&&Math.floor(P/E)<=h[1]+h[3]){var H=E;
if(P<H||!j[P-H])H=1;o[4*P]=o[4*(P-H)];o[4*P+1]=o[4*(P-H)+1];o[4*P+2]=o[4*(P-H)+2];j[P]=!0;if(v)o[4*P+3]=255}}}function p(){j=new Array(I.length/4);
for(var P=0;P<o.length/4;++P){j[P]=!1;o[4*P]=I[4*P];o[4*P+1]=I[4*P+1];o[4*P+2]=I[4*P+2];o[4*P+3]=I[4*P+3];
if(o[4*P+3]==255)j[P]=!0;if(a(P))j[P]=!1}if(h[0]>0){h[0]--;h[2]++}if(h[1]>0){h[1]--;h[3]++}if(h[0]+h[2]<E){h[2]++}if(h[1]+h[3]<X){h[3]++}}var f=Date.now();
p();var d=Date.now();b();var l=Date.now();Z();var A=Date.now();u();var B=Date.now();console.log("Init: "+String(d-f));
console.log("Filling: "+String(l-d));console.log("Check areas: "+String(A-l));console.log("Fill areas: "+String(B-A))}return w}();
function bR(){}bR.abQ=function(w){var I=[Q.HF(w[0]),Q.HF(w[1]),Q.HF(w[2]),0];return Q.vU.mm(Q.vU.wj,I)};
bR.akZ=function(w){var I=Q.vU.mm(Q.vU.Ao,w);return[Q.qK(I[0]),Q.qK(I[1]),Q.qK(I[2])]};bR.TZ=function(w,I){var E={},X=5003,o=1667,i=25e3,h=57.4,k=16.1,x=1.8,j=0,v=1.54,_=.75,n=0;
if(I>0){w-=I/100*4}if(w<0){k=22.54;h=80.36;v=.756}if(I>0){x=1.3;_=.2}var L=Math.min(X+h*w,i),U=Math.max(X-k*w,o);
if(w<0){L=Math.max(X+k*w,o);U=Math.min(X-h*w,i)}if(w>0){if(w<=14){n=(w-1)/13*.075+.025}else if(w<=29){n=.1}else if(w<=60){n=.1-.1*(w-29)/(60-29)}else{var a=w-60;
j=-20*(a/40);n=-.3*(a/40)}}else{if(w<-60){var a=w+60;j=-20*(a/40)}}var T=Math.abs(w)/100*v+Math.abs(I)/100*_+n,g=-(I*x+j),D=jI.aI(L,-g),b=jI.MF(D),N=jI.aI(U,0),C=jI.MF(N),Z=jI.wY(b,C);
E.a3d=T;E.a9F=Z;if(w==0&&I==0)E.aoZ=!0;else E.aoZ=!1;return E};bR.a4E=function(w,I,E,X){if(X.aoZ){return[w,I,E]}var o=this.abQ([w,I,E]),i=o[0],h=o[1],k=o[2],x=h+1e-12,j=[i/x,h/x,k/x,0],v=Q.vU.mm(X.a9F,j),_=0,L=.4;
v[0]*=x;v[1]*=x;v[2]*=x;if(x>L)_=1/(1-L)*(x-L);o[0]=(1-_)*v[0]+_*i;o[1]=(1-_)*v[1]+_*h;o[2]=(1-_)*v[2]+_*k;
return this.akZ(o)};Q.Ij={dJ:function(w,I){var P=w.length;w.push(I);var E=P>>>1;while(E!=0&&w[P][0]<w[E][0]){var X=w[P];
w[P]=w[E];w[E]=X;P=E;E=P>>>1}},Sc:function(w){if(w.length==2)return w.pop();var top=w[1],P=1;w[1]=w.pop();
var I=w.length;while(!0){var E=P<<1,X=E+1,o=P;if(E<I&&w[E][0]<w[o][0])o=E;if(X<I&&w[X][0]<w[o][0])o=X;
if(o==P)break;var i=w[P];w[P]=w[o];w[o]=i;P=o}return top},a0e:function(w){for(var P=1;P<w.length;P++){var I=P,E=1e9;
while(I!=0){var X=w[I][0];if(X>E){console.log(P);throw"e"}E=X;I=I>>>1}}}};Q.e={};Q.e.PT=new Float64Array(256);
Q.e.Vw=new Uint8Array(256*256);Q.e.Ah=new Uint8Array(256*256);(function(){for(var P=0;P<256;P++)Q.e.PT[P]=255/P;
for(var P=0;P<256;P++)for(var w=0;w<256;w++)Q.e.Vw[P*256+w]=P==0?0:Math.round(w*255/P);for(var P=0;P<256;
P++)for(var w=0;w<256;w++)Q.e.Ah[P*256+w]=Math.round(P*(255-w)/255)}());Q.e.gF=function(w,I,E,X,o,i,h,k){if(k==null)k=aQ.aT();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(w)==-1){h=h*k.fill;k.fill=1;k.style=!1}var x="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),j="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),v=Q.e[w+"F"];
if(k.Sn==null&&w=="norm")Q.e.ae3(I,E,X,o,i,h,v,k.zl?1:0);else if(w=="diss")Q.e.a3H(I,E,X,o,i,h,v,k.zl?1:0);
else if(x.indexOf(w)!=-1)Q.e.a7E(I,E,X,o,i,h,v,k);else if(j.indexOf(w)!=-1)Q.e.a0f(I,E,X,o,i,h,v,k)};
Q.e.axQ=function(w,I,E){var X=w*E+1-E;return X<.001?0:1-Math.min(1,(1-I)/X)};Q.e.a55=function(w,I,E){return w*E==1?1:Math.min(1,I/(1-w*E))};
Q.e.MB=function(w){return w<=.25?((16*w-12)*w+4)*w:Math.sqrt(w)};Q.e.normF=function(w,I,E){return w};
Q.e.darkF=function(w,I,E){return Math.min(w,I)};Q.e["mul F"]=function(w,I,E){return w*I};Q.e.idivF=function(w,I,E){var X=w*E+1-E;
return I==1?1:1-I>=X?0:1-(1-I)/X};Q.e.lbrnF=function(w,I,E){return Math.max(0,w*E+I-E)};Q.e.dkClF=function(w,I,E){var X=Q.ZT(w)<Q.ZT(I)?w:I;
E.o=X.o;E.P=X.P;E.L=X.L;return E};Q.e.liteF=function(w,I,E){return Math.max(w,I)};Q.e.scrnF=function(w,I,E){return I+w-I*w};
Q.e["div F"]=function(w,I,E){w*=E;return I==0?0:I>=1-w?1:I/(1-w)};Q.e.lddgF=function(w,I,E){w*=E;return Math.min(1,w+I)};
Q.e.lgClF=function(w,I,E){var X=Q.ZT(w)>Q.ZT(I)?w:I;E.o=X.o;E.P=X.P;E.L=X.L;return E};Q.e.overF=function(w,I,E){return Q.e.hLitF(I,w,E)};
Q.e.sLitF=function(w,I,E){return w<=.5?I-(1-2*w)*I*(1-I):I+(2*w-1)*(Q.e.MB(I)-I)};Q.e.hLitF=function(w,I,E){return w<=.5?Q.e["mul F"](2*w,I,E):Q.e.scrnF(2*w-1,I,E)};
Q.e.vLitF=function(w,I,E){return w<=.5?Q.e.axQ(2*w,I,E):Q.e.a55(2*w-1,I,E)};Q.e.lLitF=function(w,I,E){return w<=.5?Q.e.lbrnF(2*w,I,E):Q.e.lddgF(2*w-1,I,E)};
Q.e.pLitF=function(w,I,E){return w<=.5?Q.e.darkF(2*w,I,E):Q.e.liteF(2*w-1,I,E)};Q.e.hMixF=function(w,I,E){if(E>.99)return w+I<1?0:1;
return Math.min(1,Math.max(0,(I+w*E-E)/(1-E+1e-6)))};Q.e.diffF=function(w,I,E){w*=E;return Math.abs(w-I)};
Q.e.smudF=function(w,I,E){return w+I-2*w*I};Q.e.fsubF=function(w,I,E){return Math.max(I-w,0)};Q.e.fdivF=function(w,I,E){return Math.min(I/w,1)};
Q.e["hue F"]=function(w,I,E){Q.e.cX(w,Q.Mp(I),E);Q.e.LM(E,Q.ZT(I),E)};Q.e["sat F"]=function(w,I,E){Q.e.cX(I,Q.Mp(w),E);
Q.e.LM(E,Q.ZT(I),E)};Q.e.colrF=function(w,I,E){Q.e.LM(w,Q.ZT(I),E)};Q.e["lum F"]=function(w,I,E){Q.e.LM(I,Q.ZT(w),E)};
Q.e.LM=function(w,I,E){var X=I-Q.ZT(w);E.o=w.o+X;E.P=w.P+X;E.L=w.L+X;Q.e.awO(E)};Q.e.awO=function(w){var I=w.o,E=w.P,X=w.L,o=Q.XP(I,E,X),eS=Math.min(I,E,X),i=Math.max(I,E,X);
if(eS<0){var h=o/(o-eS);I=o+(I-o)*h;E=o+(E-o)*h;X=o+(X-o)*h}if(i>1){var h=(1-o)/(i-o);I=o+(I-o)*h;E=o+(E-o)*h;
X=o+(X-o)*h}w.o=I;w.P=E;w.L=X};Q.e.cX=function(w,I,E){var X=Q.e.aiR,o=w.o,i=w.P,h=w.L;if(o==i&&i==h){E.o=E.P=E.L=0}else if(o>i){if(o>h){if(i>h){E.o=I;
E.P=X(o,i,h,I);E.L=0}else{E.o=I;E.L=X(o,h,i,I);E.P=0}}else{E.L=I;E.o=X(h,o,i,I);E.P=0}}else{if(o<h){if(i>h){E.P=I;
E.L=X(i,h,o,I);E.o=0}else{E.L=I;E.P=X(h,i,o,I);E.o=0}}else{E.P=I;E.o=X(i,o,h,I);E.L=0}}};Q.e.aiR=function(w,I,E,X){return(I-E)*X/(w-E)};
Q.e.ae3=function(w,I,E,X,o,i,h,k){var x=I.LP(X).LP(o),j=Math.max(0,x.x-I.x),v=Math.max(0,x.x-X.x),_=Math.max(0,x.y-I.y),L=Math.max(0,x.y-X.y),U=x.q,n=x.w,a=I.q,T=X.q,g=Q.e.Vw,D=Q.e.Ah,b=new Uint32Array(w.buffer),N=new Uint32Array(E.buffer);
for(var P=0;P<n;P++){var C=(_+P)*a+j,Z=(L+P)*T+v;for(var S=0;S<U;S++){var u=b[C+S],$=1;if(u>>>24==0)continue;
if(u>>>24==255&&i==1&&k==0){N[Z+S]=b[C+S];continue}var p=N[Z+S],f=u&255,d=u>>>8&255,l=u>>>16&255,A=p&255,B=p>>>8&255,e=p>>>16&255,m=i,V=(p>>>24)*(1/255);
if(k==0){m=(u>>>24)*i*(1/255);$=V}var H=$*(1-m),F=m+H,G=1/F;N[Z+S]=~~(.5+(k*V+(1-k)*F)*255)<<24|~~(.5+(l*m+e*H)*G)<<16|~~(.5+(d*m+B*H)*G)<<8|~~(.5+(f*m+A*H)*G)}}};
Q.e.adN=function(w,I,E,X,o,i){var h=I.LP(X).LP(o),k=Math.max(0,h.x-I.x),x=Math.max(0,h.x-X.x),j=Math.max(0,h.y-I.y),v=Math.max(0,h.y-X.y),_=h.q,L=h.w,U=I.q,n=X.q,a=Q.e.Vw,T=Q.e.Ah,g=new Uint32Array(w.buffer),D=new Uint32Array(E.buffer),b=Math.floor(Math.random()*16777215),N=0;
for(var P=0;P<L;P++){var C=(j+P)*U+k,Z=(v+P)*n+x;for(var S=0;S<_;S++){var u=g[C+S];if(u>>>24==0)continue;
if(u>>24==255&&i==1){D[Z+S]=u;continue}var p=D[Z+S],f=(u>>>24)*i*(1/255),d=(p>>>24)*(1/255),l=d*(1-f),A=f+l,B=u&255,e=u>>>8&255,m=u>>>16&255,$=p&255,V=p>>>8&255,H=p>>>16&255;
N>>>=8;if((S&3)==0)N=Q.e.Ip(Z+S+b);var F=A==0?0:1/A,G=Math.floor(A*(256*255))+(N&255)>>>8,J=Math.floor((m*f+H*l)*F+.5),c=Math.floor((e*f+V*l)*F+.5),r=Math.floor((B*f+$*l)*F+.5);
D[Z+S]=G<<24|J<<16|c<<8|r}}};Q.e.hH=function(w,I,E,X,o,i,h,k){var x=Q.XP(w,I,E),j=Q.XP(X,o,i),v=Math.min,_=Q.e.aoL,L=_(x,k,0);
L=v(L,_(w,k,8));L=v(L,_(I,k,16));L=v(L,_(E,k,24));var U=_(j,k,4);U=v(U,_(X,k,12));U=v(U,_(o,k,20));U=v(U,_(i,k,28));
U=Math.max(U,1-h);var n=Math.min(L,U);return n<0?0:n>1?1:n};Q.e.aoL=function(w,I,P){return Math.min((w-I[P])*I[P+1],(w-I[P+3])*I[P+2])};
Q.e.a7E=function(w,I,E,X,o,i,h,k){var x=1/255,j=x*i,v=k.zl?1:0,_=k.fill,L=k.style,U=I.LP(X).LP(o),n=Math.max(0,U.x-I.x),a=Math.max(0,U.x-X.x),T=Math.max(0,U.y-I.y),g=Math.max(0,U.y-X.y),D=U.q,b=U.w,N=I.q,C=X.q,Z=new Uint32Array(w.buffer),S=new Uint32Array(E.buffer);
for(var P=0;P<b;P++){var u=(T+P)*N+n,p=(g+P)*C+a;for(var f=0;f<D;f++,u++,p++){var d=Z[u],F=1;if(d>>>24==0)continue;
var l=S[p],A=(d&255)*x,B=(d>>>8&255)*x,e=(d>>>16&255)*x,m=(l&255)*x,$=(l>>>8&255)*x,V=(l>>>16&255)*x,H=i;
if(v==0){H=(d>>>24)*j;F=(l>>>24)*x}if(k.Sn)H*=Q.e.hH(A,B,e,m,$,V,F,k.Sn);var G=F*(1-H),J=H+G,c=J==0?0:255/J,r=L?1:H,s=((1-F)*H*A+(1-r)*F*m+r*F*h(A,m,(1+H-r)*_))*c,z=((1-F)*H*B+(1-r)*F*$+r*F*h(B,$,(1+H-r)*_))*c,Y=((1-F)*H*e+(1-r)*F*V+r*F*h(e,V,(1+H-r)*_))*c;
J=H*_+F*(1-H*_);var ax=~~(J*255+.5);S[p]=v*(l>>>24)+(1-v)*ax<<24|Y<<16|z<<8|s}}};Q.e.a0f=function(w,I,E,X,o,i,h,k){var x=1/255,j=x*i,v=k.zl?1:0,_=I.LP(X).LP(o),L=Math.max(0,_.x-I.x),U=Math.max(0,_.x-X.x),n=Math.max(0,_.y-I.y),a=Math.max(0,_.y-X.y),T=_.q,g=_.w,D=new Uint32Array(w.buffer),b=new Uint32Array(E.buffer),N={o:0,P:0,L:0},C={o:0,P:0,L:0},Z={o:0,P:0,L:0};
for(var P=0;P<g;P++){var S=(n+P)*I.q+L,u=(a+P)*X.q+U;for(var p=0;p<T;p++,S++,u++){var f=D[S],d=b[u],l=(f&255)*x,A=(f>>>8&255)*x,B=(f>>>16&255)*x,e=(d&255)*x,m=(d>>>8&255)*x,$=(d>>>16&255)*x,V=i,H=1;
if(v==0){V=(f>>>24)*j;H=(d>>>24)*x}if(k.Sn)V*=Q.e.hH(l,A,B,e,m,$,H,k.Sn);var F=H*(1-V),G=V+F,J=255/G;
N.o=l;N.P=A;N.L=B;C.o=e;C.P=m;C.L=$;h(N,C,Z);var c=(((1-H)*l+H*Z.o)*V+e*F)*J,r=(((1-H)*A+H*Z.P)*V+m*F)*J,s=(((1-H)*B+H*Z.L)*V+$*F)*J,z=v*(d>>>24)+(1-v)*Math.round(G*255);
b[u]=z<<24|s<<16|r<<8|c}}};Q.e.dQ=function(w){w=w^61^w>>>16;w=w+(w<<3);w=w^w>>>4;w=w*668265261;w=w^w>>15;
return(w&16777215)*(1/16777215)};Q.e.Ip=function(w){w=w^61^w>>>16;w=w+(w<<3);w=w^w>>>4;w=w*668265261;
w=w^w>>>15;return w};Q.e.Y3=function(w){this.wX=w};Q.e.Y3.prototype.get=function(){var w=this.wX=Q.e.Ip(this.wX);
return(w&16777215)*(1/16777215)};Q.e.a3H=function(w,I,E,X,o,i,h,k){var x=1/255,j=x*i,v=Math.round(i*(256*256*256/255)),_=I.LP(X).LP(o),L=Math.max(0,_.x-I.x),U=Math.max(0,_.x-X.x),n=Math.max(0,_.y-I.y),a=Math.max(0,_.y-X.y),T=_.q,g=_.w,D=new Uint32Array(w.buffer),b=new Uint32Array(E.buffer);
for(var P=0;P<g;P++){var N=(n+P)*I.q+L,C=(a+P)*X.q+U;for(var Z=0;Z<T;Z++,N++,C++){var S=D[N],u=b[C],p=k*255+(1-k)*(S>>>24);
if((Q.e.Ip(N)&16777215)>=p*v)continue;b[C]=S&16777215|k*(u>>>24)+(1-k)*255<<24}}};Q.e.asr=function(w,I,E){for(var P=0;
P<w.length;P+=4){var X=E[P>>>2];if(X==0)continue;var o=X*(1/255),i=1/o,h=I[P],k=I[P+1],x=I[P+2],j=w[P],v=w[P+1],_=w[P+2];
I[P]=Math.min(255,Math.max(0,Math.round((h-(1-o)*j)*i)));I[P+1]=Math.min(255,Math.max(0,Math.round((k-(1-o)*v)*i)));
I[P+2]=Math.min(255,Math.max(0,Math.round((x-(1-o)*_)*i)));I[P+3]=255}};Q.e.Wg=function(w,I,E,X,o,i,h,k,x,j,v){if(j==null)j=!1;
if(v==null)v=[1,1,1];var _=255<<24|v[2]*16711680|v[1]*65280|v[0]*255,L=~_;if(o&&!I.ZQ(i)){var U=Q.$(I.A()*4);
U.fill(h);Q.b_(o,i,U,I);o=U;i=I}if(j){if(o==null)Q.e.apY(w,I,E,X,o,k,x,_,L);else Q.e.a4l(w,I,E,X,o,k,x)}else{if(o==null)Q.e.awt(w,I,E,X,o,k,x,_,L);
else Q.e.ajf(w,I,E,X,o,k,x)}};Q.e.awt=function(w,I,E,X,o,i,h,k,x){var j=1/255,v=I.LP(X).LP(i),_=Math.max(0,v.x-I.x),L=Math.max(0,v.x-X.x),U=Math.max(0,v.y-I.y),n=Math.max(0,v.y-X.y),a=v.q,T=v.w,g=new Uint32Array(w.buffer),D=new Uint32Array(E.buffer),b=Q.e.Vw,N=h*255&255;
for(var P=0;P<T;P++){var C=(U+P)*I.q+_,Z=(n+P)*X.q+L;for(var S=0;S<a;S++,C++,Z++){var u=g[C],p=D[Z],f=u>>>24,d=p>>>24,l=Q.Jc(N*f+(255-N)*d),A=Q.Jc(f*N),B=Q.Jc(d*(255-N)),e=u&255,m=u>>>8&255,$=u>>>16&255,V=p&255,H=p>>>8&255,F=p>>>16&255,G=A*e+V*B,J=A*m+H*B,c=A*$+F*B;
G=b[l<<8|Q.Jc(G)];J=b[l<<8|Q.Jc(J)];c=b[l<<8|Q.Jc(c)];var r=l<<24|c<<16|J<<8|G;D[Z]=x&p|k&r}}};Q.e.apY=function(w,I,E,X,o,i,h,k,x){var j=1/255,v=I.LP(X).LP(i),_=Math.max(0,v.x-I.x),L=Math.max(0,v.x-X.x),U=Math.max(0,v.y-I.y),n=Math.max(0,v.y-X.y),a=v.q,T=v.w,g=new Uint32Array(w.buffer),D=new Uint32Array(E.buffer),b=Q.e.Vw,N=h*16777215&16777215;
for(var P=0;P<T;P++){var C=(U+P)*I.q+_,Z=(n+P)*X.q+L;for(var S=0;S<a;S++,C++,Z++){if((Q.e.Ip(C)&16777215)<N){D[Z]=x&D[Z]|k&g[C]}}}};
Q.e.ajf=function(w,I,E,X,o,i,h){var k=1/255,x=I.LP(X).LP(i),j=Math.max(0,x.x-I.x),v=Math.max(0,x.x-X.x),_=Math.max(0,x.y-I.y),L=Math.max(0,x.y-X.y),U=x.q,n=x.w,a=new Uint32Array(w.buffer),T=new Uint32Array(E.buffer),g=Q.e.Vw;
for(var P=0;P<n;P++){var D=(_+P)*I.q+j,b=(L+P)*X.q+v;for(var N=0;N<U;N++,D++,b++){var C=o[D]*h&255;if(C==0)continue;
if(C==255){T[b]=a[D];continue}var Z=a[D],S=T[b],u=Z>>>24,p=S>>>24,f=Q.Jc(C*u+(255-C)*p),d=Q.Jc(u*C),l=Q.Jc(p*(255-C)),A=Z&255,B=Z>>>8&255,e=Z>>>16&255,m=S&255,$=S>>>8&255,V=S>>>16&255,H=g[f<<8|Q.Jc(d*A+m*l)],F=g[f<<8|Q.Jc(d*B+$*l)],G=g[f<<8|Q.Jc(d*e+V*l)];
T[b]=f<<24|G<<16|F<<8|H}}};Q.e.a4l=function(w,I,E,X,o,i,h){var k=1/255,x=I.LP(X).LP(i),j=Math.max(0,x.x-I.x),v=Math.max(0,x.x-X.x),_=Math.max(0,x.y-I.y),L=Math.max(0,x.y-X.y),U=x.q,n=x.w,a=new Uint32Array(w.buffer),T=new Uint32Array(E.buffer),g=Q.e.Vw,D=Math.round(h*257);
for(var P=0;P<n;P++){var b=(_+P)*I.q+j,N=(L+P)*X.q+v;for(var C=0;C<U;C++,b++,N++){var Z=o[b]*D;if((Q.e.Ip(b)&65535)<Z)T[N]=a[b]}}};
Q.e.jR=function(w,I,E,X,o,i,h){var k=1/255,x=I.LP(X).LP(i),j=Math.max(0,x.x-I.x),v=Math.max(0,x.x-X.x),_=Math.max(0,x.y-I.y),L=Math.max(0,x.y-X.y),U=x.q,n=x.w,a=new Uint32Array(w.buffer),T=new Uint32Array(E.buffer),g=Math.floor(Math.random()*X.A()),D=Q.e.avp;
for(var P=0;P<n;P++){var b=(_+P)*I.q+j,N=(L+P)*X.q+v;for(var C=0;C<U;C++){var Z=o[b+C]*h;if(Z==0)continue;
if(Z==255){T[N+C]=a[b+C];continue}var S=a[b+C],u=T[N+C],p=S>>>24,f=u>>>24,d=p*Z*(1/255),l=f*(255-Z)*(1/255),A=S&255,B=S>>>8&255,e=S>>>16&255,m=u&255,$=u>>>8&255,V=u>>>16&255,H=Q.e.Ip(N+C+g),F=Math.floor((d+l)*256+.5)+(H>>>0&255)>>>8,G=F==0?0:256/(d+l),J=A*d+m*l,c=B*d+$*l,r=e*d+V*l,s=Math.floor(J*G+.5)+(H>>>8&255)>>>8,z=Math.floor(c*G+.5)+(H>>>16&255)>>>8,Y=Math.floor(r*G+.5)+(H>>>24&255)>>>8;
T[N+C]=F<<24|Y<<16|z<<8|s}}};Q.e.avp=function(w){return Math.floor(w+Math.random())};Q.e.Zp=function(w,I,E,X,o,i,h){var k=1/255,x=I.LP(X).LP(i),j=Math.max(0,x.x-I.x),v=Math.max(0,x.x-X.x),_=Math.max(0,x.y-I.y),L=Math.max(0,x.y-X.y),U=x.q,n=x.w;
for(var P=0;P<n;P++){var a=(_+P)*I.q+j,T=(L+P)*X.q+v;for(var g=0;g<U;g++,a++,T++){var D=h*o[a]*k;if(D==0)continue;
if(D==1){E[T]=w[a];continue}E[T]=w[a]*D+E[T]*(1-D)}}};Q.afB=function(){function w(i){var h=i*.85;return Math.exp(-(h*h)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function I(i,h){var k=i<h?1:w((i-h)/Math.pow(1.001-h,.86));
return k}var E=[];function X(i){if(E[i])return E[i];var h=Math.pow(i,.55),k=new Float64Array(8e3),x=0,j=8e3;
for(var P=0;P<8e3;P++){var v=I(P*(1.55/4e3),h);if(v>=1)x=P;else if(v<=0&&j==8e3)j=P;k[P]=v}var _=[k,x,j];
E[i]=_;return _}function o(i,h,k){var x=1+.55*(1-h),j=Math.round(k*i*x)+2,v=new dC(0,0,j,j),_=Q.$(j*j*4),L=new Uint32Array(_.buffer),U=[_,v],n=j/2,a=x/(n-1),T=Date.now(),g=X(h),D=Math.round(8e3/n),b=g[0],N=g[1]-D,C=g[2]+D,Z=Math.min(j,j+1>>>1),S=a*.4*(4e3/1.55),u=Q.$(8e3);
for(var P=0;P<8e3;P++){var p=P,f=P,d=~~Math.max(0,p-S-S),l=~~Math.max(0,p-S),A=~~(p+S),B=~~(p+S+S),e=~~(.5+255*(1/5)*(b[f]+b[d]+b[l]+b[A]+b[B]));
u[P]=e;if(e==0)break}for(var P=0;P<Z;P++){var m=a*(P-n+.5),$=m*m,V=P*j,H=(j-1-P)*j;for(var F=0;F<Z;F++){var G=a*(F-n+.5),f=~~(Math.sqrt(G*G+$)*(4e3/1.55));
if(C<f)continue;else if(f<N){var e=4278190080;while(F<Z){var J=j-1-F;L[V+F]=e;L[V+J]=e;L[H+F]=e;L[H+J]=e;
F++}break}else{var e=u[f]<<24,J=j-1-F;L[V+F]=e;L[V+J]=e;L[H+F]=e;L[H+J]=e}}}return U}return{a7x:o}}();
Q.h4={};Q.h4.ai6=function(w,I,E,X,o,i){Q.h4.WE(w,I,E,X,o,i,null,0)};Q.h4.asb=function(w,I,E,X,o){Q.h4.WE(w,I,E,X,o,null,null,0)};
Q.h4.aqE=function(w,I,E,X,o,i,h){Q.h4.WE(w,I,E,X,o,null,i,h*.5)};Q.h4.WE=function(w,I,E,X,o,i,h,k){var x=0,l=0,A=1e9,B=0,e=1e9,m=0,$=1e9,V=0,H=0,F=0,G=0;
if(i){x=o*.5;o=3+Math.round((o-3)*.75)}if(h){o=Math.round(o*2.2)}var j=1/o,v=Math.floor(I*j)+1,_=Math.floor(E*j)+1,L=[],U=new Uint8Array(v*_*4),n=h?.5:1,a=i?64:0;
for(var T=0;T<_;T++){var g=h?.5*(T&1):0;for(var D=0;D<v;D++){var b=(D+Math.random()*n+g)*o,N=(T+Math.random()*n)*o;
L.push(b,N);var C=Math.min(I-1,Math.floor(b)),Z=Math.min(E-1,Math.floor(N)),S=(Z*I+C)*4,u=(T*v+D)*4;
for(var P=0;P<4;P++)U[u+P]=Math.max(0,Math.min(255,Math.floor(w[S+P]+(Math.random()-.5)*a)))}}var p=i?i:h?h:[0,0,0],f=v*_*2,d=[-v-1,-v,-v+1,-1,0,1,v-1,v,v+1];
for(var T=0;T<E;T++){F=0;for(var D=0;D<I;D++){var J=D+.5,c=T+.5,r=Math.floor(c*j),s=Math.floor(J*j),z=r*v+s,iW=0,y=0;
if(F>1+k){A=Q.h4.uS(L,l,J,c);V=Math.sqrt(A);F--;G++}else{A=e=$=1e9;for(var P=0;P<d.length;P++){var Y=(z+d[P])*2;
if(Y<0||Y>=f)continue;var ax=Q.h4.uS(L,Y,J,c);if(ax<$){if(ax<e){if(ax<A){m=B;$=e;B=l;e=A;l=Y;A=ax}else{m=B;
$=e;B=Y;e=ax}}else{m=Y;$=ax}}}V=Math.sqrt(A);H=Math.sqrt(e);F=H-(V+H)*.5}if(h==null){var hm=(V+H)*.5,t=i?Math.max(0,hm-x):0;
iW=Math.max(0,Math.min(1,.5+hm-V-t));y=Math.max(0,Math.min(1,1-(.5+hm-V)-t))}else{var cT=Math.min(Q.h4.tj(L,l,B,J,c),Q.h4.tj(L,l,m,J,c));
iW=Math.max(0,Math.min(1,cT-k*.5));if(J<k||I-k<J||c<k||E-k<c)iW=0;y=0}var c4=1-y-iW,u=T*I+D<<2,kv=l<<1,iL=B<<1;
X[u+0]=Math.floor(.5+iW*U[kv+0]+y*U[iL+0]+c4*p[0]);X[u+1]=Math.floor(.5+iW*U[kv+1]+y*U[iL+1]+c4*p[1]);
X[u+2]=Math.floor(.5+iW*U[kv+2]+y*U[iL+2]+c4*p[2]);X[u+3]=w[u+3]}}};Q.h4.uS=function(w,I,E,X){var o=E-w[I],i=X-w[I+1];
return o*o+i*i};Q.h4.tj=function(w,I,E,X,o){var i=w[I],h=w[I+1],k=w[E],x=w[E+1],j=(i+k)*.5,v=(h+x)*.5,_=j+(x-h),L=v-(k-i),U=L-v,n=_-j;
return Math.abs(U*X-n*o+_*v-L*j)/Math.sqrt(n*n+U*U)};Q.iG={};Q.iG.GU=function(w){if(Q.iG.OC.length<w)Q.iG.OC=Q.$(w);
return Q.iG.OC};Q.iG.OC=Q.$(0);Q.iG.f3=function(w){if(Q.iG.Ln.length<w)Q.iG.Ln=new Float32Array(w);return Q.iG.Ln};
Q.iG.Ln=new Float32Array(0);Q.iG.sB=function(w,I,E,X){var o=E.q,i=E.w;Q.iG.a3h(w,I,o,i,X)};Q.iG.Ei=function(w,I,E,X){var o=E.q,i=E.w;
Q.iG.a3B(w,I,o,i,X)};Q.iG.KL=function(w,I,E){var X=I.q,o=I.w;Q.iG.a2L(w,X,o,E)};Q.iG.Vm=function(w,I,E,X,o){var i=E.q,h=E.w;
Q.iG.a7i(w,I,i,h,X,o)};Q.iG.Iv=function(w,I,E,X){var o=E.q,i=E.w;X=Math.round(X);var h=Q.iG.GU(o*i);
Q.QM(w,I);Q.iG.xf(I,h,o,i,X)};Q.iG.oT=function(w,I,E){var X=I.q,o=I.w;E=Math.round(E);var i=Q.iG.GU(X*o*4);
Q.iG.ct(w,i,X,o,E)};Q.iG.VP=function(w,I,E,X){var o=E.q,i=E.w;X=Math.round(X);var h=Q.iG.f3(o*i);Q.QM(w,I);
Q.iG.uo(I,h,o,i,X)};Q.iG.Hp=function(w,I,E){var X=I.q,o=I.w;E=Math.round(E);var i=Q.iG.GU(X*o*4);Q.iG._W(w,i,X,o,E);
Q.QM(i,w)};Q.iG.Us=function(w,eS){var I=Math.sqrt(12*w*w/eS+1),E=Math.floor(I);if(E%2==0)E--;var X=E+2,o=(12*w*w-eS*E*E-4*eS*E-3*eS)/(-4*E-4),i=Math.round(o),h=[];
for(var P=0;P<eS;P++)h.push(P<i?E:X);return h};Q.iG.a3h=function(w,I,E,X,o){var i=Q.iG.Us(o,3),h=Q.iG.GU(E*X);
Q.QM(w,I);Q.iG.xf(I,h,E,X,i[0]-1>>1);Q.iG.xf(I,h,E,X,i[1]-1>>1);Q.iG.xf(I,h,E,X,i[2]-1>>1)};Q.iG.a3B=function(w,I,E,X,o){var i=Q.iG.Us(o,2),h=Q.iG.GU(E*X);
Q.QM(w,I);Q.iG.xf(I,h,E,X,i[0]-1>>1);Q.iG.xf(I,h,E,X,i[1]-1>>1)};Q.iG.a2L=function(w,I,E,X){var o=Q.iG.Us(X,3),i=Q.iG.GU(I*E*4);
Q.iG.ct(w,i,I,E,o[0]-1>>1);Q.iG.ct(w,i,I,E,o[1]-1>>1);Q.iG.ct(w,i,I,E,o[2]-1>>1)};Q.iG.a7i=function(w,I,E,X,o,i){if(i==null)i=3;
var h=Q.iG.Us(o,i),k=Q.iG.f3(E*X);Q.QM(w,I);for(var P=0;P<i;P++)Q.iG.uo(I,k,E,X,(h[P]-1)/2)};Q.iG.xf=function(w,I,E,X,o){Q.iG.ahu(w,I,E,X,o);
Q.iG.aeq(I,w,E,X,o)};Q.iG.ct=function(w,I,E,X,o){Q.iG._W(w,I,E,X,o);Q.iG.anH(I,w,E,X,o)};Q.iG.uo=function(w,I,E,X,o){Q.iG.a3r(w,I,E,X,o);
Q.iG.aov(I,w,E,X,o)};Q.iG.q9=[];Q.iG.P_=function(w){if(Q.iG.q9[w])return Q.iG.q9[w];var I=1/(w+w+1),E=(w+w+1)*256,X=Q.$(E);
for(var P=0;P<E;P++)X[P]=Math.round(P*I);Q.iG.q9[w]=X;return X};Q.iG.ahu=function(w,I,E,X,o){var i=1/(o+o+1),h=E-o-o-1,k=Q.iG.P_(o);
for(var P=0;P<X;P++){var x=P*E,j=x,v=x+o,_=w[x],L=w[x+E-1],U=(o+1)*_;for(var n=0;n<o;n++)U+=w[x+n];for(var n=0;
n<=o;n++){U+=w[v+n]-_;I[x+n]=k[U]}v+=o+1;x+=o+1;for(var n=0;n<h;n++){U+=w[v+n]-w[j+n];I[x+n]=k[U]}v+=h;
j+=h;x+=h;for(var n=E-o;n<E;n++){U+=L-w[j++];I[x++]=k[U]}}};Q.iG._W=function(w,I,E,X,o){var i=E<<2,h=o<<2,k=1/(o+o+1),x=E-o-o-1,j=x<<2,v=Q.iG.P_(o);
for(var P=0;P<X;P++){var _=P*i,L=_,U=_+h,n=_+i,a=w[_],T=w[_+1],g=w[_+2],D=w[_+3],b=(o+1)*a,N=(o+1)*T,C=(o+1)*g,Z=(o+1)*D;
for(var S=0;S<h;S+=4){b+=w[_+S];N+=w[_+S+1];C+=w[_+S+2];Z+=w[_+S+3]}for(var S=0;S<=h;S+=4){b+=w[U]-a;
I[_]=v[b];N+=w[U+1]-T;I[_+1]=v[N];C+=w[U+2]-g;I[_+2]=v[C];Z+=w[U+3]-D;I[_+3]=v[Z];U+=4;_+=4}for(var S=0;
S<j;S+=4){b+=w[U+S]-w[L+S];I[_+S]=v[b];N+=w[U+S+1]-w[L+S+1];I[_+S+1]=v[N];C+=w[U+S+2]-w[L+S+2];I[_+S+2]=v[C];
Z+=w[U+S+3]-w[L+S+3];I[_+S+3]=v[Z]}U+=j;L+=j;_+=j;a=w[n-4];T=w[n-3];g=w[n-2];D=w[n-1];for(var S=E-o;
S<E;S++){b+=a-w[L];I[_]=v[b];N+=T-w[L+1];I[_+1]=v[N];C+=g-w[L+2];I[_+2]=v[C];Z+=D-w[L+3];I[_+3]=v[Z];
L+=4;_+=4}}};Q.iG.a3r=function(w,I,E,X,o){var i=1/(o+o+1),h=E-o-o-1;for(var P=0;P<X;P++){var k=P*E,x=k,j=k+o,v=w[k],_=w[k+E-1],L=(o+1)*v;
for(var U=0;U<o;U++)L+=w[k+U];for(var U=0;U<=o;U++){L+=w[j+U]-v;I[k+U]=L*i}j+=o+1;k+=o+1;for(var U=0;
U<h;U++){L+=w[j+U]-w[x+U];I[k+U]=L*i}j+=h;x+=h;k+=h;for(var U=E-o;U<E;U++){L+=_-w[x++];I[k++]=L*i}}};
Q.iG.aeq=function(w,I,E,X,o){var i=1/(o+o+1),h=X-o-o-1,k=Q.iG.P_(o);for(var P=0;P<E;P++){var x=P,j=x,v=x+o*E,_=w[x],L=w[x+E*(X-1)],U=(o+1)*_;
for(var n=0;n<o;n++)U+=w[x+n*E];for(var n=0;n<=o;n++){U+=w[v]-_;I[x]=k[U];v+=E;x+=E}for(var n=0;n<h;
n++){var a=n*E;U+=w[v+a]-w[j+a];I[x+a]=k[U]}j+=h*E;v+=h*E;x+=h*E;for(var n=X-o;n<X;n++){U+=L-w[j];I[x]=k[U];
j+=E;x+=E}}};Q.iG.anH=function(w,I,E,X,o){var i=E<<2,h=o<<2,k=1/(o+o+1),x=X-o-o-1,j=x<<2,v=Q.iG.P_(o);
for(var P=0;P<E;P++){var _=P<<2,L=_,U=_+o*i,n=_+i*(X-1),a=w[_],T=w[_+1],g=w[_+2],D=w[_+3],b=(o+1)*a,N=(o+1)*T,C=(o+1)*g,Z=(o+1)*D;
for(var S=0;S<o;S++){var u=_+S*i;b+=w[u];N+=w[u+1];C+=w[u+2];Z+=w[u+3]}for(var S=0;S<=o;S++){b+=w[U]-a;
I[_]=v[b];N+=w[U+1]-T;I[_+1]=v[N];C+=w[U+2]-g;I[_+2]=v[C];Z+=w[U+3]-D;I[_+3]=v[Z];U+=i;_+=i}for(var S=0;
S<x;S++){var p=S*i;b+=w[U+p]-w[L+p];I[_+p]=v[b];N+=w[U+p+1]-w[L+p+1];I[_+p+1]=v[N];C+=w[U+p+2]-w[L+p+2];
I[_+p+2]=v[C];Z+=w[U+p+3]-w[L+p+3];I[_+p+3]=v[Z]}L+=x*i;U+=x*i;_+=x*i;a=w[n];T=w[n+1];g=w[n+2];D=w[n+3];
for(var S=X-o;S<X;S++){b+=a-w[L];I[_]=v[b];N+=T-w[L+1];I[_+1]=v[N];C+=g-w[L+2];I[_+2]=v[C];Z+=D-w[L+3];
I[_+3]=v[Z];L+=i;_+=i}}};Q.iG.aov=function(w,I,E,X,o){var i=1/(o+o+1),h=X-o-o-1;for(var P=0;P<E;P++){var k=P,x=k,j=k+o*E,v=w[k],_=w[k+E*(X-1)],L=(o+1)*v;
for(var U=0;U<o;U++)L+=w[k+U*E];for(var U=0;U<=o;U++){L+=w[j]-v;I[k]=L*i;j+=E;k+=E}for(var U=0;U<h;U++){var n=U*E;
L+=w[j+n]-w[x+n];I[k+n]=L*i}x+=h*E;j+=h*E;k+=h*E;for(var U=X-o;U<X;U++){L+=_-w[x];I[k]=L*i;x+=E;k+=E}}};
Q.SZ={};Q.SZ.$=function(w,I,E,X){var o=[];for(var i=0;i<4;i++)for(var h=0;h<4;h++)o.push(w+E*h/3,I+X*i/3);
return o};Q.SZ.MN=function(w,I){var E=w.slice(0);for(var P=0;P<4;P++)for(var X=0;X<4;X++){var o=2*(P*4+X),i=2*(X*4+(3-P));
if(I){var h=o;o=i;i=h}E[i]=w[o];E[i+1]=w[o+1]}return E};Q.SZ.aQ=Q.$(0);Q.SZ.drawImage=function(w,I,E,X,o,i,h){var k=!1,x=Date.now(),j=2,v=E+2*j,_=X+2*j,L=new dC(j,j,E,X),U=L.clone(),D=50;
U.Cs(j,j);var n=Q.SZ.aQ;if(n.length!=U.A()*4)n=Q.SZ.aQ=Q.$(U.A()*4);else n.fill(0);Q.D6(I,L,n,U);if(k)console.log(Date.now()-x,"copy rect");
x=Date.now();Q.mO(n);if(k)console.log(Date.now()-x,"multiply alpha");x=Date.now();var a=[],T=[],g=[];
for(var b=0;b<D+1;b++)for(var N=0;N<D+1;N++){var C=N/D,Z=b/D;a.push(v*C,_*Z);if(N<D&&b<D){var S=b*(D+1)+N,u=S+1,p=S+D+1,f=p+1;
T.push(S,u,p);T.push(p,u,f)}var d=Q.SZ.a1b(w,C,Z);g.push(-d)}var l=a.slice(0);Q.SZ.F(w,l,new dC(j,j,E,X));
Q.p.F(l,new am(1,0,0,1,-i.x,-i.y),l);if(k)console.log(Date.now()-x,"mesh built");x=Date.now();var A=i.q,B=i.w;
Q.Zv.dn(n,v,_,o,A,B,a,l,g,T);if(k)console.log(Date.now()-x,"rendered");x=Date.now();Q.Hq(o);if(k)console.log(Date.now()-x,"divided");
x=Date.now()};Q.SZ._X=new Array(10);Q.SZ.aeG=function(w,I){var E=200,X=0,o=0,i=1e9,h=Q.SZ._X;for(var k=0;
k<E+1;k++)for(var x=0;x<E+1;x++){var j=x/E,v=k/E;Q.SZ.mn(w,j,v,h);var _=h[8]-I.x,L=h[9]-I.y,U=_*_+L*L;
if(U<i){i=U;X=j;o=v}}return[X,o]};Q.SZ.F=function(w,I,E){var X=E.x,o=E.y,i=1/E.q,h=1/E.w,k=Q.SZ._X;for(var x=0;
x<I.length;x+=2){var j=(I[x]-X)*i,v=(I[x+1]-o)*h;Q.SZ.mn(w,j,v,k);I[x]=k[8];I[x+1]=k[9]}};Q.SZ.a1b=function(w,I,E){var X,o,i,h,k=Q.SZ._X;
Q.SZ.aaH(w,I,E,k);X=k[8];o=k[9];Q.SZ.acS(w,I,E,k);i=k[8];h=k[9];return X*h-o*i};Q.SZ.mn=function(w,I,E,X){Q.SZ.O4(X,0,E);
Q.SZ.O4(X,4,I);Q.SZ.YR(w,X)};Q.SZ.aaH=function(w,I,E,X){Q.SZ.O4(X,0,E);Q.SZ.dl(X,4,I);Q.SZ.YR(w,X)};
Q.SZ.acS=function(w,I,E,X){Q.SZ.dl(X,0,E);Q.SZ.O4(X,4,I);Q.SZ.YR(w,X)};Q.SZ.dl=function(w,P,I){var E=1-I;
w[P]=-3*(E*E);w[P+1]=3*(E*E)-6*(I*E);w[P+2]=6*(I*E)-3*(I*I);w[P+3]=3*(I*I)};Q.SZ.O4=function(w,P,I){var E=1-I;
w[P]=E*(E*E);w[P+1]=3*I*(E*E);w[P+2]=3*(I*I)*E;w[P+3]=I*I*I};Q.SZ.YR=function(w,I){var E=0,X=0,o=0,i=I[0],h=I[1],k=I[2],x=I[3],j=I[4],v=I[5],_=I[6],L=I[7];
o=i*j;E+=w[0]*o;X+=w[1]*o;o=i*v;E+=w[2]*o;X+=w[3]*o;o=i*_;E+=w[4]*o;X+=w[5]*o;o=i*L;E+=w[6]*o;X+=w[7]*o;
o=h*j;E+=w[8]*o;X+=w[9]*o;o=h*v;E+=w[10]*o;X+=w[11]*o;o=h*_;E+=w[12]*o;X+=w[13]*o;o=h*L;E+=w[14]*o;X+=w[15]*o;
o=k*j;E+=w[16]*o;X+=w[17]*o;o=k*v;E+=w[18]*o;X+=w[19]*o;o=k*_;E+=w[20]*o;X+=w[21]*o;o=k*L;E+=w[22]*o;
X+=w[23]*o;o=x*j;E+=w[24]*o;X+=w[25]*o;o=x*v;E+=w[26]*o;X+=w[27]*o;o=x*_;E+=w[28]*o;X+=w[29]*o;o=x*L;
E+=w[30]*o;X+=w[31]*o;I[8]=E;I[9]=X};Q.sW={};Q.sW.ace=function(w,I,E){var X=Date.now(),o=new ArrayBuffer(I*E*16),i=Q.sW.alE(w,I,E,o),h=Q.sW.a6p(I,E,o);
return{wk:h,U4:i}};Q.sW.awq=function(w,I,E){var X=Math.round(w.length/8),o=new Uint32Array(X),i=new Uint8Array(X),h=new Uint32Array(X);
Q.Ez(o,4294967295,0);o[E]=0;var k=new a2(X);k.push(E,o[E]);var x={wk:w,U4:I,Ya:o,xq:i,gc:h,wb:k,aj5:E};
return x};Q.sW.cM=function(w,I){var E=w.wk,X=w.U4,o=w.Ya,i=w.xq,h=w.gc,k=w.wb;while(!k.qo()&&(I==null||i[I]==0)){var x=k.pop();
i[x]=1;for(var P=0;P<8;P++){var j=E[8*x+P],v=x+j;if(j==0||i[v])continue;var _=o[x]+X[8*x+P];if(k.contains(v)&&_<o[v])k.remove(v,o[v]);
if(!k.contains(v)){o[v]=_;h[v]=x;k.push(v,o[v])}}}};function a2(w){this.t0=new Uint32Array(w);this.list=[];
this.DY=0;this.z6=4294967295}a2.prototype.qo=function(){return this.DY==0};a2.prototype.push=function(w,I){var E=this.list;
if(E[I]==null)E[I]=[];E[I].push(w);this.DY++;this.t0[w]=E[I].length-1+1;this.z6=Math.min(this.z6,I)};
a2.prototype.pop=function(){this.DY--;var w=this.list,I=this.z6,E=w[I].pop();if(w[I].length==0)w[I]=null;
this.YT();this.t0[E]=0;return E};a2.prototype.contains=function(w){return this.t0[w]!=0};a2.prototype.remove=function(w,I){this.DY--;
var E=this.list,P=this.t0[w]-1;if(P==E[I].length-1)E[I].pop();else{var X=E[I].pop();E[I][P]=X;this.t0[X]=P+1}if(E[I].length==0)E[I]=null;
this.t0[w]=0;this.YT()};a2.prototype.YT=function(){if(this.DY==0){this.z6=4294967295;return}var w=this.z6,I=this.list;
while(I[w]==null)w++;this.z6=w};Q.sW.a8C=function(w,I,E,X){var o=new Int16Array(X);for(var i=0;i<E;i++)for(var h=0;
h<I;h++){var P=i*I+h,k=0;if(1<h&&h<I-2&&1<i&&i<E-2){k+=w[P-I-I];k+=w[P-I-1]+2*w[P-I]+w[P-I+1];k+=w[P-2]+2*w[P-1]-16*w[P]+2*w[P+1]+w[P+2];
k+=w[P+I-1]+2*w[P+I]+w[P+I+1];k+=w[P+I+I]}else k=-16*w[P];o[P]=k}return o};Q.sW.ahx=function(w,I,E,X){if(X==null)X=128;
var o=new Uint8Array(I*E);for(var i=1;i<E-1;i++)for(var h=1;h<I-1;h++){var P=i*I+h;o[P]=Q.sW.a7p(w[P],w[P-1],w[P+1],w[P-I],w[P+I],X)}return o};
Q.sW.a7p=function(w,I,E,X,o,i){var h=Math.abs(w);return w*I<0&&h<Math.abs(I)&&Math.abs(I-w)>i||w*E<0&&h<Math.abs(E)&&Math.abs(E-w)>i||w*X<0&&h<Math.abs(X)&&Math.abs(X-w)>i||w*o<0&&h<Math.abs(o)&&Math.abs(o-w)>i?1:0};
Q.sW.arx=function(w,I,E,X){var o=new Float32Array(X),i=0;new Uint32Array(X).fill(0);for(var h=0;h<E;
h++)for(var k=0;k<I;k++){var x=0,j=0,P=h*I+k,v=P*3;if(0<k&&k<I-1)x=w[P+1]-w[P-1];if(0<h&&h<E-1)j=w[P+I]-w[P-I];
var _=o[v+2]=Math.sqrt(x*x+j*j);if(_!=0){var L=1/_;o[v]=x*L;o[v+1]=j*L}if(_>i)i=_}var U=I*E,n=i==0?0:1/i;
for(var P=0;P<U;P++)o[P*3+2]=1-o[P*3+2]*n;return o};Q.sW.a37=function(w,I,E){return E[~~((.5+.5*w)*255)]+E[~~((.5+.5*I)*255)]};
Q.sW.alE=function(w,I,E,X){var o=Date.now(),i=Q.sW.a8C(w,I,E,X),h=Q.sW.ahx(i,I,E),k=Q.sW.arx(w,I,E,X),x=new Float32Array(256);
for(var P=0;P<256;P++)x[P]=Math.acos(-1+2*P/255)*(.95/Math.PI);var j=[-1,0,1,1,1,0,-1,-1],v=[-1,-1,-1,0,1,1,1,0];
for(var P=0;P<8;P++){var _=1/Math.sqrt(j[P]*j[P]+v[P]*v[P]);j[P]*=_;v[P]*=_}var L=[j[0],v[0],j[1],v[1],j[2],v[2],j[3],v[3]],U=[-I-1,-I,-I+1,1],n=new Uint8Array(I*E*8);
new Uint32Array(n.buffer).fill(4294967295);var a=I*E;for(var T=1;T<E-1;T++)for(var g=1;g<I-1;g++){var D=T*I+g,b=1-h[D],N=k[D*3+2],C=k[3*D+1],Z=-k[3*D];
for(var S=0;S<4;S++){var u=D+U[S];Q.sW.ajd(D,u,S,n,h,k,b,N,C,Z,L,x)}}return n};Q.sW.ajd=function(w,I,E,X,o,i,h,k,x,j,v,_){var L=1-o[I],U=(E&1)==0?1:Math.SQRT1_2,n=i[I*3+2]*U,a=i[3*I+1],T=-i[3*I],g=k*U,D=v[E+E],b=v[E+E+1],N=x*D+j*b,C=a*D+T*b;
if(N+C<0){N=-N;C=-C}var Z=Q.sW.a37(N,C,_);X[(w<<3)+E]=Q.sW.eX(L,Z,n);X[(I<<3)+E+4]=Q.sW.eX(h,Z,g)};Q.sW.eX=function(w,I,E){return 1+~~(.5+20*(.43*w+.43*I+.14*E))};
Q.sW.a6p=function(w,I,E){var X=new Int16Array(E),o=X,P=0,i=0;new Uint32Array(E).fill(0);for(var h=0;
h<I;h++)for(var k=0;k<w;k++){if(h>0&&k>0)o[i+0]=-w-1;if(h>0)o[i+1]=-w;if(h>0&&k<w-1)o[i+2]=-w+1;if(k<w-1)o[i+3]=1;
if(h<I-1&&k<w-1)o[i+4]=w+1;if(h<I-1)o[i+5]=w;if(h<I-1&&k>0)o[i+6]=w-1;if(k>0)o[i+7]=-1;P++;i+=8}return X};
Q.Zi={};Q.Zi.FT=function(w){var I=w.slice(0),E=0;for(var P=0;P<w.length;P++)E+=w[P];for(var P=0;P<w.length;
P++)I[P]/=E;return I};Q.Zi.aY=[Q.Zi.FT([1,2,1,2,16,2,1,2,1]),Q.Zi.FT([1,2,1,2,4,2,1,2,1]),Q.Zi.FT([0,-1,0,-1,8,-1,0,-1,0]),Q.Zi.FT([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
Q.Zi.Q3=function(w,I,E,X,o,i,h,k){if(h==null)h=!1;if(k==null)k=!1;var x=Math.floor(Math.sqrt(o.length)),j=x-1>>>1,v=new Uint32Array(w.buffer),I=new Uint8ClampedArray(I.buffer);
for(var P=0;P<X;P++)for(var _=0;_<E;_++){var L=0,U=0,n=0,a=0;for(var T=0;T<x;T++)for(var g=0;g<x;g++){var D=o[T*x+g];
if(D==0)continue;var b=_-j+g,N=P-j+T;if(b<0)b=0;else if(b>E-1)b=E-1;if(N<0)N=0;else if(N>X-1)N=X-1;if(k&&v[N*E+b]>>>24==0){N=P;
b=_}var C=v[N*E+b];L+=(C&255)*D;U+=(C>>>8&255)*D;n+=(C>>>16&255)*D;a+=(C>>>24&255)*D}if(h){if(L<0)L=-L;
if(U<0)U=-U;if(n<0)n=-n;if(a<0)a=-a}if(k){L=Math.max(0,Math.min(255,L));U=Math.max(0,Math.min(255,U));
n=Math.max(0,Math.min(255,n));a=Math.max(0,Math.min(255,a))}var Z=P*E+_<<2;I[Z]=~~(.5+L);I[Z+1]=~~(.5+U);
I[Z+2]=~~(.5+n);I[Z+3]=255-i&I[Z+3]|i&~~(.5+a)}};Q.Zi.BU=function(w,I,E,X){var o=w.length,i=new Uint8Array(o);
Q.Zi.Q3(w,I,E,X,Q.Zi.aY[4],0,!0);Q.Zi.Q3(w,i,E,X,Q.Zi.aY[5],0,!0);for(var P=0;P<o;P+=4){var h=I[P],k=I[P+1],x=I[P+2],j=I[P+3],v=i[P],_=i[P+1],L=i[P+2],U=i[P+3];
I[P]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+v*v)));I[P+1]=255-Math.max(0,Math.min(255,Math.sqrt(k*k+_*_)));
I[P+2]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+L*L)))}};Q.Zi.zP=function(w,I,E,X){var o=w.length,i=new Uint8Array(o);
Q.Zi.SK(w,I,E,X,Q.Zi.aY[4],!0);Q.Zi.SK(w,i,E,X,Q.Zi.aY[5],!0);for(var P=0;P<o;P++){var h=I[P],k=i[P];
I[P]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+k*k)))}};Q.Zi.SK=function(w,I,E,X,o,i){I=new Uint8ClampedArray(I.buffer);
var h=[-E-1,-E,-E+1,-1,0,1,E-1,E,E+1],k=X-1,x=E-1;for(var P=1;P<k;P++)for(var j=1;j<x;j++){var v=P*E+j,_=Q.Zi.Fn(w,v,E,o);
if(i){if(_<0)_=-_}I[v]=~~(_+.5)}};Q.Zi.Fn=function(w,I,E,X){return w[I-E-1]*X[0]+w[I-E]*X[1]+w[I-E+1]*X[2]+w[I-1]*X[3]+w[I]*X[4]+w[I+1]*X[5]+w[I+E-1]*X[6]+w[I+E]*X[7]+w[I+E+1]*X[8]};
Q.Zi._w=function(w,I,E,X,o){var i=[-E-1,-E,-E+1,-1,0,1,E-1,E,E+1],h=X-1,k=E-1;for(var P=1;P<h;P++)for(var x=1;
x<k;x++){var j=P*E+x;I[j]=Q.Zi.arR(w,j,E,o)}};Q.Zi.arR=function(w,I,E,X){return w[I-E-1]*X[0]+w[I-E]*X[1]+w[I-E+1]*X[2]+w[I-1]*X[3]+w[I]*X[4]+w[I+1]*X[5]+w[I+E-1]*X[6]+w[I+E]*X[7]+w[I+E+1]*X[8]};
Q.rc={};Q.rc.g9=function(){function w(h,k,x,j,v,_,L){if(v==0){k.set(h);return}var U=Q.$(x*j),n=Q.$(x*j);
if(Q.r0(h)){I(h,k,x,j,v,_,L);var a=[Q.rc.OM,Q.rc.Pk],T=a.indexOf(_),g=T!=-1?a[1-T]:_;Q.qe(h,U,3);Q.rc.vp(U,n,x,j,v,g,L);
Q.lJ(n,k,3)}else{for(var P=0;P<3;P++){Q.qe(h,U,P);Q.rc.vp(U,n,x,j,v,_,L);Q.lJ(n,k,P)}}}function I(h,k,x,j,v,_,L){var U=0,n=new ArrayBuffer(512*4*3),a=[new Int32Array(n,0),new Int32Array(n,2048),new Int32Array(n,2*2048)],T=1+2*Math.round(Math.sqrt(v)),g=T>>>1,D=new Array(T),b=new Array(T);
for(var P=0;P<T;P++){var n=new ArrayBuffer(512*4*3);D[P]=[new Int32Array(n,0),new Int32Array(n,2048),new Int32Array(n,2*2048)];
b[P]=D[P][0]}var N=_[0],C=_[1],Z=a[0];for(var S=0;S<x;S++)if(S<v||S>x-v-T-1){Z.fill(0);var u=Math.max(S-v,0),p=Math.min(x,S+v+1),f=p-u;
for(var d=0;d<v;d++)X(Z,h,d*x+u,d*x+p,1);for(var d=0;d<j;d++){var l=d-v-1,A=d+v;if(A<j)X(Z,h,A*x+u,A*x+p,1);
if(l>=0)X(Z,h,l*x+u,l*x+p,-1);var B=d*x+S<<2;U=Z[300];if(U!=0)for(var P=0;P<3;P++)k[B+P]=N(a[P],h[B+P],U,L)}}else{for(var P=0;
P<T;P++)b[P].fill(0);var u=S-v+g,p=S+v+1+g;for(var d=0;d<v;d++)E(b,h,d*x+u,d*x+p,1,g);for(var d=0;d<j;
d++){var l=d-v-1,A=d+v;if(l>=0)E(b,h,l*x+u,l*x+p,-1,g);if(A<j)E(b,h,A*x+u,A*x+p,1,g);var e=D[g];U=e[0][300];
for(var P=0;P<g;P++){var m=g-1-P,$=g+1+P,V=D[m],H=D[$],F=U+V[0][300],G=U+H[0][300],J=d*x+S+m<<2,c=d*x+S+$<<2;
if(F!=0)for(var r=0;r<3;r++)k[J+r]=C(e[r],V[r],h[J+r],F,L);if(G!=0)for(var r=0;r<3;r++)k[c+r]=C(e[r],H[r],h[c+r],G,L)}var B=d*x+S+g<<2;
if(U!=0)for(var r=0;r<3;r++)k[B+r]=N(e[r],h[B+r],U,L)}S+=T-1}}function E(h,k,x,j,v,_){var L=o,U=x<<2,n=j<<2;
L(h[_-1],k,x-1<<2,v);L(h[_-1],k,j-1<<2,-v);L(h[_+1],k,j<<2,v);L(h[_+1],k,x<<2,-v);for(var P=1;P<_;P++){var a=h[_-P-1],T=h[_+P+1];
for(var g=0;g<=P;g++){var D=g<<2;L(a,k,x-1-g<<2,v);L(a,k,j-1-g<<2,-v);L(T,k,j+g<<2,v);L(T,k,x+g<<2,-v)}}X(h[_],k,x,j,v)}function X(h,k,P,x,j){var v=P<<2,_=x<<2;
while(v<_){o(h,k,v,j);v+=4}}function o(h,k,x,j){var v=j*k[x+3];h[300]+=v;i(h,k[x],0,v);i(h,k[x+1],512,v);
i(h,k[x+2],1024,v)}function i(h,k,x,j){h[x|k]+=j;h[x|256|k>>>4]+=j}return w}();Q.rc.vp=function(){function w(_,L,U,n,a,T,g){if(a==0){L.set(_);
return}if(a<=80)I(_,L,U,n,a,T,g);else i(_,L,U,n,a,T,g)}function I(_,L,U,n,a,T,g){var D=0,b=new Int32Array(512),N=1+2*Math.round(Math.sqrt(a)),C=N>>>1,Z=new Array(N);
for(var P=0;P<N;P++)Z[P]=new Int32Array(512);var S=T[0],u=T[1];for(var p=0;p<U;p++)if(p<a||p>U-a-N-1){b.fill(0);
D=0;var f=Math.max(p-a,0),d=Math.min(U,p+a+1),l=d-f;for(var A=0;A<a;A++){D+=l;X(b,_,A*U+f,A*U+d,1)}for(var A=0;
A<n;A++){var B=A-a-1,e=A+a;if(B>=0){D-=l;X(b,_,B*U+f,B*U+d,-1)}if(e<n){D+=l;X(b,_,e*U+f,e*U+d,1)}var m=S(b,_[A*U+p],D,g);
L[A*U+p]=m}}else{for(var P=0;P<N;P++)Z[P].fill(0);D=0;var f=p-a+C,d=p+a+1+C,l=d-f;for(var A=0;A<a;A++){D+=l;
E(Z,_,A*U+f,A*U+d,1,C)}for(var A=0;A<n;A++){var B=A-a-1,e=A+a;if(B>=0){D-=l;E(Z,_,B*U+f,B*U+d,-1,C)}if(e<n){D+=l;
E(Z,_,e*U+f,e*U+d,1,C)}for(var P=0;P<C;P++){var $=C-1-P,V=C+1+P;L[A*U+p+$]=u(Z[C],Z[$],_[A*U+p+$],D,g);
L[A*U+p+V]=u(Z[C],Z[V],_[A*U+p+V],D,g)}L[A*U+p+C]=S(Z[C],_[A*U+p+C],D,g)}p+=N-1}}function E(_,L,U,n,a,T){var g=o;
g(_[T-1],L[U-1],0,a);g(_[T-1],L[n-1],0,-a);g(_[T+1],L[n],0,a);g(_[T+1],L[U],0,-a);for(var P=1;P<T;P++){var D=_[T-P-1],b=_[T+P+1];
for(var N=0;N<=P;N++){g(D,L[U-1-N],0,a);g(D,L[n-1-N],0,-a);g(b,L[n+N],0,a);g(b,L[U+N],0,-a)}}X(_[T],L,U,n,a)}function X(_,L,P,U,n){while(P<U)o(_,L[P++],0,n)}function o(_,L,U,n){_[U|L]+=n;
_[U|256|L>>>4]+=n}function i(_,L,U,n,a,T,g){var D=0,b=new Int32Array(512),N=new Int32Array(1*U),C=new Int32Array(512*U),Z=Math.min(a,U),S=Math.min(a,n),u=T[0];
for(var p=0;p<S;p++)h(C,N,_,U,p,1);for(var p=0;p<n;p++){if(p+a<n)h(C,N,_,U,p+a,1);if(p-a-1>=0)h(C,N,_,U,p-a-1,-1);
b.fill(0);D=0;for(var f=0;f<Z;f++){D+=N[f];k(b,C,f)}for(var f=0;f<U;f++){var d=f-a-1,l=f+a;if(d>=0&&N[d]!=0){D-=N[d];
x(b,C,d)}if(l<U&&N[l]!=0){D+=N[l];k(b,C,l)}var A=D==0?0:u(b,_[p*U+f],D,g);L[p*U+f]=A}}}function h(_,L,U,n,a,T){var P=a*n;
for(var g=0;g<n;g++){o(_,U[P+g],g<<9,T);L[g]+=T}}function k(_,L,U){for(var P=0;P<16;P++){var n=L[U<<9|256|P];
if(n==0)continue;_[256|P]+=n;var a=P<<4,T=U<<9|a;j(_,L,a,T);j(_,L,a+4,T+4);j(_,L,a+8,T+8);j(_,L,a+12,T+12)}}function x(_,L,U){for(var P=0;
P<16;P++){var n=L[U<<9|256|P];if(n==0)continue;_[256|P]-=n;var a=P<<4,T=U<<9|a;v(_,L,a,T);v(_,L,a+4,T+4);
v(_,L,a+8,T+8);v(_,L,a+12,T+12)}}function j(_,L,U,n){_[U]+=L[n];_[U+1]+=L[n+1];_[U+2]+=L[n+2];_[U+3]+=L[n+3]}function v(_,L,U,n){_[U]-=L[n];
_[U+1]-=L[n+1];_[U+2]-=L[n+2];_[U+3]-=L[n+3]}return w}();Q.rc.Pk=[function(w,I,E,X){var P=15;while(w[256|P]==0&&P>0)P--;
P=(P<<4)+15;while(w[P]==0&&P>0)P--;return P},function(w,I,E,X,o){var P=15;while(w[256|P]+I[256|P]==0&&P>0)P--;
P=(P<<4)+15;while(w[P]+I[P]==0&&P>0)P--;return P}];Q.rc.OM=[function(w,I,E,X){var P=0;while(w[256|P]==0&&P<15)P++;
P=P<<4;while(w[P]==0&&P<255)P++;return P},function(w,I,E,X,o){var P=0;while(w[256|P]+I[256|P]==0&&P<15)P++;
P=P<<4;while(w[P]+I[P]==0&&P<255)P++;return P}];Q.rc.Dl=.5;Q.rc.xH=[function(w,I,E,X){var o=~~(.5+Q.rc.Dl*E),i=0,P=256;
while(i+w[P]<o)i+=w[P++];P=P-256<<4;while(i<o)i+=w[P++];return P-1},function(w,I,E,X,o){var i=~~(.5+Q.rc.Dl*X),h=0,P=256;
while(h+w[P]+I[P]<i){h+=w[P]+I[P];P++}P=P-256<<4;while(h<i){h+=w[P]+I[P];P++}return P-1}];Q.rc.Xm=[function(w,I,E,X){var o=X[0],i=0,h=0,P=Math.max(0,I-o),k=Math.min(256,I+o+1);
while(P<k){var x=w[P];i+=P*x;h+=x;P++}return h==0?0:i/h},function(w,I,E,X,o){var i=o[0],h=0,k=0,P=Math.max(0,E-i),x=Math.min(256,E+i+1);
while(P<x){var j=w[P]+I[P];h+=P*j;k+=j;P++}return k==0?0:h/k}];Q.K={};Q.K.hh=function(w){var I=q.R.kp(w.Trnf),E=w.Sz.v,X=Q.K.TZ(I,new dC(0,0,E.Wdth.v,E.Hght.v));
return Q.K.o9(X)};Q.K.TZ=function(w,I){var E=w[0],X=w[1],o=w[2],i=w[3],h=w[6],k=w[7],x=w[4],j=w[5],v=0,_=0,L=1,U=0,n=0,a=1,T=1,g=1;
if(I){v=I.x;_=I.y;L=I.x+I.q;U=I.y;n=I.x;a=I.y+I.w;T=I.x+I.q;g=I.y+I.w}return Q.K.k7(w,[v,_,L,U,T,g,n,a])};
Q.K.zh=function(w){function I(o,i){for(var P=0;P<i.length;P+=2)if(!E(o,i[P],i[P+1]))return!1;return!0}function E(o,i,h){return o[2*i]==o[2*h]&&o[2*i+1]==o[2*h+1]}var X=0;
if(I(w,[0,1,2,3]))X+=1;if(I(w,[0,3,1,2]))X+=2;return X};Q.K.k7=function(w,I){function E(m,P,$){var A=m[P*2]-m[$*2],B=m[P*2+1]-m[$*2+1];
return Math.sqrt(A*A+B*B)}var X=w[0],o=w[1],i=w[2],h=w[3],k=w[6],x=w[7],j=w[4],v=w[5],_=I[0],L=I[1],U=I[2],n=I[3],a=I[6],T=I[7],g=I[4],D=I[5],b=[[_,L,1,0,0,0,-_*X,-L*X,X],[0,0,0,_,L,1,-_*o,-L*o,o],[U,n,1,0,0,0,-U*i,-n*i,i],[0,0,0,U,n,1,-U*h,-n*h,h],[a,T,1,0,0,0,-a*k,-T*k,k],[0,0,0,a,T,1,-a*x,-T*x,x],[g,D,1,0,0,0,-g*j,-D*j,j],[0,0,0,g,D,1,-g*v,-D*v,v]],N=[0,0,0,0,0,0,0,0],C=Q.Ea.Hu(b,N);
if(C!=0){N=[0,0,0,0,0,0,0,0];var Z=Q.K.zh(w),S=Q.K.zh(I);if(Z==S&&Z!=0){var u=Z==1,p=u?3:1,f=E(w,0,p),d=E(I,0,p),l=d/f,A=w[2*p]-w[0],B=w[2*p+1]-w[1],e=new am;
e.translate(-X,-o);e.rotate(Math.atan2(B,A)-(u?Math.PI/2:0));if(u)e.scale(1,l);else e.scale(l,1);e.translate(_,L);
e.ja();N=Q.K.Rv(e)}}return N};Q.K.bS=function(w){return Math.abs(w[6])<1e-10&&Math.abs(w[7])<1e-10};
Q.K.o9=function(w){return new am(w[0],w[3],w[1],w[4],w[2],w[5])};Q.K.Rv=function(w){return[w.lV,w.I5,w.N9,w.L,w.cA,w.Zt,0,0]};
Q.K.F=function(w,I){var E=new Float64Array(2);for(var X=0;X<I.length;X+=2){var o=I[X],i=I[X+1];Q.K.f4(o,i,w,E);
I[X]=E[0];I[X+1]=E[1]}};Q.K.f4=function(w,I,E,X){var o=1/(E[6]*w+E[7]*I+1);X[0]=(E[0]*w+E[1]*I+E[2])*o;
X[1]=(E[3]*w+E[4]*I+E[5])*o};Q.K.aiB=function(w,I){var E=new Float64Array(2);Q.K.f4(I.x,I.y,w,E);return new a5(E[0],E[1])};
Q.K.KQ=function(w,I,E,X){w=new Uint32Array(w.buffer);I=new Uint32Array(I.buffer);for(var o=0;o<X;o++){for(var i=0;
i<E;i++){I[i*X+o]=w[o*E+i]}}};Q.K.wa=function(w,I,E,X){w=new Uint32Array(w.buffer);I=new Uint32Array(I.buffer);
for(var o=0;o<X;o++){for(var i=0;i<E;i++){I[o*E+i]=w[o*E+E-1-i]}}};Q.K.a7w=function(w,I,E,X){w=new Uint32Array(w.buffer);
I=new Uint32Array(I.buffer);for(var o=0;o<X;o++){for(var i=0;i<E;i++){I[o*E+i]=w[(X-1-o)*E+i]}}};Q.K.F0=function(w){return Math.abs(w[6])<1e-9&&Math.abs(w[7])<1e-9};
Q.K.mk=function(w){return Math.abs(w[0])<1e-9&&Math.abs(w[4])<1e-9||Math.abs(w[1])<1e-9&&Math.abs(w[3])<1e-9};
Q.K.drawImage=function(w,I,E,X,o,i,h,k,x){if(h==null)h=!1;if(k==null)k=!1;var j=Q.K.ja(w),v=!0,_=0;for(var P=0;
P<8;P++){var L=Math.round(w[P]);if(P!=2&&P!=5)_+=Math.abs(L);if(Math.abs(L-w[P])>1e-9)v=!1}var U=Q.K.F0(w),n=Q.K.mk(w)&&U,a=n?1:0;
if(h||v&&_==E+X&&U){Q.K.a6q(j,I,E,X,o,i,k,U,x);return}var T=i.q,g=i.w,D=new Float64Array(2);o=new Uint32Array(o.buffer);
I=new Uint32Array(I.buffer);for(var b=0;b<g;b++)for(var N=0;N<T;N++){var C=b*T+N,Z,S,u,p,F=0,G=0,J=0,c=0;
o[C]=0;var f=N+i.x+.5,d=b+i.y+.5;Z=f;S=d;u=j;var l=u[0]*Z+u[1]*S+u[2],A=u[3]*Z+u[4]*S+u[5];if(!U){p=1/(u[6]*Z+u[7]*S+1);
l*=p;A*=p}var B=l*E,e=A*X,m=B<-1||B>E+1||e<-1||e>X+1;if(k){B=Math.max(.001,Math.min(E-1,B));e=Math.max(.001,Math.min(X-1,e))}else if(m)continue;
var $=Q.K.a3N(w,E,X,f,d,l,A),V=Math.round($*2.3);if($<1.1){Q.K.ks(B,e,I,E,X,o,C,a);continue}if(!k&&(B<.6||B>E-.6||e<.6||e>X-.6)){V=Math.max(V,5)}if(k&&m)V=1;
var H=1/V,r=i.x+N,s=i.y+b;u=j;for(var P=0;P<V;P++)for(var z=0;z<V;z++){Z=r+(P+.5)*H;S=s+(z+.5)*H;var B=u[0]*Z+u[1]*S+u[2],e=u[3]*Z+u[4]*S+u[5];
if(!U){p=1/(u[6]*Z+u[7]*S+1);B*=p;e*=p}if(k){B=Math.max(.001,Math.min(.999,B));e=Math.max(.001,Math.min(.999,e))}else if(B<0||B>=1||e<0||e>=1)continue;
B=Math.floor(B*E);e=Math.floor(e*X);var Y=e*E+B,ax=I[Y],iW=ax>>>24;F+=(ax&255)*iW;G+=(ax>>>8&255)*iW;
J+=(ax>>>16&255)*iW;c+=iW}if(c!=0){var y=1/c;F=~~(F*y+.5);G=~~(G*y+.5);J=~~(J*y+.5);c=~~(c*H*H+.5);o[C]=c<<24|J<<16|G<<8|F}}};
Q.K.a3N=function(w,I,E,X,o,i,h){var k=Q.K.Cy(w,X,o,i+1/I,h),x=Q.K.Cy(w,X,o,i,h+1/E);return 1/Math.sqrt(Math.max(k,x))};
Q.K.Cy=function(w,I,E,X,o){var i=1/(w[6]*X+w[7]*o+1),h=(w[0]*X+w[1]*o+w[2])*i-I,k=(w[3]*X+w[4]*o+w[5])*i-E;
return h*h+k*k};Q.K.a6q=function(w,I,E,X,o,i,h,k,x){if(k&&!h&&i.A()>4e6&&x){Q.K.auS(w,I,E,X,o,i,h,k,x);
return}var j=i.x+i.q,v=i.y+i.w,_=0,L=new Uint32Array(o.buffer),U=new Uint32Array(I.buffer),n=w[0]*E,a=w[1]*E,T=w[2]*E,g=w[3]*X,D=w[4]*X,b=w[5]*X,N=w[6],C=w[7];
if(k&&!h)for(var Z=i.y+.5;Z<v;Z++)for(var S=i.x+.5;S<j;S++){var u=n*S+a*Z+T,p=g*S+D*Z+b;if(0<u&&u<E&&0<p&&p<X){var f=~~p*E+~~u;
L[_]=U[f]}else L[_]=0;_++}else for(var Z=i.y+.5;Z<v;Z++)for(var S=i.x+.5;S<j;S++){var d=1/(N*S+C*Z+1),u=(n*S+a*Z+T)*d,p=(g*S+D*Z+b)*d;
if(h){u=Math.max(.001,Math.min(E-1,u));p=Math.max(.001,Math.min(X-1,p))}if(0<u&&u<E&&0<p&&p<X){var f=Math.floor(p)*E+Math.floor(u);
L[_]=U[f]}else L[_]=0;_++}};Q.K.auS=function(w,I,E,X,o,i,h,k,x){var j=new Uint32Array(o.buffer),v=new Uint32Array(I.buffer),C=0;
if(x&&(i.q&3)!=0)throw"e";var _=w[0]*E,L=w[1]*E,U=w[2]*E,n=w[3]*X,a=w[4]*X,T=w[5]*X,g=w[6],D=w[7],b=i.q,N=i.w,Z=i.x+.5,S=i.y+.5,u=(b>>>2<<2)-1e-9,p=-.1+(N>>>1<<1)-1e-9,f=~~E,d=_==0?0:1/_,l=n==0?0:1/n;
for(var A=0;A<N;A++){var B=Z*_+L*(A+S)+U,e=Z*n+a*(A+S)+T,m=0,$=b;if(_==0){}else if(d>0){m=Math.max(m,-B*d);
$=Math.min($,(E-B)*d)}else{$=Math.min($,-B*d);m=Math.max(m,(E-B)*d)}if(n==0){}else if(l>0){m=Math.max(m,-e*l);
$=Math.min($,(X-e)*l)}else{$=Math.min($,-e*l);m=Math.max(m,(X-e)*l)}if($<0)$=0;if(m>$)m=$;m=Math.ceil(m);
$=~~$;C=~~(A*b);for(var V=0;V<m;V++)j[C++]=0;for(var V=m;V<$;V+=4){var H=_*V+B,F=n*V+e,G=~~F*f+~~H;j[C++]=j[C++]=j[C++]=j[C++]=v[G]}for(var V=$;
V<b;V++)j[C++]=0}};Q.K.ja=function(w){var I=w[4]-w[5]*w[7],E=w[2]*w[7]-w[1],X=w[1]*w[5]-w[2]*w[4],o=w[5]*w[6]-w[3],i=w[0]-w[2]*w[6],h=w[3]*w[2]-w[0]*w[5],k=w[3]*w[7]-w[4]*w[6],x=w[1]*w[6]-w[0]*w[7],j=1/(w[0]*w[4]-w[1]*w[3]);
return[I*j,E*j,X*j,o*j,i*j,h*j,k*j,x*j]};Q.K.og=function(w,I){var E=w[0],X=w[1],o=w[2],i=w[3],h=w[4],k=w[5],x=w[6],j=w[7],v=I[0],_=I[1],L=I[2],U=I[3],n=I[4],a=I[5],T=I[6],g=I[7],D=[E*v+X*U+o*T,E*_+X*n+o*g,E*L+X*a+o,i*v+h*U+k*T,i*_+h*n+k*g,i*L+h*a+k,x*v+j*U+T,x*_+j*n+g],b=1/(x*L+j*a+1);
for(var P=0;P<8;P++)D[P]*=b;return D};Q.K.ks=function(w,I,E,X,o,i,h,k){var x=w,j=I,L=0,U=0,n=0,a=0;w-=.499999;
I-=.499999;var v=Math.floor(w),_=Math.floor(I);if(k==0){var P=_*X+v,T=v>=0&&v<X,g=v+1>=0&&v+1<X,D=_>=0&&_<o,b=_+1>=0&&_+1<o;
if(T&&D)L=E[P];if(g&&D)U=E[P+1];if(T&&b)n=E[P+X];if(g&&b)a=E[P+X+1]}else if(k==1){var N=v<0?0:v>X-1?X-1:v,C=v<-1?0:v>X-2?X-1:v+1,Z=_<0?0:_>o-1?o-1:_,S=_<-1?0:_>o-2?o-1:_+1;
L=E[Z*X+N];U=E[Z*X+C];n=E[S*X+N];a=E[S*X+C]}else{var N=(v+50*X)%X,C=(v+50*X)%X,Z=(_+50*o)%o,S=(_+50*o)%o;
L=E[Z*X+N];U=E[Z*X+C];n=E[S*X+N];a=E[S*X+C]}var u=w-v,p=I-_,f=(1-p)*(1-u)*(L>>>24),d=(1-p)*u*(U>>>24),l=p*(1-u)*(n>>>24),A=p*u*(a>>>24),B=f+d+l+A,e=f*(L&255)+d*(U&255)+l*(n&255)+A*(a&255),m=f*(L>>>8&255)+d*(U>>>8&255)+l*(n>>>8&255)+A*(a>>>8&255),$=f*(L>>>16&255)+d*(U>>>16&255)+l*(n>>>16&255)+A*(a>>>16&255);
if(B==0)i[h]=0;else{var V=1/B;e=~~(e*V+.5);m=~~(m*V+.5);$=~~($*V+.5);B=~~(B+.5);i[h]=B<<24|$<<16|m<<8|e}};
Q.K.E0=function(w,I,E,X,o,i){var h=w-.499999,k=I-.499999,x=~~h,j=~~k,v=h-x,_=k-j,L=(1-_)*(1-v),U=(1-_)*v,n=_*(1-v),a=_*v,T=j*X+x<<2,g=(j+1)*X+x<<2,D=L*E[T]+U*E[T+4]+n*E[g]+a*E[g+4],b=L*E[T+1]+U*E[T+5]+n*E[g+1]+a*E[g+5],N=L*E[T+2]+U*E[T+6]+n*E[g+2]+a*E[g+6],C=L*E[T+3]+U*E[T+7]+n*E[g+3]+a*E[g+7];
i[0]=D;i[1]=b;i[2]=N;i[3]=C};Q.K.Rx=function(w,I,E,X,o){w-=.499999;I-=.499999;var i=Math.floor(w),h=Math.floor(I),k=w-i,x=I-h,j=(1-x)*(1-k),v=(1-x)*k,_=x*(1-k),L=x*k,U=(i+50*X)%X,n=(i+1+50*X)%X,a=(h+50*o)%o,T=(h+1+50*o)%o,g=E[a*X+U],D=E[a*X+n],b=E[T*X+U],N=E[T*X+n];
if(g==null||N==null)throw"e";return j*g+v*D+_*b+L*N};Q.K.n_=function(w,I,E,X,o,i,h,k,x,j,v,_){var L=new Uint32Array(w.buffer),U=new Uint32Array(X.buffer),n=(1+2*j)/o,a=[],T=[];
for(var D=0;D<o;D++){var b=-.25+j-D*n;a.push(Math.cos(2*Math.PI*b)*_/v);a.push(Math.sin(2*Math.PI*b)/v)}h*=I;
k*=E;for(var N=0;N<i;N++){var C=Math.pow(N/i,x)*i;for(var D=0;D<o;D++){var Z=h+a[D<<1]*C,S=k+a[(D<<1)+1]*C,u=~~(.5+(Z<0?0:Z>I-1?I-1:Z)),p=~~(.5+(S<0?0:S>E-1?E-1:S));
U[N*o+D]=L[p*I+u]}}};Q.K.lz=function(w,I,E,X,o,i,h,k,x,j,v,_){var L=new Uint32Array(w.buffer),U=new Uint32Array(X.buffer),n=1/_,a=[],T=E*4,g=1/T;
for(var D=0;D<T+10;D++)a.push(Math.pow(D*g,1/x)*E*v);h*=o;k*=i;for(var D=0;D<i;D++)for(var b=0;b<o;b++){var N=n*(b-h),C=D-k,Z=1.75-Math.atan2(C,N)*(1/(2*Math.PI));
Z=Z-~~Z;Z=(Z+j)*(1/(1+2*j));var S=Math.sqrt(N*N+C*C);S=a[~~(S*4)];Q.K.ks(Z*I+.5,S+.5,L,I,E,U,D*o+b,1)}};
Q.K.tE=function(w,I,E,X,o){var i=o[0],h=o[1];for(var k=0;k<h;k++)for(var x=0;x<i;x++){var j=o[2]*x+o[3]*k+o[4],v=o[5]*x+o[6]*k+o[7],_=k*i+x<<2,L=v*I+j<<2;
X[_]=w[L+0];X[_+1]=w[L+1];X[_+2]=w[L+2];X[_+3]=w[L+3]}};Q.N={RA:function(w,I){var E=~~(.499+w*I);return E<0?0:E>I?I:E},anc:function(w,I,E,X,o,i,h,k){var x=E[0],j=E[1],v=E[2],_=E[3],L=X.q,U=X.w,n=new Float64Array(L*4+8),a=new Float64Array(L*4+8);
for(var T=0,P=0;T<U;T++){var g=n;n=a;a=g;a.fill(0);for(var D=0;D<L;D++,P++){var b=D+o,N=T+i,C=x*b+j*N,Z=v*b+_*N,S=0,f=0;
if(k==0)S=C+.5;else if(k==1)S=2*Math.sqrt(C*C+Z*Z);else if(k==2)S=(Math.PI+Math.atan2(-Z,-C))/(2*Math.PI);
else if(k==3)S=Math.abs(C*2);else if(k==4)S=2*(Math.abs(C)+Math.abs(Z));var u=Q.N.RA(S,h)*4,p=D*4;for(var d=0;
d<4;d++){var l=Math.max(0,Math.min(254.999,I[u+d]+n[p+4+d])),A=Math.floor(l);if(Math.random()<l-A)A++;
var B=l-A;n[p+8+d]=B*(7/16);a[p+0+d]=B*(3/16);a[p+4+d]=B*(5/16);a[p+8+d]=B*(1/16);f|=A<<d*8}w[P]=f}}},Nu:[function(w,I,E,X,o,i,h){var k=E[0],x=E[1],j=E[2],v=E[3],_=X.q,L=X.w;
for(var U=0,P=0;U<L;U++)for(var n=0;n<_;n++,P++){var a=n+o,T=U+i,g=k*a+x*T,D=j*a+v*T,b=g+.5;w[P]=I[Q.N.RA(b,h)]}},function(w,I,E,X,o,i,h){var k=E[0],x=E[1],j=E[2],v=E[3],_=X.q,L=X.w;
for(var U=0,P=0;U<L;U++)for(var n=0;n<_;n++,P++){var a=n+o,T=U+i,g=k*a+x*T,D=j*a+v*T,b=2*Math.sqrt(g*g+D*D);
w[P]=I[Q.N.RA(b,h)]}},function(w,I,E,X,o,i,h){var k=E[0],x=E[1],j=E[2],v=E[3],_=X.q,L=X.w;for(var U=0,P=0;
U<L;U++)for(var n=0;n<_;n++,P++){var a=n+o,T=U+i,g=k*a+x*T,D=j*a+v*T,b=(Math.PI+Math.atan2(-D,-g))/(2*Math.PI);
w[P]=I[Q.N.RA(b,h)]}},function(w,I,E,X,o,i,h){var k=E[0],x=E[1],j=E[2],v=E[3],_=X.q,L=X.w;for(var U=0,P=0;
U<L;U++)for(var n=0;n<_;n++,P++){var a=n+o,T=U+i,g=k*a+x*T,D=j*a+v*T,b=Math.abs(g*2);w[P]=I[Q.N.RA(b,h)]}},function(w,I,E,X,o,i,h){var k=E[0],x=E[1],j=E[2],v=E[3],_=X.q,L=X.w;
for(var U=0,P=0;U<L;U++)for(var n=0;n<_;n++,P++){var a=n+o,T=U+i,g=k*a+x*T,D=j*a+v*T,b=2*(Math.abs(g)+Math.abs(D));
w[P]=I[Q.N.RA(b,h)]}}]};Q.N.a5_=function(w,I){return w+.5};Q.N.art=function(w,I){return 2*Math.sqrt(w*w+I*I)};
Q.N.aqa=function(w,I){return(Math.PI+Math.atan2(-I,-w))/(2*Math.PI)};Q.N.a6x=function(w,I){return Math.abs(w*2)};
Q.N.aw4=function(w,I){return 2*(Math.abs(w)+Math.abs(I))};Q.N.gV=function(w,I,E,X,o,i,h,k,x,j,v,_){var L=w.Clrs,U=new Uint32Array(I.buffer),n=1023,a=L?Q.N.Ap(L.v,x,j):null;
if(_&&L){var T=Q.N.alC(w,a,n+1,h);Q.N.anc(U,T,X,E,E.x-o,E.y-i,n,k)}else{var g=L?Q.N.gw(w,a,n+1,h):Q.N.tH(w,n+1,h);
if(k<5){Q.N.Nu[k](U,g,X,E,E.x-o,E.y-i,n)}else{var D=new Uint8Array(g.buffer),b=E.q,N=E.w,C=v.vV-v.s1,Z=1/C,S=v.pq.q-E.q>>1,u=v.pq.w-E.w>>1,p=v.pq.q,f=-.6*Z,d=(-.6+.4)*Z,l=(-.6+2*.4)*Z,A=(-.6+3*.4)*Z;
for(var B=0,P=0;B<N;B++)for(var e=0;e<b;e++,P+=4){var m=0,$=0,V=0,H=0,F=(B+u)*p+e+S,G=(v.a0[F]-v.s1)*Z,J=0;
if(G<=0||G>=1){J=(G<=0?0:n)<<2;I[P]=D[J];I[P+1]=D[J+1];I[P+2]=D[J+2];I[P+3]=D[J+3];continue}J=Math.max(0,Math.min(n-1,Math.round((G+f)*n)))<<2;
$+=D[J];V+=D[J+1];H+=D[J+2];m+=D[J+3];J=Math.max(0,Math.min(n-1,Math.round((G+d)*n)))<<2;$+=D[J];V+=D[J+1];
H+=D[J+2];m+=D[J+3];J=Math.max(0,Math.min(n-1,Math.round((G+l)*n)))<<2;$+=D[J];V+=D[J+1];H+=D[J+2];m+=D[J+3];
J=Math.max(0,Math.min(n-1,Math.round((G+A)*n)))<<2;$+=D[J];V+=D[J+1];H+=D[J+2];m+=D[J+3];I[P]=$>>>2;
I[P+1]=V>>>2;I[P+2]=H>>>2;I[P+3]=m>>>2}}}};Q.N.Ap=function(w,I,E){var X=[];for(var P=0;P<w.length;P++){var o,i=w[P].v,h=i.Type.v.Clry;
if(h=="FrgC")o={o:I>>16&255,P:I>>8&255,L:I&255};else if(h=="BckC")o={o:E>>16&255,P:E>>8&255,L:E&255};
else o=Q.N.BL(i.Clr.v);X.push(o)}return X};Q.N.BL=function(w){var I,E=w.classID;if(E=="RGBC"){if(w.Rd)I={o:w.Rd.v,P:w.Grn.v,L:w.Bl.v};
else I={o:w.redFloat.v*255,P:w.greenFloat.v*255,L:w.blueFloat.v*255}}else if(E=="HSBC"){I=Q.Ww(w.H.v.val/360,w.Strt.v/100,w.Brgh.v/100);
I.o*=255;I.P*=255;I.L*=255}else if(E=="CMYC"){var X=100-w.Cyn.v,o=100-w.Mgnt.v,i=100-w.Ylw.v,h=100-w.Blck.v,k=255*X*h*1e-4,x=255*(.2*X+.8*o)*h*1e-4,j=255*(.2*o+.8*i)*h*1e-4;
I={o:k,P:x,L:j}}else if(E=="Grsc")I={o:255-w.Gry.v,P:255-w.Gry.v,L:255-w.Gry.v};else if(E=="LbCl"){I=Q.OT(w.Lmnc.v,w.A.v,w.B.v)}else console.log(w);
if(isNaN(I.o))I.o=I.P=I.L=0;return I};Q.N.tH=function(w,I,E){var X=new Uint32Array(I),o=new Uint8Array(X.buffer);
X.fill(4278190080);var i=[],h=[],k=w.RndS.v,x=w.Smth.v/4096;for(var P=0;P<4;P++){i[P]=~~(w.Mnm.v[P].v*255/100);
h[P]=~~(w.Mxm.v[P].v*255/100)}var j=Q.$(I*4),v=Q.$(I);for(var _=0;_<3;_++){Q._.Fb(null,I,1,j,[1+Math.round(x*x*x*60),22,k*(2+_)]);
Q.qe(j,v,0);Q.lJ(v,o,_);var L=i[_],U=h[_];for(var P=0;P<I;P++)o[4*P+_]=Math.max(L,Math.min(U,o[4*P+_]))}if(E)for(var P=0;
P<I/2;P++){var n=X[P];X[P]=X[I-1-P];X[I-1-P]=n}return X};Q.N.Ex=function(w){return{classID:"RGBC",Rd:{t:"doub",v:w.o},Grn:{t:"doub",v:w.P},Bl:{t:"doub",v:w.L}}};
Q.N.alC=function(w,I,E,X){var o=[],i=1/(E-0);for(var P=0;P<E;P++){var h=P*4,k=Q.N.Kt(w,I,(X?E-1-P:P)*i);
o[h]=k[0];o[h+1]=k[1];o[h+2]=k[2];o[h+3]=k[3]}return o};Q.N.gw=function(w,I,E,X){var o=new Uint32Array(E),i=1/(E-0);
for(var P=0;P<E;P++)o[P]=Q.N.VH(w,I,(X?E-1-P:P)*i);return o};Q.N.Kt=function(w,I,E){var X=4096,o=1/4096,i=w.Intr.v*o,h=w.Clrs.v,k=w.Trns.v,x=h.length-1,j=k.length-1,P=-1,v=0,_=0,L=0,U=0;
while(P<j&&k[P+1].v.Lctn.v<=E*X)P++;if(P==-1){v=k[0].v.Opct.v.val*(255/100)}else if(P==j){v=k[P].v.Opct.v.val*(255/100)}else{var n=Q.N.o8(k,o,P,E,i);
v=(n*k[P].v.Opct.v.val+(1-n)*k[P+1].v.Opct.v.val)*(255/100)}P=-1;while(P<x&&h[P+1].v.Lctn.v<=E*X)P++;
if(P==-1){var a=I[0];_=a.o;L=a.P;U=a.L}else if(P==x){var a=I[P];_=a.o;L=a.P;U=a.L}else{var T=I[P],g=I[P+1],D=Q.N.o8(h,o,P,E,i);
_=D*T.o+(1-D)*g.o;L=D*T.P+(1-D)*g.P;U=D*T.L+(1-D)*g.L}return[_,L,U,v]};Q.N.VH=function(w,I,E){var X=Q.N.Kt(w,I,E),o=~~(.5+X[0]),i=~~(.5+X[1]),h=~~(.5+X[2]),k=~~(.5+X[3]);
return k<<24|h<<16|i<<8|o};Q.N.o8=function(w,I,P,E,X){if(w.length==2)X*=.5;var o=w[P].v.Lctn.v*I,i=w[P+1].v.Lctn.v*I,h=o+w[P+1].v.Mdpn.v*.01*(i-o),k;
if(E<h)k=.5*(E-o)/(h-o);else k=.5+.5*(E-h)/(i-h);k=.5+.5*(X*Math.cos(Math.PI*k)+(1-X)*(1-2*k));return k};
Q.N.Fj=function(w,I){var E=Math.PI*w.Angl.v.val/180,X=w.Scl.v.val/100,o=w.Ofst.v,i=o.Hrzn.v.val/100,h=o.Vrtc.v.val/100,k=Math.cos(E),x=-Math.sin(E),j=.5*I.w,v=j*(k/x),_=Math.sqrt(j*j+v*v),L=.5*I.q,U=L*(x/k),n=Math.sqrt(L*L+U*U),a=Math.min(_,n)*X,T=I.x+I.q/2+i*I.q,g=I.y+I.w/2+h*I.w;
return[new a5(T,g),new a5(T+k*a,g+x*a)]};Q.N.xD=function(w,I,E,X){var o=I.x-w.x,i=-(I.y-w.y),h=Math.sqrt(o*o+i*i),k=Math.atan2(i,o),x=Math.cos(k),j=-Math.sin(k),v=.5*E.w,_=v*(x/j),L=Math.sqrt(v*v+_*_),U=.5*E.q,n=U*(j/x),a=Math.sqrt(U*U+n*n),T=h/Math.min(L,a),g=(w.x-E.x-E.q/2)/E.q,D=(w.y-E.y-E.w/2)/E.w;
X.Angl.v.val=180*k/Math.PI;X.Scl.v.val=T*100;var b=X.Ofst.v;b.Hrzn.v.val=g*100;b.Vrtc.v.val=D*100};Q.N.GL=function(w,I){for(var P=0;
P<w.length;P++){var E=w[P],X=Math.round(E[0]*4096),o=E[1],i=E[2],h=E[3];if(i==null)i=1;if(h==null)h=.5;
var k=Q.N.Ex({o:o[0]*255,P:o[1]*255,L:o[2]*255});I.Clrs.v[P]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:X},Mdpn:{t:"long",v:Math.round(h*100)},Clr:{t:"Objc",v:k},Type:{t:"enum",v:{Clry:"UsrS"}}}};
I.Trns.v[P]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:X},Mdpn:{t:"long",v:Math.round(h*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(i*100)}}}}}};
Q.s2={};Q.s2.aoe=function(w,I,E,X,o,i,h,k,x,j,v,_){var L,U,n,a=Date.now(),T=!1,g=h,D=j,b,N,C,Z,S=i*255,u=255-x*255,p=1+o*6,f=1+k*6,d=1+_*4,l=(d-1)/7,A=0,B=255-0,e,m,$,V,H,F,G,J,c,r,s,z,Y,ax=0,iW=1,y,hm,t,cT,c4,kv,iL,cr,ga,iq,ei=1+v,hw,hC=Q.$(E*X),j5=Q.$(E*X),ed=Q.$(E*X),jn=Q.$(E*X),fj=255/S,di=255/(255-u);
for(U=0;U<X;U++){for(L=0;L<E;L++){var P=U*E+L,b1=P<<2;y=Q.XP(w[b1],w[b1+1],w[b1+2]);jn[P]=y;if(y<S)hC[P]=255-y*fj;
if(y>u)j5[P]=255-(255-y)*di}}if(T)console.log("init",Date.now()-a);a=Date.now();if(o*g>0){ed.set(hC);
Q.iG.Ei(ed,hC,new dC(0,0,E,X),g)}if(k*D>0){ed.set(j5);Q.iG.Ei(ed,j5,new dC(0,0,E,X),D)}if(T)console.log("blur",Date.now()-a);
a=Date.now();var dI=Q.$(256),h2=Q.$(256);for(var P=0;P<256;P++){var de=P*(1/255),ds=0;ds=(1-Math.pow(1-de,p))*255;
dI[P]=Math.max(0,Math.min(255,~~(ds+.5)));ds=Math.pow(de,f)*255;h2[P]=Math.max(0,Math.min(255,~~(ds+.5)))}var gy=new Uint8ClampedArray(I.buffer),hl=new Float32Array(32768);
for(var P=0;P<32768;P++){hw=Math.sqrt(P)*(1/128);if(ei>1)hw=(1-hw)*(ei-1)+1;else hw=hw*(ei-1)+1;hl[P]=hw}for(U=0;
U<X;U++){for(L=0;L<E;L++){var P=U*E+L,b1=P<<2,ds=jn[P],im=hC[P]*(1/255),eA=j5[P]*(1/255);ds=(1-im)*ds+im*dI[~~ds];
ds=(1-eA)*ds+eA*h2[~~ds];y=ds;var hy=w[b1],dm=w[b1+1],hA=w[b1+2];hm=-hy*.168736-dm*.331264+hA*.5;t=hy*.5-dm*.418688-hA*.081312;
hw=hl[~~(.5+hm*hm+t*t)];cT=hm*hw;kv=t*hw;iW=1-Math.min(2-(im+eA),1);hm=iW*hm+(1-iW)*cT;t=iW*t+(1-iW)*kv;
cr=y+1.402*t;ga=y-.34414*hm-.71414*t;iq=y+1.772*hm;gy[b1]=~~(.5+cr);gy[b1+1]=~~(.5+ga);gy[b1+2]=~~(.5+iq)}}if(T)console.log("apply masks",Date.now()-a);
a=Date.now()};Q.Tc={};Q.Tc.Yn=function(w,I,E,X,o){var i=!1,n=1,m=0,$=0,s=0,ei=0;if(!I.RP(o)){var h=I.jB(o),k=Q.$(h.A()*4);
Q.D6(w,I,k,h);w=k;I=h}var x=Q.$(I.A());Q.b_(E,o,x,I);Q.round(x);o=o.LP(I);var j=o.q,v=o.w,_=j*3<v?2:1,L=v*3<j?2:1;
if(o.A()*(_*2+1)*(L*2+1)<I.A()){var h=new dC(o.x-j*_,o.y-v*_,j*(_*2+1),v*(L*2+1)).LP(I),k=Q.$(h.A()*4);
Q.D6(w,I,k,h);var U=Q.$(h.A());Q.b_(x,I,U,h);I=h;w=k;x=U}while((I.q+I.w)/2/n>400)n++;var a=w,T=I,g=x,D=Math.floor(T.q/n),b=Math.floor(T.w/n);
w=Q.$(D*b*4);Q.scale.Qs(a,T.q,T.w,w,D,b,1/n);x=Q.$(D*b);Q.scale.tE(g,T.q,T.w,x,D,b,1/n);Q.round(x,1);
var N=Q.dM(x,new dC(0,0,D,b));if(N.qo())return 1;var C=Math.round((N.q+N.w)/2/15),u=Date.now(),p=Q.$(D*b*4);
Q.a0m(w,p);var f=Int16Array,d=new f(D*b*24),l=new f(64),A=new f(64),B=new f(64),e=new f(64);for(var V=3;
V<b-4;V++)for(var H=3;H<D-4;H++){var F=V*D+H;if(x[F]==255)continue;if(Q.Tc.avQ(p,x,H,V,D,b,l,A,B)!=0)continue;
Q.Tc._M(l,e);d[m]=H;d[m+1]=V;Q.Tc.QM(l,d,m+4,12);m+=16;Q.Tc._M(A,e);Q.Tc.QM(A,d,m,4);m+=4;Q.Tc._M(B,e);
Q.Tc.QM(B,d,m,4);m+=4;var G=d[m-24+5],J=d[m-24+6];d[m-24+5]=d[m-24+20];d[m-24+6]=d[m-24+16];d[m-24+16]=G;
d[m-24+20]=J;$++}if($==0)return 2;if(i)console.log(Date.now()-u,"FWHT computed");u=Date.now();var c=[];
Q.Tc.fv(0,$-1,c,d,new f(2*24));if(i)console.log(Date.now()-u,"KD tree computed");u=Date.now();var r=new Float32Array(D*b*4);
for(var P=0;P<$;P++){var z=P,Y=Q.Tc.a24(z,d,c,C);if(Y==-1)continue;var ax=z*24,iW=Y*24,y=d[ax],hm=d[ax+1],t=d[iW],cT=d[iW+1];
s+=Q.Tc.getError(iW,ax,d,1e99);var c4=t-y,kv=cT-hm;r[(b+kv)*2*D+(D+c4)]+=1}if(i)console.log(Date.now()-u,"NN found");
u=Date.now();var iL=[],cr=1/(2*D);for(var P=0;P<r.length;P++){if(r[P]>0){var V=Math.floor(P*cr),H=P-V*2*D;
iL.push({x:H-D,y:V-b,k:r[P],Fz:-1})}}iL.sort(function(hl,im){return im.k-hl.k});var ga=new Int32Array(D*b),iq=[];
for(var P=0;P<D*b;P++){if(x[P]==255){ga[P]=ei;iq.push(P%D,Math.floor(P/D));ei++}else if(w[(P<<2)+3]<200){ga[P]=-2}else{ga[P]=-1}}var hw=Q.Tc.aog(D,b,iL,ga,iq,ei);
if(hw==null){return 3}var hC=hw.cv,top=hw.top;hC=Q.Tc.au9(hC,w,D,b,top,ga,iq,ei);if(i)console.log(Date.now()-u,"optimal labeling found");
u=Date.now();var h=o.clone();h.Cs(1,1);h=h.LP(T);var j5=Q.$(h.A()*4),ed=Q.$(h.A());Q.D6(a,T,j5,h);var jn=T.q,fj=T.w;
for(var V=0;V<fj;V++)for(var H=0;H<jn;H++){if(g[V*jn+H]==0)continue;var di=Math.min(Math.floor(H/n),D-1),b1=Math.min(Math.floor(V/n),b-1),dI=ga[b1*D+di];
if(dI==-1)continue;var h2=hC[dI],de=top[h2],ds=H+de.x*n,jO=V+de.y*n,gy=jO*jn+ds<<2,fV=(V-h.y+T.y)*h.q+(H-h.x+T.x)<<2;
j5[fV]=a[gy];j5[fV+1]=a[gy+1];j5[fV+2]=a[gy+2];j5[fV+3]=a[gy+3];j5[fV+3]=a[gy+3];ed[fV>>2]=h2+1}if(i)console.log(Date.now()-u,"copied back");
u=Date.now();Q.Yf.Yn(j5,ed,h,null,1e3);if(i)console.log(Date.now()-u,"poisson smooth");u=Date.now();
Q.D6(j5,h,X,o);return 0};Q.Tc.eN=function(w,I,E,X,o,i){return Q.Tc.MY(w+o.x,I+o.y,E,X)&&i[(I+o.y)*E+(w+o.x)]==-1?0:1e9};
Q.Tc.au9=function(w,I,E,X,top,o,i,h){var k=Date.now(),x=[-1,0,0,-1,1,0,0,1],j=1e99,v=[],_=[],L=2*(h*2*3+h*2),U=null,n=0,a=0,T=0,g=1e99;
while(!0&&Date.now()<k+12e3){T++;var D=null,b=j;for(var N=0;N<top.length;N++){var C=top[N],Z=0,S=h+2,u=0;
for(var P=0;P<h;P++){var p=i[P*2],f=i[P*2+1],d=top[w[P]],l=Q.Tc.eN(p,f,E,X,C,o),A=w[P]==N?1e9:Q.Tc.eN(p,f,E,X,d,o);
for(var eS=0;eS<4;eS++){if(eS==0&&p==0||eS==1&&f==0||eS==2&&p==E-1||eS==3&&f==X-1)continue;var B=x[2*eS],e=x[2*eS+1],m=p+B,$=f+e,V=o[$*E+m];
if(V==-2){}else if(V==-1){l+=3*Q.Tc.ea(m+C.x,$+C.y,m,$,E,X,I,o);l+=2*Q.Tc.ea(m+C.x+B,$+C.y+e,m+B,$+e,E,X,I,o);
A+=3*Q.Tc.ea(m+d.x,$+d.y,m,$,E,X,I,o);A+=2*Q.Tc.ea(m+d.x+B,$+d.y+e,m+B,$+e,E,X,I,o)}else if(eS>1){if(w[P]==w[V]){var H=0;
H+=Q.Tc.ea(p+d.x,f+d.y,p+C.x,f+C.y,E,X,I,o);H+=Q.Tc.ea(m+d.x,$+d.y,m+C.x,$+C.y,E,X,I,o);v[Z]=P;v[Z+1]=V;
_[Z]=H;_[Z+1]=H;Z+=2}else{var F=top[w[V]],G=S,J=0,c=0,r=0;S++;J+=Q.Tc.ea(p+d.x,f+d.y,p+C.x,f+C.y,E,X,I,o);
J+=Q.Tc.ea(m+d.x,$+d.y,m+C.x,$+C.y,E,X,I,o);c+=Q.Tc.ea(p+F.x,f+F.y,p+C.x,f+C.y,E,X,I,o);c+=Q.Tc.ea(m+F.x,$+F.y,m+C.x,$+C.y,E,X,I,o);
r+=Q.Tc.ea(p+F.x,f+F.y,p+d.x,f+d.y,E,X,I,o);r+=Q.Tc.ea(m+F.x,$+F.y,m+d.x,$+d.y,E,X,I,o);v[Z]=P;v[Z+1]=G;
_[Z]=J;_[Z+1]=J;Z+=2;v[Z]=V;v[Z+1]=G;_[Z]=c;_[Z+1]=c;Z+=2;v[Z]=G;v[Z+1]=h+1;_[Z]=r;_[Z+1]=0;Z+=2}}}v[Z]=h;
v[Z+1]=P;_[Z]=l;_[Z+1]=0;Z+=2;v[Z]=P;v[Z+1]=h+1;_[Z]=A;_[Z+1]=0;Z+=2;u+=Math.min(l,A)}if(u>b)continue;
var s=Q.Pc.Hu(S,Z,h,h+1,v,_,b);if(s.Ya<b){b=s.Ya;var z=w.slice(0);Q.Tc.abt(z,Z,v,s.DV,N,h);D=z}}if(b*1>=j){break}j=b;
w=D;if((T&3)==0){if(b*1.03>=g)break;g=b}if((T&3)==0){var Y=0*top.length;for(var P=0;P<top.length&&top.length>Y;
P++){if(w.indexOf(P)!=-1)continue;top.splice(P,1);for(var V=0;V<w.length;V++)if(w[V]>P)w[V]--;P--}}}return w};
Q.Tc.abt=function(w,I,E,X,o,i){for(var P=0;P<X.length;P++){var h=X[P]<<1,k=0,x=0;if(h<I){k=E[h];x=E[h+1]}else{x=E[h];
k=E[h+1]}if(k==i&&w[x]!=o)w[x]=o}};Q.Tc.zU=function(top,w,I,E,X,o,i,h,k){for(var P=0;P<I.length;P++){var x=I[P],j=!0;
if(h!=null&&!(Q.Tc.MY(h+x.x,k+x.y,o,i)&&E[o*(k+x.y)+h+x.x]==-1))continue;if(x.Fz==-1)x.Fz=Q.Tc.a47(x,E,X,o,i);
if(x.Fz<=0)continue;for(var v=0;v<top.length;v++){var _=top[v],L=x.x-_.x,U=x.y-_.y;if(L*L+U*U<w){j=!1;
break}}if(j)return x}return null};Q.Tc.a47=function(w,I,E,X,o){var i=0;for(var P=0;P<E.length;P+=2){var h=E[P]+w.x,k=E[P+1]+w.y;
if(Q.Tc.MY(h,k,X,o)&&I[X*k+h]==-1)i++}return i/(E.length>>1)};Q.Tc.aog=function(w,I,E,X,o,i){var top=[];
for(var P=0;P<60;P++){var h=Q.Tc.zU(top,25,E,X,o,w,I);if(h==null)break;else top.push(h)}if(top.length==0)return null;
var k=[];for(var P=0;P<i;P++){var x=o[P*2],j=o[P*2+1],v=-1,_=0;while(!0){_++;var L=Math.random();v=Math.floor(L*.99999*top.length);
var U=top[v],n=x+U.x,a=j+U.y;if(Q.Tc.MY(n,a,w,I)&&X[a*w+n]==-1)break;if(_>100){var h;h=Q.Tc.zU(top,0,E,X,o,w,I,x,j);
if(h==null)return null;top.push(h);_=0}}k.push(v)}return{top:top,cv:k}};Q.Tc.ea=function(w,I,E,X,o,i,h,k){if(w==E&&I==X)return 0;
if(w<0||I<0||w>=o||I>=i||E<0||X<0||E>=o||X>=i||k[I*o+w]!=-1||k[X*o+E]!=-1)return 1e7;var x=I*o+w<<2,j=X*o+E<<2,v=h[x]-h[j],_=h[x+1]-h[j+1],L=h[x+2]-h[j+2];
return 1+(v*v+_*_+L*L)};Q.Tc.MY=function(w,I,E,X){return w>=0&&w<E&&I>=0&&I<X};Q.Tc.a24=function(w,I,E,X){var o=24*w,i=I[o],h=I[o+1],k=X*X,x=0,L=1e9;
while(E[x]!=99)if(I[o+E[x]]<E[x+1])x=E[x+2];else x=E[x+3];var j=E[x+1],v=E[x+2],_=-1;for(var P=j;P<=v;
P++){var x=P,U=x*24,n=I[U],a=I[U+1];if((n-i)*(n-i)+(a-h)*(a-h)<k)continue;var T=Q.Tc.getError(U,o,I,L);
if(T<L){L=T;_=x}}return _};Q.Tc.getError=function(w,I,E,X){var o=0;for(var i=4;i<24;i+=4){var h=E[I+i]-E[w+i],k=E[I+i+1]-E[w+i+1],x=E[I+i+2]-E[w+i+2],j=E[I+i+3]-E[w+i+3];
o+=h*h+k*k+x*x+j*j;if(o>=X)return o+1}return o};Q.Tc.fv=function(w,I,E,X,o){var i=16,L=0;if(I-w<=i){E.push(99,w,I);
return}Q.Tc.zK(w,I,X,o);var h=-1,k=-1;for(var P=4;P<24;P++){var x=o[2*P+1]-o[2*P];if(x>k){k=x;h=P}}var j=w+I>>1,v=Q.Tc.ac6(j,w,I,X,h),_=-1;
for(var P=w;P<=I;P++)if(X[24*P+h]==v){if(_==-1)_=P;L=P}if(w+8<_&&_-w>I-L)j=_;else if(L+1<I-8)j=L+1;else if(I-w<64){E.push(99,w,I);
return}else j=j;var U=E.length;E.push(h,v,0,0);E[U+2]=U+4;Q.Tc.fv(w,j-1,E,X,o);E[U+3]=E.length;Q.Tc.fv(j,I,E,X,o)};
Q.Tc.zK=function(w,I,E,X){for(var P=0;P<48;P+=4){X[P]=3e4;X[P+1]=-3e4;X[P+2]=3e4;X[P+3]=-3e4}for(var P=w;
P<=I;P++){var o=P*24;for(var i=0;i<24;i++){var h=E[o+i],k=X[i<<1],x=X[(i<<1)+1];if(h<k)X[i<<1]=h;if(h>x)X[(i<<1)+1]=h}}};
Q.Tc.BQ=function(w,I,E){var X=0,P=0;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;
P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;
P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;
P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;
P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;
P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;
P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;
P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;
P++;X=E[w+P];E[w+P]=E[I+P];E[I+P]=X;P++};Q.Tc.ZS=function(w,I,E,X){var o=E+X>>>1,i=w[24*o+I];while(E<=X){while(w[24*E+I]<i)E++;
while(w[24*X+I]>i)X--;if(E<=X){if(w[24*E+I]!=w[24*X+I])Q.Tc.BQ(E*24,X*24,w);E++;X--}}return E};Q.Tc.ac6=function(w,I,E,X,o){var i=0;
while(I!=E){i=Q.Tc.ZS(X,o,I,E);if(w<i)E=i-1;else I=i}return X[w*24+o]};Q.Tc.QM=function(w,I,E,X){for(var P=0;
P<X;P++)I[E+P]=w[P]};Q.Tc.avQ=function(w,I,E,X,o,i,h,k,x){var j=(X-3)*o+(E-3),v=j<<2;for(var _=0;_<8;
_++){if(I[j]+I[j+1]+I[j+2]+I[j+3]+I[j+4]+I[j+5]+I[j+6]+I[j+7]!=0||w[v+3]<200||w[v+7]<200||w[v+11]<200||w[v+15]<200||w[v+19]<200||w[v+23]<200||w[v+27]<200||w[v+31]<200)return 1;
var P=_<<3;h[P+0]=w[v+0];k[P+0]=w[v+1];x[P+0]=w[v+2];h[P+1]=w[v+4];k[P+1]=w[v+5];x[P+1]=w[v+6];h[P+2]=w[v+8];
k[P+2]=w[v+9];x[P+2]=w[v+10];h[P+3]=w[v+12];k[P+3]=w[v+13];x[P+3]=w[v+14];h[P+4]=w[v+16];k[P+4]=w[v+17];
x[P+4]=w[v+18];h[P+5]=w[v+20];k[P+5]=w[v+21];x[P+5]=w[v+22];h[P+6]=w[v+24];k[P+6]=w[v+25];x[P+6]=w[v+26];
h[P+7]=w[v+28];k[P+7]=w[v+29];x[P+7]=w[v+30];v+=o<<2;j+=o}return 0};Q.Tc._M=function(w,I){I[0]=w[32]+w[0];
I[1]=w[33]+w[1];I[2]=w[34]+w[2];I[3]=w[35]+w[3];I[4]=w[36]+w[4];I[5]=w[37]+w[5];I[6]=w[38]+w[6];I[7]=w[39]+w[7];
I[8]=w[40]+w[8];I[9]=w[41]+w[9];I[10]=w[42]+w[10];I[11]=w[43]+w[11];I[12]=w[44]+w[12];I[13]=w[45]+w[13];
I[14]=w[46]+w[14];I[15]=w[47]+w[15];I[16]=w[48]+w[16];I[17]=w[49]+w[17];I[18]=w[50]+w[18];I[19]=w[51]+w[19];
I[20]=w[52]+w[20];I[21]=w[53]+w[21];I[22]=w[54]+w[22];I[23]=w[55]+w[23];I[24]=w[56]+w[24];I[25]=w[57]+w[25];
I[26]=w[58]+w[26];I[27]=w[59]+w[27];I[28]=w[60]+w[28];I[29]=w[61]+w[29];I[30]=w[62]+w[30];I[31]=w[63]+w[31];
I[32]=w[0]-w[32];I[33]=w[1]-w[33];I[34]=w[2]-w[34];I[35]=w[3]-w[35];I[36]=w[4]-w[36];I[37]=w[5]-w[37];
I[38]=w[6]-w[38];I[39]=w[7]-w[39];I[40]=w[8]-w[40];I[41]=w[9]-w[41];I[42]=w[10]-w[42];I[43]=w[11]-w[43];
I[44]=w[12]-w[44];I[45]=w[13]-w[45];I[46]=w[14]-w[46];I[47]=w[15]-w[47];I[48]=w[16]-w[48];I[49]=w[17]-w[49];
I[50]=w[18]-w[50];I[51]=w[19]-w[51];I[52]=w[20]-w[52];I[53]=w[21]-w[53];I[54]=w[22]-w[54];I[55]=w[23]-w[55];
I[56]=w[24]-w[56];I[57]=w[25]-w[57];I[58]=w[26]-w[58];I[59]=w[27]-w[59];I[60]=w[28]-w[60];I[61]=w[29]-w[61];
I[62]=w[30]-w[62];I[63]=w[31]-w[63];w[0]=I[16]+I[0];w[1]=I[17]+I[1];w[2]=I[18]+I[2];w[3]=I[19]+I[3];
w[4]=I[20]+I[4];w[5]=I[21]+I[5];w[6]=I[22]+I[6];w[7]=I[23]+I[7];w[8]=I[24]+I[8];w[9]=I[25]+I[9];w[10]=I[26]+I[10];
w[11]=I[27]+I[11];w[12]=I[28]+I[12];w[13]=I[29]+I[13];w[14]=I[30]+I[14];w[15]=I[31]+I[15];w[16]=I[0]-I[16];
w[17]=I[1]-I[17];w[18]=I[2]-I[18];w[19]=I[3]-I[19];w[20]=I[4]-I[20];w[21]=I[5]-I[21];w[22]=I[6]-I[22];
w[23]=I[7]-I[23];w[24]=I[8]-I[24];w[25]=I[9]-I[25];w[26]=I[10]-I[26];w[27]=I[11]-I[27];w[28]=I[12]-I[28];
w[29]=I[13]-I[29];w[30]=I[14]-I[30];w[31]=I[15]-I[31];I[0]=w[8]+w[0];I[1]=w[9]+w[1];I[2]=w[10]+w[2];
I[3]=w[11]+w[3];I[4]=w[12]+w[4];I[5]=w[13]+w[5];I[6]=w[14]+w[6];I[7]=w[15]+w[7];I[8]=w[0]-w[8];I[9]=w[1]-w[9];
I[10]=w[2]-w[10];I[11]=w[3]-w[11];I[12]=w[4]-w[12];I[13]=w[5]-w[13];I[14]=w[6]-w[14];I[15]=w[7]-w[15];
w[0]=I[4]+I[0];w[1]=I[5]+I[1];w[2]=I[6]+I[2];w[3]=I[7]+I[3];w[4]=I[0]-I[4];w[5]=I[1]-I[5];w[6]=I[2]-I[6];
w[7]=I[3]-I[7];w[8]=I[12]+I[8];w[9]=I[13]+I[9];w[10]=I[14]+I[10];w[11]=I[15]+I[11];w[12]=I[8]-I[12];
w[13]=I[9]-I[13];w[14]=I[10]-I[14];w[15]=I[11]-I[15];I[0]=w[2]+w[0];I[1]=w[3]+w[1];I[2]=w[0]-w[2];I[3]=w[1]-w[3];
I[4]=w[6]+w[4];I[5]=w[7]+w[5];I[6]=w[4]-w[6];I[7]=w[5]-w[7];I[8]=w[10]+w[8];I[9]=w[11]+w[9];I[10]=w[8]-w[10];
I[11]=w[9]-w[11];I[12]=w[14]+w[12];I[13]=w[15]+w[13];I[14]=w[12]-w[14];I[15]=w[13]-w[15];w[0]=I[1]+I[0];
w[1]=I[0]-I[1];w[2]=I[3]+I[2];w[3]=I[2]-I[3];w[4]=I[5]+I[4];w[5]=I[4]-I[5];w[6]=I[7]+I[6];w[7]=I[6]-I[7];
w[8]=I[9]+I[8];w[9]=I[8]-I[9];w[10]=I[11]+I[10];w[11]=I[10]-I[11];w[12]=I[13]+I[12];w[13]=I[12]-I[13];
w[14]=I[15]+I[14];w[15]=I[14]-I[15]};Q.Tc.a0o=function(){var w="",eS=64,I="v",E="t",X="a",o=5,P,i,h;
for(P=eS>>1;P>0;P>>=1,o--){for(i=0;i<eS;i++){h=(i>>o&1)!=0;if(h){w+=E+"["+i+"] = "+I+"["+(-P+i)+"] - "+I+"["+i+"];  "}else{w+=E+"["+i+"] = "+I+"["+(P+i)+"] + "+I+"["+i+"];  "}}X=I;
I=E;E=X;w+="\n"}console.log(w)};Q.Tc.ahM=function(eS,w,I){var E=w,X=I,o=E,i=0,P,k,x;while(eS>>i!=2)i++;
var h=i;for(P=eS>>1;P>0;P>>=1,i--){for(k=0;k<eS;k++){x=(k>>i&1)!=0;if(x)X[k]=E[-P+k]-E[k];else X[k]=E[P+k]+E[k]}o=E;
E=X;X=o}if((h&1)==1)for(P=0;P<eS;P++)I[P]=E[P]};Q.hJ={};Q.hJ.vv=function(w,I,E,X,o,i,h,k,x){var j=Date.now(),v=new Uint32Array(w.buffer),_=new Uint32Array(I.buffer),L=h/E,U=k/X,n=1/L,a=1/U,T=new Float64Array(2),g=3,D=1/g,b=1/(g*g),N=0,C=0,Z=E,S=X;
if(o){N=o.x;C=o.y;Z=o.q;S=o.w}for(var u=0;u<S;u++)for(var p=0;p<Z;p++){var f=N+p,d=C+u,P=d*E+f,l=P<<1,A=P<<2;
Q.hJ.agF(i,h,k,(f+.5)*L,(d+.5)*U,T);var B=T[0]*n,e=T[1]*a;if(B==0&&e==0)_[P]=v[P];else{Q.K.ks(f+B+.5,d+e+.5,v,E,X,_,P,x)}}};
Q.hJ.agF=function(w,I,E,X,o,i){X-=.499999;o-=.499999;var h=~~X,k=~~o,x=X-h,j=o-k,v=(1-j)*(1-x),_=(1-j)*x,L=j*(1-x),U=j*x,n=h<I-1?h+1:h,a=k<E-1?k+1:k,T=k*I+h<<1,g=k*I+n<<1,D=a*I+h<<1,b=a*I+n<<1;
i[0]=v*w[T]+_*w[g]+L*w[D]+U*w[b];i[1]=v*w[T+1]+_*w[g+1]+L*w[D+1]+U*w[b+1]};Q.hJ.ani=function(w,I,E,X,o){var i=1/w,h=[-1,1,-w,w],k=X.length;
for(var x=0;x<k;x++){var P=X[x],j=P<<1,v=x<<1,_=~~(P*i),L=P-w*_,U=E[j],n=E[j+1],a=0,T=0;if(L!=0&&L!=w-1){var g=P-1<<1,D=P+1<<1,b=E[g],N=E[D],C=E[g+1],Z=E[D+1],S=U-(b+N)*.5,u=n-(C+Z)*.5;
a-=S*o;T-=u*o}if(_!=0&&_!=I-1){var g=P-w<<1,D=P+w<<1,b=E[g],N=E[D],C=E[g+1],Z=E[D+1],S=U-(b+N)*.5,u=n-(C+Z)*.5;
a-=S*o;T-=u*o}E[j]=U+a;E[j+1]=n+T}};Q.hJ.a0N=function(w,I){var E=w+","+I;if(Q.hJ.bh==E)return Q.hJ.hL;
var X=Q.hJ.hL=[];Q.hJ.bh=E;for(var P=0;P<=1e3;P++){var o=P*.001,i=Math.sqrt(o),h=Math.exp(-4*i),k=.96*(1-i*i),x=I*((1-w)*h+w*k);
X[P]=x}return X};Q.hJ.bh="";Q.hJ.hL=[];Q.hJ.apw=function(w,I,E,X,o,i,h,k,x,j,v,_,L){var U=Math.max(0,Math.floor(o-h-1)),n=Math.min(I,Math.ceil(o+h+1)),a=Math.max(0,Math.floor(i-h-1)),T=Math.min(E,Math.ceil(i+h+1)),g=2*I,D=h*h,b=1/h,N=0;
if(L&&(X==3||X==6))x=-x;var C=Q.hJ.a0N(k,x);for(var Z=a;Z<T;Z++)for(var S=U;S<n;S++){var P=Z*I+S,u=P<<1,p=(o-S)*b,f=(i-Z)*b,d=p*p+f*f;
if(d<1){_[N]=P;var l=C[~~(d*1e3)];if(X==1){w[u]=w[u]*(1-l*.05);w[u+1]=w[u+1]*(1-l*.05)}else{var A=0,B=0,$,V,H,F;
if(X==0){A=j*l;B=v*l}else if(X==2){}else if(X==3){A=l*f;B=-l*p}else if(X==4){A=l*p;B=l*f}else if(X==5){A=-l*p;
B=-l*f}else if(X==6){A=v*l;B=-j*l}var e=w[u],m=w[u+1];if(S==0||S!=I-1&&A<0){$=1+w[u+2]-e;H=w[u+3]-m}else{$=e-w[u-2]+1;
H=m-w[u-1]}if(Z==0||Z!=E-1&&B<0){V=w[u+g]-e;F=1+w[u+g+1]-m}else{V=e-w[u-g];F=m-w[u-g+1]+1}w[u]=-($*A+V*B-e);
w[u+1]=-(H*A+F*B-m)}N++}}};Q.hJ.afL=function(w){var I=w[0],E=w[0],X=w[1],o=w[1];for(var P=0;P<w.length;
P+=2){var i=w[P],h=w[P+1];if(i<I)I=i;else if(i>E)E=i;if(h<X)X=h;else if(h>o)o=h}return[I,X,E,o]};Q.a9$=function(w,I,E,X,o){function i(y,hm,t,cT){return Math.sqrt((y-t)*(y-t)+(hm-cT)*(hm-cT))}function h(y,hm){return y>=0&&y<I&&hm>=0&&hm<E}function k(y){if(y<0)return 0;
if(y>=I)return I-1;return y}function x(y){if(y<0)return 0;if(y>=E)return E-1;return y}function j(P,y){var hm=y[3]*(1/255),t=X[P]+y[0]*hm;
if(t>255)t=255;X[P]=t;t=X[P+1]+y[1]*hm;if(t>255)t=255;X[P+1]=t;t=X[P+2]+y[2]*hm;if(t>255)t=255;X[P+2]=t}function v(y,hm,t){if(!G(y,hm))return;
if(t[3]<0)t[3]=0;j((hm*I+y)*4,t)}function _(y){var hm=y.slice(0,3);hm[3]=0;return hm}var L=I/800;function U(y){return Math.round(y*L)}function n(){for(var P=0;
P<=300;P++){c[P]=a(P)}}function a(E){var y=.8,hm=.2,t=y*hm,cT=E/60%2-1,c4=t*(1-cT*cT),kv=hm-t,iL;if(E<60){iL=[t+kv,c4,0]}else if(E<120){iL=[c4,t,0]}else if(E<180){iL=[0,t,c4]}else if(E<240){iL=[0,c4,t]}else if(E<300){iL=[c4,0,t]}else{iL=[t,0,c4]}return[(iL[0]+kv)*255,(iL[1]+kv)*255,(iL[2]+kv)*255]}function T(E){return c[~~E]}function g(y){return 1-D(y)}function D(y){return y-~~y}function b(y,hm,t,cT){H(y,hm,t,0,hm+1,1,cT)}function N(y,hm,t,cT,c4,kv){H(y,hm,t,0,cT,1,c4,kv)}function C(y){for(var P=0;
P<X.length;P+=4){j(P,y)}}function Z(y,hm,t,cT,c4,kv,iL,cr){S(y,hm,t,cT,c4,1,kv,iL,cr)}function S(y,hm,t,cT,c4,kv,iL,cr,ga){if(kv==null)kv=.5;
if(iL==null)iL=0;if(cr==null)cr=0;if(ga==null)ga=!1;var iq=y.x,ei=y.y,hw=t.slice(0),hC=~~(t[3]*s);cT=cT*s;
if(!ga){hm=F(hm);c4=F(c4);iL=F(iL);cr=F(cr)}var j5=k(iq-hm),ed=k(iq+hm);for(var jn=j5;jn<=ed;jn++){var fj=jn-iq,di=Math.floor(Math.sqrt(hm*hm-fj*fj)),b1=x(ei-di),dI=x(ei);
for(var h2=b1;h2<=dI;h2++){var de=i(jn,h2,iq,ei);if(de>hm||de<=hm-c4)break;var ds=(de-hm+c4)/c4;hw[3]=hC-cT*(kv==1?ds:Math.pow(ds,kv));
j((h2*I+jn)*4,hw)}b1=x(ei+di);for(var h2=b1;h2>dI;h2--){var de=i(jn,h2,iq,ei);if(de>hm||de<=hm-c4)break;
var ds=(de-hm+c4)/c4;hw[3]=hC-cT*(kv==1?ds:Math.pow(ds,kv));j((h2*I+jn)*4,hw)}}if(iL>0){H(y,hm+iL,hw,hw[3],iL,1,0,0,!0)}if(cr>0){H(y,hm-c4,J(t),-t[3],cr,1,0,0,!0)}}function u(y,hm,t,cT,c4,kv){H(y,hm,t,t[3],hm+1,1,cT,c4,kv)}function p(y,hm,t,cT,c4){if(c4==null)c4=!1;
var kv=y.x,iL=y.y;cT*=s;if(!c4){hm=F(hm);t=F(t)}var cr=k(kv-hm),ga=k(kv+hm);for(var iq=cr;iq<ga;iq++){var ei=iq-kv,hw=~~Math.sqrt(hm*hm-ei*ei),hC=x(iL-hw),j5=x(iL);
for(var ed=hC;ed<=j5;ed++){var jn=i(iq,ed,kv,iL);if(jn>hm||jn<=hm-t)break;var fj=(hm-jn)/t,di=T(300*fj);
di[3]=cT;j((ed*I+iq)*4,di)}hC=x(iL+hw);for(var ed=hC;ed>j5;ed--){var jn=i(iq,ed,kv,iL);if(jn>hm||jn<=hm-t)break;
var fj=(hm-jn)/t,di=T(300*fj);di[3]=cT;j((ed*I+iq)*4,di)}}}function f(r,y){var hm=r.Iu,t=r.hR,cT=y.slice(0),c4=y[3]*s,kv=Math.abs(t.y-hm.y)>Math.abs(t.x-hm.x);
if(kv){var iL=hm.x;hm.x=hm.y;hm.y=iL;iL=t.x;t.x=t.y;t.y=iL}if(hm.x>t.x){var iL=hm;hm=t;t=iL}var cr=t.x-hm.x,ga=t.y-hm.y,iq=cr==0?1:ga/cr,ei=Math.round(hm.x),hw=hm.y+iq*(ei-hm.x),hC=g(hm.x+.5),j5=ei,ed=~~hw;
if(kv){cT[3]=c4*g(hw)*hC;v(ed,j5,cT);cT[3]=c4*D(hw)*hC;v(ed+1,j5,cT)}else{cT[3]=c4*g(hw)*hC;v(j5,ed,cT);
cT[3]=c4*D(hw)*hC;v(j5,ed+1,cT)}var jn=hw-iq;ei=Math.round(t.x);hw=t.y+iq*(ei-t.x);hC=D(t.x+.5);var fj=ei,di=~~hw;
if(kv){cT[3]=c4*g(hw)*hC;v(di,fj,cT);cT[3]=c4*D(hw)*hC;v(di+1,fj,cT)}else{cT[3]=c4*g(hw)*hC;v(fj,di,cT);
cT[3]=c4*D(hw)*hC;v(fj,di+1,cT)}if(kv){for(var b1=j5+1;b1<=fj-1;b1++){cT[3]=c4*g(jn);v(~~jn,b1,cT);cT[3]=c4*D(jn);
v(~~jn+1,b1,cT);jn+=iq}}else{for(var b1=j5+1;b1<=fj-1;b1++){cT[3]=c4*g(jn);v(b1,~~jn,cT);cT[3]=c4*D(jn);
v(b1,~~jn+1,cT);jn+=iq}}}function d(y,hm,t,cT){for(var P=0;P<4;P++){var c4=y.bF(hm+1.3*P,t);f(c4,cT,1)}}function a5(y,hm){this.x=Math.round(y);
this.y=Math.round(hm)}var l=Math.PI/180;a5.prototype.bF=function(y,hm){y=y*l;var t=this.x+hm*Math.cos(y),cT=this.y+hm*Math.sin(y);
return new A(this.x,this.y,t,cT)};a5.prototype.a6T=function(y,hm){y=y*l;var t=this.tc+hm*Math.cos(y),cT=this.a3u+hm*Math.sin(y);
return new a5(t,cT)};function A(y,hm,t,cT){this.Iu=new a5(y,hm);this.hR=new a5(t,cT)}A.prototype.EW=function(y){var hm=y*this.Iu.x+(1-y)*this.hR.x,t=y*this.Iu.y+(1-y)*this.hR.y;
return new a5(hm,t)};var B=Z,e=u,m=b,$=N,V=p,H=S,F=U,G=h,J=_,c=[];n();for(var P=0;P<w.length;P++){X[P]=w[P]}var r=new A(I*o[2],E*o[3],I/2,E/2),s=o[1],z=[];
z[0]=function Y(){var y=[80,40,15,60],t=0,cT=0;m(r.EW(1.4),260,y,10);m(r.EW(1),100,[240,50,50,30],30);
e(r.EW(1),60,[255,40,0,40]);var hm=[255,255,255,255];H(r.EW(1),70,hm,hm[3],58,.5);m(r.EW(1),12,hm);hm[3]=40;
B(r.EW(1),150,hm,hm[3],150);for(var P=0;P<40;P++){t+=Math.random()*25;cT=Math.random()*F(300)+F(100);
var c4=r.EW(1).bF(t,cT);f(r.EW(1).bF(t,cT),[110,110,110,30])}e(r.EW(1),130,[255,255,255,8]);var kv=[170,30,23,70];
$(r.EW(1),70,kv,1,3,3);var iL=[60,60,130,40];m(r.EW(.47),44,iL,5);m(r.EW(.43),22,iL,3);iL[3]=16;m(r.EW(.53),15,iL,2);
var cr=[138,94,42,100];m(r.EW(.2),16,cr,2);var ga=[130,255,170,180];e(r.EW(0),4,ga);e(r.EW(-.25),5,ga);
cr=[150,90,0,50];B(r.EW(-.45),55,J(cr),-cr[3],40,2);m(r.EW(-.42),35,cr,2);m(r.EW(-.5),15,cr,2);V(r.EW(-1.28),145,11,70);
var iq=T(0);iq[3]=50;B(r.EW(-1.28),149,iq,iq[3],4);iq=T(300);iq[3]=50;B(r.EW(-1.28),155-1,J(iq),-iq[3],3);
var ei=[130,130,10,50];$(r.EW(-1),73,ei,3,2);var hw=[40,130,70,40];B(r.EW(-1),70,J(hw),-hw[3],35);hw=[40,170,60,50];
m(r.EW(-.7),25,hw,4);var hw=[70,110,50,60];B(r.EW(1.3),30,J(hw),-hw[3],11,3);iL=[0,50,210,80];e(r.EW(-.72),20,iL)};
z[1]=function ax(){e(r.EW(1),150,[240,70,70,60]);m(r.EW(1),100,[200,60,60,40],30);var y=[255,255,255,255],hm=0,t=0;
H(r.EW(1),75,y,y[3],63);m(r.EW(1),12,y);e(r.EW(1),270,[200,200,200,20],10);for(var P=0;P<10;P++){hm+=10+Math.random()*40;
t=Math.random()*F(250)+F(80);var cT=r.EW(1).bF(hm,t);f(cT,[110,110,110,35])}hm=5;t=100;for(var P=0;P<12;
P++){hm+=30;d(r.EW(1),hm,t,[90,90,90,40])}var c4=[150,40,23,100];$(r.EW(1),70,c4,1,3,3);var kv=[30,100,60,40];
e(r.EW(-.9),180,[255,255,255,20]);m(r.EW(-.9),140,kv,15);var iL=[170,80,25,15];$(r.EW(-.9),120,iL,1,4,4);
var cr=[110,240,190,200];e(r.EW(-.6),3,cr);cr[3]=100;e(r.EW(-.6),7,cr);var ga=[230,120,40,85];e(r.EW(-.73),9,ga);
var iq=[60,60,190,50];m(r.EW(.3),28,iq,6);iq[3]=25;m(r.EW(.34),20,iq,3)};z[2]=function iW(){var y=[255,255,255,255],t=0,cT=0;
m(r.EW(1),13,y);H(r.EW(1),150,y,y[3],137);var hm=[120,80,35,20];m(r.EW(1.4),260,hm,10);for(var P=0;P<40;
P++){t+=5+Math.random()*30;cT=Math.random()*F(300);f(r.EW(1).bF(t,cT),[110,110,110,20])}var c4=[10,30,255,30];
m(r.EW(1),70,c4,50);var kv=[15,90,170,15];m(r.EW(1.5),60,kv);var iL=[220,220,20,50];m(r.EW(-1.15),8,iL,2);
var y=[255,255,255,40];e(r.EW(-1.18),6,y);e(r.EW(-1.18),4,y);iL=[110,110,10,8];B(r.EW(-1.2),32,J(iL),-iL[3],20,3);
var cr=[5,0,16,255];for(var P=0;P<4;P++){m(r.EW(-1.36),10,cr,3)}var ga=[90,200,150,20],iq=ga.slice(0);
iq[3]*=2;m(r.EW(-1.32),7,iq,3);m(r.EW(-1.36),7,iq,3);m(r.EW(-1.4),7,iq,3);var y=[230,230,230,100];e(r.EW(-1.36),2,y);
y[3]=3;m(r.EW(-.55),10,y);iL=[120,100,10,18];m(r.EW(-.55),160,iL,8);m(r.EW(-.55),80,iL,4);ga[3]=3;iq[3]=6;
B(r.EW(-.49),13,J(iq),-iq[3],13,2);B(r.EW(-.55),13,J(iq),-iq[3],13,2);ga[3]=20;m(r.EW(.15),25,ga,3);
iL[3]=100;e(r.EW(-.52),3,iL);iL=[200,200,50,40];m(r.EW(.27),1,iL,4);var ei=[150,40,23,30];B(r.EW(1),80,J(ei),-ei[3],2,1)};
return z[o[0]]()};Q.Ea={};Q.Ea.KQ=function(w){var I=w.length,eS=w[0].length,E=new Array(eS);for(var P=0;
P<eS;P++)E[P]=new Array(I);for(var P=0;P<eS;P++)for(var X=0;X<I;X++)E[P][X]=w[X][P];return E};Q.Ea.MT=function(w,I){var E=w.length,eS=w[0].length,X=new Array(E);
for(var P=0;P<E;P++)X[P]=new Array(eS);for(var P=0;P<E;P++)for(var o=0;o<eS;o++)X[P][o]=w[P][o]-I[P][o];
return X};Q.Ea.add=function(w,I){var E=w.length,eS=w[0].length,X=new Array(E);for(var P=0;P<E;P++)X[P]=new Array(eS);
for(var P=0;P<E;P++)for(var o=0;o<eS;o++)X[P][o]=w[P][o]+I[P][o];return X};Q.Ea.multiply=function(w,I){var E=w.length,X=w[0].length,eS=I[0].length;
if(X!=I.length)throw"e";var o=new Array(E);for(var P=0;P<E;P++)o[P]=new Array(eS);if((X&1)!=0)for(var P=0;
P<E;P++){var i=w[P],h=o[P];for(var k=0;k<eS;k++){var x=0;for(var j=0;j<X;j++)x+=i[j]*I[j][k];h[k]=x}}else for(var P=0;
P<E;P++){var i=w[P],h=o[P];for(var k=0;k<eS;k++){var x=0;for(var j=0;j<X;j+=2)x+=i[j]*I[j][k]+i[j+1]*I[j+1][k];
h[k]=x}}return o};Q.Ea.Na=function(w,I){var E=w.length,eS=w[0].length,X=new Array(E);for(var P=0;P<E;
P++){var o=0;for(var i=0;i<eS;i++)o+=w[P][i]*I[i];X[P]=o}return X};Q.Ea.ZC=function(w,I){var E=[];for(var P=0;
P<w;P++){E.push([]);for(var X=0;X<I;X++)E[P].push(0)}return E};Q.Ea.as3=function(w){for(var P=0;P<w.length;
P++)console.log(JSON.stringify(w[P]))};Q.Ea.abw=function(w){var I=[];for(var P=0;P<w.length;P++)I.push(w[P].join(","));
return"["+I.join(";")+"]"};Q.Ea.Hu=function(w,I){var E=w.length;for(var X=0;X<E;X++){var o=0,i=Number.NEGATIVE_INFINITY;
for(var P=X;P<E;P++)if(Math.abs(w[P][X])>i){o=P;i=Math.abs(w[P][X])}Q.Ea.aph(w,X,o);for(var P=X+1;P<E;
P++){if(w[X][X]==0)return 1;var h=w[P][X]/w[X][X];for(var k=X;k<E+1;k++)w[P][k]-=w[X][k]*h}}for(var P=E-1;
P>=0;P--){if(w[P][P]==0)return 1;var x=w[P][E]/w[P][P];I[P]=x;for(var k=P-1;k>=0;k--){w[k][E]-=w[k][P]*x;
w[k][P]=0}}return 0};Q.Ea.aph=function(w,I,E){var X=w[I];w[I]=w[E];w[E]=X};Q.Ea.ajs=function(w){var I=w.length,E=Q.Ea.ZC(I,I);
for(var P=0;P<I;P++)E[P][P]=w[P];return E};Q.Ea.a3Y=function(w){var I=w.length,E=w[0].length,X=new Array(I);
for(var P=0;P<I;P++){X[P]=0;for(var o=0;o<E;o++)X[P]+=w[P][o];X[P]/=E}return X};Q.Ea.Uz=function(w){var I=0;
for(var P=0;P<w.length;P++)I+=w[P]*w[P];return Math.sqrt(I)};Q.vU={};Q.vU.Dj=function(w){var I=~~(w+.5);
return I<0?0:I>255?255:I};Q.vU.transform=function(w,I,E){var X=Q.vU.Dj,o=w.o.length;for(var P=0;P<o;
P++){var i=w.o[P],h=w.P[P],k=w.L[P];I.o[P]=X(E[0]*i+E[1]*h+E[2]*k+E[3]*255);I.P[P]=X(E[4]*i+E[5]*h+E[6]*k+E[7]*255);
I.L[P]=X(E[8]*i+E[9]*h+E[10]*k+E[11]*255)}};Q.vU.NU=function(w,I,E){var X=Q.vU.Dj,o=w.length;for(var P=0;
P<o;P+=4){var i=w[P],h=w[P+1],k=w[P+2];I[P]=X(E[0]*i+E[1]*h+E[2]*k+E[3]*255);I[P+1]=X(E[4]*i+E[5]*h+E[6]*k+E[7]*255);
I[P+2]=X(E[8]*i+E[9]*h+E[10]*k+E[11]*255)}};Q.vU.ZR=function(w){var I=w[0]+w[1]+w[2],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(I==1){var X=w.indexOf(1);E[X]=E[X+4]=E[X+8]=1}else{E[0]=w[0];E[5]=w[1];E[10]=w[2]}return E};Q.vU.dW=function(w,I,E){return[1,0,0,w,0,1,0,I,0,0,1,E,0,0,0,1]};
Q.vU.WR=function(w,I,E){return[w,0,0,0,0,I,0,0,0,0,E,0,0,0,0,1]};Q.vU.a1o=function(w){return[w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]]};
Q.vU._k=function(w){return[w[0],w[1],w[2],0,w[3],w[4],w[5],0,w[6],w[7],w[8],0,0,0,0,1]};Q.vU.mm=function(w,I){return[w[0]*I[0]+w[1]*I[1]+w[2]*I[2]+w[3]*I[3],w[4]*I[0]+w[5]*I[1]+w[6]*I[2]+w[7]*I[3],w[8]*I[0]+w[9]*I[1]+w[10]*I[2]+w[11]*I[3],w[12]*I[0]+w[13]*I[1]+w[14]*I[2]+w[15]*I[3]]};
Q.vU.KQ=function(w){var I=[];I[0]=w[0];I[1]=w[4];I[2]=w[8];I[3]=w[12];I[4]=w[1];I[5]=w[5];I[6]=w[9];
I[7]=w[13];I[8]=w[2];I[9]=w[6];I[10]=w[10];I[11]=w[14];I[12]=w[3];I[13]=w[7];I[14]=w[11];I[15]=w[15];
return I};Q.vU.add=function(w,I){var E=w.slice(0);for(var P=0;P<16;P++)E[P]+=I[P];return E};Q.vU.multiply=function(w,I){var E=[];
E[0]=w[0]*I[0]+w[1]*I[4]+w[2]*I[8]+w[3]*I[12];E[1]=w[0]*I[1]+w[1]*I[5]+w[2]*I[9]+w[3]*I[13];E[2]=w[0]*I[2]+w[1]*I[6]+w[2]*I[10]+w[3]*I[14];
E[3]=w[0]*I[3]+w[1]*I[7]+w[2]*I[11]+w[3]*I[15];E[4]=w[4]*I[0]+w[5]*I[4]+w[6]*I[8]+w[7]*I[12];E[5]=w[4]*I[1]+w[5]*I[5]+w[6]*I[9]+w[7]*I[13];
E[6]=w[4]*I[2]+w[5]*I[6]+w[6]*I[10]+w[7]*I[14];E[7]=w[4]*I[3]+w[5]*I[7]+w[6]*I[11]+w[7]*I[15];E[8]=w[8]*I[0]+w[9]*I[4]+w[10]*I[8]+w[11]*I[12];
E[9]=w[8]*I[1]+w[9]*I[5]+w[10]*I[9]+w[11]*I[13];E[10]=w[8]*I[2]+w[9]*I[6]+w[10]*I[10]+w[11]*I[14];E[11]=w[8]*I[3]+w[9]*I[7]+w[10]*I[11]+w[11]*I[15];
E[12]=w[12]*I[0]+w[13]*I[4]+w[14]*I[8]+w[15]*I[12];E[13]=w[12]*I[1]+w[13]*I[5]+w[14]*I[9]+w[15]*I[13];
E[14]=w[12]*I[2]+w[13]*I[6]+w[14]*I[10]+w[15]*I[14];E[15]=w[12]*I[3]+w[13]*I[7]+w[14]*I[11]+w[15]*I[15];
return E};Q.vU.ja=function(w){var I=[];I[0]=w[5]*w[10]*w[15]-w[5]*w[14]*w[11]-w[6]*w[9]*w[15]+w[6]*w[13]*w[11]+w[7]*w[9]*w[14]-w[7]*w[13]*w[10];
I[1]=-w[1]*w[10]*w[15]+w[1]*w[14]*w[11]+w[2]*w[9]*w[15]-w[2]*w[13]*w[11]-w[3]*w[9]*w[14]+w[3]*w[13]*w[10];
I[2]=w[1]*w[6]*w[15]-w[1]*w[14]*w[7]-w[2]*w[5]*w[15]+w[2]*w[13]*w[7]+w[3]*w[5]*w[14]-w[3]*w[13]*w[6];
I[3]=-w[1]*w[6]*w[11]+w[1]*w[10]*w[7]+w[2]*w[5]*w[11]-w[2]*w[9]*w[7]-w[3]*w[5]*w[10]+w[3]*w[9]*w[6];
I[4]=-w[4]*w[10]*w[15]+w[4]*w[14]*w[11]+w[6]*w[8]*w[15]-w[6]*w[12]*w[11]-w[7]*w[8]*w[14]+w[7]*w[12]*w[10];
I[5]=w[0]*w[10]*w[15]-w[0]*w[14]*w[11]-w[2]*w[8]*w[15]+w[2]*w[12]*w[11]+w[3]*w[8]*w[14]-w[3]*w[12]*w[10];
I[6]=-w[0]*w[6]*w[15]+w[0]*w[14]*w[7]+w[2]*w[4]*w[15]-w[2]*w[12]*w[7]-w[3]*w[4]*w[14]+w[3]*w[12]*w[6];
I[7]=w[0]*w[6]*w[11]-w[0]*w[10]*w[7]-w[2]*w[4]*w[11]+w[2]*w[8]*w[7]+w[3]*w[4]*w[10]-w[3]*w[8]*w[6];I[8]=w[4]*w[9]*w[15]-w[4]*w[13]*w[11]-w[5]*w[8]*w[15]+w[5]*w[12]*w[11]+w[7]*w[8]*w[13]-w[7]*w[12]*w[9];
I[9]=-w[0]*w[9]*w[15]+w[0]*w[13]*w[11]+w[1]*w[8]*w[15]-w[1]*w[12]*w[11]-w[3]*w[8]*w[13]+w[3]*w[12]*w[9];
I[10]=w[0]*w[5]*w[15]-w[0]*w[13]*w[7]-w[1]*w[4]*w[15]+w[1]*w[12]*w[7]+w[3]*w[4]*w[13]-w[3]*w[12]*w[5];
I[11]=-w[0]*w[5]*w[11]+w[0]*w[9]*w[7]+w[1]*w[4]*w[11]-w[1]*w[8]*w[7]-w[3]*w[4]*w[9]+w[3]*w[8]*w[5];I[12]=-w[4]*w[9]*w[14]+w[4]*w[13]*w[10]+w[5]*w[8]*w[14]-w[5]*w[12]*w[10]-w[6]*w[8]*w[13]+w[6]*w[12]*w[9];
I[13]=w[0]*w[9]*w[14]-w[0]*w[13]*w[10]-w[1]*w[8]*w[14]+w[1]*w[12]*w[10]+w[2]*w[8]*w[13]-w[2]*w[12]*w[9];
I[14]=-w[0]*w[5]*w[14]+w[0]*w[13]*w[6]+w[1]*w[4]*w[14]-w[1]*w[12]*w[6]-w[2]*w[4]*w[13]+w[2]*w[12]*w[5];
I[15]=w[0]*w[5]*w[10]-w[0]*w[9]*w[6]-w[1]*w[4]*w[10]+w[1]*w[8]*w[6]+w[2]*w[4]*w[9]-w[2]*w[8]*w[5];var E=w[0]*I[0]+w[1]*I[4]+w[2]*I[8]+w[3]*I[12];
for(var P=0;P<16;P++)I[P]/=E;return I};Q.vU.arB=function(w){var I=[],E=w[5]*w[10]*w[15]-w[5]*w[14]*w[11]-w[6]*w[9]*w[15]+w[6]*w[13]*w[11]+w[7]*w[9]*w[14]-w[7]*w[13]*w[10],X=-w[4]*w[10]*w[15]+w[4]*w[14]*w[11]+w[6]*w[8]*w[15]-w[6]*w[12]*w[11]-w[7]*w[8]*w[14]+w[7]*w[12]*w[10],o=w[4]*w[9]*w[15]-w[4]*w[13]*w[11]-w[5]*w[8]*w[15]+w[5]*w[12]*w[11]+w[7]*w[8]*w[13]-w[7]*w[12]*w[9],i=-w[4]*w[9]*w[14]+w[4]*w[13]*w[10]+w[5]*w[8]*w[14]-w[5]*w[12]*w[10]-w[6]*w[8]*w[13]+w[6]*w[12]*w[9];
return w[0]*E+w[1]*X+w[2]*o+w[3]*i};Q.vU.Ao=Q.vU._k([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
Q.vU.auT=Q.vU._k([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
Q.vU.wj=Q.vU.ja(Q.vU.Ao);Q.Pc={};Q.Pc.cY=new Uint32Array(1);Q.Pc.DK=function(w,I,E,X,o,i){var h=new Uint32Array(w),k=0,x=Q.Pc.cY;
if(x.length<I*4)Q.Pc.cY=x=new Uint32Array(I*4);var j=new Float64Array(x.buffer);for(var P=0;P<I;P+=2){var v=o[P],_=o[P+1],L=i[P],U=i[P+1];
x[k]=_;j[k+2>>1]=L;x[k+1]=h[v];h[v]=k+1;k+=4;x[k]=v;j[k+2>>1]=U;x[k+1]=h[_];h[_]=k+1;k+=4}return{xq:x,ajk:j,aki:h}};
Q.Pc.Hu=function(w,I,E,X,o,i,h){var k=1,x=Q.Pc.DK(w,I,E,X,o,i),j=x.xq,v=x.ajk,_=x.aki,L=new Uint32Array(w),U=new Q.Pc.BE(w),a=1,N=0;
U.push(E);U.push(X);var n=new Q.Pc.BE(w),T=new Uint8Array(w),g=new Uint32Array(w);T[E]=1;T[X]=2;var D=new Uint32Array(w),b=new Uint32Array(w);
b[E]=b[X]=0;D[E]=D[X]=1;while(!0){var C=-1,l=0,m=1e30;while(!U.KE()&&C==-1){var Z=U.top(),S=T[Z],u=_[Z]-1;
while(u!=-1){var p=j[u],f=T[p],d=u^S-1<<2;if(v[d+2>>1]!=0){if(f==0){Q.Pc.IQ(Z,u,p,T,g,b,D);U.push(p)}else if(f==S&&D[p]<=D[Z]&&b[p]>b[Z])Q.Pc.IQ(Z,u,p,T,g,b,D);
else if(f!=S){C=d}}u=j[u+1]-1}if(C!=-1)break;U.pop()}if(C==-1){break}a++;var A=C;while(A!=-1){L[l]=A;
l++;A=g[j[A^4]]-1}var B=l>>1;for(var P=0;P<B;P++){var e=L[P];L[P]=L[l-P-1];L[l-P-1]=e}A=g[j[C]]-1;while(A!=-1){L[l]=A^4;
l++;A=g[j[A^4]]-1}for(var P=0;P<l;P++)m=Math.min(m,v[L[P]+2>>1]);N+=m;if(N>=h)return{DV:null,Ya:N};for(var P=0;
P<l;P++){var $=L[P],V=$^4,Z=j[V],p=j[$];v[$+2>>1]-=m;v[V+2>>1]+=m;if(v[$+2>>1]==0&&T[Z]==T[p]){if(T[Z]==1){g[p]=0;
n.push(p)}if(T[Z]==2){g[Z]=0;n.push(Z)}}}while(!n.KE()){var Z=n.pop(),S=T[Z],u=_[Z]-1,H=S==1?4:0,F=0,G=0,J=1e9;
while(u!=-1){var p=j[u],c=u^4,d=u^H;if(T[p]==S&&v[d+2>>1]>0&&Q.Pc.afe(p,E,X,g,j,a,D,b)+1<J){F=p;G=c;
J=b[p]+1}u=j[u+1]-1}if(G!=0){Q.Pc.IQ(F,G,Z,T,g,b,D);continue}u=_[Z]-1;while(u!=-1){var p=j[u],d=u^H;
if(T[p]==S){if(v[d+2>>1]>0){U.push(p)}if(g[p]==u+1){g[p]=0;n.push(p)}}u=j[u+1]-1}T[Z]=0;U.remove(Z)}}var r=[];
for(var P=0;P<I;P+=2){var Z=o[P],p=o[P+1];if(T[Z]==1&&T[p]!=1){r.push(P>>1)}if(T[p]==1&&T[Z]!=1){r.push(I+P>>1)}}return{DV:r,Ya:N}};
Q.Pc.IQ=function(w,I,E,X,o,i,h){X[E]=X[w];o[E]=I+1;i[E]=i[w]+1;h[E]=h[w]};Q.Pc.afe=function(w,I,E,X,o,i,h,k){var x=w,j=X[w]-1,v=0;
while(j!=-1&&h[w]!=i){w=o[j^4];j=X[w]-1;v++}if(j==-1&&w!=I&&w!=E)return 1e9;var _=k[w]+v;v=0;j=X[x]-1;
while(x!=w){k[x]=_-v;v++;h[x]=i;x=o[j^4];j=X[x]-1}return _};Q.Pc.a9p=function(w,I,E,X,o,i){var h=Q.Pc.DK(w,I,E,X,o,i),k=h.xq,x=h.ajk,j=h.aki,v=0,_=0,L=new Uint32Array(w*2),U=new Q.Pc.U_(w),n=0;
while(!0){U.reset();U.push(E);for(var P=0;P<w;P++)L[P<<1]=0;while(!U.KE()){var a=U.pop(),T=j[a]-1;while(T!=-1){n=k[T];
if(L[n<<1]==0&&x[T+2>>1]>0&&n!=E){L[n<<1]=a+1;L[(n<<1)+1]=T;U.push(n)}T=k[T+1]-1}if(L[X<<1]!=0){break}}if(L[X<<1]==0){break}var g=1e30;
n=X;while(!0){var D=L[n<<1]-1;if(D==-1)break;var b=L[(n<<1)+1];g=Math.min(g,x[b+2>>1]);n=D}n=X;while(!0){var D=L[n<<1]-1;
if(D==-1)break;var b=L[(n<<1)+1],N=b^4;x[b+2>>1]-=g;x[N+2>>1]+=g;n=D}v+=g}var C=[];for(var P=0;P<I;P+=2){var D=o[P],n=o[P+1];
if((L[D<<1]!=0||D==E)&&L[n<<1]==0&&n!=E){C.push(P>>1)}if((L[n<<1]!=0||n==E)&&L[D<<1]==0&&D!=E){C.push(I+P>>1)}}return{DV:C,Ya:v}};
Q.Pc.U_=function(w){w|=w>>1;w|=w>>2;w|=w>>4;w|=w>>8;w|=w>>16;this.eJ=new Uint32Array(w+1);this.kD=w;
this.L5=0;this.iy=0};Q.Pc.U_.prototype={push:function(w){var I=this.iy;this.eJ[I]=w;this.iy=I+1&this.kD},pop:function(){var w=this.L5,I=this.eJ[w];
this.L5=w+1&this.kD;return I},KE:function(){return this.L5==this.iy},reset:function(){this.L5=0;this.iy=0}};
Q.Pc.BE=function(w){w|=w>>1;w|=w>>2;w|=w>>4;w|=w>>8;w|=w>>16;this.eJ=new Uint32Array(w+1);this.iU=new Uint32Array(w+1);
this.kD=w;this.L5=0;this.iy=0};Q.Pc.BE.prototype={top:function(){return this.eJ[this.L5]},avJ:function(){return this.eJ[this.iy]},push:function(w){if(this.iU[w]!=0)return;
this.iU[w]=this.iy+1;var I=this.iy;this.eJ[I]=w;this.iy=I+1&this.kD},pop:function(){var w=this.L5,I=this.eJ[w];
this.iU[I]=0;this.L5=w+1&this.kD;return I},KE:function(){return this.L5==this.iy},remove:function(w){var I=this.iU[w]-1;
if(I==-1)return;this.iU[w]=0;if(I==this.L5){this.pop();return}var E=this.pop();this.eJ[I]=E;this.iU[E]=I+1},je:function(P){return P+this.kD+1&this.kD}};
Q.Pc.mi=function(w,I,E){var X=Q.Pc.ZS(w,I,E);if(I<X-1)Q.Pc.mi(w,I,X-1);if(X<E)Q.Pc.mi(w,X,E)};Q.Pc.ZS=function(w,I,E){var X=w[I+E>>>1];
while(I<=E){while(w[I]<X)I++;while(w[E]>X)E--;if(I<=E){Q.Pc.BQ(w,I,E);I++;E--}}return I};Q.Pc.BQ=function(w,I,E){var X=w[I];
w[I]=w[E];w[E]=X};Q.GJ={};Q.GJ.p$=function(w){for(var P=0;P<w.length;P++)Q.GJ.CV(w,P)};Q.GJ.CV=function(w,P){w[P].v.keyShapeInvalidated={t:"bool",v:!0}};
Q.GJ.ahW=function(w){for(var P=0;P<w.length;P++)w[P].v.keyOriginIndex.v=P};Q.GJ.xd=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
Q.GJ.Py=function(w){w=w.v;var I={Rctn:2,Ln:4,Elps:5},E=I[w.classID],X=w.topLeft?Q.GJ.B5(w):null,o=null,i=0,h=[!1,!1,0,0,0];
if(E==4){var k=w.Strt.v,x=w.End.v;o=[k.Hrzn.v.val,k.Vrtc.v.val,x.Hrzn.v.val,x.Vrtc.v.val];i=w.Wdth.v.val;
for(var P=0;P<2;P++){var j=w[P==0?"StrA":"EndA"];if(j==null)continue;j=j.v;h[P]=j.On.v;h[2]=j.Wdth.v;
h[3]=j.Lngt.v;h[4]=j.Cncv.v.val}}if(E==null)return null;return Q.GJ.UO(E,E==4?null:Q.GJ._e(w),X,o,i,h)};
Q.GJ.dZ=function(w,I,E,X,o,i,h){var k={classID:w,unitValueQuadVersion:{t:"long",v:1}};if(I)Q.GJ.XI(k,["Left","Top","Rght","Btom"],I);
if(E)Q.GJ.XI(k,["topLeft","topRight","bottomRight","bottomLeft"],E);if(w=="Ln"){k.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:X[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:X[1]}}}},k.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:X[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:X[3]}}}},k.Wdth={t:"UntF",v:{type:"#Pxl",val:o}};
for(var P=0;P<2;P++){var x=P==0?"StrA":"EndA";k[x]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:h[P]},Wdth:{t:"doub",v:h[2]},Lngt:{t:"doub",v:h[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:h[4]}}}}}}if(i)k.Nm={t:"TEXT",v:i};
return{t:"Objc",v:k}};Q.GJ.bg=function(w,I){var E=Q.GJ.cD(w),X=w[2]-w[0],o=w[3]-w[1],i=Math.sqrt(X*X+o*o),h=[0,0,i,0,i,I,0,I],k=new am;
k.rotate(-E);k.translate(w[0],w[1]);Q.p.F(h,k,h);return h};Q.GJ.UO=function(w,I,E,X,o,i){var h=Q.GJ.xd(),k=h.v,x;
delete k.keyShapeInvalidated;k.keyOriginType={t:"long",v:w};k.keyOriginResolution={t:"doub",v:75};if(w==4){k.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:X[0]},Vrtc:{t:"doub",v:X[1]}}};
k.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:X[2]},Vrtc:{t:"doub",v:X[3]}}};x=Q.GJ.bg(X,o);
var j=Q.p.zK(x);I=[j.x,j.y,j.x+j.q,j.y+j.w];k.keyOriginLineWeight={t:"doub",v:o};if(i)Q.GJ.alJ(k,i)}else x=[I[0],I[1],I[2],I[1],I[2],I[3],I[0],I[3]];
k.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};Q.GJ.uY(k,"keyOriginBoxCorners",x);var v={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
k.keyOriginShapeBBox={t:"Objc",v:v};Q.GJ.mf(k,I);if(E!=null){var _={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
k.keyOriginRRectRadii={t:"Objc",v:_};Q.GJ.p1(k,E)}return h};Q.GJ.F=function(w,I,E,X){var o=Q.K.mk(I),i=Q.K.F0(I),h=Q.K.o9(I),k=h.lV*h.cA-h.L*h.I5;
for(var P=0;P<w.length;P++){var x=w[P].v;if(!Q.GJ.An(x))continue;if(E.length!=0&&E.indexOf(P)==-1)continue;
var j=x.keyOriginType.v,v=I;if(k<0&&j==2){var _=Q.GJ.tv(x),L=0;L=_[0];_[0]=_[1];_[1]=L;L=_[2];_[2]=_[3];
_[3]=L;Q.GJ.p1(x,_);var U=Q.GJ.o7(x,"keyOriginBoxCorners"),n=Q.p.zK(U),a=n.x+n.q/2,T=new am;T.translate(-a,0);
T.scale(-1,1);T.translate(a,0);v=Q.K.og(v,Q.K.Rv(T))}var g=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var D=0;D<g.length;D++){var U=Q.GJ.o7(x,g[D]);if(U==null)continue;Q.K.F(v,U);Q.GJ.uY(x,g[D],U);var n=Q.p.zK(U);
Q.GJ.mf(x,[n.x,n.y,n.x+n.q,n.y+n.w]);var b=new am;b.rotate(-Q.GJ.cD(U));var N={classID:"Trnf"};x.Trnf={t:"Objc",v:N};
var C="xx xy yx yy tx ty".split(" "),S=[b.lV,b.L,b.I5,b.cA,b.N9,b.Zt];for(var u=0;u<6;u++)N[C[u]]={t:"doub",v:S[u]}}if(j==2&&X){var _=Q.GJ.tv(x);
for(var D=0;D<4;D++)_[D]=Math.round(_[D]*I[0]);Q.GJ.p1(x,_)}var U=Q.GJ.o7(x,"keyOriginBoxCorners"),p=U[2]-U[0],f=U[3]-U[1],d=Math.sqrt(p*p+f*f);
p/=d;f/=d;var l=U[6]-U[0],A=U[7]-U[1],B=Math.sqrt(l*l+A*A);l/=B;A/=B;if(j==4){x.keyOriginLineWeight.v=B;
var e=Q.GJ.sH(x);Q.K.F(I,e);Q.GJ.au1(x,e)}var m=p*l+f*A;if(Math.abs(m)>.001){Q.GJ.CV(w,P)}}};Q.GJ.An=function(w){var I=w.keyShapeInvalidated,E=w.keyOriginType;
return(I==null||!I.v)&&E!=null&&E.v!=9};Q.GJ.alT=function(w){var I=w.keyOriginType.v,E=Q.GJ.w0(w),X=E[0],o=E[1],i=E[2],h=E[3],k=new am,x=w.keyOriginPolyCornerRadius,U;
x=x?x.v:0;var j=Q.GJ.o7(w,I==7||I==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),v=Q.GJ.CU(j),_=v[2],L=v[3];
X=-_/2;i=_/2;o=-L/2;h=L/2;k.rotate(-Q.GJ.cD(j));k.N9=v[0];k.Zt=v[1];if(I==1||I==2){var n=I==1?0:Q.GJ.tv(w);
U=Q.O.cw.Rect(X,o,i-X,h-o,n)}else if(I==4){var a=Q.GJ.sH(w),T=Q.GJ.auG(w);k=new am;if(T==null)U=Q.O.cw.Qa(a[0],a[1],a[2],a[3],w.keyOriginLineWeight.v);
else U=Q.O.cw.l3(a[0],a[1],a[2],a[3],w.keyOriginLineWeight.v,T)}else if(I==5){U=Q.O.cw.z9(X,o,i-X,h-o)}else if(I==7||I==8){var g=I==7?3:w.keyOriginPolySides.v;
U=Q.O.cw.wT(0,0,100,Math.PI/g-Math.PI/2,g,x,i,h)}Q.O.yJ(U,k);return U};Q.GJ.WQ=function(w,I){var E=I.j;
for(var P=0;P<w.length;P++){var X=w[P].v;if(!Q.GJ.An(X))continue;var o=Q.GJ.alT(X),i=Q.O.ny(E,P),h=Q.O.tQ(E,P);
o[2].KP=E[i].KP;var k=E;E=E.slice(0,i);for(var x=2;x<o.length;x++)E.push(o[x]);for(var x=i+h;x<k.length;
x++)E.push(k[x])}I.j=E;I.$o=!0};Q.GJ.TZ=function(w){var I=1e9,E=-I,X=1e9,o=-X,i=[],h=w.cm(),k=h[0],x=h[1];
for(var j=0;j<x.length;j++){var v=k[x[j]],_=v.add.vogk;if(_==null)continue;var L=v.add.vmsk.g;for(var U=0;
U<_.length;U++){var n=_[U].v,g=0;if(!Q.GJ.An(n))continue;if(x.length==1&&L.length!=0&&L.indexOf(U)==-1)continue;
var a=n.keyOriginType.v;if(a==9)continue;var T=Q.GJ.w0(n);I=Math.min(I,T[0]);X=Math.min(X,T[1]);E=Math.max(E,T[2]);
o=Math.max(o,T[3]);var D=Q.GJ.o7(n,"keyOriginBoxCorners");if(D){var b=Q.GJ.CU(D),N=b[2],C=b[3];T[2]=T[0]+N;
T[3]=T[1]+C;g=Q.GJ.cD(D)}var Z=[a,T,g];i.push(Z);if(a==2)Z.push(Q.GJ.tv(n));if(a==7||a==8)Z.push(n.keyOriginPolyCornerRadius.v);
if(a==8)Z.push(n.keyOriginPolySides.v)}}return i.length==1?i[0]:[0,I<E?[I,X,E,o]:null,0]};Q.GJ.cD=function(w){var I=w[2]-w[0],E=w[3]-w[1];
return-Math.atan2(-E,I)};Q.GJ.aqs=function(w,I,E){var X=Q.GJ.TZ(w),o=-1;for(var P=0;P<I.length;P++)if(JSON.stringify(I[P])!=JSON.stringify(X[P]))o=P;
if(o==1||o==2){}var i=w.cm(),h=i[0],k=i[1];for(var x=0;x<k.length;x++){var j=h[k[x]],v=j.add.vogk;if(v==null)continue;
var _=j.add.vmsk.g;for(var L=0;L<v.length;L++){var U=v[L].v;if(!Q.GJ.An(U))continue;if(k.length==1&&_.length!=0&&_.indexOf(L)==-1)continue;
var n=U.keyOriginType.v;if(o==1||o==2){Q.GJ.F(v,Q.GJ.aa4(o,U,X,I),_,!1);break}if(o==3)if(n==2)Q.GJ.p1(U,I[3]);
else U.keyOriginPolyCornerRadius.v=I[3];if(o==4)U.keyOriginPolySides.v=I[4];if(E)Q.GJ.CV(v,L)}}};Q.GJ.aa4=function(w,I,E,X){var o=X[1],i=E[1],h=(o[2]-o[0])/(i[2]-i[0]),k=(o[3]-o[1])/(i[3]-i[1]),x=new am;
if(w==1){if(Math.max(Math.abs(h-1),Math.abs(k-1))>1e-8){var j=o[0],v=o[1];if(X[0]!=0){var _=Q.GJ.o7(I,"keyOriginBoxCorners");
j=_[0];v=_[1]}x.translate(-j,-v);x.rotate(X[2]);x.scale(h,k);x.rotate(-X[2]);x.translate(j,v)}else{x.translate(-i[0],-i[1]);
x.translate(o[0],o[1])}}else{if(X[0]!=0)o=Q.GJ.w0(I);var j=(o[0]+o[2])/2,v=(o[1]+o[3])/2;x.translate(-j,-v);
if(E[0]!=0)x.rotate(E[2]);x.rotate(-X[2]);x.translate(j,v)}return Q.K.Rv(x)};Q.GJ.CU=function(w){var I=w[0],E=w[1],X=w[2],o=w[3],i=w[4],h=w[5],k=w[6],x=w[7],j=X-I,v=o-E,_=Math.sqrt(j*j+v*v),j=i-X,v=h-o,L=Math.sqrt(j*j+v*v);
return[(I+i)/2,(E+h)/2,_,L]};Q.GJ.o7=function(w,I){var E=w[I];if(E==null)return null;var X=[];E=E.v;
for(var o=0;o<4;o++){var i=E["rectangleCorner"+["A","B","C","D"][o]].v;X.push(i.Hrzn.v,i.Vrtc.v)}return X};
Q.GJ.uY=function(w,I,E){var X=w[I];if(X==null)return null;X=X.v;for(var o=0;o<4;o++){var i="rectangleCorner"+["A","B","C","D"][o];
X[i]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:E[2*o]},Vrtc:{t:"doub",v:E[2*o+1]}}}}};Q.GJ.w0=function(w){return Q.GJ._e(w.keyOriginShapeBBox.v)};
Q.GJ._e=function(w){var I=w.classID,E=w.Left.v,X=w.Rght.v,o=w.Top.v,i=w.Btom.v;if(I=="unitRect"||I=="radii"||I=="Rctn"){E=E.val;
X=X.val;o=o.val;i=i.val}return[E,o,X,i]};Q.GJ.mf=function(w,I){Q.GJ.XI(w.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],I)};
Q.GJ.tv=function(w){return Q.GJ.B5(w.keyOriginRRectRadii.v)};Q.GJ.B5=function(w){var I=[],E=["topLeft","topRight","bottomRight","bottomLeft"];
for(var X=0;X<4;X++)I.push(w[E[X]].v.val);return I};Q.GJ.p1=function(w,I){Q.GJ.XI(w.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],I)};
Q.GJ.XI=function(w,I,E){var X=w.classID;if(X=="unitRect"||X=="radii"||X=="Rctn"){for(var P=0;P<4;P++)if(E[P]!=null)w[I[P]]={t:"UntF",v:{type:"#Pxl",val:E[P]}}}else{for(var P=0;
P<4;P++)if(E[P]!=null)w[I[P]]={t:"doub",v:E[P]}}};Q.GJ.sH=function(w){var I=w.keyOriginLineStart.v,E=w.keyOriginLineEnd.v;
return[I.Hrzn.v,I.Vrtc.v,E.Hrzn.v,E.Vrtc.v]};Q.GJ.au1=function(w,I){var E=w.keyOriginLineStart.v,X=w.keyOriginLineEnd.v;
E.Hrzn.v=I[0];E.Vrtc.v=I[1];X.Hrzn.v=I[2];X.Vrtc.v=I[3]};Q.GJ.auG=function(w){var I=[],E=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var P=0;P<5;P++){var X=w["keyOriginLineArr"+E[P]];if(X==null)return null;I[P]=X.v}return I};Q.GJ.alJ=function(w,I){w.keyOriginLineArrowSt={t:"bool",v:I[0]};
w.keyOriginLineArrowEnd={t:"bool",v:I[1]};w.keyOriginLineArrWdth={t:"doub",v:I[2]};w.keyOriginLineArrLngth={t:"doub",v:I[3]};
w.keyOriginLineArrConc={t:"long",v:I[4]}};Q.GJ.ac2=function(w){function I(S,u){return Math.abs(S-u)<.5}function E(S,u){return I(S.x,u.x)&&I(S.y,u.y)}function X(S,u,p,f,d,l,A){for(var P=0;
P<A;P++){var B=S[u+(p+P)%A],e=f[d+(l+P)%A];if(!(E(B.H,e.H)&&E(B.DX,e.DX)&&E(B.kk,e.kk)))return!1}return!0}var o=[],i=Q.O.RZ(w);
for(var h=0;h<i;h++){var k=null,x=Q.O.ny(w,h),j=w[x];if(j.length==4||j.length==8){var v=Q.O.s_(w.slice(0,2).concat(w.slice(x,x+j.length+1)));
x=2;if(j.length==4){var _=Q.O.b6(v,x+1,4),L=_.x,U=_.y,T=L+_.q,g=U+_.w;if(_.A()>4){if(Q.O.n7(v.slice(x-2,x+5)))k=Q.GJ.UO(2,[L,U,T,g],[0,0,0,0]);
else{var D=-1;for(var P=0;P<4;P++)if(I(v[x+1+P].H.y,g))D=P;if(D!=-1){var b=Q.O.cw.z9(L,U,T-L,g-U),N=X(v,x+1,D,b,3,0,4);
if(N)k=Q.GJ.UO(5,[L,U,T,g])}}}}if(j.length==8){var _=Q.O.b6(v,x+1,8),L=_.x,U=_.y,T=L+_.q,g=U+_.w;if(_.A()>4){var D=-1;
for(var P=0;P<8;P++)if(I(v[x+1+(P+1&7)].H.y,U)&&I(v[x+1+(P+2&7)].H.y,U))D=P;if(D!=-1){var C=Math.abs(v[x+1+D].H.y-U),Z=[C,C,C,C];
if(C>.5){var b=Q.O.cw.Rect(L,U,T-L,g-U,Z),N=X(v,x+1,D,b,3,0,8);if(N)k=Q.GJ.UO(2,[L,U,T,g],Z)}}}}}o.push(k?k:Q.GJ.xd())}return o};
Q.p={};Q.p.clone=function(w){return{J:w.J.slice(0),C:w.C.slice(0)}};Q.p.Wb=function(w){if(w.length<6)return!0;
var I=w.length-4;for(var P=0;P<I;P+=2)if(!Q.p.mt(w[P],w[P+1],w[P+2],w[P+3],w[P+4],w[P+5]))return!1;if(!Q.p.mt(w[I],w[I+1],w[I+2],w[I+3],w[0],w[1]))return!1;
if(!Q.p.mt(w[I+2],w[I+3],w[0],w[1],w[2],w[3]))return!1;return!0};Q.p.mt=function(w,I,E,X,o,i){return(I-X)*(o-E)+(E-w)*(i-X)>=0};
Q.p.Qe=function(w){var I={},E=null,X=0,o={M:2,L:2,Q:4,C:6},i="",h="";for(var P=0;P<w.J.length;P++){var k=w.J[P];
if(k[0]=="#")i=k;else if(k[0]=="X")i="";else if(k[0]=="O"&&k[1]=="-")h=k;else if(k=="OX")h="";else{var x=i+h;
E=I[x];if(E==null)E=I[x]={C:[],J:[]};E.J.push(k);var j=o[k];if(j==null)j=0;for(var v=0;v<j;v++)E.C.push(w.C[X+v]);
X+=j}}return I};Q.p.$E=function(w,I,E){var X=w[I]-w[E-2],o=w[I+1]-w[E-1];return X*X+o*o<1e-4};Q.p.PY=function(w,I,E){w=Q.p.YN(w);
var X=w.C,o=w.J,i=0,h="",k=0,x=0,i=0,_=null;for(var P=0;P<o.length;P++){var j=o[P];if(j=="M"){k=X[i];
x=X[i+1];i+=2;h=j}if(j=="C"){if(h=="Z"){o.splice(P,0,"M");X.splice(i,0,k,x);P--;continue}i+=6;h=j}if(j=="Z"){h=j}}var v=[];
i=0;for(var P=0;P<o.length;P++){var j=o[P];if(j=="M"){_={NP:i,bQ:0,Ji:!1};v.push(_);i+=2}if(j=="C"){_.bQ++;
i+=6}if(j=="Z"&&_!=null){_.Ji=!0}}var L=[];for(var P=0;P<v.length;P++)if(v[P].bQ!=0)L.push(v[P]);v=L;
for(var P=0;P<v.length;P++){var U=v[P],n=U.NP,a=n+2+U.bQ*6,g=0;U.iM=Q.p.zK(X,n,a);var T=Q.p.$E(X,n,a);
for(var D=0;D<U.bQ;D++){var b=n+D*6,N=b+6;g+=(X[N]-X[b])*(X[N+1]+X[b+1])}if(U.bQ==2){var C=function(ax,iW,y){var hm=1-y;
return hm*hm*hm*ax[iW]+3*hm*hm*y*ax[iW+2]+3*hm*y*y*ax[iW+4]+y*y*y*ax[iW+6]},Z=X[n],S=X[n+1],u=X[n+6],p=X[n+7],f=X[n+6],d=X[n+7],l=C(X,n,.5),A=C(X,n+1,.5),B=C(X,n+6,.5),e=C(X,n+7,.5);
g=(l-Z)*(A-S)+(u-l)*(p-A)+(B-u)*(e-p)+(f-B)*(d-e)}if(!T)g+=(X[n]-X[a-2])*(X[n+1]+X[a-1]);U.u4=g<=0}for(var P=0;
P<v.length-1;P++)for(var b=P+1;b<v.length;b++){var m=v[P],$=v[b];if($.iM.RP(m.iM)){v[P]=$;v[b]=m}}var V=v.length==0?!0:v[0].u4,H=[{type:6},{type:8,all:0}];
for(var P=0;P<v.length;P++){var U=v[P],n=U.NP,a=n+2+U.bQ*6,T=Q.p.$E(X,n,a),F=U.Ji||T?0:3,G=U.u4==V&&!I?1:0;
if(!I&&P!=0){if(v[P-1].iM.RP(U.iM)&&v[P-1].u4!=U.u4)G=0;for(var b=0;b<v.length;b++)if(b!=P&&v[b].iM.RP(U.iM))G=0}H.push({type:F,length:U.bQ+(T?0:1),KP:E?1:G,mr:2});
for(var b=0;b<U.bQ;b++){var i=n+b*6,J=new a5(X[i],X[i+1]),c=new a5(X[i+2],X[i+3]),r;if(b==0){if(T){r=new a5(X[a-4],X[a-3]);
if(a5.GZ(r,J)<1e-5)r=J.clone()}else r=J.clone()}else r=new a5(X[i-2],X[i-1]);H.push({type:F+2,DX:r,H:J,kk:c})}if(!T){var s=new a5(X[a-2],X[a-1]);
H.push({type:F+2,DX:new a5(X[a-4],X[a-3]),H:s,kk:s.clone()})}}for(var b=0;b<H.length;b++){var z=H[b];
if(z.type>5||z.type==0||z.type==3)continue;var Y=z.DX.ZQ(z.H)||z.kk.ZQ(z.kk);if(!Y){var m=z.DX.x*(z.H.y-z.kk.y)+z.H.x*(z.kk.y-z.DX.y)+z.kk.x*(z.DX.y-z.H.y);
if(Math.abs(m)<1e-6)Y=!0}if(Y)z.type--}return H};Q.p.l1=function(w,I){var E=Q.O.RZ(w),X=[];for(var P=2;
P<w.length;P++){var o=w[P].KP;if(o!=null){if(o==2||o==0||o==3)X.push(o)}}var i=X.length!=0;if((i||I)&&w.length<15e3&&1<E&&E<200)w=Q.O.B9(w);
var h=Q.p.x7(w);return{bz:h,lw:i?1:0}};Q.p.x7=function(){function w(X,o,i,h){if(!h&&X.kk.ZQ(X.H)&&o.DX.ZQ(o.H)){i.C.push(o.H.x,o.H.y);
i.J.push("L")}else{var k=X.H,x=X.kk,j=o.DX,v=o.H,_=3/2*x.x-1/2*k.x,L=3/2*x.y-1/2*k.y,U=3/2*j.x-1/2*v.x,n=3/2*j.y-1/2*v.y,a=U-_,T=n-L;
if(!h&&a*a+T*T<.001){i.C.push((_+U)*.5,(L+n)*.5,v.x,v.y);i.J.push("Q")}else{i.C.push(x.x,x.y,j.x,j.y,v.x,v.y);
i.J.push("C")}}}function I(X,o,P,i,h,k){var x=o[P];X.C.push(x.H.x,x.H.y);X.J.push("M");for(var j=P;j<P+i-1;
j++)w(o[j],o[j+1],X,k);if(!h)w(o[j],o[P],X,k)}function E(X,o){X=Q.O.s_(X);if(o==null)o=!1;var i={C:[],J:[]};
for(var P=0;P<X.length;P++){if(X[P].type>5)continue;var h=X[P].length;if(h==0)continue;if(P==X.length-1)break;
var k=X[P].type==3;I(i,X,P+1,h,k,o);if(!k)i.J.push("Z");P+=h}return i}return E}();Q.p.ap6=function(w){var I=w.C,E=[],X,o=0;
for(var P=0;P<w.J.length;P++){var i=w.J[P];if(i=="C"){X.push(I[o++],I[o++],I[o++],I[o++],I[o++],I[o++])}else if(i=="Z"){}else{X=[];
if(i!="M"){X.push(i);P++}X.push(I[o++],I[o++]);E.push(X)}}return E};Q.p.Z1=function(w,I,E,X){if(X==null)X=1e9;
var o=1e9,i=0;for(var P=0;P<w.length;P+=2){var h=I-w[P],k=E-w[P+1],x=h*h+k*k;if(x<o){o=x;i=P>>>1}}return o<X*X?i:-1};
Q.p.RW=function(w,I,E,X){for(var P=0;P<w.length;P+=2){var o=w[P],i=w[P+1],h=I[P],k=I[P+1];E[P]=o+(h-o)*X;
E[P+1]=i+(k-i)*X}};Q.p.F=function(w,I,E){for(var P=0;P<w.length;P+=2){var X=w[P],o=w[P+1];E[P]=X*I.lV+o*I.I5+I.N9;
E[P+1]=X*I.L+o*I.cA+I.Zt}};Q.p.zK=function(w,I,E){if(I==null)I=0;if(E==null)E=w.length;var X=99999999999,o=-X,i=99999999999,h=-i;
for(var P=I;P<E;P+=2){var k=w[P],x=w[P+1];X=Math.min(X,k);i=Math.min(i,x);o=Math.max(o,k);h=Math.max(h,x)}return new dC(X,i,o-X,h-i)};
Q.p.MM=function(w,I){var E=Math.max(I.x,Math.min(I.x+I.q,w.x)),X=Math.max(I.y,Math.min(I.y+I.w,w.y)),o=w.x-E,i=w.y-X;
return Math.sqrt(o*o+i*i)};Q.p.i1=function(w){if(w.qo())return new dC(Math.floor(w.x),Math.floor(w.y),Math.ceil(w.q),Math.ceil(w.w));
var I=Math.floor(w.x),E=Math.ceil(w.x+w.q),X=Math.floor(w.y),o=Math.ceil(w.y+w.w);return new dC(I,X,E-I,o-X)};
Q.p.uh=function(w){return Q.p.i1(Q.p.zK(w))};Q.p.sy=function(w){var I=w.x,E=w.y,X=w.x+w.q,o=w.y+w.w;
return{J:["M","L","L","L","Z"],C:[I,E,X,E,X,o,I,o]}};Q.p.concat=function(w,I,E){if(E==null)E=new am;
for(var P=0;P<I.C.length;P+=2){var X=I.C[P],o=I.C[P+1];w.C.push(X*E.lV+o*E.I5+E.N9);w.C.push(X*E.L+o*E.cA+E.Zt)}for(var P=0;
P<I.J.length;P++)w.J.push(I.J[P])};Q.p.a1y=function(w,I,E,X,o){function i(L,U,n){return new a5(L.x*(1-n)+U.x*n,L.y*(1-n)+U.y*n)}var h=i(w,I,o),k=i(E,X,o),x=i(I,E,o),j=i(h,x,o),v=i(x,k,o),_=i(j,v,o);
return[h,j,_,v,k]};Q.p.YN=function(w){var I=w.C,E=[],X=[],o=0,i=0,h=0,k=0,x=0,j=0,v=0,_=0,L=0,U=0,n=0;
for(var P=0;P<w.J.length;P++){var a=w.J[P];if(a=="M"){i=I[o];h=I[o+1];o+=2;X.push(a);E.push(i,h);U=i;
n=h}else if(a=="C"){k=I[o];x=I[o+1];j=I[o+2];v=I[o+3];_=I[o+4];L=I[o+5];o+=6;X.push(a);E.push(k,x,j,v,_,L);
i=_;h=L}else if(a=="Q"){k=I[o];x=I[o+1];j=I[o+2];v=I[o+3];o+=4;var T=k-i,g=x-h,D=j-k,b=v-x;X.push("C");
E.push(i+2/3*T,h+2/3*g,k+1/3*D,x+1/3*b,j,v);i=j;h=v}else if(a=="L"){k=I[o];x=I[o+1];o+=2;if(k!=i||x!=h){X.push("C");
E.push(i,h,k,x,k,x);i=k;h=x}}else{if(a=="Z"){i=U;h=n}X.push(a)}}return{J:X,C:E}};Q.p.ajZ=function(w){var I=w.C,E=[],X=[],o=0;
for(var P=0;P<w.J.length;P++){var i=w.J[P];if(i=="Q"){var h=I[o-2],k=I[o-1],x=I[o],j=I[o+1],v=I[o+2],_=I[o+3];
o+=4;var L=x-h,U=j-k,n=v-x,a=_-j;X.push("C");E.push(h+2/3*L,k+2/3*U,x+1/3*n,j+1/3*a,v,_)}else{var T=0;
if(i=="M"||i=="L")T=2;else if(i=="C")T=6;for(var g=0;g<T;g++)E.push(I[o+g]);o+=T;X.push(i)}}return{J:X,C:E}};
Q.p.Z6=function(w,I){var E=w.C,X=[],o=[],i=0,h=0,k=0,x=0,j=0,v=0,_=0,L=0,U=0;for(var P=0;P<w.J.length;
P++){var n=w.J[P];if(n=="M"){h=E[i];k=E[i+1];i+=2;o.push(n);X.push(h,k)}else if(n=="C"){x=E[i];j=E[i+1];
v=E[i+2];_=E[i+3];L=E[i+4];U=E[i+5];i+=6;Q.p.vr(h,k,x,j,v,_,L,U,I,o,X,0);h=L;k=U}else o.push(n)}return{J:o,C:X}};
Q.p.vr=function(w,I,E,X,o,i,h,k,x,j,v,_){var L=Math.sqrt((h-w)*(h-w)+(k-I)*(k-I)),U=Math.sqrt((h-o)*(h-o)+(k-i)*(k-i))+Math.sqrt((o-E)*(o-E)+(i-X)*(i-X))+Math.sqrt((E-w)*(E-w)+(X-I)*(X-I)),n=(L+U)/2;
if(n<=x){j.push("C");v.push(E,X,o,i,h,k)}else{var a=0,T=0,g=0,D=0,b=0,N=0,C=0,Z=0,S=0,u=0,p=0,f=0,d=0;
T=(w+E)/2;g=(I+X)/2;D=(E+o)/2;b=(X+i)/2;N=(o+h)/2;C=(i+k)/2;Z=(T+D)/2;S=(g+b)/2;u=(D+N)/2;p=(b+C)/2;
f=(Z+u)/2;d=(S+p)/2;Q.p.vr(w,I,T,g,Z,S,f,d,x,j,v,_+1);Q.p.vr(f,d,u,p,N,C,h,k,x,j,v,_+1)}};Q.p.nG=function(w,I,E,X,o){var i=Date.now(),h=Q.p.a1f(w,I,E);
if(o){console.log("trace polygons",Date.now()-i);i=Date.now()}var k=[];for(var P=0;P<h.length;P++){var x=h[P],j=x[0],v=["M"],_=w[j[1]*I+j[0]];
if(j.length>8)j=Q.p.HY(j,X,x[1]);if(j.length<=4)continue;for(var L=2;L<j.length;L+=2)v.push("L");v.push("Z");
k.push({path:{C:j,J:v},color:_,parent:-1,iM:Q.p.zK(j)})}if(o){console.log("simplify polygons",Date.now()-i);
i=Date.now()}for(var P=1;P<k.length;P++){var U=k[P],n=U.path.C,a=n[0],T=n[1],g=n[2],D=n[3],b=g-a,N=D-T,C=a+.5*b-.001*N,Z=T+.5*N+.001*b;
for(var L=P-1;L>=0;L--){var S=k[L];if(!S.iM.RP(U.iM))continue;if(!a3.Tl(S.path.C,C,Z))continue;U.parent=L;
break}}if(o){console.log("checking parents",Date.now()-i);i=Date.now()}return k};Q.p.a1f=function(w,I,E){var X=I*E,o=new Uint16Array(I*E),h=0;
for(var P=0;P<X;P++)o[P]=w[P];var i=new Uint8Array(I*E);i[1*I+1]=i[(E-1)*I+1]=i[1*I+I-1]=i[(E-1)*I+I-1]=1;
for(var k=1;k<E;k++)for(var x=1;x<I;x++){var P=k*I+x,j=o[P-I-1],v=o[P-I],_=o[P-1],L=o[P],U=j==L&&v==_&&j!=v,n=0;
if(L<_){h=L;L=_;_=h}if(_<v){h=_;_=v;v=h}if(v<j){h=v;v=j;j=h}if(L<_){h=L;L=_;_=h}if(_<v){h=_;_=v;v=h}if(L<_){h=L;
L=_;_=h}if(j!=v)n++;if(v!=_)n++;if(_!=L)n++;if(L!=j)n++;if(n>=3||U)i[P]=1}var a=[];for(var k=1;k<E;k++)for(var x=1;
x<I;x++){var P=k*I+x;if(o[P]!=o[P-1]){var T=Q.p.ak5(o,I,E,x,k),g=[];for(var D=0;D<T.length;D+=2)if(i[T[D+1]*I+T[D]]==1)g.push(D>>>1);
a.push([T,g]);Q.p.up(o,I,E,x,k)}}return a};Q.p.up=function(w,I,E,X,o){var i=[o*I+X],h=w[o*I+X];w[o*I+X]=65535;
while(i.length!=0){var P=i.pop();w[P]=0;if(w[P+I]==h){i.push(P+I);w[P+I]=65535}if(w[P-I]==h){i.push(P-I);
w[P-I]=65535}if(w[P-1]==h){i.push(P-1);w[P-1]=65535}if(w[P+1]==h){i.push(P+1);w[P+1]=65535}}};Q.p.ak5=function(w,I,E,X,o){var i=[0,-1,1,0,0,1,-1,0],v=1;
function h(L,U,v){var P=j*I+x,n=0;if(v==0)n=P-I;else if(v==1)n=P;else if(v==2)n=P-1;else if(v==3)n=P-I-1;
return w[n]}var k=[],x=X,j=o,_=h(x,j,v);do{k.push(x,j);x+=i[v*2];j+=i[v*2+1];if(h(x,j,v)!=_)v=v+1&3;
else if(h(x,j,v+3&3)!=_)v=v;else if(h(x,j,v+2&3)!=_)v=v+3&3}while(x!=X||j!=o);return k};Q.p.HY=function(w,I,E){var X=w.length-2;
if(E&&E.length!=0){var o=E[0]*2,i=E[E.length-1]*2,h=o==0?X:o-2,k=w.slice(i);for(var P=0;P<o;P++)k.push(w[P]);
if(o==i)k.push(.9*w[o]+.1*w[h],.9*w[o+1]+.1*w[h+1]);else k.push(w[o],w[o+1]);k=Q.p.Rn(k,I);k.pop();k.pop();
for(var P=0;P<E.length-1;P++){var x=w.slice(E[P]*2,E[P+1]*2+2);x=Q.p.Rn(x,I);for(var j=0;j<x.length-2;
j++)k.push(x[j])}return k}var v=w.slice(0);v.push(.9*w[0]+.1*w[X],.9*w[1]+.1*w[X+1]);v=Q.p.Rn(v,I);v.pop();
v.pop();return v};Q.p.Rn=function(w,I){var E=w.length-2,X=w[0],o=w[1],i=w[E],h=w[E+1],k=i-X,x=h-o,j=1/Math.sqrt(k*k+x*x),v=i*o-h*X,_=-1,L=-1,U=0;
for(var P=2;P<E;P+=2){var n=w[P],a=w[P+1],T=a*a*1e6+n*n,g=Math.abs(x*n-k*a+v)*j;if(g>L||g==L&&T>U){L=g;
_=P;U=T}}if(L<I)return[X,o,i,h];var D=Q.p.Rn(w.slice(0,_+2),I),b=Q.p.Rn(w.slice(_),I);for(var P=2;P<b.length;
P++)D.push(b[P]);return D};Q.p.amY=function(){var w=function(X,o,i,h,k,x){return(o-h)*(k-i)+(i-X)*(x-h)>=0},I=function(X,o,i,h,k,x,j,v){var _=j-i,L=v-h,U=k-i,n=x-h,a=X-i,T=o-h,g=_*_+L*L,D=_*U+L*n,b=_*a+L*T,N=U*U+n*n,C=U*a+n*T,Z=1/(g*N-D*D),S=(N*b-D*C)*Z,u=(g*C-D*b)*Z;
return S>=0&&u>=0&&S+u<1},E=function(X){var eS=X.length>>>1,P=0;if(eS<3)return[];var o=[],i=[];for(var P=0;
P<eS;P++)i.push(P);var h=eS;while(h>3){var k=i[(P+0)%h],x=i[(P+1)%h],j=i[(P+2)%h],v=X[2*k],_=X[2*k+1],L=X[2*x],U=X[2*x+1],n=X[2*j],a=X[2*j+1],T=!1;
if(w(v,_,L,U,n,a)){T=!0;for(var g=0;g<h;g++){var D=i[g];if(D==k||D==x||D==j)continue;if(I(X[2*D],X[2*D+1],v,_,L,U,n,a)){T=!1;
break}}}if(T){o.push(k,x,j);i.splice((P+1)%h,1);h--;P=0}else if(P++>3*h)break}o.push(i[0],i[1],i[2]);
return o};return E}();Q.p.aq9=function(w,I){var E={},X={J:[],C:[]};for(var P=0;P<I.length;P+=3){var o=I[P]*2,i=I[P+1]*2,h=I[P+2]*2;
Q.p.S5(w,o,i,X,E);Q.p.S5(w,o,h,X,E);Q.p.S5(w,i,h,X,E)}return X};Q.p.S5=function(w,I,E,X,o){if(I>E){var i=E;
E=I;I=i}if(o[I+","+E])return;o[I+","+E]=!0;X.J.push("M","L");X.C.push(w[I],w[I+1],w[E],w[E+1])};Q.p.xO=function(w,I){var E=[],X=w.length;
for(var P=0;P<X;P+=2){var o=w[P],i=w[P+1],h=w[(P+2)%X],k=w[(P+3)%X];if(k<i){var x=i;i=k;k=x}if(i<I&&I<k){var j=(I-i)/(k-i);
E.push(o+j*(h-o))}}E.sort(function(v,_){return v-_});return E};Q.p.q0=function(w,I,E,X,o,i,h){var k=w-E,x=I-X,j=o-E,v=i-X,_=1/Math.sqrt(k*k+x*x),L=1/Math.sqrt(j*j+v*v),U=k*_,n=x*_,a=j*L,T=v*L,g=n*h,D=-U*h,b=-T*h,N=a*h,C=Q.p.HB(g,D,U,n,b,N,a,T),Z=g+U*C,S=D+n*C,C=Q.p.HB(0,0,U,n,Z,S,-n,U),u=U*C,p=n*C;
return[Math.sqrt(u*u+p*p),U,n,a,T]};Q.p.agw=function(w,I,E,X,o,i,h){var k=Q.p.q0(w,I,E,X,o,i,h),x=k[0],j=k[1],v=k[2],_=k[3],L=k[4],U=Math.atan2(j*L-v*_,j*_+v*L);
if(U<0){U=U*-1}var n=Math.PI-U,a=4/3*Math.tan(n/4),T=E+x*j,g=X+x*v,D=E+x*_,b=X+x*L,N=T+a*h*-j,C=g+a*h*-v,Z=D+a*h*-_,S=b+a*h*-L;
return[0,0,T,g,N,C,Z,S,D,b]};Q.p.HB=function(w,I,E,X,o,i,h,k){var x=h*(I-i)-k*(w-o),j=k*E-h*X;if(j==0)return 0;
return x/j};Q.p.aqz=function(w,I,E,X,o,i){return w*(X-i)+E*(i-I)+o*(I-X)};Q.p.axd=function(w){function I(B,e,m,$,V,H,F,G,J){var c=Q.p.HB(B,e,m,$,V,H,F,G);
J.push(B+m*c,e+$*c)}var E=[],X=w.length,o=[];for(var P=0;P<X;P+=2){var i=P==0?X-2:P-2,h=P==X-2?0:P+2,k=w[P],x=w[P+1],j=k-w[i],v=x-w[i+1],_=w[h]-k,L=w[h+1]-x,U=Math.sqrt(j*j+v*v),n=Math.sqrt(_*_+L*L);
o.push(n);var a=U/(U+n),T=k-j*.5,g=x-v*.5,D=k+_*.5,b=x+L*.5,N=(w[h]+w[i])*.5,C=(w[h+1]+w[i+1])*.5,Z=T+a*(D-T),S=g+a*(b-g),u=k-Z,p=x-S,f=(_*-j+L*-v)/(U*n),d=(a-.5)*7,l=1+d*a,A=1-d*(1-a);
E.push(T+u*l,g+p*l,D+u*A,b+p*A)}return E};Q.Yf=function(){};Q.Yf.Yn=function(w,I,E,X,o){var i=E.q,h=E.w,k=i*h,x=new Int32Array(k),eS=0;
for(var P=0;P<k;P++)if(I[P]!=0){x[P]=eS;eS++}else if(w[(P<<2)+3]<200){x[P]=-2}else x[P]=-1;if(eS==0)return;
var j=new Q.Jj(eS,eS),v=new Array(3*eS),_=new Array(3*eS);for(var P=0;P<_.length;P++)_[P]=v[P]=0;var L=1/255,U=[-i,-1,1,i],n=[],a=[];
for(var T=0;T<h;T++)for(var g=0;g<i;g++){var D=T*i+g,b=D<<2,P=x[D],N=P*3,C=0,Z=0,S=0;if(P==-1||P==-2)continue;
for(var u=0;u<4;u++){if(u==2){Z=S;n[S]=0;a[S]=P;S++}var p=D+U[u],f=p<<2,d=x[p];if(u==0&&T==0||u==1&&g==0||u==2&&g==i-1||u==3&&T==h-1||d==-2)continue;
C++;if(d==-1){v[N+0]+=w[f+0];v[N+1]+=w[f+1];v[N+2]+=w[f+2]}else{n[S]=-1;a[S]=d;S++;if(I[D]==I[p]){v[N+0]+=w[b+0]-w[f+0];
v[N+1]+=w[b+1]-w[f+1];v[N+2]+=w[b+2]-w[f+2]}}}n[Z]=C;j.wA(n,a,S)}for(var P=0;P<k;P++)if(x[P]!=-1){var l=P<<2,A=x[P],B=A*3;
_[B]=w[l+0];_[B+1]=w[l+1];_[B+2]=w[l+2]}var e=Date.now();j.a0v(_,v,X,o);console.log(Date.now()-e);for(var P=0;
P<k;P++){var A=x[P],m=A*3,l=P<<2;if(A==-1||w[l+3]!=255)continue;w[l+0]=~~(.5+Math.max(0,Math.min(255,_[m+0])));
w[l+1]=~~(.5+Math.max(0,Math.min(255,_[m+1])));w[l+2]=~~(.5+Math.max(0,Math.min(255,_[m+2])))}};Q.rect={};
Q.rect.qJ=function(w,I){var E=[w],X=[];for(var P=0;P<I.length;P++){var o=I[P],i=!1;for(var h=P+1;h<I.length;
h++){var k=I[h];if(k[0]<=o[0]&&k[1]<=o[1]&&o[2]<=k[2]&&o[3]<=k[3]){i=!0;break}}if(!i)X.push(o)}I=X;for(var P=0;
P<I.length;P++){var o=I[P];for(var h=0;h<E.length;h++){var k=E[h],x=Math.max(o[0],k[0]),j=Math.min(o[2],k[2]),v=Math.max(o[1],k[1]),_=Math.min(o[3],k[3]);
if(x<j&&v<_){var L=[];if(k[1]<o[1]){var U=k.slice(0);U[3]=o[1];L.push(U)}if(k[0]<o[0]){var n=k.slice(0);
n[1]=v;n[2]=o[0];L.push(n)}if(o[2]<k[2]){var a=k.slice(0);a[1]=v;a[0]=o[2];L.push(a)}if(o[3]<k[3]){var T=[x,_,j,k[3]];
L.push(T)}if(L.length!=0){E[h]=L[0];for(var g=1;g<L.length;g++)E.push(L[g])}}}E.push(o);E=Q.rect.a7l(E)}E.sort(function(o,k){return o[1]!=k[1]?o[1]-k[1]:o[0]-k[0]});
for(var P=1;P<E.length;P++){var o=E[P-1],k=E[P];if(o[0]==k[0]&&o[1]==k[1]&&o[2]==k[2]&&o[3]==k[3]){E.splice(o[4]==null?P-1:P,1);
P--}}return E};Q.rect.a7l=function(w){w=w.slice(0);for(var P=0;P<w.length;P++){var I=w[P],E=null;if(I[4]!=null)continue;
for(var X=0;X<w.length;X++){var o=w[X];if(P==X||o[4]!=null)continue;var i=I[0]==o[0],h=I[1]==o[1],k=I[2]==o[2],x=I[3]==o[3];
if(h&&x&&(I[2]==o[0]||I[0]==o[2])){E=[Math.min(I[0],o[0]),I[1],Math.max(I[2],o[2]),I[3]]}if(i&&k&&(I[3]==o[1]||I[1]==o[3])){E=[I[0],Math.min(I[1],o[1]),I[2],Math.max(I[3],o[3])]}if(E){w[P]=E;
w.splice(X,1);break}}if(E){P--}}return w};Q.rect.Ak=function(w){var I=new dC;for(var P=0;P<w.length;
P++)I=I.jB(w[P]);return I};Q.rect.a0H=function(w,I){var E=Q.rect.Ak,X=new UnionFind(w.length),Z=1e3,S=1e3;
for(var P=0;P<w.length;P++)for(var o=P+1;o<w.length;o++){if(!I)continue;var i=w[P],h=w[o],_=1e9,L=1e9;
if(i.XU(h)){X.link(P,o);continue}var k=i.x+i.q,x=i.y+i.w,j=h.x+h.q,v=h.y+h.w;if((k<h.x||j<i.x)&&(x<h.y||v<i.y))continue;
if(!(x<h.y||v<i.y))_=Math.min(Math.abs(k-h.x),Math.abs(i.x-j));if(!(k<h.x||j<i.x))L=Math.min(Math.abs(x-h.y),Math.abs(i.y-v));
var U=Math.min(_,L),n=Math.min(i.q,i.w,h.q,h.w);if(U<.3*n)X.link(P,o)}var a=[],T={};for(var P=0;P<w.length;
P++){var g=X.find(P),D=w[P];if(T[g]==null){T[g]=a.length;a.push([])}a[T[g]].push(D)}var b=[],N=[];for(var P=0;
P<a.length;P++){b.push(E(a[P]));var C=E(a[P]);C.je=P;N.push(C)}N.sort(function($,V){return Math.max(V.w,V.q)-Math.max($.w,$.q)});
var u=new NETXUS.RectanglePacker(Z,S);while(!0){var p=!1;u.reset(Z,S);for(var P=0;P<N.length;P++){var f=u.findCoords(N[P].q,N[P].w);
if(f){N[P].x=f.x;N[P].y=f.y}else{Z=Math.floor(Z*1.1);S=Math.floor(S*1.1);p=!0;break}}if(p)continue;break}for(var P=0;
P<a.length;P++){var d=N[P],l=d.je,A=b[l],B=a[l],e=d.x-A.x,m=d.y-A.y;for(var o=0;o<B.length;o++)B[o].offset(e,m)}};
Q.Ha=function(){};Q.Ha.R1=Math.floor(16*window.devicePixelRatio);Q.Ha.Xr={};Q.Ha.LL=0;Q.Ha.Mu=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
Q.Ha.ans=["px","in","cm","mm","%"];Q.Ha.bY=function(w,I,E,X){var o=[1,I,I/2.54,I/25.4,E/100][X];return w*o};
Q.Ha.anQ=function(w,I,E,X){var o=[1,I,I/2.54,I/25.4,E/100][X];return w/o};Q.Ha.Wo=function(w,I,E,X,o){var i=E.yR.gM,h=[1,I,I/2.54,I/25.4,X/100][i],k=[2,3,2,1,2][i];
w=w/h;var x=Math.round(w),j=i==0&&Math.abs(w-x)<1e-6?x+"":w.toFixed(k);if(o)j+=" "+Q.Ha.ans[i];return j};
Q.Ha.ax2=function(w,I,E,X){var o=E.yR.gM,i=[1,I,I/2.54,I/25.4,X/100][o];w=parseFloat(w)*i;return w};
Q.Ha.at_=function(w,I){var E=w+","+I;if(Q.Ha.Xr.clr==E)return;var X=Math.round(Q.Ha.R1*.5);Q.Ha.LL=X;
var o=document.createElement("canvas");o.width=o.height=X;var i=o.getContext("2d");i.font=X*1.5+"px monospace";
var h="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var P=0;P<h.length;P++){i.fillStyle="#"+Q.mv(I);i.fillRect(0,0,X,X);
i.fillStyle="#"+Q.mv(w);i.fillText(h[P],0,X);Q.Ha.Xr[h[P]]=i.getImageData(0,0,X,X).data}Q.Ha.Xr.clr=E};
Q.Ha.a1l=function(w,I,E){var X=0,o=0,i=4*Q.Ha.R1;for(var P=9;P>=0;P--){var h=Math.pow(10,P);if(5*h*w<=i){X=5*h;
o=10;break}if(2*h*w<=i){X=2*h;o=4;break}if(1*h*w<=i){X=1*h;o=10;break}}if(X==0){X=1;o=10}var k=Math.ceil(X*w),x=Q.$(k*Q.Ha.R1*4);
Q.Ez(x,4278190080|E);for(var P=0;P<Q.Ha.R1;P++)Q.Ha.Kq(x,4*P*k,I);for(var P=0;P<k;P++)Q.Ha.Kq(x,4*((Q.Ha.R1-1)*k+P),I);
if(X==2)o=2;if(X==5)o=5;if(X>1||X==1&&k>20)for(var P=1;P<o;P++)Q.Ha.a8X(x,P*(k/o),k,(P&1)==1?.8:.7,I);
return{L9:x,step:X}};Q.Ha.a8X=function(w,I,E,X,o){var I=Math.round(I);for(var i=Math.round(Q.Ha.R1*X);
i<Q.Ha.R1-1;i++)Q.Ha.Kq(w,4*(i*E+I),o)};Q.Ha.Kq=function(w,I,E){w[I+0]=E>>16&255;w[I+1]=E>>8&255;w[I+2]=E&255};
Q.Ha.au5=function(w,I,E,X,o,i,h){var k=w.mz.q,x=w.mz.w,j=Q.Ha.R1,v=I&255,_=I>>8&255,L=I>>16&255;I=Math.round(v*.6)<<16|Math.round(_*.6)<<8|Math.round(L*.6);
Q.Ha.at_(Math.round(v*.8)<<16|Math.round(_*.8)<<8|Math.round(L*.8),E);var U=w.T,n=w.z,a=w.yn;for(var T=0;
T<2;T++){var g=T==0?i:h;w.T=g[0];w.z=g[1];w.yn=0;var D=this.a1l(w.T,I,E),b=w.sP(0,0),N=w.sP(k,x),C=Math.floor(b.x/D.step)*D.step,Z=Math.ceil(N.x/D.step)*D.step,S=Math.floor(b.y/D.step)*D.step,u=Math.ceil(N.y/D.step)*D.step,p=w.o_(C,S),f=w.o_(Z,S),d=D.step*w.T,l=Math.ceil(d);
if(T==1){var A=D.L9;D.L9=Q.$(A.length*4);Q.K.KQ(A,D.L9,l,j)}var B=T==0?w.oC.data:w.QS.data,e=new dC(0,0,[k,j][T],[j,x][T]),m=new dC(0,0,[l,j][T],[j,l][T]),$=new dC([0,Math.round(j*.2)][T],[Math.round(j*.08),0][T],Q.Ha.LL,Q.Ha.LL),V=(T==0?Z-C:u-S)/D.step;
for(var P=0;P<V;P++){if(T==0)m.x=Math.round(p.x+P*d);else m.y=Math.round(p.y+P*d);Q.D6(D.L9,m,B,e,m);
var H=(T==0?C+P*D.step:Math.abs(S+P*D.step)).toString(10);for(var F=0;F<H.length;F++){if(T==0)$.x=m.x+3+F*Math.round(Q.Ha.LL*.8);
else $.y=m.y+3+F*Math.round(Q.Ha.LL*1.15);var G=Q.Ha.Xr[H[F]];Q.D6(G,$,B,e,$)}}}w.T=U;w.z=n;w.yn=a;var J=Math.floor(j*.6),c=new Uint32Array(w.oC.data.buffer),r=new Uint32Array(w.QS.data.buffer),s=v<128?4278190080:4294967295;
if(0<X&&X<k)for(var P=0;P<J;P++)c[P*k+X]=s;if(0<o&&o<x)for(var P=0;P<J;P++)r[o*j+P]=s};Q.scale={};Q.scale.U=document.createElement("canvas");
Q.scale.vu=Q.scale.U.getContext("2d");Q.scale.nf=document.createElement("canvas");Q.scale.$V=Q.scale.nf.getContext("2d");
Q.scale.Ho=function(w,I,E){var X=Q.scale.U,o=Q.scale.vu;X.width=I;X.height=E;var i=new ImageData(new Uint8ClampedArray(w.buffer),I,E);
o.putImageData(i,0,0);return o.createPattern(X,"repeat")};Q.scale.ru=function(w,I,E,X,o,i,h,k,x){var j=Q.scale.and(w,E,X,o,i,h,k,x).data;
if(I)Q.QM(j,I);return new Uint8Array(j.buffer)};Q.scale.and=function(w,I,E,X,o,i,h,k){var x=Q.scale.U,j=Q.scale.vu;
x.width=I;x.height=E;j.rect(0,0,I,E);j.translate(i,h);j.scale(X,o);if(k!=null)j.rotate(-k);j.fillStyle=w;
j.fill();return j.getImageData(0,0,I,E)};Q.scale.F=function(w,I,E,X,o){var i=E.clone();i.ja();var h=o.q,k=o.w,x=Q.p.sy(I).C;
Q.p.F(x,i,x);var j=Q.p.uh(x).LP(o),v=j.x,_=j.y,L=v+j.q,U=_+j.w,n=~~I.x,a=~~I.y,T=~~I.q,g=~~I.w;for(var D=_;
D<U;D++)for(var b=v;b<L;b++){var N=b+.5,C=D+.5,Z=E.lV*N+E.I5*C+E.N9-n,S=E.L*N+E.cA*C+E.Zt-a;if(0<=Z&&0<=S&&Z<T&&S<g)X[D*h+b]=w[~~S*T+~~Z]}};
Q.scale.HK=function(w,I,E,X,o,i){var h=new Uint32Array(w.buffer),k=new Uint32Array(X.buffer),x=E.clone();
x.ja();var j=o.q,v=o.w,_=Q.p.sy(I).C;Q.p.F(_,x,_);var L=i?o:Q.p.uh(_).LP(o),U=L.x,n=L.y,a=U+L.q,T=n+L.w,g=~~I.x,D=~~I.y,b=~~I.q,N=~~I.w;
for(var C=n;C<T;C++)for(var Z=U;Z<a;Z++){var S=Z+.5,u=C+.5,p=E.lV*S+E.I5*u+E.N9-g,f=E.L*S+E.cA*u+E.Zt-D;
if(i){p=((b<<10)+p)%b;f=((N<<10)+f)%N}if(0<=p&&0<=f&&p<b&&f<N)k[C*j+Z]=h[~~f*b+~~p]}};Q.scale.tE=function(w,I,E,X,o,i,h){if(h<1)Q.scale.a34(w,I,E,X,o,i,Math.round(1/h));
else Q.scale.aeh(w,I,E,X,o,i,h)};Q.scale.Qs=function(w,I,E,X,o,i,h,k){if(k)k=k.LP(new dC(0,0,I,E));w=new Uint32Array(w.buffer);
X=new Uint32Array(X.buffer);if(h<1)Q.scale.adv(w,I,E,X,o,i,Math.round(1/h),k);else Q.scale.aq0(w,I,E,X,o,i,h)};
Q.scale.aeh=function(w,I,E,X,o,i,h){for(var k=0;k<E;k++)for(var x=0;x<I;x++){var j=w[k*I+x],v=Math.min(h,o-x*h),_=Math.min(h,i-k*h);
for(var P=0;P<_;P++)for(var L=0;L<v;L++)X[(h*k+P)*o+h*x+L]=j}};Q.scale.a34=function(w,I,E,X,o,i,h){for(var k=0;
k<i;k++)for(var x=0;x<o;x++){var j=0,v=Math.min(h,I-x*h),_=Math.min(h,E-k*h);for(var P=0;P<_;P++)for(var L=0;
L<v;L++)j+=w[(h*k+P)*I+(h*x+L)];X[k*o+x]=Math.round(j/(v*_))}};Q.scale.aq0=function(w,I,E,X,o,i,h){for(var k=0;
k<E;k++)for(var x=0;x<I;x++){var j=w[k*I+x],v=Math.min(h,o-x*h),_=Math.min(h,i-k*h);for(var P=0;P<_;
P++)for(var L=0;L<v;L++)X[(h*k+P)*o+h*x+L]=j}};Q.scale.aaR=function(w,I,E){return(w>>>E&255)+(I>>>E&255)>>>1};
Q.scale.oY=function(w,I){var E=Q.scale.aaR;return E(w,I,24)<<24|E(w,I,16)<<16|E(w,I,8)<<8|E(w,I,0)};
Q.scale.at6=function(w,I,E,X,o,i){var h=new Uint32Array(w.buffer),k=new Uint32Array(X.buffer);for(var x=0;
x<E;x++){for(var j=0;j<I;j++){var v=x*I+j,_=h[v],L=_,U=_,n=_;if(j<I-1)L=Q.scale.oY(_,h[v+1]);if(x<E-1)U=Q.scale.oY(_,h[v+I]);
if(j<I-1&&x<E-1)n=Q.scale.oY(_,h[v+I+1]);var a=(x*o+j)*2;k[a]=_;k[a+1]=L;k[a+o]=U;k[a+o+1]=n}}if((o&1)==1)for(var x=0;
x<i;x++)k[x*o+o-1]=k[x*o+o-2];var T=o*(i-1);if((i&1)==1)for(var j=0;j<o;j++)k[T+j]=k[T-o+j]};Q.scale.adv=function(w,I,E,X,o,i,h,k){var x=0,j=o,v=0,_=i;
if(k){x=Math.floor(k.x/h);j=Math.ceil((k.x+k.q)/h);v=Math.floor(k.y/h);_=Math.ceil((k.y+k.w)/h)}for(var L=v;
L<_;L++)for(var U=x;U<j;U++){var n=0,a=0,T=0,g=0,D=Math.min(h,I-U*h),b=Math.min(h,E-L*h);for(var P=0;
P<b;P++)for(var N=0;N<D;N++){var C=w[(h*L+P)*I+h*U+N],Z=C>>>24;n+=Z;a+=Z*(C>>>16&255);T+=Z*(C>>>8&255);
g+=Z*(C&255)}if(n!=0){var S=1/n;X[L*o+U]=n/(D*b)<<24|a*S<<16|T*S<<8|g*S}else X[L*o+U]=0}};Q.n=function(){function w(k,x,P){return(128&k[P-x-1]&k[P-x]&k[P-2]&k[P-1]&k[P+1]&k[P+x-1]&k[P+x])==0}function I(k,x,P){return(128&k[P-x-x]&k[P-x+1]&k[P+2]&k[P+x+1]&k[P+x+x])==0}function E(k,x,P){return(k[P-x]&k[P-1]&k[P+1]&k[P+x]&128)==0}function X(k,P){return(k[P]&128)!=0}function o(k,x,j,v){var P=0,_=j.q,L=j.w;
if(v)for(var U=0;U<L;U++)for(var n=0;n<_;n++){if(X(k,P)&&(n<2||U<2||n>_-3||U>L-3||((k[P-1]&128)==0||x[P-1]!=0)&&w(k,_,P)||I(k,_,P)))x[P]=255;
P++}else for(var U=0;U<L;U++)for(var n=0;n<_;n++){if(X(k,P)&&(n==0||U==0||n==_-1||U==L-1||E(k,_,P)))x[P]=255;
P++}}function i(k,x,j,v,_){var L=j.q,U=j.w,n=new Uint8Array(x.buffer),a=new Uint32Array(x.buffer);if(_)for(var T=2;
T<U-2;T++)for(var g=2;g<L-2;g++){var P=T*L+g;if(X(k,P)&&(((k[P-1]&128)==0||a[P-1]!=0)&&w(k,L,P)||I(k,L,P)))a[P]=v[(g+T&4)>>>2]}else for(var T=1;
T<U-1;T++)for(var g=1;g<L-1;g++){var P=T*L+g;if(X(k,P)&&E(k,L,P)){a[P]=v[(g+T&4)>>>2]}}}function h(k,x,j,v,_){var L=j.q,U=j.w,n=0,a=0,T=L,g=U,D=new Uint8Array(x.buffer),b=new Uint32Array(x.buffer);
for(var N=a;N<g;N++)for(var C=n;C<T;C++){var P=N*L+C,Z=k[P];if(v==1)b[P]=255-Z>>>1<<24|255;else b[P]=255<<24|(Z<<16|Z<<8|Z)}}return{at7:o,aeP:i,a5N:h}}();
Q.Cj={};Q.Cj.Y2=function(w,I,E){var X,o;if(E==0){X=w.rect.clone();o=Q.Cj.aqi}if(E==1){X=w.rect.jB(I.rect);
o=Q.Cj.jB}if(E==2){X=I.rect.clone();o=Q.Cj.ayn}if(E==3){X=w.rect.LP(I.rect);o=Q.Cj.LP}if(E==4){X=w.rect.jB(I.rect);
o=Q.Cj.adJ}if(X.qo())return null;var i=Q.$(X.A());Q.b_(I.channel,I.rect,i,X);var h=Q.$(X.A());Q.b_(w.channel,w.rect,h,X);
o(h,i,i);var k=Q.dM(i,X);if(k.qo())return null;if(!k.ZQ(X)){var x=Q.$(k.A());Q.b_(i,X,x,k);i=x;X=k}return{channel:i,rect:X}};
Q.Cj.aqi=function(w,I,E){for(var P=0;P<w.length;P++)E[P]=w[P]};Q.Cj.jB=function(w,I,E){for(var P=0;P<w.length;
P++)E[P]=Math.min(w[P]+I[P],255)};Q.Cj.ayn=function(w,I,E){for(var P=0;P<w.length;P++)E[P]=Math.max(I[P]-w[P],0)};
Q.Cj.LP=function(w,I,E){var X=1/255;for(var P=0;P<w.length;P++)E[P]=w[P]*I[P]*X};Q.Cj.adJ=function(w,I,E){var X=1/255;
for(var P=0;P<w.length;P++)E[P]=Math.min(w[P]+I[P],255)-w[P]*I[P]*X};Q.Jj=function(w,I){this.t=[];this.LN=[0];
this.Bf=[];this.Hf=[];this.OQ=[0];this.Oe=[];this.AR=[];this.rows=w;this.cols=I};Q.Jj.prototype.clone=function(){var w=this,I=w.rows,E=w.cols,X=new Q.Jj(I,E);
X.t=w.t.slice(0);X.LN=w.LN.slice(0);X.Bf=w.Bf.slice(0);X.Hf=w.Hf.slice(0);X.OQ=w.OQ.slice(0);X.Oe=w.Oe.slice(0);
X.AR=w.AR.slice(0);return X};Q.Jj.prototype.wA=function(w,I,E){var X=this.LN.length-1;for(var P=0;P<E;
P++){var o=w[P],i=I[P];this.t.push(o);this.Bf.push(i);if(i==X){this.AR.push(o==0?0:1/o)}else{this.Hf.push(o);
this.Oe.push(i)}}this.LN.push(this.t.length);this.OQ.push(this.Hf.length)};Q.Jj.prototype.Na=function(w,I){var E=this,X=E.rows,o=E.t,i=E.Bf;
if(I==null)I=new Array(X);for(var P=0;P<X;P++){var h=E.LN[P],k=E.LN[P+1],x=0;while((k-h&3)!=0){x+=o[h]*w[i[h]];
h++}for(var j=h;j<k;j+=4)x+=o[j]*w[i[j]]+o[j+1]*w[i[j+1]]+o[j+2]*w[i[j+2]]+o[j+3]*w[i[j+3]];I[P]=x}return I};
Q.Jj.prototype.multiply=function(w){return this.FA(w.KQ())};Q.Jj.prototype.FA=function(w){var I=this,E=I.rows,X=I.cols,o=w.rows,i=new Q.Jj(E,o),h=I.Bf,k=w.Bf;
for(var P=0;P<E;P++){var x=[],j=[],v=I.LN[P],_=I.LN[P+1];for(var L=0;L<o;L++){var U=w.LN[L],n=w.LN[L+1],a=0,T=v,g=U;
while(T<_&&g<n){var D=Math.max(h[T],k[g]);while(T<_&&h[T]<D)T++;while(g<n&&k[g]<D)g++;if(T<_&&g<n&&h[T]==k[g])a+=I.t[T++]*w.t[g++]}if(a!=0){x.push(a);
j.push(L)}}i.wA(x,j,x.length)}return i};Q.Jj.prototype.KQ=function(){var w=this.rows,I=this.cols,E=[];
for(var P=0;P<I;P++)E.push([[],[]]);var X=this.t,o=this.LN,i=this.Bf;for(var P=0;P<w;P++){var h=o[P],k=o[P+1];
for(var x=h;x<k;x++){var j=E[i[x]];j[0].push(X[x]);j[1].push(P)}}var v=new Q.Jj(I,w);for(var P=0;P<I;
P++)v.wA(E[P][0],E[P][1],E[P][1].length);return v};Q.Jj.prototype.Cb=function(){var w=this.rows,I=this.cols,E=new Array(w),X=this.t,o=this.LN,i=this.Bf;
for(var P=0;P<w;P++){var h=E[P]=new Array(I);for(var k=0;k<I;k++)h[k]=0;var x=o[P],j=o[P+1];for(var v=x;
v<j;v++)h[i[v]]=X[v]}return E};Q.Jj.prototype.BW=function(w,I,E,X,o){function i(S,I,u,p){var f=S.length;
for(var P=0;P<f;P++)p[P]=S[P]-I[P]*u}function h(S,I,u,p){var f=S.length,d=0;while((f-d&3)!=0){p[d]=S[d]+I[d]*u;
d++}for(var P=d;P<f;P+=4){p[P]=S[P]+I[P]*u;p[P+1]=S[P+1]+I[P+1]*u;p[P+2]=S[P+2]+I[P+2]*u;p[P+3]=S[P+3]+I[P+3]*u}}function k(S,I,u){var p=S.length;
for(var P=0;P<p;P++)u[P]=S[P]*I[P]}function x(S,I){var u=S.length,p=0,f=0;while((u-p&3)!=0){f+=S[p]*I[p];
p++}for(var P=p;P<u;P+=4)f+=S[P]*I[P]+S[P+1]*I[P+1]+S[P+2]*I[P+2]+S[P+3]*I[P+3];return f}var j=X!=null?2:1,v=Date.now(),_=0,L=this,U=w.slice(0),n=w.slice(0);
L.Na(w,n);i(I,n,1,U);var a=this.AR;if(j==0){a=U.slice(0);a.fill(1)}var T=U.slice(0);k(a,U,T);var g=T.slice(0),D=x(U,T);
while(!0){L.Na(g,n);var b=D/x(g,n);h(w,g,b,w);i(U,n,b,U);if((_&7)==0&&Math.sqrt(x(U,U))<E)break;if(j<=1)k(a,U,T);
else{var N=U.slice(0);X.asH(N,U);o.ar3(T,N)}var C=x(U,T),Z=C/D;h(T,g,Z,g);D=C;_++}};Q.Jj.prototype.a6r=function(w,I,E,X){var o=Date.now(),i=1.96,k=0;
if(E==null)E=5e-6;if(X==null)X=1e9;var h=1-i,eS=this.rows,x=this.Hf,j=this.OQ,v=this.Oe,_=this.AR;while(!0){var L=0;
for(var P=0;P<eS;P++){var U=I[P],n=j[P],a=j[P+1];if(a-n==4)U-=x[n]*w[v[n]]+x[n+1]*w[v[n+1]]+x[n+2]*w[v[n+2]]+x[n+3]*w[v[n+3]];
else for(var T=n;T<a;T++)U-=x[T]*w[v[T]];var g=w[P]*h+_[P]*U*i,D=g-w[P];L+=D*D;w[P]=g}if(L/eS<E||Date.now()>o+X)break}};
Q.Jj.prototype.a0v=function(w,I,E,X){var o=Date.now(),i=1.96,k=0;if(E==null)E=5e-5;if(X==null)X=1e9;
var h=1-i,eS=this.rows,x=this.Hf,j=this.OQ,v=this.Oe,_=this.AR;while(!0){var L=0;for(var P=0;P<eS;P++){var U=P*3,n=I[U],a=I[U+1],T=I[U+2],g=j[P],D=j[P+1];
for(var b=g;b<D;b++){var N=x[b],C=v[b]*3;n-=N*w[C+0];a-=N*w[C+1];T-=N*w[C+2]}var Z=_[P]*i,S=w[U+0]*h+n*Z,u=w[U+1]*h+a*Z,p=w[U+2]*h+T*Z,f=S-w[U+0],d=u-w[U+1],l=p-w[U+2];
L+=.4*f*f+.5*d*d+.1*l*l;w[U+0]=S;w[U+1]=u;w[U+2]=p}if(L/eS<E||Date.now()>o+X)break}};Q.sD={};Q.sD.DA=function(w,I,E){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:w},Vrtc:{t:"doub",v:I},Cnty:{t:"bool",v:E}}}};
Q.sD.F=function(w,I){for(var P=0;P<w.length;P++){var E=w[P].v,X=I.kG(new a5(E.Hrzn.v,E.Vrtc.v));E.Hrzn.v=Math.round(X.x);
E.Vrtc.v=Math.round(X.y)}};Q.sD.as=function(w,I,E){var eS=w.length-1,X=Q.Ea.ZC(eS+1,eS+2);for(var P=1;
P<eS;P++){X[P][P-1]=1/(w[P]-w[P-1]);X[P][P]=2*(1/(w[P]-w[P-1])+1/(w[P+1]-w[P]));X[P][P+1]=1/(w[P+1]-w[P]);
X[P][eS+1]=3*((I[P]-I[P-1])/((w[P]-w[P-1])*(w[P]-w[P-1]))+(I[P+1]-I[P])/((w[P+1]-w[P])*(w[P+1]-w[P])))}X[0][0]=2/(w[1]-w[0]);
X[0][1]=1/(w[1]-w[0]);X[0][eS+1]=3*(I[1]-I[0])/((w[1]-w[0])*(w[1]-w[0]));X[eS][eS-1]=1/(w[eS]-w[eS-1]);
X[eS][eS]=2/(w[eS]-w[eS-1]);X[eS][eS+1]=3*(I[eS]-I[eS-1])/((w[eS]-w[eS-1])*(w[eS]-w[eS-1]));Q.Ea.Hu(X,E)};
Q.sD.anX=function(w,I,E,X){if(w<=I[0])return E[0];if(w>=I[I.length-1])return E[I.length-1];var P=1;while(I[P]<w)P++;
var o=I[P],i=I[P-1],h=E[P],k=E[P-1],x=(w-i)/(o-i),j=X[P-1]*(o-i)-(h-k),v=-X[P]*(o-i)+(h-k),_=(1-x)*k+x*h+x*(1-x)*(j*(1-x)+v*x);
return _};Q.sD.b1=function(w,I,E,X){var o={um:[w[0]],$O:[I[0]],Aw:[]};X[0]=o;for(var P=1;P<w.length-1;
P++){o.um.push(w[P]);o.$O.push(I[P]);if(E[P]==!1){Q.sD.as(o.um,o.$O,o.Aw);o={um:[w[P]],$O:[I[P]],Aw:[]}}X[P]=o}o.um.push(w[P]);
o.$O.push(I[P]);Q.sD.as(o.um,o.$O,o.Aw);X[P]=o};Q.sD.hx=function(w,I,E,X){if(w<=I[0])return E[0];if(w>=I[I.length-1])return E[I.length-1];
var P=1;while(I[P]<w)P++;var o=X[P-1];return Q.sD.anX(w,o.um,o.$O,o.Aw)};Q.sD.YL=function(w){var I={um:[],$O:[],am:[]};
for(var P=0;P<w.length;P++){I.um[P]=w[P].v.Hrzn.v;I.$O[P]=w[P].v.Vrtc.v;I.am[P]=w[P].v.Cnty?w[P].v.Cnty.v:!0}return I};
Q.sD.Bn=function(w,eS,I){var E=0,X=255;if(I){E=-1e9;X=1e9}var o=Q.sD.YL(w),i=[];Q.sD.b1(o.um,o.$O,o.am,i);
var h=[];for(var P=0;P<eS;P++)h[P]=1/255*Math.max(E,Math.min(X,Q.sD.hx(P*(255/(eS-1)),o.um,o.$O,i)));
return h};Q.sD.aj7=function(w,eS,I){var E=Math.round(w.length/20),X=eS-w.length,o=I?(w[E]-w[0])/E:0,i=I?w[0]-X*o:w[w.length-1],h=[];
for(var P=0;P<X;P++)h.push(i+P*o);return I?h.concat(w):w.concat(h)};Q.sD.X_=function(w,eS,I){var E=Q.sD.YL(w),X=[];
Q.sD.b1(E.um,E.$O,E.am,X);var o=new Uint8Array(eS),i=eS/256;for(var P=0;P<eS;P++)o[P]=Math.max(0,Math.min(eS-1,Q.sD.hx(P*i,E.um,E.$O,X)));
if(I){o[0]=0;if(o[1]>100)o[1]=.4*o[1];if(o[2]>150)o[1]=.7*o[2]}return o};Q.sD.ez=function(w,I){var E=new Uint8Array(w.length);
for(var P=0;P<w.length;P++)E[P]=I[w[P]];return E};Q.sD.e6=function(w,I,E){var X=document.createElement("canvas");
X.width=I;X.height=E;var o=X.getContext("2d"),i=Q.sD.X_(w,256);o.scale(I/255,E/255);o.fillStyle="#fff";
o.fillRect(0,0,255,255);o.fillStyle="#333";o.beginPath();o.moveTo(0,255);for(var P=0;P<i.length;P++)o.lineTo(P,255-i[P]);
o.lineTo(255,255);o.closePath();o.fill();return X.toDataURL()};Q.style={};Q.style.stroke=function(w,I,E,X){var o=E.q,i=E.w,h=new Float64Array(o*i);
Q.style.ZZ(w,h,o,i);Q.style.vn(I,E,h,E,X)};Q.style.vn=function(w,I,E,X,o){var i=I.LP(X),h=i.q,k=i.w;
o+=.5;var x=i.x-I.x,j=i.y-I.y,v=I.q,_=i.x-X.x,L=i.y-X.y,U=X.q;for(var n=0;n<k;n++){var a=(n+L)*U+_,T=(n+j)*v+x;
for(var g=0;g<h;g++){var D=Math.max(0,Math.min(1,o-E[a+g]));w[T+g]=Math.round(D*255)}}};Q.style.a4I=function(w,I,E,X){for(var o=0;
o<E;o++)for(var i=0;i<I;i++){var h=o*I+i,k=0,x=0,j=w[h];if(i==0||o==0){k=w[h+1]-j;x=w[h+I]-j}else if(i==E-1||o==I-1){k=j-w[h-1];
x=j-w[h-I]}else{k=w[h+1]-w[h-1];x=w[h+I]-w[h-I]}if(k!=0||x!=0){var v=1/Math.sqrt(k*k+x*x);k*=v;x*=v}X[h+h]=k;
X[h+h+1]=x}};Q.style.ZZ=function(w,I,E,X){var o=0,i=E*X;for(var P=0;P<i;P++)o|=w[P];if(o==0){I.fill(1e9);
return}var h=Q.style.kA(w,E,X);for(var k=0;k<X;k++)for(var x=0;x<E;x++){var P=k*E+x,j=h[P*2],v=h[P*2+1],_=(k+v)*E+x+j;
if(j==0&&v==0){I[P]=0;continue}var L=Math.sqrt(j*j+v*v),U=w[_]*(1/255),n=1/L,a=Math.abs(j)*n,T=Math.abs(v)*n;
if(T>a){var g=T;T=a;a=g}I[P]=L+Q.style.ajY(a,T,U)}};Q.style.ajY=function(w,I,E){return(.5-E)*w};Q.style.kA=function(w,I,E,X){var o=new Int16Array(I*E*2);
Q.style.ajQ(w,o,I,E,128);return o};Q.style.ajQ=function(w,I,E,X,o){var i=new Int32Array(E*X);Q.style.aqo(w,i,E,X,o);
Q.style.a3p(i,I,E,X)};Q.style.aqo=function(w,I,E,X,o){var i=new Int32Array(X);for(var h=0;h<E;h++){var k=E+X;
for(var x=X-1;x>=0;x--){if(w[x*E+h]>o)k=0;else k++;i[x]=k}k=E+X;for(var x=0;x<X;x++){if(w[x*E+h]>o)k=0;
else k++;I[x*E+h]=k<i[x]?-k:i[x]}}};Q.style.a3p=function(w,I,E,X){var o=(E+X)*(E+X),i=new Float64Array(E),h=new Uint16Array(E);
for(var k=0;k<X;k++){var x=k*E,j=0;h[0]=0;i[0]=-o;i[1]=+o;for(var v=1;v<E;v++){var _=w[v+x]*w[v+x]+v*v,L=(_-(w[h[j]+x]*w[h[j]+x]+h[j]*h[j]))/(2*v-2*h[j]);
while(L<=i[j]){j--;L=(_-(w[h[j]+x]*w[h[j]+x]+h[j]*h[j]))/(2*v-2*h[j])}j++;h[j]=v;i[j]=L;i[j+1]=o}j=0;
for(var v=0;v<E;v++){while(i[j+1]<v)j++;var U=h[j]-v,n=w[h[j]+x],P=k*E+v<<1;I[P]=U;I[P+1]=n}}};Q.style.Gm=function(w,I,E){if(E)for(var P=0;
P<w.length;P++){var X=w[P];if(X>0)w[P]=Math.max(0,Math.min(255,X+I*2*(Q.style.dQ(P)-128)))}else for(var P=0;
P<w.length;P++){var X=w[P];if(X>0)w[P]=Math.max(0,Math.min(255,X+Math.min(X*3,I*2*(Q.style.dQ(P)-128))))}};
Q.style.dQ=function(w){w=w^61^w>>16;w=w+(w<<3);w=w^w>>4;w=w*668265261;w=w^w>>15;return w&255};Q.P6={};
Q.P6.ZE=function(w,I,E){var X=w.canvas;if(X.width!=I||X.height!=E){X.width=I;X.height=E}};Q.P6.zG=function(w,I,E,X,o,i){Q.P6.ZE(w,I,E);
if(i==null)i=!1;var h=o.channel,k=o.rect,x=!o.isEnabled;if(I*E==0)return;var j=w.createImageData(I,E),v=j.data,_=1/I,L=1/E;
for(var P=0;P<E;P++)for(var U=0;U<I;U++){var n=P*I+U,a=n*4,T=Math.round(X.x+U*_*X.q),g=Math.round(X.y+P*L*X.w),D=0;
if(T<k.x||T>=k.x+k.q||g<k.y||g>=k.y+k.w)D=o.color;else D=h[(g-k.y)*k.q+(T-k.x)];D=255*(255-o.zy)+D*o.zy>>>8;
if(i)D=170+Math.round(.4*(D-170));v[a]=D;v[a+1]=D;v[a+2]=D;v[a+3]=255}w.putImageData(j,0,0);if(x)Q.P6.jq(w,I,E)};
Q.P6.xN=[];Q.P6.aq$=function(w,I,E,X){var o,i,h;o=Math.ceil(Math.max(I,E)*.35);i=I-o;h=E-o;var k=Q.P6.xN[o];
if(k==null){var x=Q.wH(o,o);x.fillStyle="#eeeeee";x.fillRect(0,0,o,o);var j=Math.round(o*.27),v=x.lineWidth=Math.max(1,Math.round(o*.12)),_=v/2;
x.strokeRect(1+_,1+_,o-v-2,o-v-2);x.strokeRect(j+_,j+_,o-j-j-v,o-j-j-v);k=Q.P6.xN[o]=x.getImageData(0,0,o,o)}w.putImageData(k,i,h)};
Q.P6.ys=[];Q.P6.aed=function(w,I,E){var X,o,i;X=Math.ceil(Math.max(I,E)*.35);o=I-X;i=E-X;var h=Q.P6.ys[X];
if(h==null){var k=Q.wH(X,X);k.fillStyle="#eeeeee";k.fillRect(0,0,X,X);k.lineWidth=1;k.strokeRect(2.5,2.5,X-5,X-5);
var x=k.createImageData(3,3);Q.Ez(x.data,4278190080);x.data[4*4]=x.data[4*4+1]=x.data[4*4+2]=238;k.putImageData(x,1,1);
k.putImageData(x,X-4,1);k.putImageData(x,1,X-4);k.putImageData(x,X-4,X-4);h=Q.P6.ys[X]=k.getImageData(0,0,X,X)}w.putImageData(h,o,i)};
Q.P6.a9f=function(w,I,E,X,o){Q.P6.ZE(w,I,E);var i=I/X.q;if(I*E==0)return;w.fillStyle="#999999";w.setTransform(1,0,0,1,0,0);
w.clearRect(0,0,I,E);var h=Q.P6.Ut;if(h==null){h=Q.P6.Ut=JSON.parse(JSON.stringify(hL.Oq.default));h.strokeEnabled.v=!0}h.strokeStyleLineWidth.v.val=1/i;
w.fillStyle="#ffffff";w.scale(i,i);Q.O.Gx(o.j,w,0,0);Q.O.Gx(o.j,w,0,0,h)};Q.P6.$s=null;Q.P6._5=function(w,I,E,X,o,i,h,k){Q.P6.ZE(w,I,E);
if(I*E==0)return;var x=Math.max(I,E),j=Q.P6.$s;if(j==null||j.width<x||j.height<x){Q.P6.$s=j=w.createImageData(x,x)}x=j.width;
var v=j.data,_=X.q/I,L=X.w/E,U=i.x,n=i.x+i.q,a=i.y,T=i.y+i.w;for(var P=0;P<E;P++)for(var g=0;g<I;g++){var D=P*x+g,b=D*4,N=~~(X.x+g*_),C=~~(X.y+P*L),Z=Q.e3(P,g,2);
if(N<U||N>=n||C<a||C>=T){v[b]=Z;v[b+1]=Z;v[b+2]=Z;v[b+3]=255}else{var S=(C-i.y)*i.q+(N-i.x)<<2,u=o[S+3]*(1/255);
v[b]=o[S+0]*u+Z*(1-u);v[b+1]=o[S+1]*u+Z*(1-u);v[b+2]=o[S+2]*u+Z*(1-u);v[b+3]=255}}if(k!=null)for(var P=0;
P<v.length;P+=4)v[P]=v[P+1]=v[P+2]=v[P+k];w.putImageData(j,0,0);if(h)Q.P6.jq(w,I,E)};Q.P6.aoi=function(w,I,E,X){Q.P6.ZE(w,I,E);
w.fillStyle=Q.P6.BL(X.Clr.v);w.fillRect(0,0,I,E);Q.P6._j(w,I,E)};Q.P6.MR=null;Q.P6.aii=function(w,I,E,X){Q.P6.ZE(w,I,E);
var o=w.canvas.width,i=w.canvas.height,h=Q.P6.MR;if(h==null||h.width!=o||h.height!=i){w.fillStyle="#ffffff";
w.fillRect(0,0,I,E);w.fillStyle="#000000";w.font=""+E*.7+"px serif";w.fillText("T",(I-E*.43)/2,E*.75);
w.fillText("T",(I-E*.43)/2,E*.75);Q.P6.MR=w.getImageData(0,0,o,i)}else w.putImageData(h,0,0)};Q.P6.akM=function(w,I,E){Q.P6.ZE(w,I,E);
w.clearRect(0,0,I,E);w.font=E*.7+"px serif";w.fillText(":(",(I-E*.43)/2,E*.7)};Q.P6.ake=function(w,I,E,X){Q.P6.ZE(w,I,E);
var o=cz.get(X),i=w.canvas.width,h=Q.P6.tL[i+o];if(h==null){var k=PIMG["adj/"+o],x=gt.fF(k),j=UPNG.decode(x.buffer),v=new Uint8Array(UPNG.toRGBA8(j)[0]),_=new dC(0,0,160,160),L=0,U=i-L*2,n=q.R.oI([v,_],new am(U/160,0,0,U/160,0,0)),a=new dC(0,0,i,i),T=Q.$(a.A()*4);
Q.e.gF("norm",n.buffer,n.rect,T,a,n.rect,1);h=Q.P6.tL[i+o]=new ImageData(new Uint8ClampedArray(T.buffer),i,i)}w.putImageData(h,0,0)};
Q.P6.tL={};Q.P6.awz=function(w,I,E,X){Q.P6.ZE(w,I,E);var o=w.canvas.width,i=w.canvas.height,h=w.getImageData(0,0,o,i);
Q.N.gV(X.Grad.v,new Uint8Array(h.data.buffer),new dC(0,0,o,i),[1/o,0,0,1/i],o/2,i/2,!1,0,16711680,65280);
w.putImageData(h,0,0);Q.P6._j(w,I,E)};Q.P6.ahe=function(w,I,E,X,o){Q.P6.ZE(w,I,E);var i=w,h=aQ.O9(X.Ptrn.v,o.add.Patt);
if(h==null)return;var k=h.IZ[1];Q.P6._5(w,I,E,k,h.IZ[0],k,!1);Q.P6._j(i,I,E)};Q.P6.jq=function(w,I,E){w.strokeStyle="#bb0000";
w.lineWidth=3;w.beginPath();w.moveTo(I*.15,E*.15);w.lineTo(I*.85,E*.85);w.moveTo(I*.85,E*.15);w.lineTo(I*.15,E*.85);
w.closePath();w.stroke()};Q.P6._j=function(w,I,E){w.fillStyle="#eeeeee";w.fillRect(0,E*.75,I,E*.25);
w.beginPath();w.moveTo(0,E*.75);w.lineTo(I,E*.75);w.moveTo(I*.1,E*.875);w.lineTo(I*.9,E*.875);w.moveTo(I*.65,E*.825);
w.lineTo(I*.65,E*.95);w.closePath();w.stroke()};Q.P6.BL=function(w){var I=Q.N.BL(w),E=Math.round(I.o)<<16|Math.round(I.P)<<8|Math.round(I.L);
return"#"+Q.mv(E)};Q.O={};Q.O.X2=function(w,I,E){var X=[],o=-1;for(var P=0;P<w.length;P++){var i=w[P];
if((i.type==0||i.type==3)&&i.KP!=-1)o++;if(i.type>5||i.type==0||i.type==3)continue;if(I!=null&&I.indexOf(o)==-1)continue;
if(E!=null&&E.indexOf(P)==-1)continue;X.push(i.DX.x);X.push(i.DX.y);X.push(i.H.x);X.push(i.H.y);X.push(i.kk.x);
X.push(i.kk.y)}return X};Q.O.vJ=function(w,I,E,X){var o=0,i=-1;for(var P=0;P<I.length;P++){var h=I[P];
if((h.type==0||h.type==3)&&h.KP!=-1)i++;if(h.type>5||h.type==0||h.type==3)continue;if(E!=null&&E.indexOf(i)==-1)continue;
if(X!=null&&X.indexOf(P)==-1)continue;h.DX.eo(w[o],w[o+1]);h.H.eo(w[o+2],w[o+3]);h.kk.eo(w[o+4],w[o+5]);
o+=6}};Q.O.yJ=function(w,I,E,X){var o=Q.O.X2(w,E,X);Q.p.F(o,I,o);Q.O.vJ(o,w,E,X)};Q.O.amW=function(w,I,E,X){var o=Q.O.X2(w,E,X);
Q.K.F(I,o);Q.O.vJ(o,w,E,X)};Q.O.axV=function(w,I,E,X){if(X==null){var o=Q.O.asR(w,40,E);for(var P=0;
P<o.length;P++)w[P]=o[P]}var i=Q.O.X2(w,E,X);Q.SZ.F(I,i,Q.p.zK(i));Q.O.vJ(i,w,E,X)};Q.O.asR=function(w,I,E){var X=[],o=-1;
for(var P=0;P<w.length;P++){var i=w[P],h=i.length;if(i.type>5){X.push(JSON.parse(JSON.stringify(i)));
continue}i=JSON.parse(JSON.stringify(i));X.push(i);if(i.KP!=-1)o++;if(E&&E.indexOf(o)==-1){X=X.concat(w.slice(P+1,P+1+h))}else{var k=Q.O.ab6(w,P+1,h);
k=Q.p.Z6(k,I);var x=Q.O.ao_(k);i.length=x.length;for(var j=0;j<x.length;j++)X.push(x[j])}P+=h}return X};
Q.O.ab6=function(w,I,E){var X={J:["M"],C:[]},o=w[I],i=w[I+E-1];X.C.push(o.H.x,o.H.y);for(var P=1;P<E;
P++){var h=w[I+P-1],k=w[I+P];X.J.push("C");X.C.push(h.kk.x,h.kk.y,k.DX.x,k.DX.y,k.H.x,k.H.y)}X.J.push("C");
X.C.push(i.kk.x,i.kk.y,o.DX.x,o.DX.y,o.H.x,o.H.y);return X};Q.O.ao_=function(w){var I=[],E=w.J,X=w.C,o=0,eS=X.length;
I.push({type:2,DX:new a5(X[eS-4],X[eS-3]),H:new a5(X[0],X[1]),kk:new a5(X[2],X[3])});for(var P=0;P<E.length-2;
P++){var i=P*6+4;I.push({type:2,DX:new a5(X[i],X[i+1]),H:new a5(X[i+2],X[i+3]),kk:new a5(X[i+4],X[i+5])})}return I};
Q.O.a8j=function(w){for(var P=0;P<w.length;P++){if(w[P].type>5)continue;var I=w[P].length;if(!(I==4||I==6||I==8)){P+=I;
continue}for(var E=0;E<I;E++){var X=w[P+1+E],o=w[P+1+(E+1)%I],i=Math.min(X.H.x,o.H.x),h=Math.min(X.H.y,o.H.y),k=0,x=0;
if(X.H.x<o.H.x){k=X.H.y-h;x=k-(o.H.x-i)}else{k=o.H.y-h;x=k-(X.H.x-i)}if(Math.abs(x)<.2*k)return k}}return-1};
Q.O.sM=function(w,I,E){function X(L,U){var n=Math.min(L.x,U.x),a=Math.min(L.y,U.y),T=Math.max(L.x+L.q,U.x+U.q),g=Math.max(L.y+L.w,U.y+U.w);
return new dC(n,a,T-n,g-a)}var o=null,i=-1,h=!Q.O.Tk(w);for(var P=0;P<w.length;P++){var k=w[P];if(k.type>5)continue;
if((k.type==0||k.type==3)&&k.KP!=-1)i++;if(I!=null&&I.indexOf(i)==-1)continue;if(P==w.length-1)break;
var x=k.type==3,j=k.length,v=k.KP,_=Q.O.b6(w,P+1,j,x);if(o==null)o=_;else if(E)o=X(o,_);else if(h){if(I!=null||v==0||v==-1||v==2)o=X(o,_);
else if(v==1)o=o;else if(v==3){o=_;h=!1}}else{if(I!=null||v==0||v==-1||v==1)o=X(o,_);else if(v==2)o=o;
else if(v==3)o=o.LP(_)}P+=j}if(o==null||o.q<0||o.w<0)o=new dC(0,0,0,0);return o};Q.O.ag2=new Float64Array(4);
Q.O.b6=function(w,P,I,E){var X=Q.O.ag2;X[0]=1e30;X[1]=1e30;X[2]=-1e30;X[3]=-1e30;var o=w[P+I-1];if(!E)Q.O.L7(o.H.x,o.H.y,o.kk.x,o.kk.y,w[P].DX.x,w[P].DX.y,w[P].H.x,w[P].H.y,X);
for(var i=P;i<P+I-1;i++){var h=w[i],k=w[i+1];Q.O.L7(h.H.x,h.H.y,h.kk.x,h.kk.y,k.DX.x,k.DX.y,k.H.x,k.H.y,X)}return new dC(X[0],X[1],X[2]-X[0],X[3]-X[1])};
Q.O.L7=function(w,I,E,X,o,i,h,k,x){if(w==E&&I==X&&o==h&&i==k){x[0]=Math.min(x[0],Math.min(w,h));x[1]=Math.min(x[1],Math.min(I,k));
x[2]=Math.max(x[2],Math.max(w,h));x[3]=Math.max(x[3],Math.max(I,k));return}var j=w,v=I,_=w,L=I,U=40,n=1/(U-1);
for(var a=0;a<U;a++){var T=a*n,g=1-T,D=g*g*g,b=3*g*g*T,N=3*g*T*T,C=T*T*T,Z=D*w+b*E+N*o+C*h,S=D*I+b*X+N*i+C*k;
if(Z<j)j=Z;else if(Z>_)_=Z;if(S<v)v=S;else if(S>L)L=S}if(j<x[0])x[0]=j;if(v<x[1])x[1]=v;if(_>x[2])x[2]=_;
if(L>x[3])x[3]=L};Q.O.Tj=function(w,I){var E=w.length-3,X=I%E,o=Math.floor(X);if(I<0||o>=E)return null;
var i=w[3+o],h=w[3+(o+1)%E],k=i.H,x=i.kk,j=h.DX,v=h.H,_=X-o,L=1-_,U=L*L*L*k.x+3*L*L*_*x.x+3*L*_*_*j.x+_*_*_*v.x,n=L*L*L*k.y+3*L*L*_*x.y+3*L*_*_*j.y+_*_*_*v.y;
return new a5(U,n)};Q.O.u8=function(w,I){var E=Q.p.l1(w),X=E.bz;E.bz=Typr.U.pathToSVG({crds:X.C,cmds:X.J},I==null?2:I);
return E};Q.O.B9=function(w){Q.O.VO();var I,E=Q.O.qp(w),X=[];for(var P=0;P<E.length;P++){var o=E[P][0],i=E[P][1];
if(Math.abs(o.area)<1e-5)X.push(o);else if(I==null)I=o;else{if(!o.closed)o.closed=!0;I=I[i](o);I.remove()}}if(I==null)I=new paper.CompoundPath(X);
else{if(I.segments)I=new paper.CompoundPath(I);for(var P=0;P<X.length;P++){I.addChild(X[P])}}var h=w.slice(0,2);
h=h.concat(Q.O._4(I));if(h[2])h[2].KP=1;for(var P=3;P<h.length;P++)if(h[P].KP!=null)h[P].KP=-1;return h};
Q.O.VO=function(){if(Q.O.adO==null){var w=document.createElement("canvas");paper.setup(w);Q.O.adO=!0}};
Q.O.a7K=function(w,I){Q.O.VO();var E=[],X=Q.O.qp(w),o=new paper.Path.Rectangle(new paper.Rectangle(I.x,I.y,I.q,I.w));
o.remove();o.fillColor=new paper.Color(1,0,0);for(var P=0;P<X.length;P++){if(o.intersects(X[P][0])||o.contains(X[P][0].children[0].segments[0].point))E.push(P)}return E};
Q.O.Mj=function(w,I,E,X){Q.O.VO();var o=E?{curves:!0,tolerance:X}:null,i=new paper.Point(I.x,I.y),h=Q.O.qp(w);
for(var P=h.length-1;P>=0;P--){var k=h[P][0],x=k.hitTest(i,o);if(x!=null)return{qI:P,c5:E?x.location.index:null,m1:E?x.location.time:0}}return{qI:-1}};
Q.O.Qt=function(w,I,E){var X=[[],[],[]];for(var P=0;P<w.length;P++){var o=w[P];if(o.type>5||o.type==0||o.type==3)continue;
var i=E==null?!0:E.indexOf(P)!=-1;if(I.sF(o.H))X[0].push(P);if(I.sF(o.DX)&&i)X[1].push(P);if(I.sF(o.kk)&&i)X[2].push(P)}return X};
Q.O.apP=function(w,I,E){var X=w[I];for(var o=I+1;o<E;o++)w[o-1]=w[o];w[E-1]=X};Q.O.ar0=function(w,I,E,X){var P,o,i,h=0;
w=w.slice(0);I.sort(function(n,a){return n-a});i=-1;for(P=2;P<w.length;){var k=w[P],x=k.length;if(k.KP!=-1)i++;
var j=h;while(j<I.length&&I[j]<P+1+x)j++;if(h!=j){var v=I.slice(h,j);h=j;for(o=0;o<x;o++)if(v.indexOf(P+1+o)!=-1)w[P+1+o]=null;
if(k.type==0){var _=v[0]-(P+1);while(_!=0){Q.O.apP(w,P+1,P+1+x);_--}}var L=k;L.length=0;o=0;while(o<x&&w[P+1+o]==null)o++;
while(o<x){var U=w[P+1+o];if(U!=null)L.length++;else if(o<x+1&&w[P+1+o+1]){L=w[P+1+o]={type:0,KP:-1,length:0,ad:0,Lk:0,mr:1}}o++}if(X)for(o=-1;
o<x;o++)if(w[P+1+o]&&w[P+1+o].type<3)w[P+1+o].type+=3;Q.GJ.CV(E,i)}P+=1+x}for(P=0;P<w.length;P++)if(w[P]==null){w.splice(P,1);
P--}i=0;for(P=2;P<w.length;P++){var k=w[P];if(k.length==0){if(w[P+1]&&w[P+1].KP==-1)w[P+1].KP=k.KP;else if(k.KP!=-1)E.splice(i,1);
w.splice(P,1);P--}else if(k.length!=null&&k.KP!=-1)i++}return w};Q.O.ahr=function(w,I){var E=w.slice(0,2),X=-1;
for(var P=2;P<w.length;P++){if((w[P].type==0||w[P].type==3)&&w[P].KP!=-1)X++;if(I.indexOf(X)==-1)E.push(w[P])}return E};
Q.O.agO=function(w,I){var E=w.slice(0,2),X=-1;for(var P=2;P<w.length;P++){if((w[P].type==0||w[P].type==3)&&w[P].KP!=-1)X++;
if(I.indexOf(X)!=-1)E.push(w[P])}return E};Q.O.a04=function(w){var I=0;for(var P=0;P<w.length;P++)if(w[P].type==0||w[P].type==3)I=P;
return w[I]};Q.O.RZ=function(w){var I=-1;for(var P=0;P<w.length;P++)if((w[P].type==0||w[P].type==3)&&w[P].KP!=-1)I++;
return I+1};Q.O.ny=function(w,I,E){var X=-1;for(var P=0;P<w.length;P++)if((w[P].type==0||w[P].type==3)&&(E||w[P].KP!=-1)){X++;
if(X==I)return P}return-1};Q.O.hE=function(w,I,E){var X=-1;for(var P=0;P<w.length;P++)if((w[P].type==0||w[P].type==3)&&(E||w[P].KP!=-1)){if(P>=I)return X;
X++}return X};Q.O.tQ=function(w,I){var E=-1,X=0;for(var P=0;P<w.length;P++){if((w[P].type==0||w[P].type==3)&&w[P].KP!=-1)E++;
if(E==I)X++}return X};Q.O.an1=function(w){var I=180;for(var P=0;P<w.length;P++){if(w[P].type!=0&&w[P].type!=3)continue;
var E=w[P].length;if(E<3)continue;for(var X=0;X<E;X++){var o=w[P+1+(X-1+E)%E],i=w[P+1+X],h=w[P+1+(X+1)%E],k=i.H,x=i.DX.ZQ(k)?o.kk:i.DX,j=i.kk.ZQ(k)?h.DX:i.kk;
if(k.ZQ(x)||k.ZQ(j))continue;var v=x.x-k.x,_=x.y-k.y,L=j.x-k.x,U=j.y-k.y,x=Math.atan2(x.y-k.y,x.x-k.x)*180/Math.PI,j=Math.atan2(j.y-k.y,j.x-k.x)*180/Math.PI,n=Math.abs(j-x)%360,a=n>180?360-n:n;
if(a<I)I=a}}return I*Math.PI/180};Q.O._4=function(w){var I=w.segments?[w]:w.children,E=[];for(var P=0;
P<I.length;P++){var X=I[P],o=X.segments,i=X.closed?0:3,h=E.length,k=null;if(o.length<=1)continue;E.push({type:i,length:o.length,KP:0,mr:2});
for(var x=0;x<o.length;x++){var j=o[x],v=new a5(j.handleIn.x,j.handleIn.y),_=new a5(j.handleOut.x,j.handleOut.y),L=new a5(j.point.x,j.point.y),U={type:i+1,DX:L.add(v),H:L,kk:L.add(_)};
if(k==null)k=U;E.push(U);if(x+1==o.length&&a5.GZ(k.H,U.H)<1e-5){E.pop();E[h].length--;k.DX=U.DX;if(i==3)for(var n=h;
n<E.length;n++)E[n].type-=3}}}return E};Q.O.qp=function(w){Q.O.VO();var I=[],E,X=new paper.Color(1,0,0);
function o(U,k){U.remove();U.closed=!k;U.fillRule="evenodd"}for(var P=0;P<w.length;P++){if(w[P].type>5)continue;
var i=w[P].length,h;if(P==w.length-1)break;var k=w[P].type==3;if(P==2){if(!Q.O.u9(w))h="subtract";else h="unite"}else{if(w[P].KP==0)h="exclude";
if(w[P].KP==1)h="unite";if(w[P].KP==2)h="subtract";if(w[P].KP==3)h="intersect"}if(w[P].KP!=-1){E=new paper.CompoundPath;
I.push([E,h]);E.fillRule="evenodd";E.fillColor=X}var x=[];for(var j=0;j<i;j++){var v=w[P+1+j],_=v.DX.MT(v.H),L=v.kk.MT(v.H);
x.push([[v.H.x,v.H.y],[_.x,_.y],[L.x,L.y]])}var U=new paper.Path(x);o(U,k);E.addChild(U);P+=i}return I};
Q.O.CR=function(w){for(var P=0;P<w.length;P++){var I=w[P];if(I.H==null)continue;if(!I.H.ZQ(I.DX)||!I.H.ZQ(I.kk))return!1}return!0};
Q.O.a2x=function(w){if(w.length<=5)return 0;var I=0,E=w.length-3-1;for(var P=0;P<E;P++){var X=w[3+P],o=w[3+P+1];
if(X.type==0||o.type==0)return 0;I+=(o.H.x-X.H.x)*(X.H.y+o.H.y)}I+=(w[3].H.x-w[3+E].H.x)*(w[3+E].H.y+w[3+1].H.y);
return-I*.5};Q.O.Tk=function(w){var I=w[2],E=!1;if(w.length==2)E=w[1].all==0;else if(w[1].all==1){if(I.KP==1||I.KP==3)E=!0;
else E=!1}else{if(I.KP==1||I.KP==3||I.KP==0)E=!0;else E=!1}return E};Q.O.u9=function(w){var I=Q.O.Tk(w);
for(var P=3;P<w.length;P++)if(w[P].KP==3)I=!0;return I};Q.O.anW=0;Q.O.IL=0;Q.O.ajV=0;Q.O.afj=function(w,I,E,X){if(E.qo())return;
var o=E.A(),g=16384;Q.O.anW+=o;if(o>Q.O.IL){Q.O.IL=o}var i=E.q,h=E.w;if(X==null&&Q.O.CR(w)&&w[2]&&w[2].KP!=2){var k=!0;
for(var P=2;P<w.length;)if(w[P].length==2)P+=3;else{k=!1;break}if(k){return}if(Q.O.n7(w)){I.fill(255);
var x=Q.O.sM(w);if(x.A()!=o){var j=1-(x.x-E.x),v=1-(x.y-E.y),_=1-(E.x+E.q-(x.x+x.q)),L=1-(E.x+E.w-(x.x+x.w)),U=~~(j*255),n=~~(_*255),a=~~(v*255),T=~~(L*255);
I.fill(a,0,i);I[0]=~~(j*v*255);I[i-1]=~~(_*v*255);for(var P=i;P<o;P+=i){I[P]=U;I[P+i-1]=n}I.fill(T,(h-1)*i,h*i);
I[o-i]=~~(j*L*255);I[o-1]=~~(_*L*255)}return}}var D=Math.ceil(i/g),b=Math.ceil(h/g),N=Math.ceil(i/D),C=Math.ceil(h/b),Z=Date.now();
for(var S=0;S<b;S++)for(var u=0;u<D;u++){var p=u*N,f=S*C,d=N,l=C,A=Q.wH(d,l);if(!Q.O.Tk(w))A.fillRect(0,0,d,l);
Q.O.Gx(w,A,-E.x-p,-E.y-f,X);var B=new Uint8Array(A.getImageData(0,0,d,l).data.buffer);if(d==i&&l==h)Q.qe(B,I,3);
else Q.ho(B,new dC(p,f,d,l),I,new dC(0,0,i,h))}};Q.O.Gx=function(w,I,E,X,o){if(o!=null){var i=!1,h=!1,k=0,x=!1;
for(var P=0;P<w.length;P++){var j=w[P].KP;if(j!=null){k++;if(j==-1)i=!0;if(j==2||j==3)h=!0;if(w[P].type==0)x=!0}}if(!i&&k<20&&(o==null||x)&&h)w=Q.O.B9(w)}for(var P=0;
P<w.length;P++){if(w[P].type>5)continue;var v=w[P].length;if(v==0)continue;if(P==w.length-1)break;var _=w[P].type==3,j=w[P].KP;
if(j!=-1&&o==null){var L=["xor","source-over","destination-out","source-in"][j];I.globalCompositeOperation=L}if(w[P].KP!=-1){I.beginPath();
if(o){var U=o.strokeStyleLineWidth.v.val,n=o.strokeStyleLineAlignment.v.strokeStyleLineAlignment,a=o.strokeStyleLineCapType.v.strokeStyleLineCapType,T=o.strokeStyleLineJoinType.v.strokeStyleLineJoinType,g=o.strokeStyleMiterLimit.v,D=[],b=o.strokeStyleLineDashSet.v;
for(var N=0;N<b.length;N++)D.push(b[N].v.val*U);I.setLineDash(D);I.lineCap=["butt","round","square"][hL.Oq.zL.indexOf(a)];
I.lineJoin=["miter","round","bevel"][hL.Oq.join.indexOf(T)];I.lineWidth=hL.Oq.hN.indexOf(n)==1?U:U*=2;
I.miterLimit=g}}Q.O.anM(I,w,P+1,v,E,X,_);if(_){}else I.closePath();if(w[P+1+v]==null||w[P+1+v].KP!=-1){if(o)I.stroke();
else I.fill(j==-1?"nonzero":"evenodd")}P+=v}I.globalCompositeOperation="source-over"};Q.O.anM=function(w,I,P,E,X,o,i){var h=I[P],k=null;
w.moveTo(h.H.x+X,h.H.y+o);for(var x=P;x<P+E-1;x++){h=I[x];k=I[x+1];w.bezierCurveTo(h.kk.x+X,h.kk.y+o,k.DX.x+X,k.DX.y+o,k.H.x+X,k.H.y+o)}if(!i){h=I[x];
k=I[P];w.bezierCurveTo(h.kk.x+X,h.kk.y+o,k.DX.x+X,k.DX.y+o,k.H.x+X,k.H.y+o)}};Q.O.abO=function(w,I){var E=[],X=I?4:1;
for(var P=0;P<w.length;P+=2){var o=new a5(w[P],w[P+1]);E.push({type:X,DX:o.clone(),H:o.clone(),kk:o.clone()})}return E};
Q.O.Ch=function(w,I,E){var X=Q.p.zK(w),o=Math.sqrt(Math.sqrt(X.A()))*.2,i=.2;w=w.slice(0);var h=w.length,k=I?0:2;
for(var x=0;x<5;x++)for(var P=k;P<w.length-k;P+=2){var j=(P-2+h)%h,v=(P+2)%h,_=w[P],L=w[P+1],U=(w[j]+w[v])*.5,n=(w[j+1]+w[v+1])*.5;
w[P]=_+(U-_)*i;w[P+1]=L+(n-L)*i}if(E)return Q.O.cw.Tv(w,null,!I);Q.O.VO();var a=new paper.Path;a.remove();
a.closed=I;for(var P=0;P<w.length;P+=2)a.add(new paper.Point(w[P],w[P+1]));a.simplify(o);var T=[{type:6},{type:8,all:0}];
T=T.concat(Q.O._4(a));return T};Q.O.Yy=function(w,I,E){var X=w[I].length,o=w[I].type,i=0,h=w.slice(I+1,I+1+X);
for(var P=0;P<X;P++){var k=E[(P-1+X)%X],x=E[(P+1+X)%X],j=E[P];if(j!=0){var v=h[(P-1+X)%X].H,_=h[(P+0+X)%X].H,L=h[(P+1+X)%X].H,U=a5.GZ(_,v),n=a5.GZ(_,L),a=Q.p.q0(v.x,v.y,_.x,_.y,L.x,L.y,j)[0],T=Math.min(a,k==0?U:U/2,x==0?n:n/2);
j*=T/a;var g=Q.p.agw(v.x,v.y,_.x,_.y,L.x,L.y,j),D={type:o+1,DX:new a5(g[2],g[3]),H:new a5(g[2],g[3]),kk:new a5(g[4],g[5])},b={type:o+1,DX:new a5(g[6],g[7]),H:new a5(g[8],g[9]),kk:new a5(g[8],g[9])};
w.splice(I+i+1,1,D,b);i++;w[I].length++}i++}};Q.O.CR=function(w){for(var P=0;P<w.length;P++){var I=w[P],E=I.type;
if(E==1||E==2||E==4||E==5)if(!I.H.ZQ(I.DX)||!I.H.ZQ(I.kk))return!1}return!0};Q.O.n7=function(w){if(w.length!=7||w[2].length!=4||!Q.O.CR(w))return!1;
for(var P=0;P<4;P++){var I=!0;for(var E=0;E<4;E++){var X=w[3+(P+E&3)],o=w[3+(P+E+1&3)];if(X.H.x!=o.H.x&&X.H.y!=o.H.y)I=!1}if(I)return!0}return!1};
Q.O.ahO=function(w){if(w.length<6)return 0;var I=w.length-2,E=0;for(var P=0;P<I;P+=2)E+=(w[P+2]-w[P])*(w[P+1]+w[P+3]);
E+=(w[0]-w[I])*(w[I+1]+w[1]);return-E*.5};Q.O.s_=function(w){w=K.DN.ER(w);var I=Q.O.RZ(w);for(var E=0;
E<I;E++){var X=Q.O.ny(w,E)+1,o=w[X-1].length,i=[];for(var P=0;P<o;P++){var h=w[X+P].H;i.push(h.x,h.y)}var k=Q.O.ahO(i);
if(k<0)Q.O.a8M(w,X-1)}return w};Q.O.a8M=function(w,I){var E=I+1,X=w[I].length,o=[];for(var P=0;P<X;P++){var i=w[E+P],h=i.DX;
i.DX=i.kk;i.kk=h;o.push(i)}for(var P=0;P<X;P++)w[E+P]=o[X-1-P]};Q.O.cw={};Q.O.cw.Tv=function(w,I,E){var X=[{type:6},{type:8,all:0}],o=null;
X.push({type:E?3:0,KP:1,length:0,ad:0,Lk:0,mr:1});if(I==0||I==null)o=null;else if(I instanceof Array)o=I;
else{o=[];for(var P=0;P<w.length;P+=2)o.push(I)}X=X.concat(Q.O.abO(w,E));X[2].length=X.length-3;if(o)Q.O.Yy(X,2,o);
return X};Q.O.cw.adq=function(w,I,E,X,o){var i=[],h=[],k=.553,x=1,j=-1;i.push({type:1,DX:new a5(0,k),H:new a5(0,0),kk:new a5(0,-k)});
o+=2;for(var P=0;P<o;P++){var v={type:1};if(P==0){v.H=new a5(1,-1);v.DX=new a5(1-k,-1);v.kk=new a5(1+k,-1)}else{var _=-(P+2)*Math.PI/2,L=1+((P&1)==1?P-1:P),U=Math.sin(_),n=Math.cos(_);
x+=L*(U-n);j+=L*(n+U);v.H=new a5(x,j);v.DX=new a5(x+L*n*k,j-L*U*k);if((P&1)==1)L+=2;v.kk=new a5(x-L*n*k,j+L*U*k)}var a={type:1,DX:new a5(-v.kk.x,-v.kk.y),H:new a5(-v.H.x,-v.H.y),kk:new a5(-v.DX.x,-v.DX.y)};
i.push(v);if(P<o-2)h.push(a)}h.reverse();i=i.concat(h);var T=[{type:6},{type:8,all:0}];T.push({type:0,KP:1,length:i.length,ad:0,Lk:0,mr:1});
T=T.concat(i);var g=new am(E/o,0,0,E/o,0,0);g.rotate(X);g.translate(w,I);Q.O.yJ(T,g);return T};Q.O.cw.Rect=function(w,I,E,X,o){var i=[w,I,w+E,I,w+E,I+X,w,I+X];
return Q.O.cw.Tv(i,o)};Q.O.cw.wT=function(w,I,E,X,o,i,h,k){var x=[],j=2*Math.PI/o;for(var P=0;P<o;P++)x.push(Math.cos(P*j-X),Math.sin(P*j-X));
if(h!=null){var v=Q.p.zK(x),_=v.q,L=v.w,U=h/(_/2),n=k/(L/2);for(var P=0;P<x.length;P+=2){x[P]=(x[P]-(v.x+_/2))*U;
x[P+1]=(x[P+1]-(v.y+L/2))*n}E=1}var a=new am(E,0,0,E,0,0);a.translate(w,I);Q.p.F(x,a,x);return Q.O.cw.Tv(x,i)};
Q.O.cw.mp=function(w,I,E,X,o,i,h){var k=[],x=Math.PI/o;for(var P=0;P<o*2;P++){var j=(P&1)==0?1:h;k.push(j*Math.cos(P*x),j*Math.sin(P*x))}var v=new am(E,0,0,E,0,0);
v.rotate(X);v.translate(w,I);Q.p.F(k,v,k);return Q.O.cw.Tv(k,i)};Q.O.cw.Qa=function(w,I,E,X,o){return Q.O.cw._8(0,w,I,E,X,o)};
Q.O.cw.awl=function(w,I,E,X,o,i){return Q.O.cw._8(1,w,I,E,X,o,i)};Q.O.cw.l3=function(w,I,E,X,o,i){return Q.O.cw._8(2,w,I,E,X,o,i)};
Q.O.cw._8=function(w,I,E,X,o,i,h){var k=Math.sqrt((X-I)*(X-I)+(o-E)*(o-E)),x;i/=2;if(w==0)x=[-i,0,i,0,i,k,-i,k];
if(w==1){var j=i*2*h*1.3/1.5,v=i*h;x=[-i,0,i,0,i,k-j,v,k-j,0,k,-v,k-j,-i,k-j]}if(w==2){var j=h[3],v=h[2]/2,_=j*(2/3)*h[4]/100,L=j-_,U=j;
x=[];if(h[0])x.push(-i,L,-v,U,0,0,v,U,i,L);else x.push(-i,0,i,0);if(h[1])x.push(i,k-L,v,k-U,0,k,-v,k-U,-i,k-L);
else x.push(i,k,-i,k)}var n=new am(1,0,0,1,0,0);n.rotate(Math.atan2(-o+E,X-I)+Math.PI/2);n.translate(I,E);
Q.p.F(x,n,x);return Q.O.cw.Tv(x,0)};Q.O.cw.z9=function(w,I,E,X){var o=[{type:6},{type:8,all:0}],_=.553;
o.push({type:0,KP:1,length:4,ad:0,Lk:0,mr:1});var i=w,h=I,k=w+E,x=I+X,w=(i+k)/2,I=(h+x)/2,j=(i-k)/2,v=(h-x)/2;
o.push({type:1,DX:new a5(w-_*j,I-v),H:new a5(w,I-v),kk:new a5(w+_*j,I-v)});o.push({type:1,DX:new a5(w+j,I-_*v),H:new a5(w+j,I),kk:new a5(w+j,I+_*v)});
o.push({type:1,DX:new a5(w+_*j,I+v),H:new a5(w,I+v),kk:new a5(w-_*j,I+v)});o.push({type:1,DX:new a5(w-j,I+_*v),H:new a5(w-j,I),kk:new a5(w-j,I-_*v)});
return o};Q.O.cw.aqk=function(w,I,E,X,o){var i=[{type:6},{type:8,all:0}];i.push({type:3,KP:1,length:5,ad:0,Lk:0,mr:1});
var h=(o-X)/4;for(var P=0;P<5;P++){var k=P*h,x=Math.cos(k),j=Math.sin(k),v=.553*(h/(Math.PI/2)),_=j*v,L=-x*v,U=new a5(x,j);
i.push({type:4,DX:P==0?U.clone():new a5(x+_,j+L),H:U,kk:P==4?U.clone():new a5(x-_,j-L)})}var n=new am;
n.rotate(-X);n.scale(E,E);n.translate(w,I);Q.O.yJ(i,n);return i};Q.AG={};Q.AG.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
Q.AG.JJ=function(w){var I=w.warpStyle.v.warpStyle;if(I=="warpNone")return!0;else if(I=="warpCustom"){var E=!1,X=w.customEnvelopeWarp.v.meshPoints.v.arr,o=X[0].arr,i=X[1].arr;
for(var P=0;P<4;P++)for(var h=0;h<4;h++){if(Math.abs(o[P]-o[h*4+P])>1||Math.abs(i[P*4]-i[P*4+h])>1)E=!0}return!E}else return w.warpValue.v==0&&w.warpPerspective.v==0&&w.warpPerspectiveOther.v==0};
Q.AG.$=function(w){var I={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(w){I.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:w.y}},Left:{t:"UntF",v:{type:"#Pxl",val:w.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:w.y+w.w}},Rght:{t:"UntF",v:{type:"#Pxl",val:w.x+w.q}}}};
I.uOrder={t:"long",v:4};I.vOrder={t:"long",v:4}}return I};Q.AG.ajc=function(w,I,E,X){for(var P=0;P<w.length;
P+=2){var o=w[P],i=w[P+1],h=(o-I.x)/I.q,k=(i-I.y)/I.w,x=(1-E)/2,j=1-x,v=x+h*(j-x);k=.5+(k-.5)*v*2;var _=(1-X)/2,L=1-_,U=_+k*(L-_);
h=.5+(h-.5)*U*2;o=I.x+h*I.q;i=I.y+k*I.w;w[P]=o;w[P+1]=i}};Q.AG.qa=function(w,I){var E=[],X=[];for(var P=0;
P<w.length;P+=2){E.push(w[P]);X.push(w[P+1])}var o=[];o.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:E});
o.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:X});I.warpStyle.v.warpStyle="warpCustom";I.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:o}}}}};
Q.AG.Sk=function(w,I){if(I==null){var E=w.bounds.v,X=E.Left.v.val,o=E.Rght.v.val,i=E.Top.v.val,h=E.Btom.v.val;
if(X==null){X=E.Left.v,o=E.Rght.v;i=E.Top.v,h=E.Btom.v}I=new dC(X,i,o-X,h-i)}if(I.qo())I.q=I.w=1;var k=[],x=w.warpStyle.v.warpStyle;
if(x=="warpCustom"){var j=w.customEnvelopeWarp.v.meshPoints.v.arr,v=j[0].arr,_=j[1].arr;for(var P=0;
P<16;P++)k.push(v[P],_[P])}else k=Q.AG.AG(I,x,w.warpRotate.v.Ornt=="Hrzn",w.warpValue.v/100,w.warpPerspective.v/100,w.warpPerspectiveOther.v/100);
return k};Q.AG.AG=function(w,I,E,X,o,i){var h=Q.SZ.$(w.x,w.y,w.q,w.w);if(I=="warpNone")return h;var k=JSON.parse(JSON.stringify(w)),x=new am;
if(!E){x.translate(-w.x,-w.y);x.rotate(-Math.PI/2);x.translate(w.w,0);Q.p.F(h,x,h);w=new dC(0,0,w.w,w.q);
h=Q.SZ.MN(h,!1)}Q.AG.a44(h,w,I,X,o,i);if(!E){h=Q.SZ.MN(h,!0);w=k;x.ja();Q.p.F(h,x,h)}if(X==0)Q.AG.ajc(h,w,o,i);
else{var x=new am(1/w.q,0,0,1/w.w,-w.x,-w.y);x.translate(-.5,-.5);Q.p.F(h,x,h);Q.AG.ax0(h,i,o);x.ja();
Q.p.F(h,x,h)}return h};Q.AG.a44=function(w,I,E,X,o,i){for(var P=0;P<4;P++){for(var h=0;h<4;h++){var k=2*(4*P+h),x=w[k]-I.x,j=w[k+1]-I.y,v=x,_=j;
if(X!=0){var L=I.q/2,U=I.w/2;v-=L;_-=U;var n=v,a=v,T=-U,g=U,D=Math.abs(X),b=Math.tan((1-D)*Math.PI/2),N=Math.sqrt(b*b+1),C=Math.atan2(1,b),Z=v/L*C,S=L*N,u=L*N+I.w,p=Math.cos(C),f=Math.sin(C),d=Q.AG.amu(p,f),l=Q.AG.alA(p,f),A=-b*L+d*S;
if(E=="warpArc"){n=Math.sin(Z)*u;T=b*L-Math.cos(C)*u+U;a=Math.sin(Z)*S;g=b*L-Math.cos(C)*S+U;if(h==1||h==2){n=h==1?-l*u:l*u;
a=h==1?-l*S:l*S;T=b*L+U-d*u;g=b*L+U-d*S}if(X<0){var B=n;n=a;a=B;B=T;T=-g;g=-B}}if(E=="warpArcLower"){if(h==1||h==2){a=h==1?-l*S:l*S;
g=X<0?U-A:U+A}}if(E=="warpArcUpper"||E=="warpArch"||E=="warpBulge"){if(h==1||h==2){n=h==1?-l*S:l*S;T=X<0?-U+A:-U-A}if(E=="warpArch"){a=n;
g=T+2*U}if(E=="warpBulge"){a=n;g=-T}}if(E=="warpFish"||E=="warpFlag"||E=="warpWave"){var e=h;if(E=="warpFlag")e=3-h;
if(e==1){T-=X*4*U;g+=X*4*U}if(e==2){T+=X*4*U;g-=X*4*U}if(E=="warpFlag"||E=="warpWave")T=g-2*U}if(E=="warpRise"){if(h<2)T=-U+X*U*4;
g=T+2*U}var m=(_+U)/I.w;v=n+m*(a-n);_=T+m*(g-T);if(E=="warpWave"){if(P==0)_=-U;if(P==3)_=U;if(P==1||P==2)_=2*U*(P/3-.5)*(1/3)+_*(2/3)}if(E=="warpFisheye"){if((P==1||P==2)&&(h==1||h==2)){v=v+4*v*X;
_=_+4*_*X}}if(E=="warpInflate"){var $=2/3;if((P==1||P==2)&&(h==1||h==2)){v=v+.5*v*X;_=_+.5*_*X}else if(P==1||P==2)v=v+$*v*X;
else if(h==1||h==2)_=_+$*_*X}if(E=="warpSqueeze"){var $=2/3;if((P==1||P==2)&&(h==1||h==2)){if(X>0)v=v-$*v*X;
else _=_+$*_*X}else if(P==1||P==2)v=v-$*v*X;else if(h==1||h==2)_=_+$*_*X}if(E=="warpTwist"){if((P==1||P==2)&&(h==1||h==2)){var V=X*Math.PI/2,N=1+Math.abs(X)*2,H=v*Math.cos(V)-_*Math.sin(V),F=v*Math.sin(V)+_*Math.cos(V);
v=H*N;_=F*N}}if(E=="warpShellLower"||E=="warpShellUpper"){if(E=="warpShellUpper"){P=3-P;_=-_}if(P>2||P==2&&(h==0||h==3)){if(X>0){var G=S+P/3*2*U;
v=Math.sin(Z)*G;_=-b*L-U+Math.cos(Z)*G;if(h==1||h==2){v=h==1?-l*G:l*G;_=-b*L-U+d*G}}else{if((h==1||h==2)&&P==3){v=h==1?-l*S:l*S;
_=b*L-d*S+U}else if(P==2){_=U-U*(2/3)*Math.cos(Z);v=v+U*(2/3)*Math.sin(Z)}}}if(E=="warpShellUpper"){P=3-P;
_=-_}}v+=L;_+=U}x=v,j=_;w[k]=x+I.x;w[k+1]=j+I.y}}};Q.AG.ax0=function(w,I,E){var X=[];for(var o=0;o<4;
o++)X.push(1-E+o/3*2*E);var i=[];for(var o=0;o<4;o++)i.push(1-I+o/3*2*I);var h=[0,0,0,0],k=[0,0,0,0];
for(var P=0;P<4;P++)for(var o=0;o<4;o++){var x=2*(4*P+o),j=w[x],v=w[x+1];h[o]+=j/4;k[o]+=v/4}for(var P=0;
P<4;P++)for(var o=0;o<4;o++){var _=X[o],x=2*(4*P+o),j=w[x],v=w[x+1],L=h[o],U=k[o];w[x]=L+_*(j-L);w[x+1]=U+_*(v-U)}var n=w.slice(0);
for(var P=0;P<4;P++)for(var o=1;o<3;o++){var x=2*(4*P+o),j=w[x],v=w[x+1],a=x+(o==1?-2:2),T=w[a],g=w[a+1];
w[x]=j-T;w[x+1]=v-g}var D=w[0],b=w[1],N=w[8],C=w[9],Z=w[16],S=w[17],u=w[24],p=w[25],f=w[6],d=w[7],l=w[14],A=w[15],B=w[22],e=w[23],m=w[30],$=w[31],V=f-D,H=d-b,F=l-N,G=A-C,J=B-Z,c=e-S,r=m-u,s=$-p;
for(var P=0;P<4;P++){var z=2*P*4,Y=0,ax=0,iW=P==1?.33:.66,y=1-iW;if(P==0){Y=V;ax=H}if(P==1){Y=y*V+iW*-r;
ax=y*H+iW*-s}if(P==2){Y=y*V+iW*-r;ax=y*H+iW*-s}if(P==3){Y=-r;ax=-s}w[z]=w[z]+Y/2;w[z+1]=w[z+1]+ax/2;
w[z+6]=w[z+6]-Y/2;w[z+7]=w[z+7]-ax/2}for(var P=0;P<4;P++)for(var o=1;o<3;o++){var x=2*(4*P+o),j=w[x],v=w[x+1],a=x+(o==1?-2:2),T=w[a],g=w[a+1],_=2*P/3;
w[x]=T+_*j;w[x+1]=g+_*v}for(var P=1;P<3;P++)for(var o=1;o<3;o++){var x=2*(4*P+o),j=w[x],v=w[x+1],hm=P==1?-8:-16,t=P==1?16:8,cT=w[x+hm],c4=w[x+hm+1],kv=w[x+t],iL=w[x+t+1],_=P/3;
j=(1-_)*cT+_*kv;v=(1-_)*c4+_*iL;w[x]=j;w[x+1]=v}Q.p.RW(n,w,w,I)};Q.AG.amu=function(w,I){return(4-w)*(1/3)};
Q.AG.alA=function(w,I){return(1-w)*(3-w)/(3*I)};Q.x$={};Q.x$.asw=function(w,I,E,X,o,i,h,k,x,j){for(var v=0;
v<k;v++)for(var _=0;_<h;_++){var L=3*(v*h+_),U=v+i,n=_+o,a=w[U*I+n];X[L]=a;X[L+1]=a;X[L+2]=a}};Q.x$.tE=function(w,I,E,X,o,i,h,k,x,j){var v=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],_=1/x,L=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],U=new Uint32Array(6);
for(var n=0;n<k;n++){for(var a=0;a<h;a++){var T=3*(n*h+a),g=n+i,D=a+o;U[0]=0;U[1]=0;U[2]=0;U[3]=0;U[4]=0;
U[5]=0;for(var P=0;P<16;P+=2){var b=D+L[P],N=g+L[P+1],C=b-x*~~(b*_),Z=N-x*~~(N*_),S=j[Z*x+C];U[S]+=w[N*I+b];
U[S+3]++}var b=D,N=g,C=b-x*~~(b*_),Z=N-x*~~(N*_),S=j[Z*x+C];U[S]=w[g*I+D];U[S+3]=1;X[T]=U[0]*v[U[3]];
X[T+1]=U[1]*v[U[4]];X[T+2]=U[2]*v[U[5]]}}};Q.x$.mh=function(w,I,E){for(var P=0;P<E;P+=2)w[I+P]=w[I+P+1];
I=I+E;for(var P=0;P<E;P+=2)w[I+P+1]=w[I+P]};Q.x$.ci=function(w,I,E,X){for(var P=0;P<X;P+=2){var o=I+P*E;
w[o]=w[o+E];w[o+E+1]=w[o+1]}};Q.x$.PO=function(w,I,E,X,o,i){var h=X[o],k=X[o+1],x=X[i],j=X[i+1],v=k+x>>>1;
w[I]=w[I+3]=w[E]=w[E+3]=h;w[I+1]=v;w[I+4]=k;w[E+1]=x;w[E+4]=v;w[I+2]=w[I+5]=w[E+2]=w[E+5]=j};Q.x$.afg=function(w,I,E,X,o,i){var h=i*3;
for(var P=0;P<i;P+=2){var k=I+P,x=o+P*3;Q.x$.PO(X,x,x+h,w,k,k+E)}};Q.x$.aug=function(w,I,E,X,o,i,h){var k=i*3;
for(var P=0;P<h;P+=2){var x=I+P*E,j=o+P*i*3;Q.x$.PO(X,j,j+k,w,x,x+E)}};Q.x$.Cf=function(w,P,I){var E=w[P-I-I],X=w[P-I],o=w[P-2],i=w[P-1],h=w[P],k=w[P+1],x=w[P+2],j=w[P+I],v=w[P+I+I],_=Math.abs(X-j),L=Math.abs(i-k),U=Math.abs(h-E)*2+_,n=Math.abs(h-x)*2+L,a=Math.abs(h-o)*2+L,T=Math.abs(h-v)*2+_,g=Math.min(U,Math.min(n,Math.min(a,T)));
if(g==U)return X*3+j+h-E>>2;if(g==n)return k*3+i+h-x>>2;if(g==a)return i*3+k+h-o>>2;return j*3+X+h-v>>2};
Q.x$.Zs=function(w,I,E,X,o){if(w<I&&I<E||w>I&&I>E)return~~(.5+X+(o-X)*(I-w)/(E-w));else return(X+o>>1)+(I+I-w-E>>2)};
Q.x$.YB=function(w,I,P,E){var X=I[P-E-1],o=I[P-E+1],i=I[P],h=I[P+E-1],k=I[P+E+1],x=w[P-E-1],j=w[P-E+1],v=w[P],_=w[P+E-1],L=w[P+E+1],U=Math.abs(j-_)+Math.abs(w[P-E-E+2]-v)+Math.abs(v-w[P+E+E-2])+Math.abs(o-i)+Math.abs(i-h),n=Math.abs(x-L)+Math.abs(w[P-E-E-2]-v)+Math.abs(v-w[P+E+E+2])+Math.abs(X-i)+Math.abs(i-k);
if(U<n)return Q.x$.Zs(o,i,h,j,_);else return Q.x$.Zs(X,i,k,x,L)};Q.x$.GE=function(w,I,E,X,o,i){w[I+0]=E[o];
w[I+1]=X[o];w[I+2]=Q.x$.YB(E,X,o,i)};Q.x$.WP=function(w,I,E,X,o,i){var h=X[o];w[I+0]=Q.x$.Zs(X[o-1],h,X[o+1],E[o-1],E[o+1]);
w[I+1]=h;w[I+2]=Q.x$.Zs(X[o-i],h,X[o+i],E[o-i],E[o+i])};Q.x$.nt=function(w,I,E,X,o,i){var h=X[o];w[I+0]=Q.x$.Zs(X[o-i],h,X[o+i],E[o-i],E[o+i]);
w[I+1]=h;w[I+2]=Q.x$.Zs(X[o-1],h,X[o+1],E[o-1],E[o+1])};Q.x$.fK=function(w,I,E,X,o,i){w[I+0]=Q.x$.YB(E,X,o,i);
w[I+1]=X[o];w[I+2]=E[o]};Q.x$.akh=function(w,I,E,X,o,i,h,k,x){var j=Date.now(),v=2,_=I-2,L=2;if((o&1)==1){v++;
_--}var U=E-2;if((i&1)==1){L++;U--}if(x==1||x==3){v++;_--}var n=w.slice(0);Q.x$.mh(n,0,I);Q.x$.ci(n,0,I,E);
Q.x$.ci(n,I-2,I,E);Q.x$.mh(n,(E-2)*I,I);for(var a=L;a<U;a+=2)for(var T=v;T<_;T+=2){var P=a*I+T,g=Q.x$.Cf(n,P,I),D=Q.x$.Cf(n,P+I+1,I);
n[P]=Math.max(0,g);n[P+I+1]=Math.max(0,D)}var b=h,N=k;if(i+k==E){N-=2;Q.x$.afg(w,(E-2)*I+o,I,X,(k-2)*h*3,h)}if(o+h==I){b-=2;
Q.x$.aug(w,i*I+o+h-2,I,X,(h-2)*3,h,k)}if(x==0)for(var a=0;a<N;a+=2)for(var T=0;T<b;T+=2){var C=(a+i)*I+T+o,Z=(a*h+T)*3;
Q.x$.GE(X,Z,w,n,C,I);Q.x$.WP(X,Z+3,w,n,C+1,I);C+=I;Z+=3*h;Q.x$.nt(X,Z,w,n,C,I);Q.x$.fK(X,Z+3,w,n,C+1,I)}else if(x==1)for(var a=0;
a<N;a+=2)for(var T=0;T<b;T+=2){var C=(a+i)*I+T+o,Z=(a*h+T)*3;Q.x$.WP(X,Z,w,n,C,I);Q.x$.GE(X,Z+3,w,n,C+1,I);
C+=I;Z+=3*h;Q.x$.fK(X,Z,w,n,C,I);Q.x$.nt(X,Z+3,w,n,C+1,I)}else if(x==2)for(var a=0;a<N;a+=2)for(var T=0;
T<b;T+=2){var C=(a+i)*I+T+o,Z=(a*h+T)*3;Q.x$.fK(X,Z,w,n,C,I);Q.x$.nt(X,Z+3,w,n,C+1,I);C+=I;Z+=3*h;Q.x$.WP(X,Z,w,n,C,I);
Q.x$.GE(X,Z+3,w,n,C+1,I)}else if(x==3)for(var a=0;a<N;a+=2)for(var T=0;T<b;T+=2){var C=(a+i)*I+T+o,Z=(a*h+T)*3;
Q.x$.nt(X,Z,w,n,C,I);Q.x$.fK(X,Z+3,w,n,C+1,I);C+=I;Z+=3*h;Q.x$.GE(X,Z,w,n,C,I);Q.x$.WP(X,Z+3,w,n,C+1,I)}};
Q.raw={};Q.raw.a2U=function(w){var I=Date.now(),E=w.width,X=w.height,o=0,i=0,h=E,k=X;if(w.t50829){var x=w.t50829;
o=x[1];i=x[0];h=x[3];k=x[2]}if(w.t50719){var j=w.t50719;o+=j[0]>>1<<1;i+=j[1]>>1<<1}if(w.t50720){var v=w.t50720;
h=o+v[0];k=i+v[1]}var _=h-o,L=k-i,U=Q.raw.acz(w),n=w.t33422,a=w.t33421;if(a){var v=a[0],T=n.slice(0);
for(var g=0;g<v;g++)for(var D=0;D<v;D++){var b=(D+(o&1))%v,N=(g+(i&1))%v;T[g*v+D]=n[N*v+b]}n=T}if(w.t277[0]==1)Q.raw.aiH(U,E,X,w,n);
Q.raw.gP(2,w,U,E,X);var C=new Float32Array(_*L*3);if(w.t277[0]==1){if(a==null){Q.x$.asw(U,E,X,C,o,i,_,L)}else if(a.length!=2||a[0]!=2||a[1]!=2){console.log("Unknown CFA pattern size",a);
Q.x$.tE(U,E,X,C,o,i,_,L,a[0],n)}else{var Z=w.t33422.join(","),S=0;if(Z=="0,1,1,2")S=0;else if(Z=="1,0,2,1")S=1;
else if(Z=="2,1,1,0")S=2;else if(Z=="1,2,0,1")S=3;else throw"Unknown CFA pattern "+Z;if((_&1)!=0||(L&1)!=0)throw"e";
Q.x$.akh(U,E,X,C,o,i,_,L,S)}}else{for(var g=0;g<L;g++)for(var D=0;D<_;D++){var u=((g+i)*E+D+o)*3,p=(g*_+D)*3;
C[p+0]=U[u+0];C[p+1]=U[u+1];C[p+2]=U[u+2]}}var f=C,d=C.length,l=Q.raw.IS(w),A=1/l;for(var P=0;P<d;P+=3){C[P]=f[P]*A;
C[P+1]=f[P+1]*A;C[P+2]=f[P+2]*A}Q.raw.gP(3,w,C,_,L);var B=w.gO,e=_,m=L;if(B==1||B==9){}else{var $=Q.raw.i2(B,_,L),p=0;
e=$[0];m=$[1];var V=C.slice(0);for(var g=0;g<m;g++)for(var D=0;D<e;D++){var H=$[2]*D+$[3]*g+$[4],F=$[5]*D+$[6]*g+$[7],u=(F*_+H)*3;
C[p]=V[u];C[p+1]=V[u+1];C[p+2]=V[u+2];p+=3}}return{Fr:C,kZ:e,ik:m}};Q.raw.i2=function(w,I,E){var X=I,o=E;
if(!1){}else if(w==2)return[I,E,-1,0,I-1,0,1,0];else if(w==3)return[I,E,-1,0,I-1,0,-1,E-1];else if(w==4)return[I,E,1,0,0,0,-1,E-1];
else if(w==5)return[E,I,0,1,0,1,0,0];else if(w==6)return[E,I,0,1,0,-1,0,E-1];else if(w==7)return[E,I,0,-1,I-1,-1,0,E-1];
else if(w==8)return[E,I,0,-1,I-1,1,0,0];else throw"unknown orientation "+w};Q.raw.aiH=function(w,I,E,X,o){var i=Date.now(),A=0,m=0;
if(Q.raw.IS(X)>4e4){for(var P=0;P<w.length;P++)w[P]>>=1;var h=["t50714","t50715","t50712","t50717"];
for(var P=0;P<h.length;P++){var k=X[h[P]];if(k)for(var x=0;x<k.length;x++)k[x]>>>=1}console.log("remapping to lower bit depth")}var j=~~Math.sqrt(o.length),v=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],_=[];
for(var L=0;L<j;L++)for(var U=0;U<j;U++){var P=L*j+U,n=o[P],a=4,T=4,g=8,D=0,b=0;for(var x=0;x<18;x+=2){var N=(j+U+v[x])%j,C=(j+L+v[x+1])%j,Z=o[C*j+N];
if(Z==n){}else if(a==4){a=Z;D=x}else if(T==4&&Z!=a){T=Z;b=x;break}}if(T<a){var S=T;T=a;a=S;S=b;b=D;D=S}if(a<n){var S=a;
a=n;n=S;S=D;D=g;g=S}if(T<a){var S=T;T=a;a=S;S=b;b=D;D=S}_[P*3]=v[g+1]*I+v[g];_[P*3+1]=v[D+1]*I+v[D];
_[P*3+2]=v[b+1]*I+v[b]}var u=~~(.996*Q.raw.IS(X)),p=~~(.992*Q.raw.IS(X)),f=X.t50728;if(f[0]==0)f=[1,1,1];
var d=[],l=[0,0,0];for(var L=1;L<E-1;L++)for(var U=1;U<I-1;U++){var P=L*I+U,B=L%j*j+U%j,n=w[P+_[B*3+0]],a=w[P+_[B*3+1]],T=w[P+_[B*3+2]],e=Math.max(n,a,T);
if(e>u)d.push(P);else if(e>p){l[0]+=n;l[1]+=a;l[2]+=T;A++}}if(d.length==0)return;if(A/(I*E)<1e-5){console.log("not enough semi-saturated pixels",A);
l=f}if(l[1]<l[m])m=1;if(l[2]<l[m])m=2;var $=[l[0]/l[m],l[1]/l[m],l[2]/l[m]],V=w.slice(0);for(var H=0;
H<d.length;H++){var P=d[H],L=~~(P/I),U=P-L*I,B=L%j*j+U%j,F=Math.min(65535,~~(w[P+_[B*3+m]]*$[o[B]]));
if(F>V[P])V[P]=F}w.set(V)};Q.raw.Bz=function(w,I,E,X){var o=Math.round(w.length/3),i=jI.aI(X[0],X[1]),h=Q.raw.aky(E,i),k=Q.vU.multiply(Q.vU.Ao,h),x=Math.pow(2,E.t50730?E.t50730[0]:0);
k=Q.vU.multiply(k,Q.vU.WR(x,x,x));var j=Q.raw.Bz.aq6;if(j==null){j=Q.raw.Bz.aq6=new Float64Array(8e3);
for(var P=0;P<8e3;P++)j[P]=Q.qK(P*(1/1e3))}for(var P=0;P<o;P++){var v=P<<2,_=v-P,L=w[_],U=w[_+1],n=w[_+2],a=k[0]*L+k[1]*U+k[2]*n,T=k[4]*L+k[5]*U+k[6]*n,g=k[8]*L+k[9]*U+k[10]*n;
if(a<0)a=0;if(T<0)T=0;if(g<0)g=0;I[_]=j[~~(a*1e3)];I[_+1]=j[~~(T*1e3)];I[_+2]=j[~~(g*1e3)]}};Q.raw.acz=function(w){var I=w.width,E=w.height,X=I*E*w.t277,o=new Uint16Array(X),i=null,h=0;
Q.raw.aaJ(w,o);Q.raw.gP(1,w,o,I,E);if(w.t50712){i=w.t50712;h=i.length-1;if(i[h]>65535)throw"too big values"}var k=Q.raw.cp(w),x=Q.raw.C_(w);
if(i==null)for(var P=0;P<X;P++)o[P]=Math.max(0,o[P]-k);else for(var P=0;P<X;P++){var j=o[P];if(j>h)j=h;
j=i[j];o[P]=Math.max(0,j-k)}return o};Q.raw.cp=function(w){var I=w.t50714,E=I?I[0]:0,X=w.t50715,o=w.t50716;
if(X)E+=X[0][0]/X[0][1];if(o)E+=o[0][0]/o[0][1];return Math.round(E)};Q.raw.C_=function(w){var I=null,E=0;
if(w.t50712){I=w.t50712;E=I.length-1}var X=w.t50717?w.t50717[0]:(1<<w.t258[0])-1;if(I)X=Math.min(X,I[E]);
return X};Q.raw.IS=function(w){var I=Q.raw.cp(w),E=Q.raw.C_(w);return E-I};Q.raw.aaJ=function(w,I){var E=I.length,X=w.data,o=w.t258[0];
if(o!=16&&o!=14&&o!=12&&o!=10&&o!=8)throw"Unsupported Bits Per Sample:"+o;o=Math.round(X.length*8/E);
if(o==16&&w.isLE){Q.QM(X,I);return}for(var P=0;P<E;P+=2){var i=0,h=0,k=0;if(o==16){i=P<<1;h=X[i]<<8|X[i+1];
k=X[i+2]<<8|X[i+3]}else if(o==14){var x=P*14,j=x>>>3,v=X[j]<<24|X[j+1]<<16|X[j+2]<<8|X[j+3];if((x&7)==0){h=v>>>18;
k=v>>>4&16383}else{h=v>>>14&16383;k=v&16383}}else if(o==12){i=P+(P>>>1);h=X[i]<<4|X[i+1]>>4;k=(X[i+1]&15)<<8|X[i+2]}else if(o==10){var x=P*10,j=x>>>3;
if((x&7)==0){h=(X[j]<<2|X[j+1]>>6)&1023;k=(X[j+1]<<4|X[j+2]>>4)&1023}else{h=(X[j]<<6|X[j+1]>>2)&1023;
k=(X[j+1]<<8|X[j+2]>>0)&1023}}else if(o==8){i=P;h=X[i];k=X[i+1]}I[P]=h;I[P+1]=k}};Q.raw.a6K=function(w,I,E,X,o,i,h){var k=w-.499999,x=I-.499999,j=~~k,v=~~x,_=k-j,L=x-v,U=(1-L)*(1-_),n=(1-L)*_,a=L*(1-_),T=L*_,g=(v*X+j)*3,D=((v+1)*X+j)*3,b=U*E[g]+n*E[g+3]+a*E[D]+T*E[D+3],N=U*E[g+1]+n*E[g+4]+a*E[D+1]+T*E[D+4],C=U*E[g+2]+n*E[g+5]+a*E[D+2]+T*E[D+5];
i[h]=b;i[h+1]=N;i[h+2]=C};Q.raw.gP=function(w,I,E,X,o){var i=I["t"+[51008,51009,51022][w-1]],v=0;if(i==null)return;
var h=X*o,k=M.W,x=M.lb,j=new Uint8Array(i),jW=M.W(j,v);v+=4;for(var _=0;_<jW;_++){var L=k(j,v);v+=4;
var U=k(j,v);v+=4;var n=k(j,v);v+=4;var a=k(j,v);v+=4;if(!1){}else if(L==1&&w==3){var T=v,g=k(j,T);T+=4;
var D=x(j,T);T+=8;var b=x(j,T);T+=8;var N=x(j,T);T+=8;var C=x(j,T);T+=8;var Z=x(j,T);T+=8;var S=x(j,T);
T+=8;T+=(g-1)*8*6;var u=x(j,T);T+=8;var p=x(j,T);T+=8;var f=u*X,d=p*o,l=Math.max(f,X-f),A=Math.max(d,o-d),B=Math.sqrt(l*l+A*A),e=1/B,m=E.slice(0);
for(var $=0;$<o;$++)for(var V=0;V<X;V++){var H=(V+.5-f)*e,F=($+.5-d)*e,G=H*H+F*F,J=D+b*G+N*(G*G)+C*(G*G)*G,c=Z*(2*H*F)+S*(G+2*H*H),r=S*(2*H*F)+Z*(G+2*F*F),s=Math.min(f+B*(J*H+c),X-1),z=Math.min(d+B*(J*F+r),o-1),Y=($*X+V)*3;
Q.raw.a6K(s,z,m,X,o,E,Y)}}else if(L==3&&w==3){var T=v,ax=x(j,T);T+=8;var iW=x(j,T);T+=8;var y=x(j,T);
T+=8;var hm=x(j,T);T+=8;var t=x(j,T);T+=8;var u=x(j,T);T+=8;var p=x(j,T);T+=8;var f=u*X,d=p*o,l=Math.max(f,X-f),A=Math.max(d,o-d),B=Math.sqrt(l*l+A*A),e=1/B;
for(var $=0;$<o;$++)for(var V=0;V<X;V++){var H=(V+.5-f)*e,F=($+.5-d)*e,G=H*H+F*F,cT=1+(ax+(iW+(y+(hm+t*G)*G)*G)*G)*G,Y=($*X+V)*3;
E[Y]=cT*E[Y];E[Y+1]=cT*E[Y+1];E[Y+2]=cT*E[Y+2]}}else if(L==4&&w==1){var T=v,c4=k(j,T);T+=4;var kv=k(j,T);
T+=4;for(var P=0;P<h;P++)if(E[P]==c4)E[P]=E[P-2]+E[P+2]>>1}else if(L==5&&w==1){var T=v,iL=k(j,T);T+=4;
var cr=k(j,T);T+=4;var ga=k(j,T);T+=4;for(var P=0;P<cr;P++){var iq=k(j,T);T+=4;var ei=k(j,T);T+=4;var P=iq*X+ei;
E[P]=E[P-2]+E[P+2]>>1}}else if(L==7&&w==1){var T=v,hw=M.KU(j,T);T+=16;var hC=k(j,T);T+=4;var j5=k(j,T);
T+=4;var ed=k(j,T),jn=k(j,T+4);T+=8;var fj=k(j,T);T+=4;var di=new Uint16Array(fj);for(var P=0;P<fj;P++)di[P]=M.vH(j,T+2*P);
var b1=hw.q,dI=hw.w;for(var $=0;$<dI;$+=ed)for(var V=0;V<b1;V+=jn){var P=(hw.y+$)*X+(hw.x+V);E[P]=di[E[P]]}}else if(L==8&&w==2){var T=v,hw=M.KU(j,T);
T+=16;var hC=k(j,T);T+=4;var j5=k(j,T);T+=4;var ed=k(j,T),jn=k(j,T+4);T+=8;var h2=k(j,T);T+=4;var de=[];
for(var P=0;P<=h2;P++)de[P]=M.lb(j,T+P*8);var ds=hw.x,jO=hw.x+hw.q,gy=hw.y,fV=hw.y+hw.w,hl=I.t50717[0],im=1/hl;
for(var eA=0;eA<j5;eA++)for(var $=gy;$<fV;$+=ed){var Y=3*$*X+hC+eA;for(var V=ds;V<jO;V+=jn){var P=Y+3*V,hy=E[P]*im,dm=de[h2];
for(var hA=h2;hA>0;hA--)dm=dm*hy+de[hA-1];E[P]=Math.max(0,Math.min(65535,~~(dm*hl)))}}}else if(L==9&&w==2){var T=v,hw=M.KU(j,T),b5=!0;
T+=16;var hC=k(j,T);T+=4;var j5=k(j,T);T+=4;var ed=k(j,T),jn=k(j,T+4);T+=8;var j2=k(j,T),dQ=k(j,T+4);
T+=8;var aS=x(j,T),eh=x(j,T+8);T+=16;var h_=x(j,T),h6=x(j,T+8);T+=16;var gT=k(j,T);T+=4;if(gT!=1)throw"more than one map plane";
var b8=j2*dQ,hP=new Float32Array(b8);for(var hA=0;hA<b8;hA++)hP[hA]=M.Hx(j,T+hA*4);for(var hA=0;hA<b8;
hA++)if(hP[hA]!=1)b5=!1;if(!b5){var b1=hw.q,dI=hw.w,ar=.9999*(dQ-1)/b1,cG=.9999*(j2-1)/dI;for(var $=0;
$<dI;$+=ed)for(var V=0;V<b1;V+=jn){var P=(hw.y+$)*X+(hw.x+V),bd=V*ar,aZ=$*cG,gl=Math.floor(bd),ci=Math.floor(aZ),a7=bd-gl,ay=aZ-ci,Y=ci*dQ+gl,it=hP[Y]*(1-a7)+hP[Y+1]*a7,h1=hP[Y+dQ]*(1-a7)+hP[Y+1+dQ]*a7,hM=it*(1-ay)+h1*ay;
E[P]=Math.max(0,Math.min(65535,~~(E[P]*hM+.5)))}}}else console.log("Unknown opcode "+L+" in OpcodeList"+w+". Length: "+a);
v+=a}};Q.raw.aky=function(w,I){var E=jI.MF(I),X=Q.raw.Sr(w,I),o=Q.vU.ja(X),i=jI.wY(E,jI.MF(jI.ayj)),h=Q.vU.multiply(i,o);
return h};Q.raw.a2O=function(w){var I=w.t50728,o=1;if(I==null||I[0]==0)I=[1,1,1];var E=I.slice(0);E.push(0);
var X={x:.34567,y:.3585};do{var i=Q.vU.ja(Q.raw.Sr(w,X)),h=Q.vU.mm(i,E),k=jI.a5i(h);o=Math.abs(X.x-k.x)+Math.abs(X.y-k.y);
X=k}while(o>1e-7);return X};Q.raw.Sr=function(w,I){var E=jI.t6(I),X=Q.raw.ag_,o=w.t50778?w.t50778[0]:0,i=w.t50779?w.t50779[0]:0,h=X(w.t50721,w.t50722,o,i,E.Y$),k=X(w.t50723,w.t50724,o,i,E.Y$);
h=h||[1,0,0,0,1,0,0,0,1];k=k||[1,0,0,0,1,0,0,0,1];var x=w.t50727?[w.t50727[0],0,0,0,w.t50727[1],0,0,0,w.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return Q.vU.multiply(Q.vU._k(x),Q.vU.multiply(Q.vU._k(k),Q.vU._k(h)))};Q.raw.ag_=function(w,I,E,X,o){if(!w&&!I){return null}else if(w&&!I){return w}else if(o<E){return w}else if(o>X){return I}else{var i=(1/o-1/X)/(1/E-1/X),h=1-i,k=[];
for(var P=0;P<9;P++)k[P]=w[P]*i+I[P]*h;return k}};var jI={};jI.ayj={x:.34567,y:.3585};jI.Ym=[{o:0,iP:.18006,P$:.26352,U8:-.24341},{o:10,iP:.18066,P$:.26589,U8:-.25479},{o:20,iP:.18133,P$:.26846,U8:-.26876},{o:30,iP:.18208,P$:.27119,U8:-.28539},{o:40,iP:.18293,P$:.27407,U8:-.3047},{o:50,iP:.18388,P$:.27709,U8:-.32675},{o:60,iP:.18494,P$:.28021,U8:-.35156},{o:70,iP:.18611,P$:.28342,U8:-.37915},{o:80,iP:.1874,P$:.28668,U8:-.40955},{o:90,iP:.1888,P$:.28997,U8:-.44278},{o:100,iP:.19032,P$:.29326,U8:-.47888},{o:125,iP:.19462,P$:.30141,U8:-.58204},{o:150,iP:.19962,P$:.30921,U8:-.70471},{o:175,iP:.20525,P$:.31647,U8:-.84901},{o:200,iP:.21142,P$:.32312,U8:-1.0182},{o:225,iP:.21807,P$:.32909,U8:-1.2168},{o:250,iP:.22511,P$:.33439,U8:-1.4512},{o:275,iP:.23247,P$:.33904,U8:-1.7298},{o:300,iP:.2401,P$:.34308,U8:-2.0637},{o:325,iP:.24792,P$:.34655,U8:-2.4681},{o:350,iP:.25591,P$:.34951,U8:-2.9641},{o:375,iP:.264,P$:.352,U8:-3.5814},{o:400,iP:.27218,P$:.35407,U8:-4.3633},{o:425,iP:.28039,P$:.35577,U8:-5.3762},{o:450,iP:.28863,P$:.35714,U8:-6.7262},{o:475,iP:.29685,P$:.35823,U8:-8.5955},{o:500,iP:.30505,P$:.35907,U8:-11.324},{o:525,iP:.3132,P$:.35968,U8:-15.628},{o:550,iP:.32129,P$:.36011,U8:-23.325},{o:575,iP:.32931,P$:.36038,U8:-40.77},{o:600,iP:.33724,P$:.36051,U8:-116.45}];
jI.t6=function(w){var I=jI.Ym,E=2*w.x/(1.5-w.x+6*w.y),X=3*w.y/(1.5-w.x+6*w.y),o=0,i=0,h=0;for(;h<31;
h++){o=X-I[h].P$-I[h].U8*(E-I[h].iP);if(h>0&&o<0){break}i=o}while(h>=I.length)h--;o/=Math.sqrt(1+I[h].U8*I[h].U8);
i/=Math.sqrt(1+I[h-1].U8*I[h-1].U8);var k=i/(i-o),x=1e6/((I[h].o-I[h-1].o)*k+I[h-1].o),j=E-((I[h].iP-I[h-1].iP)*k+I[h-1].iP),v=X-((I[h].P$-I[h-1].P$)*k+I[h-1].P$),_=Math.sqrt(1+I[h].U8*I[h].U8),L=1/_,U=I[h].U8/_,n=Math.sqrt(1+I[h-1].U8*I[h-1].U8),a=1/n,T=I[h-1].U8/n,g=(L-a)*k+a,D=(U-T)*k+T,b=Math.sqrt(g*g+D*D);
g/=b;D/=b;var N=(j*g+v*D)*-3e3;return{Y$:x,ry:N}};jI.aI=function(w,I){var E=jI.Ym,X=1e6/w,o=1;for(;o<31;
o++){if(X<E[o].o){break}}var i=(E[o].o-X)/(E[o].o-E[o-1].o),h=(E[o-1].iP-E[o].iP)*i+E[o].iP,k=(E[o-1].P$-E[o].P$)*i+E[o].P$,x=Math.sqrt(1+E[o].U8*E[o].U8),j=1/x,v=E[o].U8/x,_=Math.sqrt(1+E[o-1].U8*E[o-1].U8),L=1/_,U=E[o-1].U8/_,n=(L-j)*i+j,a=(U-v)*i+v,T=Math.sqrt(n*n+a*a);
n/=T;a/=T;h+=n*I/-3e3;k+=a*I/-3e3;return{x:1.5*h/(h-4*k+2),y:k/(h-4*k+2)}};jI.a5i=function(w){var I=w[0]+w[1]+w[2];
return{x:w[0]/I,y:w[1]/I}};jI.MF=function(w){return{x:w.x/w.y,y:1,u3:(1-w.x-w.y)/w.y}};jI.wY=function(w,I){var E=Q.vU._k([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),X=[w.x,w.y,w.u3,0],o=[I.x,I.y,I.u3,0];
X=Q.vU.mm(E,X);o=Q.vU.mm(E,o);var i=o[0]/X[0],h=o[1]/X[1],k=o[2]/X[2],x=Q.vU._k([i,0,0,0,h,0,0,0,k]),j=Q.vU.ja(E);
return Q.vU.multiply(Q.vU.multiply(j,x),E)};Q.raw.Uz={};Q.raw.N_=function(w){w*=8;var I=[8,10,12,14,16];
for(var E in CAMS){var X=CAMS[E];if(X.length==4)continue;var o=X[4],i=X[5];for(var P=0;P<I.length;P++)if(o*i*I[P]==w)return[E,I[P]]}var h=[[4e3,3e3]];
for(var P=0;P<h.length;P++){var X=h[P],o=X[0],i=X[1];for(var P=0;P<I.length;P++)if(o*i*I[P]==w)return[X,I[P]]}return null};
Q.raw.akt=function(w){var w=new Uint8Array(w);for(var P=0;P<w.length;P+=2){var I=w[P];w[P]=w[P+1];w[P+1]=I}var E=Q.raw.N_(w.length),X=CAMS[E[0]];
if(X==null)X=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,E[0][0],E[0][1]];var o=X[4],i=X[5],h=Math.max(X[2],116),k={data:w,gO:1,width:o,height:i,t256:[o],t257:[i],t258:[E[1]],t277:[1],t33421:[2,2],t33422:Q.raw.TJ[X[1]],t50706:[1,2,0,0],t50714:[h,h,h,h],t50717:[X[3]],t50721:X[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var P=0;P<9;P++)k.t50721[P]/=1e4;return k};Q.raw.hX=function(w){if(w==null||w.length==0||typeof w[0]=="number")return w;
var I=[];for(var P=0;P<w.length;P++)I[P]=w[P][1]==0?0:w[P][0]/w[P][1];return I};Q.raw.TJ=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
Q.raw.normalize=function(w,I){if(w.t50706!=null||w.t271[0].startsWith("Hasselblad")){var E=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var P=0;P<E.length;P++)if(w["t"+E[P]]!=null)w["t"+E[P]]=Q.raw.hX(w["t"+E[P]]);if(w.t271&&w.t271[0].startsWith("Hasselblad")){w.t50706=[1,2,0,0];
w.t33422=Q.raw.TJ[1];w.t50723=[1,0,0,0,1,0,0,0,1];w.t50778=[17];if(!w.isLE)for(var P=0;P<w.data.length;
P+=2){var X=w.data[P];w.data[P]=w.data[P+1];w.data[P+1]=X}}return}var o=w.t258[0],i=w.exifIFD,I=new Uint8Array(I);
w.t50706=[1,2,0,0];var h=w.t272[0].trim();if(h.indexOf(" ")==-1)h=w.t271[0].trim()+" "+h;if(w.t50708==null)w.t50708=[h];
var k=h.toLowerCase(),x=CAMS,j=x[k];if(j==null)for(var v in x)if(k.startsWith(v))j=x[v];if(j==null)alert("Unknown camera:"+h);
else{var _=j[2];w.t50714=[_,_,_,_];w.t50717=[j[3]];w.t50721=j[0].slice(0);for(var P=0;P<9;P++)w.t50721[P]=w.t50721[P]*(1/1e4)}w.t50723=[1,0,0,0,1,0,0,0,1];
if(w.t50728==null)w.t50728=[.35,1,.6];w.t50778=[17];if(w.t271[0].startsWith("SONY")){var L=UTIF["_bin"+(w.isLE?"LE":"BE")],U=w.t28688,N;
if(JSON.stringify(U)!="[8000,10400,12900,14100]")console.log(U);if(U){var n=[0,0,0,0,0,4095],a=new Uint16Array(16385);
for(var P=0;P<4;P++){var T=U[P]>>>2;n[P+1]=T;if(T>4095)throw"e"}for(var P=0;P<16385;P++)a[P]=P;for(var P=0;
P<5;P++)for(var g=n[P]+1;g<=n[P+1];g++)a[g]=a[g-1]+(1<<P);var D=I.length*8<w.width*w.height*o;if(D)w.t50712=a}else console.log("no curve");
var b=w.dngPrvt;if(b){var C=b.t29184[0],Z=b.t29185[0],S=(w.isLE?M.vc:M.W)(b.t29217,0),u=new Uint32Array(I.slice(C,C+(Z&4294967292)).buffer),p=new Uint32Array(Z>>>2);
Q.raw.a8i(u,p,Z>>>2,S);var f=new Uint8Array(C+Z);f.set(new Uint8Array(p.buffer),C);var d=[];UTIF._readIFD(L,f,C,d,0,!1);
var l=d.pop(),A=l.t29458;w.t50728=[A[1]/A[0],1,A[1]/A[3]];w.t50730=[.5];var B=l.t29891;w.t50829=[B[1],B[0],B[3],B[2]]}else if(i.makerNote&&i.makerNote.t8208){var N=i.makerNote,e=N.t8208,m=e.length,$=0,V=new Uint8Array(256);
for(var P=249;P<256;P++)V[P]=P;for(var P=0;P<249;P++)V[P*P*P%249]=P;for(var P=0;P<m;P++)e[P]=V[e[P]];
if(m==6604)$=612;else throw"e";var A=[];for(var P=0;P<3;P++)A.push(M.Yl(e,$+P*2));console.log(A);w.t50728=[A[1]/A[0],1,A[1]/A[2]]}else console.log("no white balance");
if(w.width*w.height*1.5==w.t279[0]){_=_>>>2;w.t50714=[_,_,_,_];w.t50717=[j[3]>>>2]}}else if(w.t271[0].startsWith("Canon")){var I=w.data,H=I.slice(0),F=w.t50752,G=[],c=0;
if(F==null||F[0]==0&&F[1]==0)G.push(w.width);else{for(var P=0;P<F[0];P++)G.push(F[1]);G.push(F[2])}var J=w.width*2,r=w.t50885&&w.t50885[0]==4;
if(!r)for(var s=0;s<G.length;s++){var z=G[s],Y=2*c,ax=2*z;for(var iW=0;iW<w.height;iW+=2){var y=iW*J+Y,hm=w.height*Y+iW*ax;
for(var P=0;P<ax;P++){I[y+P]=H[hm+P];I[y+P+J]=H[hm+P+ax]}}c+=z}else{for(var s=0;s<G.length;s++){var z=G[s]/((F[0]*F[1]+F[2])/w.width);
for(var iW=0;iW<w.height;iW++){var y=(iW*w.width+c)*6,hm=(w.height*c+iW*z)*6;for(var P=0;P<z*6;P++)I[y+P]=H[hm+P]}c+=z}var t=new Uint16Array(I.buffer),cT=new Uint16Array(1),c4=new Int16Array(cT.buffer);
for(var P=0;P<t.length;P+=3){var kv=t[P],iL=t[P+1],cr=t[P+2];cT[0]=iL<<2;iL=c4[0]>>2;cT[0]=cr<<2;cr=c4[0]>>2;
t[P+0]=Math.max(0,cr+kv);t[P+1]=Math.max(0,(kv<<12)-iL*778-(cr<<11)>>12);t[P+2]=Math.max(0,iL+kv)}}var N=i.makerNote;
if(N.t16385){var ga=N.t224,hw=0;if(ga){w.t50719=[ga[5],ga[6]];w.t50720=[ga[7]+1-ga[5],ga[8]+1-ga[6]]}var iq=N.t16385,ei=iq.length;
if(ei==582)hw=1;else if(ei==653)hw=2;else if(ei==796)hw=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(ei)!=-1)hw=4;
else if(ei==5120){hw=5;iq=new Int16Array(iq.slice(0).buffer)}else if(ei==1273||ei==1275)hw=6;else if([1312,1313,1316,1506].indexOf(ei)!=-1)hw=7;
else if([1560,1592,1353,1602].indexOf(ei)!=-1)hw=8;else throw"e"+ei;var hC=iq[0],j5=[null,[25,166],[34,286],[63,196],[63],[71,hC==-4?333:264],[63,251],[63,hC==10?504:728],[63,326]],$=j5[hw][0],ed=j5[hw][1];
if(hw==4){if(iq[0]==2)ed=231;else if(iq[0]==3)ed=231;else if(iq[0]==4)ed=231;else if(iq[0]==5)ed=231;
else if(iq[0]==6)ed=231;else if(iq[0]==7)ed=231;else if(iq[0]==9)ed=231;else throw"e"}w.t50728=[iq[$+1]/iq[$],1,iq[$+1]/iq[$+3]];
var _=ed==null?1024:iq[ed];if(hw!=4)w.t50714=[_,_,_,_]}else{w.t50728=[.4,1,.6]}if(r){w.t277=[3];w.t50728=[1,1,1];
w.t50714=[0,0,0,0]}}else if(w.t271[0].startsWith("NIKON")){var N=i.makerNote,jn=w.isLE?M.Yl:M.mL,de=0,ds=0,im,aS=0;
if(N.t61){var fj=N.t61,di=[];for(var P=0;P<4;P++)di[P]=fj[P]/Math.pow(2,14-o);w.t50714=di}if(N.t3585){var b1=N.t3585,P=0,C=22;
while(C<b1.length&&P!=-4){var dI=M.vc(b1,C);C+=4;C+=14;P=M.vc(b1,C)-4;C+=4;if(dI==1990472198){if(b1[C]!=0)throw"Flip"}if(dI==1990472199){var h2=M.Yl(b1,C);
if(h2==0)w.gO=1;else if(h2==270)w.gO=8;else throw"e "+h2}C+=P}}if(N.t183){var jO=N.t183,gy=[];for(var P=0;
P<6;P++)gy.push(jn(jO,16+P*2));de=gy[0];ds=gy[1]}if(N.t3614){var fV=N.t3614;de=M.vc(fV,8);ds=M.vc(fV,12)}if(de!=0&&Math.max(de,ds)<Math.max(w.width,w.height)){if(de<ds){var X=de;
de=ds;ds=X}var c=w.width-de>>>1,iW=w.height-ds>>>1;w.t50829=[iW,c,iW+ds,c+de]}else w.t50829=[8,8,w.height-8,w.width-56];
var hl=N.t69;if(hl)w.t50829=[hl[1],hl[0],hl[1]+hl[3],hl[0]+hl[2]];if(N.t12){var eA=Q.raw.hX(N.t12);im=[1/eA[0],1,1/eA[1]]}else if(N.t151){var hy=Q.raw.amx(N,151),dm=hy[0],jq=hy[1],hA=hy[2];
if(dm=="0100"&&jq>=80)throw"e";else if(dm=="0102"){var j2=[];for(var P=0;P<4;P++)j2.push(jn(hA,6+P*2));
im=[j2[1]/j2[0],1,j2[1]/j2[3]]}else if(dm=="0103"&&jq>=26){var j2=[];for(var P=0;P<4;P++)j2.push(jn(hA,16+P*2));
im=[j2[1]/j2[0],1,j2[3]/j2[2]]}else if(dm=="0204"&&jq>=564||dm=="0205"&&jq>=284){var C=dm=="0204"?6:14,j2=[];
for(var P=0;P<4;P++)j2.push(jn(hA,C+P*2));im=[j2[1]/j2[0],1,j2[1]/j2[3]]}else throw"e"}else console.log("no white balance info");
if(h=="NIKON D1")im=[1,1,1];if(im)w.t50728=im;var dQ=N.t150?N.t150:N.t140;if(dQ){var eh=dQ[aS++],h_=dQ[aS++],b8;
if(eh==73||h_==88)aS+=2110;aS+=8;var h6=1<<o&32767,gT=jn(dQ,aS);aS+=2;var a=[];if(gT>1)b8=Math.floor(h6/(gT-1));
if(eh==68&&h_==32&&b8>0){for(P=0;P<gT;P++){a[P*b8]=jn(dQ,aS);aS+=2}for(P=0;P<h6;P++)a[P]=Math.floor((a[P-P%b8]*(b8-P%b8)+a[P-P%b8+b8]*(P%b8))/b8)}else if(eh!=70&&gT<=16385){h6=gT;
for(var P=0;P<gT;P++)a[P]=jn(dQ,aS+2*P);aS+=2*gT}var hP=w.t272[0];if(a.length!=0)w.t50712=new Uint16Array(a);
if(w.t258[0]==14&&w.t50717[0]<1e4){console.log("fixing white");w.t50717[0]*=4}}}else if(h.startsWith("FujiFilm")){}else if(h.startsWith("Panasonic")){}else alert("Unknown camera "+h)};
Q.raw.a8i=function(w,I,E,X){if(0==E)return;var o=new Uint32Array(128),i=new Uint8Array(o.buffer),h=127,k=0,x=0;
for(var h=0;h<4;h++)o[h]=X=(X*15625>>>0)*3125+1>>>0;o[3]=o[3]<<1|(o[0]^o[2])>>>31;for(var h=4;h<127;
h++)o[h]=(o[h-4]^o[h-2])<<1|(o[h-3]^o[h-1])>>>31;for(var h=0;h<127;h++)o[h]=M.W(i,h*4);for(;E>0;E--){o[h&127]=o[h+1&127]^o[h+1+64&127];
var j=o[h&127],v=w[k];v^=j;I[x]=v;k++;x++;h++}};Q.raw.af4=function(w,I){var E=M.jz(I,0,4),X=Q.raw.a2g;
for(var P=0;P<X.length;P++)if(X[P][0]==w&&E.startsWith(X[P][1])&&(X[P][2]==0||X[P][2]==I.length))return X[P];
throw"e"};Q.raw.avA=function(w){if(w.t29==null)return[];var I=Q.raw.akN,E=Q.raw.atj,X=w.t29[0],o=0,h=0;
for(var P=0;P<X.length;P++){var i=X.charCodeAt(P);o=o*10+(48<=i&&i<=57?i-48:i%10)}var jq=w.t167[0];for(var P=0;
P<4;P++)h^=jq>>>(P<<3)&255;var k=I[o&255],x=E[h&255];return[k,x,96]};Q.raw.amx=function(w,I){var E=w["t"+I],jq=E.length,X=Q.raw.af4(I,E),o=M.jz(E,0,4),i,h=X[4];
if(h==null)i=E.slice(4);else{i=new Uint8Array(jq-h);var k=Q.raw.avA(w),x=k[0],j=k[1],v=k[2];for(var P=0;
P<i.length;P++){j=j+x*v++&255;i[P]=E[h++]^j}}return[o,jq,i]};Q.raw.a2g=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
Q.raw.akN=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
Q.raw.atj=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
Q.lu={};Q.lu.lu=function(w,I,E,X,o){if(X==null)X=3;if(o==null)o=!0;var i=w.q,h=w.w,k=1/i,x=i*h,j=Date.now(),v=!1,_=Q.lu.rt(E,i,h,255,128),L=Q.lu.rt(E,i,h,0,128),iW=0;
if(v)console.log("extract contours",Date.now()-j);j=Date.now();var U=function(dm,hA){var j2=dm<<2,dQ=hA<<2;
return I[j2]+I[j2+1]+I[j2+2]-(I[dQ]+I[dQ+1]+I[dQ+2])};_.sort(U);L.sort(U);var n=Q.$(x),a=Q.$(x),T=[],g=new Uint32Array(i*h);
g.fill(4294967295);for(var P=0;P<x;P++)if(E[P]==0)a[P]=255;else if(E[P]==255)n[P]=255;else{g[P]=T.length;
T.push(P)}var D=_.length,b=L.length,N=T.length;function C(dm,hA,j2,dQ){var aS=dm.length,eh=new Array(aS*2);
for(var P=0;P<aS;P++){var $=dm[P],V=~~($*dQ),H=$-V*j2,im=$<<2;eh[P*2]=H<<16|V;eh[P*2+1]=hA[im]<<16|hA[im+1]<<8|hA[im+2]}return eh}var Z=C(_,I,i,k),S=C(L,I,i,k),u=C(T,I,i,k);
if(v)console.log("Itemize",Date.now()-j,"Unknown:",N,D,b);j=Date.now();var p=Q.style.kA(n,i,h,!0),f=Q.style.kA(a,i,h,!0),d=new Array(N),l=new Array(N),A=new Array(N),B=new Array(N),e=new Array(N);
if(v)console.log("Dist transform",Date.now()-j);j=Date.now();var m=Q.lu.Ya;for(var P=0;P<N;P++){var $=T[P],V=~~($*k),H=$-V*i,F=p[$<<1],G=p[($<<1)+1],J=Math.sqrt(F*F+G*G),c=f[$<<1],r=f[($<<1)+1],s=Math.sqrt(c*c+r*r);
d[P]=1/J;l[P]=1/s;var z=Math.floor(Q.e.dQ($*17)*D),Y=Math.floor(Q.e.dQ($*19)*b);A[P]=z;B[P]=Y;e[P]=m(u[P*2],u[P*2+1],Z[z*2],Z[z*2+1],S[Y*2],S[Y*2+1],d[P],l[P],1e9)}var ax=[-i-1,-i,-i+1,-1,1,i-1,i,i+1];
while(Math.floor(Math.max(D,b)*Math.pow(.5,iW))>1)iW++;for(var y=0;y<X;y++){var hm=0;for(var P=0;P<N;
P++){var $=T[P],V=~~($*k),H=$-V*i,t=d[P],cT=l[P],c4=u[P*2],kv=u[P*2+1],iL=e[P],z=A[P],Y=B[P],hC=1;if(V!=0&&H!=0&&H!=i-1&&V!=h-1)for(var cr=0;
cr<8;cr++){var ga=g[$+ax[cr]];if(ga==4294967295)continue;var iq=A[ga],ei=B[ga];if(iq==z&&ei==Y)continue;
var hw=m(c4,kv,Z[iq*2],Z[iq*2+1],S[ei*2],S[ei*2+1],t,cT,iL);if(hw<iL){iL=hw;z=iq;Y=ei}}for(var j5=0;
j5<iW;j5++){var ed=~~(D*hC),jn=~~(b*hC);hC*=.5;var fj=Q.e.dQ($+y*17+j5*31),di=Q.e.dQ($+y*29+j5*63),b1=Math.max(0,z-ed),dI=Math.min(z+ed,D-1),h2=Math.max(0,Y-jn),de=Math.min(Y+jn,b-1),iq=b1+~~(fj*(dI-b1)),ei=h2+~~(di*(de-h2)),hw=m(c4,kv,Z[iq*2],Z[iq*2+1],S[ei*2],S[ei*2+1],t,cT,iL);
if(hw<iL){iL=hw;z=iq;Y=ei}}e[P]=iL;A[P]=z;B[P]=Y;hm+=iL}}if(v)console.log(hm);if(v)console.log("iterations",Date.now()-j);
j=Date.now();var ds=E.slice(0);for(var P=0;P<N;P++){var jO=Q.lu.alpha(u[P*2+1],Z[A[P]*2+1],S[B[P]*2+1]);
ds[T[P]]=~~(.5+255*jO)}ds=Q.gq.aoj(ds,I,new dC(0,0,i,h),16,.01*.01);if(v)console.log("guided filter",Date.now()-j);
j=Date.now();if(o)for(var P=0;P<x;P++)if(E[P]==255||E[P]==0)ds[P]=E[P];var gy=I.slice(0);for(var P=0;
P<N;P++){var hl=T[P],z=_[A[P]],iL=e[P],im=hl<<2,eA=ds[hl],hy=(eA>=250?hl:z)<<2;gy[im]=I[hy];gy[im+1]=I[hy+1];
gy[im+2]=I[hy+2]}Q.lJ(ds,gy,3);if(v)console.log(Date.now()-j);j=Date.now();return gy};Q.lu.Ya=function(w,I,E,X,o,i,h,k,x){var j=w>>>16,v=w&65535,_=j-(E>>>16),L=v-(E&65535),U=j-(o>>>16),n=v-(o&65535),a=Math.sqrt(_*_+L*L)*h,T=Math.sqrt(U*U+n*n)*k;
if(a+T>=x)return 1e9;var g=Q.lu.ayb(I,X,i);return g+a+T};Q.lu.ayb=function(w,I,E){var X=w>>>16,o=w>>>8&255,i=w&255,h=I>>>16,k=I>>>8&255,x=I&255,j=E>>>16,v=E>>>8&255,_=E&255,L=Q.lu.alpha(w,I,E),U=X-(L*h+(1-L)*j),n=o-(L*k+(1-L)*v),a=i-(L*x+(1-L)*_);
return Math.sqrt(U*U+n*n+a*a)};Q.lu.alpha=function(w,I,E){var X=w>>>16,o=w>>>8&255,i=w&255,h=I>>>16,k=I>>>8&255,x=I&255,j=E>>>16,v=E>>>8&255,_=E&255,L=h-j,U=k-v,n=x-_,a=X-j,T=o-v,g=i-_,D=L*L+U*U+n*n,b=D==0?.5:(a*L+T*U+g*n)/D;
return Math.max(0,Math.min(1,b))};Q.lu.acr=function(w){};Q.lu.rt=function(w,I,E,X,o){var i=[],h=I-1,k=E-1;
for(var x=1;x<k;x++)for(var j=1;j<h;j++){var P=x*I+j;if(w[P]==X&&(w[P-I-1]==o||w[P-I]==o||w[P-I+1]==o||(w[P-1]==o||w[P+1]==o)||(w[P+I-1]==o||w[P+I]==o||w[P+I+1]==o)))i.push(P)}return i};
Q.gq={};Q.gq.apR=function(w,I,E,X,o){var i=E.q,h=E.w,k=i*h,x=Q.gq.kL,j=Q.$(k*4),v;Q.Ez(j,4294967295);
var _=E,L=w,U=I,n=X;Q.lJ(w,j,0);v=Q.BH(j,E);v=Q.BH(v.Fr,v.rect);_=v.rect;n=X>>>2;console.log(_,n);L=Q.$(_.A());
Q.qe(v.Fr,L,0);Q.lJ(I,j,0);v=Q.BH(j,E);v=Q.BH(v.Fr,v.rect);U=Q.$(_.A());Q.qe(v.Fr,U,0);var a=Q.gq.akH(L,U,_,n,o),T=a[0],g=a[1],D=new dC(0,0,_.q*2,_.w*2);
T=x(T,_,D,!0);T=x(T,D,E,!0);g=x(g,_,D,!0);g=x(g,D,E,!0);var b=Q.$(k);for(var P=0;P<k;P++)b[P]=Math.max(0,Math.min(255,Math.floor(.5+(T[P]*I[P]+255*g[P]))));
return b};Q.gq.kL=function(w,I,E,X){var o=E.q,i=E.w,h=I.q,k=I.w,x=Q.gq.ks,j=new Float32Array(o*i);for(var v=0;
v<k;v++){var _=(v+v)*o;for(var L=0;L<h;L++){if(!0||L==0||v==0||L==h-1||v==k-1)j[_]=j[_+1]=j[_+o]=j[_+o+1]=w[v*h+L];
else{j[_]=x(L+.25,v+.25,w,h,k);j[_+1]=x(L+.75,v+.25,w,h,k);j[_+o]=x(L+.25,v+.75,w,h,k);j[_+o+1]=x(L+.75,v+.75,w,h,k)}_+=2}}return j};
Q.gq.ks=function(w,I,E,X,o){w-=.499999;I-=.499999;var i=Math.floor(w),h=Math.floor(I),k=h*X+i,x=w-i,j=I-h,v=(1-j)*(1-x),_=(1-j)*x,L=j*(1-x),U=j*x;
if(E[k]==null||E[k+X+1]==null){console.log(w,I,X,o);throw"e"}return v*E[k+0]+_*E[k+1]+L*E[k+X+0]+U*E[k+X+1]};
Q.gq.akH=function(w,I,E,X,o){var i=E.q,h=E.w,k=i*h,x=Q.gq.iV,j=Q.gq.$,v=Q.iG.VP,_=Q.gq.oW,I=x(I),w=x(w),L=j(k);
v(I,L,E,X);var U=j(k);v(w,U,E,X);var n=j(k);_(I,I,n);v(n,n,E,X);var a=j(k);_(I,w,a);v(a,a,E,X);var T=j(k),g=j(k);
for(var P=0;P<k;P++){var D=L[P],b=U[P],N=n[P]-D*D,C=a[P]-D*b,Z=C/(N+o),S=b-Z*D;T[P]=Z;g[P]=S}var u=j(k);
v(T,u,E,X);var p=j(k);v(g,p,E,X);return[u,p]};Q.gq.aoj=function(w,I,E,X,o){var i=E.q,h=E.w,k=i*h,x=Q.gq.kL,j=Date.now(),v=!1,_=E,L=w,U=I,n=X;
_=new dC(0,0,i>>>2,h>>>2);n=X>>>2;L=Q.gq.acm(w,i,h);U=Q.gq.a1M(I,i,h);if(v)console.log(Date.now()-j);
j=Date.now();var a=Q.gq.axX(L,U,_,n,o),T=a[0],g=a[1],D=a[2],b=a[3];if(v)console.log(Date.now()-j);j=Date.now();
var N=Q.$(k);for(var C=0;C<h;C++)for(var Z=0;Z<i;Z++){var P=C*i+Z,S=(C>>>2)*(i>>>2)+(Z>>>2),u=P<<2,p=T[S]*I[u]+g[S]*I[u+1]+D[S]*I[u+2]+b[S]*255;
N[P]=Math.max(0,Math.min(255,~~(.5+p)))}if(v)console.log(Date.now()-j);j=Date.now();return N};Q.gq.acm=function(w,I,E){var X=I>>>2,o=E>>>2,i=Q.$(I*E);
for(var h=0;h<o;h++)for(var k=0;k<X;k++)i[h*X+k]=w[h*I+k<<2];return i};Q.gq.a1M=function(w,I,E){var X=I>>>2,o=E>>>2,i=Q.$(I*E*4);
for(var h=0;h<o;h++)for(var k=0;k<X;k++){var x=h*X+k<<2,j=h*I+k<<4;i[x]=w[j];i[x+1]=w[j+1];i[x+2]=w[j+2];
i[x+3]=w[j+3]}return i};Q.gq.axX=function(w,I,E,X,o){var i=E.q,h=E.w,k=i*h,x=Q.gq.iV,j=Q.gq.$,v=Q.iG.VP,_=Q.gq.oW,w=x(w),L=new Q.hV(i*h);
Q.tK(I,L);var I=[x(L.o),x(L.P),x(L.L)],U=Q.gq.a5z(w,I,E,X,o),n=j(k);v(w,n,E,X);var a=j(k);_(I[0],w,a);
v(a,a,E,X);var T=j(k);_(I[1],w,T);v(T,T,E,X);var g=j(k);_(I[2],w,g);v(g,g,E,X);var D=j(k),b=j(k),N=j(k),C=j(k);
for(var P=0;P<k;P++){var Z=n[P],S=U.Uw[P],u=U.sV[P],p=U.HT[P],f=a[P]-S*Z,d=T[P]-u*Z,l=g[P]-p*Z;D[P]=U.adV[P]*f+U.Mo[P]*d+U.iv[P]*l;
b[P]=U.Mo[P]*f+U.a7q[P]*d+U.pd[P]*l;N[P]=U.iv[P]*f+U.pd[P]*d+U.a4_[P]*l;C[P]=Z-D[P]*S-b[P]*u-N[P]*p}v(D,D,E,X);
v(b,b,E,X);v(N,N,E,X);v(C,C,E,X);return[D,b,N,C]};Q.gq.a5z=function(w,I,E,X,o){var i=E.q,h=E.w,k=i*h,x=Q.gq.$,j=Q.iG.VP,v=Q.gq.oW,_={};
_.Uw=x(k);j(I[0],_.Uw,E,X);_.sV=x(k);j(I[1],_.sV,E,X);_.HT=x(k);j(I[2],_.HT,E,X);var L=x(k);v(I[0],I[0],L);
j(L,L,E,X);var U=x(k);v(I[0],I[1],U);j(U,U,E,X);var n=x(k);v(I[0],I[2],n);j(n,n,E,X);var a=x(k);v(I[1],I[1],a);
j(a,a,E,X);var T=x(k);v(I[1],I[2],T);j(T,T,E,X);var g=x(k);v(I[2],I[2],g);j(g,g,E,X);_.adV=L;_.Mo=U;
_.iv=n;_.a7q=a;_.pd=T;_.a4_=g;for(var P=0;P<k;P++){var D=_.Uw[P],b=_.sV[P],N=_.HT[P],C=L[P]-D*D+o,Z=U[P]-D*b,S=n[P]-D*N,u=a[P]-b*b+o,p=T[P]-b*N,f=g[P]-N*N+o,d=u*f-p*p,l=p*S-Z*f,A=Z*p-u*S,B=C*f-S*S,e=S*Z-C*p,m=C*u-Z*Z,$=d*C+l*Z+A*S,V=1/$;
_.adV[P]=d*V;_.Mo[P]=l*V;_.iv[P]=A*V;_.a7q[P]=B*V;_.pd[P]=e*V;_.a4_[P]=m*V}return _};Q.gq.$=function(w){return new Float32Array(w)};
Q.gq.iV=function(w){var I=w.length,E=new Float32Array(I);for(var P=0;P<I;P++)E[P]=w[P]*(1/255);return E};
Q.gq.oW=function(w,I,E){for(var P=0;P<w.length;P++)E[P]=w[P]*I[P]};Q.v0={};Q.v0.EB=function(w,I,E,X){var o=w[I]-E[X],i=w[I+1]-E[X+1],h=w[I+2]-E[X+2];
return Math.sqrt(o*o+i*i+h*h)*(1/441.7)};Q.v0.getSelection=function(w,I,E){var X=I*E,o=Q.$(X),i=!1,h=Math.round(E*.7),k=1,x=new Uint32Array(12),j=Q.$(12);
for(var v=0;v<h;v++)for(var _=0;_<I;_++){if(_<k||v<k||_>I-k-1||v>E-k-1){var P=v*I+_,L=P<<2,U=0;if(v<k)U=4;
else if(_>I-k-1)U=8;x[U]+=w[L];x[U+1]+=w[L+1];x[U+2]+=w[L+2];x[U+3]++;o[P]=255}}for(var P=0;P<12;P+=4)for(var n=0;
n<3;n++)j[P+n]=x[P+n]/x[P+3];var a=new Float32Array(X);for(var P=0;P<X;P++){var L=P*4,T=Q.v0.EB(w,L,j,0),g=Q.v0.EB(w,L,j,4),D=Q.v0.EB(w,L,j,8),b=Math.max(T,Math.max(g,D));
a[P]=T+g+D-b}Q.v0.rs(a);var N=Date.now(),C=new Float32Array(X),Z=[],S=Q.$(X);for(var P=0;P<3;P++){Q.qe(w,S,P);
var u=new Uint16Array(X);Z.push(u);Q.v0.a85(S,o,I,E,u)}if(i)console.log("MBD",Date.now()-N);N=Date.now();
for(var P=0;P<X;P++)C[P]=Z[0][P]+Z[1][P]+Z[2][P];Q.v0.rs(C);for(var P=0;P<X;P++)C[P]+=.4*a[P];var p=I>>>1,h=E>>>1,f=1/Math.sqrt(p*p+h*h);
for(var v=0;v<E;v++)for(var _=0;_<I;_++){var d=_-p,l=v-h,A=1-Math.sqrt(d*d+l*l)*f;C[v*I+_]*=A}if(i)console.log("Centeredness",Date.now()-N);
N=Date.now();for(var P=0;P<X;P++)o[P]=C[P]*255;var B=Math.round(I/120),e=Math.round(B*.8);if(i)console.log(B,e);
Q.rc.vp(o,S,I,E,B,Q.rc.OM,[]);o.set(S);if(i)console.log("erosion",Date.now()-N);N=Date.now();for(var P=0;
P<X;P++)C[P]=o[P];Q.v0.rs(C);var m=Q.$(256);for(var P=0;P<256;P++)m[P]=256/(1+Math.exp(-20*(P/255-.5)));
for(var P=0;P<X;P++){var $=~~(C[P]*255+.5);o[P]=m[$]}if(i)console.log("Simoid",Date.now()-N);N=Date.now();
return o};Q.v0.rs=function(w){var I=w.length,E=0;for(var P=0;P<I;P++)E=Math.max(E,w[P]);var X=1/E;for(var P=0;
P<I;P++)w[P]=w[P]*X};Q.v0.a85=function(w,I,E,X,o){var i=E*X,h=w.slice(0),k=w.slice(0);for(var P=0;P<i;
P++)o[P]=I[P]==255?0:65535;Q.v0.A7(w,k,h,o,E,X);Q.v0.DB(w,k,h,o,E,X);Q.v0.A7(w,k,h,o,E,X);Q.v0.DB(w,k,h,o,E,X);
return o};Q.v0.A7=function(w,I,E,X,o,i){for(var h=1;h<o;h++)Q.v0.un(h,-1,w,I,E,X);for(var k=1;k<i;k++){Q.v0.un(k*o,-o,w,I,E,X);
for(var h=1;h<o;h++){var P=k*o+h;Q.v0.un(P,-1,w,I,E,X);Q.v0.un(P,-o,w,I,E,X)}}};Q.v0.DB=function(w,I,E,X,o,i){for(var h=o-2;
h>=0;h--)Q.v0.un(o*i-o+h,1,w,I,E,X);for(var k=i-2;k>=0;k--){Q.v0.un(k*o+o-1,o,w,I,E,X);for(var h=o-2;
h>=0;h--){var P=k*o+h;Q.v0.un(P,1,w,I,E,X);Q.v0.un(P,o,w,I,E,X)}}};Q.v0.un=function(P,w,I,E,X,o){var i=P+w,h=I[P],k=E[i],x=X[i];
if(k<h)k=h;else if(h<x)x=h;var j=k-x;if(o[i]!=65535&&j<o[P]){o[P]=j;E[P]=k;X[P]=x}};Q.mN={};Q.mN.filter=function(w,I,E,X){var o=I.q,i=I.w,h=o*i,k=X[0],x=X[1],j=X[2],v=X[3],_=X[4],L=X[5],U=X[6],n=Date.now(),a=new Float32Array(o*i*4);
Q.mN.aez(w,o,i,a);var T=Math.ceil(k*Math.sqrt(-2*Math.log(.1))),g=new ArrayBuffer(h*4),D=new Float32Array(g),b=new Float32Array(h),N=new Float32Array(h);
for(var P=0;P<h;P++){var C=P*4;D[P]=a[C];b[P]=a[C+1];N[P]=a[C+2]}Q.iG.Vm(D,D,I,T*1/2.4,2);Q.iG.Vm(b,b,I,T*1/2.4,2);
Q.iG.Vm(N,N,I,T*1/2.4,2);for(var P=0;P<h;P++){var C=P*4;a[C]=D[P];a[C+1]=b[P];a[C+2]=N[P]}var Z=new Uint8Array(g);
for(var P=0;P<h;P++){var C=P*4,S=P*4,D=a[C],b=a[C+1],N=a[C+2],u=Math.sqrt((D-N)*(D-N)+4*b*b),p=(D+N+u)*.5,f=(D+N-u)*.5,d=f-N,l=b,A=d*d+l*l;
if(A!=0){var B=Math.sqrt(A),e=1/B;d*=e;l*=e}Z[S]=128+127*d;Z[S+1]=128+127*l}var m=1.3*x+2,$=v*(2/10),V=w.slice();
if(R.U7){var H=new Float32Array([1/o,1/i]),F=R.uD(0,o,i);F.set(V);var G=R.uD(1,o,i);G.set(Z);R.yS(F,I);
if(_){F.Xt(I);R.filter.iN({type:R.filter.a5q,lI:H,aqI:1/j,aeb:$},F.T6)}F.Xt(I);R.filter.iN({type:R.filter.Vr,hg:G.q3,lI:H,arP:m,a1a:2},F.T6);
if(_){F.Xt(I);R.filter.iN({type:R.filter.aw6,lI:H,acg:new Float32Array(U),a7L:L},F.T6)}F.get(E)}else{if(_)Q.mN.Gm(1/j,$,V,o,i);
Q.mN.Vr(V,E,Z,o,i,m);if(_)Q.mN.aob(o,i,E,U,L)}var J=h*4;for(var P=3;P<J;P+=4)E[P]=w[P]};Q.mN.Vr=function(w,I,E,X,o,i){var h=Math.ceil(2*i),k=-1/(2*i*i),x=[],j=1;
for(var P=0;P<h+20;P++)x[P]=Math.exp(P*P*k);var v=[0,0,0,0];for(var _=0;_<o;_++){for(var L=0;L<X;L++){var U=_*X+L,n=U*4,a=1,T=w[n],g=w[n+1],D=w[n+2],b=w[n+3],N=(E[n]-128)*(1/127),C=(E[n+1]-128)*(1/127),Z=N,S=C,u=L==0?.51:.49,p=_==0?.51:.49;
for(var P=0;P<2;P++){var f=L+u,d=_+p,l=0;while(l<h){if(f<.5||X-.5<f||d<.5||o-.5<d)break;var A=~~f,B=~~d,e=B*X+A,m=e*4,$=(E[m]-128)*(1/127),V=(E[m+1]-128)*(1/127);
if($*Z+V*S<0){$=-$;V=-V}Z=$;S=V;f+=j*$;d+=j*V;if(f<.5||X-.5<f||d<.5||o-.5<d)break;var H=~~f,F=~~d,G=F*X+H<<2;
l+=j;var J=x[~~l];Q.K.E0(f,d,w,X,o,v);T+=v[0]*J;g+=v[1]*J;D+=v[2]*J;b+=v[3]*J;a+=J}Z=-N;S=-C}var c=1/a;
I[n]=~~(.5+T*c);I[n+1]=~~(.5+g*c);I[n+2]=~~(.5+D*c);I[n+3]=~~(.5+b*c)}}};Q.mN.aob=function(w,I,E,X,o){for(var i=0;
i<I;i++)for(var h=0;h<w;h++){var k=i*w+h<<2,x=1+Q.mN.anN(h,i,E,w,I,X)*o;E[k]=Math.max(0,Math.min(255,E[k]*x));
E[k+1]=Math.max(0,Math.min(255,E[k+1]*x));E[k+2]=Math.max(0,Math.min(255,E[k+2]*x))}};Q.mN.anN=function(w,I,E,X,o,i){var h=E[(I*X+Math.max(0,w-1))*4+3],k=E[(I*X+Math.min(X-1,w+1))*4+3],x=E[(Math.max(0,I-1)*X+w)*4+3],j=E[(Math.min(o-1,I+1)*X+w)*4+3],v=.7,_=(k-h)*(1/255),L=.7,U=(j-x)*(1/255),n=-_*L,a=-v*U,T=v*L,g=Math.sqrt(n*n+a*a+T*T),D=1/g,b=n*D,N=a*D,C=T*D,Z=i[0]*b+i[1]*N+i[2]*C;
return Z};Q.mN.Gm=function(w,I,E,X,o){function i(k,j,v){return Math.max(j,Math.min(v,k))}for(var h=0;
h<o;h++)for(var k=0;k<X;k++){var x=Q.mN.aer(k+.5,h+.5,w,I);E[(h*X+k)*4+3]=Math.max(0,Math.min(255,x*255))}};
Q.mN.aer=function(w,I,E,X){function o(S,u,p){return(1-p)*S+p*u}var i=(w+613)*E,h=(I+117)*E,k=~~i,x=~~h,j=i-k,v=h-x,_=Math.sin(11),L=Math.cos(k)*_,U=Math.cos(k+1)*_,n=Math.cos(x)*_,a=Math.cos(x+1)*_,eS=Q.mN.hash(L,n),T=Q.mN.hash(U,n),g=Q.mN.hash(L,a),D=Q.mN.hash(U,a),b=o(eS,T,j),N=o(g,D,j),C=o(b,N,v);
C=C<.5?0:1;var Z=C+X*Q.mN.hash(Math.cos(i)*_,Math.cos(h)*_);return Z*(1/3)};Q.mN.hash=function(w,I){var E=Math.sin(w*11.697096+I*73.32456)*12157.47691;
return E-Math.floor(E)};Q.mN.aez=function(w,I,E,X){var o=[-1,0,1,-2,0,2,-1,0,1],i=[-1,-2,-1,0,0,0,1,2,1],h=I-1,k=E-1,x=I*4;
for(var j=1;j<k;j++)for(var v=1;v<h;v++){var P=j*I+v,_=P*4,L=Q.mN.Fn(w,_,x,o),U=Q.mN.Fn(w,_,x,i),n=Q.mN.Fn(w,_+1,x,o),a=Q.mN.Fn(w,_+1,x,i),T=Q.mN.Fn(w,_+2,x,o),g=Q.mN.Fn(w,_+2,x,i);
X[_]=L*L+n*n+T*T;X[_+1]=L*U+n*a+T*g;X[_+2]=U*U+a*a+g*g}Q.mN.avx(X,I,E)};Q.mN.Fn=function(w,I,E,X){return w[I-E-4]*X[0]+w[I-E]*X[1]+w[I-E+4]*X[2]+w[I-4]*X[3]+w[I]*X[4]+w[I+4]*X[5]+w[I+E-4]*X[6]+w[I+E]*X[7]+w[I+E+4]*X[8]};
Q.mN.avx=function(w,I,E){function X(x,P,j){var v=P*4,_=j*4;x[_]=x[v];x[_+1]=x[v+1];x[_+2]=x[v+2]}var o=I-1,i=E-1;
X(w,I+1,0);X(w,2*I-2,I-1);for(var h=1;h<o;h++)X(w,I+h,h);for(var k=1;k<i;k++){X(w,k*I+1,k*I);X(w,k*I+I-2,k*I+I-1)}for(var h=1;
h<o;h++)X(w,(E-2)*I+h,(E-1)*I+h);X(w,(k-2)*I+1,(k-1)*I);X(w,(k-1)*I-2,k*I-1)};Q.IP=function(){function w(j,v,_,L){var U=new Float32Array(j*j),n=j/2;
for(var a=0;a<j;a++)for(var T=0;T<j;T++){var g=T+_-n,D=a+L-n;U[a*j+T]=Math.max(0,Math.min(1,v+.5-Math.sqrt(g*g+D*D)))}return U}var I=[],X=null;
function E(j,v,_,L){var U=Math.floor(v*10),n=I[U],a=j*8,T=a>>>1;if(n==null){n=I[U]=[];var g=new dC(0,0,a,a),D=j/2/(1+.2*v),b=Math.floor(j*U*.1);
for(var N=0;N<2;N++)for(var C=0;C<2;C++){var Z=w(a,D,.25+C*.5,.25+N*.5),S=0;Q.iG.Vm(Z,Z,g,b);while(Z[a*T+S]<.005)S++;
if(S!=0)S--;var u=2*(T-S),p=new dC(S,S,u,u),f=new Float32Array(u*u);for(var d=0;d<u;d++)for(var l=0;
l<u;l++)f[d*u+l]=Z[(S+d)*a+S+l];n.push([f,p])}}var A=Math.floor(_),B=Math.floor(L),e=_-A,m=L-B,$=e<.5?1:0,V=m<.5?1:0;
n=n[V*2+$];var p=n[1].clone();p.x+=A-T;p.y+=B-T;return[n[0],p]}function o(j,v,_){if(X==null){X=new Uint8Array(4e4);
for(var P=0;P<4e4;P++)X[P]=Math.min(255,~~(.5+255*Q.HF(P*(1/255))))}var L=j.length;for(var P=0;P<L;P++){var U=j[P],n=~~(255*U);
v[P]=X[n]<<24|_}}function i(j,v,_,L,U){var n=v.LP(L),a=Math.max(0,n.x-v.x),T=Math.max(0,n.x-L.x),g=Math.max(0,n.y-v.y),D=Math.max(0,n.y-L.y),b=n.q,N=n.w;
for(var P=0;P<N;P++){var C=(g+P)*v.q+a,Z=(D+P)*L.q+T;for(var S=0;S<b;S++){_[Z+S]+=U*j[C+S]}}}var h=-1;
function k(j,v,_,L,U){var n=Math.round(L[1]*v*_*.01),a=L[2],T=L[3],g=L[4],D=L[5],b=L[6],N=L[7],C=L[8],Z=L[9],S=L[10]?L[10]:1,J=!1;
if(a!=h){I=[];h=a}var u=Date.now(),p=new dC(0,0,v,_),f=new x(L[0]);if(U)j.fill(0);var d=new Float32Array(U?j.buffer:v*_);
for(var P=0;P<n;P++){var l=f.get()*v,A=f.get()*_,B=f.get()*T,e=f.get()*a*4,m=(f.get()+b)*Math.PI*2,$=f.get()*a*4,V=(f.get()+2*b)*Math.PI*2;
l+=Z*(e*Math.cos(m)+$*Math.cos(V));A+=Z*(e*Math.sin(m)+$*Math.sin(V));if(C)A=A+b*_*S;var H=E(a,B,l,A%_),F=g,G=f.get();
if(N)F=.5+.5*g*(.5+.5*Math.sin((2*b+G)*2*Math.PI));i(H[0],H[1],d,p,F)}if(J)console.log(Date.now()-u,"add floats");
u=Date.now();var c=new Uint8Array(d.buffer);o(d,new Uint32Array(c.buffer),D.L<<16|D.P<<8|D.o);if(J)console.log(Date.now()-u,"toInt");
u=Date.now();if(!U){Q.e.gF("scrn",c,p,j,p,p,1);if(J)console.log(Date.now()-u,"blendOver")}}function x(j){this.G4=123456789;
this.Eb=987654321;this.D=4294967295;this.wX(j)}x.prototype.wX=function(P){this.G4=123456789+P&this.D;
this.Eb=987654321-P&this.D};x.prototype.get=function(){this.Eb=36969*(this.Eb&65535)+(this.Eb>>16)&this.D;
this.G4=18e3*(this.G4&65535)+(this.G4>>16)&this.D;var j=(this.Eb<<16)+(this.G4&65535)>>>0;j/=4294967296;
return j};return{Go:k}}();Q.bC={};Q.bC.yh=function(w,I,E,X){var o=w[I*2],i=w[I*2+1],h=w[E*2],k=w[E*2+1],x=w[X*2],j=w[X*2+1];
return o*k+h*j+x*i-x*k-h*i-o*j};Q.bC.wZ=function(w,I){var E=[],X=[],o=[],i={};for(var P=0;P<I.length;
P+=3){var h=~~(P*(1/3)),k=I[P+0],x=I[P+1],j=I[P+2],_=Q.bC.yh(w,k,x,j);if(_>0){var L=x;x=j;j=L}var U=i[j+"-"+x],n=i[x+"-"+k],a=i[k+"-"+j],T=[j,U,h,null],g=[x,n,h,T],D=[k,a,h,g];
T[3]=D;if(U)U[1]=T;if(n)n[1]=g;if(a)a[1]=D;i[j+"-"+k]=D;i[k+"-"+x]=g;i[x+"-"+j]=T;E[k]=g;o[P]=g;E[x]=T;
o[P+1]=T;E[j]=D;o[P+2]=D;X[h]=g}return{TK:E,n8:X,y1:o}};Q.bC.agL=function(w){var I=[],E=w.n8;for(var P=0;
P<E.length;P++){var X=E[P];I.push(X[0]);X=X[3];I.push(X[0]);X=X[3];I.push(X[0])}return I};Q.bC.avw=function(w,I,E,X){var o=w[I*2],i=w[I*2+1],h=w[E*2],k=w[E*2+1],x=w[X*2],j=w[X*2+1],v=h-o,_=k-i,L=x-o,U=j-i,n=v*(o+h)+_*(i+k),a=L*(o+x)+U*(i+j),T=2*(v*(j-k)-_*(x-h));
if(Math.abs(T)<1e-5){var g=Math.min(o,h,x),D=Math.min(i,k,j),b=(Math.max(o,h,x)-g)*.5,N=(Math.max(i,k,j)-D)*.5;
return[g+b,D+N,b*b+N*N,1]}var C=(U*n-_*a)/T,Z=(v*a-L*n)/T,b=C-o,N=Z-i;return[C,Z,b*b+N*N,0]};Q.bC.a2h=function(w,I,E){var X=E[1],o=E[3],i=o[3],h=X[3],k=h[3],x=E[2],j=X[2],v=E[0],_=X[0],L=o[0],U=h[0],n=Q.bC.avw(w,_,U,L),a=w[v*2]-n[0],T=w[v*2+1]-n[1],g=a*a+T*T>n[2]&&n[3]==0&&Q.bC.yh(w,U,v,L)<0&&Q.bC.yh(w,L,_,U)<0;
if(g){E[0]=L;X[0]=U;E[3]=i;i[3]=h;h[3]=E;X[3]=k;k[3]=o;o[3]=X;o[2]=j;h[2]=x;I.n8[j]=k;I.n8[x]=i;I.TK[_]=h;
I.TK[v]=o}return g};Q.bC.abo=function(w,I,E){var X=w[I*2]-w[E*2],o=w[I*2+1]-w[E*2+1];return Math.sqrt(X*X+o*o)};
Q.bC.ajD=function(w,I,E){var X=E[1],o=E[3],i=o[3],h,k,x=E[2],j,v=E[0],_=i[0],L=o[0],U;if(X){h=X[3];k=h[3];
j=X[2];U=h[0]}var n=w.length>>>1;w[2*n]=(w[2*_]+w[2*v])*.5;w[2*n+1]=(w[2*_+1]+w[2*v+1])*.5;if(!0){var a=x,T=E,g=I.n8.length,D=[n,null,a,T],b=[L,D,g,i];
D[1]=b;var N=[n,null,g,b];o[3]=D;i[3]=N;i[2]=g;I.n8[a]=o;I.n8[g]=N;I.TK[v]=o;I.TK[L]=i;I.y1.push(D,b,N)}if(X){var C=j,Z=X,S=g+1;
N[1]=Z,Z[1]=N;var u=[n,null,C,Z],p=[U,u,S,k];u[1]=p;var f=[n,T,S,p];T[1]=f;h[3]=u;k[3]=f;k[2]=S;I.n8[C]=h;
I.n8[S]=k;I.TK[_]=h;I.TK[U]=k;I.y1.push(u,p,f)}I.TK[n]=T};Q.bC.yO=function(w,I){var E=0;while(!0){var X=E;
for(var P=0;P<I.y1.length;P++){var o=I.y1[P];if(o[1]==null)continue;var i=Q.bC.a2h(w,I,o);if(i){E++;
break}}if(X==E)break}return E!=0};Q.bC.a4R=function(w,I,E,X){var o=0;for(var P=0;P<X;P++){var i=null,h=0;
for(var k=0;k<I.y1.length;k++){var x=I.y1[k],j=Q.bC.abo(w,x[0],x[3][3][0])*(x[1]?1:2);if(j>h){i=x;h=j}}if(h>E){Q.bC.ajD(w,I,i);
o++}}return o!=0};Q.bC.asy=function(w,I){var E=[],L=0;for(var P=0;P<w.length;P++)E.push(0);for(var P=0;
P<I.y1.length;P++){var X=I.y1[P],o=X[0],i=X[3][3][0],h=w[o*2],k=w[o*2+1],x=w[i*2],j=w[i*2+1],v=h-x,_=k-j;
E[o*2]+=-v;E[o*2+1]+=-_;E[i*2]+=v;E[i*2+1]+=_}for(var P=0;P<w.length;P+=2){var U=P>>>1,n=I.TK[U],X=n,a=!0;
do{if(X[1]==null){a=!1;break}X=X[1][3]}while(X!=n);if(a){var T=.02;w[P]+=T*E[P];w[P+1]+=T*E[P+1];L+=T*(E[P]*E[P]+E[P+1]*E[P+1])}}return L};
Q.bC.abj=function(w,I,E){var X=Q.p.zK(w),o=Q.bC.wZ(w,I);Q.bC.yO(w,o);for(var i=0;i<300;i++){var h=!1,k=!1;
h=Q.bC.a4R(w,o,E,5);if(h)k=Q.bC.yO(w,o);var x=Q.bC.asy(w,o);if(!h&&!k&&x<1e-4){break}}return Q.bC.agL(o)};
Q.Zv={};Q.Zv.X4=function(w){var I=w.we,E=w.XB,X=w.HE,o=w.kz,i=w.d4,h=w.Bw,k=w.fT,x=Q.Ea.Na,D,b,N=0;function j(eS){var hm=new Array(eS);
for(var P=0;P<eS;P++)hm[P]=0;return hm}var v=E.length>>>1,_=j(I.go*2),L=j(I.go),U=j(I.go),n=Date.now();
for(var P=0;P<w.WC.length;P++){var a=I.a0a+P,T=I.LQ*(h[P*2]+k[P*2]),g=I.LQ*(h[P*2+1]+k[P*2+1]);_[a*2]=T;
_[a*2+1]=g;L[a]=T;U[a]=g}I.at5.BW(o,I.a2E.Na(_),.01,D,b);for(var P=0;P<I.aaS.y1.length;P++){var C=I.aaS.y1[P],Z=C[3][3][0],S=C[0],u=C[3][0],p=C[1]?C[1][3][0]:u;
if(C[1]&&Z>S)continue;var f=E[Z*2],d=E[Z*2+1],l=E[S*2],A=E[S*2+1],B=o[Z*2],e=o[Z*2+1],m=o[S*2],$=o[S*2+1],V=o[u*2],H=o[u*2+1],F=o[p*2],G=o[p*2+1],J=[B,e,m,$,V,H];
if(C[1])J.push(F,G);var c=x(I.av1[N],J),r=c[0],s=c[1],z=1/Math.sqrt(r*r+s*s);r*=z;s*=z;var Y=l-f,ax=A-d;
L[N]=r*Y+s*ax;U[N]=-s*Y+r*ax;N++}var iW=new Array(v),y=new Array(v);for(var P=0;P<v;P++){iW[P]=i[P*2];
y[P]=i[P*2+1]}I.awL.BW(iW,I.asF.Na(L),.5);I.awL.BW(y,I.asF.Na(U),.5);for(var P=0;P<v;P++){i[P*2]=iW[P];
i[P*2+1]=y[P]}};Q.Zv.M2=function(w){var I=w.XB,E=w.HE,X=w.WC,o=Q.Ea.multiply,i=Date.now(),h=Q.bC.wZ(I,E),k=I.length>>>1,x=0,n=0,s=1e3;
for(var P=0;P<h.y1.length;P++)x+=h.y1[P][1]?.5:1;var j=x+X.length,v=[],_=new Q.Jj(j*2,k*2),L=new Q.Jj(j,k),U=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],a=[],T=[];
for(var P=0;P<h.y1.length;P++){var g=h.y1[P],D=g[3][3][0],b=g[0],N=g[3][0],C=g[1]?g[1][3][0]:N;if(g[1]&&D>b)continue;
var Z=I[D*2],S=I[D*2+1],u=I[b*2],p=I[b*2+1],f=I[N*2],d=I[N*2+1],l=I[C*2],A=I[C*2+1],B=[[Z,S,1,0],[S,-Z,0,1],[u,p,1,0],[p,-u,0,1],[f,d,1,0],[d,-f,0,1]];
if(g[1])B.push([l,A,1,0],[A,-l,0,1]);var e=Q.Ea.KQ(B),m=o(linear.invert(o(e,B)),e);m.pop();m.pop();v.push(m);
var $=u-Z,V=p-S,H=U[g[1]?1:0];H=Q.Ea.MT(H,o([[$,V],[V,-$]],m));var F=[D*2,D*2+1,b*2,b*2+1,N*2,N*2+1,C*2,C*2+1],G=g[1]?8:6,J=[];
for(var c=0;c<G;c++)J.push([F[c],H[0][c],H[1][c]]);J.sort(function(hm,t){return hm[0]-t[0]});for(var r=0;
r<2;r++){for(var c=0;c<G;c++){a[c]=J[c][0];T[c]=J[c][1+r]}_.wA(T,a,G)}if(D<b)L.wA([-1,1],[D,b],2);else L.wA([1,-1],[b,D],2);
n++}for(var P=0;P<X.length;P++){var z=X[P];_.wA([s],[z*2],1);_.wA([s],[z*2+1],1);L.wA([s],[z],1)}var Y=_.KQ(),ax=Y.FA(Y),iW=L.KQ(),y=iW.FA(iW);
return{a0a:x,go:j,a2E:Y,at5:ax,asF:iW,awL:y,aaS:h,av1:v,LQ:s}};Q.Zv.aeU=function(w,I,E,X,o){var i=new dC(0,0,I,E),h=Q.$(i.A());
Q.qe(w,h,3);Q.round(h,70);var k=Q.dM(h,i),x=[.1,.065,.035][X]*Math.max(k.q,k.w),j=o+1,v=I+j*2,_=E+j*2,L=new dC(-j,-j,v,_),U=Q.$(L.A());
Q.b_(h,i,U,L);var n=U.slice(0);for(var a=0;a<o;a++){for(var T=1;T<_-1;T++){for(var g=1;g<v-1;g++){var P=T*v+g;
n[P]=U[P-v]|U[P-1]|U[P]|U[P+1]|U[P+v]}}var D=n;n=U;U=D}var b=a3.n5(U,v,_,Math.round(k.A()*5e-4)),N=a3.cm(b),C=new am(1,0,0,1,-j,-j);
for(var P=0;P<N.length;P++){var Z=N[P];Q.p.F(Z.path.C,C,Z.path.C);Z.XB=Q.Zv.ajg(Z.path);Z.HE=Q.p.amY(Z.XB);
Z.HE=Q.bC.abj(Z.XB,Z.HE,x)}return N};Q.Zv.ajg=function(w){var I=[],E=w.C,X=w.J.length-1,o=0,i=0;for(var h=0;
h<X;h++){var P=h*6,k=E[P+6]-E[P+0],x=E[P+7]-E[P+1],j=Math.ceil(Math.sqrt(k*k+x*x));for(var v=0;v<j;v++){var _=v/j,L=1-_,U=L*L*L*E[P+0]+3*L*L*_*E[P+2]+3*L*_*_*E[P+4]+_*_*_*E[P+6],n=L*L*L*E[P+1]+3*L*L*_*E[P+3]+3*L*_*_*E[P+5]+_*_*_*E[P+7];
I.push(U,n);o=U;i=n}}I=Q.p.HY(I,1);var a=[],T=I.length;for(var P=0;P<T;P+=2){var n=I.pop(),U=I.pop();
a.push(U,n)}return a};Q.Zv.a6u=function(w,I,E,X){function o(u,p,f,d,l){var A=l[u*2]-l[p*2],B=l[u*2+1]-l[p*2+1],e=Math.sqrt(A*A+B*B);
if(f[u].indexOf(p)==-1){f[u].push(p);d[u].push(e)}if(f[p].indexOf(u)==-1){f[p].push(u);d[p].push(e)}}var i=w.length>>>1,h=new Array(i);
if(E.length==0){h.fill(0);return h}var k=new Array(i),x=new Array(i);for(var P=0;P<i;P++){k[P]=[];x[P]=[]}for(var P=0;
P<I.length;P+=3){o(I[P],I[P+1],k,x,w);o(I[P],I[P+2],k,x,w);o(I[P+1],I[P+2],k,x,w)}var j=new Float64Array(i*2),v=new Uint32Array(i*2);
j.fill(1e9);var _=new Uint8Array(i);for(var L=0;L<E.length;L++){_.fill(0);var U=["---",[0,E[L]]];while(U.length!=1){var n=Q.Ij.Sc(U),a=n[0],T=n[1];
if(_[T]==1)continue;var g=T<<1;if(a<j[g]){j[g+1]=j[g];v[g+1]=v[g];j[g]=a;v[g]=L}else if(a<j[g+1]){j[g+1]=a;
v[g+1]=L}_[T]=1;var D=k[T],b=x[T];for(var P=0;P<D.length;P++){var N=D[P];if(_[N]!=1){Q.Ij.dJ(U,[a+b[P],N])}}}}for(var P=0;
P<i;P++){var g=P<<1,C=j[g],Z=j[g+1],S=1/(C+Z);h[P]=(1-C*S)*X[v[g]]+(1-Z*S)*X[v[g+1]]}return h};Q.Zv.amI=function(w){var I={J:[],C:[]},E=[w];
while(E.length!=0){var X=E.pop(),o=X.iM;if(X.asC instanceof Array||X.ao3 instanceof Array){I.J.push("M","L","L","L","Z");
I.C.push(o[0],o[1],o[2],o[1],o[2],o[3],o[0],o[3])}else E.push(X.asC,X.ao3)}return I};Q.Zv.dn=function(w,I,E,X,o,i,h,k,x,j){var v=Math.round(j.length/3),_=new Array(v);
for(var P=0;P<v;P++)_[P]=P;_.sort(function(U,n){return x[j[U*3]]-x[j[n*3]]});for(var P=0;P<v;P++){var L=_[P]*3;
Q.Zv.apc(j[L]*2,j[L+1]*2,j[L+2]*2,h,k,w,I,E,X,o,i)}};Q.Zv.apc=function(w,I,E,X,o,i,h,k,x,j,v){var _=Q.Zv.Nf,L=[w,I,E,1.2,1.2,1.2,0],U=[0,0,0,0],n=o[w],a=o[w+1],T=o[I],g=o[I+1],D=o[E],b=o[E+1],N=Math.max(0,Math.min(h-1,X[w])),C=Math.max(0,Math.min(h-1,X[I])),Z=Math.max(0,Math.min(h-1,X[E])),S=Math.max(0,Math.min(k-1,X[w+1])),u=Math.max(0,Math.min(k-1,X[I+1])),p=Math.max(0,Math.min(k-1,X[E+1])),f=T-n,d=g-a,l=D-n,A=b-a,B=1/(f*A-l*d+1e-9),e=Math.max(0,Math.floor(Math.min(n,T,D))),m=Math.min(j,Math.ceil(Math.max(n,T,D))),$=Math.max(0,Math.floor(Math.min(a,g,b))),V=Math.min(v,Math.ceil(Math.max(a,g,b)));
for(var H=$;H<V;H++)for(var F=e;F<m;F++){var G=F+.5-n,J=H+.5-a,c=(G*A-l*J)*B,r=(f*J-G*d)*B;if(c>=0&&r>=0&&c+r<=1){var s=1-c-r,z=N*s+C*c+Z*r,Y=S*s+u*c+p*r;
Q.K.E0(z,Y,i,h,k,U);Q.Zv.ajv(U,x,H*j+F<<2)}}};Q.Zv.ajv=function(w,I,E){var X=I[E],o=I[E+1],i=I[E+2],h=I[E+3],k=1-w[3]*(1/255);
I[E]=~~(.5+w[0]+X*k);I[E+1]=~~(.5+w[1]+o*k);I[E+2]=~~(.5+w[2]+i*k);I[E+3]=~~(.5+w[3]+h*k)};Q.Zv.Nf=function(){var w=function(E,X,o,i){var h=i[0],k=i[1],x=i[2],j=E[h+0],v=E[h+1],_=E[k+0],L=E[k+1],U=E[x+0],n=E[x+1],a=_-j,T=L-v,g=U-j,D=n-v,b=X-j,N=o-v,C=a*D-g*T,Z=1/(C+1e-9),S=(b*D-g*N)*Z,u=(a*N-b*T)*Z;
if(S>=0&&u>=0&&S+u<=1){i[3]=1-S-u;i[4]=S;i[5]=u;return 1}return 0},I=function(E,X,o,i){var h=[0,0,0,0,0,0];
for(var P=0;P<X.length;P+=3){h[0]=X[P]*2;h[1]=X[P+1]*2;h[2]=X[P+2]*2;if(w(E,o,i,h)==1)return!0}return!1};
return{anL:w,aqp:I}}();Q.JW={};Q.JW.abE=function(w,I,E){var X=Q.$(I*E*4),o=!1;Q.K.tE(w,I,E,X,[E,I,0,1,0,1,0,0]);
return[Q.JW.Ga(w,I,E,o),Q.JW.Ga(X,E,I,o)]};Q.JW.F=function(w,I){var E=!1,X=w[0],o=w[1],i=X[1],h=X[2],k=X[3],x=I.q,j=I.w;
if(h==x&&k==j)i=i.slice(0);else if(k!=j){var v=Q.$(h*j*4);Q.JW.xZ(o,j,v,E);i=Q.$(h*j*4);Q.K.tE(v,j,h,i,[h,j,0,1,0,1,0,0]);
if(h!=x){X=Q.JW.Ga(i,h,j,E);i=Q.$(x*j*4);Q.JW.xZ(X,x,i,E)}}else if(h!=x){i=Q.$(x*k*4);Q.JW.xZ(X,x,i,E)}return i};
Q.JW.Ga=function(w,I,E,X){var o=Date.now(),i=new Uint16Array(I*E),h=1;Q.JW.ab_(w,I,E,i);var k=Math.ceil(I/h),x=new Uint32Array(h),j=new Uint32Array(h),k=Math.floor(I/h);
for(var v=0;v<h;v++)j[v]=v<h-1?k:I-(h-1)*k;for(var _=0;_<E;_++){var P=_*I;for(var v=0;v<h;v++){var k=j[v];
for(var L=0;L<k;L++)x[v]+=i[P+L];P+=k}}if(X){console.log(Date.now()-o,"cost");o=Date.now()}var U=new Uint32Array(I),n=new Uint32Array(I),a=new Uint32Array(I*E);
for(var L=0;L<I;L++){a[(E-1)*I+L]=i[(E-1)*I+L]}for(var _=E-2;_>=0;_--){var T=_*I;for(var v=0;v<h;v++){var k=j[v];
a[T]=i[T]+Math.min(a[T+I],a[T+I+1]);for(var L=1;L<k-1;L++){var P=T+L;a[P]=i[P]+Math.min(a[P+I-1],Math.min(a[P+I],a[P+I+1]))}T+=k-1;
a[T]=i[T]+Math.min(a[T+I-1],a[T+I]);T++}}if(X){console.log(Date.now()-o,"Building M");o=Date.now()}function g(d,l){return d<l?d:l}function D(P,d){var l=n[P],A=a[d],B=~~(l*A*1e-4);
return B}var b=new Uint8Array(I*E),N=new Uint32Array(I);for(var P=0;P<I;P++){U[P]=P;n[P]=i[P]}for(var _=1;
_<E;_++){var C=0,T=_*I;for(var v=0;v<h;v++){var k=j[v],P=T;N[C]=D(C,P);var Z=N[C]+D(C+1,P+1),S=D(C,P+1)+D(C+1,P);
N[C+1]=g(Z,S);for(var L=2;L<k;L++){var P=T+L,u=N[C+L-1]+D(C+L-1,P-1),p=N[C+L-2]+D(C+L-1,P-2)+D(C+L-2,P-1);
N[C+L]=g(u,p)}var L=k-1;while(L>=2){var P=T+L,u=N[C+L-1]+D(C+L-1,P-1),p=N[C+L-2]+D(C+L-1,P-2)+D(C+L-2,P-1);
if(N[C+L]==u){b[P-I]=1;L-=1}else{b[P-I]=0;b[P-I-1]=2;L-=2}}var P=T;if(L==0){b[P-I]=1}else{if(N[C+1]==Z){b[P+1-I]=1;
b[P-I]=1}else{b[P+1-I]=0;b[P-I]=2}}T+=k;C+=k}Q.JW.awD(_,I,b,i,U,n,!0,o)}if(X){console.log(Date.now()-o,"Matching");
o=Date.now()}var f=i;return[UZIP.adler(w,0,w.length),w,I,E,h,j,x,U,n,b,f]};Q.JW.xZ=function(w,I,E,X){var o=w.slice(0),i=o.shift(),h=o.shift(),k=o.shift(),x=o.shift(),j=o.shift(),v=o.shift(),_=o.shift(),L=o.shift(),U=o.shift().slice(0),n=o.shift(),a=o.shift(),T=Date.now(),g=Math.abs(k-I),D=Math.floor(g/j),b=new Uint32Array(j),C=0,Z=1e9,u=0,p=0,f=0;
for(var N=0;N<j;N++)b[N]=N<j-1?D:g-(j-1)*D;a.fill(0);for(var S=0;S<k;S++){C=Math.max(C,U[S]);Z=Math.min(Z,U[S])}for(var N=0;
N<j;N++){var d=v[N],D=b[N];for(var l=0;l<D;l++){var A=0,B=1e9;for(var S=0;S<d;S++)if(U[p+S]<B){B=U[p+S];
A=p+S}if(I<k)U[A]=1e9;else U[A]*=1.2;if(f<k/3)u+=B;var e=L[A],m=a[e],$=m<65280?65280:m+1;if($<65280)throw"e";
for(var V=0;V<x;V++){var P=V*k+e;a[P]=$;e+=n[P]-1}f++}p+=d}if(X){console.log(Date.now()-T,"Removing best seams");
T=Date.now()}function H(P,G){var J=P<<2,c=G<<2;E[J]=h[c];E[J+1]=h[c+1];E[J+2]=h[c+2];E[J+3]=h[c+3]}for(var V=0;
V<x;V++){var F=0,P=V*k;for(var S=0;S<I;S++,F++){if(I<k){while(a[P+F]==65280)F++;H(V*I+S,V*k+F)}else{H(V*I+S,V*k+F);
while(a[P+F]>=65280){a[P+F]--;S++;H(V*I+S,V*k+F)}}}}if(X){console.log(Date.now()-T,"Shifting image pixels");
T=Date.now()}};Q.JW.awD=function(w,I,E,X,o,i){var h=0,P=w*I;while(h<I){if(E[P-I]==1){i[h]=i[h]+X[P];
h++;P++}else{var k=o[h];o[h]=o[h+1];o[h+1]=k;var x=i[h];i[h]=i[h+1]+X[P];i[h+1]=x+X[P+1];h+=2;P+=2}}};
Q.JW.ab_=function(w,I,E,X){function o(w,P,x){var _=P<<2,L=x<<2,U=w[_]-w[L],n=w[_+1]-w[L+1],a=w[_+2]-w[L+2];
return Math.abs(U)+Math.abs(n)+Math.abs(a)}for(var i=1;i<I;i++){var h=o(w,i,i-1);X[i-1]+=h;X[i]+=h}for(var k=1;
k<E;k++){var x=k*I,h=o(w,x,x-I);X[x]+=h;X[x-I]+=h;for(var i=1;i<I;i++){var P=k*I+i,j=o(w,P,P-1),v=o(w,P,P-I);
X[P-I]+=v;X[P-1]+=j;X[P]+=v+j}}for(var k=0;k<E;k++){X[k*I]*=2;X[k*I+I-1]*=2}for(var P=0;P<X.length;P++)if(X[P]==0)X[P]=1};
Q.Hc=function(){var w=0,I=0,X=15,i=256;function E(v,_,L,U,n,a){var T=(n-1)*_,g=a*_;return v[g+U]-v[g+L-1]-v[T+U]+v[T+L-1]}var o=Math.round(X/8),h=[];
function k(v,_){for(var L=0;L<_.length;L++){var U=_[L],n=0,a=0,T=v[U.qV],g=T.t9,D=T.LQ,b=T.Ns;for(var N=-X;
N<=X;N++)for(var C=-X;C<=X;C++){var Z=C+U.a80,S=N+U.af8;if(C*C+N*N>X*X||Z<0||S<0||Z>=D||S>=D)continue;
var u=g[S*D+Z];n+=C*u;a+=N*u}U.ll=Math.atan2(a,n)}}function x(v,_,L,U,n){var a=~~(v+.5),T=~~(_+.5);return E(L,U,a-o,a+o,T-o,T+o)}function j(v,_,L,U,n){w=U;
I=n;if(h.length==0){var a=new Q.e.Y3(16200817),b=8,N=0;function T(hm){var f=hm[0]-hm[2],d=hm[1]-hm[3];
return f*f+d*d}function g(){var hm=0,t=0;while(hm===0)hm=a.get();while(t===0)t=a.get();return Math.sqrt(-2*Math.log(hm))*Math.cos(2*Math.PI*t)}var D=g,C=[];
while(N!=i){var Z=Math.max(-X,Math.min(X,D()*b)),S=Math.max(-X,Math.min(X,D()*b)),u=Math.max(-X,Math.min(X,D()*b)),p=Math.max(-X,Math.min(X,D()*b)),f=Z-u,d=S-p,l=Math.sqrt(f*f+d*d);
if(l<3||l>12)continue;h.push(Z,S,u,p);N++}}var A=20;for(var B=0;B<_.length;B++){var e=_[B],m=v[e.qV],$=m.cb,L=m.t9,U=m.LQ,n=m.Ns,V=e.a80,H=e.af8,F=e.ll,G=Math.cos(F),J=Math.sin(F),c=new Uint8Array(i>>>3);
e.Zc=c;for(var P=0;P<i;P++){var r=P*4,Z=h[r+0],S=h[r+1],u=h[r+2],p=h[r+3],s=G*Z-J*S,z=J*Z+G*S,Y=G*u-J*p,ax=J*u+G*p,iW=x(V+s,H+z,$,U,n),y=x(V+Y,H+ax,$,U,n);
c[P>>>3]|=(iW<y?0:1)<<(P&7)}}}return{a1k:k,ah2:j}}();Q.alF=function(){function w(I,E){var X=[[9]],o=Date.now(),i=[];
for(var h=0;h<I.length;h++){var k=I[h],x=k.cb,j=k.LQ,v=k.Ns,U=9,b=1,e=24;if(x==null)continue;var _=new Float32Array(j*v),L=new Uint8Array(j*v),n=U>>>1,a=n>>>1,T=Math.round(U/3);
if(T!=U/3)throw"e";var g=1/(U*U),D=1.2*(U/9);for(var N=n+1;N<v-n;N+=b)for(var C=n+1;C<j-n;C+=b){var Z=Q.Ek(x,j,C-a,C+a,N-n,N+n)-3*Q.Ek(x,j,C-a,C+a,N-n+T,N+n-T),S=Q.Ek(x,j,C-n,C+n,N-a,N+a)-3*Q.Ek(x,j,C-n+T,C+n-T,N-a,N+a),u=C-n+1,p=C+n-1,f=N-n+1,d=N+n-1,l=Q.Ek(x,j,u,C-1,f,N-1)+Q.Ek(x,j,C+1,p,N+1,d)-Q.Ek(x,j,C+1,p,f,N-1)-Q.Ek(x,j,u,C-1,N+1,d),A=(S*Z-.9*l*(.9*l))*(g*g);
_[N*j+C]=Math.abs(A);L[N*j+C]=A<0?0:1}var B=j*b;for(var N=e;N<v-e;N+=b)for(var C=e;C<j-e;C+=b){var P=N*j+C,m=_[P];
if(m<16)continue;if(_[P-b]>=m||_[P+b]>=m)continue;if(_[P-B-b]>=m||_[P-B]>=m||_[P-B+b]>=m)continue;if(_[P+B-b]>=m||_[P+B]>=m||_[P+B+b]>=m)continue;
i.push({x:~~(C*k.E$+.5),y:~~(N*k.E$+.5),a80:C,af8:N,qV:h,k:m,a1s:L[P],Ls:D})}}if(E!=null){i.sort(function(r,s){return s.k-r.k});
i=i.slice(0,E)}return i;var $=[];for(var P=0;P<i.length;P++){var V=!0,H=i[P];for(var F=0;F<i.length;
F++){var G=i[F];if(F!=P&&G.k>H.k&&(G.qV==H.qV+1||G.qV==H.qV-1)){var J=H.x-G.x,c=H.y-G.y;if(J*J+c*c<5){V=!1;
break}}}if(V)$.push(H)}console.log(i.length,$.length);return $}return{ai0:w}}();Q.gp={};Q.gp.adf=function(w){var I=w.length,E=Q.gp.Ua(w,!1),o=0,i=1;
throw"e";var X=[];for(var P=0;P<I;P++)X[P]=Q.gp.ve(E[P]);var h=w[0][1],k=Q.gp.match(E[o],E[i],X[i]);
console.log(k.length);var x=Math.max(Math.min(k.length,40),k.length*.54);x=Math.min(x,200);var j=k.slice(0,x),v=Q.sJ.asq(E[o],E[i],j,h.q,h.w),_=Q.sJ.ahH(v,[0,0,0],1),L=h.q/2,U=h.w/2,n=1/Math.max(L,U);
for(var P=0;P<1;P++){var a=j[P],T=E[o][a[0]],g=E[i][a[1]],D=Q.sJ.a0R(_,n*(T.x-L),n*(T.y-U),n*(g.x-L),n*(g.y-U))}var b=Q.sJ.adA(v,h),N=[];
for(var P=0;P<2;P++){var C=b[P],Z=[C[0][0],C[0][1],C[0][2],C[1][0],C[1][1],C[1][2],C[2][0],C[2][1]],S=q.R.Bm(w[P],null,Z);
N.push([S.buffer,S.rect])}return[Q.gp.asi(N[0],N[1],E[o],E[i],j,v,b,h)]};Q.gp.pt=function(w,I){var E=w.length,X=!1,o=Date.now(),i=Q.gp.Ua(w,!1,1e4);
if(X)console.log("Descriptors ready",Date.now()-o);o=Date.now();for(var P=0;P<E;P++){var h=w[P][1];for(var k=0;
k<i[P].length;k++){i[P][k].x+=h.x;i[P][k].y+=h.y}}if(X)console.log("shifted",Date.now()-o);o=Date.now();
var x=[];for(var P=0;P<E;P++)x[P]=Q.gp.ve(i[P]);if(X)console.log("trees built",Date.now()-o);o=Date.now();
var j=[];for(var P=0;P<E-1;P++)for(var k=P+1;k<E;k++){var v=Q.gp.match(i[P],i[k],x[k]);if(X)console.log("Matches found",P,k,v.length);
v=v.slice(0,v.length>>>1);if(v.length<10)return null;var _=Q.gp.aap(i[P],i[k],v,2);j.push([P,k,v,_])}j.sort(function(p,f){return f[2].length-p[2].length});
if(X)console.log("Matches found",Date.now()-o);o=Date.now();var L=[],U=new UnionFind(E);for(var P=0;
P<j.length;P++){var n=j[P],a=U.find(n[0]),T=U.find(n[1]);if(a!=T){L.push(n);U.link(a,T)}}var g=[];for(var P=0;
P<E;P++)g[P]=[1,0,0,0,1,0,0,0];var D=[0],b=new Uint8Array(E);b[D[0]]=1;while(D.length!=0){var T=D.pop(),_=g[T],N=[];
for(var P=0;P<L.length;P++){var n=L[P],C=n[0],Z=n[1];if(C==T&&b[Z]==0){g[Z]=Q.K.og(_,n[3]);D.push(Z);
b[Z]=1}if(Z==T&&b[C]==0){g[C]=Q.K.og(_,Q.K.ja(n[3]));D.push(C);b[C]=1}}}if(I==null){var S=[];for(var P=0;
P<E;P++)S.push([g[P][2],P]);S.sort(function(p,f){return p[0]-f[0]});I=S[S.length>>>1][1]}var u=Q.K.ja(g[I]);
for(var P=0;P<E;P++)g[P]=Q.K.og(g[P],u);if(X)console.log("Transforms reordered",Date.now()-o);o=Date.now();
return g};Q.gp.Ua=function(w,I,E){var X=[],o=!1;for(var P=0;P<w.length;P++){var i=w[P][0],h=w[P][1],k=h.q,x=h.w,j=Q.$(h.A());
Q.V0(i,j);var v=Date.now(),_=Q.gp.aba(j,h,!0);if(o)console.log("Pyramid built ---------------",Date.now()-v);
v=Date.now();var L=Q.alF.ai0(_,E);if(o)console.log("SURF Generation",Date.now()-v);v=Date.now();if(!I){Q.Hc.a1k(_,L);
if(o)console.log("ORB Orientations",Date.now()-v);v=Date.now();Q.Hc.ah2(_,L,j,k,x);if(o)console.log("ORB Descriptors",Date.now()-v);
v=Date.now()}X.push(L)}return X};Q.gp.aba=function(w,I,E){var X=[],o=[w,I];Q.tY(o);if(E){var i=Q.mw(w,I),h=i.rect,k=[i.Fr,h];
Q.tY(k)}for(var P=0;P<o.length;P++){var x=o[2*P],j=o[2*P+1],v=j.q,_=j.w,L=Math.min(v,_);if(L<30)break;
if(L<1600)X.push({t9:x,LQ:v,Ns:_,E$:1<<P,cb:Q.cs(x,v,_)});if(!E)continue;var x=k[2*P],j=k[2*P+1],v=j.q,_=j.w,L=Math.min(v,_);
if(L<30)break;if(L<1600)X.push({t9:x,LQ:v,Ns:_,E$:(1<<P)*3/2,cb:Q.cs(x,v,_)})}return X};Q.gp.aap=function(w,I,E,X){var o=Date.now(),i,h=0,k=0,x=E.length,j=new Float64Array(2);
for(var v=0;v<3e3;v++){var _=~~(Math.random()*x),L=~~(Math.random()*x),U=~~(Math.random()*x),n=~~(Math.random()*x),B=0,e=0;
if(_==L||_==U||_==n||L==U||L==n||U==n)continue;var a=E[_],T=E[L],g=E[U],D=E[n],b=w[a[0]],N=I[a[1]],C=w[T[0]],Z=I[T[1]],S=w[g[0]],u=I[g[1]],p=w[D[0]],f=I[D[1]],d=[b.x,b.y,C.x,C.y,S.x,S.y,p.x,p.y],l=[N.x,N.y,Z.x,Z.y,u.x,u.y,f.x,f.y],A=Q.K.k7(d,l);
if(A[0]==0&&A[1]==0&&A[3]==0&&A[4]==0)continue;var m=x-h+2;for(var P=0;P<x&&P-B<m;P++){var $=w[E[P][0]],V=I[E[P][1]];
Q.K.f4(V.x,V.y,A,j);var H=j[0]-$.x,F=j[1]-$.y,G=H*H+F*F;if(G<X){B++;e+=G}}if(B>h||B==h&&e<k){i=A;h=B;
k=e}}return i};var jW=new Uint8Array(256);for(var P=0;P<256;P++){var jq=0,eS=P;while(eS!=0){eS=eS&eS-1;
jq++}jW[P]=jq}Q.gp.awC=function(w,I,E){var X=0,o=w.length;for(var P=0;P<o&&X<E;P++)X+=jW[w[P]^I[P]];
return X};Q.gp.a73=function(w,I,E,top,X){if(X[E]==1)return;var o=Q.gp.awC(w.Zc,I.Zc,top[0]);if(o<top[0]){if(o<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=o;top[3]=E}else{top[0]=o;top[1]=E}}X[E]=1};Q.gp.ve=function(w){var I=[],E=[],X=[[],[]],o=4;
for(var P=0;P<w.length;P++)(w[P].a1s==0?I:E).push(P);for(var i=0;i<2;i++){var h=new Array(o),k=[],x=i==0?I:E,j=x.length/256,v=[];
for(var _=0;_<32;_++){var L=new Array(256),a=0;for(var U=0;U<256;U++)L[U]=[];for(var U=0;U<x.length;
U++){var n=x[U];L[w[n].Zc[_]].push(n)}for(var U=0;U<256;U++)a+=Math.abs(L[U].length-j);v.push([a,_,L])}v.sort(function(T,g){return T[0]-g[0]});
var k=[],h=[];X[i]=[k,h];for(var P=0;P<o;P++){k.push(v[P][1]);h.push(v[P][2])}}return X};Q.gp.match=function(w,I,E){var X=[],o=new Uint16Array(I.length);
o.fill(65535);var i=new Uint8Array(I.length),top=new Uint32Array(4),h=[];for(var k=0;k<w.length;k++){var x=w[k],j=x.Zc;
top.fill(1e6);i.fill(0);var v=E[x.a1s];for(var _=0;_<v[1].length;_++){var L=v[1][_][j[v[0][_]]];for(var U=0;
U<L.length;U++){var n=L[U];Q.gp.a73(x,I[n],n,top,i)}}if(top[2]<50&&top[2]<top[0]*.5){var a=o[top[3]];
if(a==65535){o[top[3]]=X.length;X.push([k,top[3],top[2]])}else if(top[2]<X[a][2]){X[a]=[k,top[3],top[2]]}}}X.sort(function(T,g){return T[2]-g[2]});
return X};Q.gp.a11=function(w){var I=new dC;for(var P=0;P<w.length;P++)I=I.jB(w[P][1]);var E=Q.$(I.A()*4);
for(var P=0;P<w.length;P++)Q.e.gF("norm",w[P][0],w[P][1],E,I,I,1);return[E,I]};Q.gp.asi=function(w,I,E,X,o,i,h,k){var x=w[1].clone(),j=x.clone();
x.x=x.y=0;var v=I[1].clone(),_=v.clone();v.x=v.y=0;v.x=x.q;var L=x.jB(v),U=_.y-j.y,n=Q.$(L.A()*4);Q.D6(w[0],x,n,L);
Q.D6(I[0],new dC(v.x,v.y+U,v.q,v.w),n,L);var a=document.createElement("canvas");a.width=L.q;a.height=L.w;
var T=a.getContext("2d");T.lineWidth=.5;T.putImageData(new ImageData(new Uint8ClampedArray(n.buffer),L.q,L.w),0,0);
if(i){var g=i[0],D=Q.Ea.KQ(g),b=x.q,N=k.q;for(var P=0;P<o.length;P++){var C=o[P],w=E[C[0]],I=X[C[1]];
T.strokeStyle="#"+"ff0000";T.beginPath();var Z=Q.sJ.ahG(D,h[0],I,0,N),S=Q.sJ.ahG(g,h[1],w,0,N);T.moveTo(-j.x+Z[0],-j.y+Z[1]);
T.lineTo(-j.x+Z[2],-j.y+Z[3]);T.moveTo(b-_.x+S[0],-_.y+U+S[1]);T.lineTo(b-_.x+S[2],-_.y+U+S[3]);T.stroke()}}if(o){var u=o.length;
for(var P=0;P<u;P++){var C=o[P],w=E[C[0]],I=X[C[1]];T.strokeStyle="#"+"ffff00"}}var p=new Uint8Array(T.getImageData(0,0,L.q,L.w).data.buffer);
if(!1){for(var f=0;f<2;f++){var d=f==0?E:X,l=f*x.q;for(var P=0;P<d.length;P++){var A=d[P],B=~~A.x,e=~~A.y,m=(e*L.q+B+l)*4;
p[m+1]=p[m+2]=A.adY*60;p[m+0]=0;p[m+3]=255}}}return[p,L]};Q.stack={};Q.stack.stack=function(w,I,E){var X=w.length,o=I.length;
if(X==1){I.set(w[0]);return}if(E=="avrg"||E=="stdv"||E=="summ"||E=="vari"){var i=1/X;for(var P=0;P<o;
P++){var h=0;for(var k=0;k<X;k++)h+=w[k][P];var x=~~(h*i+.5);if(E=="avrg"||(P&3)==3)I[P]=x;else if(E=="summ")I[P]=255*Math.pow(Math.min(255,h)*(1/255),1/2.4);
else{var j=0;for(var k=0;k<X;k++){var v=w[k][P]-x;j+=v*v}var _=Math.sqrt(j*i)*(1/255);if(E=="stdv")I[P]=255*Math.pow(_,1/2.4);
else I[P]=255*Math.pow(_*_,1/2.4)}}}else if(E=="maxx"){for(var P=0;P<o;P++){var L=0;for(var k=0;k<X;
k++)L=Math.max(L,w[k][P]);I[P]=L}}else if(E=="minn"){for(var P=0;P<o;P++){var L=255;for(var k=0;k<X;
k++)L=Math.min(L,w[k][P]);I[P]=L}}else if(E=="medn"||E=="rang"){var U=function(g,D){return g-D},n=new Array(X),a=0,T=0;
if((X&1)==0){T=X>>>1;a=T-1}else{a=T=X>>>1}for(var P=0;P<o;P++){for(var k=0;k<X;k++)n[k]=w[k][P];n.sort(U);
if(E=="medn")I[P]=n[a]+n[T]>>>1;else I[P]=(P&3)==3?n[X-1]:n[X-1]-n[0]}}else console.log(E)};Q.wE={};
Q.wE.agx=function(w,I,E,X){var o=Date.now(),i=new Uint32Array(I*E),h=new Uint8Array(I*E);while(!0){h.fill(0);
i.fill(0);var k=[],x=0;for(var j=0;j<E;j++){for(var v=0;v<I;v++){var P=j*I+v;if(h[P]==0){var _=k.length,L=Q.wE.up(w,I,E,v,j,h,i,_);
k.push([_,v,j,L[0],L[1],w[P]]);if(L[0]<X)x++}}}if(x==0)break;var U=k.length,n=new UnionFind(U),a=[];
for(var P=0;P<U;P++)a.push([]);for(var P=0;P<U;P++){var L=k[P],T=L[4],g=0,D=0;if(L[3]>=X)continue;var _=L[0];
for(var b=0;b<T.length;b+=2){var N=i[T[b+1]*I+T[b]],C=k[N];if(C[3]>D){D=C[3];g=N}}if(n.find(_)!=n.find(g)){n.link(_,g);
a[_].push(g);a[g].push(_)}}var Z=new Uint32Array(U);Z.fill(4294967295);var S=new Uint32Array(U);for(var P=0;
P<U;P++){if(Z[P]!=4294967295||a[P].length==0)continue;var u=[P],p=[P],f=P,d=k[P][3];while(p.length!=0){var l=p.pop(),A=a[l];
for(var b=0;b<A.length;b++){var B=A[b];if(u.indexOf(B)==-1){u.push(B);p.push(B);var e=k[B];if(e[3]>d){d=e[3];
f=B}}}}for(var b=0;b<u.length;b++){Z[u[b]]=f;var m=k[f];S[u[b]]=w[m[2]*I+m[1]]}}for(var j=0;j<E;j++)for(var v=0;
v<I;v++){var P=j*I+v,$=Z[i[P]];if($!=4294967295)w[P]=S[$]}}};Q.wE.up=function(w,I,E,X,o,i,h,k){var x=[X,o],j=w[o*I+X],v=0,_=[];
i[o*I+X]=1;while(x.length!=0){var L=x.pop(),U=x.pop(),P=L*I+U;h[P]=k;v++;if(L!=E-1)if(w[P+I]==j){if(i[P+I]==0){x.push(U,L+1);
i[P+I]=1}}else _.push(U,L+1);if(L!=0)if(w[P-I]==j){if(i[P-I]==0){x.push(U,L-1);i[P-I]=1}}else _.push(U,L-1);
if(U!=I-1)if(w[P+1]==j){if(i[P+1]==0){x.push(U+1,L);i[P+1]=1}}else _.push(U+1,L);if(U!=0)if(w[P-1]==j){if(i[P-1]==0){x.push(U-1,L);
i[P-1]=1}}else _.push(U-1,L)}return[v,_]};Q.wE.a4L=function(w,I,E,X,o){var i=Q.wE.d9(w.buffer,I,E).y_,h=Date.now(),k=[];
for(var P=0;P<i.length;P++){var x=i[P],j=1;for(var v=0;v<j;v++)k.push(x.I5)}var _=new Uint32Array(k),L=UPNG.quantize.getKDtree(new Uint8Array(_.buffer),X),U=[I,1,-I,-1,I+1,-I+1,-I-1,I-1,I+I,2,-I-I,-2,I+I-1,I+I+1,I+2,-I+2,-I-I+1,-I-I-1,-I-2,I-2,I+I+2,-I-I+2-I-I-2,I+I-2],n=new Uint8Array(I*E),a=w;
for(var T=0;T<E;T++)for(var g=0;g<I;g++){var P=T*I+g<<2,D=a[P]*(1/255),b=a[P+1]*(1/255),N=a[P+2]*(1/255),C=a[P+3]*(1/255),Z=Q.wE.wV(L,D,b,N,C,o);
if(Z==null){var S=[],u=0;while(u<20){var p=T*I+g+U[u]<<2,f=a[p]*(1/255),d=a[p+1]*(1/255),l=a[p+2]*(1/255),A=a[p+3]*(1/255),B=Q.wE.wV(L,f,d,l,A,.005);
if(B!=null){if(S.indexOf(B)==-1){S.push(B);B.OO=1}else B.OO++}u++}S.sort(function(C,N){return N.OO-C.OO});
while(S.length!=0&&S[S.length-1].OO<3)S.pop();if(S.length==0)Z=Q.wE.wV(L,D,b,N,C,100);else if(S.length==1)Z=S[0];
else if(S.length==2){var e=S[0],m=S[1],$=e.est.q,V=m.est.q,H=V[0]-$[0],F=V[1]-$[1],G=V[2]-$[2],J=V[3]-$[3],c=D-$[0],r=b-$[1],s=N-$[2],z=C-$[3],Y=H*H+F*F+G*G+J*J,ax=c*c+r*r+s*s+z*z,iW=(c*H+r*F+s*G+z*J)/Y,y=ax-iW*iW*Y;
if(y<.5)Z=iW<.5?e:m;else{Z=Q.wE.wV(L,D,b,N,C,100)}}else{var e=S[0],m=S[1],hm=S[2],$=e.est.q,V=m.est.q,t=hm.est.q,cT=$[0]-t[0],c4=$[1]-t[1],kv=$[2]-t[2],iL=$[3]-t[3],cr=V[0]-t[0],ga=V[1]-t[1],iq=V[2]-t[2],ei=V[3]-t[3],hw=t[0]-D,hC=t[1]-b,j5=t[2]-N,ed=t[3]-C,jn=cT*cT+c4*c4+kv*kv+iL*iL,fj=cT*cr+c4*ga+kv*iq+iL*ei,di=hw*cT+hC*c4+j5*kv+ed*iL,b1=cT*cr+c4*ga+kv*iq+iL*ei,dI=cr*cr+ga*ga+iq*iq+ei*ei,h2=hw*cr+hC*ga+j5*iq+ed*ei,de=1/(fj*b1-jn*dI),iW=(dI*di-h2*fj)*de,ds=(h2*jn-di*b1)*de,jO=1-iW-ds,gy=Math.max(iW,ds,jO);
if(gy==iW)Z=e;else if(gy==ds)Z=m;else Z=hm}}n[P>>2]=Z.ind}return{HE:n,y_:L[1]}};Q.wE.d9=function(w,I,E){var X=[],o={},i=I-1,h=E-1,k=0,x=new Uint32Array(w),j=[-I-1,-I,-I+1,-1,1,I-1,I,I+1,I+I,2,-I-I,-2,I+I-1,I+I+1,I+2,-I+2,-I-I+1,-I-I-1,-I-2,I-2,I+I+2,-I-I+2-I-I-2,I+I-2];
for(var v=1;v<h;v++)for(var _=1;_<i;_++){var L=v*I+_,U=x[L],n=!0;for(var P=0;P<8;P++)n=n&&x[L+j[P]]==U;
if(n){k++;var T=o[U];if(T==null){o[U]=X.length;X.push({I5:U,wk:1})}else X[T].wk++}}return{y_:X,a3b:k}};
Q.wE.wV=function(w,I,E,X,o,i){var h=UPNG.quantize.getNearest(w[0],I,E,X,o);return Q.wE.ay2(h,I,E,X,o)<i?h:null};
Q.wE.ay2=function(w,I,E,X,o){var i=w.est.q,h=I-i[0],k=E-i[1],x=X-i[2],j=o-i[3];return h*h+k*k+x*x+j*j};
Q.wE.$Y=function(){function w(g,D,b,N,C,Z){var S=[],u=Z,p=Z,f=Z>>>2;for(var d=0;d<C;d++)for(var l=0;
l<N;l++){var A=~~((l+.5)*u),B=~~((d+.5)*p),e=1e9,m=Math.max(0,A-f),$=Math.min(D,A+f+1),V=Math.max(0,B-f),H=Math.min(b,B+f+1);
for(var F=V;F<H;F++)for(var G=m;G<$;G++){var J=I(g,D,G,F);if(J<e){A=G;B=F;e=J}}var c=(B*D+A)*4;S.push(A,B)}return S}function I(g,D,b,N){var C=(N*D+b)*4,Z=D*4,S=E(g,C-4,C)+E(g,C,C+4),u=E(g,C-Z,C)+E(g,C,C+Z);
return S+u}function E(g,D,b){var N=g[D]-g[b],C=g[D+1]-g[b+1],Z=g[D+2]-g[b+2];return N*N+C*C+Z*Z}var X=0,o=0;
function i(g,D,b,N){o++;if(N<X)X=N;g[N].push(D,b)}function h(g){o--;while(g[X].length==0)X++}function k(g,D,b,N,C){X=0;
o=0;var Z=D*b,S=Math.round(Math.min(D,b)/(N?N:50)),m=0,$=16;if(S==0)S=1;var u=(C?C:30)/S,p=Math.floor(D/S),f=Math.floor(b/S),d=new Uint16Array(Z);
for(var P=0;P<Z;P++)d[P]=65535;var l=w(g,D,b,p,f,S),A=l.length>>>1;if(A>65535)throw A;var B=[];for(var P=0;
P<1e3+b;P++)B.push([]);var e=[0,1,0,-1,-1,0,1,0],V=Math.min(f,5),H=new Uint32Array(A*6);for(var F=0;
F<f;F+=V){var G=Math.min(F+V+1,f);for(var J=F;J<G;J++)for(var c=0;c<p;c++){var P=J*p+c,r=P*2,s=l[r+1]<<16|l[r];
i(B,s,P,l[r+1]>>>$)}var z=Math.min(b,G*S);if(F+V>=f)z=b;while(o!=0){h(B);var Y=B[X].pop(),ax=B[X].pop(),iW=ax>>>16,y=ax&65535,P=iW*D+y;
if(d[P]==65535){var hm=Y*6,t=P<<2;d[P]=Y;H[hm]+=g[t];H[hm+1]+=g[t+1];H[hm+2]+=g[t+2];H[hm+3]+=y;H[hm+4]+=iW;
H[hm+5]++;var cT=iW>>>$;if(iW!=z-1&&d[P+D]==65535)i(B,iW+1<<16|y,Y,x(g,D,u,y,iW+1,H,hm)+cT);if(iW!=0&&d[P-D]==65535)i(B,iW-1<<16|y,Y,x(g,D,u,y,iW-1,H,hm)+cT);
if(y!=0&&d[P-1]==65535)i(B,iW<<16|y-1,Y,x(g,D,u,y-1,iW,H,hm)+cT);if(y!=D-1&&d[P+1]==65535)i(B,iW<<16|y+1,Y,x(g,D,u,y+1,iW,H,hm)+cT)}}if(z!=iW){var c4=(F+V)*p;
H.fill(0,c4*6,(c4+p)*6);for(var iW=(F+V-2)*S;iW<z;iW++)for(var y=0;y<D;y++){var P=iW*D+y;if(d[P]>=c4){d[P]=65535}}}}return{HE:d,Q2:A,m2:H}}Q.wE.Ch=function(g,D,b,N,C){var Z=g.Q2,S=D*b,u=g.m2,p=g.HE,f=U(N,p,Z,S),d=new UnionFind(Z),$=0;
for(var l=1;l<b;l++)for(var A=1;A<D;A++){var P=l*D+A,B=p[P],e=0;if((e=p[P-1])!=B&&f[e]==f[B]&&j(u,0,B*6,e*6)<C)d.link(B,e);
if((e=p[P-D])!=B&&f[e]==f[B]&&j(u,0,B*6,e*6)<C)d.link(B,e)}var m=new Uint16Array(Z);m.fill(65535);var V=new Uint16Array(Z);
for(var P=0;P<Z;P++){var H=d.find(P);if(m[H]==65535)m[H]=$++;V[P]=m[H]}var F=new Uint16Array(S);for(var P=0;
P<S;P++)F[P]=V[p[P]];return{HE:F,Q2:$}};Q.wE.a1W=function(g,D,b,N){var C=Q.$(b),Z=D.length,S=0;for(var P=0;
P<Z&&S!=3;P++){var u=N[P];if(u==0||u==255){var p=D[P],f=2-(u>>>7);C[p]=S=C[p]|f}}return S!=3};function x(g,D,b,N,C,Z,S){var u=(C*D+N)*4,p=Z[S+5],f=1/p,d=g[u]*p-Z[S],l=g[u+1]*p-Z[S+1],A=g[u+2]*p-Z[S+2],B=N*p-Z[S+3],e=C*p-Z[S+4],m=Math.sqrt(d*d+l*l+A*A),$=Math.sqrt(B*B+e*e);
return~~((m+b*$)*f+.5)}function j(g,D,b,N){var C=1/g[b+5],Z=1/g[N+5],S=g[b]*C-g[N]*Z,u=g[b+1]*C-g[N+1]*Z,p=g[b+2]*C-g[N+2]*Z,f=g[b+3]*C-g[N+3]*Z,d=g[b+4]*C-g[N+4]*Z,l=Math.sqrt(S*S+u*u+p*p),A=Math.sqrt(f*f+d*d);
return~~(l+D*A+.5)}function v(g,D,b){var N=Q.jp(g,new dC(0,0,D,b)),C=N.rect.q,Z=N.rect.w,S=k(N.Fr,C,Z),u=S.HE,p=Date.now(),f=new Uint16Array(D*b);
f.fill(65535);for(var d=0;d<Z;d++){for(var l=0;l<C;l++){var A=d*C+l,P=(d<<1)*D+(l<<1),B=u[A];if(u[A-C]!=B||u[A-1]!=B||u[A+1]!=B||u[A+C]!=B)B=65535;
f[P]=B;f[P+1]=B;f[P+D]=B;f[P+D+1]=B}}S.HE=f;return S}function _(g,D){var P=0,b=g.length;while(P!=b&&g[P]!=D)P+=2;
return P==b?-1:P}function L(g,P){if(P==g.length-2){g.pop();g.pop()}else{g[P+1]=g.pop();g[P]=g.pop()}}Q.wE.amL=function(g,D,b,N,C){var Z=new Uint32Array(C*4400),I=[];
for(var P=0;P<C;P++)I.push([]);for(var S=0;S<b;S++)for(var u=0;u<D;u++){var P=S*D+u,p=P<<2,f=N[P],d=0,l=g[p]>>>4,A=g[p+1]>>>4,B=g[p+2]>>>4;
Z[f*4400+(l<<8|A<<4|B)]++;Z[f*4400+4096]++;Z[f*4400+4100+(l<<4|A)]++;Z[f*4400+4360+l]++;if(u!=0&&(d=N[P-1])!=f&&_(I[f],d)==-1){I[f].push(d,0);
I[d].push(f,0)}if(S!=0&&(d=N[P-D])!=f&&_(I[f],d)==-1){I[f].push(d,0);I[d].push(f,0)}}for(var P=0;P<C;
P++){var B=I[P];for(var e=0;e<B.length;e+=2)B[e+1]=T(Z,P,B[e])}return[Z,I]};function U(g,D,b,N){var C=Q.$(b);
for(var P=0;P<N;P++){var Z=g[P];if(Z==0||Z==255)C[D[P]]=2-(Z>>>7)}return C}Q.wE.a2X=function(g,D,b,N,C,Z,S){var u=D*b,p=S[0],I=S[1],f=new UnionFind(N),d=U(C,g,N,u),l=-1,A=!0,B=0;
for(var P=0;P<N;P++)if(d[P]==1){if(l==-1)l=P;else f.link(P,l)}if(l==-1){for(var P=0;P<u;P++)Z[P]=C[P]==255?255:0;
return}while(A){while(A){A=!1;for(var P=0;P<N;P++){if(d[P]==0){var e=n(I[P]);if(d[e]==1){d[P]=d[e];A=!0;
f.link(P,e)}}}}A=!0;B=0;while(A){A=!1;for(var P=0;P<N;P++){if(d[P]==0){var e=n(I[P]);if(d[e]==0){var m=P*4400,$=e*4400;
for(var V=0;V<4400;V+=2){p[m+V]+=p[$+V];p[m+V+1]+=p[$+V+1]}a(I,p,P,e);B++;d[e]=3;A=!0;f.link(P,e)}}}}A=B!=0}var H=f.find(l);
for(var P=0;P<N;P++)d[P]=f.find(P)==H?255:0;for(var P=0;P<u;P++){Z[P]=d[g[P]]}for(var P=0;P<u;P++){var e=C[P];
if(e==0||e==255)Z[P]=e}};function n(g){var D=0,b=0,N=g.length;for(var C=0;C<N;C+=2){var Z=g[C+1];if(Z>b){b=Z;
D=C}}return g[D]}function a(I,g,D,b){var N=I[D],C=I[b];L(N,_(N,b));L(C,_(C,D));for(var P=0;P<C.length;
P+=2){var Z=C[P],S=I[Z];L(S,_(S,b));if(_(S,D)==-1){S.push(D,0);N.push(Z,0)}}for(var P=0;P<N.length;P+=2){var Z=N[P],S=I[Z],u=T(g,D,Z);
N[P+1]=u;S[_(S,D)+1]=u}}function T(g,D,b){var N=0,C=4096,Z=D*4400,S=b*4400;for(var u=0;u<16;u++){if(g[Z+4360+u]==0||g[S+4360+u]==0)continue;
for(var p=0;p<16;p++){var f=u<<4|p;if(g[Z+4100+f]==0||g[S+4100+f]==0)continue;var d=Z+(f<<4),l=S+(f<<4);
for(var P=0;P<16;P++)N+=Math.sqrt(g[d+P]*g[l+P])}}var A=N/Math.sqrt(g[Z+C]*g[S+C]);return~~(999.99999*A)}return k}();
Q.XJ={};Q.XJ.a8P=function(){var w=11,I=7,E=w>>>1,eS=I>>>1,X=2,o=2e3/X,i=[],k=null,x="";function h(v,_,L){var U=(v[_+0]-v[L+0])*(1/255),n=(v[_+1]-v[L+1])*(1/255),a=(v[_+2]-v[L+2])*(1/255),T=(v[_+3]-v[L+3])*(1/255),g=U*U*.125+n*n*.25+a*a*.5+T*T;
return i[~~(g*o)]}function j(v,_,L,U,n,a){var T=Date.now(),g=Q.$(_*L);Q.V0(v,g);var D=UZIP.adler(g,0,_*L);
if(D!=x){var b=Q.cs(g,_,L);k=Q.$(_*L*4);x=D;var N=[1,1/9,1/25,1/49,1/81];for(var C=0;C<L;C++)for(var Z=0;
Z<_;Z++)for(var P=0;P<4;P++){var S=Math.max(1,Z-P),u=Math.min(_-1,Z+P),p=Math.max(1,C-P),f=Math.min(L-1,C+P),d=Q.Ek(b,_,S,u,p,f);
if(isNaN(d))throw Z+","+C+","+P+","+d;k[(C*_+Z)*4+P]=d*N[P]}}if(R.U7){var l=R.uD(0,_,L);l.set(v);var A=R.uD(1,_,L);
A.set(k);var B=R.uD(2,_,L);R.yS(B);R.filter.iN({type:R.filter.ag9,lI:new Float32Array([1/_,1/L]),a3M:A.q3,a7T:n,a1u:a},l.q3);
B.get(U)}else{for(var P=0;P<2e3;P++)i[P]=Math.exp(-(P/2e3)*X*(100+(1-n)*(1-n)*1e4));var e=eS+2;for(var C=e;
C<L-e;C++)for(var Z=e;Z<_-e;Z++){var m=0,$=0,V=0,H=0;for(var F=0;F<w;F++)for(var G=0;G<w;G++){var J=Z+G-E,c=C+F-E;
if(J==Z&&c==C||J<e||c<e||J>=_-e||c>=L-e)continue;var r=h(k,(C*_+Z)*4,(c*_+J)*4),s=c*_+J<<2;m+=r*v[s+0];
$+=r*v[s+1];V+=r*v[s+2];H+=r}if(H==0){continue}var z=1/H,Y=(C*_+Z)*4;U[Y+0]=~~((1-a)*z*m+a*U[Y+0]);U[Y+1]=~~((1-a)*z*$+a*U[Y+1]);
U[Y+2]=~~((1-a)*z*V+a*U[Y+2])}}}return j}();var a3=function(){function w(){this.A=0;this.bQ=0;this.DU={};
this.aj=[];this.mT=1e5;this.Dh=1e5;this.Jf=-1;this.S1=-1;this.color=0}function I(eS){this.VW=eS;this.qt=new Array(eS);
this.I5=new Array(eS*6);this.a1F=0;this.G8=new Array(eS*2);this.alpha=new Array(eS);this.Sp=new Array(eS);
this.g7=new Array(eS)}function E(o,i,h,k){function x(T,g,o,i){return o[i*g+T]}function j(P){var S=o.length;
while(P<S&&o[P]==0)P++;return P<S?P:-1}function v(T,g,S){for(var P=2;P<5;P++){var u=0;for(var p=-P+1;
p<=P-1;p++){u+=x(T+p,g+P-1,o,i)==S?1:-1;u+=x(T+P-1,g+p-1,o,i)==S?1:-1;u+=x(T+p-1,g-P,o,i)==S?1:-1;u+=x(T-P,g+p,o,i)==S?1:-1}if(u>0)return 1;
else if(u<0)return 0}return 0}function _(S,n){var a=new w,T=S,g=n,u=0,p=1,f;a.color=o[n*i+S];a.sign=x(S,n,o,i)==a.color?"+":"-";
while(1){a.aj.push(T,g);if(T>a.Jf)a.Jf=T;if(T<a.mT)a.mT=T;if(g>a.S1)a.S1=g;if(g<a.Dh)a.Dh=g;a.bQ++;T+=u;
g+=p;a.A-=T*p;if(T==S&&g==n)break;var d=x(T+(u+p-1>>1),g+(p-u-1>>1),o,i)==a.color,l=x(T+(u-p-1>>1),g+(p+u-1>>1),o,i)==a.color;
if(l&&!d){if(k.yx=="right"||k.yx=="black"&&a.sign=="+"||k.yx=="white"&&a.sign=="-"||k.yx=="majority"&&v(T,g,a.color)||k.yx=="minority"&&!v(T,g,a.color)){f=u;
u=-p;p=f}else{f=u;u=p;p=-f}}else if(l){f=u;u=-p;p=f}else if(!d){f=u;u=p;p=-f}}return a}var L=0,U=[];
while(!0){var L=j(L);if(L==-1)break;var n=Math.floor(L/i),a=_(L-n*i,n);for(var P=0;P<a.aj.length-2;P+=2){var T=a.aj[P],g=a.aj[P+1],D=g*i+T;
if(T==a.aj[P+2]&&g+1==a.aj[P+3]&&o[D]!=0)a3.fill(D,o,i,0)}if(a.A>k.asf)U.push(a)}for(var P=0;P<U.length;
P++)U[P].parent=-1;var b=Date.now();for(var P=1;P<U.length;P++){var N=U[P];for(var C=P-1;C>=0;C--){var Z=U[C];
if(N.mT<Z.mT||N.Jf>Z.Jf||N.Dh<Z.Dh||N.S1>Z.S1)continue;if(!a3.Tl(Z.aj,N.aj[0]+.5,N.aj[1]+.5))continue;
N.parent=C;break}}return U}function X(o,i){function h(u,p,f,d,l){this.x=u;this.y=p;this.J2=f;this.DQ=d;
this.Ny=l}function k(u,eS){return(eS+u)%eS}function x(u,p,f,d){return u*d-f*p}function j(u,p,f,d){return u*f+p*d}function v(u,p,f){if(u<=f)return u<=p&&p<f;
else return u<=p||p<f}function _(u,p,f){var d=0;d+=p*u[0]*p;d+=p*u[1]*f;d+=p*u[2];d+=f*u[3]*p;d+=f*u[4]*f;
d+=f*u[5];d+=u[6]*p;d+=u[7]*f;d+=u[8];return d}function L(u,p,f){return p+u*(f-p)}function U(u,p,f,d){var l=Math.sign(f-u),A=-Math.sign(d-p);
return l*(f-u)-A*(d-p)}function n(u,p){return Math.sqrt(u*u+p*p)}function a(u,p,f,d,l){var A=1-u;return A*A*A*p+3*(A*A*u)*f+3*(u*u*A)*d+u*u*u*l}function T(u,p,f,d,l,A,B,e){var m=x(u,p,B,e),$=x(f,d,B,e),V=x(l,A,B,e),H=m-2*$+V,F=-2*m+2*$,G=m,J=F*F-4*H*G;
if(H==0||J<0)return-1;var c=Math.sqrt(J),r=(-F+c)/(2*H),s=(-F-c)/(2*H);if(r>=0&&r<=1)return r;else if(s>=0&&s<=1)return s;
else return-1}function g(S){var P,u,p;S.VY=S.aj[0];S.a4o=S.aj[1];S.KB=[];var f=S.KB;f.push(new h(0,0,0,0,0));
for(P=0;P<S.bQ;P++){u=S.aj[P<<1]-S.VY;p=S.aj[(P<<1)+1]-S.a4o;f.push(new h(f[P].x+u,f[P].y+p,f[P].J2+u*p,f[P].DQ+u*u,f[P].Ny+p*p))}}function D(S){var eS=S.bQ,u=S.aj,p,f=new Array(eS),d=new Array(eS),l=new Array(4),A,B,e,m,$,V,H,F,G,J,c,P,r,s,z,Y,ax,iW,y=0;
S.Fe=new Array(eS);for(P=eS-1;P>=0;P--){if(u[P<<1]!=u[y<<1]&&u[(P<<1)+1]!=u[(y<<1)+1])y=P+1;d[P]=y}for(P=eS-1;
P>=0;P--){var hm=k(P+1,eS)<<1;l[0]=l[1]=l[2]=l[3]=0;p=(3+3*(u[hm]-u[P<<1])+(u[hm+1]-u[(P<<1)+1]))/2;
l[p]++;A=0;B=0;e=0;m=0;y=d[P];s=P;while(1){c=0;p=(3+3*Math.sign(u[y*2]-u[s*2])+Math.sign(u[y*2+1]-u[s*2+1]))/2;
l[p]++;if(l[0]&&l[1]&&l[2]&&l[3]){f[P]=s;c=1;break}G=u[y*2]-u[P*2];J=u[y*2+1]-u[P*2+1];if(x(A,B,G,J)<0||x(e,m,G,J)>0){break}if(Math.abs(G)<=1&&Math.abs(J)<=1){}else{$=G+(J>=0&&(J>0||G<0)?1:-1);
V=J+(G<=0&&(G<0||J<0)?1:-1);if(x(A,B,$,V)>=0){A=$;B=V}$=G+(J<=0&&(J<0||G<0)?1:-1);V=J+(G>=0&&(G>0||J<0)?1:-1);
if(x(e,m,$,V)<=0){e=$;m=V}}s=y;y=d[s];if(!v(y,P,s)){break}}if(c==0){H=Math.sign(u[y*2]-u[s*2]);F=Math.sign(u[y*2+1]-u[s*2+1]);
G=u[s*2]-u[P*2];J=u[s*2+1]-u[P*2+1];z=x(A,B,G,J);Y=x(A,B,H,F);ax=x(e,m,G,J);iW=x(e,m,H,F);r=1e7;if(Y<0){r=Math.floor(z/-Y)}if(iW>0){r=Math.min(r,Math.floor(-ax/iW))}f[P]=k(s+r,eS)}}r=f[eS-1];
S.Fe[eS-1]=r;for(P=eS-2;P>=0;P--){if(v(P+1,f[P],r)){r=f[P]}S.Fe[P]=r}for(P=eS-1;v(k(P+1,eS),r,S.Fe[P]);
P--){S.Fe[P]=r}}function b(S){function u(S,P,p){var eS=S.bQ,G=S.aj,J=S.KB,c,r,s,z,Y,d,ax,iW,F,y,hm,t,cT,c4,kv=0;
if(p>=eS){p-=eS;kv=1}if(kv==0){c=J[p+1].x-J[P].x;r=J[p+1].y-J[P].y;z=J[p+1].DQ-J[P].DQ;s=J[p+1].J2-J[P].J2;
Y=J[p+1].Ny-J[P].Ny;d=p+1-P}else{c=J[p+1].x-J[P].x+J[eS].x;r=J[p+1].y-J[P].y+J[eS].y;z=J[p+1].DQ-J[P].DQ+J[eS].DQ;
s=J[p+1].J2-J[P].J2+J[eS].J2;Y=J[p+1].Ny-J[P].Ny+J[eS].Ny;d=p+1-P+eS}hm=(G[P<<1]+G[p<<1])/2-G[0];t=(G[(P<<1)+1]+G[(p<<1)+1])/2-G[1];
c4=G[p<<1]-G[P<<1];cT=-(G[(p<<1)+1]-G[(P<<1)+1]);ax=(z-2*c*hm)/d+hm*hm;iW=(s-c*t-r*hm)/d+hm*t;F=(Y-2*r*t)/d+t*t;
y=cT*cT*ax+2*cT*c4*iW+c4*c4*F;return Math.sqrt(y)}var P,p,f,d,eS=S.bQ,l=new Array(eS+1),A=new Array(eS+1),B=new Array(eS),e=new Array(eS+1),m=new Array(eS+1),$=new Array(eS+1),V,H,F;
for(P=0;P<eS;P++){F=k(S.Fe[k(P-1,eS)]-1,eS);if(F==P){F=k(P+1,eS)}if(F<P){B[P]=eS}else{B[P]=F}}p=1;for(P=0;
P<eS;P++){while(p<=B[P]){e[p]=P;p++}}P=0;for(p=0;P<eS;p++){m[p]=P;P=B[P]}m[p]=eS;f=p;P=eS;for(p=f;p>0;
p--){$[p]=P;P=e[P]}$[0]=0;l[0]=0;for(p=1;p<=f;p++){for(P=$[p];P<=m[p];P++){H=-1;for(d=m[p-1];d>=e[P];
d--){V=u(S,d,P)+l[d];if(H<0||V<H){A[P]=d;H=V}}l[P]=H}}S.a7G=f;S.ajr=new Array(f);for(P=eS,p=f-1;P>0;
p--){P=A[P];S.ajr[p]=P}}function N(S){function u(S,P,V,B,e,iL){var eS=S.bQ,cr=S.KB,ga=0,F;while(V>=eS){V-=eS;
ga+=1}while(P>=eS){P-=eS;ga-=1}while(V<0){V+=eS;ga-=1}while(P<0){P+=eS;ga+=1}var iq=cr[V+1].x-cr[P].x+ga*cr[eS].x,ei=cr[V+1].y-cr[P].y+ga*cr[eS].y,hw=cr[V+1].DQ-cr[P].DQ+ga*cr[eS].DQ,hC=cr[V+1].J2-cr[P].J2+ga*cr[eS].J2,j5=cr[V+1].Ny-cr[P].Ny+ga*cr[eS].Ny,H=V+1-P+ga*eS;
B[iL]=iq/H;B[iL+1]=ei/H;var ed=(hw-iq*iq/H)/H,jn=(hC-iq*ei/H)/H,fj=(j5-ei*ei/H)/H,di=(ed+fj+Math.sqrt((ed-fj)*(ed-fj)+4*jn*jn))/2;
ed-=di;fj-=di;if(Math.abs(ed)>=Math.abs(fj)){F=Math.sqrt(ed*ed+jn*jn);if(F!=0){e[iL]=-jn/F;e[iL+1]=ed/F}}else{F=Math.sqrt(fj*fj+jn*jn);
if(F!=0){e[iL]=-fj/F;e[iL+1]=jn/F}}if(F==0){e[iL]=e[iL+1]=0}}var p=S.a7G,f=S.ajr,eS=S.bQ,d=S.aj,l=S.VY,A=S.a4o,B=new Array(p*2),e=new Array(p*2),m=new Array(p),$=new Array(3),P,V,H,F,r,s,z,Y,ax,iW,y;
S.DU=new I(p);for(P=0;P<p;P++){V=f[k(P+1,p)];V=k(V-f[P],eS)+f[P];B[P<<1]=0;B[(P<<1)+1]=0;e[P<<1]=0;e[(P<<1)+1]=0;
u(S,f[P],V,B,e,P<<1)}for(P=0;P<p;P++){m[P]=[0,0,0,0,0,0,0,0,0];var G=e[P<<1]*e[P<<1]+e[(P<<1)+1]*e[(P<<1)+1],J=1/G;
if(G!=0){$[0]=e[(P<<1)+1];$[1]=-e[P<<1];$[2]=-$[1]*B[(P<<1)+1]-$[0]*B[P<<1];for(F=0;F<3;F++){m[P][F*3+0]=$[F]*$[0]*J;
m[P][F*3+1]=$[F]*$[1]*J;m[P][F*3+2]=$[F]*$[2]*J}}}var c=[0,0,0,0,0,0,0,0,0];for(P=0;P<p;P++){c[0]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=0;
var hm=d[f[P]<<1]-l,t=d[(f[P]<<1)+1]-A,cT=0,c4=0;V=k(P-1,p);for(F=0;F<9;F+=3){c[F+0]=m[V][F+0]+m[P][F+0];
c[F+1]=m[V][F+1]+m[P][F+1];c[F+2]=m[V][F+2]+m[P][F+2]}while(1){var kv=c[0]*c[4]-c[1]*c[3];if(kv!=0){cT=(-c[2]*c[4]+c[5]*c[0])/kv;
c4=(c[2]*c[3]-c[5]*c[0])/kv;break}if(c[0]>c[4]){$[0]=-c[1];$[1]=c[0]}else if(c[4]){$[0]=-c[4];$[1]=c[3]}else{$[0]=1;
$[1]=0}var G=$[0]*$[0]+$[1]*$[1],J=1/G;$[2]=-$[1]*t-$[0]*hm;for(F=0;F<3;F++){c[F*3+0]+=$[F]*$[0]*J;c[F*3+1]+=$[F]*$[1]*J;
c[F*3+2]+=$[F]*$[2]*J}}r=Math.abs(cT-hm);s=Math.abs(c4-t);if(r<=.5&&s<=.5){S.DU.G8[P<<1]=cT+l;S.DU.G8[(P<<1)+1]=c4+A;
continue}z=_(c,hm,t);ax=hm;iW=t;if(c[0]!=0){for(y=0;y<2;y++){c4=t-.5+y;cT=-(c[1]*c4+c[2])/c[0];r=Math.abs(cT-hm);
Y=_(c,cT,c4);if(r<=.5&&Y<z){z=Y;ax=cT;iW=c4}}}if(c[4]!=0){for(y=0;y<2;y++){cT=hm-.5+y;c4=-(c[3]*cT+c[5])/c[4];
s=Math.abs(c4-t);Y=_(c,cT,c4);if(s<=.5&&Y<z){z=Y;ax=cT;iW=c4}}}for(F=0;F<2;F++){for(H=0;H<2;H++){cT=hm-.5+F;
c4=t-.5+H;Y=_(c,cT,c4);if(Y<z){z=Y;ax=cT;iW=c4}}}S.DU.G8[P<<1]=ax+l;S.DU.G8[(P<<1)+1]=iW+A}}function C(S){var u=S.DU.VW,p=S.DU,P,f,d,l,A,B,e,m,$;
for(P=0;P<u;P++){f=k(P+1,u);d=k(P+2,u);var V=p.G8[P<<1],H=p.G8[(P<<1)+1],F=p.G8[d<<1],G=p.G8[(d<<1)+1],J=p.G8[f<<1],c=p.G8[(f<<1)+1],r=L(.5,F,J),s=L(.5,G,c);
A=U(V,H,F,G);if(A!=0){l=x(J-V,c-H,F-V,G-H)/A;l=Math.abs(l);B=l>1?1-1/l:0;B=B*(1/.75)}else{B=4/3}p.Sp[f]=B;
var z=3*f<<1;if(B>=i.avH){p.qt[f]=0;p.I5[z+0]=p.I5[z+1]=0;p.I5[z+2]=J;p.I5[z+3]=c;p.I5[z+4]=r;p.I5[z+5]=s}else{if(B<.55){B=.55}else if(B>1){B=1}var Y=.5+.5*B;
p.qt[f]=1;p.I5[z]=L(Y,V,J);p.I5[z+1]=L(Y,H,c);p.I5[z+2]=L(Y,F,J);p.I5[z+3]=L(Y,G,c);p.I5[z+4]=r;p.I5[z+5]=s}p.alpha[f]=B;
p.g7[f]=.5}p.axn=1}function Z(S){function u(){this.AK=0;this.ED=0;this.uT=0;this.jQ=0;this.nx=0;this.U8=0;
this.Ls=0;this.alpha=0}function p(S,P,V,dI,h2,ax,iW){var d=S.DU.VW,de=S.DU.I5,ds=S.DU.G8;if(P==V)return 1;
var jO=P,J=k(P+1,d),gy=k(jO+1,d),hC=ds[P<<1],j5=ds[(P<<1)+1],fV=ds[J<<1],hl=ds[(J<<1)+1],im=ax[gy];if(im==0)return 1;
var eA=n(hC-fV,j5-hl);for(jO=gy;jO!=V;jO=gy){var gy=k(jO+1,d),hy=k(jO+2,d),dm=ds[gy<<1],hA=ds[(gy<<1)+1],j2=ds[hy<<1],dQ=ds[(hy<<1)+1];
if(ax[gy]!=im)return 1;if(Math.sign(x(fV-hC,hl-j5,j2-dm,dQ-hA))!=im)return 1;if(j(fV-hC,hl-j5,j2-dm,dQ-hA)<eA*n(dm-j2,hA-dQ)*-.999847695156)return 1}var aS=k(P,d)*3+2<<1,eh=k(P+1,d)<<1,h_=k(V,d)<<1,h6=k(V,d)*3+2<<1,iL=de[aS],cr=de[aS+1],gT=ds[eh],b8=ds[eh+1],hP=ds[h_],b5=ds[h_+1],ar=de[h6],cG=de[h6+1],y=ds[0],hm=ds[1];
aS=V*3+2<<1;var bd=de[aS],aZ=de[aS+1],c=iW[V]-iW[P];c-=x(bd-y,aZ-hm,bd-y,aZ-hm)/2;if(P>=V){c+=iW[d]}var gl=gT-iL,ci=b8-cr,a7=hP-iL,ay=b5-cr,it=ar-iL,h1=cG-cr,hM=x(gl,ci,a7,ay),dn=x(gl,ci,it,h1),gV=x(a7,ay,it,h1),jv=hM+gV-dn;
if(dn==hM)return 1;var Y=gV/(gV-jv),z=dn/(dn-hM),dt=dn*Y/2;if(dt==0)return 1;var hZ=c/dt,r=2-Math.sqrt(4-hZ/.3);
dI.ED=L(Y*r,iL,gT);dI.uT=L(Y*r,cr,b8);dI.jQ=L(z*r,ar,hP);dI.nx=L(z*r,cG,b5);dI.alpha=r;dI.U8=Y;dI.Ls=z;
gT=dI.ED;b8=dI.uT;hP=dI.jQ;b5=dI.nx;dI.AK=0;for(jO=k(P+1,d);jO!=V;jO=gy){gy=k(jO+1,d);var eQ=ds[jO<<1],dd=ds[(jO<<1)+1],dm=ds[gy<<1],hA=ds[(gy<<1)+1];
Y=T(gT-iL,b8-cr,hP-gT,b5-b8,ar-hP,cG-b5,dm-eQ,hA-dd);if(Y<-.5)return 1;var dp=a(Y,iL,gT,hP,ar),i_=a(Y,cr,b8,b5,cG),eA=n(dm-eQ,hA-dd);
if(eA==0)return 1;var by=x(dm-eQ,hA-dd,dp-eQ,i_-dd)/eA;if(Math.abs(by)>h2)return 1;if(j(dm-eQ,hA-dd,dp-eQ,i_-dd)<0||j(eQ-dm,dd-hA,dp-dm,i_-hA)<0){return 1}dI.AK+=by*by}for(jO=P;
jO!=V;jO=gy){gy=k(jO+1,d);var aS=jO*3+2<<1,eh=gy*3+2<<1,jK=de[aS],cc=de[aS+1],jo=de[eh],ge=de[eh+1];
Y=T(gT-iL,b8-cr,hP-gT,b5-b8,ar-hP,cG-b5,jo-jK,ge-cc);if(Y<-.5)return 1;var dp=a(Y,iL,gT,hP,ar),i_=a(Y,cr,b8,b5,cG),eA=n(jo-jK,ge-cc);
if(eA==0)return 1;var by=x(jo-jK,ge-cc,dp-jK,i_-cc)/eA,gH=x(jo-jK,ge-cc,ds[gy<<1]-jK,ds[(gy<<1)+1]-cc)/eA;
gH*=.75*S.DU.alpha[gy];if(gH<0){by=-by;gH=-gH}if(by<gH-h2)return 1;if(by<gH){dI.AK+=(by-gH)*(by-gH)}}return 0}var f=S.DU,d=f.VW,l=f.G8,A=new Array(d+1),B=new Array(d+1),e=new Array(d+1),m=new Array(d+1),$,P,V,H,F=new u,G,J,c,r,s,z,Y,ax=new Array(d),iW=new Array(d+1);
for(P=0;P<d;P++){if(f.qt[P]=="CURVE"){var y=l[k(P-1,d)<<1],hm=l[(k(P-1,d)<<1)+1],t=l[P<<1],cT=l[(P<<1)+1],c4=l[k(P+1,d)<<1],kv=l[(k(P+1,d)<<1)+1];
ax[P]=Math.sign(x(t-y,cT-hm,c4-t,kv-cT))}else{ax[P]=0}}c=0;iW[0]=0;var iL=f.G8[0],cr=f.G8[1];for(P=0;
P<d;P++){J=k(P+1,d);if(f.qt[J]=="CURVE"){r=f.alpha[J];var ga=P*3+2<<1,iq=J*3+2<<1,ei=f.I5[ga],hw=f.I5[ga+1],hC=l[J<<1],j5=l[(J<<1)+1],ed=f.I5[iq],jn=f.I5[iq+1];
c+=.3*r*(4-r)*x(hC-ei,j5-hw,ed-ei,jn-hw)/2;c+=x(ei-iL,hw-cr,ed-iL,jn-cr)/2}iW[P+1]=c}A[0]=-1;B[0]=0;
e[0]=0;for(V=1;V<=d;V++){A[V]=V-1;B[V]=B[V-1];e[V]=e[V-1]+1;for(P=V-2;P>=0;P--){H=p(S,P,k(V,d),F,i.a6B,ax,iW);
if(H){break}if(e[V]>e[P]+1||e[V]==e[P]+1&&B[V]>B[P]+F.AK){A[V]=P;B[V]=B[P]+F.AK;e[V]=e[P]+1;m[V]=F;F=new u}}}$=e[d];
s=new I($);z=new Array($);Y=new Array($);V=d;for(P=$-1;P>=0;P--){var fj=k(V,d),di=P*3+0<<1,b1=fj*3+0<<1;
if(A[V]==V-1){s.qt[P]=f.qt[fj];s.I5[di]=f.I5[b1];s.I5[di+1]=f.I5[b1+1];s.I5[di+2]=f.I5[b1+2];s.I5[di+3]=f.I5[b1+3];
s.I5[di+4]=f.I5[b1+4];s.I5[di+5]=f.I5[b1+5];s.G8[P<<1]=f.G8[fj<<1];s.G8[(P<<1)+1]=f.G8[(fj<<1)+1];s.alpha[P]=f.alpha[fj];
s.Sp[P]=f.Sp[fj];s.g7[P]=f.g7[fj];z[P]=Y[P]=1}else{s.qt[P]="CURVE";s.I5[di]=m[V].ED;s.I5[di+1]=m[V].uT;
s.I5[di+2]=m[V].jQ;s.I5[di+3]=m[V].nx;s.I5[di+4]=f.I5[b1+4];s.I5[di+5]=f.I5[b1+5];s.G8[P<<1]=L(m[V].Ls,f.I5[b1+4],l[fj<<1]);
s.G8[(P<<1)+1]=L(m[V].Ls,f.I5[b1+5],l[(fj<<1)+1]);s.alpha[P]=m[V].alpha;s.Sp[P]=m[V].alpha;z[P]=m[V].Ls;
Y[P]=m[V].U8}V=A[V]}for(P=0;P<$;P++){J=k(P+1,$);s.g7[P]=z[P]/(z[P]+Y[J])}s.axn=1;S.DU=s}for(var P=0;
P<o.length;P++){var S=o[P];g(S);D(S);b(S);N(S);C(S);if(i.am$)Z(S)}}return{akA:E,asV:X}}();a3.n5=function(w,I,E,X){var o={yx:"minority",asf:X,am$:!0,avH:1,a6B:.2},i=a3.akA(w,I,E,o);
a3.asV(i,o);return i};a3.cm=function(w){var I=[];for(var P=0;P<w.length;P++){var E=w[P],X=E.DU,o=["M"],i=[X.I5[(X.VW-1)*6+4],X.I5[(X.VW-1)*6+5]];
for(var h=0;h<X.VW;h++){var k=h*6;if(X.qt[h]==1){o.push("C");for(var x=0;x<6;x++)i.push(X.I5[k+x])}else if(X.qt[h]==0){o.push("L");
for(var x=2;x<4;x++)i.push(X.I5[k+x])}}o.push("Z");I.push({parent:E.parent,color:E.color,path:{C:i,J:o}})}return I};
a3.Tl=function(w,I,E){var eS=w.length>>1,X,o=w[2*eS-3]-E,i=w[2*eS-2]-I,h=w[2*eS-1]-E,k=h>o,x=0;for(var P=0;
P<eS;P++){X=i;o=h;i=w[2*P]-I;h=w[2*P+1]-E;if(o==h)continue;k=h>o}for(var P=0;P<eS;P++){X=i;o=h;i=w[2*P]-I;
h=w[2*P+1]-E;if(o<0&&h<0)continue;if(o>0&&h>0)continue;if(X<0&&i<0)continue;if(o==h&&Math.min(X,i)<=0)return!0;
if(o==h)continue;var j=X+(i-X)*-o/(h-o);if(j==0)return!0;if(j>0)x++;if(o==0&&k&&h>o)x--;if(o==0&&!k&&h<o)x--;
k=h>o}return(x&1)==1};a3.fill=function(w,I,E,X){var o=I[w],i=[w],h=0;while(h<i.length){var k=i[h];h++;
I[k]=X;if(I[k-E]==o){i.push(k-E);I[k-E]=254}if(I[k-1]==o){i.push(k-1);I[k-1]=254}if(I[k+1]==o){i.push(k+1);
I[k+1]=254}if(I[k+E]==o){i.push(k+E);I[k+E]=254}}};var eD=function(){function w(x){return Math.max(0,Math.min(1,x))}function I(x,j,v,_){var L=Math.sin(_),U=Math.cos(_),n=1/Math.sqrt(x*x+j*j+v*v);
x*=n;j*=n;v*=n;return[x*x*(1-U)+U,x*j*(1-U)-v*L,x*v*(1-U)+j*L,x*j*(1-U)+v*L,j*j*(1-U)+U,j*v*(1-U)-x*L,x*v*(1-U)-j*L,j*v*(1-U)+x*L,v*v*(1-U)+U]}function E(x,j){var v=j<0?-j:j;
if(x>1)x=.99;x=x*.99;var _=Math.pow(v/5,.16),L=Math.pow(2,v<1?v:1+(v-1)*.8);if(j<0)L=1/L;x=_*(1-Math.pow(1-x,L))+(1-_)*x;
return x}function X(x,j){var v=j/100;x=x*.99;x=v*(.5-.5*Math.cos(x*Math.PI))+(1-v)*x;return x}var o=Q.vU._k(I(1,1,1,-.3)),i=Q.vU.ja(o);
function h(x,j,v,_,L,U){var n=x[v],a=x[v+1],T=x[v+2],g=Q.vU.mm(o,[n,a,T,1]);n=g[0];a=g[1];T=g[2];n=E(n,_);
a=E(a,_);T=E(T,_);var g=Q.vU.mm(i,[n,a,T,1]);n=g[0];a=g[1];T=g[2];n=w(n);a=w(a);T=w(T);n=X(n,L);a=X(a,L);
T=X(T,L);var D=bR.a4E(n,a,T,U);n=D[0];a=D[1];T=D[2];n=w(n);a=w(a);T=w(T);j[v]=n;j[v+1]=a;j[v+2]=T}function k(x,j,v,_,L,U){var n=L.Temp?L.Temp.v:0,a=L.Tint?L.Tint.v:0,T=L.Ex12?L.Ex12.v:0,g=L.Cr12?L.Cr12.v:0,D=bR.TZ(n,a);
T+=D.a3d;var b=Date.now();if(U){var N=Math.pow(2,T),C=x.length;T=0;var Z=new Float32Array(4e3);for(var P=0;
P<4e3;P++){var S=P*(1/1e3);S=Q.HF(S);S*=N;S=Q.qK(S);S=w(S);Z[P]=S}for(var P=0;P<C;P+=3){_[P]=Z[~~(x[P]*1e3)];
_[P+1]=Z[~~(x[P+1]*1e3)];_[P+2]=Z[~~(x[P+2]*1e3)]}console.log(Date.now()-b,"Exposure normalizing");b=Date.now()}else _.set(x);
if(T!=0||g!=0||n!=0||a!=0){var u=17,p=1/(u-1),f=u*u*u,d=new Array(f*3);for(var l=0;l<u;l++)for(var A=0;
A<u;A++)for(var B=0;B<u;B++){var P=l*u*u+A*u+B,e=P*3;d[e]=l*p;d[e+1]=A*p;d[e+2]=B*p}for(var P=0;P<f;
P++)h(d,d,P*3,T,g,D);console.log(Date.now()-b,"making LUT");b=Date.now();ICC.U.applyLUTFloat(d,u,_,_);
console.log(Date.now()-b,"applying LUT");b=Date.now()}}return k}();function hQ(){}hQ.fM=function(w){var I=new Uint8Array(w),E=0,X={Ar:[],a6:[],list:[]},o=M.vH(I,E);
E+=2;if(o<=2){return hQ.aem(I)}var i=M.vH(I,E);E+=2;var h=M.jz(I,E,8);E+=8;var k=M.W(I,E);E+=4;if(k>0)X.Ar=hQ.LI(I,E,k,i,o);
E+=k;var x=M.jz(I,E,8);E+=8;var j=M.W(I,E);E+=4;if(j>0)X.a6=i4.Tx(I,E,j);E+=j;var v=M.jz(I,E,8);E+=8;
var _=M.W(I,E);E+=4;if(_>0){var L={};dG.Me(I,L,E+4);X.list=L.Brsh.v}E+=_;var U=X.list;for(var P=0;P<U.length;
P++){j8.Uz.check(U[P].v)}return X};hQ._m=function(w,I){w.v.Nm.v=I};hQ.aem=function(w){var I={Ar:[],a6:[],list:[]},E=0,X=M.vH(w,E);
E+=2;var o=M.vH(w,E);E+=2;for(var P=0;P<o;P++){var i=M.vH(w,E);E+=2;var h=M.W(w,E);E+=4;var k=E;if(i==2){var x={};
I.Ar.push(x);var j=M.W(w,k);k+=4;var v=M.vH(w,k);k+=2;if(X==2){var _=M.Mb(w,k);k+=4+_.length*2+2}x.id=hg.Mz()+"-d71c-11e5-b1ae-a548a96e5f9f";
k++;k+=8;x._b=M.KU(w,k);k+=16;var L=M.vH(w,k);k+=2;var U=w[k];k++;var n=fH.pT(!1,L,w,x._b.q,x._b.w,k,U);
hQ.ml(x,n);var a=j8.YU(x.id),T=a.Brsh.v;T.Dmtr.v.val=x._b.q;T.Spcn.v.val=v;I.list.push({t:"Objc",v:a})}E+=h}return I};
hQ.hI=function(w){var I=new e2,E=0,X=0;M.Ou(I,E,6);E+=2;M.Ou(I,E,2);E+=2;M.u0(I,E,"8BIMsamp");E+=8;E+=4;
X=E;E=hQ.g$(I,E,w.Ar);M.yZ(I,X-4,E-X);M.u0(I,E,"8BIMpatt");E+=8;E+=4;X=E;E=i4.gJ(I,E,w.a6);M.yZ(I,X-4,E-X);
var o={classID:"null",Brsh:{t:"VlLs",v:w.list}};M.u0(I,E,"8BIMdesc");E+=8;E+=4;X=E;M.yZ(I,E,16);E+=4;
E+=dG.RF(I,o,E);M.yZ(I,X-4,E-X);return I.data.slice(0,E).buffer};hQ.LI=function(w,I,E,X,o){var i=M.W,h=M.KU,k=I+E,x=[];
while(I<k){var j={};x.push(j);var v=i(w,I);I+=4;var _=I,L=M.C2(w,I);I+=L.length;j.id=L.P1;if(X==1){I+=9;
j._b=h(w,I);I+=16}else{I+=7;var U=i(w,I);I+=4;j._b=h(w,I);I+=16;var n=i(w,I);I+=4;I+=n*4;var a=i(w,I);
I+=4;var T=i(w,I);I+=4;var g=h(w,I);I+=16}var D=M.vH(w,I);I+=2;var b=w[I];I+=1;var N=fH.pT(!1,D,w,j._b.q,j._b.w,I,b);
hQ.ml(j,N);if(v%4!=0)v+=4-v%4;I=_+v}return x};hQ.ml=function(w,I){var E=w._b.clone(),X=Q.$(E.A()*4);
Q.lJ(I,X,3);E.x=E.y=0;w.IZ=[X,E]};hQ.g$=function(w,I,E){var X=M.yZ,o=M.jx;for(var P=0;P<E.length;P++){var i=E[P],h=I+4,x=56,v=1;
I+=4;M.Sm(w,I,i.id);I+=i.id.length+2;w.gj(I,1);w.data[I]=1;I+=3;X(w,I,3);I+=4;var k=I;I+=4;o(w,I,i._b);
I+=16;X(w,I,x);I+=4;I+=x*4;X(w,I-4,1);var j=I;I+=4;X(w,I,8);I+=4;o(w,I,i._b);I+=16;M.Ou(w,I,8);I+=2;
w.gj(I,1);w.data[I]=v;I++;var _=Q.$(i._b.A());Q.qe(i.IZ[0],_,3);w.gj(I,i._b.A()*2);I=fH.kN(!1,_,w.data,i._b.q,i._b.w,I,v);
w.gj(I,8);I+=8;var L=I-h;X(w,h-4,L);X(w,k,L-49);X(w,j,L-305);if(L%4!=0)I+=4-L%4}return I};function k5(){}k5.fM=function(w,I){var E=new Uint8Array(w),X=[],o=0,i=M.vH(E,o);
o+=2;if(i!=4){throw"Unknown version of curves: "+i}var h=M.vH(E,o);o+=2;for(var P=0;P<h;P++){var k=k5.Wf(E,o);
o+=2+2*k.length;X.push(k)}if(o!=E.length){var x=M.jz(E,o,4);o+=4;var j=M.vH(E,o);o+=2;var v=M.vH(E,o);
o+=2;if(v!=0)throw"extra curves for channels"}var _=k5.FS(X,0);_.presetKind={t:"long",v:3};_.presetFileName={t:"TEXT",v:I.split("/").pop().split(".")[0]};
return[_]};k5.Zm=function(w,I,E){var X=I,o=[],i=w[I];I+=3;var h=M.W(w,I);I+=4;for(var P=0;P<4;P++){var k=h>>>P&1;
if(k){if(i==0){var x=k5.Wf(w,I);I+=2+2*x.length}else{var x=k5.aaZ(w,I);I+=256}o.push(x)}else o.push(i==0?[0,0,255,255]:k5.axT())}var j=k5.FS(o,i);
return j};k5.FS=function(w,I){var E=gD.SX("curv");for(var P=0;P<4;P++){if(I==0){var X=w[P],o=[];for(var i=0;
i<X.length;i+=2)o.push(Q.sD.DA(X[i],X[i+1],!0));k5.kK(E,P,o)}else k5.kK(E,P,w[P])}return E};k5.os=function(w,I,E){var X=[];
for(var P=0;P<4;P++){var o=k5.or(E,P);if(o.length==256)X.push(o);else{var i=[];for(var h=0;h<o.length;
h++)i.push(o[h].v.Hrzn.v,o[h].v.Vrtc.v);X.push(i)}}var k=I,x=X[0].length==256?1:0;w.gj(I,3);w.data[I]=x;
w.data[I+1]=0;w.data[I+2]=1;I+=3;M.yZ(w,I,15);I+=4;for(var P=0;P<4;P++){var j=X[P];if(x==0){k5.a8T(w,I,j);
I+=2+2*j.length}else{k5.ao1(w,I,j);I+=256}}return I-k};k5.axT=function(){var w=[];for(var P=0;P<256;
P++)w.push(P);return w};k5.kK=function(w,I,E){var X=fP.B3("CrvA",I);if(E.length<256)X.Crv={t:"VlLs",v:E};
else{X.Mpng={t:"VlLs",v:[]};for(var P=0;P<256;P++)X.Mpng.v[P]={t:"long",v:E[P]}}X={t:"Objc",v:X};var o=w.Adjs.v,i=fP.nd(o,I);
if(i==-1)o.push(X);else o[i]=X};k5.or=function(w,I){var E=w.Adjs.v,X=fP.nd(E,I);if(X==-1){if(E.length==0||E[0].v.Crv)return[Q.sD.DA(0,0,!0),Q.sD.DA(255,255,!0)];
if(E[0].v.autoMachineLearning||E[0].v.AuCo)return[Q.sD.DA(0,0,!0),Q.sD.DA(128,160,!0),Q.sD.DA(255,255,!0)];
var o=[];for(var P=0;P<256;P++)o.push(P);return o}var i=E[X].v;if(i.Crv)return i.Crv.v;if(i.Mpng){var o=[];
for(var P=0;P<256;P++)o.push(i.Mpng.v[P].v);return o}return[Q.sD.DA(0,0,!0),Q.sD.DA(255,255,!0)]};k5.Wf=function(w,I){var E=[],X=M.vH(w,I);
I+=2;for(var o=0;o<X;o++){var i=M.vH(w,I);I+=2;var h=M.vH(w,I);I+=2;E.push(h,i)}return E};k5.a8T=function(w,I,E){var X=E.length/2;
M.Ou(w,I,X);I+=2;for(var o=0;o<X;o++){M.Ou(w,I,E[o*2+1]);I+=2;M.Ou(w,I,E[o*2+0]);I+=2}};k5.aaZ=function(w,I){var E=[];
for(var P=0;P<256;P++)E.push(w[I+P]);return E};k5.ao1=function(w,I,E){w.gj(I,256);for(var P=0;P<256;
P++)w.data[I+P]=E[P]};function hj(){}hj.Zm=function(w,I,E){var X={},o=M.vH(w,I);I+=2;X.Oc=w[I]==1;I++;
I++;X.e$=[M.mL(w,I),M.mL(w,I+2),M.mL(w,I+4)];I+=6;X.Cr=[M.mL(w,I),M.mL(w,I+2),M.mL(w,I+4)];I+=6;X.PS=[];
for(var P=0;P<6;P++){var i={};i.zX=[M.mL(w,I),M.mL(w,I+2),M.mL(w,I+4),M.mL(w,I+6)];I+=8;i.ok=[M.mL(w,I),M.mL(w,I+2),M.mL(w,I+4)];
I+=6;X.PS.push(i)}var h=gD.SX("hue2"),k=X;if(h.Clrz==null)h.Clrz={t:"bool",v:!1};h.Clrz.v=k.Oc;for(var P=0;
P<7;P++){var x=P==0?k.Oc?k.e$:k.Cr:k.PS[P-1];hj.kK(h,P,x)}return h};hj.a20=function(w){return{classID:"Hst2",H:{t:"long",v:w[0]},Strt:{t:"long",v:w[1]},Lght:{t:"long",v:w[2]}}};
hj.nd=function(w,I){for(var P=0;P<w.length;P++){var E=w[P].v.LclR;if(I==0&&E==null||E!=null&&E.v==I)return P}return-1};
hj.kK=function(w,I,E){var X=I==0?E:E.ok,o=hj.a20(X);if(I!=0){var i=E.zX;o.LclR={t:"long",v:I},o.BgnR={t:"long",v:i[0]};
o.BgnS={t:"long",v:i[1]};o.EndS={t:"long",v:i[2]};o.EndR={t:"long",v:i[3]}}o={t:"Objc",v:o};var h=w.Adjs.v,k=hj.nd(h,I);
if(k==-1)h.push(o);else h[k]=o};hj.or=function(w,I){var E=w.Adjs.v,X=hj.nd(E,I);if(X==-1){if(I==0)return[0,0,0];
else return[{zX:[315,345,15,45],ok:[0,0,0]},{zX:[15,45,75,105],ok:[0,0,0]},{zX:[75,105,135,165],ok:[0,0,0]},{zX:[135,165,195,225],ok:[0,0,0]},{zX:[195,225,255,285],ok:[0,0,0]},{zX:[255,285,315,345],ok:[0,0,0]}][I-1]}var o=E[X].v,i=[o.H.v,o.Strt.v,o.Lght.v];
if(I==0)return i;return{ok:i,zX:[o.BgnR.v,o.BgnS.v,o.EndS.v,o.EndR.v]}};hj.os=function(w,I,E){var X={Oc:E.Clrz?E.Clrz.v:!1,PS:[]};
X.e$=X.Cr=hj.or(E,0);for(var P=1;P<7;P++)X.PS.push(hj.or(E,P));var o=2+2+12+6*14,i=w.data;w.gj(I,o);
M.hB(i,I,2);I+=2;i[I]=X.Oc?1:0;I++;I++;M.vT(i,I+0,X.e$[0]);M.vT(i,I+2,X.e$[1]);M.vT(i,I+4,X.e$[2]);I+=6;
M.vT(i,I+0,X.Cr[0]);M.vT(i,I+2,X.Cr[1]);M.vT(i,I+4,X.Cr[2]);I+=6;for(var P=0;P<6;P++){var h=X.PS[P].zX,k=X.PS[P].ok;
M.vT(i,I+0,h[0]);M.vT(i,I+2,h[1]);M.vT(i,I+4,h[2]);M.vT(i,I+6,h[3]);I+=8;M.vT(i,I+0,k[0]);M.vT(i,I+2,k[1]);
M.vT(i,I+4,k[2]);I+=6}return o};function fP(){}fP.fM=function(w){var I=new Uint8Array(w),E=2,X=[];for(var P=0;
P<29;P++){var o=[];X.push(o);for(var i=0;i<5;i++)o.push(M.vH(I,E+P*10+i*2))}E+=29*10;if(E<I.length){var h=M.jz(I,E,4);
E+=4;var k=M.vH(I,E);E+=2;var x=M.vH(I,E);E+=2;var j=x-29;for(var P=0;P<j;P++){var o=[];X.push(o);for(var i=0;
i<5;i++)o.push(M.vH(I,E+P*10+i*2))}}var v=gD.SX("levl");for(var P=0;P<4;P++)fP.kK(v,P,X[P]);return v};
fP.B3=function(w,P){var I=["Cmps","Rd","Grn","Bl"],E={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:I[P]}}]};
return{classID:w,Chnl:E}};fP.nd=function(w,I){var E={Cmps:0,Rd:1,Grn:2,Bl:3};for(var P=0;P<w.length;
P++){var X=w[P].v,o=E[X.Chnl.v[0].v.enum];if(o==I)return P}return-1};fP.kK=function(w,I,E){var X=fP.B3("LvlA",I);
X.Inpt={t:"VlLs",v:[{t:"long",v:E[0]},{t:"long",v:E[1]}]};X.Otpt={t:"VlLs",v:[{t:"long",v:E[2]},{t:"long",v:E[3]}]};
X.Gmm={t:"doub",v:E[4]/100};X={t:"Objc",v:X};var o=w.Adjs.v,i=fP.nd(o,I);if(i==-1)o.push(X);else o[i]=X};
fP.or=function(w,I){var E=[0,255,0,255,100],X=w.Adjs.v,o=fP.nd(X,I);if(o==-1)return E;var i=X[o].v;if(i.Inpt){E[0]=i.Inpt.v[0].v;
E[1]=i.Inpt.v[1].v}if(i.Otpt){E[2]=i.Otpt.v[0].v;E[3]=i.Otpt.v[1].v}if(i.Gmm){E[4]=Math.round(i.Gmm.v*100)}return E};
fP.hI=function(w,I){var E=[],X=0;for(var P=0;P<4;P++)E.push(fP.or(I,P));while(E.length<29)E.push([0,255,0,255,100]);
w.gj(0,2+10*29);M.hB(w.data,X,2);X+=2;for(var P=0;P<29;P++){var o=E[P];for(var i=0;i<5;i++)M.hB(w.data,X+P*10+i*2,o[i])}X+=29*10;
if(E.length==29)return X;w.gj(X,8+10*(E.length-29));M.X5(w.data,X,"Lvls");X+=4;M.hB(w.data,X,3);X+=2;
M.hB(w.data,X,E.length);X+=2;var h=E.length-29;for(var P=0;P<h;P++){var o=E[29+P];for(var i=0;i<5;i++)M.hB(w.data,X+P*10+i*2,o[i])}X+=10*h;
return X};function gL(){}gL.fM=function(w){var I=new Uint8Array(w),E=2,X={TW:[],$z:[]},o=M.jz(I,E,4);
E+=4;var i=M.vH(I,E);E+=2;var h=M.W(I,E);E+=4;X.TW=i4.Tx(I,E,h);E+=h;var k=M.W(I,E);E+=4;for(var P=0;
P<k;P++){var x=M.W(I,E);E+=4;var j=E,v={nV:{},C$:{}};X.$z.push(v);E+=4;E+=dG.Me(I,v.nV,E);E+=4;E+=dG.Me(I,v.C$,E);
E=j+x;var _=v.C$.blendOptions,L=v.C$.Lefx;if(_&&Object.keys(_.v).length>1){}if(L){if(L.v.masterFXSwitch==null)L.v.masterFXSwitch={t:"bool",v:!0};
bN.sE(L.v)}}return X};gL._m=function(w,I){w.nV.Nm.v=I};gL.hI=function(w){var I=new e2,E=0;M.Ou(I,E,2);
E+=2;M.u0(I,E,"8BSL");E+=4;M.Ou(I,E,3);E+=2;var X=E;E+=4;E=i4.gJ(I,E,w.TW);M.yZ(I,X,E-X-4);var o=w.$z.length;
M.yZ(I,E,o);E+=4;for(var P=0;P<o;P++){E+=4;var i=E,h=w.$z[P];M.yZ(I,E,16);E+=4;E+=dG.RF(I,h.nV,E);var k=h.C$.Lefx;
if(k){h.C$.Lefx=JSON.parse(JSON.stringify(k));bN.C7(h.C$.Lefx.v)}M.yZ(I,E,16);E+=4;E+=dG.RF(I,h.C$,E);
if(k)h.C$.Lefx=k;M.yZ(I,i-4,E-i)}return I.data.slice(0,E).buffer};function jG(){}jG.Zm=function(w,I,E){var X=M.vH(w,I);
I+=2;var o={};o.hS=M.vH(w,I)==1;I+=2;o.mW=[];for(var P=0;P<10;P++){var i=[];o.mW.push(i);for(var h=0;
h<4;h++)i.push(M.mL(w,I+h*2));I+=8}var k=gD.SX("selc");k.Mthd.v.CrcM=o.hS?"Absl":"Rltv";for(var P=1;
P<10;P++)jG.kK(k,P-1,o.mW[P]);return k};jG.uC="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
jG.B3=function(w,P){var I=["Cmps","Rd","Grn","Bl"],E={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:I[P]}}]};
return{classID:w,Chnl:E}};jG.nd=function(w,I){var E=jG.uC;for(var P=0;P<w.length;P++){var X=w[P].v,o=E.indexOf(X.Clrs.v.Clrs);
if(o==I)return P}return-1};jG.kK=function(w,I,E){var X=["Cyn","Mgnt","Ylw","Blck"],o={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:jG.uC[I]}}};
for(var i=0;i<4;i++)o[X[i]]={t:"UntF",v:{type:"#Prc",val:E[i]}};o={t:"Objc",v:o};var h=w.ClrC.v,k=jG.nd(h,I);
if(k==-1)h.push(o);else h[k]=o};jG.or=function(w,I){var E=[0,0,0,0],X=w.ClrC.v,o=jG.nd(X,I);if(o==-1)return E;
var i=["Cyn","Mgnt","Ylw","Blck"];for(var P=0;P<4;P++)if(X[o].v[i[P]])E[P]=X[o].v[i[P]].v.val;return E};
jG.os=function(w,I,E){var X={hS:E.Mthd.v.CrcM=="Absl",mW:[[0,0,0,0]]};for(var P=0;P<9;P++)X.mW.push(jG.or(E,P));
w.gj(I,84);M.hB(w.data,I,1);I+=2;M.hB(w.data,I,X.hS?1:0);I+=2;for(var P=0;P<10;P++){var o=X.mW[P];for(var i=0;
i<4;i++)M.vT(w.data,I+i*2,o[i]);I+=8}return 84};function fZ(){}fZ.SX=function(){return{iM:new dC(0,0,50,50),nV:"",MQ:"play",j:Q.O.cw.Tv([.1,.1,.9,.5,.1,.9],0)}};
fZ.fM=function(w){w=new Uint8Array(w);var I=0,E=[],X=Date.now(),o=M.jz(w,0,4);I+=4;var i=M.W(w,I);I+=4;
var h=M.W(w,I);I+=4;for(var P=0;P<h;P++){var k=M.Mb(w,I);I+=k.length*2+4+2;if((k.length&1)==0)I+=2;I=fZ.Ub(w,I,k,E)}return E};
fZ.Ub=function(w,I,E,X){var o=M.W(w,I);I+=4;var i=M.W(w,I);I+=4;var h=I,k=M.C2(w,h).P1;h+=k.length+1;
var x=M.KU(w,h);h+=16;var j=fZ.tV(w,h,i-(h-I)),v=Q.O.X2(j),_=Q.p.zK(v),L=1/_.q,U=1/_.w;Q.O.yJ(j,new am(L,0,0,U,-_.x*L,-_.y*U));
X.push({MQ:E,nV:k,j:j,iM:x});I+=i;return I};fZ._m=function(w,I){w.MQ=I};fZ.hI=function(w){var I=new e2,E=0;
M.u0(I,E,"cush");E+=4;M.yZ(I,E,2);E+=4;M.yZ(I,E,w.length);E+=4;for(var P=0;P<w.length;P++){var X=w[P],o=X.MQ+"\0";
M.XK(I,E,o);E+=4+o.length*2;if((o.length&1)==1)E+=2;M.yZ(I,E,1);E+=4;E+=4;var i=E;M.Sm(I,E,X.nV);E+=X.nV.length+1;
M.jx(I,E,X.iM);E+=16;I.gj(E,X.j.length*26);fZ.p5(I.data,E,X.j,1,1);E+=X.j.length*26;var h=E-i;if((h&3)!=0)h+=4-(h&3);
M.yZ(I,i-4,h);E=i+h}return I.data.slice(0,E).buffer};fZ.aoP=function(w){var I=[];for(var P=0;P<w.length;
P++){var E=w[P],X=E.type,o={type:X};I.push(o);if(X==6){}else if(X==8)o.all=E.all;else if(X==0||X==3){o.length=E.length;
o.frule=E.KP;o.third=E.mr;o.prmA=E.ad;o.prmB=E.Lk}else{o.c=[E.DX.x,E.DX.y,E.H.x,E.H.y,E.kk.x,E.kk.y]}}return I};
fZ.Xz=function(w){var I=[];for(var P=0;P<w.length;P++){var E=w[P],X=E.type,o={type:X};I.push(o);if(X==6){}else if(X==8)o.all=E.all;
else if(X==0||X==3){o.length=E.length;o.KP=E.frule;o.mr=E.third;o.ad=E.prmA;o.Lk=E.prmB}else{var i=E.c;
o.DX=new a5(i[0],i[1]);o.H=new a5(i[2],i[3]);o.kk=new a5(i[4],i[5])}}return I};fZ.tV=function(w,I,E,X,o){if(X==null)X=1;
if(o==null)o=1;function i(a,T,g){var D=M.ahs(a,T)*g,b=Math.round(D);return Math.abs(D-b)<1e-6?b:D}var h=M.mL,k=[],x=Math.floor(E/26);
for(var P=0;P<x;P++){var j=I+P*26,v={},_=0;k.push(v);v.type=h(w,j);j+=2;if(v.type==6){_=24}if(v.type==8){v.all=h(w,j);
j+=2;_=22}if(v.type==0||v.type==3){v.length=h(w,j);j+=2;v.KP=h(w,j);j+=2;v.mr=h(w,j);j+=2;v.ad=M.W(w,j);
j+=4;v.Lk=M.W(w,j);j+=4;_=10}if(v.type==1||v.type==2||v.type==4||v.type==5){var L,U;U=i(w,j,o);j+=4;
L=i(w,j,X);j+=4;v.DX=new a5(L,U);U=i(w,j,o);j+=4;L=i(w,j,X);j+=4;v.H=new a5(L,U);U=i(w,j,o);j+=4;L=i(w,j,X);
j+=4;v.kk=new a5(L,U);_=0}for(var n=0;n<_;n++)if(w[j+n]!=0){console.log("Unexpected non-zero byte!",v,n,w[j+n])}}return k};
fZ.p5=function(w,I,E,X,o){var i=M.vT,h=M.mu,k=E.length;for(var P=0;P<k;P++){var x=I+P*26,j=E[P];i(w,x,j.type);
x+=2;if(j.type==6){}if(j.type==8)i(w,x,j.all);if(j.type==0||j.type==3){i(w,x,j.length);x+=2;i(w,x,j.KP);
x+=2;i(w,x,j.mr);x+=2}if(j.type==1||j.type==2||j.type==4||j.type==5){h(w,x,j.DX.y/o);x+=4;h(w,x,j.DX.x/X);
x+=4;h(w,x,j.H.y/o);x+=4;h(w,x,j.H.x/X);x+=4;h(w,x,j.kk.y/o);x+=4;h(w,x,j.kk.x/X);x+=4}}};function bW(){}bW.fM=function(w){var I=new Uint8Array(w),E=[],X=0;
X=bW.U1(I,X,E);if(X+3<I.length){E=[];X=bW.U1(I,X,E)}return E};bW.U1=function(w,I,E){var X=M.vH,o=M.mL,i=X(w,I);
I+=2;var h=X(w,I);I+=2;for(var P=0;P<h;P++){var k=bW.V5(w,I);I+=10;if(i==2){k.X9=M.Mb(w,I);I+=4+k.X9.length*2+2}E.push(k)}return I};
bW.V5=function(w,I){var E=M.vH,X=M.mL,o=E(w,I),U=null;I+=2;var i=E(w,I);I+=2;var h=E(w,I);I+=2;var k=E(w,I);
I+=2;var x=E(w,I);I+=2;var j=1/65535,v=255/65535,_=100/65535,L=255/1e4;if(o==0)U={o:i*v,P:h*v,L:k*v};
else if(o==1){U=Q.Ww(i*j,h*j,k*j);U.o*=255;U.P*=255;U.L*=255}else if(o==2)U=Q.N.BL({classID:"CMYC",Cyn:{t:"doub",v:100-i*_},Mgnt:{t:"doub",v:100-h*_},Ylw:{t:"doub",v:100-k*_},Blck:{t:"doub",v:100-x*_}});
else if(o==7){var n=Q.OT(i/100,X(w,I-6)/100,X(w,I-4)/100);U=n}else if(o==8){U={o:255-i*L,P:255-h*L,L:255-k*L}}else throw"e "+o+", ";
return U};bW.hI=function(w){var I=new e2,E=0,X=M.Ou;X(I,E,2);E+=2;X(I,E,w.length);E+=2;for(var P=0;P<w.length;
P++){var o=w[P];I.gj(E,10);bW.Ps(I.data,E,o);E+=10;var i=(o.X9?o.X9:"")+"\0";M.XK(I,E,i);E+=4+i.length*2}return I.data.slice(0,E).buffer};
bW._m=function(w,I){w.X9=I};bW.Ps=function(w,I,E){var X=65535/255,o=M.hB;o(w,I,0);o(w,I+2,Math.round(E.o*X));
o(w,I+4,Math.round(E.P*X));o(w,I+6,Math.round(E.L*X));o(w,I+8,0)};function bc(){}bc.fM=function(w){var I=new Uint8Array(w),E=4,X={};
X.Wj=M.Mb(I,E);E+=4+X.Wj.length*2+2;X.exp=I[E++]==1;X.mz=[];var o=M.W(I,E);E+=4;for(var P=0;P<o;P++){var i={};
X.mz.push(i);i.qI=M.vH(I,E);E+=2;i.shift=I[E++]==1;i.ayk=I[E++]==1;i.color=M.vH(I,E);E+=2;i.Wj=M.Mb(I,E);
E+=4+i.Wj.length*2+2;i.exp=I[E++]==1;i.mz=[];var h=M.W(I,E);E+=4;for(var k=0;k<h;k++){var x={};i.mz.push(x);
x.exp=I[E++]==1;x.i=I[E++]==1;x.amU=I[E++]==1;x.aqH=I[E++];var j=M.jz(I,E,4);E+=4;if(j=="TEXT"){x.$g=bc.$C(I,E);
E+=4+x.$g.length}else if(j=="long"){x.$g=M.jz(I,E,4);E+=4}else throw"e";x.my=bc.$C(I,E);E+=4+x.my.length;
var v=M.Qf(I,E);E+=4;if(v==-1){x.Zc={};var _=dG.Me(I,x.Zc,E);E+=_}}}console.log(X);var L=new Uint8Array(bc.hI(X));
for(var P=0;P<L.length;P++)if(L[P]!=I[P]&&M.jz(I,P+1,4)!="None"){console.log(I.length,L.length);var U=4*(P>>>2)-16;
console.log(M.lT(I,U,64));console.log(M.lT(L,U,64));console.log(I.slice(U,U+64));console.log(L.slice(U,U+64));
throw"i"}return[X]};bc.$C=function(w,I){var E=M.W(w,I);return M.jz(w,I+4,E)};bc.Cz=function(w,I,E){M.yZ(w,I,E.length);
M.u0(w,I+4,E)};bc.hI=function(w){var I=new e2,E=0;M.yZ(I,E,16);E+=4;M.XK(I,E,w.Wj+"\0");E+=4+w.Wj.length*2+2;
I.gj(E,1);I.data[E++]=w.exp?1:0;var X=w.mz.length;M.yZ(I,E,X);E+=4;for(var P=0;P<X;P++){var o=w.mz[P];
M.Ou(I,E,o.qI);E+=2;I.gj(E,2);I.data[E++]=o.shift?1:0;I.data[E++]=o.ayk?1:0;M.Ou(I,E,o.color);E+=2;M.XK(I,E,o.Wj+"\0");
E+=4+o.Wj.length*2+2;I.gj(E,1);I.data[E++]=o.exp?1:0;var i=o.mz.length;M.yZ(I,E,i);E+=4;for(var h=0;
h<i;h++){var k=o.mz[h];I.gj(E,4);I.data[E++]=k.exp?1:0;I.data[E++]=k.i?1:0;I.data[E++]=k.amU?1:0;I.data[E++]=k.aqH;
var x="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(k.$g)!=-1;M.u0(I,E,x?"long":"TEXT");E+=4;
if(!x){bc.Cz(I,E,k.$g);E+=4+k.$g.length}else{M.u0(I,E,k.$g);E+=4}bc.Cz(I,E,k.my);E+=4+k.my.length;M.o2(I,E,k.Zc?-1:0);
E+=4;if(k.Zc){var j=dG.RF(I,k.Zc,E);E+=j}}}return I.data.slice(0,E).buffer};function bl(){}bl.fM=function(w){var I=new Uint8Array(w),E=0,X=M.W(I,E),x;
E+=4;var o=M.jz(I,E,8);E+=8;var i=M.vc(I,E);E+=4;var h=M.vc(I,E);E+=4;var k=M.vc(I,E);E+=4;if(X==2){x=new Float32Array(w,32,w.byteLength-32>>>2)}else if(X==3||X==4){x=new Float32Array(h*k*2);
var j=0,v=0,_=!0;E=X==3?32:16+8+40;while(E<I.length){var L=M.vc(I,E);E+=4;if(_)v+=L;else{for(var P=0;
P<L;P++){x[j+v+P<<1]=M.G5(I,E);x[(j+v+P<<1)+1]=M.G5(I,E+4);E+=8}v+=L}_=!_;if(L!=0&&v==h){j+=h;v=0;_=!0;
if(j==h*k)break}}}else throw"unknown Mesh version: "+X;return{LQ:h,Ns:k,map:x}};bl.Fo=function(w){var I=w.LQ,E=w.Ns,X=w.map,o=new Uint8Array(32+E*I*8+E*8),i=0,h=0;
M.zj(o,i,3);i+=4;M.X5(o,i,"yfqLhseM");i+=8;M.zM(o,i,2);i+=4;M.zM(o,i,I);i+=4;M.zM(o,i,E);i+=4;M.zM(o,i,0);
i+=4;M.zM(o,i,1);i+=4;for(var k=0;k<E;k++){M.zM(o,i,0);i+=4;M.zM(o,i,I);i+=4;for(var x=0;x<I;x++){M.Jg(o,i,X[h]);
M.Jg(o,i+4,X[h+1]);h+=2;i+=8}}return o.buffer};function cB(){}cB.fM=function(w){var I=new Uint8Array(w),E=0,X=M.jz(I,E,4);
E+=4;var o=M.vH(I,E);E+=2;var i=M.W(I,E);E+=4;var h=[];for(var P=0;P<i;P++){var k=M.W(I,E);E+=4;var x={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
h.push(x);var j=M.Mb(I,E);x.Nm.v=j;E+=4+j.length*2+2;var v=M.vH(I,E);E+=2;var _=M.vH(I,E);E+=2;for(var L=0;
L<_;L++){var U=Q.sD.DA(0,0,!0);U.v.Vrtc.v=M.vH(I,E);E+=2;U.v.Hrzn.v=M.vH(I,E);E+=2;x.Crv.v.push(U)}if(k==1){}else if(k==2){for(var L=0;
L<_;L++){x.Crv.v[L].v.Cnty.v=I[E]==1;E+=1}}else throw"error";var n=M.W(I,E);E+=4;var a=M.W(I,E);E+=4}return h};
cB._m=function(w,I){w.Nm.v=I};cB.hI=function(w){var I=new e2,E=0;M.u0(I,E,"8BFS");E+=4;M.Ou(I,E,1);E+=2;
M.yZ(I,E,w.length);E+=4;for(var P=0;P<w.length;P++){M.yZ(I,E,2);E+=4;var X=w[P];M.XK(I,E,X.Nm.v+"\0");
E+=4+X.Nm.v.length*2+2;M.Ou(I,E,2);E+=2;var o=X.Crv.v.length;M.Ou(I,E,o);E+=2;for(var i=0;i<o;i++){var h=X.Crv.v[i];
M.Ou(I,E,h.v.Vrtc.v);E+=2;M.Ou(I,E,h.v.Hrzn.v);E+=2}I.gj(E,o);for(var i=0;i<o;i++){I.data[E]=X.Crv.v[i].v.Cnty.v;
E++}M.yZ(I,E,0);E+=4;M.yZ(I,E,0);E+=4}return I.data.slice(0,E).buffer};function i4(){}i4.fM=function(w){var I=new Uint8Array(w),E=4,X=M.vH(I,E);
E+=2;var o=M.W(I,E);E+=4;var i=[];for(var P=0;P<o;P++){var h={};i.push(h);E=i4.sl(I,E,h)}return i};i4._m=function(w,I){w.name=I};
i4.hI=function(w){var I=new e2,E=0;M.u0(I,E,"8BPT");E+=4;M.Ou(I,E,1);E+=2;M.yZ(I,E,w.length);E+=4;for(var P=0;
P<w.length;P++){E=i4.YA(I,E,w[P])}return I.data.slice(0,E).buffer};i4.Tx=function(w,I,E){var X=I+E,o=[];
while(I<X){var i={},h=M.W(w,I);I+=4;var k=I;I=i4.sl(w,I,i);if(!i.IZ[1].qo())o.push(i);if(h%4!=0)h+=4-h%4;
I=k+h}return o};i4.gJ=function(w,I,E){for(var P=0;P<E.length;P++){var X=E[P];I+=4;var o=I;I=i4.YA(w,I,X);
var i=I-o;M.yZ(w,o-4,i);if(i%4!=0)o+=4-i%4;I=o+i}return I};i4.sl=function(w,I,E){var X=M.W(w,I);I+=4;
if(X!=1)alert("Unknown version of pattern");var o=M.W(w,I);I+=4;if(o!=1&&o!=2&&o!=3)console.log("Unsupported mode of pattern: "+o);
var i=M.vH(w,I);I+=2;var h=M.vH(w,I);I+=2;var k=new dC(0,0,h,i);E.name=M.Mb(w,I);I+=4+2*E.name.length+2;
var x=w[I];I++;E.id=M.jz(w,I,x);I+=E.id.length;var j=-1;if(o==2){j=I;I+=3*256+4}var v=new Q.hV(h*i);
I=i4.awy(w,I,v);if(o==2){for(var P=0;P<v.o.length;P++){var _=3*v.o[P];v.o[P]=w[j+_+0];v.P[P]=w[j+_+1];
v.L[P]=w[j+_+2]}}var L=Q.$(k.A()*4);Q.tR(v,L);E.IZ=[L,k];return I};i4.YA=function(w,I,E){var X=E.IZ[0],o=E.IZ[1];
M.yZ(w,I,1);I+=4;M.yZ(w,I,3);I+=4;M.Ou(w,I,o.w);I+=2;M.Ou(w,I,o.q);I+=2;M.XK(w,I,E.name+"\0");I+=4+2*E.name.length+2;
M.UY(w,I,E.id.length);I++;M.u0(w,I,E.id);I+=E.id.length;var i=new Q.hV(o.A());Q.tK(X,i);I=i4.ag$(w,I,i,o);
return I};i4.awy=function(w,I,E){var X=I,o={_b:null,wL:[],ag3:null,Mh:null},i=M.W(w,I);I+=4;var h=M.W(w,I);
I+=4;o._b=M.KU(w,I);I+=16;var k=M.W(w,I);I+=4;for(var P=0;P<k+2;P++){var x=M.W(w,I);I+=4;if(x==0)continue;
var j=M.W(w,I);I+=4;if(j==0)continue;var v=M.W(w,I);I+=4;var _=M.KU(w,I);I+=16;var L=M.vH(w,I);I+=2;
var U=w[I];I++;var n=fH.pT(!1,v,w,_.q,_.w,I,U);if(P<k)o.wL.push(n);if(P==k)o.ag3=n;if(P==k+1)o.Mh=n;
I+=j-23}if(!o._b.qo()){if(o.wL[0])E.o=o.wL[0];if(o.wL[1])E.P=o.wL[1];else E.P=o.wL[0].slice(0);if(o.wL[2])E.L=o.wL[2];
else E.L=o.wL[0].slice(0);if(o.Mh)E.lV=o.Mh;else E.lV.fill(255)}return I};i4.ag$=function(w,I,E,X){var o=I,i={_b:X,wL:[E.o,E.P,E.L],ag3:null,Mh:E.lV};
M.yZ(w,I,3);I+=4;M.yZ(w,I,0);I+=4;M.jx(w,I,X);I+=16;M.yZ(w,I,24);I+=4;for(var P=0;P<24+2;P++){var h=I,k=P<3||P==25?1:0;
M.yZ(w,I,k);I+=4;if(k==0)continue;M.yZ(w,I,0);I+=4;M.yZ(w,I,8);I+=4;M.jx(w,I,X);I+=16;M.Ou(w,I,8);I+=2;
M.UY(w,I,1,1);I++;var x=P<3?i.wL[P]:i.Mh;w.gj(I,X.A()+2);I=fH.kN(!1,x,w.data,X.q,X.w,I,1);M.yZ(w,h+4,I-h-8)}M.yZ(w,o+4,I-o-8);
return I};function hu(){}hu.fM=function(w){var I=new Uint8Array(w),E=0;if(I[0]==71)return hu.a1$(I);
var X=M.jz(I,E,4);E+=4;var o=M.vH(I,E);E+=2;var i=[];if(o<=3){var h=M.vH(I,E);E+=2;for(var P=0;P<h;P++){var k=I[E++],x=M.jz(I,E,k);
E+=k;var j=hu.Sl(I,E,x),v=j[0];E=j[1];i.push(v)}}else{var j={},_=dG.Me(I,j,E+4),L=j.GrdL.v;for(var P=0;
P<L.length;P++)i[P]=L[P].v.Grad.v}return i};hu._m=function(w,I){w.Nm.v=I};hu.hI=function(w){var I=new e2,E=0;
M.u0(I,E,"8BGR");E+=4;M.Ou(I,E,5);E+=2;M.yZ(I,E,16);E+=4;var X={classID:"null",GrdL:{t:"VlLs",v:[]}},o=X.GrdL.v;
for(var P=0;P<w.length;P++)o[P]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:w[P]}}};
E+=dG.RF(I,X,E);return I.data.slice(0,E).buffer};hu.Sl=function(w,I,E){var X={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:E},Trns:{t:"VlLs",v:[]}},o=M.vH(w,I);
I+=2;if(o==0)throw"e";for(var P=0;P<o;P++){var i=M.W(w,I),h=M.W(w,I+4),k=bW.V5(w,I+8),x={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:k.o},Grn:{t:"doub",v:k.P},Bl:{t:"doub",v:k.L}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:h}}};
X.Clrs.v.push(x);I+=20}var j=M.vH(w,I);I+=2;for(var P=0;P<j;P++){var i=M.W(w,I),h=M.W(w,I+4),v=M.vH(w,I+8),x={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*v/255)}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:h}}};
X.Trns.v.push(x);I+=10}var _=M.vH(w,I);I+=2;if(_!=2)throw _;X.Intr.v=M.vH(w,I);I+=2;var L=M.vH(w,I);
I+=2;if(L!=32)throw"e";return[X,I]};hu.avi=function(w,I,E){var X=E.Clrs.v.length;M.Ou(w,I,X);I+=2;for(var P=0;
P<X;P++){var o=E.Clrs.v[P];M.yZ(w,I,o.v.Lctn.v);M.yZ(w,I+4,o.v.Mdpn.v);M.Ou(w,I+8,0);var i=Q.N.Ex(Q.N.BL(o.v.Clr.v)),h=[i.Rd.v,i.Grn.v,i.Bl.v,0];
for(var k=0;k<4;k++)M.Ou(w,I+10+k*2,Math.round(65535*(h[k]/255)));I+=20}var x=E.Trns.v.length;M.Ou(w,I,x);
I+=2;for(var P=0;P<x;P++){var o=E.Trns.v[P];M.yZ(w,I,o.v.Lctn.v);M.yZ(w,I+4,o.v.Mdpn.v);M.Ou(w,I+8,Math.round(255*o.v.Opct.v.val/100));
I+=10}M.Ou(w,I,2);I+=2;M.Ou(w,I,E.Intr.v);I+=2;M.Ou(w,I,32);I+=2;return I};hu.a1$=function(w){var I=M.YV(w,0,w.length).split("\n"),E=parseFloat(I[2]),X=[],o=JSON.parse(hL.zd[hL.order.indexOf("GrFl")]).Grad.v;
o.Intr.v=0;o.Nm.v=I[1];for(var P=0;P<E;P++){var i=I[3+P].split(" ").map(parseFloat),h=i[11],k=i[12];
X.push([i[0],i.slice(3,6),i[6]]);if(k!=0){var x=Q.h_(i[3],i[4],i[5]),j=Q.h_(i[7],i[8],i[9]),v=x.Ns,_=j.Ns;
if(k==1&&v>_)_++;if(k==2&&v<_)v++;var L=Math.round(Math.abs(_-v)*7);if(L>1)for(var U=0;U<L;U++){var n=1-(U+1)/(L+1),a=1-n,T=Q.Ww(n*v+a*_,n*x.Ls+a*j.Ls,n*x.P$+a*j.P$);
X.push([n*i[0]+a*i[2],[T.o,T.P,T.L],n*i[6]+a*i[10]])}}X.push([i[2],i.slice(7,10),i[10]])}X.sort(function(g,D){return g[0]-D[0]});
Q.N.GL(X,o);return[o]};function c9(){}c9.fM=function(w){var I=new Uint8Array(w),E=[],X=[],o=[],i=[],h=[],k=0,x=M.jz(I,k,4);
k+=4;var j=M.W(I,k);k+=4;var v=M.W(I,k);k+=4;while(k<I.length){var _=M.jz(I,k,4);k+=4;var L=M.jz(I,k,4);
k+=4;var U=M.W(I,k);k+=4;if(L=="tppa"){X=i4.Tx(I,k,U);k+=U}else if(L=="tpbd"){o=hQ.LI(I,k,U,1,1);k+=U}else if(L=="tptp"){var n=M.W(I,k);
k+=4;for(var P=0;P<n;P++){var a=M.Mb(I,k);k+=6+a.length*2;k+=4;var T={};k+=dG.Me(I,T,k);E.push([a,T])}while((k&3)!=0)k++}else if(L=="tpsh"){var g=k,D=I.slice(k,k+U);
while(k<g+U){var b=M.W(I,k);k+=4;k=fZ.Ub(I,k,"Shape",i)}k=g+U}else if(L=="tpst"){var g=k;k+=4;while(k<g+U){var N=M.W(I,k);
k+=4;var C=k,Z=M.W(I,k);k+=4;var T={nV:{},C$:{}};h.push(T);k+=4;k+=dG.Me(I,T.nV,k);k+=4;k+=dG.Me(I,T.C$,k);
k=C+N;var S=T.C$.Lefx;if(S){if(S.v.masterFXSwitch==null)S.v.masterFXSwitch={t:"bool",v:!0};bN.sE(S.v)}}k=g+U}else{console.log(I.slice(k-8,k+64));
console.log(M.jz(I,k-8,64));throw L}}return{Ar:o,a6:X,list:E,aiU:i,$z:h}};c9._m=function(w,I){w[0]=I};
c9.hI=function(w){var I=new e2,E=0;M.u0(I,E,"8BTP");E+=4;M.yZ(I,E,3);E+=4;M.yZ(I,E,1);E+=4;var X=[w.a6,w.Ar,w.list];
for(var P=0;P<3;P++){if(X[P].length==0)continue;M.u0(I,E,"8BIM");E+=4;var o=["tppa","tpbd","tptp"][P];
M.u0(I,E,o);E+=4;var i=E;E+=4;if(o=="tppa"){E=i4.gJ(I,E,w.a6)}else if(o=="tpbd"){E=hQ.g$(I,E,w.Ar)}else if(o=="tptp"){M.yZ(I,E,w.list.length);
E+=4;for(var h=0;h<w.list.length;h++){var k=w.list[h];M.XK(I,E,k[0]+"\0");E+=6+k[0].length*2;M.yZ(I,E,16);
E+=4;E+=dG.RF(I,k[1],E)}}M.yZ(I,i,E-i-4);while((E&3)!=0)E++;I.gj(E,0)}return I.data.slice(0,E).buffer};
function a8(){}a8.fM=function(w,I){var E=new Uint8Array(w),X;if(M.W(E,0)==E.length)X="icc";else if(E[0]=="<".charCodeAt(0))X="look";
else if(M.lO(E,"LUT_3D_SIZE")!=-1)X="cube";else X="3DL";if(X!="icc"){var o=a8.ale(E,X),i=a8.akT(o[0],o[1]);
E=i}var h=[];for(var P=0;P<E.length;P++)h.push(E[P]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:I?I:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:h}}]};
a8.hI=function(w){var I=w[0],E=new Uint8Array(I.profile.v);return E.buffer};a8._m=function(w,I){w.Nm.v=I};
a8.akT=function(w,I){var E=new e2,X=128;E.gj(0,128);var o=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var P=0;P<o.length;P++)E.data[P]=o[P];var i=["desc","A2B0"],h=i.length,k=128+4+h*12;M.yZ(E,X,h);
X+=4;for(var x=0;x<h;x++){var j=i[x];M.u0(E,X,j);X+=4;M.yZ(E,X,k);X+=4;var v=k;if(j=="desc"){M.u0(E,v,"mluc");
v+=4;v+=4;M.yZ(E,v,1);v+=4;M.yZ(E,v,12);v+=4;M.u0(E,v,"enUS");v+=4;var _="ICC by Photopea\0",L=_.length*2+2;
M.yZ(E,v,L);v+=4;M.yZ(E,v,28);v+=4;E.gj(v,L);for(var P=0;P<_.length;P++)E.data[v+P*2+1]=_.charCodeAt(P);
v+=L}if(j=="A2B0"){M.u0(E,v,"mAB ");v+=4;v+=4;E.gj(v,4);E.data[v]=3;E.data[v+1]=3;v+=4;E.gj(v,4*5);v+=4*3;
M.yZ(E,v,v+8-k);v+=4;v+=4;E.gj(v,20);E.data[v]=w;E.data[v+1]=w;E.data[v+2]=w;v+=16;E.data[v]=2;v+=4;
var U=w*w*w*3;E.gj(v,U*2);for(var P=0;P<U;P++)M.hB(E.data,v+P*2,Math.max(0,Math.min(65535,Math.round(I[P]*65535))));
v+=U*2}var n=v-k;while((n&3)!=0)n++;M.yZ(E,X,n);X+=4;k+=n}M.yZ(E,0,k);return E.data.slice(0,k)};a8.ale=function(w,I){I="LUTFormat"+I.toUpperCase();
var E=[],X=0,o=M.YV(w,0,w.length),i="";for(var P=0;P<w.length&&i=="";P++){if(w[P]==10)i="\n";else if(w[P]==13){i="\r";
if(w[P+1]==10)i+="\n"}}if(I=="LUTFormatCUBE"){var h=o.split(i);for(var P=0;P<h.length;P++){if(h[P]==""||h[P][0]=="#")continue;
var k=h[P].split(" "),x=k[0];if(x=="LUT_3D_SIZE"){X=parseInt(k[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(x)!=-1)continue;
E.push(parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2]))}E=a8.Xg(X,E)}else if(I=="LUTFormat3DL"){var h=o.split(i),j=1/4095;
for(var P=0;P<h.length;P++){var v=h[P];if(v==""||v=="3DMESH"||v.startsWith("Mesh")||v[0]=="#")continue;
var k=v.split(" "),x=k[0];if(X==0){X=k.length;continue}E.push(parseFloat(k[0])*j,parseFloat(k[1])*j,parseFloat(k[2])*j)}}else if(I=="LUTFormatLOOK"){var _=new DOMParser,L=_.parseFromString(o,"text/xml"),U=L.getElementsByTagName("LUT")[0],n=U.children[0].textContent;
X=parseInt(JSON.parse(n));var a=U.children[1].textContent;a=a.replace(/"/g,"").replace(/\s/g,"");var T=3*X*X*X,g=T*4,D=new Uint8Array(g);for(var P=0;P<g;P++){var b=a.charCodeAt(P*2),N=a.charCodeAt(P*2+1),C=b<58?b-48:b-55,Z=N<58?N-48:N-55;D[P]=(C<<4)+Z}for(var P=0;P<T;P++)E.push(M.G5(D,P<<2));E=a8.Xg(X,E)}else throw I;return[X,E]};a8.ae_=function(w,I,E){var X=["#Created by www.Photopea.com","TITLE \""+E+"\"","","#LUT size","LUT_3D_SIZE "+I,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],o=6;
for(var P=0;P<w.length;P+=3){X.push(w[P].toFixed(o)+" "+w[P+1].toFixed(o)+" "+w[P+2].toFixed(o))}X.push("");
return M.VD(X.join("\n")).buffer};a8.Xg=function(w,I){var E=[],X=w*w*w;for(var P=0;P<X;P++)E.push(0,0,0);
for(var o=0;o<w;o++)for(var i=0;i<w;i++)for(var h=0;h<w;h++){var P=3*(h+i*w+o*w*w),k=3*(o+i*w+h*w*w);
E[k]=I[P];E[k+1]=I[P+1];E[k+2]=I[P+2]}return E};function dG(){}dG.Me=function(w,I,E,X,o){var i=E,h;if(o==null)o=0;
var k=M.W(w,E);if(k==0){h="";E+=4}else{h=M.Mb(w,E);E+=4+2*h.length+2}if(h!="")I.__name=h;I.classID=dG.TR(w,E);
if(X)console.log("\t".repeat(o),"- reading descriptor",I.classID,E);E+=dG.LD(w,E);var x=M.Qf(w,E);E+=4;
for(var P=0;P<x;P++){var j=dG.TR(w,E);E+=dG.LD(w,E);var v=dG.zR(w,E,X,o);I[j]=v;E+=v.size;delete v.size}return E-i};
dG.RF=function(w,I,E,X){var o=E,i=I.__name;if(i==null)i="";i+="\0";M.XK(w,E,i);E+=4+2*i.length;dG.mR(w,E,I.classID);
E+=dG.LD(w.data,E);M.o2(w,E,Object.keys(I).length-1-(I.__name==null?0:1));E+=4;for(var h in I){if(h=="classID")continue;
if(h=="__name")continue;dG.mR(w,E,h);E+=dG.LD(w.data,E);E+=dG.eQ(w,E,I[h])}return E-o};dG.zR=function(w,I,E,X){var o=I,i=M.jz(w,I,4);
I+=4;var h={size:0,t:i,v:null};if(E)console.log("\t".repeat(X),"reading key",i,o);switch(i){case"obj ":case"VlLs":h.v=[];
var k=M.W(w,I);I+=4;for(var P=0;P<k;P++){var x=dG.zR(w,I,E,X+1);I+=x.size;delete x.size;h.v.push(x)}break;
case"UntF":h.v={type:M.jz(w,I,4),val:M.lb(w,I+4)};I+=12;break;case"doub":h.v=M.lb(w,I);I+=8;break;case"bool":h.v=w[I]==1;
I+=1;break;case"long":h.v=M.Qf(w,I);I+=4;break;case"comp":h.v=M.Qf(w,I+4);I+=8;break;case"Objc":h.v={};
var j=dG.Me(w,h.v,I,E,X+1);I+=j;break;case"TEXT":var v=M.W(w,I);if(v==0){h.v="";I+=4}else{h.v=M.Mb(w,I);
I+=4+h.v.length*2+2}break;case"enum":var _=dG.TR(w,I);I+=dG.LD(w,I);var L=dG.TR(w,I);I+=dG.LD(w,I);h.v={};
h.v[_]=L;break;case"tdta":var U=M.Qf(w,I);I+=4;h.v=[];for(var P=0;P<U;P++)h.v.push(w[I+P]);I+=U;break;
case"ObAr":var n=M.W(w,I);I+=4;var a=M.Mb(w,I);I+=4+2*a.length+2;if(a!="")throw a;var T=dG.TR(w,I);I+=4+Math.max(4,T.length);
h.v={classID:T,arr:[]};var g=M.W(w,I);I+=4;for(var P=0;P<g;P++){var T=dG.TR(w,I);I+=4+Math.max(4,T.length);
var _=M.jz(w,I,4);I+=4;var D=M.jz(w,I,4);I+=4;var b={id:T,type:_,uID:D,arr:[]};h.v.arr.push(b);var N=M.W(w,I,4);
I+=4;for(var C=0;C<N;C++){var Z=M.lb(w,I);I+=8;b.arr.push(Z)}}break;case"Pth ":var S=I,U=M.W(w,I);I+=4;
var u=M.jz(w,I,4);I+=4;var p=M.vc(w,I);I+=4;var f=M.axg(w,I);I+=4+f.length*2;h.v={sig:u,pth:f};break;
case"Clss":case"type":case"rele":var f=M.Mb(w,I);I+=4+f.length*2+2;var d=dG.TR(w,I);I+=4+Math.max(4,d.length);
h.v={classID:d};if(f!="")h.v.__name=f;if(i=="rele"){h.v.val=M.Qf(w,I);I+=4}break;case"prop":case"Enmr":case"indx":case"name":var l=dG.Nh[i],f=M.Mb(w,I);
I+=4+f.length*2+2;if(f.length!=0){console.log(i,f);throw"e"}h.v={};for(var P=0;P<l.length;P++){var d=dG.TR(w,I);
I+=4+Math.max(4,d.length);h.v[l[P]]=d}if(i=="name"){var f=M.Mb(w,I);I+=4+f.length*2+2;h.v.val=f}if(i=="indx"){h.v.val=M.W(w,I);
I+=4}break;case"alis":var U=M.W(w,I);I+=4;h.v=M.jz(w,I,U);I+=U;break;default:{console.log("unknown oskey: "+i+", "+o);
throw"e";return h}}if(E){console.log("\t".repeat(X),h.v);console.log("\t".repeat(X),"======",I)}h.size=I-o;
return h};dG.Nh={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
dG.eQ=function(w,I,E){var X=I,o=E.t;E=E.v;M.u0(w,I,o);I+=4;switch(o){case"obj ":case"VlLs":M.o2(w,I,E.length);
I+=4;for(var i=0;i<E.length;i++){var h=dG.eQ(w,I,E[i]);I+=h}break;case"UntF":M.u0(w,I,E.type);M.E3(w,I+4,E.val);
I+=12;break;case"doub":M.E3(w,I,E);I+=8;break;case"bool":M.UY(w,I,E?1:0,1);I+=1;break;case"long":M.o2(w,I,E);
I+=4;break;case"comp":M.o2(w,I+4,E);I+=8;break;case"Objc":var h=dG.RF(w,E,I);I+=h;break;case"TEXT":M.XK(w,I,E+"\0");
I+=4+E.length*2+2;break;case"enum":var k=Object.keys(E)[0],x=E[k];dG.mR(w,I,k);I+=dG.LD(w.data,I);dG.mR(w,I,x);
I+=dG.LD(w.data,I);break;case"tdta":M.yZ(w,I,E.length);I+=4;M.na(w,I,E);I+=E.length;break;case"ObAr":M.yZ(w,I,E.arr[0].arr.length);
I+=4;M.XK(w,I,"\0");I+=6;dG.mR(w,I,E.classID);I+=4+Math.max(4,E.classID.length);M.yZ(w,I,E.arr.length);
I+=4;for(var P=0;P<E.arr.length;P++){var j=E.arr[P];dG.mR(w,I,j.id);I+=4+Math.max(4,j.id.length);M.u0(w,I,j.type);
I+=4;M.u0(w,I,j.uID);I+=4;M.yZ(w,I,j.arr.length);I+=4;for(var i=0;i<j.arr.length;i++){M.E3(w,I,j.arr[i]);
I+=8}}break;case"Pth ":var v=E.pth.length*2+4+8;M.yZ(w,I,v);I+=4;M.u0(w,I,E.sig);I+=4;M.xj(w,I,v);I+=4;
M.aut(w,I,E.pth);I+=E.pth.length*2+4;break;case"Clss":case"type":case"rele":var _=E.__name;if(_==null)_="";
M.XK(w,I,_+"\0");I+=4+_.length*2+2;var L=E.classID;dG.mR(w,I,L);I+=4+Math.max(4,L.length);if(o=="rele"){M.o2(w,I,E.val);
I+=4}break;case"prop":case"Enmr":case"indx":case"name":var U=dG.Nh[o];M.yZ(w,I,1);I+=6;for(var P=0;P<U.length;
P++){var L=E[U[P]];dG.mR(w,I,L);I+=4+Math.max(4,L.length)}if(o=="name"){M.XK(w,I,E.val+"\0");I+=4+E.val.length*2+2}if(o=="indx"){M.yZ(w,I,E.val);
I+=4}break;case"alis":var v=E.length;M.yZ(w,I,v);I+=4;M.u0(w,I,E);I+=v;break;default:console.log("unknown oskey: "+o);
I=X;break}return I-X};dG.TR=function(w,I){var E=M.Qf(w,I);if(E>1e3)throw"e";if(E==0)E=4;return M.jz(w,I+4,E).trim()};
dG.LD=function(w,I){var E=M.Qf(w,I);return E==0?8:4+E};dG.mR=function(w,I,E){var X="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),o=4<E.length||X.indexOf(E)!=-1;
M.o2(w,I,o?E.length:0);M.u0(w,I+4,E);if(E.length<4&&!o){var i="";for(var P=E.length;P<4;P++)i+=" ";M.u0(w,I+4+E.length,i)}};
dG.av3=function(w){var I={};for(var E in w){if(E=="classID")I[E]=w[E];else if(E=="__name")I[E]=w[E];
else I[E]=dG.$_(w[E])}return I};dG.$_=function(w){if(w.U8=="Objc")return dG.av3(w.v);else if(w.U8=="VlLs"){var I=[];
for(var P=0;P<w.v.length;P++)I.push(dG.$_(w.v[P]));return I}else if(w.U8=="UntF")return w.v.val;else return w.v};
function bN(){}bN.Lm=function(w,I,E,X,o,i){while(I<E){var h=M.jz(w,I,4);I+=4;if(h!="8BIM"&&h!="8B64"){console.log("layer information signature error! "+h,"PSB = "+o);
alert("Error in PSD file: wrong signature.");return E}var k=M.jz(w,I,4);I+=4;var x=M.W(w,I);I+=4;var j=o&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(k)!=-1;
if(j){x=x<<32|M.Qf(w,I);I+=4}var v=["lrFX","PlLd"];if(v.indexOf(k)!=-1){if(x%4!=0)x+=4-x%4;I+=x;continue}switch(k){case"iOpa":X[k]=w[I];
break;case"brst":X[k]=[1,1,1];for(var P=0;P<x;P+=4)X[k][M.W(w,I+P)]=0;break;case"knko":X[k]=w[I];break;
case"infx":X[k]=w[I];break;case"clbl":X[k]=w[I];break;case"lmgm":X[k]=w[I];break;case"vmgm":X[k]=w[I];
break;case"fcmy":X[k]=w[I];break;case"lyid":X[k]=M.W(w,I);break;case"lsct":X[k]={type:M.W(w,I)};if(x>=12)X[k].$B=M.jz(w,I+8,4);
break;case"lsdk":X.lsct={type:M.W(w,I)};break;case"lyvr":X[k]=M.W(w,I);break;case"lnsr":var _={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
X[k]=M.jz(w,I,4);break;case"lspf":X[k]=M.W(w,I);break;case"lclr":X[k]=M.vH(w,I);break;case"luni":X[k]=M.l5(w,I);
break;case"fxrp":X[k]=new a5(M.lb(w,I),M.lb(w,I+8));break;case"artb":case"artd":X[k]={};dG.Me(w,X[k],I+4);
break;case"SoCo":X[k]={};dG.Me(w,X[k],I+4);break;case"GdFl":X[k]={};dG.Me(w,X[k],I+4);bN.BG(X[k],k);
break;case"PtFl":X[k]={};dG.Me(w,X[k],I+4);bN.BG(X[k],k);break;case"CgEd":X[k]={};dG.Me(w,X[k],I+4);
break;case"brit":var L=X.brit=gD.SX("brit"),U={};L.Brgh.v=M.mL(w,I);L.Cntr.v=M.mL(w,I+2);L.useLegacy.v=!1;
break;case"levl":var n=w.buffer.slice(I,I+x);X[k]=fP.fM(n);break;case"curv":X[k]=k5.Zm(w,I,x);break;
case"expA":var a=M.vH(w,I),T=X[k]=gD.SX("expA");T.Exps.v=M.Hx(w,I+2);T.Ofst.v=M.Hx(w,I+6);T.gammaCorrection.v=M.Hx(w,I+10);
break;case"vibA":X[k]={};dG.Me(w,X[k],I+4);break;case"hue2":X[k]=hj.Zm(w,I,x);break;case"blnc":var T=X[k]=gD.SX(k);
T.PrsL.v=w[I+18]==1;var g=["ShdL","MdtL","HghL"];for(var P=0;P<3;P++)for(var D=0;D<3;D++)T[g[P]].v[D].v=M.mL(w,I+P*6+D*2);
break;case"blwh":var b={};dG.Me(w,b,I+4);var T=gD.SX(k),N="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var P=0;P<N.length;P++){T[N[P]]=b[N[P]];delete b[N[P]]}X[k]=T;break;case"phfl":var T=X[k]=gD.SX(k),C=T.Clr.v,a=M.vH(w,I);
if(a==3){var Z=[M.W(w,I+2),M.W(w,I+6),M.W(w,I+10)],S=32768,u=Q.fQ(Z[0]/S,Z[1]/S,Z[2]/S);C.Lmnc.v=u.wb;
C.A.v=u.lV;C.B.v=u.L}if(a==2){var p=M.vH(w,I+2);if(p!=7)throw"e";C.Lmnc.v=M.mL(w,I+4)/100;C.A.v=M.mL(w,I+6)/100;
C.B.v=M.mL(w,I+8)/100}var f=I+2+(a==3?12:10);T.Dnst.v=M.W(w,f);f+=4;T.PrsL.v=w[f]==1;break;case"mixr":var d={R2:M.vH(w,I+2)==1,k:[]};
for(var P=0;P<20;P++)d.k.push(M.mL(w,I+4+P*2));X[k]=cz.aaV(d);break;case"clrL":case"rplc":X[k]={};dG.Me(w,X[k],I+6);
break;case"nvrt":X[k]={};break;case"post":X[k]=gD.SX("post");X[k].Lvls.v=M.vH(w,I);break;case"thrs":X[k]=gD.SX("thrs");
X[k].Lvl.v=M.vH(w,I);break;case"grdm":var l=I,A=w[I+2]==1,B=w[I+3]==1;l+=4;var e=M.jz(w,l,4);if(e=="Perc"||e=="Gcls"||e=="Lnr ")l+=4;
var m=M.l5(w,l);l+=4+m.length*2;var $=hu.Sl(w,l,m),V=$[0];l=$[1];var H=M.vH(w,l);l+=2;var F=M.W(w,l);
l+=4;var G=M.vH(w,l)==1;l+=2;var J=M.vH(w,l)==1;l+=2;var c=M.W(w,l);l+=4;var r=M.vH(w,l);l+=2;var s=[],z=[];
for(var P=0;P<4;P++){s.push({t:"long",v:~~(M.vH(w,l+P*2)*100/32768)});z.push({t:"long",v:~~(M.vH(w,l+P*2+8)*100/32768)})}l+=16;
var Y=M.vH(w,l);l+=2;if(H==1)V={classID:"Grdn",Nm:{t:"TEXT",v:m},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:G},VctC:{t:"bool",v:J},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:F},Smth:{t:"long",v:c},Mnm:{t:"VlLs",v:s},Mxm:{t:"VlLs",v:z}};
var ax=gD.SX("grdm");ax.Rvrs.v=A;ax.Grad.v=V;X[k]=ax;break;case"selc":X[k]=jG.Zm(w,I,x);break;case"vmsk":case"vsms":var iW=X.vmsk=new K.DN,y=M.Qf(w,I+4),hm=(y>>0&1)==1;
iW.Rh=(y>>1&1)==0;iW.isEnabled=(y>>2&1)==0;iW.j=fZ.tV(w,I+8,x-8,i.q,i.w);break;case"shmd":X[k]={};var t=M.W(w,I),f=I+4;
for(var P=0;P<t;P++){var h=M.jz(w,f,4);f+=4;var cT=M.jz(w,f,4);f+=4;var c4=w[f];f++;if(Math.max(w[f],w[f+1])!=0)throw"e";
f+=3;var kv=M.W(w,f);f+=4;if(cT=="cust"||cT=="cmls"||cT=="extn"||cT=="mlst"){var iL=M.W(w,f);if(iL!=16)f+=4;
if(M.W(w,f)==16){var b={};dG.Me(w,b,f+4,!1);X[k][cT]=b;if(cT=="cmls")q.mP.ab5(X[k][cT])}}else{console.log("unknown shmd key: "+cT+", size: "+kv)}f+=kv}break;
case"shpa":var a=M.W(w,I),cr=M.W(w,I+4);if(cr!=0)console.log("some patterns present!");break;case"TySh":var ga=X[k]={},a=M.vH(w,I);
ga.F=M.RO(w,I+2);var iq=M.vH(w,I+2+48);ga.sh={};var ei=dG.Me(w,ga.sh,I+56),hw=bQ.a4S();for(var hC in hw)if(ga.sh[hC]==null)ga.sh[hC]=hw[hC];
ga.gl={};var j5=dG.Me(w,ga.gl,I+56+ei+6);ga.Wc=M.acY(w,I+56+ei+6+j5);ga.Da=g8.fM(ga.sh.EngineData.v);
bQ.apm(ga.Da.EngineDict.StyleRun.RunArray);if(ga.Da.ResourceDict==null)ga.Da.ResourceDict=JSON.parse(JSON.stringify(ga.Da.DocumentResources));
delete ga.sh.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var ed=M.W(w,I),jn=M.W(w,I+4);X.lmfx={};
var ei=dG.Me(w,X.lmfx,I+8);bN.sE(X.lmfx);break;case"FMsk":X[k]=M.OD(w,I,x);break;case"Txt2":X[k]={};
X[k].raw=M.OD(w,I,x);X[k].dy=fK.fM(X[k].raw);break;case"Patt":X[k]=i4.Tx(w,I,x);break;case"SoLd":var fj=M.jz(w,I,4),di=M.W(w,I+4),b1=M.W(w,I+8);
X[k]={};var dI=dG.Me(w,X[k],I+12);if(X[k].nonAffineTransform==null)X[k].nonAffineTransform=JSON.parse(JSON.stringify(X[k].Trnf));
if(X[k].Impr==null)X[k].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var di=M.W(w,I);
X[k]={};var dI=dG.Me(w,X[k],I+4);break;case"vscg":var cT=M.jz(w,I,4),di=M.W(w,I+4);X[cT]={};var dI=dG.Me(w,X[cT],I+8);
bN.BG(X[cT],cT);break;case"vogk":var h2=M.W(w,I),di=M.W(w,I+4);X[k]={};var dI=dG.Me(w,X[k],I+8);X[k]=X[k].keyDescriptorList.v;
for(var P=0;P<X[k].length;P++){var de=X[k][P].v;if(!Q.GJ.An(de))continue;if(de.keyOriginBoxCorners==null){var ds=Q.GJ.w0(de);
de.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var jO=[ds[0],ds[1],ds[2],ds[1],ds[2],ds[3],ds[0],ds[3]];
if(de.keyOriginType.v==4)jO=Q.GJ.bg(Q.GJ.sH(de),de.keyOriginLineWeight.v);Q.GJ.uY(de,"keyOriginBoxCorners",jO)}}break;
case"lnk2":case"lnkD__":case"lnk3__":X[k]=[];var l=I;while(l<I+x){var gy=new K.NX;X[k].push(gy);var fV=M.xK(w,l);
l+=8;var hl=l;gy.type=M.jz(w,l,4);l+=4;if(gy.type!="liFD"){alert("Unknown Linked Layer type: "+gy.type);
break;throw gy.type}gy.Wt=M.W(w,l);l+=4;var im=M.C2(w,l);l+=1+im.P1.length;gy.wl=im.P1;gy.Ov=M.Mb(w,l);
l+=4+gy.Ov.length*2+2;gy.BM=M.jz(w,l,4);l+=4;gy.Va=M.jz(w,l,4);l+=4;var eA=M.xK(w,l);l+=8;gy.open=w[l];
l+=1;if(gy.open!=0){var hy={},ei=dG.Me(w,hy,l+4);if(ei%4!=0)ei+=4-ei%4;console.log(hy);l+=ei+4}gy.open=0;
gy.raw=M.OD(w,l,eA);l=hl+fV;if(fV%4!=0)l+=4-fV%4}break;case"FEid":var l=I;X[k]=[];var dm=l+x,a=M.W(w,l);
l+=4;while(l<dm){l+=4;var fV=M.W(w,l);l+=4;var $={};X[k].push($);$.id=M.C2(w,l).P1;l+=$.id.length+1;
var a=M.W(w,l);l+=4;l+=4;var hA=M.W(w,l);l+=4;$.rect=M.KU(w,l);l+=16;var j2=M.W(w,l);l+=4;var dQ=M.W(w,l);
l+=4;var aS=new Q.hV(0);for(var P=0;P<dQ+2;P++){var eh=M.W(w,l);l+=4;if(eh!=0){l+=4;var h_=M.W(w,l),h6=null;
l+=4;if(P<3||P==25)h6=fH.AT(!0,j2,w,$.rect.q,$.rect.w,l,h_);if(P==0)aS.o=h6;if(P==1)aS.P=h6;if(P==2)aS.L=h6;
if(P==25)aS.lV=h6;l+=h_}}$.buffer=Q.$($.rect.A()*4);Q.tR(aS,$.buffer);Q.Hw($);var gT=w[l];l++;if(gT!=0){$.D=new K._x;
$.D.rect=M.KU(w,l);l+=16;l+=4;var b8=M.W(w,l);l+=4;$.D.channel=fH.AT(!0,j2,w,$.D.rect.q,$.D.rect.w,l,b8);
$.D.color=255;$.D.G1();l+=b8}if(fV%4!=0)l+=4-fV%4}break;case"Lr16":cD._z(i,w,I);break;case"Anno":X[k]=[];
var hP=I,b5=I+4,cr=M.W(w,b5);b5+=4;for(var P=0;P<cr;P++){var fV=M.W(w,b5);b5+=4;var ar=M.jz(w,b5,4);
b5+=4;if(ar!="txtA")throw ar;var cG=w[b5++],bd=w[b5++],aZ=M.vH(w,b5);b5+=2;var gl=M.KU(w,b5);b5+=16;
var ci=M.KU(w,b5);b5+=16;var C=bW.V5(w,b5);b5+=10;var a7=M.C2(w,b5);b5+=a7.length;var ay=M.C2(w,b5);
b5+=ay.length;var it=M.C2(w,b5);b5+=it.length;var h1=M.W(w,b5);b5+=4;var hM=M.jz(w,b5,4);b5+=4;var dn=M.W(w,b5);
b5+=4;var gV=M.w5(w,b5+2,dn-2>>1);b5+=dn;X[k].push([gl.x,gl.y,C,a7.P1,gV])}break;default:break}var jv="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(jv.indexOf(k)==-1)if(x%4!=0)console.log("size not multiple of 4!!!",k);if(k!="luni"&&k!="TySh"&&k!="tySh"&&k!="lfx2"&&k!="iOpa")if(x%4!=0)x+=4-x%4;
I+=x}var U=X.CgEd;if(U){var L=X.brit;if(L){L.Brgh.v=U.Brgh?U.Brgh.v:0;L.Cntr.v=U.Cntr?U.Cntr.v:0;L.useLegacy.v=U.useLegacy?U.useLegacy.v:0}delete X.CgEd}var dt=[];
for(var P=0;P<dt.length;P++)delete X[dt[P]];return I};bN.It=function(w,I,E,X,o){for(var i in E)if(E[i]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+i+"\" tag was present with a null value.");delete E[i]}for(var i in E){var h=X&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(i)!=-1,x=0;
M.u0(w,I,h?"8B64":"8BIM");I+=4;var k=I;M.u0(w,I,i);I+=4;M.o2(w,I,0);I+=h?8:4;switch(i){case"iOpa":M.UY(w,I,E[i],1);
x=4;break;case"brst":x=0;for(var P=0;P<3;P++)if(E[i][P]==0){M.yZ(w,I+x,P);x+=4}break;case"knko":M.UY(w,I,E[i],1);
x=4;break;case"infx":M.UY(w,I,E[i],1);x=4;break;case"clbl":M.UY(w,I,E[i],1);x=4;break;case"lmgm":M.UY(w,I,E[i],1);
x=4;break;case"vmgm":M.UY(w,I,E[i],1);x=4;break;case"fcmy":M.UY(w,I,E[i],1);x=4;break;case"lyid":M.yZ(w,I,E[i]);
x=4;break;case"lsct":M.yZ(w,I,E[i].type);x=4;if(E[i].$B){M.u0(w,I+4,"8BIM");M.u0(w,I+8,E[i].$B);x=12}break;
case"lyvr":M.yZ(w,I,E[i]);x=4;break;case"lnsr":M.u0(w,I,E[i]);x=4;break;case"lspf":M.yZ(w,I,E[i]);x=4;
break;case"lclr":M.Ou(w,I,E[i]);x=8;break;case"luni":M.XK(w,I,E[i]);x=4+2*E[i].length;break;case"fxrp":M.E3(w,I,E[i].x);
M.E3(w,I+8,E[i].y);x=16;break;case"artb":case"artd":M.yZ(w,I,16);x=dG.RF(w,E[i],I+4)+4;break;case"SoCo":M.yZ(w,I,16);
x=dG.RF(w,E[i],I+4)+4;break;case"GdFl":M.yZ(w,I,16);x=dG.RF(w,E[i],I+4)+4;break;case"PtFl":M.yZ(w,I,16);
x=dG.RF(w,E[i],I+4)+4;break;case"CgEd":var j={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},v=j,_=E[i];
v.Brgh.v=_.Brgh.v;v.Cntr.v=_.Cntr.v;v.useLegacy.v=_.useLegacy.v;M.yZ(w,I,16);x=dG.RF(w,j,I+4)+4;break;
case"brit":w.gj(I,8);x=8;break;case"levl":var L=new e2;x=fP.hI(L,E[i]);M.na(w,I,L.data);break;case"curv":x=k5.os(w,I,E[i]);
break;case"expA":x=14;w.gj(I,14);M.hB(w.data,I,1);M.nU(w.data,I+2,E[i].Exps?E[i].Exps.v:0);M.nU(w.data,I+6,E[i].Ofst?E[i].Ofst.v:0);
M.nU(w.data,I+10,E[i].gammaCorrection?E[i].gammaCorrection.v:1);break;case"vibA":M.yZ(w,I,16);x=dG.RF(w,E[i],I+4)+4;
break;case"hue2":x=hj.os(w,I,E[i]);break;case"blnc":x=19;w.gj(I,x);var U=["ShdL","MdtL","HghL"];for(var P=0;
P<3;P++){var n=E[i][U[P]].v;for(var a=0;a<3;a++)n.push(M.vT(w.data,I+P*6+a*2,n[a].v))}w.data[I+18]=E[i].PrsL.v?1:0;
break;case"blwh":var j={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},T="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var P=0;P<T.length;P++){j[T[P]]=E[i][T[P]]}M.yZ(w,I,16);x=dG.RF(w,j,I+4)+4;break;case"phfl":M.Ou(w,I,2);
var g=E[i].Clr.v;M.Ou(w,I+2,7);M.Ou(w,I+4,Math.round(g.Lmnc.v*100));M.Ou(w,I+6,Math.round(g.A.v*100));
M.Ou(w,I+8,Math.round(g.B.v*100));M.Ou(w,I+10,0);var D=I+2+10;w.gj(D,5);M.zj(w.data,D,E[i].Dnst.v);D+=4;
w.data[D]=E[i].PrsL.v?1:0;D++;x=D-I;break;case"mixr":x=44;w.gj(I,x);var b=cz.AP(E[i]);M.hB(w.data,I,1);
M.hB(w.data,I+2,b.R2?1:0);for(var P=0;P<20;P++)M.vT(w.data,I+4+P*2,b.k[P]);break;case"clrL":case"rplc":M.Ou(w,I,1);
M.yZ(w,I+2,16);x=dG.RF(w,E[i],I+6)+6;break;case"nvrt":x=0;break;case"post":M.Ou(w,I,E[i].Lvls.v);x=2;
break;case"thrs":M.Ou(w,I,E[i].Lvl.v);x=2;break;case"grdm":var N=E[i].Rvrs?E[i].Rvrs.v:!1,C=!1,Z=867527939,S=!1,u=!1,p=2048,f=[0,0,0,0],d=[32768,32768,32768,32768],l=E[i].Grad.v,A,B,e=l.Clrs==null?1:0;
if(e==0){A=l;B=JSON.parse(hL.My.aie).v}else{A=gD.SX("grdm").Grad.v;B=l}w.gj(I,4);M.hB(w.data,I,1);w.data[I+2]=N?1:0;
w.data[I+3]=C?1:0;var m=I+4;M.XK(w,m,l.Nm.v);m+=4+l.Nm.v.length*2;m=hu.avi(w,m,A);M.Ou(w,m,e);m+=2;M.yZ(w,m,B.RndS.v);
m+=4;M.Ou(w,m,B.ShTr.v?1:0);m+=2;M.Ou(w,m,B.VctC.v?1:0);m+=2;M.yZ(w,m,B.Smth.v);m+=4;M.Ou(w,m,3);m+=2;
for(var P=0;P<4;P++)M.Ou(w,m+P*2,f[P]);m+=8;for(var P=0;P<4;P++)M.Ou(w,m+P*2,d[P]);m+=8;m+=2;x=m-I;break;
case"selc":x=jG.os(w,I,E[i]);break;case"FMsk":M.na(w,I,E[i]);x=E[i].length;break;case"Txt2":var $=new e2,V=fK.Fo(E[i].dy,$),H=Q.$(V,!0);
for(var P=0;P<V;P++)H[P]=$.data[P];M.na(w,I,H);x=H.length;break;case"vmsk":var F=E[i],G=0;M.yZ(w,I,3);
if(!F.Rh)G+=1<<1;if(!F.isEnabled)G+=1<<2;M.yZ(w,I+4,G);x=8;var J=F.j.length;w.gj(I+8,J*26);fZ.p5(w.data,I+8,F.j,o.q,o.w);
x+=J*26;break;case"shmd":M.yZ(w,I,Object.keys(E[i]).length);var D=I+4;for(var c in E[i]){M.u0(w,D,"8BIM");
D+=4;M.u0(w,D,c);D+=4;M.yZ(w,D,0);D+=4;M.yZ(w,D,0);D+=4;M.yZ(w,D,16);D+=4;var r=dG.RF(w,E[i][c],D);if(r%4!=0)r+=4-r%4;
M.yZ(w,D-8,r+4);D+=r}x=D-I;break;case"TySh":var D=I;M.hc(w,D,1);D+=2;var s=E[i],$=new e2;s.Da.DocumentResources=JSON.parse(JSON.stringify(s.Da.ResourceDict));
var V=g8.Fo(s.Da,$),H=Q.$(V,!0);for(var P=0;P<V;P++)H[P]=$.data[P];s.sh.EngineData={t:"tdta",v:H};var z=s.Da.EngineDict.Editor.Text;
s.sh.Txt.v=z.substring(0,z.length-1);M.auU(w,D,s.F);D+=48;M.hc(w,D,50);D+=2;M.yZ(w,D,16);D+=4;D+=dG.RF(w,s.sh,D);
M.hc(w,D,1);D+=2;M.yZ(w,D,16);D+=4;D+=dG.RF(w,s.gl,D);M.a97(w,D,s.Wc);D+=16;x=D-I;break;case"lmfx":M.yZ(w,I,0);
M.yZ(w,I+4,16);var j=JSON.parse(JSON.stringify(E[i])),Y=!1;bN.C7(j);for(var P=0;P<hL.JR.length;P++)if(j[hL.JR[P]]!=null)Y=!0;
M.u0(w,k,Y?"lmfx":"lfx2");x=dG.RF(w,j,I+8)+8;break;case"Patt":var D=i4.gJ(w,I,E[i]);x=D-I;break;case"SoLd":M.u0(w,I,"soLD");
M.yZ(w,I+4,4);M.yZ(w,I+8,16);x=dG.RF(w,E[i],I+12)+12;break;case"vstk":case"pths":M.yZ(w,I,16);x=dG.RF(w,E[i],I+4)+4;
break;case"vscg__":M.u0(w,I,E[i].key);M.yZ(w,I+4,16);x=dG.RF(w,E[i].k,I+8)+8;break;case"vogk":M.yZ(w,I,1);
M.yZ(w,I+4,16);Q.GJ.ahW(E[i]);for(var P=0;P<E[i].length;P++){var ax=E[i][P].v.keyOriginResolution;if(ax)ax.v=o.nN}var iW={classID:"null",keyDescriptorList:{t:"VlLs",v:E[i]}};
x=dG.RF(w,iW,I+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var m=I;for(var P=0;P<E[i].length;P++){var y=E[i][P],hm=m;
M.iA(w,m,0);m+=8;M.u0(w,m,y.type);m+=4;M.yZ(w,m,y.Wt);m+=4;w.gj(m,1);w.data[m]=y.wl.length;m++;M.u0(w,m,y.wl);
m+=y.wl.length;M.XK(w,m,y.Ov+"\0");m+=4+y.Ov.length*2+2;M.u0(w,m,y.BM);m+=4;M.u0(w,m,y.Va);m+=4;M.iA(w,m,y.raw.length);
m+=8;w.gj(m,1);w.data[m]=y.open;m++;M.na(w,m,y.raw);m+=y.raw.length;M.yZ(w,m,1);m+=4;m+=11;var t=m-hm-8;
M.iA(w,hm,t);if(t%4!=0){w.gj(m,4-t%4);m+=4-t%4}}x=m-I;break;case"FEid":var m=I;M.yZ(w,m,3);m+=4;for(var cT=0;
cT<E[i].length;cT++){var c4=E[i][cT];m+=4;var kv=m;m+=4;M.Sm(w,m,c4.id);m+=c4.id.length+1;M.yZ(w,m,1);
m+=4;var iL=Q.$(c4.rect.A()),cr=c4.rect,ga=Q.$(cr.A());m+=4;var iq=m;m+=4;M.jx(w,m,cr);m+=16;M.yZ(w,m,8);
m+=4;M.yZ(w,m,24);m+=4;for(var P=0;P<24+2;P++){var ei=-1;if(P==0)ei=0;if(P==1)ei=1;if(P==2)ei=2;if(P==25)ei=3;
M.yZ(w,m,ei!=-1?1:0);m+=4;if(ei!=-1){Q.qe(c4.buffer,iL,ei);Q.b_(iL,c4.rect,ga,cr);m+=4;var hw=m;m+=4;
w.gj(m,cr.A()+2);m=fH.Zl(!0,ga,w.data,cr.q,cr.w,m,3);M.yZ(w,hw,m-(hw+4))}}M.yZ(w,iq,m-(iq+4));w.gj(m,1);
w.data[m]=c4.D?1:0;m++;if(c4.D!=null){var hC=cr,j5=Q.$(hC.A());j5.fill(c4.D.color);Q.b_(c4.D.channel,c4.D.rect,j5,hC);
M.jx(w,m,hC);m+=16;m+=4;var ed=m;m+=4;w.gj(m,hC.A()+2);m=fH.Zl(!0,j5,w.data,hC.q,hC.w,m,3);M.yZ(w,ed,m-(ed+4))}var t=m-(kv+4);
M.yZ(w,kv,t);if(t%4!=0)m+=4-t%4}x=m-I;break;case"Anno":var jn=I,fj=E[i].length;M.Ou(w,jn,2);M.Ou(w,jn+2,1);
jn+=4;M.yZ(w,jn,fj);jn+=4;for(var P=0;P<fj;P++){var di=E[i][P],b1=di[0],dI=di[1],h2=jn;jn+=4;M.u0(w,jn,"txtA");
jn+=4;w.gj(jn,2);w.data[jn]=1;w.data[jn+1]=28;jn+=2;M.Ou(w,jn,1);jn+=2;M.jx(w,jn,new dC(b1,dI,17,21));
jn+=16;M.jx(w,jn,new dC(b1+8,dI+10,241,141));jn+=16;w.gj(jn,10);bW.Ps(w.data,jn,di[2]);jn+=10;jn+=M.Sm(w,jn,di[3]);
jn+=M.Sm(w,jn,"");jn+=M.Sm(w,jn,"D:20211012120233+01'00'");var de=di[4].length*2;M.yZ(w,jn,12+2+de);
jn+=4;M.u0(w,jn,"txtC");jn+=4;M.yZ(w,jn,2+de);jn+=4;w.gj(jn,2);w.data[jn]=254;w.data[jn+1]=255;jn+=2;
M.ays(w,jn,di[4]);jn+=de;M.yZ(w,h2,jn-h2)}x=jn-I;break;default:console.log("unknown layer tag: "+i+", size: "+x);
I-=12;continue}var ds=["Txt2","artd","extd","pths"];if(ds.indexOf(i)==-1)if(x%4!=0)x+=4-x%4;if(h)M.iA(w,I-8,x);
else M.yZ(w,I-4,x);if(i!="luni"&&i!="TySh")if(x%4!=0)x+=4-x%4;I+=x}return I};bN.sE=function(w){for(var P=0;
P<hL.order.length;P++){var I=hL.order[P],E=hL.JR[P];if(w[E]==null)w[E]={t:"VlLs",v:[]};if(w[I]!=null){w[E].v.push(w[I]);
delete w[I]}var X=[];for(var o=0;o<w[E].v.length;o++){var i=w[E].v[o];if(i.v.present==null||i.v.present.v==!0)X.push(i)}w[E].v=X}};
bN.C7=function(w){for(var P=0;P<hL.order.length;P++){var I=hL.order[P],E=hL.JR[P],X=w[E].v.length;if(X==0){delete w[E];
continue}if(X==1){w[I]=w[E].v[0];delete w[E];continue}}};bN.BG=function(w,I){if(I=="GdFl"){if(w.Angl==null)w.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(w.Algn==null)w.Algn={v:!0,t:"bool"};if(w.Scl==null)w.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(w.Ofst==null)w.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(w.Rvrs==null)w.Rvrs={v:!1,t:"bool"};if(w.Dthr==null)w.Dthr={v:!1,t:"bool"}}if(I=="PtFl"){if(w.Algn==null)w.Algn={v:!0,t:"bool"};
if(w.Angl==null)w.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(w.Scl==null)w.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(w.phase==null)w.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};bN.clone=function(w,I){var E={};
if(w=="TySh"){E.F=I.F.clone();E.sh=JSON.parse(JSON.stringify(I.sh));E.gl=JSON.parse(JSON.stringify(I.gl));
E.Wc=I.Wc.clone();E.Da=JSON.parse(JSON.stringify(I.Da));if(I.add)E.add={vmsk:I.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(I.add.vogk))};
return E}else if(w=="fxrp")return I.clone();else if(w=="vmsk")return I.clone();else return JSON.parse(JSON.stringify(I))};
function cV(w,I){}cV.fM=function(w,I,E,X){X=cV.ay1(w,I,E,X);return X};cV.Fo=function(w,I,E,X,o){X=cV.aes(w,I,E,X,o);
return X};cV.ay1=function(w,I,E,X){var o=X;w.rect=M.KU(E,X);X+=16;var i=M.vH(E,X);X+=2;w.Nl=[];var h=I.Kh;
for(var P=0;P<i;P++){w.Nl[P]={id:M.mL(E,X),length:(h?M.xK:M.W)(E,X+2)};X+=h?10:6}var k=M.jz(E,X,4);X+=4;
if(k!="8BIM"){console.log("Invalid Blend mode signature: "+k);alert("Error in Photoshop file: wrong signature.");
throw"e"}w.$B=M.jz(E,X,4);X+=4;w.opacity=E[X];X+=1;w.ws=E[X]==1;X+=1;w.Bo=E[X];X+=1;if(E[X]!=0)console.log("error in filler!");
X+=1;var x=M.W(E,X);X+=4;var j=X;X=cV.abb(w,E,X);X=cV.awf(w,E,X);var v=M.C2(E,X);w.name=v.P1;X+=v.length;
if(v.length%4!=0)X+=4-v.length%4;X=bN.Lm(E,X,j+x,w.add,h,I);if(w.add.lsct){if(w.add.lsct.$B)w.$B=w.add.lsct.$B;
w.add.lsct=w.add.lsct.type}return X};cV.aes=function(w,I,E,X,o){var i=X;M.jx(E,X,w.rect);X+=16;var h=w.agE();
M.Ou(E,X,h.length);X+=2;var k=I.Kh;o.push(X);for(var P=0;P<h.length;P++){M.hc(E,X,h[P]);if(k)M.iA(E,X+2,0);
else M.yZ(E,X+2,0);X+=k?10:6}M.u0(E,X,"8BIM");X+=4;M.u0(E,X,w.$B);X+=4;M.UY(E,X,w.opacity,1);X+=1;M.UY(E,X,w.ws?1:0,1);
X+=1;M.UY(E,X,w.Bo,1);X+=1;M.UY(E,X,0,1);X+=1;var x=X;M.yZ(E,X,0);X+=4;var j=X;X=cV.a4A(w,E,X);X=cV.aiQ(w,E,X);
var v=M.Sm(E,X,w.name.slice(0,255));X+=v;if(v%4!=0)X+=4-v%4;if(w.add.lsct){w.add.lsct={type:w.add.lsct};
if(w.$B=="pass"){w.add.lsct.$B="pass";w.$B="norm"}}if(w.$B=="pass")w.add.lsct={type:w.add.lsct,$B:"pass"};
if(w.add.brit)w.add.CgEd=w.add.brit;X=bN.It(E,X,w.add,k,I);delete w.add.CgEd;if(w.add.lsct){if(w.add.lsct.$B)w.$B=w.add.lsct.$B;
w.add.lsct=w.add.lsct.type}var _=X-j;M.yZ(E,x,_);return X};cV.abb=function(w,I,E){var X=M.W(I,E);E+=4;
if(X==0)return E;var o=E;w.D=new K._x;w.D.rect=M.KU(I,E);E+=16;w.D.color=I[E];E+=1;var i=cV.QL(w.D,I,E);
E+=1;if(i){var h=!1,k=255,x=0,j=255,v=0;for(var P=0;P<w.Nl.length;P++)if(w.Nl[P].id==-3)h=!0;if(h){w.Zk=cV.I$(I,E);
E+=18}var _=E,L=I[E];E++;if(L>>0&1){k=I[E];E++}if(L>>1&1){x=M.lb(I,E);E+=8}if(L>>2&1){j=I[E];E++}if(L>>3&1){v=M.lb(I,E);
E+=8}if((E-_&1)==1)E++;w.zk=[k,x,j,v]}else{if(X==20)E+=2;else{w.Zk=cV.I$(I,E);E+=18}}return o+X};cV.a4A=function(w,I,E){M.yZ(I,E,0);
E+=4;if(w.D==null)return E;var X=w.pi(),o=w.add.vmsk,i=E,h=!0;M.yZ(I,E,0);M.jx(I,E,w.D.rect);E+=16;M.UY(I,E,w.D.color);
E+=1;cV.Hg(w.D,I,E,h);E+=1;if(h){if(w.Zk){cV.akc(I,E,w.Zk);E+=18}M.UY(I,E,15);E+=1;M.UY(I,E,X?X.zy:255);
E+=1;M.E3(I,E,X?X.o6:0);E+=8;M.UY(I,E,o?o.zy:255);E+=1;M.E3(I,E,o?o.o6:0);E+=8;E++}M.yZ(I,i-4,E-i);return E};
cV.I$=function(w,I){var E=new K._x;cV.QL(E,w,I);I+=1;E.color=w[I];I+=1;E.rect=M.KU(w,I);I+=16;return E};
cV.akc=function(w,I,E){cV.Hg(E,w,I,!1);I+=1;M.UY(w,I,E.color);I+=1;M.jx(w,I,E.rect);I+=16};cV.QL=function(w,I,E){var X=I[E];
w.Rh=(X>>0&1)==0;w.isEnabled=(X>>1&1)==0;w.ln=(X>>3&1)==1;return X>>4&1};cV.Hg=function(w,I,E,X){var o=0;
if(!w.Rh)o+=1<<0;if(!w.isEnabled)o+=1<<1;if(w.ln)o+=1<<3;if(X)o+=1<<4;M.UY(I,E,o)};cV.awf=function(w,I,E){var X=M.W(I,E);
E+=4;for(var P=0;P<X;P++)w.xs[P]=I[E+P];return E+X};cV.aiQ=function(w,I,E){M.yZ(I,E,w.xs.length);E+=4;
I.gj(E,40);for(var P=0;P<40;P++){I.data[E+P]=w.xs[P]}return E+40};function fH(){}fH.fM=function(w,I,E,X){X=fH.aiC(I,I.Kh,I.oZ,I.MS,w,E,X);
return X};fH.hI=function(w,I,E,X,o,i){X=fH.auI(w,I,E,X,o,i);return X};fH.aiC=function(w,I,E,X,o,i,h){var k=o.Nl,x={},j=h;
for(var P=0;P<k.length;P++){var v=k[P],_=v.id,L=v.length,U;if(_==-3)U=o.Zk.rect;else if(_==-2)U=o.D.rect;
else U=o.rect;var n=fH.AT(I,E,i,U.q,U.w,h,L);h+=L;if(_==-3)o.Zk.channel=n;else if(_==-2)o.D.channel=n;
else x["c"+_]=n}var a=new Q.hV(0);a.lV=null;if(X==3){a.o=x.c0;a.P=x.c1;a.L=x.c2;a.lV=x["c-1"]}else if(X==1){a.o=x.c0;
a.P=x.c0;a.L=x.c0;a.lV=x["c-1"]}else if(X==4){var T=w.SR.r1039,g=x.c0,D=x.c1,b=x.c2,N=x.c3;if(T){var C=T.amM,Z=17;
if(C==null){var S=ICC.R(T.buffer);console.log(S);C=T.amM=ICC.U.sampleLUT(S,Z)}var u={o:g,P:D,L:b,lV:N},p=Q.$(g.length*4);
Q.tR(u,p);Q.ja(p);ICC.U.applyLUT4(C,Z,p,p);Q.tK(p,u)}else{for(var P=0;P<g.length;P++){var f=1-g[P]*(1/255),d=1-D[P]*(1/255),l=1-b[P]*(1/255),A=1-N[P]*(1/255),B=UDOC.C.cmykToRgb([f,d,l,A]);
g[P]=B[0]*255;D[P]=B[1]*255;b[P]=B[2]*255}}a.o=g;a.P=D;a.L=b;a.lV=x["c-1"]}if(a.o==null)a.o=Q.$(0);if(a.lV==null&&a.o!=null){a.lV=a.o.slice(0);
a.lV.fill(255)}if(a.P==null)a.P=a.o.slice(0);if(a.L==null)a.L=a.o.slice(0);o.buffer=Q.$(Math.max(0,o.rect.A()*4));
Q.tR(a,o.buffer);return h};fH.auI=function(w,I,E,X,o,i){var h=I.agE(),k=new Q.hV(I.rect.A());Q.tK(I.buffer,k);
for(var P=0;P<h.length;P++){var x=h[P],j,v;if(x==-3)j=I.Zk.rect;else if(x==-2)j=I.D.rect;else j=I.rect;
if(x==-3)v=I.Zk.channel;if(x==-2)v=I.D.channel;if(x==-1)v=k.lV;if(x==0)v=k.o;if(x==1)v=k.P;if(x==2)v=k.L;
E.gj(X,j.A()*3+4);var _=X;X=fH.Zl(w,v,E.data,j.q,j.w,X,i[1]?3:1);var L=X-_;if(w)M.c8(E.data,o+P*10+2,L);
else M.zj(E.data,o+P*6+2,L)}return X};fH.AT=function(w,I,E,X,o,i,h){var k=M.vH(E,i);i+=2;return fH.pT(w,I,E,X,o,i,k,h-2)};
fH.Zl=function(w,I,E,X,o,i,h){M.vT(E,i,h);i+=2;i=fH.kN(w,I,E,X,o,i,h);return i};fH.pT=function(w,I,E,X,o,i,h,k){var x,j=X*o*(I>>>3),v=j&3,_=j+(v==0?0:4-v);
if(k<=0){return Q.$(_)}if(h>3){console.log("unknown compression: "+h,X,o,X*o,k);h=0}if(h==0){if(i+_<=E.length)x=E.slice(i,i+_);
else{x=Q.$(j);for(var P=0;P<j;P++)x[P]=E[i+P]}i+=j}else if(h==1){x=Q.$(j);var L=w?4:2,U=fH.qb(E,x,X,o,i,i+L*o,L);
i+=L*o+U}else if(h==2||h==3){var n=new Uint8Array(E.buffer,i+2,k-6),a=Q.$(_);UZIP.inflateRaw(n,a);if(h==3){if(I==8)for(var T=0;
T<o;T++){var g=T*X+1,D=g+X-1,b=a[g-1];for(var N=g;N<D;N++){b+=a[N];a[N]=b&255}}else for(var T=0;T<o;
T++){var g=T*X+1,D=g+X-1,b=a[2*g-2]<<8|a[2*g-1];for(var N=g;N<D;N++){var C=N<<1;b+=a[C]<<8|a[C+1];a[C]=b>>>8;
a[C+1]=b&255}}}if(a.length==_)x=a;else{x=Q.$(_);for(var P=0;P<a.length;P++)x[P]=a[P]}}if(I==16){var S=Q.$(X*o);
for(var P=0;P<j;P+=2)S[P>>>1]=x[P];x=S}return x};fH.kN=function(w,I,E,X,o,i,h){var k=X*o;if(h==0)for(var P=0;
P<k;P++)E[i++]=I[P];else if(h==1){var x=w?4:2,j=fH.ah(I,E,X,o,i,i+x*o,x);i+=x*o+j}else if(h==2||h==3){if(h==3){var v=new Uint8Array(I.length);
for(var _=0;_<o;_++){var L=_*X+1,U=L+X-1,n=I[L-1];v[L-1]=n;for(var a=L;a<U;a++){v[a]=I[a]+(256-n)&255;
n=I[a]}}I=v}E[i]=120;E[i+1]=156;i+=2;var T=pako.deflateRaw(I,{anD:4});M.Sg(E,i,T);i+=T.length+4}else console.log("Unknown compression: "+h);
return i};fH.qb=function(w,I,E,X,o,i,h){if(!(w instanceof Uint8Array)||!(I instanceof Uint8Array))throw"e";
var k=i,x=X|0;if(h==2)for(var P=0;P<x;P++){var j=M.vH(w,o+(P<<1));fH.UN(w,i,j,I,P*E,E);i+=j}else for(var P=0;
P<x;P++){var j=M.W(w,o+(P<<2));fH.UN(w,i,j,I,P*E,E);i+=j}return i-k};fH.ah=function(w,I,E,X,o,i,h){var k=i;
if(h==2)for(var P=0;P<X;P++){var x=fH.H$(w,P*E,E,I,i);M.hB(I,o+P*2,x);i+=x}else for(var P=0;P<X;P++){var x=fH.H$(w,P*E,E,I,i);
M.zj(I,o+P*4,x);i+=x}return i-k};fH.H$=function(w,I,eS,E,X){var o,i,h,k,x,jq,j;k=I+eS;for(h=I,i=X;eS>0;
h=o,eS-=jq){j=eS<128?eS:128;if(h<=k-3&&w[h+1]==w[h+0]&&w[h+2]==w[h+0]){for(o=h+3;o<h+j&&w[o]==w[h+0];
)++o;jq=o-h;E[i++]=1+256-jq;E[i++]=w[h+0]}else{for(o=h;o<h+j;)if(o<=k-3&&w[o+1]==w[o+0]&&w[o+2]==w[o+0])break;
else++o;jq=o-h;E[i++]=jq-1;for(var P=0;P<jq;P++)E[i+P]=w[h+P];i+=jq}}return i-X};fH.UN=function(w,I,E,X,o,i){for(var h=0;
h<E;){var eS=w[I++];if(eS>=128){var k=w[I++],x=o+(257-eS);X.fill(k,o,x);o=x;h+=2}else{for(var P=0;P<=eS;
P++)X[o+P]=w[I+P];I+=eS+1;o+=eS+1;h+=1+1+eS}}};function cD(){}cD._B=function(w,I,E){return;var X="",o=I;
while(o!=0){var i=o%1e3+"";while(i.length<3)i="0"+i;X=(X==""?i:i+" ")+X;o=Math.floor(o/1e3)}while(X.startsWith("0")&&X!="0")X=X.slice(1);
while(X.length<11)X=" "+X;console.log("===",X,"\t".repeat(w),": "+E)};cD.a5D=function(w){var I={SR:{}},X=0,o=0,k;
I.Kh=!1;I.oZ=8;var E=new Uint8Array(w);o=cD.vY(I,E,X);X=o;o=cD.WT(I,E,X);X=o;var i=M.W(E,X);X+=4+i;var h=I.Kh?8:4;
if(I.Kh)k=M.xK(E,X);else k=M.W(E,X);X+=h+k;o=cD.nn(I,E,X);return[{WG:new dC(0,0,I.q,I.w),data:I.buffer.buffer}]};
cD.fM=function(w,I){I.Kh=!1;I.oZ=8;var E=new Uint8Array(w),X=0,o=0,G,iL=!1,cr=!0,ga=!1,iq=0,hZ=0;o=cD.vY(I,E,X);
cD._B(0,o-X,"PSD Header");X=o;o=cD.WT(I,E,X);cD._B(0,o-X,"Color Mode Data");X=o;o=cD.a03(I,E,X);cD._B(0,o-X,"Image Resources");
X=o;o=cD.a6J(I,E,X);cD._B(0,o-X,"Layer And Mask Info");X=o;o=cD.nn(I,E,X);cD._B(0,o-X,"Merged Image");
X=o;if(I.b.length==0){var i=I.XY();i.G_("Background");I.b.push(i);i.buffer=I.buffer.slice(0);i.rect=new dC(0,0,I.q,I.w)}if(I.SR.r1005){I.nN=M.amF(I.SR.r1005,0)}if(I.SR.r1026){var E=I.SR.r1026;
for(var P=0;P<E.length;P+=2){var o=I.b[P>>>1];if(o)o.hm=M.vH(E,P)}}if(I.SR.r1072){var E=I.SR.r1072;for(var P=0;
P<E.length;P++){var o=I.b[P];if(o)o.iI=E[P]==1}}if(I.SR.r1032){I.l2=cD.Ra(I.SR.r1032,0)}delete I.SR.r1036;
I.eA(I.SR.r1039);if(I.SR.r1050){var h=M.W,k=I.SR.r1050,x=M.W(k,0);if(x==6){var j=4,v=M.KU(k,j);j+=16;
var _=M.l5(k,j);j+=4+_.length*2;var L=h(k,j);j+=4;var U=I.V7;for(var P=0;P<L;P++){var n=q.Yq.uR(),T;
U.push(n);n=n.v;n.sliceID.v=h(k,j);j+=4;n.groupID.v=h(k,j);j+=4;var a=h(k,j);j+=4;if(a==1){T=h(k,j);
j+=4}var _=M.l5(k,j);j+=4+_.length*2;var g=h(k,j);j+=4;var D=[h(k,j),h(k,j+4),h(k,j+8),h(k,j+12)];j+=16;
q.Yq.fu(U,U.length-1,D);var b=n.url.v=M.l5(k,j);j+=4+b.length*2;var N=n.null.v=M.l5(k,j);j+=4+N.length*2;
var C=n.Msge.v=M.l5(k,j);j+=4+C.length*2;var Z=n.altTag.v=M.l5(k,j);j+=4+Z.length*2;n.cellTextIsHTML.v=k[j]==1;
j++;var S=n.cellText.v=M.l5(k,j);j+=4+S.length*2;var u=h(k,j);j+=4;var p=h(k,j);j+=4;var f=k.slice(j,j+4);
j+=4;if(a!=2)U.pop()}}else if(x==8){var d={};dG.Me(k,d,8,!1);var k=I.V7=d.slices.v;for(var P=0;P<k.length;
P++){if(k[P].v.origin.v.ESliceOrigin!="userGenerated"){k.splice(P,1);P--}}}}if(I.SR.r1058){var l=I.SR.r1058,A=UTIF.decode(l.buffer,{parseMN:!1,debug:!1});
fT.jd(A[0],I.cl);delete I.SR.r1058}if(I.SR.r1060){var B=M.YV(I.SR.r1060);fT.a1S(B,I.cl);delete I.SR.r1060}if(I.SR.r1065){var E=I.SR.r1065;
I.ww={};dG.Me(E,I.ww,4,!1)}if(I.SR.r1069){var E=I.SR.r1069,e=[];for(var P=2;P<E.length;P+=4){var T=M.W(E,P);
for(var m=0;m<I.b.length;m++){var o=I.b[m];if(o.add.lyid==T&&o.add.lsct!=3)e.push(m)}}I.g=e}if(I.SR.r1025){var $=I.SR.r1025;
delete I.SR.r1025;var V=fZ.tV($,0,$.length,I.q,I.w),H=new K.DN;H.j=V;I.c1[0]=hg.fx("Working Path",{vmsk:H})}var F=I.add.pths;
delete I.add.pths;var J=I.SR.r3000;if(J){G={};dG.Me(J,G,4,!1);delete I.SR.r3000}if(F){var c=F.pathSymmetrySelectedPath;
if(c){var r=F.pathList.v[c.v].v,s=r.pathUnicodeName.v;I.Qb=s.startsWith("Tile Symmetry")}}for(var z=0;
z<=997;z++){var Y="r"+(2e3+z),$=I.SR[Y];if($==null)break;var V=fZ.tV($,0,$.length,I.q,I.w),s="Path "+z;
if(F){var ax=F.pathList.v[z].v;s=ax.pathUnicodeName.v;if(s=="Tile Symmetry 1")continue}var iW=G?G.keyRootDescriptorList.v[z].v.keyDescriptorList.v:K.QQ(V),H=new K.DN;
H.j=V;I.c1.push(hg.fx(s,{vmsk:H,vogk:iW}));delete I.SR[Y]}delete I.Kh;var y=I.SR.r7000,hm=I.SR.r7001;
if(y){var t=M.YV(y);I.Ot=cD.Xx(t)}if(hm){var t=M.YV(hm);I.p2=cD.qr(t)}delete I.SR.r7000;delete I.SR.r7001;
var cT=new dC(0,0,I.q,I.w),c4=I.add.Txt2,kv=c4;if(kv){kv=kv.dy;if(kv._DocumentResources==null)kv=bS.awM(kv)}for(var P=0;
P<I.b.length;P++){var o=I.b[P],ei=o.add.lsct,hw=o.add.vmsk,hC=o.pi();if(ei==gs.sz){iq++;o.add.lspf=0}else if(ei==gs.Y_||ei==gs.S2)iq--;
if(o.name==""){o.name="Layer "+(P+1);ga=!0}if(ga&&o.vD()&&o.$B=="norm")o.$B="pass";if(o.r3()&&o.Em(I).D){var j5=o.Em(I);
j5.D.isEnabled=o.add.SoLd.filterFX.v.filterMaskEnable.v}if(hw&&o.us()){var ed=hL.Oq.default;if(o.add.vstk==null)o.add.vstk=JSON.parse(JSON.stringify(ed));
else{var jn="strokeStyleLineDashSet";if(o.add.vstk[jn]==null)o.add.vstk[jn]=JSON.parse(JSON.stringify(ed[jn]))}o.add.vstk.strokeStyleResolution.v=I.nN}if(hw&&(o.add.vogk==null||Q.O.RZ(hw.j)!=o.add.vogk.length))o.QQ();
if(hw){var fj=o.add.vogk,di=!0;for(var b1=0;b1<fj.length;b1++){var dI=fj[b1].v.keyShapeInvalidated;if(dI==null||dI.v==!1)di=!1}if(di)o.QQ()}if(o.add.SoLd&&o.rect.qo()){console.log("redrawing smart instance");
o.vR(I)}if(hC==null&&o.D!=null){if(o.D.ln==!1){o.D.ln=!0;o.Zk=o.D.clone()}}hC=o.pi();if(o.zk){var ed=o.zk,H=hw;
if(hC){hC.zy=ed[0];hC.o6=ed[1]}if(H){H.zy=ed[2];H.o6=ed[3]}o.zk=null}if(hC!=null&&hw!=null&&(hC.o6+hw.o6!=0||hC.zy+hw.zy!=2*255))o.kH(I);
else if(hw!=null&&!o.us())o.kH();else if(hC&&hC.zy!=255&&o.us())o.kH(I);var h2=o.add.artb;if(h2&&h2.artboardBackgroundType==null)h2.artboardBackgroundType={t:"long",v:1};
if(h2&&iq!=0)delete o.add.artb;var de=o.add.vstk;if(o.us()&&(o.rect.qo()||hw&&hw.o6!=0||de&&!de.fillEnabled.v&&(!de.strokeEnabled.v||de.strokeStyleLineWidth.v.val==0)))o.Jr(I);
if(o.add.TySh){iL=!0;if(!o.rect.qo())cr=!1}if(o.add.TySh&&kv){var ds=o.add.TySh.sh.TextIndex.v;if(ds==-1)continue;
var jO=o.add.TySh.Da,gy=bQ.Ni(jO),fV=kv._DocumentObjects._TextObjects;if(fV.length<=ds){console.log("Txt2 incomplete");
continue}var hl=fV[ds]._Model,im=hl._StyleRun?hl._StyleRun._RunArray:[],eA=jO.EngineDict.StyleRun.RunArray;
for(var hy=0;hy<eA.length;hy++){var dm=eA[hy].StyleSheet.StyleSheetData;if(im[hy]==null)continue;var hA=im[hy]._RunData._StyleSheet._Features;
if(hA&&hA._BaselineDirection)dm.BaselineDirection=parseInt(hA._BaselineDirection.slice(1));if(hA&&hA._FillBackgroundFlag)dm._FillBackgroundFlag=hA._FillBackgroundFlag;
if(hA&&hA._FillBackgroundColor){var j2=hA._FillBackgroundColor,dQ=j2._Color._Values.slice(0);for(var m=0;
m<4;m++)dQ[m]=parseFloat(dQ[m].slice(1));dm._FillBackgroundColor={Type:1,Values:dQ}}if(hA&&hA._LineWidth)dm._LineWidth=parseFloat(hA._LineWidth.slice(1))}var aS=jO.EngineDict.ParagraphRun.RunArray,eh=hl._ParagraphRun._RunArray;
if(eh==null)eh=[];var h_=Math.min(eh.length,aS.length);for(var m=0;m<h_;m++){var h6=aS[m].ParagraphSheet.Properties,gT=kv._DocumentResources._ParagraphSheetSet._Resources,b8=eh[m]._RunData._ParagraphSheet;
if(typeof b8=="string")b8=gT[parseInt(b8.slice(1))]._Resource;var hP=b8._Parent==null?b8:gT[parseInt(b8._Parent.slice(1))]._Resource;
b8=b8._Features;hP=hP._Features;var b5=b8._ParagraphDirection;if(b5==null)b5=hP._ParagraphDirection;
if(b5)h6._Direction=parseInt(b5.slice(1));if(b8._ComposerEngine)h6._ComposerEngine=parseInt(b8._ComposerEngine.slice(1))}if(hl._AlternateGlyphRun){var eh=hl._AlternateGlyphRun._RunArray,h_=eh.length,ar=jO.EngineDict.AlternateGlyphRun=bQ.a71();
for(var m=0;m<h_;m++){var b8=eh[m],cG={},bd=b8._RunData._AlternateGlyphSheet;if(bd)cG.Glyph=parseInt(bd._Glyph.slice(1));
ar.RunArray.push(cG);ar.RunLengthArray.push(parseInt(b8._Length.slice(1)))}}var aZ=kv._DocumentResources,gl=aZ._TextFrameSet._Resources,ci=gl[ds]._Resource,a7=ci._Data,ay=new am(1,0,0,1,0,0);
if(ci._0){var it=parseFloat(ci._0[0].slice(1)),h1=parseFloat(ci._0[1].slice(1));ay.translate(it,h1)}if(gy){ay.translate(gy[0],gy[1]);
bQ.Nq(jO,[0,0,gy[2]-gy[0],gy[3]-gy[1]])}else{if(ci._Bezier&&ci._Bezier._Points){var V=ci._Bezier._Points,it=parseFloat(V[0].slice(1)),h1=parseFloat(V[1].slice(1));
if(it!=0||h1!=0){ay.translate(it,h1)}}}if(ci._Data&&ci._Data._FrameMatrix){var hM=ci._Data._FrameMatrix;
hM=hM.map(function(dp){return parseFloat(dp.slice(1))});ay.concat(new am(hM[0],hM[1],hM[2],hM[3],hM[4],hM[5]))}ay.concat(o.add.TySh.F);
o.add.TySh.F=ay;var g=a7._Type?parseInt(a7._Type.slice(1)):0;if(g==2||g==1&&a7._PathData&&a7._PathData._Spacing=="i-3")if(ci._Bezier){var dn=function(dp){return parseFloat(dp.slice(1))},V=ci._Bezier._Points.map(dn);
if(gy)Q.p.F(V,new am(1,0,0,1,-gy[0],-gy[1]),V);var gV=a7._PathData?a7._PathData._Reversed:!1,jv=a7._TextOnPathTRange;
if(jv==null)jv=["f-3","f-3"];jO.Curve={Points:V,TextOnPathTRange:jv.map(dn),Reversed:gV==null?!1:gV};
o.add.TySh.add={vmsk:new K.DN,vogk:null};bQ.ua(o.add.TySh)}if(a7._LineOrientation=="i2")jO._LineOrientation=2}}q.mP.cF(I,!0);
var dt={},eQ=[];for(var P=0;P<I.b.length;P++){var dd=I.b[P].add.lyid;if(dd==null)continue;var hZ=Math.max(hZ,dd);
if(dt[dd]!=null)eQ.push(P);else dt[dd]=!0}for(var P=0;P<eQ.length;P++)I.b[eQ[P]].add.lyid=hZ+1+P};cD.Ra=function(w,I){var E=M.W(w,I+12),X=[];
for(var P=0;P<E;P++){var o=w[I+16+P*5+4],i=M.Qf(w,I+16+P*5)/32;X.push([o,i])}return X};cD.Xx=function(w){var I=new DOMParser,E=I.parseFromString(w,"text/xml").firstChild.children[0],X=E.getElementsByTagName("variables");
if(X.length==0)return[];X=X[0].children;var o=[],i="varName trait docRef placementMethod align valign clip".split(" ");
for(var h=0;h<X.length;h++){var k=X[h],x={};o.push(x);for(var j=0;j<i.length;j++){var v=i[j],_=k.getAttribute(v);
if(_==null)continue;x[v]=_}}return o};cD.qr=function(w){var I=new DOMParser,E=I.parseFromString(w,"text/xml").firstChild.children,X=[[]];
if(E==null)return X;for(var P=0;P<E.length;P++){var o=E[P],i=[];X.push(i);for(var h=0;h<o.children.length;
h++){var k=o.children[h];if(P==0)X[0].push(k.tagName);i.push(k.textContent)}}return X};cD.Fo=function(w,I,E){q.mP.G9(w);
q.mP.cF(w,!1);w.Kh=E[3]==!0;var X=[],o=[],n=0,T=1,Z=16,ga=0;for(var P=0;P<w.b.length;P++){var i=w.b[P];
if(i.r3()&&i.Em(w).D){i.add.SoLd.filterFX.v.filterMaskEnable.v=i.Em(w).D.isEnabled}if(i.add.TySh){var h=i.add.TySh.Da,k=bQ.rI(h);
i.add.TySh.sh.TextIndex={t:"long",v:X.length};X.push(h);if(k==2)bQ.Zd(i.add.TySh)}var x=i.add.vstk;if(x)x.strokeStyleResolution.v=w.nN;
if(i.us()||E[2]&&i.add.SoLd){o[P]=[i.rect,i.buffer];i.rect=new dC;i.buffer=Q.$(0);if(i.add.SoLd){var j=i.Em(w);
if(j!=null){o[P].push(j.buffer);j.buffer=Q.$(j.buffer.length)}}}}if(X.length>0){var v=w.add.Txt2?w.add.Txt2.dy:null;
if(w.add.Txt2==null)w.add.Txt2={};w.add.Txt2.dy=an.atv(X,null,v)}var _=[w.add.lnk2,w.add.FEid,w.add.Patt],L=w.a6O(w.b);
w.afx(L);w.SR.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);M.eT(w.SR.r1005,0,w.nN);M.eT(w.SR.r1005,8,w.nN);
if(w.T5()){w.SR.r1022=new Uint8Array([0,3+w.K3.length-1,0])}else delete w.SR.r1022;var U=new Uint8Array(w.b.length*2),a=new Uint8Array(w.b.length);
for(var P=0;P<w.b.length;P++){var i=w.b[P],g=i.hm,D=i.iI?1:0;M.hB(U,P*2,g);a[P]=D;if(g>n)n=g;if(D==0)T=0}if(n>0)w.SR.r1026=U;
if(T<1)w.SR.r1072=a;var b=w.l2,N=b.length,C=w.SR.r1032=Q.$(16+5*N,!0);M.zj(C,0,1);M.zj(C,4,576);M.zj(C,8,576);
M.zj(C,12,N);for(var P=0;P<N;P++){M.ug(C,Z,Math.round(b[P][1]*32));C[Z+4]=b[P][0];Z+=5}if(E[0]!=!0){var S=[w.buffer,new dC(0,0,w.q,w.w)],u=0;
Q.RQ(S);while(S[u+1].A()>200*200)u+=2;var p=gt.FB("jpg"),f=S[u+1],d=new Uint8Array(p.v6([[S[u].buffer]],f.q,f.w)),C=w.SR.r1036=Q.$(28+d.length);
M.zj(C,0,1);M.zj(C,4,f.q);M.zj(C,8,f.w);M.zj(C,12,f.q*3);M.zj(C,16,f.A()*3);M.zj(C,20,d.length);M.hB(C,24,24);
M.hB(C,26,1);C.set(d,28)}var l=Q.r0(w.buffer),A=[];if(l)A.push({name:"Transparency",vA:{o:255,P:0,L:0},jI:100,Vq:1});
A=A.concat(w.K3);delete w.SR.r1045;delete w.SR.r1006;delete w.SR.r1077;var B=new e2;Z=0;var e=new Uint8Array(4+A.length*13);
e[3]=1;for(var P=0;P<A.length;P++){var m=A[P],$=m.name+"\0";M.XK(B,Z,$);Z+=4+$.length*2;var V=4+P*13;
bW.Ps(e,V,m.vA);e[V+11]=m.jI;e[V+12]=m.Vq}w.SR.r1045=B.data.slice(0,Z);w.SR.r1077=e;for(var P=0;P<w.V7.length;
P++)w.V7[w.V7.length-P-1].v.sliceID.v=2+P*3;var H={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:w.V7}},B=new e2;
M.yZ(B,0,8);M.yZ(B,4,16);var F=dG.RF(B,H,8);w.SR.r1050=B.data.slice(0,F+8);var B=new e2;M.yZ(B,0,16);
var F=dG.RF(B,w.ww,4);w.SR.r1065=B.data.slice(0,F+4);var G=w.g;C=w.SR.r1069=Q.$(2+G.length*4,!0);M.hB(C,0,G.length);
for(var P=0;P<G.length;P++)M.zj(C,2+4*P,w.b[G[P]].add.lyid);delete w.SR.r1058;delete w.SR.r1060;if(Object.keys(w.cl).length!=0){var J=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
fT.VM(w.cl,J[0],E[0]&&E[1]);w.SR.r1058=new Uint8Array(UTIF.encode(J));var c=fT.aeK(w.cl);w.SR.r1060=M.VD(c)}var r=[],s=[],z=w.c1.slice(0);
if(w.Qb){var Y=fZ.Xz([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),ax=new K.DN;
ax.j=Y;z.push(hg.fx("Tile Symmetry 1",{vmsk:ax,vogk:K.QQ(Y)}))}for(var P=0;P<z.length;P++){var iW=z[P],Y=iW.add.vmsk.j;
if(P==0&&Y.length==2)continue;var y=Q.$(Y.length*26);fZ.p5(y,0,Y,w.q,w.w);var hm=P==0?1025:2e3+P-1;w.SR["r"+hm]=y;
if(P!=0){var t={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:iW.name}};if(iW.name=="Tile Symmetry 1")t.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
r.push({t:"Objc",v:t});s.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:iW.add.vogk}}})}}if(r.length!=0){w.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:r}};
if(w.Qb)w.add.pths.pathSymmetrySelectedPath={t:"long",v:r.length-1};s={classID:"null",keyRootDescriptorList:{t:"VlLs",v:s}};
var B=new e2;M.yZ(B,0,16);var F=dG.RF(B,s,4);w.SR.r3000=B.data.slice(0,F+4)}else{delete w.add.pths;delete w.SR.r3000}if(w.Ot.length!=0){var cT="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var P=0;P<w.Ot.length;P++){var c4=w.Ot[P],kv=[];for(var hm in c4)kv.push(hm+"=\""+c4[hm]+"\"");cT+="<variable "+kv.join(" ")+">\n</variable>\n"}cT+="</variables>\n</variableSet>\n</variableSets>";
w.SR.r7000=M.VD(cT)}if(w.p2.length!=0){var cT="<sampleDataSets psdPath=\""+w.name+"\">\n";for(var P=1;
P<w.p2.length;P++){var iL=w.p2[P];cT+="<sampleDataSet dataSetName=\"Data Set "+P+"\">\n";for(var cr=0;
cr<iL.length;cr++)cT+="<"+w.p2[0][cr]+">"+iL[cr].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+w.p2[0][cr]+">\n";
cT+="</sampleDataSet>\n"}cT+="</sampleDataSets>";w.SR.r7001=M.VD(cT)}ga=cD.at3(w,I,ga,3+A.length);ga=cD.asN(w,I,ga);
ga=cD.a17(w,I,ga);ga=cD.aeV(w,I,ga,E,l);ga=cD.aqF(w,I,ga,E[0],l);var iq=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var P=0;P<iq.length;P++)delete w.SR["r"+iq[P]];for(var P=0;P<w.b.length;P++){var i=w.b[P];if(i.us()||E[2]&&i.add.SoLd){i.rect=o[P][0];
i.buffer=o[P][1];if(o[P][2]){var j=i.Em(w);o[P].push(j.buffer);j.buffer=o[P][2]}}}w.afx(_);q.mP.cF(w,!0);
delete w.Kh;return ga};cD.vY=function(w,I,E){var X=M.jz(I,E,4);E+=4;if(X!="8BPS")alert("invalid header signature: "+X);
var o=M.vH(I,E);E+=2;w.Kh=o==2;if(o!=1&&o!=2)alert("invalid version: "+o);E+=6;w.xF=M.vH(I,E);E+=2;w.w=M.Qf(I,E);
E+=4;w.q=M.Qf(I,E);E+=4;w.oZ=M.vH(I,E);E+=2;w.MS=M.vH(I,E);E+=2;return E};cD.at3=function(w,I,E,X){I.gj(0,64);
M.X5(I.data,E,"8BPS");E+=4;M.hB(I.data,E,w.Kh?2:1);E+=2;M.zj(I.data,E,0);E+=4;M.hB(I.data,E,0);E+=2;
M.hB(I.data,E,X);E+=2;M.ug(I.data,E,w.w);E+=4;M.ug(I.data,E,w.q);E+=4;M.hB(I.data,E,8);E+=2;M.hB(I.data,E,3);
E+=2;return E};cD.WT=function(w,I,E){var X=M.Qf(I,E);E+=4;if(X!=0)w.Fy=I.slice(E,E+X);E+=X;return E};
cD.asN=function(w,I,E){M.o2(I,E,0);E+=4;return E};cD.a03=function(w,I,E){var X=M.W(I,E),o=0;E+=4;var i=[];
while(o<X){var h=M.jz(I,E+o,4);o+=4;var k=M.vH(I,E+o);o+=2;var x=M.C2(I,E+o);o+=x.length;if(h=="MeSa"&&(k==7e3||k==7001)){}else if(h!="8BIM"){i.push(k);
console.log("Unknown Image Resources signature: "+h+", ID: "+k)}var j=M.W(I,E+o);o+=4;if(w.SR["r"+k]!=null)console.log("--- two resources with same ID");
w.SR["r"+k]=M.OD(I,E+o,j);o+=j+(j&1)}for(var P=0;P<i.length;P++)delete w.SR["r"+i[P]];return E+X};cD.a17=function(w,I,E){var X=E,h=0;
E+=4;var o=[];for(var i in w.SR){o.push(parseInt(i.slice(1)))}o.sort(function(_,L){return _-L});for(var P=0;
P<o.length;P++){var k=o[P];M.u0(I,E+h,k==7e3||k==7001?"MeSa":"8BIM");h+=4;M.Ou(I,E+h,k);h+=2;var x=M.Sm(I,E+h,"");
h+=x;var j=w.SR["r"+k],v=j.length;M.yZ(I,E+h,v);h+=4;M.na(I,E+h,j);h+=v;if(v%2==1)h++}M.yZ(I,X,h);return E+h};
cD.a6J=function(w,I,E){var X=E,o,i,h=w.Kh?8:4;if(w.Kh)o=M.xK(I,E);else o=M.W(I,E);E+=h;if(o==0)return X+h;
i=cD.a8p(w,I,E);cD._B(1,i-E,"Layer Info");E=i;i=cD.ap8(w,I,E);cD._B(1,i-E,"Global Layer Mask Info");
E=i;i=bN.Lm(I,E,X+h+o,w.add,w.Kh,w);cD._B(1,i-E,"Project Add Info");E=i;return X+h+o};cD.aeV=function(w,I,E,X,o){var i=E;
M.yZ(I,E,0);E+=4;if(w.Kh){M.yZ(I,E,0);E+=4}E=cD.ahh(w,I,E,X,o);E=cD.a3y(w,I,E);E=bN.It(I,E,w.add,w.Kh,w);
if(w.Kh)M.iA(I,i,E-i-8);else M.yZ(I,i,E-i-4);return E};cD.a8p=function(w,I,E){var X,o=w.Kh?8:4;if(w.Kh)X=M.xK(I,E);
else X=M.W(I,E);E+=o;if(X!=0)cD._z(w,I,E);return E+X};cD._z=function(w,I,E){var X=M.mL(I,E);E+=2;var o=Math.abs(X);
for(var P=0;P<o;P++){var i=new K;E=cV.fM(i,w,I,E);w.b[P]=i}var h=new dC(0,0,w.q,w.w);for(var P=0;P<o;
P++){var k=w.b[P],x=k.pi(),j=fH.fM(k,w,I,E);if(j-E>8)cD._B(2,j-E,"Lay: "+k.getName());E=j;cD.C4(k,h);
if(x)cD.C4(x,h)}};cD.C4=function(w,I){var E=w.rect.A(),X=w.rect.LP(I),o=X.A()/E;if(E>2e3*3e3&&o<.5){if(w.buffer){var i=Q.$(X.A()*4);
Q.D6(w.buffer,w.rect,i,X);w.buffer=i;w.rect=X}else{var i=Q.$(X.A());Q.b_(w.channel,w.rect,i,X);w.channel=i;
w.rect=X}alert("Removing hidden parts of layers")}};cD.ahh=function(w,I,E,X,o){var i=E,h=w.Kh;E+=h?8:4;
E=cD.aaw(w,I,E,X,o);var k=E-i-(h?8:4);if(k%2!=0)k++;if(h)M.iA(I,i,k);else M.yZ(I,i,k);return i+k+(h?8:4)};
cD.aaw=function(w,I,E,X,o){var i=w.b.length;M.hc(I,E,o?-i:i);E+=2;var h=[];for(var P=0;P<i;P++)E=cV.Fo(w.b[P],w,I,E,h);
for(var P=0;P<i;P++)E=fH.hI(w.Kh,w.b[P],I,E,h[P],X);return E};cD.ap8=function(w,I,E){var X=M.W(I,E);
E+=4;E+=X;return E};cD.a3y=function(w,I,E){var X=M.yZ(I,E,0);E+=4;return E};cD.nn=function(w,I,E){var X=w.MS,o="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),i=[1,1,1,3,4,1,1,3],h,a;
if(X!=3){if(X==1||X==2||X==4)console.log("Project will be converted from "+o[X]+" to "+o[3]+" mode.");
else{alert("Color mode "+o[X]+" is not supported yet :(")}if(X==4)w.add.fcmy=1}if(w.SR.r1045){h=[];var k=w.SR.r1045,x=0;
while(x<k.length){var j=M.Mb(k,x);h.push(j);x+=4+2+j.length*2}}var v=i[X]+(h==null||h[0]=="Transparency"?1:0),_=w.q,L=w.w,U=_*L,n=M.vH(I,E);
E+=2;w.buffer=Q.$(U*4);Q.Ez(w.buffer,4278190080);var T=E;for(var g=0;g<w.xF;g++){if(n==0){a=fH.pT(w.Kh,w.oZ,I,_,L,E,n);
E+=U*(w.oZ>>>3)}else if(n==1){a=Q.$(U);var D=w.Kh?4:2;if(g==0)E+=w.xF*L*D;E+=fH.qb(I,a,_,L,T+g*L*D,E,D)}else{console.log("unknown compression of image data: ",n);
return}if(g<v){Q.lJ(a,w.buffer,g);if(w.xF==1&&g==0){Q.lJ(a,w.buffer,1);Q.lJ(a,w.buffer,2)}}else{var b=new K._x,N=g-v,C=g-i[w.MS];
b.name=h?h[C]:"Alpha";if(b.name=="Quick Mask"){b.ag=!0;w.Y1.push(N)}b.rect=new dC(0,0,_,L);b.channel=a;
b.color=0;b.G1();w.K3[N]=b;if(w.SR.r1077){var k=w.SR.r1077.slice(4+C*13);b.vA=bW.V5(k,0);b.jI=k[11];
b.Vq=k[12];if(b.Vq==2)b.ag=!0}}}w.xF=4;if(w.MS==2)for(var P=0;P<U;P++){var Z=P*4,S=w.buffer[Z];w.buffer[Z]=w.Fy[0+S];
w.buffer[Z+1]=w.Fy[256+S];w.buffer[Z+2]=w.Fy[512+S]}return E};cD.aqF=function(w,I,E,X,o){var i=1,h=16,k=w.q,x=w.w,v,_;
M.Ou(I,E,i);E+=2;var j=k*x;if(!X){_=new Q.hV(k*x);Q.tK(w.buffer,_);var L=_.o,U=_.P,n=_.L,a=_.lV;for(var P=0;
P<j;P++){var T=a[P]*(1/255);L[P]=~~(L[P]*T+255*(1-T));U[P]=~~(U[P]*T+255*(1-T));n[P]=~~(n[P]*T+255*(1-T))}}else v=Q.$(j);
var g=[v,v,v];if(!X)g=[_.o,_.P,_.L];if(o)g.push(X?v:_.lV);for(var P=0;P<w.K3.length;P++){g.push(w.K3[P].SQ(new dC(0,0,w.q,w.w)))}var D=E;
for(var b=0;b<g.length;b++){I.gj(E,k*x+4);v=g[b];if(i==0||i==2||i==3)E=fH.kN(w.Kh,v,I.data,k,x,E,i);
else{var N=w.Kh?4:2;if(b==0)E+=g.length*x*N;var C=E;E+=fH.ah(v,I.data,k,x,D+b*x*N,E,N)}}return E};function g8(){}g8.fM=function(w){var I={};
g8.rZ(w,I,0,0);return I};g8.Fo=function(w,I){var E=0;E=g8.fc(w,I,E,0);return E};g8.rZ=function(w,I,E,X){while(w[E]!="<".charCodeAt(0))E++;
E+=2;while(!0){if(w[E]=="/".charCodeAt(0)){E++;var o=M.indexOf(w," ".charCodeAt(0),E,E+50),i=M.indexOf(w,"\n".charCodeAt(0),E,E+50);
if(i==-1)i=Infinity;if(o==-1)o=Infinity;var h=Math.min(i,o),k=M.jz(w,E,h-E),x=g8.Be(w,h+1,X+1,k);I[k]=x.k;
E=h+1;E+=x.size}else if(w[E]==">".charCodeAt(0)){E+=2;break}else{var j=w[E];if(j==10||j==9||j==32)E++;
else{console.log("unknown byte: "+j+", char: "+String.fromCharCode(j),E);E++}}}return E};g8.fc=function(w,I,E,X){M.u0(I,E,"<<\n");
E+=3;var o=g8.ai9;for(var i in w){M.UY(I,E,"\t".charCodeAt(0),X+1);E+=X+1;M.u0(I,E,"/"+i);E+=1+i.length;
if(o(w[i])||w[i]instanceof Array){M.u0(I,E," ");E++}else{M.u0(I,E,"\n");E++;M.UY(I,E,"\t".charCodeAt(0),X+1);
E+=X+1}E=g8.lr(w[i],I,E,X+1);M.u0(I,E,"\n");E++}M.UY(I,E,"\t".charCodeAt(0),X);E+=X;M.u0(I,E,">>");E+=2;
return E};g8.Be=function(w,I,E,X){var o=I,i={size:0,k:0};while(!0){while(w[I]==" ".charCodeAt(0)||w[I]=="\t".charCodeAt(0)||w[I]=="\n".charCodeAt(0))I++;
if(w[I]=="<".charCodeAt(0)){i.k={};I=g8.rZ(w,i.k,I,E+1);break}else if(w[I]=="(".charCodeAt(0)){I+=3;
var h=I;while(!0){if(w[h-1]!="\\".charCodeAt(0)&&w[h]==")".charCodeAt(0)&&(w[h+1]=="\n".charCodeAt(0)||w[h+1]==" ".charCodeAt(0)))break;
else h++}i.k=M.tm(w,I,h);I=h+2;break}else if(w[I]=="[".charCodeAt(0)){I++;i.k=[];while(w[I]==" ".charCodeAt(0)||w[I]=="\t".charCodeAt(0)||w[I]=="\n".charCodeAt(0))I++;
while(w[I]!="]".charCodeAt(0)){var k=g8.Be(w,I,E+1,X);i.k.push(k.k);I+=k.size;while(w[I]==" ".charCodeAt(0)||w[I]=="\t".charCodeAt(0)||w[I]=="\n".charCodeAt(0))I++}I++;
break}else{var x=M.indexOf(w," ".charCodeAt(0),I,I+50),j=M.indexOf(w,"\n".charCodeAt(0),I,I+50);if(j==-1)j=Infinity;
if(x==-1)x=Infinity;var v=M.jz(w,I,Math.min(x,j)-I).trim(),_=parseFloat(v);if(!isNaN(_)){i.k=parseFloat(v);
I=Math.min(x,j)+1;break}else if(v=="true"||v=="false"){i.k=v=="true";I=Math.min(x,j)+1;break}else if(v=="null"||v=="NaN"||v=="undefined"){i.k=0;
I=Math.min(x,j)+1;break}else{console.log("unknown identifier: "+v);throw"e"}I=Math.min(x,j)+1}}i.size=I-o;
return i};g8.lr=function(w,I,E,X){if(w instanceof Array){var o=w.length==0||typeof w[0]=="number";if(o){M.u0(I,E,"[ ");
E+=2;for(var P=0;P<w.length;P++){var i=w[P]+" ";M.u0(I,E,i);E+=i.length}M.u0(I,E,"]");E+=1}else{M.u0(I,E,"[\n");
E+=2;for(var P=0;P<w.length;P++){M.UY(I,E,"\t".charCodeAt(0),X);E+=X;E=g8.lr(w[P],I,E,X);M.u0(I,E,"\n");
E++}M.UY(I,E,"\t".charCodeAt(0),X);E+=X;M.u0(I,E,"]");E+=1}}else if(w instanceof Object){E=g8.fc(w,I,E,X)}else if(typeof w=="string"){M.u0(I,E,"(");
E++;M.UY(I,E,254);E++;M.UY(I,E,255);E++;E=M.nA(I,E,w);M.u0(I,E,")");E+=1}else{var i=w+"";M.u0(I,E,i);
E+=i.length}return E};g8.ai9=function(w){var I=typeof w;return I=="string"||I=="number"||I=="boolean"};
function fK(){}fK.fM=function(w){var I={};fK.rV(w,I,0,0);return I};fK.Fo=function(w,I){var E=0;M.u0(I,E," ");
E++;E=fK.D$(w,I,E,0);E--;I.gj(E,2);I.data[E]=I.data[E+1]=0;E+=2;return E};fK.rZ=function(w,I,E,X){while(w[E]!="<".charCodeAt(0)){E++;
console.log("\u0161ipka")}E+=2;E=fK.rV(w,I,E,X);return E};fK.fc=function(w,I,E,X){M.u0(I,E,"<< ");E+=3;
E=fK.D$(w,I,E,X);M.u0(I,E,">>");E+=2;return E};fK.oE=function(w){return w==9||w==10||w==32};fK.rV=function(w,I,E,X){while(!0){while(fK.oE(w[E])||w[E]==0)E++;
if(E>=w.length)break;if(w[E]=="/".charCodeAt(0)){E++;var o=E;while(!fK.oE(w[o]))o++;var i=M.jz(w,E,o-E);
E=o+1;var h=fK.Be(w,E,X,i);I["_"+i]=h.k;E+=h.size}else if(w[E]==">".charCodeAt(0)){E+=2;break}else{var k=w[E];
console.log(M.jz(w,E,E+100));console.log("unknown byte: "+k+", char: "+String.fromCharCode(k)+", offset: "+E);
E++;throw"e";return-1}}return E};fK.D$=function(w,I,E,X){for(var o in w){var i=o.substring(1,o.length);
M.u0(I,E,"/"+i);E+=1+i.length;M.u0(I,E," ");E++;E=fK.lr(w[o],I,E,X+1);M.u0(I,E," ");E++}return E};fK.Be=function(w,I,E,X){var o=I,i={type:"",size:0,k:0};
while(fK.oE(w[I]))I++;if(w[I]=="<".charCodeAt(0)){i.type="Object";i.k={};I=fK.rZ(w,i.k,I,E+1)}else if(w[I]=="(".charCodeAt(0)){i.type="String";
I++;if(w[I]==")".charCodeAt(0)){i.k="e";I++}else{I+=2;var h=I,k=0;while(!0){if(w[h]==")".charCodeAt(0)&&w[h-1]!="\\".charCodeAt(0))break;
else h+=1}i.k="s"+M.tm(w,I,h);I=h+2}}else if(w[I]=="[".charCodeAt(0)){I++;i.k=[];i.type="Array";while(fK.oE(w[I]))I++;
while(w[I]!="]".charCodeAt(0)){var x=fK.Be(w,I,E+1,X);if(x==-1)return-1;i.k.push(x.k);I+=x.size;delete x.size;
while(fK.oE(w[I]))I++}I++}else{var j=I;while(!fK.oE(w[j]))j++;var v=M.jz(w,I,j-I),_=parseFloat(v);if(!isNaN(_)&&v.indexOf(".")!=-1){i.type="Float";
var L=parseFloat(v);i.k="f"+L}else if(!isNaN(_)&&v.indexOf(".")==-1){i.type="Integer";i.k="i"+parseInt(v)}else if(v=="true"||v=="false"){i.type="Boolean";
i.k=v=="true"}else if(v.charAt(0)=="/"){i.type="BString";i.k=v}else if(v=="NaN"){i.type="Float";i.k="f0"}else{console.log("unknown value",JSON.stringify(v));
throw"e"}I=j+1}i.size=I-o;return i};fK.a5j=function(w){if(w==Math.round(w))return w+".0";var I=w.toFixed(5);
while(I.endsWith("0")&&I[I.length-2]!=".")I=I.slice(0,I.length-1);if(0<w&&w<1)I=I.slice(1);if(-1<w&&w<0)I="-"+I.slice(2);
return I};fK.lr=function(w,I,E,X){var o=typeof w=="string"?w.charAt(0):"";if(w instanceof Array){M.u0(I,E,"[ ");
E+=2;for(var P=0;P<w.length;P++){E=fK.lr(w[P],I,E,X);M.u0(I,E," ");E++}M.u0(I,E,"]");E+=1}else if(w instanceof Object){E=fK.fc(w,I,E,X)}else if(o=="e"){M.u0(I,E,"()");
E+=2}else if(o=="s"){M.u0(I,E,"(");E++;M.UY(I,E,254);E++;M.UY(I,E,255);E++;E=M.nA(I,E,w.substring(1));
M.u0(I,E,")");E++}else if(o=="/"){M.u0(I,E,w);E+=w.length}else if(o=="f"){var i=parseFloat(w.substring(1)),h=fK.a5j(i);
M.u0(I,E,h);E+=h.length}else if(o=="i"){M.u0(I,E,w.substring(1));E+=w.length-1}else{var h=w+"";M.u0(I,E,h);
E+=h.length}return E};function M(){}M.avC=function(eS){var w="";for(var P=3;P>=0;P--)w+=String.fromCharCode(eS>>P*8&255);
return w};M.a7y=function(w){var eS=0;for(var P=w.length-1;P>=0;P--)eS|=w.charCodeAt(P)<<(3-P)*8;return eS};
M.indexOf=function(w,I,E,X){if(E==null)E=0;if(X==null)X=w.length;X=Math.min(X,w.length);for(var P=E;
P<X;P++)if(w[P]==I)return P;return-1};M.lO=function(w,I,E){if(E==null)E=0;var X=I.length,o=w.length-X;
if(typeof I=="string"){var i=[];for(var P=0;P<X;P++)i.push(I.charCodeAt(P));I=i}if(I.length>0){var h=I[0];
for(var P=E;P<o;P++)if(w[P]==h){var k=!0;for(var x=1;x<X;x++)if(I[x]!=w[P+x]){k=!1;break}if(k)return P}}return-1};
M.tm=function(w,I,E){var X=[],i="";while(I<E){var o=w[I++];if(o=="\\".charCodeAt(0))X.push(w[I++]);else X.push(o)}for(var P=0;
P<X.length;P+=2)i+=String.fromCharCode(X[P]<<8|X[P+1]);return i};M.a7a=function(w,I,E){var X=new Uint8Array(2);
for(var P=0;P<E.length;P++){M.hB(X,0,E.charCodeAt(P));if(X[0]==")".charCodeAt(0)||X[0]=="(".charCodeAt(0)||X[0]=="\\".charCodeAt(0)){w[I]="\\".charCodeAt(0);
I++}w[I]=X[0];I++;if(X[1]==")".charCodeAt(0)||X[1]=="(".charCodeAt(0)||X[1]=="\\".charCodeAt(0)){w[I]="\\".charCodeAt(0);
I++}w[I]=X[1];I++}return I};M.nA=function(w,I,E){w.gj(I,4*E.length);return M.a7a(w.data,I,E)};M.KW=function(w,I,E){var X="";
for(var P=0;P<E;P++){var o=w[I++]|w[I++]<<8;X+=String.fromCharCode(o)}return X};M.w5=function(w,I,E){var X="";
for(var P=0;P<E;P++){var o=w[I++]<<8|w[I++];X+=String.fromCharCode(o)}return X};M.a2n=function(w,I,E){for(var P=0;
P<E.length;P++){var X=E.charCodeAt(P);M.ps(w,I+2*P,X)}};M.NQ=function(w,I,E){for(var P=0;P<E.length;
P++){var X=E.charCodeAt(P);M.hB(w,I+2*P,X)}};M.ays=function(w,I,E){w.gj(I,2*E.length);M.NQ(w.data,I,E)};
M.avY=function(w,P,I){var E=[],X=0,o=0;I+=P;while(P<I){X=w[P++];if((X&128)==0)o=X;else if((X&224)==192){o=(X&31)<<6;
X=w[P++];o|=X&63}else if((X&240)==224){o=(X&15)<<12;X=w[P++];o|=(X&63)<<6;X=w[P++];o|=X&63}else if((X&248)==240){o=(X&7)<<18;
X=w[P++];o|=(X&63)<<12;X=w[P++];o|=(X&63)<<6;X=w[P++];o|=X&63}else throw"e";E.push(o)}return E};M.Qy=window.TextDecoder?new window.TextDecoder("utf8"):null;
M.YV=function(w,I,E){if(I==null)I=0;if(E==null)E=w.length;if(M.Qy&&I==0&&E==w.length)return M.Qy.decode(w);
var X=M.avY(w,I,E),o=X.length;for(var P=0;P<o;P++)X[P]=String.fromCharCode(X[P]);return X.join("")};
M.Or=window.TextEncoder?new window.TextEncoder("utf8"):null;M.VD=function(w){if(M.Or)return M.Or.encode(w);
var I=new Uint8Array(w.length*4),E=M.OA(w,I,0);return I.slice(0,E)};M.OA=function(w,I,E){var X=w.length,P=0;
for(var o=0;o<X;o++){var i=w.charCodeAt(o);if((i&4294967295-(1<<7)+1)==0){I[E+P]=i;P++}else if((i&4294967295-(1<<11)+1)==0){I[E+P]=192|i>>6;
I[E+P+1]=128|i>>0&63;P+=2}else if((i&4294967295-(1<<16)+1)==0){I[E+P]=224|i>>12;I[E+P+1]=128|i>>6&63;
I[E+P+2]=128|i>>0&63;P+=3}else if((i&4294967295-(1<<21)+1)==0){I[E+P]=240|i>>18;I[E+P+1]=128|i>>12&63;
I[E+P+2]=128|i>>6&63;I[E+P+3]=128|i>>0&63;P+=4}else throw"e"}return P};M.TL=function(w,I){var E=M.W(w,I),X=M.YV(w,I+4,E-1);
return{Ls:X,U4:4+E}};M.axg=function(w,I){var E=M.vc(w,I),X=M.KW(w,I+4,E);return X};M.l5=function(w,I){var E=M.W(w,I),X=M.w5(w,I+4,E);
return X};M.Mb=function(w,I){var E=M.W(w,I),X=M.w5(w,I+4,E-1);return X};M.ax7=function(w,I,E){M.zM(w,I,E.length);
I+=4;M.a2n(w,I,E)};M.atI=function(w,I,E){M.zj(w,I,E.length);I+=4;M.NQ(w,I,E)};M.XK=function(w,I,E){w.gj(I,4+2*E.length);
M.atI(w.data,I,E)};M.aut=function(w,I,E){w.gj(I,4+2*E.length);M.ax7(w.data,I,E)};M.lT=function(w,I,E){var X=[];
for(var P=0;P<E;P++)X.push(String.fromCharCode(w[I+P]));return X};M.a3C=function(w,I,E){var X=!1,o=w.length-E.length;
for(var P=I;P<o;P++){for(var i=0;i<E.length;i++){if(w[P+i]!=E.charCodeAt(i))break;if(i==E.length-1)return P}}};
M.jz=function(w,I,E){var X="";for(var P=0;P<E;P++)X+=String.fromCharCode(w[I+P]);return X};M.X5=function(w,I,E){for(var P=0;
P<E.length;P++)w[I+P]=E.charCodeAt(P)};M.u0=function(w,I,E){w.gj(I,E.length);M.X5(w.data,I,E)};M.afn=function(w,I,E){var X="";
for(var P=0;P<E;P++){var o=w[I+P];if(o<10)X+="  ";else if(o<100)X+=" ";X+=o+", "}return X};M.vH=function(w,I){return w[I]<<8|w[I+1]};
M.hB=function(w,I,eS){w[I]=eS>>8&255;w[I+1]=eS&255};M.Ou=function(w,I,eS){w.gj(I,4);M.hB(w.data,I,eS)};
M.amF=function(w,I){var E=M.vH(w,I),X=M.vH(w,I+2);return E+X*(1/65536)};M.eT=function(w,I,eS){var E=Math.floor(eS),X=Math.floor((eS-E)*65536);
M.hB(w,I,E);M.hB(w,I+2,X)};M.s0=function(w,I){return w[I+1]<<8|w[I]};M.ps=function(w,I,eS){w[I+1]=eS>>8&255;
w[I]=eS&255};M.So=function(w,I,eS){w.gj(I,4);M.ps(w.data,I,eS)};M.mL=function(w,I){M.bn[0]=w[I+1];M.bn[1]=w[I];
return M.LE[0]};M.Yl=function(w,I){M.bn[0]=w[I];M.bn[1]=w[I+1];return M.LE[0]};M.vT=M.hB;M.hc=M.Ou;M.Qf=function(w,I){M.Z4[0]=w[I+3];
M.Z4[1]=w[I+2];M.Z4[2]=w[I+1];M.Z4[3]=w[I];return M.KM[0]};M.ug=function(w,I,eS){M.KM[0]=eS;w[I+3]=M.Z4[0];
w[I+2]=M.Z4[1];w[I+1]=M.Z4[2];w[I+0]=M.Z4[3]};M.o2=function(w,I,eS){w.gj(I,4);M.ug(w.data,I,eS)};M.k$=function(w,I,E,X){E[X+0]=w[I+0];
E[X+1]=w[I+1];E[X+2]=w[I+2];E[X+3]=w[I+3]};M.vc=function(w,I){M.k$(w,I,M.Z4,0);return M.Fd[0]};M.zM=function(w,I,eS){M.Fd[0]=eS;
M.k$(M.Z4,0,w,I)};M.xj=function(w,I,eS){w.gj(I,4);M.zM(w.data,I,eS)};M.Qv=function(w,I){M.k$(w,I,M.Z4,0);
return M.KM[0]};M.a3_=function(w,I,eS){M.KM[0]=eS;M.k$(M.Z4,0,w,I)};M.amq=function(w,I,eS){w.gj(I,4);
M.a3_(w.data,I,eS)};M.W=function(w,I){var E=w[I]*(256*256*256)+(w[I+1]<<16|w[I+2]<<8|w[I+3]);return E};
M.zj=function(w,I,eS){w[I]=eS>>24&255;w[I+1]=eS>>16&255;w[I+2]=eS>>8&255;w[I+3]=eS>>0&255};M.yZ=function(w,I,eS){w.gj(I,4);
M.zj(w.data,I,eS)};M.xK=function(w,I){return M.W(w,I)<<32|M.W(w,I+4)};M.c8=function(w,I,eS){M.zj(w,I,eS>>16>>16);
M.zj(w,I+4,eS&4294967295)};M.iA=function(w,I,eS){w.gj(I,8);M.c8(w.data,I,eS)};M.lb=function(w,I){var E=new Uint8Array(8);
for(var P=0;P<8;P++)E[P]=w[I+7-P];var X=new Float64Array(E.buffer);return X[0]};M.yj=function(w,I){var E=new Uint8Array(8);
for(var P=0;P<8;P++)E[P]=w[I+P];var X=new Float64Array(E.buffer);return X[0]};M.Xc=function(w,I,eS){var E=new Float64Array(1);
E[0]=eS;var X=new Uint8Array(E.buffer);for(var P=0;P<4;P++){var o=X[P];X[P]=X[7-P];X[7-P]=o}for(var P=0;
P<8;P++)w[I+P]=X[P]};M.E3=function(w,I,eS){w.gj(I,8);M.Xc(w.data,I,eS)};M.Hx=function(w,I){M.Z4[0]=w[I+3];
M.Z4[1]=w[I+2];M.Z4[2]=w[I+1];M.Z4[3]=w[I+0];return M.Bs[0]};M.G5=function(w,I){M.Z4[0]=w[I+0];M.Z4[1]=w[I+1];
M.Z4[2]=w[I+2];M.Z4[3]=w[I+3];return M.Bs[0]};M.nU=function(w,I,eS){M.Bs[0]=eS;w[I+0]=M.Z4[3];w[I+1]=M.Z4[2];
w[I+2]=M.Z4[1];w[I+3]=M.Z4[0]};M.ae4=function(w,I,eS){w.gj(I,4);M.nU(w.data,I,eS)};M.Jg=function(w,I,eS){M.Bs[0]=eS;
w[I+0]=M.Z4[0];w[I+1]=M.Z4[1];w[I+2]=M.Z4[2];w[I+3]=M.Z4[3]};M.aw5=function(w,I,eS){w.gj(I,4);M.Jg(w.data,I,eS)};
M.ahs=function(w,I){var E=M.Qf(w,I),X=E*(1/(1<<24));return X};M.mu=function(w,I,E){var X=Math.floor(E*(1<<24));
M.ug(w,I,X)};M.a1e=function(w,I,E){w.gj(I,4);M.mu(w.data,I,E)};M.C2=function(w,I){var E=w[I],X=M.jz(w,I+1,E);
E+=1-E%2;return{P1:X,length:E+1}};M.a9O=function(w,I,E){var X=E.length;w[I]=X;M.X5(w,I+1,E);if(X%2==0){w[I+1+X]=0;
++X}return X+1};M.Sm=function(w,I,E){w.gj(I,E.length+2);return M.a9O(w.data,I,E)};M.RO=function(w,I){var E=new am;
E.lV=M.lb(w,I+0*8);E.L=M.lb(w,I+1*8);E.I5=M.lb(w,I+2*8);E.cA=M.lb(w,I+3*8);E.N9=M.lb(w,I+4*8);E.Zt=M.lb(w,I+5*8);
return E};M.gg=function(w,I,E){M.Xc(w,I+0*8,E.lV);M.Xc(w,I+1*8,E.L);M.Xc(w,I+2*8,E.I5);M.Xc(w,I+3*8,E.cA);
M.Xc(w,I+4*8,E.N9);M.Xc(w,I+5*8,E.Zt)};M.auU=function(w,I,E){w.gj(I,48);M.gg(w.data,I,E)};M.acY=function(w,I){var E=M.Hx(w,I),X=M.Hx(w,I+4),o=M.Hx(w,I+8),i=M.Hx(w,I+12);
return new dC(E,X,o-E,i-X)};M.a3D=function(w,I,E){M.nU(w,I,E.x);M.nU(w,I+4,E.y);M.nU(w,I+8,E.x+E.q);
M.nU(w,I+12,E.y+E.w)};M.a97=function(w,I,E){w.gj(I,16);M.a3D(w.data,I,E)};M.KU=function(w,I){var E=M.Qf(w,I),X=M.Qf(w,I+4),o=M.Qf(w,I+8),i=M.Qf(w,I+12);
return new dC(X,E,i-X,o-E)};M.ql=function(w,I,E){M.ug(w,I,E.y);M.ug(w,I+4,E.x);M.ug(w,I+8,E.y+E.w);M.ug(w,I+12,E.x+E.q)};
M.jx=function(w,I,E){w.gj(I,16);M.ql(w.data,I,E)};M.OD=function(w,I,E){var X=new Uint8Array(E);for(var P=0;
P<E;P++)X[P]=w[I+P];return X};M.Sg=function(w,I,E){w.set(E,I)};M.na=function(w,I,E){w.gj(I,E.length);
M.Sg(w.data,I,E)};M.a0E=function(w,I,E,eS){if(!eS)eS=1;for(var P=0;P<eS;P++)w[I+P]=E};M.UY=function(w,I,E,eS){if(!eS)eS=1;
w.gj(I,eS);M.a0E(w.data,I,E,eS)};M.LE=new Int16Array(1);M.bn=new Uint8Array(M.LE.buffer);M.KM=new Int32Array(1);
M.Fd=new Uint32Array(M.KM.buffer);M.Z4=new Uint8Array(M.KM.buffer);M.Bs=new Float32Array(M.KM.buffer);
function c7(){}c7.fM=function(w,I){var E=new Uint8Array(w),X=0,o=M.jz(E,X,9),k=4,x=100;X+=9;var i=M.jz(E,X,4);
X+=4;X++;I.q=M.W(E,X);X+=4;I.w=M.W(E,X);X+=4;var h=M.W(E,X);X+=4;if(h!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(i)==-1){x=M.W(E,X);X+=4;if(parseInt(i.slice(1))>=7){x=x}else alert("Unknown XCF version: "+i);
k=8}var j={};X=c7.tW(E,X,j);var v=[];X=c7.st(E,X,v,k);var _=[];X=c7.st(E,X,_,k);I.rP=0;for(var P=0;P<v.length;
P++)c7.ay8(E,v[P],I,j,k,x);while(I.rP>0){I.b.push(I.Rf());I.rP--}I.b.reverse();delete I.rP;I.buffer=Q.$(I.q*I.w*4);
if(I.b.length==0)console.log("No layers!!!");for(var P=0;P<_.length;P++){var L=c7.ox(E,_[P],j,k,x);if(L.Ik[bn.afs])I.n={channel:L.t9,rect:new dC(0,0,I.q,I.w)}}};
c7.ay8=function(w,I,E,X,o,i){var h=E.XY(),k=M.W(w,I),_=0;I+=4;var x=M.W(w,I);I+=4;h.rect=new dC(0,0,k,x);
var j=M.W(w,I);I+=4;var v=M.TL(w,I);I+=v.U4;h.G_(v.Ls);var L={};I=c7.tW(w,I,L);if(L[bn.Bh]){var U=L[bn.Bh];
_=U.length/4-1}if(L[bn.Ph]){h.rect.x=M.Qf(L[bn.Ph],0);h.rect.y=M.Qf(L[bn.Ph],4)}if(L[bn.md]){h.opacity=M.W(L[bn.md],0)}if(L[bn.aon]){h.add.lsct=gs.Y_;
h.Bo=24}if(L[bn.ux]){var n=M.W(L[bn.ux],0);h.$B=bn.a2P[n];if(h.vD()&&h.$B=="norm")h.$B="pass"}if(L[bn.g8]){if(M.W(L[bn.g8],0)==0)h.Bo+=2}if(L[bn.AS]){var a=M.W(L[bn.AS],0);
h.add.lsct=a&1==1?gs.Y_:gs.S2}if(L[bn.qB]){var T=L[bn.qB];for(var g in T){var D=T[g];if(g=="gimp-text-layer"){var b=c7.ajX(D),N=b.text,C=b.font,Z=b.color,S=b["font-size"];
if(N==null&&b.markup){var u=new DOMParser,p=u.parseFromString(b.markup,"image/svg+xml");while(p.firstChild!=null&&p.firstChild.tagName!=null){p=p.firstChild;
var f=p.getAttribute("font"),d=p.getAttribute("foreground"),l=p.getAttribute("size");if(f!=null)C=f;
if(d!=null){d=CSS.V5(d);Z=[1,d.o/255,d.P/255,d.L/255]}if(l!=null){S=""+parseFloat(l)/245}}N=p.textContent}h.add.lnsr="rend";
h.add.TySh=bQ.za(0,0);h.add.TySh.Wc=new dC(0,0,100,100);h.add.TySh.F=new am(1,0,0,1,h.rect.x,h.rect.y);
var A=h.add.TySh.Da;bQ.fZ(A,0,N);var B=bQ.wg(A,0,0),e=b.justify,m=b["line-spacing"];if(Z)B.hd.FillColor={Type:1,Values:[1,parseFloat(Z[1]),parseFloat(Z[2]),parseFloat(Z[3])]};
if(S){S=Math.round(parseFloat(S));B.hd.FontSize=S;h.add.TySh.F.Zt+=Math.min(17,S*.17)}if(m){m=Math.round(parseFloat(m)+B.hd.FontSize*1.2);
B.hd.Leading=m;B.hd.AutoLeading=!1}if(e)B.wo.Justification=["left","right","center","fill"].indexOf(e);
if(C&&C!="Sans-serif"){var $=C.toLowerCase(),V="bold italic semi extra regular condensed light".split(" "),H=$.length;
for(var P=0;P<V.length;P++){var F=$.indexOf(V[P]);if(F!=-1&&F<H&&$[F-1]==" ")H=F}if(H!=$.length)C=C.slice(0,H-1).split(" ").join("")+"-"+C.slice(H).split(" ").join("");
bQ.Ab(B,C)}bQ.JF(A,0,N.length,B);var G=b["box-width"],J=b["box-height"],c=G?parseFloat(G):h.rect.q,r=J?parseFloat(J):h.rect.w;
bQ.Kv(A,1);bQ.Nq(A,[0,0,Math.ceil(c),Math.ceil(r)])}else console.log("Unknown property "+g)}}while(E.rP>_){E.b.push(E.Rf());
E.rP--}E.rP=_;if(h.add.lsct==gs.Y_||h.add.lsct==gs.S2)E.rP++;var s=o==4?M.W:M.xK,z=s(w,I);I+=o;var Y=s(w,I);
I+=o;if(h.N$()){h.buffer=Q.$(h.rect.A()*4);var ax=new Q.hV(h.rect.A());c7.rh(w,z,ax,X,o,i);Q.tR(ax,h.buffer)}if(Y!=0){h.D=new K._x;
var iW=c7.ox(w,Y,X,o,i);h.D.channel=iW.t9;h.D.rect=h.rect.clone();if(L[bn.Dt])h.D.isEnabled=M.W(L[bn.Dt],0)==1;
h.D.color=h.D.channel[0];h.D.G1()}if(h.vD())h.rect=new dC;E.b.push(h)};c7.ajX=function(w){var I="("+M.YV(w,0,w.length-1)+")",E=[],X={};
c7.Wy(I,1,E);c7.ax4(E,X);return X};c7.ax4=function(w,I){for(var P=0;P<w.length;P++){var E=w[P],X=E[0];
if(E.length==2)I[X]=E[1];else I[X]=E.slice(1)}};c7.Wy=function(w,I,E){while(!0){if(I>=w.length)throw"e";
var X=w.charAt(I);I++;if(X=="("){var o=[];I=c7.Wy(w,I,o);E.push(o)}else if(X==" "||X=="\n"||X=="\r"){}else if(X==")")return I;
else if(X=="\""){var i=I;while(!0){var h=w[I];I++;if(h=="\"")break;if(h=="\\")I++}E.push(JSON.parse(w.slice(i-1,I)))}else{var i=I-1;
while(w[I]!=" "&&w[I]!=")")I++;E.push(w.slice(i,I))}}};c7.ox=function(w,I,E,X,o){var i=M.W(w,I);I+=4;
var h=M.W(w,I);I+=4;var k=M.TL(w,I);I+=k.U4;var x={};I=c7.tW(w,I,x);var j=new Q.hV(i*h),v=X==4?M.W:M.xK,_=v(w,I);
I+=X;c7.rh(w,_,j,E,X,o);return{t9:j.o,Ik:x}};c7.rh=function(w,I,E,X,o,i){var h=M.W(w,I);I+=4;var k=M.W(w,I);
I+=4;var x=M.W(w,I);I+=4;var j=o==4?M.W:M.xK,v=j(w,I);I+=o;c7.as_(w,v,E,X,x,o,i)};c7.as_=function(w,I,E,X,o,i,h){var k=M.W(w,I),v=0,P=0;
I+=4;var x=M.W(w,I);I+=4;var j=new dC(0,0,k,x);if(h==100||h==150)v=1;else if(h==200||h==250)v=2;else if(h==300||h==350)v=4;
else if(h==500||h==550)v=2;else if(h==600||h==650)v=4;else if(h==700||h==750)v=8;else{alert("unsupported bit depth "+h);
throw"e"}var _=o/v,v=Math.round(o/_),L=[];I=c7.st(w,I,L,i);var U=new Q.hV(64*64*v),n=new dC,a=X[bn.a5$][0],T=[U.o,U.P,U.L,U.lV];
if(_==3)U.lV.fill(255);var g=Date.now();for(var D=0;D<x;D+=64)for(var b=0;b<k;b+=64){var N=Math.min(k-b,64),C=Math.min(x-D,64),Z=N*C;
n.eo(b,D,N,C);c7.a3W(w,L[P++],Z*v,a,_,T);if(h==100||h==150){}else if(h==250){for(var S=0;S<_;S++){var u=T[S];
for(var p=0;p<Z;p++){var f=u[p]<<8|u[Z+p];u[p]=Math.min(f>>>8,255)}}}else if(h==600){var d=c7.a8Y(),l=new Uint32Array(1),A=new Float32Array(l.buffer);
for(var S=0;S<_;S++){var u=T[S];for(var p=0;p<Z;p++){l[0]=u[p]<<24|u[Z+p]<<16|u[(Z<<1)+p]<<8|u[(Z<<1)+Z+p]<<0;
var B=A[0];if(B<0)B=0;else if(B>1)B=1;u[p]=d[~~(.5+B*1e3)]}}}else console.log("unknown data format",h);
Q.eI(U,n,E,j)}};c7.a8Y=function(){var w=c7.ac8;if(w!=null)return w;w=c7.ac8=new Uint8Array(1001);for(var P=0;
P<1001;P++)w[P]=~~(.49+255*Q.qK(P*.001));return w};c7.a3W=function(w,I,E,X,o,i){if(X==1){for(var h=0;
h<o;h++){var k=i[h],x=0;while(x<E){var eS=w[I];I++;if(eS<127){var j=w[I];I++;eS++;for(var P=0;P<eS;P++)k[x+P]=j}else if(eS==127){var v=w[I];
I++;var _=w[I];I++;var j=w[I];I++;eS=v<<8|_;for(var P=0;P<eS;P++)k[x+P]=j}else if(eS==128){var v=w[I];
I++;var _=w[I];I++;eS=v<<8|_;for(var P=0;P<eS;P++)k[x+P]=w[I+P];I+=eS}else{eS=256-eS;for(var P=0;P<eS;
P++)k[x+P]=w[I+P];I+=eS}x+=eS}}}else if(X==2){var L=pako.inflate(w.slice(I)),U=Math.round(L.length/E);
for(var P=0;P<E;P++){var n=P*U;i[0][P]=L[n];i[1][P]=L[n+1];i[2][P]=L[n+2];i[3][P]=U==3?255:L[n+3]}}else alert("Unknown compression "+X)};
c7.st=function(w,I,E,X){var o=X==4?M.W:M.xK;while(!0){var i=o(w,I);I+=X;if(i==0)break;else E.push(i)}return I};
c7.tW=function(w,I,E){while(!0){var X=M.W(w,I);I+=4;var o=M.W(w,I);I+=4;if(X==bn.a2B)break;else if(X==bn.qB)E[X]=c7.afd(w,I,I+o);
else E[X]=M.OD(w,I,o);I+=o}return I};c7.afd=function(w,I,E){var X={};while(I<E){var o=M.TL(w,I);I+=o.U4;
var i=M.W(w,I);I+=4;if(i!=1)console.log("unknown flags",i);var h=M.W(w,I);I+=4;X[o.Ls]=M.OD(w,I,h);I+=h}return X};
var bn={a2B:0,ag8:1,aoa:2,ai5:3,afs:4,awU:5,md:6,ux:7,g8:8,a9S:9,acU:10,Dt:11,afH:12,a3k:13,avP:14,Ph:15,ajo:16,a5$:17,aiv:18,aek:19,asU:20,qB:21,aix:22,ain:23,ag1:24,a3G:25,aal:26,aa7:27,awg:28,aon:29,Bh:30,AS:31,a6o:32,alP:33,axr:34,a0K:35,aiG:36,ata:37,apT:38,agI:0,a2G:1,anb:2,awZ:3,a0s:1,a0w:2,ay0:0,a08:1,ati:1};
bn.a2P="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var iF=function(){var w=!1,I,E,b;function X(){var Z=M.jz(I,E,4);E+=4;return Z[3]+Z[2]+Z[1]+Z[0]}function o(){var Z=M.jz(I,E,4);
E+=4;return Z}function i(){var Z=I[E];E+=1;return Z}function h(){var Z=M.s0(I,E);E+=2;return Z}function k(){var Z=M.vc(I,E);
E+=4;return Z}function x(){var Z=M.Qv(I,E);E+=4;return Z}function j(){var Z=M.vc(I,E);E+=8;return Z}function v(){var Z=M.G5(I,E);
E+=4;return Z}function _(){var Z=M.yj(I,E);E+=8;return Z}function L(){var Z=M.s0(I,E),S=M.YV(I,E+2,Z);
E+=2+Z;return S}function U(){var Z=M.vc(I,E),S=M.YV(I,E+4,Z);E+=4+Z;return S}function n(Z){E=Z;var S=[];
while(E!=0){var u=o();if(u!="#FT4"&&u!="#FT3"&&u!="#FT2")throw u;var p=j(),f=j(),d=j(),l=j(),A=j(),B=k(),e=k(),m=k(),$=h(),V=i(),H={};
S.push(H);for(var P=0;P<B;P++){var F=k(),G=i();if(G!=0&&G!=1&&G!=2)throw G;var J=[];if(G==0||G==1){var c=j(),r=j(),s=j(),z=k(),Y=i(),ax=k(),iW=u!="#FT4"?0:k(),y=null;
if(u=="#FAT"||u=="#FT2"){switch(Y){case 1:Y=1;break;case 2:Y=65;break;case 3:Y=129;break;case 4:Y=193;
break;default:Y=0;break}}if(G==0)y=L();J=[c,r,s,Y,y]}H["i"+F]=[G,J]}for(var P=0;P<$;P++){var hm=h(),t=h(),cT=j(),c4=M.jz(I,E,hm);
E+=hm}E=p}S.reverse();for(var kv=1;kv<S.length;kv++){var H=S[kv],iL=S[kv]=JSON.parse(JSON.stringify(S[kv-1]));
for(var cr in H){var ga=H[cr];if(ga[0]==0)iL[cr]=ga;else if(ga[0]==1){ga[1][4]=iL[cr][1][4];iL[cr]=ga}else if(ga[0]==2)delete iL[cr]}}var iq=S.pop(),ei=[];
for(var cr in iq)ei.push(iq[cr][1]);ei.sort(function(hw,hC){return hw[0]-hC[0]});return ei}function a(Z,S,u,p){while(E<I.length){var f=i(),B=null;
if(f==0){if(p){var d=i();if(d!=2){var l=X()}if(d==0)E+=4;p=!1;continue}else{break}}var A=X();if(w)console.log("  ".repeat(S),f,f&127,A,Z._type);
if(f>127)B=T(f,S,u);else B=g(f,S,u);Z[A]=B}}function T(Z,S,u){var p=[];Z=Z&127;if(Z==43)E+=4;var f=k();
if(Z==50){var d=X(),l=h();if(l!=1)throw"e";for(var P=0;P<f;P++){var A={_status:"NotShared",_type:d};
p.push(A);var B=i();if(B!=1)throw B;a(A,S+1,u)}}else for(var P=0;P<f;P++){p.push(g(Z,S,u));if(Z==42)Z=2}return p}function g(Z,S,u){var p=null;
if(Z==49){p={};var f=i();if(f!=0){var d=k();if(u==null){p._id=d;p._status=["Shared","Link"][f-1]}if(u&&f==2)p=u[d];
if(f==1){if(u)u[d]=p;var l=i(),A=!1;if(l>1)throw l;p._type=X();if(w)console.log("  ".repeat(S),"new",p._type,l,E);
if(l==0){while(!0){var B=h();if(B!=0&&B!=1&&B!=2&&B!=4)throw B;if(I[E]!=0){A=!0;break}var e=h();if(e==512)break;
var m=X();if(e==256)break}}a(p,S+1,u,A)}}}else if(Z==50){p={_status:"NotShared"};if(i()==1){p._type=X();
E+=2;a(p,S+1,u)}}else if(Z==1)p={type:"byte",value:i()};else if(Z==2)p={type:"uint16",value:h()};else if(Z==3)p={type:"uint32",value:k()};
else if(Z==4)p={type:"uint64",value:j()};else if(Z==7)p={type:"int32",value:x()};else if(Z==8)p={type:"int64",value:j()};
else if(Z==9)p={type:"float32",value:v()};else if(Z==10)p={type:"float64",value:_()};else if(Z==21)p={type:"Vec2i",value:[k(),k()]};
else if(Z==23)p={type:"Vec4i",value:[k(),k(),k(),k()]};else if(Z==33)p={type:"Vec4f",value:[v(),v(),v(),v()]};
else if(Z==36)p={type:"Vec2",value:[_(),_()]};else if(Z==38)p={type:"Vec4",value:[_(),_(),_(),_()]};
else if(Z==40)p={type:"Vec6",value:[_(),_(),_(),_(),_(),_()]};else if(Z==41)p={type:"bool",value:i()!=0};
else if(Z==42)p={type:"Enum",value:k()};else if(Z==43)p={type:"string",value:U()};else if(Z==44){var $=h();
p={type:"curv16",value:[_(),$==12?[i(),i(),i(),i()]:[k(),k()]]}}else if(Z==45){var $=k();p={type:"buff",value:I.slice(E,E+$)};
E+=$}else if(Z==47){p={type:"uint32",value:k()}}else if(Z==48){var V=[],H=h();if(H!=1)throw H;if(I[E]==135){var F=T(i(),S+1,u),G=T(i(),S+1,u),J=T(i(),S+1,u);
V=[F,G,J]}else{var c=1;if(I[E]==3){i();c=k()}for(var P=0;P<c;P++){if(i()!=41)throw"e";var d=i();if(d!=0&&d!=1)throw d;
if(i()!=172)throw"e";var r=k(),s=h(),z=[];V.push(z);if(s!=18)throw s;if(r>2e3)throw r;for(var Y=0;Y<r;
Y++)z.push([_(),_(),i(),i()])}}E++;p={type:"curve",value:V}}else if(Z==51){p={type:"EmbeddedData"};p[X()]=U()}else if(Z==52)p={type:"uint32",value:k()};
else if(Z==56)p={type:"Color32",value:[i(),i(),i(),i()]};else if(Z==60)p={type:"ColorGRAY",value:[v(),v()]};
else if(Z==68)p={type:"ColorRGBA",value:[v(),v(),v(),v()]};else if(Z==72)p={type:"ColorCMYK",value:[v(),v(),v(),v(),v()]};
else{throw Z}return Z==49||Z==50||Z==51?p:p.value}function D(Z){var S=0,u=Z.length;for(var P=0;P<u;P++)Z[P]=S=S+Z[P]&255}function N(Z){I=Z;
E=4;var S=k(),u=o();if(u!="nsrP")throw u;var u=o();if(u!="#Inf")throw u;var p=j();b=j();var f=j(),d=j(),l=j(),A=k(),B=k(),u=o();
if(u!="Prot")throw u;var A=k(),e=n(p),m={},$=Date.now();for(var V=0;V<e.length;V++){var H=e[V],F=H[3],s=null;
E=H[0];var u=o();if(u!="#Fil")throw u;var G=F>>>5&1,J=F&3,c=F&192;switch(c){case 64:c=1;G=0;break;case 128:c=2;
break;case 192:c=3;break;default:c=0;G=0}var r=new Uint8Array(I.buffer,E,H[2]);if(J==0)s=r;else if(J==1)s=pako.inflate(r);
else if(J==2)s=gt.oB.nu(r,H[1]);else throw J;if(G==0){if(c==1)D(s);if(c==2)throw"e"}else throw G;m[H[4]]=s}return m}function C(Z){var S=N(new Uint8Array(Z));
I=S["doc.dat"];E=16;var u={};a(u,0,[]);return[S,u,b]}return{ad7:C}}();function aA(){}aA.fM=function(){function w(U,n){var a=Date.now(),T=iF.ad7(U),g=T[0],D=T[1],b=T[2],N=D.DocR,C=N.DfSz,Z=N.Chld;
if(Z.length!=1)throw"e";var S=Z[0],u=S.SprB;Z=S.Chld;n.q=~~u[2];n.w=~~u[3];n.buffer=Q.$(n.q*n.w*4);var p=[0,{}];
for(var P=0;P<Z.length;P++)o(Z[P],n,g,new am,p,0);n.G0(p[0]);console.log(Date.now()-a,"Document created");
a=Date.now()}function I(U){return new am(U[0],U[3],U[1],U[4],U[2],U[5])}function E(U,n){var a=n.Xfrm;
a=a?I(a):new am;a.concat(U);return a}function X(U){var n={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[U];
return n?n:"norm"}function o(U,n,a,T,g,D){var b=U._type,N=U.Chld,C=n.XY();C.G_(U.Desc==null||U.Desc==""?b=="Grup"?"Folder":"Layer":U.Desc);
C.Wz(U.Visi);C.opacity=Math.round(255*U.Opac);if(U.FOpc!=1)C.add.iOpa=Math.round(255*U.FOpc);var Z=U.Blnd;
if(Z!=null)C.$B=X(Z);var S=E(T,U),u=b=="ShpN"||b=="PCrv";if(N){n.b.push(n.Rf());C.add.lsct=gs.Y_;C.$B="pass";
C.Bo=24;if(b=="ShpN"){var p=U.ShpB;C.CZ(new dC(p[0]+S.N9,p[1]+S.Zt,p[2]-p[0],p[3]-p[1]));g[0]++;C.add.artb.Clr={t:"Objc",v:Q.N.Ex({o:255,P:255,L:255})}}for(var P=0;
P<N.length;P++)o(N[P],n,a,S,g,D+1)}else if(b=="Rstr"||b=="ImgN"||b=="MRst"){var f=U.Bitm,d=f.Bckg,l=Date.now(),A;
if(d==null){A=j(f,a,g[1]);C.rect=A[2].clone();C.buffer=A[1].slice(0);C.rect.x+=S.N9;C.rect.y+=S.Zt}if(d||S.dA()!=1){var B,e=0,m=0;
if(d){var $=a[d.Data],V=M.lO($,"ataD")+4,H=M.vc($,V);V+=4;B=$.slice(V,V+H)}else{e=C.rect.x-S.N9;m=C.rect.y-S.Zt;
if(A[3]==null)A[3]=new Uint8Array(gt.FB("PNG").v6([[C.buffer.buffer]],C.rect.q,C.rect.w));B=A[3].slice(0)}var F=n.ec(B,C.getName(),0,0);
F.Bo=C.Bo;F.opacity=C.opacity;C=F;var G=new am;G.translate(e,m);G.concat(S);var J=C.rect.clone();J.x=J.y=0;
var c=Q.p.sy(J).C;Q.p.F(c,G,c);C.add.SoLd.Trnf=q.R.bd(c);C.add.SoLd.nonAffineTransform=q.R.bd(c);C.vR(n,!1)}}else if(b=="TxtA"||b=="TxtF"){C.add.lnsr="rend";
C.add.TySh=bQ.za(0,0);C.add.TySh.Wc=new dC(0,0,100,100);var r=U.TxtH.FrmB,s=new am,iW=0;s.translate(r[0],r[1]);
s.concat(S);C.add.TySh.F=s;var z=C.add.TySh.Da,Y=U.StSt,ax=Y.Blok;if(ax.length!=1)throw"e";for(var y=0;
y<ax.length;y++){var hm=ax[y],t=iW,cT=0,c4=hm.Glyp.Utf8;c4=c4.replace(/\u2028/g,"\n");c4=c4.replace(/\u2029/g,"\n");
c4=c4.slice(0,c4.length-1);bQ.fZ(z,iW,c4);iW+=c4.length;var kv=hm.GAtt.Runs,iL=hm.PAtt.Runs[0],cr=iL.Item.Ints[0];
for(var ga=0;ga<kv.length;ga++){var iq=kv[ga],ei=iq.Indx,hw=iq.Item,hC=hw.Objs,j5=bQ.wg(z,t,1);j5.wo.Justification=cr==0?0:cr==1?2:1;
bQ.Ab(j5,hw.DFnt.Post);j5.hd.FontSize=hw.Doub[0];for(var P=0;P<hC.length;P++){var ed=hC[P];if(ed._type=="FDsc"){var jn=ed.FDeF;
if(jn._type=="FilS"){var fj=x(jn.Colr);j5.hd.FillColor={Type:1,Values:[1,fj[0],fj[1],fj[2]]}}}}bQ.JF(z,t+cT,t+Math.min(ei,c4.length),j5);
cT=ei}}bQ.Kv(z,1);bQ.Nq(z,[0,0,Math.round(r[2]-r[0]),Math.round((r[3]-r[1])*1.2)]);n.NZ=!0}else if(u){C.Bo|=16;
var di=C.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default));di.strokeEnabled.v=!1;var b1=C.add.vmsk=i(U);
Q.O.yJ(b1.j,S);if(U.BFFl){var dI=U.BFFl[0].FDeF,h2=dI._type;if(h2=="FilS")C.add.SoCo={classID:"null",Clr:k(dI.Colr)};
else if(h2=="FilG"){var de=C.add.GdFl=JSON.parse(hL.zd[hL.order.indexOf("GrFl")]);h(dI,de)}else if(h2=="FilN"){C.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.Ex({o:0,P:0,L:0})}};
di.fillEnabled.v=!1}else console.log(h2)}if(U.LILn){var ds=U.LILn[0].LDeL,jO=ds.Wght;if(jO!=0){di.strokeEnabled.v=!0;
di.strokeStyleLineWidth.v.val=jO;var dI=U.LIFl[0].FDeF,h2=dI._type;if(h2=="FilS")di.strokeStyleContent.v.Clr=k(dI.Colr);
else if(h2=="FilN")di.strokeEnabled.v=!1}}C.QQ();C.kH(n)}else console.log(b);var gy=U.AdCh,fV=[];if(gy)for(var P=0;
P<gy.length;P++){var hl=gy[P],im=hl._type;if(im=="ShpN"||im=="PCrv"){var b1=C.add.vmsk=i(hl),eA=E(S,hl);
Q.O.yJ(b1.j,eA);C.QQ();C.kH(n)}else if(hl.AdjP){var hy=hl.AdjP,dm=hy._type,hA={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[dm];
if(hA==null){console.log(hy);continue}var j2=gD.j1(hA,{});fV.push(j2);var dQ=j2.v.Fltr.v;if(dm=="LevP"){var aS=fP.or(dQ,0);
aS[0]=hy.OutB*255;aS[1]=hy.OutW*255;fP.kK(dQ,0,aS)}else if(dm=="WhBP"){var aS=fP.or(dQ,2);aS[4]=100+hy.WBTi*20;
fP.kK(dQ,2,aS);var aS=fP.or(dQ,3);aS[4]=100+hy.WBTi*200;fP.kK(dQ,3,aS)}else if(dm=="HSSP"){var aS=hj.or(dQ,0);
aS[0]=Math.round(hy.HueA*256);aS[1]=Math.round(hy.SatA*256);aS[2]=Math.round(hy.LumA*256);hj.kK(dQ,0,aS)}else if(dm=="RecP"){dQ.Clrz.v=!0;
var aS=hj.or(dQ,0);aS[0]=Math.round(hy.RecH*100);aS[1]=Math.round(hy.RecS*100);aS[2]=Math.round(hy.RecL*100);
hj.kK(dQ,0,aS)}else if(dm=="B&CP"){dQ.Brgh.v=Math.round(hy.Brig*100);dQ.Cntr.v=Math.round(hy.Ctrs*100-100)}else if(dm=="PosP"){dQ.Lvls.v=hy.Post}else if(dm=="VibP"){dQ.vibrance.v=hy.Vibr-100;
dQ.Strt.v=Math.round(hy.Satu*100)}else if(dm=="ExpP"){dQ.Exps.v=hy.Expo;dQ.gammaCorrection.v=hy.Gamm/2.2}else if(dm=="ThrP"){dQ.Lvl.v=Math.round(hy.Thre*255)}else if(dm=="CrvP"){var eh=hy.Mast["Cnt "],h6=hy.Mast.Vals,aS=k5.or(dQ,0),gT=aS[0];
for(var b8=0;b8<eh;b8++){var hP=aS[b8]=JSON.parse(JSON.stringify(gT));hP.v.Hrzn.v=Math.round(h6[b8]*255);
hP.v.Vrtc.v=Math.round(h6[4+b8]*255)}k5.kK(dQ,0,aS)}}else console.log(hl)}if(fV.length!=0&&C.add.SoLd){C.add.SoLd.filterFX=gD.WU();
n.j2({id:C.add.SoLd.placed.v,rect:new dC,buffer:Q.$(1),D:new K._x});C.add.SoLd.filterFX.v.filterFXList.v=fV;
C.vR(n,!1)}var b5=U.FiEf;if(b5&&b5.length!=0){var ar=C.add.lmfx=JSON.parse(hL.default);for(var P=0;P<hL.order.length;
P++)ar[hL.JR[P]]={t:"VlLs",v:[]};for(var cG=0;cG<b5.length;cG++){var bd=b5[cG],aZ=bd._type,gl={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[aZ],de=gl?JSON.parse(hL.zd[hL.order.indexOf(gl)]):null;
if(aZ=="ColO"){de.Clr=k(bd.Colr)}else if(aZ=="GrdO"){h(bd.GrFl.FDeF,de)}else if(aZ=="Shad"||aZ=="InnS"||aZ=="OutG"||aZ=="InnG"){de.Clr=k(bd.Colr);
de.blur.v.val=Math.round(bd.Radi/2.4);if(bd.Offs!=null){de.Dstn.v.val=bd.Offs;de.lagl.v.val=Math.round(180-bd.Angl*180/Math.PI);
de.uglg.v=!1}}else if(aZ=="Strk"){de.Clr=k(bd.Colr);de.Sz.v.val=Math.round(bd.Radi)}else if(aZ=="PhgB"||aZ=="BevE"){de.blur.v.val=Math.round(bd.Radi);
if(aZ=="BevE")de.bvlS.v.BESl="PlEb"}else if(aZ=="Gaus"){if(u&&bd.Enab){C.add.vmsk.o6=bd.Radi/2.4;C.add.vmsk.$o=!0;
C.QQ();C.kH(n)}}if(gl){de.enab.v=bd.Enab;if(de.Md&&bd.BlnM!=null)de.Md.v.BlnM=hH.r6(X(bd.BlnM));if(de.Opct&&bd.Opac!=null)de.Opct.v.val=Math.round(bd.Opac*100);
var ci=hL.JR[hL.order.indexOf(gl)];ar[ci].v.unshift({t:"Objc",v:de})}}}n.b.push(C)}function i(U){var n=new K.DN,a=U._type;
if(a=="PCrv"){var T=U.Crvs.Data,g=[],D=[];for(var P=0;P<T.length;P++){var b=T[P];if(b.length%3!=1){b=b.slice(1,b.length-1)}for(var N=0;
N<b.length;N++){var C=b[N],Z=C[2];if(Z!=0)g.push(N==0?"M":"C");D.push(C[0],C[1])}}n.j=Q.p.PY({C:D,J:g},!0)}else{var S=U.ShpB,u=U.Shpe,p=u._type,f=S[2]-S[0];
if(p=="ShpE"){n.j=Q.O.cw.z9(S[0],S[1],S[2]-S[0],S[3]-S[1])}else if(p=="ShNR"){var d=[0,0,0,0];if(u.CTyp){d=u.ShCR.slice(0);
for(var P=0;P<4;P++)d[P]*=S[2]-S[0]}n.j=Q.O.cw.Rect(S[0],S[1],S[2]-S[0],S[3]-S[1],d)}else if(p=="ShpT"){n.j=Q.p.PY({J:["M","L","L","Z"],C:[S[0],S[3],S[2],S[3],S[0]+f*.5,S[1]]},!0)}else if(p=="ShTz"){n.j=Q.p.PY({J:["M","L","L","L","Z"],C:[S[0]+f*u.PosL,S[1],S[0]+f*u.PosR,S[1],S[2],S[3],S[0],S[3]]},!0)}else{console.log("--",p);
n.j=Q.O.cw.Rect(S[0],S[1],S[2]-S[0],S[3]-S[1],[0,0,0,0])}}return n}function h(U,n){var a=U.Grad,T=a.Cols;
n.Type.v.GrdT=U.Type==0?"Lnr":"Rdl";var g=[];for(var P=0;P<T.length;P++){var D=x(T[P]);g.push([a.Posn[P][0],D])}n.Grad.v.Intr.v=0;
Q.N.GL(g,n.Grad.v);var b=a.Posn,N=new a5(b[0][0],b[0][1]),C=new a5(b[1][0],b[1][1]);if(U.Type==0)N=new a5((N.x+C.x)/2,(N.y+C.y)/2);
Q.N.xD(N,C,new dC(0,0,1,1),n)}function k(U){var n=x(U);return{t:"Objc",v:Q.N.Ex({o:n[0]*255,P:n[1]*255,L:n[2]*255})}}function x(U){var n=U._col,a=U._type;
if(a=="HSLA"){var T=Q.a2(n[0],n[1],n[2]);return[T.o,T.P,T.L,n[3]]}else if(a=="RGBA")return n;else if(a=="CMYK"){var g=1-n[3];
return[(1-n[0])*g,(1-n[1])*g,(1-n[2])*g]}else if(a=="GRAY")return[n[0],n[1],n[2]];else{console.log(n);
throw a}}function j(U,n,a){var T=U.Frmt,d="";if(T!=0&&T!=4&&T!=6)throw T;var g=U.BmpW,D=U.BmpH,b=T==4?5:T==0?4:1,N=Math.ceil(g/256),C=Math.ceil(D/256),Z=new dC(0,0,N,C),S=new dC;
for(var P=0;P<b;P++){var u=new Uint8Array(U["Sta"+(P+1)]),p=Q.dM(u,Z);S=S.jB(p)}var f=[];for(var P=0;
P<b;P++){var u=new Uint8Array(U["Sta"+(P+1)]),l=Q.$(S.A());Q.b_(u,Z,l,S);f[P]=[];for(var A=0;A<l.length;
A++)f[P][A]=l[A];d+=JSON.stringify(f[P])+","+JSON.stringify(U["Idx"+(P+1)])+","}if(a[d]==null){var B=S.q*256,e=S.w*256,m=new Array(b);
for(var P=0;P<b;P++){var u=m[P]=new Uint8Array(B*e);v(u,U["Idx"+(P+1)],f[P],n,B,e)}var $=Q.$(B*e*4);
if(T==0)Q.tR({o:m[0],P:m[1],L:m[2],lV:m[3]},$);else if(T==4){for(var P=0;P<m[0].length;P++){var V=P*4,H=m[0][P]*(1/255),F=m[1][P]*(1/255),G=m[2][P]*(1/255),J=m[3][P]*(1/255),c=UDOC.C.cmykToRgb([H,F,G,J]);
$[V]=c[0]*255;$[V+1]=c[1]*255;$[V+2]=c[2]*255;$[V+3]=m[4][P]}}else{$.fill(255);Q.SU(m[0],$)}var r=new dC(0,0,B,e),s={buffer:$,rect:r};
Q.Hw(s);a[d]=[s.rect,s.buffer]}var p=a[d][2]=a[d][0].clone();p.x+=S.x*256;p.y+=S.y*256;return a[d]}function v(U,n,a,T,g,D){var b=0,N=g>>>8,C=D>>>8;
for(var Z=0;Z<C;Z++)for(var S=0;S<N;S++){var u=S*256,p=Z*256,f=Z*N+S,d=p*g+u,l=a[f];if(l<=1)_(U,d,0,g,256,256);
else if(l==2)_(U,d,4294967295,g,256,256);else if(l==4){var A=n[b];b++;var B=T[A.Data.DatI],e=A.Rect;
if(e==null)e=[0,0,256,256];_(U,d,0,g,256,256);L(U,(p+e[1])*g+u+e[0],B,e[1]*256+e[0],g,256,e[2]-e[0],e[3]-e[1])}else console.log(l)}}function _(U,n,a,T,g,D){var b=n+T*D;
for(;n<b;n+=T){var N=n+g;for(var C=n;C<N;C++){U[C]=a}}}function L(U,n,a,T,g,D,b,N){var C=n+g*N,Z=T+D*N;
for(;n<C&&T<Z;n+=g,T+=D){for(var P=0;P<b;P++)U[n+P]=a[T+P]}}return w}();function fE(){}fE.fM=function(w,I){var E=fE,X=ie.parse(w),i=0;
if(X.pages.length>1)console.log(X.pages.length,"pages");var o=[],h=new dC;for(var k=0;k<X.pages.length;
k++){var x=X.pages[k],j=x.layers,v=E.zK(j,k),L=!1;if(v.A()>8e3*8e3||v.q>3e4||v.w>3e4){E.yY(j,!0);var _=E.zK(j,k);
if(_.A()>=v.A())E.yY(j,!1)}v=E.zK(j,k);for(var U=0;U<j.length;U++){var n=j[U];if(E.VZ(n)=="artboard")L=!0}if(!L){console.log("no artboard");
var a={};for(var T in x)a[T]=x[T];a._class="group";x.layers=[a]}o.push(v.clone());if(v.qo())continue;
v.x=0;v.y=i;i+=v.w+200;h=h.jB(v)}var g={};if(X.foreignSymbols)for(var P=0;P<X.foreignSymbols.length;
P++){var D=X.foreignSymbols[P].symbolMaster;g[D.symbolID]={Af:D}}E.dE(X.pages,g,I);for(var b in g){var n=g[b].Af,N=E.Ir(n.layers)}var C=fE.pJ(h,8192*8192);
I.NZ=!0;I.q=Math.round(h.q/C);I.w=Math.round(h.w/C);I.buffer=Q.$(I.q*I.w*4);I.G0(X.pages[0].layers.length);
I.Ms={};I.xA=[];i=0;for(var k=0;k<X.pages.length;k++){var Z=X.pages[k],v=o[k],S=new am(C,0,0,C,v.x,v.y-i);
E.FC(Z.layers,I,S,X,g,{},[]);i+=v.w+200}delete I.Ms;delete I.xA;if(C!=1)alert("File scaled down "+C+"x");
I.a1N()};fE.a3U=0;fE.VZ=function(w){return w._class?w._class:w.$class};fE.pJ=function(w,I){var E=1;while(Math.round(w.q/E)*Math.round(w.w/E)>I||Math.max(Math.round(w.q/E),Math.round(w.w/E))>3e4)E++;
if(E!=1&&!window.confirm("Your image is quite large ("+w.q+" x "+w.w+" px).\n"+"Press OK to scale it down "+E+"x, or Cancel to keep the size."))E=1;
return E};fE.zK=function(w,I){var E=[],X=fE;for(var o=0;o<w.length;o++){var i=w[o],h=X.KU(i.frame);if(I==0||X.VZ(i)=="artboard")E.push(h)}return Q.rect.Ak(E)};
fE.yY=function(w,I){var E=[],X=fE;for(var o=0;o<w.length;o++){var i=w[o],h=X.KU(i.frame);h.q+=150;h.w+=150;
E.push(h)}var k=Q.rect.Ak(E);Q.rect.a0H(E,I);var x=Q.rect.Ak(E);if(x.A()*1.5<k.A()||k.q>3e4&&x.q<=3e4||k.w>3e4&&x.w<=3e4){alert("Re-arranging artboards");
for(var o=0;o<w.length;o++){var j=E[o],i=w[o],v=i.frame;v.x=j.x;v.y=j.y}}};fE.dE=function(w,I,E){var X=fE;
for(var o=0;o<w.length;o++){var i=w[o],h=X.VZ(i);if(["page","artboard","group"].indexOf(h)!=-1)X.dE(i.layers,I,E);
else if(h=="symbolMaster")I[i.symbolID]={Af:i}}};fE.Ir=function(w){var I=fE;for(var E=0;E<w.length;E++){var X=w[E],o=I.VZ(X),i=null;
if(["page","artboard","group"].indexOf(o)!=-1)i=I.Ir(X.layers);if(o=="symbolMaster"||o=="symbolInstance")i=X;
if(i!=null)return i}return null};fE.FC=function(w,I,E,X,o,i,h){var k=fE,x=[];for(var j=0;j<w.length;
j++){var v=w[j],_=v.frame?k.KU(v.frame):null,L=v.style,g="",S=null,u=!1;if(L==null){console.log("no styles")}var U=k.Ix(v,E),n=k.VZ(v),a=n=="shapeGroup"||n=="shapePath"||n=="rectangle"||n=="oval"||n=="triangle"||n=="polygon",T=["page","artboard","group"].indexOf(n)!=-1;
if(n=="shapeGroup"){for(var P=0;P<v.layers.length;P++)if(k.VZ(v.layers[P])=="shapeGroup")T=!0}var D=v.exportOptions;
if(D){var b=D.exportFormats;if(b==null)b=D.sizes;if(n!="artboard"&&(b&&b.length!=0)){var N=b[0].scale}}var C=I.XY();
C.Wz(v.isVisible);var Z=v.name;if(!(typeof Z=="string"))Z=n;C.G_(g+Z.slice(0,250));if(L!=null)S=k.a9M(X,I,L,_,U,C.getName(),a||n=="artboard"||T);
if(n=="rectangle"&&L&&L.fills&&L.fills[0]){var p=L.fills[0];if(p.fillType==4&&p.patternFillType>1&&p.image!=null)u=!0}if(v.shouldBreakMaskChain){while(x.length!=0)k.Zf(x.pop(),I)}if(T){C.add.lsct=v.layerListExpandedType==2?gs.Y_:gs.S2;
C.$B="pass";C.Bo=24;C.Wz(v.isVisible);I.b.push(I.Rf());if(n=="artboard"){var f=_.clone(),d=U.dA();f.x=-Math.floor(U.N9/d);
f.y=-Math.floor(U.Zt/d);f.q=Math.floor(f.q/d);f.w=Math.floor(f.w/d);C.CZ(f);var l=v.backgroundColor,A=l?{o:255*l.red,P:255*l.green,L:255*l.blue}:{o:255,P:255,L:255};
C.add.artb.Clr={t:"Objc",v:Q.N.Ex(A)};C.add.artb.artboardBackgroundType={t:"long",v:4}}k.FC(v.layers,I,U,X,o,i,h)}else if(a&&!u){C.add.vmsk=new K.DN;
C.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default));C.add.vstk.strokeEnabled.v=!1;var B=S!=null&&S.frameFXMulti.v.length==1,e=L?L.fills:null,m=L?k.uX(X,e,_,U,C.getName(),I,k.Xw(h,v.do_objectID+"_image")):[];
if(m.length==0){if(B)C.add.vstk.fillEnabled.v=!1;else C.add.iOpa=0;C.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.Ex({o:0,P:0,L:0})}}}else{var $=m[0],V=null,H=null;
if($.type=="SoFi"){V="SoCo";H=hL.y8}if($.type=="GrFl"){V="GdFl";H=hL.qT}if($.type=="patternFill"){V="PtFl";
H=hL.BK}if(V!=null){C.add[V]={classID:"null"};for(var P=0;P<H.length;P++){var F=H[P];C.add[V][F]=$.k.v[F]}var G=$.k.v.Opct.v.val;
if(B&&G==0)C.add.vstk.fillEnabled.v=!1;else C.add.iOpa=Math.round(255*G/100)}}C.Bo|=16;C.add.vmsk.j=k.oJ(v.layers?v.layers:[v],v.layers?U:E);
var J=L?L.blur:null;if(J&&J.isEnabled&&J.type<=1)C.add.vmsk.o6=J.radius;if(C.add.vmsk.j.length==2){console.log("shape with no content:",C.getName())}if(B){var c=S.frameFXMulti.v[0].v,r=C.add.vstk,s=L.borders[0];
S.frameFXMulti.v=[];aQ.avh(c,r);var z=L.borderOptions,Y=L.miterLimit;if(z){var ax=z.dashPattern;r.strokeStyleLineCapType.v.strokeStyleLineCapType=hL.Oq.zL[z.lineCapStyle];
r.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hL.Oq.join[z.lineJoinStyle];if(ax)r.strokeStyleLineDashSet.v=aQ.by(ax,1/c.Sz.v.val);
if(Y!=null)r.strokeStyleMiterLimit.v=Y}}C.QQ();C.kH(I)}else if(n=="bitmap"||u){if(!u&&v.image==null)continue;
var iW=u?L.fills[0]:null,y=u?iW.image.bdata:v.image.bdata,hm=I.ec(y,C.getName(),0,0);hm.Bo=C.Bo;C=hm;
var J=L?L.blur:null,t=L?L.colorControls:null;if(J||t){C.add.SoLd.filterFX=gD.WU();I.j2({id:C.add.SoLd.placed.v,rect:new dC,buffer:Q.$(1),D:new K._x});
var e=C.add.SoLd.filterFX.v.filterFXList.v;if(J){var cT=gD.j1("GsnB",{});cT.v.enab.v=J.isEnabled;cT.v.Fltr.v.Rds.v.val=J.radius;
e.push(cT)}if(t){var c4=t.brightness,kv=t.contrast,iL=t.hue,cr=t.saturation;if(iL!=0||cr!=1){var cT=gD.j1("hue2",{});
cT.v.enab.v=t.isEnabled;hj.kK(cT.v.Fltr.v,0,[Math.round(iL*180/Math.PI),Math.round((cr-1)*100),0]);e.push(cT)}if(c4!=0||kv!=1){var cT=gD.j1("brit",{});
cT.v.enab.v=t.isEnabled;kv=kv-1;if(kv>0)kv/=2;var ga=cT.v.Fltr.v;ga.Brgh.v=Math.round(c4*255);ga.Cntr.v=Math.round(kv*255);
ga.useLegacy.v=!0;e.push(cT)}}}if(u){var iq=iW.patternFillType;if(iq==3){var ei=C.rect.q/C.rect.w,hw=_.q/_.w;
if(ei<hw){U.translate(-(_.q*(1-ei/hw))/2,0);U.scale(hw/ei,1)}else{U.translate(0,-(_.w*(1-hw/ei))/2);
U.scale(1,ei/hw)}}}_.x=_.y=0;var hC=Q.p.sy(_).C;U.ja();Q.p.F(hC,U,hC);C.add.SoLd.Trnf=q.R.bd(hC);C.add.SoLd.nonAffineTransform=q.R.bd(hC);
C.vR(I,!1)}else if(n=="text"){if(v.attributedString==null)continue;var j5=U.clone(),ed,jn,h2=0;j5.ja();
j5.lV=j5.cA=Math.min(j5.lV,j5.cA);C.add.lnsr="rend";C.add.TySh=bQ.za(0,0);C.add.TySh.Wc=new dC(0,0,_.q,_.w);
C.add.TySh.F=j5;var fj=v.attributedString;if(fj.archivedAttributedString)fj=fj.archivedAttributedString;
var di=fj.NSString;if(di==null)di=fj.string;if(di==null)di="";if(di["NS.string"])di=di["NS.string"];
if(i[v.do_objectID]!=null)di=i[v.do_objectID];var b1=k.Xw(h,v.do_objectID+"_stringValue");if(b1)di=b1.value;
if(fj.attributes!=null){ed=[];jn=[];var dI=fj.attributes;for(var P=0;P<dI.length;P++){ed.push(dI[P].length,P);
jn.push(dI[P].attributes)}}else if(fj.NSAttributeInfo==null){ed=[di.length,0];jn=[fj.NSAttributes]}else{ed=fj.NSAttributeInfo["NS.data"];
jn=fj.NSAttributes;ed=fE.aoo(ed,jn)}for(var P=0;P<ed.length;P+=2)h2+=ed[P];if(h2!=di.length){while(h2>di.length){ed[ed.length-2]--;
h2--;if(ed[ed.length-2]==0){ed.pop();ed.pop()}}ed[ed.length-2]+=di.length-h2}di=di.replace(/\u2028/g,"\n");
di=di.replace(/\u2029/g,"\n");di=di.replace(/\r/g,"\n");var de=C.add.TySh.Da;bQ.fZ(de,0,di);if(di!=""){var ds=v.textBehaviour,jO=L.textStyle,gy=jO?jO.verticalAlignment:0,fV=k.al3(de,ed,jn,di),d=j5.dA(),hl=bQ.wg(de,0,1),hy=0;
if(hl.hd.Font){var im=hl.B0[hl.hd.Font].Name;if(im=="FontAwesome"||im=="Ionicons")fV*=.87}var eA=hl.hd.AutoLeading?0:hl.hd.Leading*.6,dm=Math.max(fV,eA)*d,hA=_.q,j2=_.w;
if(ds==0){bQ.Kv(de,0);var dQ=bQ.p3(hl.wo);if(dQ==1)hy=hA*d;if(dQ==2)hy=hA*d*.5;if(gy==0)dm*=1;else dm*=.9}else{bQ.Kv(de,1);
bQ.Nq(de,[0,0,Math.round(hA),Math.round(j2)]);if(ds==2&&gy==0)dm=dm*.2;else if(ds==2&&gy==1){dm=d*.5*(j2-hl.hd.FontSize)}else if(ds==1&&gy==0)dm=dm*.2;
else dm=dm*.35}C.add.TySh.F.translate(hy,dm)}}else if(n=="symbolInstance"||n=="symbolMaster"){var eh=v.symbolID;
if(i[v.do_objectID])eh=i[v.do_objectID].symbolID;var h_=k.Xw(h,v.do_objectID+"_symbolID");if(h_)eh=h_.value;
if(eh=="")continue;var h6={};for(var F in i)h6[F]=i[F];if(v.overrides)for(var F in v.overrides)h6[F]=v.overrides[F];
var b8=h.slice(0);if(v.overrideValues)b8=b8.concat(v.overrideValues);var b5=o[eh];if(b5==null){console.log("Unknown master master",v.symbolID);
continue}var ar=fE.KU(b5.Af.frame),cG=ar.q/_.q,bd=ar.w/_.w,aZ=U.clone();aZ.scale(cG,bd);C.add.lsct=gs.S2;
C.$B="pass";C.Bo=24;C.Wz(v.isVisible);I.b.push(I.Rf());var gl=b5.Af;if(I.xA.indexOf(gl)==-1){I.xA.push(gl);
k.FC(gl.layers,I,aZ,X,o,h6,b8);I.xA.pop()}}else if(n=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+n,v);continue}if(L&&L.contextSettings){var ci=L.contextSettings,a7=ci.blendMode;
if(a7<k.JQ.length){C.$B=hH.H1[hH.zg.indexOf(k.JQ[a7])];if(T&&C.$B=="norm")C.$B="pass"}C.opacity=Math.round(C.opacity*ci.opacity)}if(S!=null){C.add.lmfx=S}I.b.push(C);
if(v.hasClippingMask&&w.length>1){x.push(C);I.b.push(I.Rf())}}while(x.length!=0)k.Zf(x.pop(),I)};fE.Xw=function(w,I){for(var P=0;
P<w.length;P++)if(w[P].overrideName.startsWith(I))return w[P]};fE.aoo=function(w,I){var E=0,X=[];while(E+1<w.length){var o=w[E];
E++;if(o>127){o+=128*(w[E]-1);E++;if(w[E-1]>127){o+=128*(w[E]-1);E++}}var i=w[E];E++;X.push(o,i)}return X};
fE.al3=function(w,I,X,o){var i=fE,h=0,_=0,L=0;for(var P=0;P<o.length;P++){var k=o.charCodeAt(P),x=1473<=k&&k<=1479||1488<=k&&k<=1514||1520<=k&&k<=1524,j=1569<=k&&k<=1594||1600<=k&&k<=1749;
if(x||j)h++}var v=h>o.length/2;for(var P=0;P<I.length;P+=2){var U=I[P],Z=14,S="DejaVuSans";if(U==0)continue;
var n=I[P+1],a=X[n],T=bQ.wg(w,_,_+U-1),g=a.NSColor;if(g==null){var g=a.MSAttributedStringColorDictionaryAttribute;
if(g==null)g=a.MSAttributedStringColorAttribute;if(g==null)g="0 0 0";else g=[g.red,g.green,g.blue].join(" ")}else if(i.VZ(g)=="MSArchivedColor")g=g.dr+" "+g.dg+" "+g.db;
else if(g.NSRGB){g=g.NSRGB;g=M.jz(g,0,g.length-1)}else if(g.NSCMYK){g=g.NSCMYK;g=M.jz(g,0,g.length-1);
g=g.split(" ").map(parseFloat);var D=1-g[0],b=1-g[1],N=1-g[2],C=1-g[3];g=D*C+" "+b*C+" "+N*C}else if(g.NSWhite){g="1 1 1"}g=g.split(" ");
T.hd.FillColor={Type:1,Values:[1,parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])]};var u=a.MSAttributedStringFontAttribute;
if(a.NSFont){Z=a.NSFont.NSSize;S=a.NSFont.NSName}else if(u){if(u.attributes){u=u.attributes;Z=u.size;
S=u.name}else{var p=u.NSFontDescriptorAttributes;if(p==null)p=u.UIFontDescriptorAttributes;u=p;Z=u.NSFontSizeAttribute;
S=u.NSFontNameAttribute}if(S==null)S="DejaVuSans"}var L=Math.max(L,Z);T.hd.FontSize=Math.round(Z);bQ.Ab(T,S);
var f=a.NSKern;if(f==null)f=a.kerning;if(f!=null)T.hd.Tracking=Math.round(1e3*f/Z);if(a.NSUnderline!=null)T.hd.Underline=a.NSUnderline>0;
var d=a.NSStrikethrough;if(d==null)d=a.strikethroughStyle;if(d!=null)T.hd.Strikethrough=d>0;if(a.MSAttributedStringTextTransformAttribute==1)T.hd.FontCaps=2;
var l=a.NSParagraphStyle;if(l==null)l=a.paragraphStyle;if(l){var A=l.paragraphSpacing;if(A!=null){T.wo.SpaceAfter=A}var B=l.NSAlignment;
if(B==null)B=l.alignment;if(B!=null){var e=0;if(!1){}else if(B==1)e=1;else if(B==2)e=2;else if(B==4)e=0;
else{e=B;console.log("unknown align",B)}if(v&&e<2)e=1-e;T.wo.Justification=e}var m=l.NSMinLineHeight;
if(m==null)m=l.minimumLineHeight;if(m!=null){T.hd.AutoLeading=!1;T.hd.Leading=m}}T.wo._Direction=v?1:0;
bQ.JF(w,_,_+U,T);_+=U}return L};fE.a9M=function(w,I,E,X,o,i,h){var k=fE,x=JSON.parse(hL.default),j=!1;
for(var P=0;P<hL.order.length;P++)x[hL.JR[P]]={t:"VlLs",v:[]};var v=E.fills,_=k.uX(w,v,X,o,i,I);for(var L=0;
L<2;L++){var U=E[["shadows","innerShadows"][L]];if(U==null)continue;var n=["DrSh","IrSh"][L],a=hL.JR[hL.order.indexOf(n)];
for(var P=0;P<U.length;P++){var T=U[P];if(!T.isEnabled)continue;if(T.contextSettings.opacity==0||T.color.alpha==0)continue;
var g=JSON.parse(hL.zd[hL.order.indexOf(n)]);x[a].v.unshift({t:"Objc",v:g});j=!0;g.Clr.v=k.V5(T.color);
g.blur.v.val=Math.round(T.blurRadius/o.dA());var D=o.clone();D.N9=D.Zt=0;D.ja();var b=D.kG(new a5(T.offsetX,T.offsetY)),N=Math.sqrt(b.x*b.x+b.y*b.y);
g.Dstn.v.val=Math.round(N);g.lagl.v.val=Math.round(Math.atan2(b.y,-b.x)*(180/Math.PI));if(g.layerConceals)g.layerConceals.v=_.length!=0;
k.Rw(T,g)}}var C=E.borders;if(C!=null&&(_.length==0||E.blur==null||!E.blur.isEnabled))for(var P=0;P<C.length;
P++){var Z=C[P];if(!Z.isEnabled)continue;var g=JSON.parse(hL.zd[hL.order.indexOf("FrFX")]),a=hL.JR[hL.order.indexOf("FrFX")];
x[a].v.unshift({t:"Objc",v:g});j=!0;g.Clr.v=k.V5(Z.color);if(Z.fillType!=0&&Z.gradient){var S=k.bk(Z.gradient,X,o,i),u=["Type","Angl","Ofst","Scl"];
for(var P=0;P<u.length;P++)g[u[P]]=S[u[P]];g.Grad.v=S.Grad.v;g.PntT.v.FrFl="GrFl"}g.Sz.v.val=Z.thickness/o.dA();
g.Styl.v.FStl=["CtrF","InsF","OutF"][Z.position];k.Rw(Z,g)}for(var P=h?1:0;P<_.length;P++){var p=_[P],a=hL.JR[hL.order.indexOf(p.type)];
x[a].v.unshift(p.k);j=!0}return j?x:null};fE.uX=function(w,I,E,X,o,i,h){if(I==null)return[];var k=fE,x=[];
for(var P=0;P<I.length;P++)if(I[P].isEnabled)x.push(I[P]);I=x;var j=[];for(var P=0;P<I.length;P++){var v=I[P],_=null,L=null;
if(v.fillType==0){_="SoFi";var U=JSON.parse(hL.zd[hL.order.indexOf("SoFi")]);L={t:"Objc",v:U};L.v.Clr.v=k.V5(v.color)}else if(v.fillType==1){_="GrFl";
L={t:"Objc",v:k.bk(v.gradient,E,X,o)}}else if(v.fillType==4&&v.image!=null){var n=v.image;if(h)n=h.value;
var a=gt.mq(n.bdata.buffer);if(a!=null&&a!="pdf"&&a!="eps"){var T,Z=0,S=0,u=0;if(i.Ms[n.key])T=i.Ms[n.key];
else{var g=gt.FB(a).CE(n.bdata)[0],D=g.WG.clone();T={};T.id=hg.Mz()+"-d71c-11e5-b1ae-a548a96e5f9f";T.name="someImage";
T.IZ=[new Uint8Array(g.data),D];i.kj(T);i.Ms[n.key]=T}var b=T.IZ[1],U=JSON.parse(hL.zd[hL.order.indexOf("patternFill")]);
_="patternFill";L={t:"Objc",v:U};var N=v.patternFillType,C=v.patternTileScale;U.Algn.v=!0;U.Ptrn.v.Idnt.v=T.id;
if(N==0){Z=C*b.q/Math.min(b.q,b.w);S=-X.N9;u=-X.Zt}else{Z=Math.max(E.q/b.q,E.w/b.w);S=-X.N9-(b.q*Z-E.q)/2;
u=-X.Zt-(b.w*Z-E.w)/2}U.Scl.v.val=100*Z*(1/X.dA());U.phase.v.Hrzn.v=Math.round(S/X.dA());U.phase.v.Vrtc.v=Math.round(u/X.dA())}}else if(v.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",v.fillType);
if(_!=null){k.Rw(v,L.v);j.push({type:_,k:L})}}return j};fE.avj=function(w){var I=fE,E=new dC(0,0,1,1);
w=w.slice(0);while(!0){var X=!1;for(var P=0;P<w.length-1;P++){var o=w[P],i=w[P+1],h=null,k=o.contextSettings;
if(o.fillType==0&&(k==null||k.opacity==1&&k.blendMode==0)&&o.color.alpha==1){var x="norm",j=1,k=i.contextSettings;
if(k){j=k.opacity;x=hH.yk(I.JQ[k.blendMode])}if(i.fillType==0){h=JSON.parse(JSON.stringify(i));I.bq(h.color,o.color,h.color,E,x,j)}if(i.fillType==1){h=JSON.parse(JSON.stringify(i));
var v=h.gradient.stops;for(var _=0;_<v.length;_++)I.bq(v[_].color,o.color,v[_].color,E,x,j)}if(h!=null&&h.contextSettings){var k=h.contextSettings;
k.opacity=1;k.blendMode=0}}if(h!=null){w.splice(P,0,h);X=!0;break}}if(!X||w.length<2)break}return w};
fE.bq=function(w,I,E,X,o,i){var h=fE,k=Q.$(4);h.qL(w,k);var x=Q.$(4);h.qL(I,x);Q.e.gF(o,k,X,x,X,X,i);
h.afv(x,E)};fE.qL=function(w,I){I[0]=255*w.red;I[1]=255*w.green;I[2]=255*w.blue;I[3]=255*w.alpha};fE.afv=function(w,I){I.red=w[0]/255;
I.green=w[1]/255;I.blue=w[2]/255;I.alpha=w[3]/255};fE.Zf=function(w,I){w=w.clone();w.Bo=24;w.G_("Mask by "+w.getName());
I.b.push(w);w.add.lsct=gs.Y_;w.add.lyid=I.oX();delete w.add.lmfx;delete w.add.SoCo;delete w.add.GdFl;
delete w.add.PtFl;delete w.add.iOpa;if(w.add.vmsk)w.add.vmsk.$o=!0;w.QQ();w.kH(I);if((w.Bo&16)==16)w.Bo-=16;
if((w.Bo&2)==2)w.Bo-=2;w.$B="pass";w.opacity=255};fE.JQ="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
fE.bk=function(w,I,E,X){E=E.clone();E.ja();E.N9=E.Zt=0;var o=E.dA(),L=0,U=0;E.scale(1/o,1/o);var i=fE,h=JSON.parse(hL.zd[hL.order.indexOf("GrFl")]),k=h.Grad.v;
k.Intr.v=0;if(w==null)return h;var x=w.gradientType,j=i.Fs(w.from),v=i.Fs(w.to);j.offset(-.5,-.5);v.offset(-.5,-.5);
j=E.kG(j);v=E.kG(v);var _=Math.atan2(-(v.y-j.y),v.x-j.x);h.Type.v.GrdT=["Lnr","Rdl","Angl"][x];h.Scl.v.val=100*a5.GZ(j,v);
if(x==0){h.Angl.v.val=180/Math.PI*_;h.Scl.v.val=100*a5.GZ(j,v);L=(j.x+v.x)/2;U=(j.y+v.y)/2}if(x==1){h.Scl.v.val=200*a5.GZ(j,v);
L=j.x;U=j.y}if(x==2){h.Angl.v.val=180/Math.PI*(_-Math.PI/2)}var n=h.Ofst.v;n.Hrzn.v.val=L*100;n.Vrtc.v.val=U*100;
var a=[];for(var P=0;P<w.stops.length;P++){var T=w.stops[P],g=T.color;a.push([T.position,g?[g.red,g.green,g.blue]:[0,0,0],g.alpha])}Q.N.GL(a,k);
return h};fE.Rw=function(w,I){var E=fE,X=1,o=w.contextSettings;if(o!=null){I.Md.v.BlnM=E.JQ[o.blendMode];
X*=o.opacity}else I.Md.v.BlnM=E.JQ[0];I.enab.v=w.isEnabled;if(I.uglg!=null)I.uglg.v=!1;if(w.color!=null)X*=w.color.alpha;
I.Opct.v.val=Math.round(X*100)};fE.V5=function(w){return Q.N.Ex(w?{o:w.red*255,P:w.green*255,L:w.blue*255}:{o:0,P:0,L:0})};
fE.oJ=function(w,I){var E=fE,X=[{type:6},{type:8,all:0}];for(var o=0;o<w.length;o++){var i=w[o],h=i.booleanOperation,k=0,x=i._class,n=!1;
if(x=="group"||x=="text"||x=="symbolInstance"||x=="slice"){console.log(x+" inside ShapeGroup");continue}if(h==-1)k=0;
else if(h==0)k=1;else if(h==1)k=2;else if(h==2)k=3;else if(h==3)k=0;if(o==0)k=1;var j=fE.KU(i.frame),v=E.Ix(i,I),_=i.path?i.path:i,L=[{type:0,length:0,KP:k,mr:2,ad:0,Lk:0}],U=_.points;
for(var P=0;P<U.length;P++){var a=U[P],T=E.Fs(a.curveTo),g=E.Fs(a.point),D=E.Fs(a.curveFrom);n=n||a.hasCurveFrom&&!D.ZQ(g)||a.hasCurveTo&&!T.ZQ(g)}var b=[];
if(!n){var N=[],eS=U.length;if(eS==0)continue;for(var P=0;P<eS;P++){b[P]=U[P].cornerRadius;var a=E.Fs(U[P].point);
N.push(a.x,a.y)}v.scale(1/j.q,1/j.w);v.ja();Q.p.F(N,v,N);L=Q.O.cw.Tv(N,b).slice(2);L[0].KP=k}else{var C=U.length;
L[0].length=C;for(var P=0;P<C;P++){var a=U[P],Z=a.curveMode,S=E.Fs(a.point);L[1+P]={type:Z==2||Z==4?1:2,DX:a.hasCurveTo?E.Fs(a.curveTo):S.clone(),H:S,kk:a.hasCurveFrom?E.Fs(a.curveFrom):S.clone()}}v.scale(1/j.q,1/j.w);
v.ja();Q.O.yJ(L,v);var b=[];for(var P=0;P<C;P++){var a=U[P],Z=a.curveMode,u=a.cornerRadius;if(Z==1&&u!=0)b.push(u);
else b.push(0)}}if(!_.isClosed)for(var P=0;P<L.length;P++)L[P].type+=3;X=X.concat(L);var p=E.VZ(i);if(v.L==0&&v.I5==0){var f=v.N9,d=v.Zt,l=f+v.lV,A=d+v.cA,B=[f,d,l,A]}}return X};
fE.Ix=function(w,I){var E=I.clone(),X=w.frame?fE.KU(w.frame):null;if(X)E.translate(-X.x-X.q/2,-X.y-X.w/2);
if(w.isFlippedHorizontal)E.scale(-1,1);if(w.isFlippedVertical)E.scale(1,-1);E.rotate(-w.rotation*(Math.PI/180));
if(X)E.translate(X.q/2,X.w/2);return E};fE.Fs=function(w){w=w.slice(1,w.length-1).split(",");return new a5(parseFloat(w[0]),parseFloat(w[1]))};
fE.KU=function(w){return new dC(w.x,w.y,w.width,w.height)};fE.ql=function(w){return{_class:"rect",constrainProportions:!1,x:w.x,y:w.y,width:w.q,height:w.w}};
function h5(){}h5.fM=function(w,I){var E=Date.now(),X=h5,o=UZIP.parse(w),i=JSON.parse(M.YV(o.manifest)),h=JSON.parse(M.YV(o["resources/graphics/graphicContent.agc"])).resources,k=[],x=[],j=i.children;
for(var P=0;P<j.length;P++){var v=j[P];if(v.name=="artwork"){var _=v.children;for(var L=0;L<_.length;
L++){var U=_[L],n=JSON.parse(M.YV(o["artwork/"+U.path+"/graphics/graphicContent.agc"])),a=n.children;
if(a.length==0){}else if(a.length==1){if(U["uxdesign#bounds"]){U._node=a[0];k.push(U)}}else{var T=a[0],g=T.transform,D=T.shape;
if(D==null)D={x:0,y:0,width:1e3,height:1e3};if(D.type=="path"){var b=Q.p.uh(Typr.U.SVGToPath(D.path).crds);
D={x:b.x,y:b.y,width:b.q,height:b.w}}D=JSON.parse(JSON.stringify(D));if(g){D.x+=g.tx;D.y+=g.ty}U["uxdesign#bounds"]=D;
U._node={type:"artboard",artboard:{children:a}};x.push(U)}}}}if(k.length==0)k=x;var N=[],C=new dC;for(var P=0;
P<k.length;P++){var U=k[P],Z=fE.KU(U["uxdesign#bounds"]);N.push(Z);C=C.jB(Z)}var S=fE.pJ(C,8192*8192);
I.NZ=!0;I.q=Math.round(C.q/S);I.w=Math.round(C.w/S);I.buffer=Q.$(I.q*I.w*4);I.G0(k.length);var u=new am(S,0,0,S,C.x,C.y);
I.Ms={};for(var P=0;P<k.length;P++){var U=k[P],Z=fE.KU(U["uxdesign#bounds"]),p=U._node,f=u.clone(),d=Z.clone(),l=f.dA();
f.translate(-Z.x,-Z.y);d.x=-Math.floor(f.N9/l);d.y=-Math.floor(f.Zt/l);d.q=Math.floor(d.q/l);d.w=Math.floor(d.w/l);
f.translate(Z.x,Z.y);h5.eR(p,I,f,h,o,d);var A=I.b[I.b.length-1];A.G_(U.name);A.CZ(d);if(P!=k.length-1)A.add.lsct=gs.S2}delete I.Ms};
h5.RO=function(w){if(w==null)return new am;return new am(w.a,w.b,w.c,w.d,w.tx,w.ty)};h5.eR=function(w,I,E,X,o,i){var h=h5,k=w.type,x=w[k],j=w.style,v=h.RO(w.transform),n,a="none",T,g="none",D,b;
v.ja();var _=E.clone();_.concat(v);var L=I.XY(),U=w.name;L.G_(U?U.slice(0,250):"Layer");if(w.visible!=null)L.Wz(w.visible);
if(j){n=j.stroke;a=n?n.type:"none";T=j.fill;g=T?T.type:"none";D=j.filters;b=j.clipPath;if(b&&X.clipPaths[b.ref])b=X.clipPaths[b.ref].children;
else b=null;if(j.opacity)L.opacity=Math.round(255*j.opacity);if(g=="solid"&&T.color.alpha)L.opacity=Math.round(L.opacity*T.color.alpha);
if(D){L.add.lmfx=h.a7Y(D);for(var P=0;P<D.length;P++)if(D[P].type=="uxdesign#blur"){var N=D[P],C=N.params,Z=C.brightnessAmount;
if(Z==null)Z=0;Z=Math.abs(Z/100);if((N.visible==null||N.visible==!0)&&C.backgroundEffect)L.opacity=Math.round(L.opacity*(Z+(1-Z)*C.fillOpacity))}}if(g=="pattern"&&T.pattern.meta.ux.uid=="")g="none"}if(b==null&&w.meta&&w.meta.ux&&w.meta.ux.clipPathResources)b=w.meta.ux.clipPathResources.children;
if(k=="artboard"||k=="group"){if(b){var S=b[0],u=S.shape,p=u!=null&&u.type=="rect"&&u.width*u.height>1e6;
if(S.type!="text"&&!p){if(u){var v=h.RO(S.transform);v.ja();var f=_.clone();f.concat(v);L.add.vmsk=new K.DN;
L.add.vmsk.j=h.oJ(u);f=f.clone();f.ja();Q.O.yJ(L.add.vmsk.j,f);L.QQ();L.kH(I)}}else if(!p)alert("Clipping by text has been ignored")}L.add.lsct=gs.Y_;
L.$B="pass";L.Bo=24;if(w.visible!=null)L.Wz(w.visible);I.b.push(I.Rf());var d=x.children,l=T;if(l)l=l.color;
if(l)l=l.value;if(T){if(k=="artboard"&&g=="solid"){L.CZ(new dC(0,0,10,10));L.add.artb.Clr={t:"Objc",v:Q.N.Ex({o:l.r,P:l.g,L:l.b})};
L.add.artb.artboardBackgroundType={t:"long",v:4}}else{var A=I.XY();A.G_("BACKGROUND");A.Bo|=16;A.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default));
A.add.vmsk=new K.DN;A.add.vmsk.j=h.oJ({type:"rect",x:i.x,y:i.y,width:i.q,height:i.w});h.We(T,g,_,i,i,A,I,X,o);
A.QQ();A.kH(I);I.b.push(A)}}for(var P=0;P<d.length;P++){h5.eR(d[P],I,_,X,o,i)}}else if(k=="shape"&&(x.type=="rect"&&(x.r==null||x.r==0)||x.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(x.path)))&&g=="pattern"&&(Math.abs(x.width/x.height-T.pattern.width/T.pattern.height)<.01||j.fill.pattern.meta.ux.scaleBehavior=="fill")){var B=T.pattern,e=B.meta.ux,m=e.uid,$=o["resources/"+m];
if($==null){console.log(B);return}var V=I.ec($,L.getName(),0,0);V.Bo=L.Bo;V.opacity=L.opacity;L=V;var H=Q.O.sM(h.oJ(x),null),F=Q.p.sy(new dC(0,0,B.width,B.height)).C,G=new am;
G.scale(B.width/H.q,B.height/H.w);if(e.offsetX)G.translate(-e.offsetX*B.width,0);if(e.offsetY)G.translate(0,-e.offsetY*B.height);
_.concat(G);_.ja();Q.p.F(F,_,F);L.add.SoLd.Trnf=q.R.bd(F);L.add.SoLd.nonAffineTransform=q.R.bd(F);L.vR(I,!1)}else if(k=="shape"){L.Bo|=16;
L.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default));L.add.vmsk=new K.DN;L.add.vmsk.j=h.oJ(x);var H=Q.O.sM(L.add.vmsk.j,null),f=_.clone();
f.ja();Q.O.yJ(L.add.vmsk.j,f);var J=Q.O.sM(L.add.vmsk.j,null);if(a=="none"){}else{var c=n.color.value,r,s;
r="SoFi";var z=JSON.parse(hL.zd[hL.order.indexOf("SoFi")]);s={t:"Objc",v:z};s.v.Clr.v=Q.N.Ex({o:c.r,P:c.g,L:c.b});
var Y=n.align,ax=n.cap;if(Y==null)Y="center";var iW=L.add.vstk;iW.strokeEnabled.v=!0;iW.strokeStyleLineWidth.v.val=n.width;
if(Y)iW.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hL.Oq.hN[["inside","center","outside"].indexOf(Y)];
if(ax)iW.strokeStyleLineCapType.v.strokeStyleLineCapType=hL.Oq.zL[["butt","round","square"].indexOf(ax)];
var y=["SoFi","GrFl","patternFill"].indexOf(r),hm=[hL.y8,hL.qT,hL.BK][y];iW.strokeStyleContent.v={classID:hL.Oq.m9[0]};
var t=iW.strokeStyleContent.v={classID:hL.Oq.m9[y]};for(var P=0;P<hm.length;P++)t[hm[P]]=s.v[hm[P]]}if(D)for(var P=0;
P<D.length;P++)if(D[P].type=="uxdesign#blur"&&D[P].visible){var cT=D[P];L.add.vmsk.o6=cT.params.blurAmount}h.We(T,g,_,H,J,L,I,X,o);
L.QQ();L.kH(I)}else if(k=="text"&&w.text){var c4=w.text,kv=c4.frame,iL=j.font,cr=j.textAttributes,v=_.clone(),j5=0;
v.ja();L.add.lnsr="rend";L.add.TySh=bQ.za(0,0);L.add.TySh.Wc=new dC(0,0,100,100);L.add.TySh.F=v;var ga=L.add.TySh.Da,iq=c4.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
bQ.fZ(ga,0,iq);if(iq!=""){var ei=bQ.wg(ga,0,1),hw=iL.postscriptName;if(hw==null)hw=iL.family;bQ.Ab(ei,hw);
ei.hd.FontSize=Math.round(iL.size);if(T){var c=T.color.value;ei.hd.FillColor={Type:1,Values:[1,c.r/255,c.g/255,c.b/255]}}if(cr){if(cr.paragraphAlign)ei.wo.Justification=["left","right","center"].indexOf(cr.paragraphAlign);
if(cr.letterSpacing)ei.hd.Tracking=Math.round(cr.letterSpacing);if(cr.lineHeight){ei.hd.AutoLeading=!1;
ei.hd.Leading=Math.round(cr.lineHeight)}}bQ.JF(ga,0,iq.length,ei)}var hC=w.meta.ux.rangedStyles;if(hC)for(var P=0;
P<hC.length;P++){var x=hC[P],ed=Math.min(x.length,iq.length-j5);if(P==hC.length-1)ed=iq.length-j5;var ei=bQ.wg(ga,j5,j5+ed),hw=x.postscriptName;
if(hw==null)hw=x.family;if(hw!=null)bQ.Ab(ei,hw);var jn=x.textScript,fj=x.underline,di=x.fontSize,N=x.fill,b1=x.textTransform;
if(jn&&jn!="none")ei.hd.FontBaseline=jn=="superscript"?1:2;if(fj!=null)ei.hd.Underline=fj;if(di!=null)ei.hd.FontSize=Math.round(di);
if(b1!=null)ei.hd.FontCaps=b1=="uppercase"?2:0;if(b1=="lowercase"){bQ.tb(ga,j5,j5+ed);bQ.fZ(ga,j5,iq.slice(j5,j5+ed).toLowerCase())}if(N!=null){var dI=N.value;
ei.hd.FillColor={Type:1,Values:[1,(dI>>>16&255)/255,(dI>>>8&255)/255,(dI>>>0&255)/255]}}bQ.JF(ga,j5,j5+ed,ei);
j5+=ed}if(kv.type=="area"||kv.type=="autoHeight"){var h2=kv.width,de=kv.height;bQ.Kv(ga,1);bQ.Nq(ga,[0,0,h2,de!=null?de:h2*2])}}else if(k=="syncRef"){var ds=w.syncSourceGuid,jO=X.meta.ux.symbols,gy=h.RL(jO,ds);
if(gy){var hl=_.clone();hl.concat(h.RO(gy.transform));h5.eR(gy,I,hl,X,o,i)}return}else console.log(k,w);
I.b.push(L)};h5.RL=function(w,I){for(var P=0;P<w.length;P++){var E=w[P],X=E.group;if(E.id==I)return E;
if(X){var o=h5.RL(X.children,I);if(o)return o}}return null};h5.oJ=function(w){var I=w.type,E=[{type:6},{type:8,all:0}];
if(I=="rect"){var X=w.r,o=w.x,i=w.y,h=w.width,k=w.height;E=Q.O.cw.Rect(o,i,h,k,X?X:0)}else if(I=="circle"){var X=w.r;
E=Q.O.cw.z9(w.cx-X,w.cy-X,2*X,2*X)}else if(I=="ellipse"){var x=w.rx,j=w.ry;E=Q.O.cw.z9(w.cx-x,w.cy-j,2*x,2*j)}else if(I=="path"||I=="compound"){var v=Typr.U.SVGToPath(w.path);
E=Q.p.PY({J:v.cmds,C:v.crds},!1)}else if(I=="line"){var _=w.x1,L=w.x2,U=w.y1,n=w.y2;E=Q.O.cw.Tv([_,U,L,n],0,!0)}else if(I=="polygon"){var a=w.points,T=[];
for(var P=0;P<a.length;P++)T.push(a[P].x,a[P].y);E=E.concat(Q.O.cw.Tv(T,0,!1).slice(2))}else console.log(I,w);
return E};h5.a7Y=function(w){var I=JSON.parse(hL.default);for(var P=0;P<hL.order.length;P++)I[hL.JR[P]]={t:"VlLs",v:[]};
for(var P=0;P<w.length;P++){var E=w[P],X=E.type,o=E.params,i=E.visible;if(X=="dropShadow"){var h=hL.JR[hL.order.indexOf("DrSh")],k=JSON.parse(hL.zd[hL.order.indexOf("DrSh")]);
I[h].v.unshift({t:"Objc",v:k});var x=o.dropShadows;if(x.length!=1)throw"e";var j=x[P],v=j.color,_=v.value,L=j.dx,U=j.dy;
k.Clr.v=Q.N.Ex({o:_.r,P:_.g,L:_.b});k.Opct.v.val=Math.round((v.alpha!=null?v.alpha:1)*100);k.uglg.v=!1;
k.enab.v=i!=null?i:!0;k.lagl.v.val=Math.round(180/Math.PI*Math.atan2(U,-L));k.Dstn.v.val=Math.round(Math.sqrt(L*L+U*U));
k.blur.v.val=Math.round(j.r*2.3)}}return I};h5.We=function(w,I,E,X,o,i,h,k,x){var j=h5;if(I=="none"){i.add.vstk.fillEnabled.v=!1;
i.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.Ex({o:0,P:0,L:0})}}}else{var v,_,L;if(I=="solid"){var U=w.color.value;
v="SoCo";_=hL.y8;var n=JSON.parse(hL.zd[hL.order.indexOf("SoFi")]);L={t:"Objc",v:n};L.v.Clr.v=Q.N.Ex({o:U.r,P:U.g,L:U.b})}else if(I=="gradient"){v="GdFl";
_=hL.qT;var n=JSON.parse(hL.zd[hL.order.indexOf("GrFl")]),a=n.Grad.v,N,C,Z;a.Intr.v=0;var T=w[I],g=T.ref?k.gradients[T.ref]:T.meta.ux.gradientResources,D=["linear","radial","angular"].indexOf(g.type),b=g.stops;
n.Type.v.GrdT=["Lnr","Rdl","Angl"][D];if(D==0){var N=new a5(T.x1,T.y1),C=new a5(T.x2,T.y2);N.x=C.x+.5*(N.x-C.x);
N.y=C.y+.5*(N.y-C.y)}else{var N=new a5(T.cx,T.cy),C=new a5(T.cx+T.r,T.cy)}Z=o;if(T.units=="objectBoundingBox"){var S=new am(X.q,0,0,X.w,X.x,X.y);
N=S.kG(N);C=S.kG(C)}var S=j.RO(T.transform);N=S.kG(N);C=S.kG(C);S=E.clone();S.ja();N=S.kG(N);C=S.kG(C);
Q.N.xD(N,C,Z,n);var u=[];for(var P=0;P<b.length;P++){var p=b[P],f=p.color,U=f.value,d=f.alpha;if(d==null)d=1;
u.push([p.offset,[U.r/255,U.g/255,U.b/255],d])}Q.N.GL(u,a);L={t:"Objc",v:n}}else if(I=="pattern"){v="PtFl";
_=hL.BK;var n=JSON.parse(hL.zd[hL.order.indexOf("patternFill")]),F;L={t:"Objc",v:n};var l=w[I],A=l.meta.ux,B=A.uid,e=x["resources/"+B].buffer,m=A.flipX,$=A.flipY,V=B+m+$,H=gt.mq(e);
if(h.Ms[V])F=h.Ms[V];else{var G=new dC(0,0,l.width,l.height),J;if(G.qo()||H==null){G=new dC(0,0,1,1);
J=new ArrayBuffer(4)}else{var c=gt.FB(H);if(c.RJ){var r=new hg;c.CE(e,r);J=r.sQ().buffer}else{try{var s=c.CE(e)[0];
J=s.data;G=s.WG}catch(df){J=new ArrayBuffer(G.A()*4)}}}F={};F.id=hg.Mz()+"-d71c-11e5-b1ae-a548a96e5f9f";
F.name="someImage";F.IZ=[new Uint8Array(J),G];if(m)Q.K.wa(F.IZ[0].slice(0),F.IZ[0],G.q,G.w);if($)Q.K.a7w(F.IZ[0].slice(0),F.IZ[0],G.q,G.w);
h.kj(F);h.Ms[V]=F}var z=E.clone();z.ja();z.translate(X.x,X.y);var Y=X.q,ax=X.w,iW=F.IZ[1].q,y=F.IZ[1].w,hm=Math.max(Y/iW,ax/y);
if(A.scale)hm*=A.scale;var t=new am;t.translate(-iW/2,-y/2);t.scale(1/iW,1/y);if(A.offsetX!=null)t.translate(A.offsetX,A.offsetY);
t.scale(iW,y);t.scale(hm,hm);t.translate(Y/2,ax/2);t.concat(z);aQ.a2l(F,n,0,0,1e3,t)}else console.log(I);
if(v!=null){i.add[v]={classID:"null"};for(var P=0;P<_.length;P++){var cT=_[P];i.add[v][cT]=L.v[cT]}}}};
function i1(){}i1.fM=function(w,I,E){w=new Uint8Array(w);var X=M.YV(w,0,w.length),o=new DOMParser,i=o.parseFromString(X,"image/svg+xml"),h=i.getElementsByTagName("style")[0],U=1;
if(h)h=Typr.U.SVG.cssMap(h.textContent);else h={};var k=i.firstChild;while(k.tagName!="svg")k=k.nextSibling;
var x=new dC(0,0,100,100),j=k.getAttribute("viewBox"),v=k.getAttribute("width"),_=k.getAttribute("height");
if(j){var L=i1.uu(j);x.x=L[0];x.y=L[1];x.q=L[2];x.w=L[3]}else if(v!=null||_!=null){x.q=v!=null?parseFloat(v):parseFloat(_);
x.w=_!=null?parseFloat(_):parseFloat(v)}x=Q.p.i1(x);while(E&&Math.max(x.q*U,x.w*U)<Math.max(E[0],E[1]))U++;
while(E==null&&Math.max(x.q,x.w)*U>8192)U*=.5;I.NZ=!0;I.q=~~(x.q*U);I.w=~~(x.w*U);I.buffer=Q.$(I.q*I.w*4);
var n=new am(U,0,0,U,-x.x*U,-x.y*U),a={C$:i1.Vv(k),a0L:h,v_:0};i1._z(i,k.children,I,n,a,new am,0);if(I.b.length==0){var T=I.XY();
T.G_("Layer");I.b.push(T)}};i1.uu=function(w){var I=" ";if(w.indexOf(",")!=-1)I=",";return w.split(I).map(parseFloat)};
i1._z=function(w,I,E,X,o,i,h,k){var x=i1,j=["display","opacity","fill-opacity","filter"];for(var v=0;
v<I.length;v++){var _=I[v],L=_.tagName,U=_.getAttribute("id"),T=13,C=1,u="clip-path",p=null,V=0;if(U==null)U=_.getAttribute("data-name");
var n=x.Vv(_,o.a0L);for(var a in o.C$)if(j.indexOf(a)==-1&&n[a]==null)n[a]=o.C$[a];if(n["font-size"])T=x.f1(n["font-size"],T);
if(_.getAttribute("dx"))X.N9+=x.f1(_.getAttribute("dx"),T);if(_.getAttribute("dy"))X.Zt+=x.f1(_.getAttribute("dy"),T);
var g=x.Ge(_);g.concat(X);var D=_.getAttribute("visibility"),b=n.display,N=E.XY();if(D=="hidden"||b=="none")N.Wz(!1);
N.G_(U!=null?U.split(":::")[0]:"Layer");if(n.opacity)C*=parseFloat(n.opacity);if(n["fill-opacity"]){var Z=parseFloat(n["fill-opacity"]);
if(Z!=0)C*=Z}N.opacity=Math.round(255*C);if(n["mix-blend-mode"]){var S=hH.a5B.indexOf(n["mix-blend-mode"]);
if(S!=-1)N.$B=hH.H1[S]}if(_.getAttribute(u)==null)u="mask";if(_.getAttribute(u)!=null){var f=_.getAttribute(u);
f=f.slice(4,f.length-1);var d=w.getElementById(f.slice(1));if(d){var l=d.children;p=E.XY();p.G_("Clip-Path"+(U?": "+U:""));
p.add.lsct=h<2?gs.Y_:gs.S2;p.$B="pass";p.Bo=24;var A=p.add.vmsk=new K.DN;E.b.push(E.Rf());var B=[];if(d.getAttribute(u)){var f=d.getAttribute(u);
f=f.slice(4,f.length-1);B=w.getElementById(f.slice(1)).children}for(var P=0;P<l.length;P++){var e=x.Ge(l[P]);
e.concat(g);var m=x.oJ(E,w,l[P],!1).slice(2);Q.O.yJ(m,e);A.j=A.j.concat(m)}for(var P=0;P<B.length;P++){var e=x.Ge(l[P]);
e.concat(g);var m=x.oJ(E,w,B[P],!1).slice(2);for(var $=0;$<m.length;$++)if(m[P].KP!=null)m[P].KP=3;Q.O.yJ(m,e);
A.j=A.j.concat(m)}p.QQ();p.kH();h++}}if(n.filter&&n.filter!="none"){var H=n.filter,G,J,c,s=!1,z=!1,Y=!1;
H=H.slice(5,H.length-1);var F=w.getElementById(H),r=[0,0,0,.5],ax=q.R.dA(g);if(F)for(var P=0;P<F.children.length;
P++){var iW=F.children[P];if(iW.tagName=="feGaussianBlur"){s=!0;G=parseFloat(iW.getAttribute("stdDeviation"))*ax}if(iW.tagName=="feColorMatrix"){var y=iW.getAttribute("values");
if(y){y=y.split(" ").map(parseFloat);r=[y[4],y[9],y[14],y[18]]}}if(iW.tagName=="feComposite"){Y=!0}if(iW.tagName=="feOffset"){z=!0;
var hm=iW.getAttribute("dx"),t=iW.getAttribute("dy");J=parseFloat(hm?hm:0)*ax;c=parseFloat(t?t:0)*ax}}if(Y||z){var cT=Y?"IrSh":"DrSh";
if(cT=="IrSh"){N.add.iOpa=0}var c4=JSON.parse(hL.zd[hL.order.indexOf(cT)]);c4.blur.v.val=Math.round(G*2.4);
var kv=Math.sqrt(J*J+c*c);c4.uglg.v=!1;c4.Dstn.v.val=Math.round(kv);c4.lagl.v.val=Math.round(Math.atan2(c,-J)*(180/Math.PI));
c4.Clr.v=Q.N.Ex({o:r[0]*255,P:r[1]*255,L:r[2]*255});c4.Opct.v.val=Math.round(r[3]*100);x.yg(N,hL.JR[hL.order.indexOf(cT)],c4)}else if(s)V=G}if(L=="g"||L=="a"||L=="svg"||L=="switch"||(L=="text"||L=="textPath")&&_.children.length>0||L=="symbol"&&k){if(L=="text")i=x.tX(_,i);
var iL=_.getAttribute("viewBox"),cr=_.getAttribute("width"),ga=_.getAttribute("height");if(iL&&cr&&ga){var iq=i1.uu(iL),ei=x.tX(_),hw=new am;
hw.translate(-iq[0],-iq[1]);hw.scale(parseFloat(cr)/iq[2],parseFloat(ga)/iq[3]);hw.translate(ei.N9,ei.Zt);
hw.concat(g);g=hw}var hC=_.children.length,j5=o.C$;o.C$=n;var ed=o.v_;o.v_=Math.max(o.v_,V);var jn=L!="text"&&L!="textPath"||hC>1;
if(jn){var fj=N.TH();N.add.lsct=h<2&&fj&&(U==null||!U.endsWith(":::"))?gs.Y_:gs.S2;N.$B="pass";N.Bo=24;
N.Wz(fj);E.b.push(E.Rf())}x._z(w,_.children,E,g,o,i,h+1);if(jn)E.b.push(N);else{var di=E.b[E.b.length-1];
di.opacity=N.opacity;di.$B=N.$B}o.v_=ed;o.C$=j5}else if(L=="use"){var hw=x.tX(_);hw.concat(g);var b1=x.T_(_),dI=w.getElementById(b1.slice(1));
if(dI){var j5=o.C$;o.C$=n;if(n.filter)dI.setAttribute("filter",n.filter);x._z(w,[dI],E,hw,o,i,h+1,!0);
o.C$=j5}}else if(L=="path"||L=="rect"||L=="circle"||L=="ellipse"||L=="polygon"||L=="polyline"||L=="line"){N.Bo|=16;
N.add.vmsk=new K.DN;N.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default));N.add.vstk.strokeEnabled.v=!1;
var h2=N.add.vstk,A=N.add.vmsk,de=n.fill,ds=de=="none"||n["fill-opacity"]&&parseFloat(n["fill-opacity"])==0;
A.j=x.oJ(E,w,_,n["fill-rule"]=="evenodd",ds);Q.O.yJ(A.j,g);var jO=Q.O.sM(A.j),gy=n.stroke,fV=n["stroke-width"],hl=n["stroke-dasharray"],im=n["stroke-linejoin"],hy=n["stroke-linecap"],dm=n["paint-order"];
if(gy==null||gy=="none"||gy=="null"){}else{var hA=x.AA(w,gy,g,jO,E),j2=["SoFi","GrFl","patternFill"].indexOf(hA.type),dQ=hA.k.v.Opct.v,h_=1;
if(dQ.val!=100){N.opacity=Math.round(N.opacity*dQ.val/100);dQ.val=100}var aS=[hL.y8,hL.qT,hL.BK][j2],eh=h2.strokeStyleContent.v={classID:hL.Oq.m9[j2]};
for(var P=0;P<aS.length;P++)eh[aS[P]]=hA.k.v[aS[P]];fV=fV?parseFloat(fV):1;if(dm&&dm.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){h_=2;
fV/=2}h2.strokeEnabled.v=!0;if(im)h2.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hL.Oq.join[["miter","round","bevel"].indexOf(im)];
if(hy)h2.strokeStyleLineCapType.v.strokeStyleLineCapType=hL.Oq.zL[["butt","round","square"].indexOf(hy)];
h2.strokeStyleLineWidth.v.val=fV*q.R.dA(g);h2.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hL.Oq.hN[h_];
h2.strokeStyleOpacity.v.val=100*(n["stroke-opacity"]?parseFloat(n["stroke-opacity"]):1);if(hl!=null&&hl!="none")h2.strokeStyleLineDashSet.v=aQ.by(hl.split(",").map(parseFloat),1/fV)}if(ds){N.add.vstk.fillEnabled.v=!1;
N.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.Ex({o:0,P:0,L:0})}}}else{var hA=x.AA(w,de,g,jO,E),h6=null,gT=null;
if(hA.type=="SoFi"){h6="SoCo";gT=hL.y8}if(hA.type=="GrFl"){h6="GdFl";gT=hL.qT}if(hA.type=="patternFill"){h6="PtFl";
gT=hL.BK}if(h6!=null){var dQ=hA.k.v.Opct.v;if(dQ.val!=100){N.opacity=Math.round(N.opacity*dQ.val/100);
dQ.val=100}N.add[h6]={classID:"null"};for(var P=0;P<gT.length;P++){var a=gT[P];N.add[h6][a]=hA.k.v[a]}}}var b8=Math.max(V,o.v_);
if(b8!=0)N.add.vmsk.o6=b8;N.QQ();N.kH(E);E.b.push(N)}else if((L=="text"||L=="tspan")&&_.textContent!=""){i=x.tX(_,i);
var hw=i.clone(),c=0;hw.concat(g);if(_.children.length>0){var hP=x.Vv(_.children[0],o.a0L);for(var a in hP)if(j.indexOf(a)==-1)n[a]=hP[a]}var b5=n["xml:space"],ar=_.textContent;
if(b5=="preserve")ar=ar.replace(/\t/g," ").replace(/\n/g," ");if(U==null)N.G_(ar);N.add.lnsr="rend";
N.add.TySh=bQ.za(0,0);N.add.TySh.Wc=new dC(0,0,100,100);N.add.TySh.F=hw.clone();var cG=N.add.TySh.Da;
bQ.fZ(cG,0,ar);var de=n.fill,bd=n["font-weight"],aZ=n["font-family"],gl=n["text-decoration"],gy=n.stroke,fV=n["stroke-width"],ci=n["dominant-baseline"];
if(ci=="text-before-edge")c=T;else if(ci=="middle")c=T/2;else if(ci=="hanging")c=T;if(c!=0)N.add.TySh.F.translate(0,c);
var a7=bQ.wg(cG,0,1);if(de&&de!="none"){var r=CSS.V5(de);a7.hd.FillColor={Type:1,Values:[1,r.o/255,r.P/255,r.L/255]}}if(gl=="underline")a7.hd.Underline=!0;
a7.hd.FontSize=Math.round(T);bQ.Ab(a7,"LiberationSans");if(bd=="bold")bQ.Ab(a7,"LiberationSans-Bold");
if(aZ){aZ=aZ.split(",")[0].trim();if(aZ[0]=="\"")aZ=aZ.slice(1);if(aZ[aZ.length-1]=="\"")aZ=aZ.slice(0,aZ.length-1);
var ay=aZ+":"+(bd?bd:"normal"),it={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(it[ay])bQ.Ab(a7,it[ay]);else bQ.Ab(a7,aZ)}if(n["text-anchor"])a7.wo.Justification=["start","end","middle"].indexOf(n["text-anchor"]);
bQ.JF(cG,0,ar.length,a7);if(gy==null||gy=="none"){}else{var c4=JSON.parse(hL.zd[hL.order.indexOf("FrFX")]);
c4.Clr.v=Q.N.Ex(CSS.V5(gy));c4.Sz.v.val=Math.round(parseFloat(fV)*q.R.dA(hw));x.yg(N,"frameFXMulti",c4)}E.b.push(N)}else if(L=="image"){var b1=x.T_(_);
if(b1&&b1.slice(0,4)=="data"){var h1=gt.fF(b1),hM=h1,dn=E.ec(hM,N.getName(),0,0);dn.Bo=N.Bo;N=dn;var gV=N.rect.clone();
gV.x=gV.y=0;var jv=_.getAttribute("width"),dt=_.getAttribute("height");if(jv)gV.q=parseFloat(jv);if(dt)gV.w=parseFloat(dt);
var hZ=x.tX(_);hZ.concat(g);var eQ=Q.p.sy(gV).C;Q.p.F(eQ,hZ,eQ);N.add.SoLd.Trnf=q.R.bd(eQ);N.add.SoLd.nonAffineTransform=q.R.bd(eQ);
N.vR(E,!1);E.b.push(N)}}else console.log("unknown tag: "+L,_.children.length,_.textContent.length);if(p!=null){E.b.push(p);
h--}}};i1.yg=function(w,I,E){var X=w.add.lmfx;if(X==null){var X=w.add.lmfx=JSON.parse(hL.default);for(var P=0;
P<hL.order.length;P++)X[hL.JR[P]]={t:"VlLs",v:[]}}X[I].v.push({t:"Objc",v:E})};i1.oJ=function(w,I,E,X,o){var i=i1,h=[{type:6},{type:8,all:0}],k=E.tagName;
if(k=="use"){var x=i.T_(E),j=I.getElementById(x.slice(1)),v=new am;if(j.tagName!="rect")v=i.tX(j);v.concat(i.Ge(j));
h=i.oJ(w,I,j,X,o);Q.O.yJ(h,v)}else if(k=="path"){var _=E.getAttribute("d");if(_==null)return h;var L=Typr.U.SVGToPath(_);
h=Q.p.PY({C:L.crds,J:L.cmds},X,o)}else if(k=="rect"){var U=E.getAttribute("rx"),n=i.tX(E),a=new a5(0,0);
i.RI("width",E,w,a,!0);i.RI("height",E,w,a,!1);h=Q.O.cw.Rect(n.N9,n.Zt,a.x,a.y,U?parseFloat(U):0)}else if(k=="circle"||k=="ellipse"){var T=[0,0,0,0],g=["cx","cy","rx","ry","r"];
for(var P=0;P<5;P++){var D=E.getAttribute(g[P]);if(D){D=parseFloat(D);if(P<4)T[P]=D;else T[2]=T[3]=D}}h=Q.O.cw.z9(T[0]-T[2],T[1]-T[3],2*T[2],2*T[3])}else if(k=="polygon"||k=="polyline"||k=="line"){var b;
if(k=="line")b=[E.getAttribute("x1"),E.getAttribute("y1"),E.getAttribute("x2"),E.getAttribute("y2")].map(parseFloat);
else b=E.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
h=Q.O.cw.Tv(b,0,k!="polygon")}return h};i1.f1=function(w,I){if(w.charAt(w.length-1)=="m")return I*parseFloat(w.slice(0,w.length-2));
else return parseFloat(w)};i1.AA=function(w,I,E,X,o){var i,h,k=i1,x=JSON.parse(hL.zd[hL.order.indexOf("SoFi")]),j=I!=null?I.indexOf("("):-1;
if(j!=-1){var v=I.indexOf(")"),_=I.slice(0,j).trim(),L=I.slice(j+1,v).trim();if(L.charAt(0)=="'")L=L.slice(1,L.length-1);
if(_=="url"){if(L.charAt(0)=="#"){var U=w.getElementById(L.slice(1));if(U&&U.tagName.toLowerCase().endsWith("gradient")){var n=k.bk(w,U,E,X);
i="GrFl";h={t:"Objc",v:n}}else if(U&&U.tagName.toLowerCase()=="pattern"&&U.children[0]&&U.children[0].tagName=="use"){i="SoFi";
h={t:"Objc",v:x};var a=U.children[0],T=k.Ge(a),g=k.T_(a),D=w.getElementById(g.slice(1)),b=gt.fF(k.T_(D)).buffer,N=gt.FB(gt.mq(b)),C=N.CE(b)[0],Z={};
Z.id=hg.Mz()+"-d71c-11e5-b1ae-a548a96e5f9f";Z.name="someImage";Z.IZ=[new Uint8Array(C.data),C.WG];o.kj(Z);
var x=JSON.parse(hL.zd[hL.order.indexOf("patternFill")]);x.Scl.v.val=Math.round(100*X.q*T.lV);var S=x.phase.v;
S.Hrzn.v=Math.round(X.x+T.N9*X.q);S.Vrtc.v=Math.round(X.y+T.Zt*X.w);x.Ptrn.v.Idnt.v=Z.id;i="patternFill";
h={t:"Objc",v:x}}else{i="SoFi";h={t:"Objc",v:x}}}else console.log("unknown url",L)}else if(_=="rgb"||_=="rgba"){i="SoFi";
h={t:"Objc",v:x};h.v.Clr.v=Q.N.Ex(CSS.V5(I));if(_=="rgba")h.v.Opct.v.val=Math.round(100*parseFloat(I.split(",").pop()))}else console.log("unknown fill",I)}else{i="SoFi";
h={t:"Objc",v:x};var u=CSS.V5(I);h.v.Clr.v=Q.N.Ex(u);if(u.lV!=null)h.v.Opct.v.val=Math.round(100*u.lV/255)}return{type:i,k:h}};
i1.Ge=function(w){var I=new am,E=w.getAttribute("transform");if(E)I=i1.IC(E);var X=w.getAttribute("style");
if(X!=null){var o={};i1.b4(o,X,["transform"]);X=o.transform;if(X)I.concat(i1.IC(X))}return I};i1.tX=function(w,I){var E=new am,X=w.getAttribute("x"),o=w.getAttribute("y");
if(X)E.N9=parseFloat(X);else if(I)E.N9=I.N9;if(o)E.Zt=parseFloat(o);else if(I)E.Zt=I.Zt;return E};i1.IC=function(w){var I=Typr.U.SVG.readTrnf(w);
return new am(I[0],I[1],I[2],I[3],I[4],I[5])};i1.Vv=function(w,I){var E={},X="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var P=0;P<X.length;P++){var o=w.getAttribute(X[P]);if(o!=null&&o!="inherit")E[X[P]]=o}var i=w.getAttribute("class");
if(I!=null&&i!=null&&I["."+i]!=null)i1.b4(E,I["."+i],X);var h=w.getAttribute("id");if(I!=null&&h!=null&&I["#"+h]!=null)i1.b4(E,I["#"+h],X);
var k=w.getAttribute("style");if(k!=null)i1.b4(E,k,X);return E};i1.b4=function(w,I,E){I=I.trim().split(";");
for(var P=0;P<I.length;P++){var X=I[P].split(":"),o=X[0]?X[0].trim():"",i=X[1]?X[1].trim():"";for(var h=0;
h<E.length;h++)if(o==E[h]&&i!="inherit")w[E[h]]=i}};i1.T_=function(w){var I=w.getAttribute("xlink:href");
if(I==null)I=w.getAttribute("href");if(I==null)I=w.getAttribute("xl:href");return I};i1.RI=function(w,I,E,X,o){var i=I.getAttribute(w);
if(i==null)return;var h=parseFloat(i);if(i.endsWith("%"))h*=(o?E.q:E.w)/100;if(o)X.x=h;else X.y=h};i1.bk=function(w,I,E,X){var o=i1,i=o.RI,h=new am,k=I.getAttribute("gradientTransform"),U=!1;
if(k)h=o.IC(k);h.concat(E);var x=JSON.parse(hL.zd[hL.order.indexOf("GrFl")]),j=x.Grad.v;j.Intr.v=0;var v=I.tagName,_=new a5(0,0),L=new a5(X.q,0);
if(v=="linearGradient"){x.Type.v.GrdT="Lnr";i("x1",I,X,_,!0);i("y1",I,X,_,!1);i("x2",I,X,L,!0);i("y2",I,X,L,!1);
_.x=L.x+.5*(_.x-L.x);_.y=L.y+.5*(_.y-L.y)}if(v=="radialGradient"){x.Type.v.GrdT="Rdl";if(I.getAttribute("cx"))_.x=parseFloat(I.getAttribute("cx"));
if(I.getAttribute("cy"))_.y=parseFloat(I.getAttribute("cy"));L.eo(_.x,_.y);if(I.getAttribute("r"))L.x+=parseFloat(I.getAttribute("r"))}var n=I;
while(!0){if(n.getAttribute("gradientUnits")=="userSpaceOnUse")U=!0;var a=o.T_(n);if(a==null)break;n=w.getElementById(a.slice(1))}if(U){_=h.kG(_);
L=h.kG(L)}else{_.x=X.x+_.x*X.q;_.y=X.y+_.y*X.w;L.x=X.x+L.x*X.q;L.y=X.y+L.y*X.w}Q.N.xD(_,L,X,x);var T=I.children;
if(T.length==0){var g=o.T_(I);if(g==null)throw"gradient has no stops";var D=w.getElementById(g.slice(1));
if(D==null){console.log(g.slice(1))}else{var b=o.bk(w,D,h,X);x.Grad=b.Grad}}else{var N=[];for(var P=0;
P<T.length;P++){var C=T[P],Z=o.Vv(C),S=Z["stop-color"],u=Z["stop-opacity"],p=C.getAttribute("offset");
if(S==null)S="#000000";u=u==null?1:parseFloat(u);var f=p?parseFloat(p):0;S=CSS.V5(S);if(S.lV!=null)u*=S.lV/255;
N.push([f,[S.o/255,S.P/255,S.L/255],parseFloat(u)])}Q.N.GL(N,j)}return x};i1.hI=function(){var w=null,I=null,E="",X="";
function o(S,u,p){var f=[],B=" { ",e=" } ",m=!1;I=u;X=u.wQ?"":"\t";E=u.wQ?"":" ";var d=u.a8r,l=u.abF;
f.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+S.q+" "+S.w+"\" width=\""+d+"\" height=\""+l+"\">");
if(!u.wQ)f.push(i(1)+"<title>"+D(S.name.split(".")[0])+"</title>");var A={lX:[],mz:[],gx:0,jy:0,ac:0,W9:{},$$:{},jD:0,$z:{},ah7:{},m8:0,vj:[]};
n(S,A,S.root.children,1,u,p);if(A.lX.length!=0){f.push(i(1)+"<defs>");f=f.concat(A.lX);f.push(i(1)+"</defs>")}f.push(i(1)+"<style>");
if(u.wQ){B="{";e="}"}for(var P=0;P<S.b.length;P++)if(S.b[P].add.TySh)m=!0;if(m&&!u.ayt&&!u.adR)f.push(i(2)+"tspan"+B+"white-space:pre"+e);
for(var $ in A.$z)f.push(i(2)+"."+$+B+A.$z[$]+e);f.push(i(1)+"</style>");f=f.concat(A.mz);f.push("</svg>");
f=f.join(u.wQ?"":"\n");return M.VD(f)}function i(eS){var S="";for(var P=0;P<eS;P++)S+=X;return S}function h(eS,S){if(S==null)S=1;
var u=""+parseFloat(eS.toFixed(S));if(u.startsWith("0."))u=u.slice(1);return u}function k(S,u){var p=S.add.lmfx;
if(p)p=p[u].v[0];if(p)p=p.v;if(p&&!p.enab.v)p=null;return p}function x(S,u){var p=k(S,"frameFXMulti");
if(p){var f=p.Sz.v.val;if(p.Styl.v.FStl=="OutF"){u.push("paint-order:stroke fill markers");f*=2}U(u,CSS.yI(p.Clr.v),1);
if(f!=1)u.push("stroke-width: "+f);u.push("stroke-linejoin: round;")}}var j="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function v(S){var u=j.length,p="";for(var f=1;f<10;f++){var d=(u-10)*~~Math.pow(u,f-1);if(S<d){for(var P=0;
P<f;P++){var l=P==f-1?10:0,A=u-l,B=S%A;p=j[B+l]+p;S=Math.floor((S-B)/A)}break}S-=d}return p}function _(S,u,p,f){if(S.length!=0){if(f==null)f="s";
var d=S.join(";"),l=u.ah7[d];if(l==null){l=I.wQ?v(u.m8):f+u.m8;u.m8++;u.ah7[d]=l;u.$z[l]=d}if(p)p.push(l);
return l}}function L(S){if(I.wQ&&S.length==7&&S[0]=="#"){if(S[1]==S[2]&&S[3]==S[4]&&S[5]==S[6])S="#"+S[1]+S[3]+S[5]}return S}function U(S,u,p){u=L(u);
if(u!="#000"||p==1)S.push((p==0?"fill:":"stroke:")+E+u)}function n(S,u,p,f,d,l){var A=!1;for(var B=0;
B<p.length;B++){var e=p[B].l,m=e.add.lsct;if(!e.ws&&p[B+1]&&p[B+1].l.ws&&e.us()&&e.add.vmsk){var $=[];
N(e,e.add.vmsk,u,$);u.mz.push(i(f)+"<g "+$[0]+">");f++;A=!0}else if(!e.ws&&p[B-1]&&p[B-1].l.ws&&A){f--;
u.mz.push(i(f)+"</g>");A=!1}var V=e.add.vmsk,H=e.add.vogk,F=e.add.vstk,G=e.add.TySh;if(V&&!V.isEnabled)V=F=null;
var J=[];if(!d.hidden&&!e.TH())continue;var c=e.opacity/255,r=e.add.iOpa?e.add.iOpa/255:1;if(c!=1)J.push("opacity:"+E+h(c));
if(r!=1)J.push("fill-opacity:"+E+h(r));if(e.$B!="norm"){var s=hH.a5B[hH.H1.indexOf(e.$B)];if(s!=null)J.push("mix-blend-mode:"+E+s)}if(!e.TH())J.push("display:"+E+"none");
var $=[],z=[],Y=e.getName(),ax=Y.indexOf(" .");if(!d.wQ)$.push("id=\""+D(Y)+"\"");var iW=aQ.T3(e.add.lmfx,e.add),y=iW[0],hm=iW[1];
if(e.vD()){var t=p[B].children;if(!(t.length==1&&t[0].l.add.SoLd&&!d.wt)){if(w&&e.getName().split("-").length==3){w.push({gm:e.getName(),bQ:0,A8:[]})}N(e,V,u,$);
if(J.length!=0)$.push("style=\""+J.join(";")+"\"");var cT=g($,z),c4=d.wQ&&cT=="";if(!c4)u.mz.push(i(f)+"<g"+(cT==""?"":" "+cT)+">");
n(S,u,t,f+1,d,l);if(!c4)u.mz.push(i(f)+"</g>")}}else if(e.us()&&V==null){var kv=new dC(0,0,S.q,S.w);
C(S,J,e.add,u,kv,d);if(J.length!=0)$.push("style=\""+J.join(";")+"\"");u.mz.push(i(f)+"<rect width=\""+S.q+"\" height=\""+S.w+"\" "+g($,z)+"/>")}else if(V&&e.add.SoLd==null){var kv=Q.O.sM(V.j,null,!0),iL,cr=null,ga=0,iq;
C(S,J,e.add,u,kv,d);_(J,u,z);if(H.length!=0){iL=H[0].v;cr=iL.keyOriginType;if(cr)cr=cr.v;if(cr==2){var ei=Q.GJ.tv(iL);
ga=ei[0];for(var P=0;P<3;P++)if(ga!=ei[P+1])cr=null}}if(H.length==1&&cr==5){var kv=Q.GJ.w0(iL),hw=(kv[0]+kv[2])/2,hC=(kv[1]+kv[3])/2,j5=hw-kv[0],ed=hC-kv[1],jn=Math.abs(j5-ed)<.01,fj=jn?"r=\""+h(j5)+"\"":"rx=\""+h(j5)+"\" ry=\""+h(ed)+"\"";
iq="<"+(jn?"circle":"ellipse")+" "+g($,z)+" cx=\""+h(hw)+"\" cy=\""+h(hC)+"\" "+fj+"/>"}else if(H.length==1&&cr==2&&ga!=0){var kv=Q.GJ.w0(iL),di=kv[0],b1=kv[1],dI=kv[2]-kv[0],h2=kv[3]-kv[1],de="";
if(di!=0)de+=" x=\""+h(di)+"\"";if(b1!=0)de+=" y=\""+h(b1)+"\"";de+=" width=\""+h(dI)+"\"";de+=" height=\""+h(h2)+"\"";
de+=" rx=\""+h(ga)+"\"";iq="<rect "+g($,z)+de+"></rect>"}else{var ds=Q.O.u8(V.j,1);if(ds.lw!=0){$.push("fill-rule=\"evenodd\"")}iq="<path "+g($,z)+" d=\""+ds.bz+"\"/>"}u.mz.push(i(f)+iq);
if(w&&w[w.length-1]){var jO=Q.p.x7(V.j);jO.C=jO.C.map(Math.round);var gy=w[w.length-1];gy.bQ+=JSON.stringify(jO).length;
gy.A8.push([J[0].split("#").pop(),jO])}}else if(G&&d.ayt){E=d.wQ?"":" ";var fV=G.Da,hl=new g9(fV,l),im=null;
if(y)im=CSS.yI(y.Clr.v);if(hm){var kv=e.rect.clone();Z(hm,u,kv,d);im="url(#g"+u.gx+")"}if(im)J.push("fill:"+E+im);
x(e,J);var hy=fv.y2(hl,G),dm=Q.p.Qe(hy);for(var hA in dm){var j2=J.slice(0),dQ=z.slice(0),aS=$.slice(0);
if(im==null){U(j2,hA.slice(0,7),0);if(hA.length>7){var eh=hA.slice(7).split("-");console.log(eh);U(j2,eh[1],1);
if(eh[2]!="1")j2.push("stroke-width:"+E+eh[2])}}_(j2,u,dQ);var h_=dm[hA],eh=Typr.U.pathToSVG({crds:h_.C,cmds:h_.J},1);
u.mz.push(i(f)+"<path "+g(aS,dQ)+(d.wQ?"":" "+T(G))+" d=\""+eh+"\"/>")}}else if(G&&!d.adR){var fV=G.Da,h6=G.F.clone(),im=null;
J.push("transform:"+E+b(h6));var gT=bQ.Of(fV),hl=new g9(fV,l);x(e,J);if(J.length!=0)$.push("style=\""+J.join(";")+"\"");
u.mz.push(i(f)+"<text "+g($,z)+" >");if(y)im=CSS.yI(y.Clr.v);if(hm){var kv=e.rect.clone();kv.x-=h6.N9;
kv.y-=h6.Zt;Z(hm,u,kv,d);im=" url(#g"+u.gx+")"}for(var P=0;P<hl.wo.length;P++){var b8=hl.wo[P];if(b8.TY.length==1&&b8.TY[0].JZ)continue;
for(var hP=0;hP<b8.lB.length;hP++){var b5=b8.lB[hP],hC=b8.Z2.y+b5.Z2.y,ar=b8.TY[b5.start].start,cG=b8.TY[b5.end-1].end,bd=bQ.a8k(fV,ar,cG),aZ="";
for(var gl=0;gl<bd.length;gl++){var ci=hl.u_(ar),a7=bd[gl],ay=bQ.wg(fV,ar,ar),it=ay.B0[ay.hd.Font].Name,hA=bQ.BL(ay.hd.FillColor),h1=Math.round(ay.hd.FontSize),hM=gT.slice(ar,ar+a7);
if(ay.hd.FontCaps==2)hM=hM.toUpperCase();var dn=new am;dn.translate(ci._b.x,-hC);var gV=[];CSS.aok(gV,ay,null,!0,!0,im);
var jv=_(gV,u,null,"t");jv=jv?" class=\""+jv+"\"":"";var hw=ci._b.x,dt=a(ay,hM);aZ+="<tspan "+(gl==0?"x=\""+h(ci._b.x)+"\"":"")+" y=\""+h(hC)+"\""+jv+dt+">"+D(hM)+"</tspan>";
ar+=a7}u.mz.push(i(f+1)+aZ)}}u.mz.push(i(f)+"</text>")}else if(e.add.SoLd&&d.wt){var hZ=e.add.SoLd,eQ=hZ.Idnt.v,dd=0,dp=hZ.Crop?hZ.Crop.v:null;
if(u.$$[eQ]!=null)dd=u.$$[eQ];else{u.jD++;dd=u.jD;u.$$[eQ]=u.jD;var i_=S.ot(eQ,dp),cc="";if(i_==null)return;
var by=i_.lG,jK=gt.mq(i_.raw.buffer);if(jK=="pdf"){var jo=new hg("h");gt.FB("PDF").CE(i_.raw.buffer,jo);
jo.sI();jo.Al();jo.M();jo.vL();if(hZ.Crop&&hZ.Crop.v==1){q.EV.JB(jo,jo.root.eB(jo,!0))}var ge=gt.FB("SVG").v6(jo,jo.q,jo.w,null,{vj:l});
cc="data:image/svg+xml;base64,"+gt.qU(ge)}else if(jK=="jpg"||jK=="png"||jK=="gif"||jK=="svg"){var gH={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
cc="data:"+gH[jK]+";base64,"+gt.qU(i_.raw.buffer)}else{cc=gt.du(by[0].buffer,by[1].q,by[1].w)}u.lX.push(i(2)+"<image width=\""+by[1].q+"\" height=\""+by[1].w+"\" id=\"img"+dd+"\" href=\""+cc+"\"/>")}var cv=Q.K.hh(hZ),jN=[];
N(e,V,u,jN);if(jN.length!=0)u.mz.push(i(f)+"<g "+g(jN,z)+">");if(J.length!=0)$.push("style=\""+J.join(";")+"\"");
var fg=g($,z);u.mz.push(i(f)+"<use "+fg+" href=\"#img"+dd+"\" transform=\""+b(cv)+"\"/>");if(jN.length!=0)u.mz.push(i(f)+"</g>")}else if(!e.rect.qo()&&(d.wt||G)){if(J.length!=0)$.push("style=\""+J.join(";")+"\"");
var fg=g($,z),el=e.buffer;if(y)el=aQ.aoO(el,y,e.rect);var cf=e.rect;u.jD++;var cc=gt.du(el.buffer,cf.q,cf.w,"png",null,!0);
u.lX.push(i(2)+"<image "+T(G)+" width=\""+e.rect.q+"\" height=\""+e.rect.w+"\" id=\"img"+u.jD+"\" href=\""+cc+"\"/>");
u.mz.push(i(f)+"<use "+fg+" href=\"#img"+u.jD+"\" x=\""+cf.x+"\" y=\""+cf.y+"\"/>")}}if(A){f--;u.mz.push(i(f)+"</g>");
A=!1}}function a(S,u){var p=S.hd.Tracking,f="";if(p!=null&&p!=0){p=Math.round(p*S.hd.FontSize/1e3);f=" dx=\"0";
for(var d=1;d<u.length;d++)f+=" "+p;f+="\" "}return f}function T(S){if(S==null)return"";var u=S.Da,p=bQ.Of(u);
p=D(p.slice(0,p.length-1));return"aria-label=\""+p+"\" "}function g(S,u){if(u.length!=0)S.push("class=\""+u.join(" ")+"\"");
return S.join(" ")}function D(S){return String(S).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function b(S){var u=[S.lV,S.L,S.I5,S.cA,S.N9,S.Zt];
for(var P=0;P<6;P++)u[P]=h(u[P],3);return"matrix("+u.join(",")+")"}function N(S,u,p,f){if(u||S.add.artb){var d;
if(u)d=Q.O.u8(u.j).bz;else{var l=S.Z9(),A=Q.p.sy(l);d=Typr.U.pathToSVG({crds:A.C,cmds:A.J},1)}p.ac++;
f.push("clip-path=\"url(#cp"+p.ac+")\"");p.lX.push(i(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+p.ac+"\">");
p.lX.push(i(3)+"<path d=\""+d+"\"/>");p.lX.push(i(2)+"</clipPath>")}}function C(S,u,p,f,d,l){var A=p.vstk,B=p.vmsk,e=p.lmfx,m=[];
if(B&&B.o6!=0){var $=h(B.o6);if(f.W9[$]==null){f.jy++;f.W9[$]=f.jy;f.lX.push(i(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+f.jy+"\"> <feGaussianBlur stdDeviation=\""+$+"\"/> </filter>")}m.push("url(#f"+f.W9[$]+")")}if(e)for(var P=0;
P<hL.order.length;P++){var V=hL.order[P],H=hL.JR[P],F=e[H].v;for(var G=0;G<F.length;G++){var J=F[G].v,c=J.classID;
if(!J.enab.v)continue;if(c=="OrGl"||c=="DrSh"){f.jy++;m.push("url(#f"+f.jy+")");var r=0,s=0,z=J.blur.v.val/2.4,Y=J.Opct.v.val/100;
if(c=="DrSh"){var ax=J.uglg&&J.uglg.v?S.T7():J.lagl.v.val;ax=ax*(Math.PI/180);var iW=J.Dstn.v.val;r=-Math.cos(ax)*iW;
s=Math.sin(ax)*iW}if(c=="OrGl")Y/=J.Inpr.v.val/100;var y="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+f.jy+"\" >";
y+="<feDropShadow dx=\""+r+"\" dy=\""+s+"\" stdDeviation=\""+z+"\" flood-color=\""+CSS.yI(J.Clr.v)+"\" flood-opacity=\""+h(Y)+"\"/>";
y+="</filter>";f.lX.push(i(2)+y)}}}if(m.length!=0)u.push("filter:"+E+m.join(" "));var hm=aQ.T3(e,p),t=hm[0],cT=hm[1];
if(A&&!A.fillEnabled.v)u.push("fill:"+E+"none");else if(t){var c4=CSS.yI(t.Clr.v);U(u,c4,0)}else if(cT){Z(cT,f,d,l);
U(u,"url(#g"+f.gx+")",0)}if(A==null||!A.strokeEnabled.v)A=aQ.AM(e);if(A&&A.strokeEnabled.v){var kv=A.strokeStyleContent.v,iL=kv.classID;
if(iL=="solidColorLayer")U(u,CSS.yI(kv.Clr.v),1);else{Z(kv,f,d,l);U(u,"url(#g"+f.gx+")",1)}var cr=hL.Oq.zL.indexOf(A.strokeStyleLineCapType.v.strokeStyleLineCapType),ga=hL.Oq.join.indexOf(A.strokeStyleLineJoinType.v.strokeStyleLineJoinType),iq=A.strokeStyleOpacity.v.val/100,ei=A.strokeStyleLineWidth.v.val,hw=hL.Oq.hN.indexOf(A.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(hw==2){ei*=2;u.push("paint-order:stroke fill markers")}var hC=A.strokeStyleLineDashSet.v,j5=[];for(var P=0;
P<hC.length;P++)j5.push(Math.round(hC[P].v.val*ei));if(cr!=0)u.push("stroke-linecap:"+E+["butt","round","square"][cr]);
if(ga!=0)u.push("stroke-linejoin:"+E+["miter","round","bevel"][ga]);if(iq!=1)u.push("stroke-opacity:"+E+h(iq));
if(ei!=1)u.push("stroke-width:"+E+h(ei));if(j5.length!=0)u.push("stroke-dasharray:"+E+j5.join(","))}}function Z(S,u,p,f){u.gx++;
var d=S.Grad.v,l=JSON.parse(JSON.stringify(d.Clrs.v)),A=JSON.parse(JSON.stringify(d.Trns.v)),B=S.Ofst.v,e=S.Type.v.GrdT,m=e=="Rdl"||e=="Dmnd"?1:0,$=(m==1?"radial":"linear")+"Gradient",V=Q.N.Fj(S,p),F="";
if(m==0){V[0].x=V[1].x+2*(V[0].x-V[1].x);V[0].y=V[1].y+2*(V[0].y-V[1].y)}var H=i(2)+"<"+$+" id=\"g"+u.gx+"\"";
if(f.wQ){if(u.gx==1)u.lX.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");F=" href=\"#P\""}else F=" gradientUnits=\"userSpaceOnUse\"";
if(m==0)u.lX.push(H+" x1=\""+h(V[0].x)+"\" y1=\""+h(V[0].y)+"\" x2=\""+h(V[1].x)+"\" y2=\""+h(V[1].y)+"\""+F+">");
if(m==1)u.lX.push(H+" cx=\""+h(V[0].x)+"\" cy=\""+h(V[0].y)+"\" r=\""+h(a5.GZ(V[0],V[1]))+"\""+F+">");
if(e=="Rflc"){for(var G=0;G<2;G++){var J=G==0?l:A;for(var P=J.length-1;P>=0;P--){var c=J[P];c.v.Lctn.v=2048+(c.v.Lctn.v>>>1);
var r=JSON.parse(JSON.stringify(c));r.v.Lctn.v=4096-r.v.Lctn.v;J.push(r)}J.sort(function(hm,t){return hm.v.Lctn.v-t.v.Lctn.v})}}var s=S.Rvrs.v;
if(s){l.reverse();A.reverse()}for(var P=0;P<l.length;P++){var z=l[P].v,Y=z.Lctn.v/4096;if(s)Y=1-Y;var ax=P<A.length?A[P].v.Opct.v.val/100:1,ax=ax==1?"":" stop-opacity=\""+h(ax)+"\"",iW=Y==0&&f.wQ?"":" offset=\""+h(Y)+"\"",y=CSS.yI(z.Clr.v);
y=f.wQ&&y=="#000000"?"":" stop-color=\""+L(y)+"\"";u.lX.push(i(3)+"<stop"+iW+y+ax+"/>")}u.lX.push(i(2)+"</"+$+">")}i1.gg=b;
return o}();i1.cw=function(w,I,E,X,o){var i=[],h=i1.cw,k=!1,x={LQ:w,Ns:I,TE:[!0,!0,!0],SS:!1,wX:E,a12:0};
x.UK=Math.round(Math.max(w,I)*(.02+h.H_(x)*.03));x.FJ=h.aeJ(x);x.Wi=h.auW(x.FJ,(h.H_(x)<.5?-1:1)*(.2+h.H_(x)*.3));
if(h.H_(x)<.5){var j=x.FJ;x.FJ=x.Wi;x.Wi=j}x.a9e=h.H_(x)<.4&&h.amO(x.Wi,{o:1,P:1,L:1})>.3;x.aha=h.H_(x)<.5?0:1;
i.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+w+" "+I+"\" width=\""+w+"\" height=\""+I+"\">");
x.Ck=X[Math.floor(h.Wr(x)*X.length)];x.kw=X[Math.floor(h.Wr(x)*X.length)];i.push("<style>");i.push("@font-face {  font-family: "+x.Ck[2]+";  src: url(rsrc/fonts/"+x.Ck[5]+");  }");
i.push("@font-face {  font-family: "+x.kw[2]+";  src: url(rsrc/fonts/"+x.kw[5]+");  }");i.push("</style>");
var v=[0,0,w,I],_=v;if(o==null)i.push("<path style=\"fill: "+h.XS(x.FJ)+"\" d=\""+h.Rect(v[0],v[1],v[2]-v[0],v[3]-v[1])+"\" id=\"Background\" />");
else{x.SS=!0;h.MG(x,v,i,o)}if(h.H_(x)<.25&&!x.SS){x.TE[0]=x.TE[2]=!1;h.a83(v,x,i);_=v}else if(h.H_(x)<.25||x.SS)_=v;
else{var L=.52+h.H_(x)*.2;if(h.H_(x)<.5)L=1-L;var U=v.slice(0),n=v.slice(0);if(h.H_(x)<.5)U[2]=n[0]=Math.round(L*w);
else U[3]=n[1]=Math.round(L*I);if(h.H_(x)<.5){var j=U;U=n;n=j}_=U;h.a4y(x,n,i,o)}h.a1J(x,_,i);i.push("</svg>");
i=i.join("\n");var a=Q.$(Math.round(i.length*1.5)),T=M.OA(i,a,0);return[a.buffer.slice(0,T),x.L9]};i1.cw.a83=function(w,I,E){var X=i1.cw,o=w[2]-w[0],i=w[3]-w[1];
if(X.H_(I)<.5){E.push("<path id=\"Border\" style=\"fill: "+X.XS(I.Wi)+"\" d=\""+X.a7_(w[0],w[1],w[2]-w[0],w[3]-w[1],I.UK)+"\" />")}else if(X.H_(I)<-.4){X.a3x(I,w,E)}else{var h=X.H_(I)<.5?0:1,k=(h==0?i:o)/4,x=X.HD(I,h,w,E,k,!0),x=X.HD(I,h+2,w,E,k,!0,x)}};
i1.cw.a1J=function(w,I,E){var X=i1.cw,o="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),i=2*Math.floor(X.H_(w)*o.length/2),h=I[2]-I[0],k=I[3]-I[1],j=0,_=0;
w.Il=(w.LQ+h)*.5*(.04+X.H_(w)*.05);w.Il=Math.min(w.Il,k*.4,h*.12);w.Il=Math.round(w.Il);var x=Math.min(w.Il*o[i].length*(.35+.3*X.H_(w)),h*.9),v=(I[1]+I[3])/2,L=Q.ZT(w.FJ)<.85?{o:1,P:1,L:1}:{o:.1,P:.1,L:.1};
if(X.H_(w)<.25&&w.TE[0]){_=0;j=I[0]+w.UK}else if(X.H_(w)<.33&&w.TE[2]){_=2;j=I[2]-w.UK}else{_=1;j=(I[0]+I[2])/2}var U=L.o==1?"0,0,0":"255,255,255",n=w.SS&&X.H_(w)<1;
if(n){var a=I[0],T=h,g=v-w.Il*1.1,D=w.Il*2.2,b=.7;if(_==1&&X.H_(w)<.5){a=g=.2*Math.min(h,k);T=h-2*g;
D=k-g-g}else if(X.H_(w)<.7){a=g=0;T=h;D=k;b=.25}E.push("<path id=\"Strip\" style=\"fill: rgb("+U+"); opacity: "+b+"\" d=\""+X.Rect(a,g,T,D)+"\" />")}if(X.H_(w)<.4){var N=w.Il*.07;
N*=1.5+X.H_(w)*1;if(_==-1&&h/k<3&&!n){E.push("<path id=\"Bar-bottom\" style=\"fill: "+X.XS(L)+"\" d=\""+X.Rect(j-x/2,v+w.Il*1.1-N/2,x,N)+"\" />");
E.push("<path id=\"Bar-top\"    style=\"fill: "+X.XS(L)+"\" d=\""+X.Rect(j-x/2,v-w.Il*1.1-N/2,x,N)+"\" />")}if(_!=1){E.push("<path id=\"Bar\" style=\"fill: "+X.XS(L)+"\" d=\""+X.Rect(j-N/2,v-w.Il*.8,N,w.Il*.8*2)+"\" />");
j+=(_==0?1:-1)*w.Il/3}}var C=w.Il*.4;E.push(X.Yv(o[i+1],j,v+C*1.6,C,L,_,w.kw));E.push(X.Yv(o[i],j,v+w.Il*.04,w.Il,L,_,w.Ck))};
i1.cw.a4y=function(w,I,E,X){var o=I[2]-I[0],i=I[3]-I[1],h=Math.max(o,i),k=Math.min(o,i),x=i1.cw;if(h/k<5&&!w.SS&&!1){x.MG(w,I,E,X)}else if(x.H_(w)<0)E.push("<path style=\"fill: "+x.XS(w.Wi)+"\" d=\""+x.Rect(I[0],I[1],o,i)+"\" />");
else{var j=0;if(I[3]!=w.Ns)j=0;if(I[2]!=w.LQ)j=3;if(I[0]!=0)j=1;if(I[1]!=0)j=2;var v=j+2&3;if(h/k<3){var _=x.a0V(v),L=_[Math.round(x.H_(w)*(_.length-1))],U=L.gm.slice(0,4),n=U.indexOf(1);
L=JSON.parse(JSON.stringify(L));var a=-1;if(U!="0000"){var T=new am;if(L.gm[5]=="0"){if(n==3&&j==1){a=1;
T.scale(-1,1)}else a=n}else{var g=v;while(g==v)g=Math.floor(x.H_(w)*4)&3;T.rotate((-n+g)*Math.PI/2)}x.F(L,T)}var D=x.zK(L),b=o-2*w.UK,N=i-2*w.UK;
if(a!=-1){if((a&1)==0)N-=w.UK;else b-=w.UK}var C=Math.min(b/D.q,N/D.w),Z=new am;Z.translate(-D.x,-D.y);
Z.scale(C,C);var S=(o-D.q*C)/2,u=(i-D.w*C)/2;if(a!=-1){if(a==3)S=0;if(a==0)u=0;if(a==1)S=o-D.q*C;if(a==2)u=i-D.w*C}Z.translate(I[0]+S,I[1]+u);
x.II(w,L,Z,w.Wi,E)}else{x.HD(w,j,I,E,1e9)}}};i1.cw.MG=function(w,I,E,X){var o=I[2]-I[0],i=I[3]-I[1],h=Math.max(o,i),k=Math.min(o,i),x=i1.cw,j=x.Wr(w),v,_,L,U=X[0]instanceof ArrayBuffer;
if(U){v="data:image/jpg;base64,"+jb.fd(X[0]);_=X[1];L=X[2]}else{var n=Math.floor(j*X.length),a=X[n];
w.L9=a;v=a.webformatURL;_=a.webformatWidth;L=a.webformatHeight}var T=I[0],g=I[1],D=o,b=i;if(o/i>_/L){b=D*L/_;
g=g-(b-i)/2}else{D=b*_/L;T=T-(D-o)/2}if(U){E.push("<defs>");E.push("<image width=\""+_+"\" height=\""+L+"\" id=\"Background\" href=\""+v+"\" />");
E.push("</defs>");var N=D/_;E.push("<use href=\"#Background\" transform=\""+i1.gg(new am(N,0,0,N,T,g))+"\" />")}else{var C="cp"+Math.random();
E.push("<clipPath id=\""+C+"\">");E.push("<path style=\"fill: "+x.XS(w.Wi)+"\" d=\""+x.Rect(I[0],I[1],o,i)+"\" />");
E.push("</clipPath>");E.push("<image  clip-path=\"url(#"+C+")\" xlink:href=\""+v+"\" x=\""+T+"\" y=\""+g+"\" width=\""+D+"\" height=\""+b+"\" />")}};
i1.cw.Yv=function(w,I,E,X,o,i,h){var k=i1.cw;return"<text x=\""+I+"\" y=\""+E+"\" style=\"fill:"+k.XS(o)+"; font-size:"+X+"px; text-anchor:"+["start","middle","end"][i]+"; font-family:"+h[2]+";\"><tspan>"+w+"</tspan></text>"};
i1.cw.II=function(w,I,E,X,o){var i=i1.cw,h=[];for(var P=0;P<I.A8.length;P++){h.push(X);if(w.a9e){X=(P&1)==w.aha?{o:1,P:1,L:1}:h[0]}}o.push("<g id=\""+I.gm.split("-")[2]+":::\" style=\"transform: "+i1.gg(E)+";\" >");
for(var P=0;P<I.A8.length;P++){var k=I.A8[P];X=h.pop();o.push("<path style=\"fill: "+(X?i.XS(X):"#"+k[0])+"\" d=\""+Typr.U.pathToSVG({crds:k[1].C,cmds:k[1].J})+"\" />")}o.push("</g>")};
i1.cw.a3x=function(w,I,E){var X=i1.cw,o=i1.cw.QO,i=[];for(var P=0;P<o.length;P++){var h=o[P],k=h.gm.slice(0,4);
if(k!="1001")continue;i.push(h)}var h=i[Math.floor(X.H_(w)*i.length)];if(X.H_(w)<.5)X.F(h,new am(0,1,1,0,0,0));
var x=I[3]-I[1],j=I[2]-I[0],v=X.zK(h),_=.7*Math.min(j,x,.5*Math.max(j,x))/Math.max(v.q,v.w),L=new am;
L.scale(_,_);if(X.H_(w)<.5){L.scale(1,-1);L.translate(0,x)}X.II(w,h,L,w.Wi,E);L.rotate(Math.PI);L.translate(j,x);
X.II(w,h,L,w.Wi,E)};i1.cw.a0V=function(w){var I=i1.cw.QO,E=[];for(var P=0;P<I.length;P++){var X=I[P],o=X.gm.slice(0,4);
if(o=="0000"){E.push(X);continue}if(["1000","0100","0010","0001"].indexOf(o)==-1)continue;var i=o.indexOf("1");
if(X.gm[5]=="0"&&w==i&&i!=3)continue;E.push(X)}return E};i1.cw.HD=function(w,I,E,X,o,i,h){var k=i1.cw.QO,x=i1.cw,j=[],D,b;
for(var P=0;P<k.length;P++){var v=k[P],_=v.gm.slice(0,4);if(["1110","1101","1011","0111"].indexOf(_)==-1)continue;
var L=_.indexOf("0")+2&3;if(v.gm[5]=="0")if(i==!0||I!=L&&!(I==1&&L==3))continue;j.push(v)}var U=h!=null?h:Math.floor(x.H_(w)*j.length),v=j[U],v=JSON.parse(JSON.stringify(v)),_=v.gm.slice(0,4),L=_.indexOf("0")+2&3;
if(L==3&&I==1)Q.F(v,new am(1,0,0,-1,0,1e3));var n=new am;n.translate(-500,-500);n.rotate(-L*Math.PI/2);
n.translate(500,500);x.F(v,n);var a=E[3]-E[1],T=E[2]-E[0],g=x.zK(v);if(g.y<0){g.w+=g.y;g.y=0}if(g.y>0){g.w+=g.y;
g.y=0}if((I&1)==0){b=a;D=T}else{D=a;b=T}var N=Math.min(Math.min(.5+.5*x.H_(w))*Math.min(T,a),o)/g.w,C=Math.ceil(D/(1e3*N)),Z=new am,S=new am;
S.scale(N,N);if(I==0||I==2){S.translate(-(T/2),-(a/2));S.rotate(-I*Math.PI/2);S.translate(T/2+E[0],a/2+E[1])}else{S.rotate(Math.PI/2);
S.scale(1,-1);S.translate(E[0],E[1]);if(I==1){S.scale(-1,1);S.translate(T,0)}}X.push("<g id=\"Border-"+["top","right","bottom","left"][I]+":::\">");
for(var P=0;P<C;P++){var u=Z.clone();u.concat(S);x.II(w,v,u,w.Wi,X);Z.translate(1e3-2,0)}X.push("</g>");
return U};i1.cw.Rect=function(w,I,E,X){return Typr.U.pathToSVG({crds:[w,I,w+E,I,w+E,I+X,w,I+X],cmds:["M","L","L","L","Z"]})};
i1.cw.a7_=function(w,I,E,X,o){var i=[w,I,w+E,I,w+E,I+X,w,I+X];w+=o;I+=o;E-=2*o;X-=2*o;i.push(w,I,w,I+X,w+E,I+X,w+E,I);
return Typr.U.pathToSVG({crds:i,cmds:"M L L L Z M L L L Z".split(" ")})};i1.cw.auW=function(w,I){var E=Q.fz(w.o,w.P,w.L);
E.U4=Math.max(.1,Math.min(.9,E.U4+I));return Q.a2(E.Ns,E.Ls,E.U4)};i1.cw.afo=function(w,I){var E=Q.fz(w.o,w.P,w.L);
E.Ns+=I;return Q.a2(E.Ns,E.Ls,E.U4)};i1.cw.arJ=function(w){var I=Q.fz(w.o,w.P,w.L);I.U4=1-I.U4;return Q.a2(I.Ns,I.Ls,I.U4)};
i1.cw.amO=function(w,I){var E=w.o-I.o,X=w.P-I.P,o=w.L-I.L;return Math.sqrt(E*E+X*X+o*o)};i1.cw.aeJ=function(w){var I=i1.cw;
return{o:I.H_(w),P:I.H_(w),L:I.H_(w)}};i1.cw.XS=function(w){return CSS.Ps({o:w.o*255,P:w.P*255,L:w.L*255})};
i1.cw.zK=function(w){var I=w.A8,E=new dC;for(var P=0;P<I.length;P++)E=E.jB(Q.p.zK(I[P][1].C));return E};
i1.cw.F=function(w,I){var E=w.A8;for(var P=0;P<E.length;P++)Q.p.F(E[P][1].C,I,E[P][1].C)};i1.cw.H_=function(w){w.a12++;
var I=w.a12&3;if(I==0)w.wX=i1.cw.Ip(w.wX);var E=w.wX>>>8*I&255;return E*(.99999999/255)};i1.cw.Wr=function(w){var I=i1.cw.Ip(w.wX);
w.wX=i1.cw.Ip(I);return I*(1/4294967295)};i1.cw.Ip=function(w){w=(w^61^w>>>16)>>>0;w=w+(w<<3)>>>0;w=(w^w>>>4)>>>0;
w=w*668265261>>>0;w=(w^w>>>15)>>>0;return w};i1.cw.QO=[{gm:"0001-0-bird",A8:[["4b3c34",{J:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),C:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{J:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),C:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{J:"M C C C C C C C C C C C C L Z".split(" "),C:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{gm:"0001-0-bird2",A8:[["ff7f2a",{J:"M L L L Z M L L L Z".split(" "),C:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{J:"M C C C C C C C C C C C L Z".split(" "),C:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{J:"M C C C C C C L Z M C C Z".split(" "),C:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{J:"M L L L Z M L L L Z".split(" "),C:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{J:"M L C C C C C C C C L Z".split(" "),C:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{J:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),C:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{gm:"0000-1-flower",A8:[["7a59a2",{J:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),C:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{gm:"0000-1-flower",A8:[["d13777",{J:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),C:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{gm:"0000-1-flower",A8:[["ffac42",{J:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),C:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{gm:"0000-1-flower",A8:[["d04040",{J:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{gm:"0000-1-flower",A8:[["ec7272",{J:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),C:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{J:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),C:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{gm:"0000-0-hearts",A8:[["d17070",{J:"M C C C C C C C C C L Z".split(" "),C:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{J:"M C C C C C C C C C L Z".split(" "),C:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{J:"M C C C C C C C C C L Z".split(" "),C:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{gm:"0000-0-anchor",A8:[["2a3b66",{J:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),C:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{gm:"0000-1-leaf",A8:[["fbb600",{J:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),C:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{gm:"0000-1-acorn",A8:[["a05a2c",{J:"M C C C C C C C L Z".split(" "),C:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{J:"M C C C C C C C C C C C Z".split(" "),C:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{gm:"0000-0-skull",A8:[["808080",{J:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),C:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{gm:"0000-0-ghost",A8:[["e6e6e6",{J:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),C:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{J:"M C C C C Z M C C C C Z".split(" "),C:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{gm:"1001-1-rose",A8:[["9e1460",{J:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),C:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{J:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),C:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{gm:"1001-1-curls",A8:[["53a7ab",{J:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{J:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{gm:"0111-0-pines",A8:[["e9e9e9",{J:"M C C C C C C C C L L L Z".split(" "),C:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{J:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),C:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{gm:"0111-0-flowers",A8:[["8cae40",{J:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),C:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{J:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{gm:"1101-1-confetti",A8:[["e789ff",{J:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{J:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{gm:"1101-1-branch",A8:[["7f500b",{J:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),C:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{J:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{gm:"1101-1-sticks",A8:[["ec7272",{J:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{J:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{gm:"1101-1-dots",A8:[["ec7272",{J:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{J:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{J:["M","C","C","Z"],C:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{gm:"1101-1-strips",A8:[["ffc88c",{J:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{J:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{J:["M","C","C","Z"],C:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{gm:"1101-1-circs",A8:[["ec7272",{J:"M C C C C Z M C C C C Z".split(" "),C:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{J:"M C C C C Z M C C C C Z".split(" "),C:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{J:["M","C","C","Z"],C:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{gm:"1101-1-squares",A8:[["014ea7",{J:"M L L L L Z M L L L L Z".split(" "),C:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{J:"M L L L L Z M L L L L Z".split(" "),C:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{J:["M","C","C","Z"],C:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{gm:"1101-0-christmas",A8:[["014ea7",{J:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{J:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var ie={};ie.parse=function(w){var I=new Uint8Array(w),E=null;if(I[0]==80&&I[1]==75){var X=Date.now(),o=UZIP.parse(I.buffer),E=o["document.json"];
E=JSON.parse(M.YV(E,0,E.length));ie._r(E,o)}else{var i=jR.parse(w);E=ie.Mq(i[2][0][1])}return E};ie._r=function(w,I){var E=typeof w;
if(E=="string"||E=="number"||E=="boolean")return w;if(w instanceof Array){for(var P=0;P<w.length;P++)w[P]=ie._r(w[P],I);
return w}var X=w._class;if(X==null)return w;if(X=="MSJSONFileReference"){var o=w._ref;if(!1){}else if(I[o+".json"]!=null){var i=I[o+".json"],h=i.length;
for(var P=0;P<h;P++)if(i[P]==11||i[P]==3)i[P]=32;var k=M.YV(i,0,h);w=JSON.parse(k)}else if(I[o+".png"]!=null)return{key:o.split("/").pop(),bdata:I[o+".png"]};
else if(I[o+".jpg"]!=null)return{key:o.split("/").pop(),bdata:I[o+".jpg"]};else if(I[o+".pdf"]!=null)return{key:o.split("/").pop(),bdata:I[o+".pdf"]};
else if(I[o]!=null)return{key:o.split("/").pop(),bdata:I[o]};else{console.log(w,I);return}}else if(X=="MSAttributedString"){var k=atob(w.archivedAttributedString._archive),x=k.length-1,j=new Uint8Array(x);
for(var P=0;P<x;P++)j[P]=k.charCodeAt(P);w.archivedAttributedString=ie.Mq(j)}for(var v in w)w[v]=ie._r(w[v],I);
return w};ie.dk=function(w,I,E,X){if(w instanceof Uint8Array)return null;if(X.indexOf(w)!=-1)return null;
X.push(w);if(w==I)return E;for(var o in w){E.push(o);var i=ie.dk(w[o],I,E,X);if(i){console.log(w,i);
throw"e"}E.pop()}};ie.Mq=function(w){var I=fD.parse(w,0),E=I.$objects,X=new Uint8Array(E.length),o=ie.tU(E,X,I.$top.root);
for(var P=0;P<E.length;P++)if(X[P]==0&&P!=0){console.log(P,E[P]);ie.dk(o,P,[],[])}for(var P=0;P<E.length;
P++){var i=E[P];if(i._class&&(i._class=="bitmap"||i._class=="fill"&&i.fillType==4&&(i.image||i.imageSHA))){var h=i.image,k=i.imageSHA,x=null,j=null;
if(h=="$null")h=null;if(k=="$null")k=null;if(h&&h.data){j=h.sha1["NS.bytes"];j=btoa(M.jz(j,0,j.length));
x=h.data instanceof Uint8Array?h.data:h.data["NS.bytes"]}else if(h==null&&k==null){var v=gt.FB("PNG").v6([[Q.$(4).buffer]],1,1);
x=new Uint8Array(v)}else{var _=(o.assets?o.assets.imageCollection:o.images).images;if(k)j=k instanceof Uint8Array?k:k["NS.bytes"];
else j=h.sha1["NS.bytes"];j=btoa(M.jz(j,0,j.length));var x=_[j].data;if(x["NS.bytes"])x=x["NS.bytes"]}x=new Uint8Array(x.buffer.slice(x.byteOffset,x.byteOffset+x.length));
delete i.imageSHA;i.image={key:j,bdata:x}}}return o};ie.acl=function(w){return w.slice(0,11)=="MSImmutable"?"MS"+w.slice(11):w};
ie.tU=function(w,I,E){var X=w[E];if(I[E]==1){return X}I[E]=1;if(typeof X=="string")return X;if(typeof X=="number")return X;
if(typeof X=="boolean")return X;if(X instanceof Array)return X;if(X instanceof Uint8Array){return X}if(w[X.$class]==null){if(X.$class==null&&X["NS.data"]!=null)return X;
console.log(E,X);throw"e"}var o=w[X.$class],i=ie.acl(o.$classname);I[X.$class]=1;X.$class=i;if(ie.U3[i]){delete X.$class;
X._class=ie.U3[i]}var h=ie.tU;if(i=="NSMutableArray"||i=="NSArray"){var k=[];if(X["NS.objects"]!=null)for(var P=0;
P<X["NS.objects"].length;P++)k.push(h(w,I,X["NS.objects"][P]));else for(var P=0;X["NS.object."+P]!=null;
P++)k.push(h(w,I,X["NS.object."+P]));w[E]=k;return k}if(i=="NSDictionary"||i=="NSMutableDictionary"){var x={$class:i};
if(X["NS.keys"]!=null)for(var P=0;P<X["NS.keys"].length;P++){var j=h(w,I,X["NS.keys"][P]);if(j instanceof Uint8Array)j=btoa(ie.Lb.jz(j,0,j.length));
else if(typeof j!="string"&&typeof j!="number")j=btoa(ie.Lb.jz(j["NS.bytes"],0,j["NS.bytes"].length));
x[j]=h(w,I,X["NS.objects"][P])}else for(var P=0;X["NS.key."+P]!=null;P++){var j=h(w,I,X["NS.key."+P]);
if(j instanceof Uint8Array)j=btoa(ie.Lb.jz(j,0,j.length));else if(typeof j!="string"&&typeof j!="number")j=btoa(ie.Lb.jz(j["NS.bytes"],0,j["NS.bytes"].length));
x[j]=h(w,I,X["NS.object."+P])}for(var v in X)delete X[v];for(var v in x)X[v]=x[v];return X}if(i=="NSURL")return{$class:i,base:h(w,I,X["NS.base"]),relative:h(w,I,X["NS.relative"])};
if(ie.aqN.indexOf(i)!=-1){w[E]=h(w,I,X.array_do);return w[E]}if(X.do_objectID!=null)X.do_objectID=h(w,I,X.do_objectID);
if(ie.aye.indexOf(i)!=-1)return X;var _=ie.abS[i];if(_==null){console.log(w,X);throw"unknown class "+i}for(var P=0;
P<_.length;P++)if(X[_[P]]!=null)X[_[P]]=h(w,I,X[_[P]]);if(i=="MSTextLayer"){var L=X,U,n,a,T;if(L.attributedString)U=L.attributedString.archivedAttributedString;
else U=L.storage;T=U.NSString;if(typeof T!="string")T=M.YV(T["NS.bytes"],0,T["NS.bytes"].length);if(U.NSAttributeInfo)n=U.NSAttributeInfo["NS.bytes"];
else{var g=T.length,D=[];while(g>0){var b=Math.min(100,g);D.push(b,0);g-=b}n=new Uint8Array(D)}a=U.NSAttributes instanceof Array?U.NSAttributes:[U.NSAttributes];
var N={$class:"NSAttributedString",NSString:T,NSAttributes:a};L.attributedString={_class:"MSAttributedString",archivedAttributedString:N};
N.NSAttributeInfo={$class:"NSMutableData","NS.data":n};delete L.storage}return X};ie.Lb={vH:function(w,I){return w[I+1]<<8|w[I]},W:function(w,I){return w[I+3]<<24|w[I+2]<<16|w[I+1]<<8|w[I]},jz:function(w,I,E){var X="";
for(var P=0;P<E;P++)X+=String.fromCharCode(w[I+P]);return X}};ie.U3={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
ie.aqN=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
ie.aye="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
ie.abS={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var fD={};fD.parse=function(w,I){var E=M.jz(w,I,8);I+=8;var X=fD.parse.aux(w,w.length-31),o=[];if(X.nc==1){var I=w.length-31-X.nc*X.VQ;
for(var P=0;P<X.VQ;P++)o.push(w[I+P])}else if(X.nc==2){var I=w.length-31-X.nc*X.VQ;for(var P=0;P<X.VQ;
P++)o.push(M.vH(w,I+P*2))}else if(X.nc==4){var I=w.length-31-X.nc*X.VQ;for(var P=0;P<X.VQ;P++)o.push(M.W(w,I+P*4))}else{throw"e"}var i=fD.parse.tU(w,o,X.root,X);
return i};fD.parse.tU=function(w,I,E,X){var o=fD.Lb,i=X.a6v,h=i==4?o.W:i==2?o.vH:o.avs,k=fD.parse,x=I[E],j=w[x],v=j>>4,_=j&15,U=null;
x+=1;if([4,5,6,10,12,13].indexOf(v)!=-1&&_==15){var L=k.Qf(w,x);x+=L.bQ;_=L.k}if(!1){}else if(v==0)U=_==8?!1:_==9?!0:null;
else if(v==1)U=k.Qf(w,x-1).k;else if(v==2)U=1<<_==4?M.Hx(w,x):M.lb(w,x);else if(v==3)U=M.lb(w,x);else if(v==4)U=new Uint8Array(w.buffer,x,_);
else if(v==5)U=M.jz(w,x,_);else if(v==6)U=M.w5(w,x,_);else if(v==8){U=0;for(var P=0;P<_+1;P++)U=U<<8|w[x+P]}else if(v==10){U=[];
for(var P=0;P<_;P++)U.push(k.tU(w,I,h(w,x+i*P),X))}else if(v==12){U=[];for(var P=0;P<_;P++)U.push(k.tU(w,I,h(w,x+i*P),X))}else if(v==13){U={};
for(var P=0;P<_;P++){var n=k.tU(w,I,h(w,x+i*P),X),a=k.tU(w,I,h(w,x+i*(_+P)),X);U[n]=a}}else throw"unknown mask "+v;
return U};fD.parse.Qf=function(w,I){var E=1<<(w[I]&15),X=0;for(var P=0;P<E;P++)X=X<<8|w[I+1+P];return{k:X,bQ:E+1}};
fD.parse.aux=function(w,I){var E={};I+=6;E.nc=w[I];I++;E.a6v=w[I];I++;I+=4;E.VQ=M.W(w,I);I+=4;I+=4;E.root=M.W(w,I);
I+=4;I+=4;E.alr=M.W(w,I);I+=4;return E};fD.Lb={avs:function(w,I){return w[I]},vH:function(w,I){return w[I]<<8|w[I+1]},W:function(w,I){return w[I]<<24|w[I+1]<<16|w[I+2]<<8|w[I+3]},jz:function(w,I,E){var X="";
for(var P=0;P<E;P++)X+=String.fromCharCode(w[I+P]);return X}};var jR={parse:function(w){var I=new Uint8Array(w),E=jR.vY(I),X=[],o=new Uint8Array(I.length),i=[];
X.push(i);jR.x8(I,E,1,o,i);for(var P=0;P<i.length;P++){var h=[];X.push(h);jR.x8(I,E,i[P][3],o,h);i[P][3]=P+1}return X},x8:function(w,I,E,X,o){E--;
var i=E*I.ig+(E==0?100:0),h=w[i],k=jR.vH(w,i+1);if(k!=0)throw"free block in a page";var x=jR.vH(w,i+3),j=jR.vH(w,i+5);
if(j==0)j=65536;var v=w[i+7],_=jR.vH(w,i+8);if(h==2||h==5)i+=4;else _=0;for(var L=0;L<x;L++){var U=E*I.ig+jR.vH(w,i+8+2*L),n=-1,a=0,T=0,g=0;
if(h==2||h==5){n=jR.W(w,U);U+=4}if(h==2||h==10||h==13){a=jR.q$(w,U);U+=a.bQ}if(h==5||h==13){T=jR.q$(w,U);
U+=T.bQ}if(h==5){jR.x8(w,I,n,X,o);continue}var D=I.ig-(E==0?100:0),b=a.P$,N=h==13?D-35:Math.floor((D-12)*64/255)-23,C=Math.floor((D-12)*32/255)-23,Z=C+(b-C)%(D-4);
if(b<=N){jR.QM(w,U,X,0,b)}else{var S=Z<=N?Z:C,u=0;jR.QM(w,U,X,0,S);u+=S;g=jR.W(w,U+S);while(g!=0){var p=(g-1)*I.ig;
g=jR.W(w,p);var f=Math.min(I.ig-4,b-u);jR.QM(w,p+4,X,u,f);u+=f}}o.push(jR.a54(X,b))}},a54:function(w,I){var E=0,X=jR.q$(w,E);
E+=X.bQ;var o=[],i=[];while(E<X.P$){var h=jR.q$(w,E);E+=h.bQ;o.push(h.P$)}if(E!=X.P$)throw"e";for(var P=0;
P<o.length;P++){var h=o[P];if(!1){}else if(h==0)i.push(null);else if(h==1){i.push(jR.ajt(w,E));E+=1}else if(h==2){i.push(jR.mL(w,E));
E+=2}else if(h==3){i.push(jR.a5O(w,E));E+=3}else if(h==4){i.push(jR.Qf(w,E));E+=4}else if(h==7){i.push(jR.a39(w,E));
E+=16}else if(h==8)i.push(0);else if(h==9)i.push(1);else if(h>=12&&(h&1)==0){var k=h-13>>1,x=new Uint8Array(k);
jR.QM(w,E,x,0,k);i.push(x);E+=k}else if(h>=13&&(h&1)==1){var k=h-12>>1;i.push(jR.YV(w,E,k));E+=k}else throw"unknonw type "+h}return i},vY:function(w){if(!(w[18]==1&&w[19]==1&&w[20]==0&&w[21]==64&&w[22]==32&&w[23]==32))throw"unexpected SQL3 header";
var I={S3:jR.jz(w,0,15),ig:jR.vH(w,16),abL:jR.W(w,24),size:jR.W(w,28),apF:jR.W(w,32),axz:jR.W(w,36),a4n:jR.W(w,40),ad_:jR.W(w,44),auw:jR.W(w,48),afP:jR.W(w,52),ak6:jR.W(w,56),alR:jR.W(w,60),auR:jR.W(w,64)!=0,ajm:jR.W(w,68),abY:jR.W(w,92),ann:jR.W(w,96)};
if(I.ig==1)I.ig=65536;if(I.ak6!=1)throw"unsupported text encoding "+I.ak6;return I},a0r:function(w,I){return w[I]<<16|w[I+1]<<8|w[I+2]},a5O:function(w,I){var E=jR.a0r(w,I),X=E&8388608;
return X?-(16777215-E+1):E},ajt:function(w,I){jR.kE[0]=w[I];return jR.akl[0]},Qf:function(w,I){var E=jR.kE;
for(var P=0;P<4;P++)E[P]=w[I+3-P];return jR.a8_[0]},mL:function(w,I){var E=jR.kE;E[0]=w[I+1];E[1]=w[I];
return jR.a1w[0]},vH:function(w,I){return w[I]<<8|w[I+1]},W:function(w,I){return w[I]<<24|w[I+1]<<16|w[I+2]<<8|w[I+3]},a39:function(w,I){var E=jR.kE;
for(var P=0;P<8;P++)E[P]=w[I+7-P];return jR.aa$[0]},q$:function(w,I){var E=I,eS=0;while(!0){var X=w[I];
I++;eS=eS*128+(X&127);if(X<128)break}return{P$:eS,bQ:I-E}},jz:function(w,I,E){var X="";for(var P=0;P<E;
P++)X+=String.fromCharCode(w[I+P]);return X},YV:function(w,I,E){var X="";for(var P=0;P<E;P++)X+="%"+jR.a90(w[I+P].toString(16));
return decodeURIComponent(X)},QM:function(w,I,E,X,o){if(w[I+o-1]==null||E[X+o-1]==null){console.log(I,X,o);
throw"e"}for(var P=0;P<o;P++)E[X+P]=w[I+P]},a90:function(eS){return eS.length<2?"0"+eS:eS}};jR.kE=new Uint8Array(8);
jR.akl=new Int8Array(jR.kE.buffer);jR.a1w=new Int16Array(jR.kE.buffer);jR.a8_=new Int32Array(jR.kE.buffer);
jR.aa$=new Float64Array(jR.kE.buffer);function d1(w,I,E){this.ii=w;this.U$=I;this.ahl=E;this.Vi=new a5(0,0);
this.H4=-1;this.Bt=0;this.mI=0;this.rH=new dC;this.Si=[];this.HI=null;this.a9d=null;this.UP=null;this.OR=null;
this.wf=null;this.av_=null}d1.prototype.StartPage=function(w,I,E,X,o){var i=this.U$,h=i.dA(),k=1,x=(E-w)*(X-I);
if(o!=null)x=o;while(x*h*h/(k*k)>2*8192*8192)k++;i.scale(1/k,1/k);this.a9d=[w,I,E,X];var k=i.dA();w=Math.round(w*k);
I=Math.round(I*k);E=Math.round(E*k);X=Math.round(X*k);var j=this.ii,v=this.UP;if(v==null){i.N9=-w}else{var _=v[2]-v[0]+30,L=Math.round(E-w)+30;
if(this.Vi.x+_+L>8192){i.N9=-w;this.Vi.x=0;this.Vi.y+=this.mI+120;this.mI=0}else{i.N9+=_;this.Vi.x+=_}}i.Zt=this.Vi.y+(this.ahl?X:-I);
this.mI=Math.max(this.mI,Math.round(X-I));this.UP=[w,I,E,X];j.b.push(j.Rf())};d1.prototype.s4=function(){var w=this.ii,I=w.b[w.b.length-1];
return I};d1.prototype.GW=function(){var w=JSON.parse(JSON.stringify(hL.Oq.default));w.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
w.strokeEnabled.v=!1;w.fillEnabled.v=!1;return w};d1.prototype.j7=function(){var w=this.ii,I=w.XY();
I.G_("Path "+w.b.length);this.ii.b.push(I);I.Bo|=16;I.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.Ex({o:0,P:0,L:0})}};
I.add.vmsk=new K.DN;I.add.vstk=this.GW();return I};d1.prototype.J_=function(w){var I={C:w.crds,J:w.cmds},E=Q.p.PY(I,!1);
Q.O.yJ(E,this.U$);return E};d1.abm=function(w,I){for(var P=0;P<w.length;P++)if(w[P].KP!=null)w[P].KP=I};
d1.agD=function(w){return Math.sqrt(Math.abs(w[0]*w[3]-w[1]*w[2]))};d1.Zj=function(w){return Q.N.Ex({o:w[0]*255,P:w[1]*255,L:w[2]*255})};
d1.yG=function(w){return new am(w[0],w[1],w[2],w[3],w[4],w[5])};d1.prototype.Stroke=function(w){if(this.H4!=-1&&this.H4!=this.Bt)return;
if(w.pth.cmds.length<=1)return;var I=this.J_(w.pth);if(I.length<=2)return;this.Fl(w);d1.abm(I,-1);I[2].KP=1;
var E=d1.Zj(w.COLR),X=this.s4(),o=this.GW();d1.Nn(o,w,this.U$.dA(),E);var i=X!=null&&X.add.vmsk!=null&&!X.vD(),h=i&&!X.add.vstk.strokeEnabled.v&&K.DN.agK(X.add.vmsk.j,I,!0),k=i&&!X.add.vstk.fillEnabled.v&&JSON.stringify(o)==JSON.stringify(X.add.vstk);
if(k){X.add.vmsk.j=X.add.vmsk.j.concat(I.slice(2))}else if(h){X.add.vstk=o;o.fillEnabled.v=!0}else{X=this.j7();
X.add.vmsk.j=I;X.add.vstk=o}};d1.Nn=function(w,I,E,X){w.strokeEnabled.v=!0;w.strokeStyleMiterLimit.v=I.mlimit;
w.strokeStyleLineDashSet.v=aQ.by(I.dash,1/I.lwidth);w.strokeStyleLineDashOffset.v.val=I.doff;w.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hL.Oq.join[I.ljoin];
w.strokeStyleLineCapType.v.strokeStyleLineCapType=hL.Oq.zL[I.lcap];w.strokeStyleLineWidth.v.val=Math.max(.4,I.lwidth*d1.agD(I.ctm)*E);
w.strokeStyleContent.v.Clr.v=X};d1.prototype.Fill=function(w,I){if(this.H4!=-1&&this.H4!=this.Bt)return;
if(w.ca==0)return;var E=w.pth.cmds;if(E.length==0)return;if(E.length==2&&JSON.stringify(E)=="[\"M\",\"L\"]")return;
var X=Q.p.zK(w.pth.crds),o=Q.p.zK(w.cpth.crds);if(X.LP(o).qo())return;var i=w.pth,h=UDOC.G.isBox(i,[X.x,X.y,X.x+X.q,X.y+X.w]),k=w.cpth,x=UDOC.G.isBox(k,[o.x,o.y,o.x+o.q,o.y+o.w]);
if(h&&x&&X.A()>o.A()*2){var j=X.LP(o),v=j.x,_=j.y,L=v+j.q,U=_+j.w;i={cmds:["M","L","L","L","Z"],crds:[v,_,L,_,L,U,v,U]};
X=j}else if(this.OR==null&&UDOC.G.isBox(i,[X.x,X.y,X.x+X.q,X.y+X.w])&&X.RP(o)){i=k;X=o}else this.Fl(w);
var n=this.J_(i),a=Q.p.sy(X);Q.p.F(a.C,this.U$,a.C);X=Q.p.zK(a.C);var T=d1.cy(w.colr,this.U$,X),g=this.s4(),D=g!=null&&g.opacity==Math.round(255*w.ca)&&g.add.vstk!=null&&!g.add.vstk.strokeEnabled.v&&g.add.SoCo&&T.type=="SoFi"&&JSON.stringify(g.add.SoCo.Clr.v)==JSON.stringify(T.k.v.Clr.v);
if(D){var b=!1;for(var P=0;P<n.length;P++){if(n[P].KP==0||n[P].KP==2)b=!0}if(b){var N=Q.p.zK(Q.O.X2(g.add.vmsk.j)),C=Q.p.zK(Q.O.X2(n));
D=N.LP(C).qo()}}if(D){var Z=g.add.vmsk.j;for(var P=2;P<n.length;P++)Z.push(n[P])}else{g=this.j7();delete g.add.SoCo;
g.add.vmsk.j=K.DN.ER(n);d1.We(w.colr,g,this.U$,X);d1.EU(w,g)}};d1.We=function(w,I,E,X){var o=d1.cy(w,E,X),i=null,h=null;
I.add.vstk.fillEnabled.v=!0;if(o.type=="SoFi"){i="SoCo";h=hL.y8}if(o.type=="GrFl"){i="GdFl";h=hL.qT}if(o.type=="patternFill"){i="PtFl";
h=hL.BK}if(i!=null){I.add[i]={classID:"null"};for(var P=0;P<h.length;P++){var k=h[P];I.add[i][k]=o.k.v[k]}}};
d1.prototype.Fl=function(w){var I=this.ii,E=w.cpth,X=E.cmds.join(""),o=E.crds,i=X+" "+o.join(","),h=UDOC.G.isBox(E,this.a9d);
if(h&&this.OR==null)return;if(i==this.OR)return;this.JG();if(!h){this.OR=i;I.b.push(I.Rf());var k=I.XY();
k.G_("Mask");k.add.lsct=gs.S2;k.$B="pass";k.Bo=24;var x=k.add.vmsk=new K.DN;x.j=this.J_(w.cpth);if(UDOC.G.isBox(E)){this.wf=Q.O.sM(x.j);
this.wf.Cs(3,3)}else this.wf=null;this.av_=k}};d1.prototype.JG=function(){var w=this.ii;if(this.OR!=null){var I=w.b.length-1,P=I,E=!1;
while(P>=0&&w.b[P].add.lsct!=gs.sz)P--;var X=this.wf;if(X){var o=new dC,i=I;while(i>P){o=w.b[i].MI(this.ii,!1,!0);
i--}E=X.RP(o)}if(E){this.Si.splice(P,1);w.b.splice(P,1)}else{w.b.push(this.av_)}this.OR=null}};d1.cy=function(w,I,E){var X,o;
if(w.length!=null){X="SoFi";var i=JSON.parse(hL.zd[hL.order.indexOf("SoFi")]);o={t:"Objc",v:i};o.v.Clr.v=d1.Zj(w)}else{var h=d1.aku(w,I,E);
X="GrFl";o={t:"Objc",v:h}}return{type:X,k:o}};d1.aku=function(w,I,E){var X=JSON.parse(hL.zd[hL.order.indexOf("GrFl")]),o=X.Grad.v;
o.Intr.v=0;var i=d1.yG(w.mat);i.concat(I);var h=new a5(0,0),k=new a5(E.q,0),x=w.crds;if(w.typ=="rad"){X.Type.v.GrdT="Rdl";
var j=.7;h.x=(1-j)*x[0]+j*x[3];h.y=(1-j)*x[1]+j*x[4];k.x=h.x;k.y=h.y;k.x+=Math.max(x[2],x[5])}else{X.Type.v.GrdT="Lnr";
h.x=x[0];h.y=x[1];k.x=x[2];k.y=x[3];h.x=k.x+.5*(h.x-k.x);h.y=k.y+.5*(h.y-k.y)}h=i.kG(h);k=i.kG(k);Q.N.xD(h,k,E,X);
var v=w.grad;Q.N.GL(v,o);return X};d1.prototype.PutText=function(w,I,E,X){var o=I.charCodeAt(0),L=null;
if(this.H4!=-1&&this.H4!=this.Bt)return;if(I.length==0||I.length==1&&(o==0||o==8203))return;this.Fl(w);
var i=this.ii,h=w.font,k=d1.yG(w.ctm);k.concat(this.U$);var x=d1.yG(h.Tm);x.concat(k);var j=q.R.dA(x),v=new am(1/j,0,0,-1/j,0,0);
v.concat(x);var _=h.Tfs*j,U=i.b.length-1;while(U>=0&&i.b[U].add.TySh==null)U--;if(v.L*v.L+v.I5*v.I5<.001&&X==null&&U>=0&&i.b[U].add.TySh&&i.b[U].opacity==Math.round(255*w.ca)){var n=i.b[U],a=this.Si[U],T=n.add.TySh.F,g=(T.N9+a.ty-v.N9)/_,D=Math.abs(g),b=I.indexOf(" ")==-1,N=T.lV==v.lV&&T.L==v.L&&T.I5==v.I5&&T.cA==v.cA,C=N&&Math.abs(a.zQ-v.Zt)<1e-5&&D<.6,Z=v.Zt-a.zQ;
if(C){L=n;a.ty=v.N9-T.N9;if(g>.2&&b&&[".",",","?",":","!"].indexOf(I)==-1)I=" "+I}else if(N&&Math.abs(v.N9-T.N9)<1e-5&&0<Z&&Z<_*1.7&&a.alQ==_){L=n;
this.eM(a);a.zQ=v.Zt;I="\n"+I}}if(L==null){U=i.b.length;this.Si[U]={jZ:[],ty:0,zQ:v.Zt,nR:"",alQ:_};
L=i.XY();i.b.push(L);L.add.lnsr="rend";L.add.TySh=bQ.za(0,0);L.add.TySh.F=v}var a=this.Si[U];a.ty+=E*_;
a.nR+=I;var S=L.add.TySh.Da,u=bQ.Of(S);if(X){bQ.Kv(S,1);var p=[0,0,Math.ceil(X[0]*j),Math.ceil(X[1]*j)];
bQ.Nq(S,p)}var f=u.length-1,d=f+I.length;bQ.fZ(S,f,I);if(this.HI==null)this.HI=bQ.wg(S,f,f);var l=this.HI;
l.hd.FontSize=Math.round(_);l.hd.Tracking=Math.round(h.Tc*100);l.hd.Underline=h.Tun==1;l.hd.FillColor={Type:1,Values:[1,w.colr[0],w.colr[1],w.colr[2]]};
if(h.Tal!=null)l.wo.Justification=h.Tal;if(a.jZ.length!=0){l.hd.AutoLeading=!1;l.hd.Leading=a.zQ-a.jZ[a.jZ.length-1].y}var A=h.Tf;
A=A.replace(/#2B/g,"+");A=A.replace(/#2C/g,"-");A=A.split("+").pop();var B={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(B[A])A=B[A];bQ.Ab(l,A);bQ.JF(S,f,d-1,l);L.vM();L.opacity=Math.round(255*w.ca)};d1.prototype.eM=function(w){w.jZ.push({LQ:w.ty,U8:w.nR.slice(w.jZ.length==0?0:1)+"\n",y:w.zQ,Ls:w.alQ});
w.ty=0;w.nR=""};d1.prototype.jb=function(w,I,E){return new Uint8Array(gt.FB("PNG").v6([[w.buffer,0]],I,E))};
d1.prototype.PutImage=function(w,I,E,X,o,i,h){if(this.H4!=-1&&this.H4!=this.Bt)return;var k=this.ii,x=w.font.Tmode;
if(x==7&&k.b[k.b.length-1].add.TySh){return}this.Fl(w);var j=d1.yG(w.ctm);j.concat(this.U$);var v=new am(1/E,0,0,-1/X,0,1);
v.concat(j);j=v;I=d1.F_(I,E,X,i,!1);if(o)o=d1.F_(o,E,X,h,!0);if(o==null){if(I.length==E*X*4)I=this.jb(I,E,X)}else{I=this.R7(I,E,X,i,!1);
o=this.R7(o,E,X,h,!0);var _=Q.$(E*X);Q.qe(o,_,0);Q.lJ(_,I,3);I=this.jb(I,E,X)}var L=k.ec(I,"Bitmap",0,0),U=L.rect.clone();
U.x=U.y=0;var n=Q.p.sy(U).C;Q.p.F(n,j,n);L.add.SoLd.Trnf=q.R.bd(n);L.add.SoLd.nonAffineTransform=q.R.bd(n);
L.vR(k,!1);d1.EU(w,L);k.b.push(L)};d1.EU=function(w,I){I.opacity=Math.round(255*w.ca);var E=d1.UU[w.bmode];
if(E==null)console.log("Unknown blend mode",E);else I.$B=E};d1.UU={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
d1.no=function(w){for(var I in d1.UU)if(d1.UU[I]==w)return I};d1.F_=function(w,I,E,X,o){var i=gt.mq(w.buffer);
if(i=="jpg"){try{w=new Uint8Array(gt.FB("JPG").ajK(w.buffer))}catch(df){w=new Uint8Array(I*E*4)}}else if(i=="jb2"){w=new Uint8Array(gt.FB("JPG").CE(w.buffer,X,o)[0].data)}else if(w.length!=I*E*4){var h=new Uint8Array(I*E*4),k=Math.ceil(I/8),x=new Uint8Array(E*k);
UTIF.decode._decodeG4(w,0,w.length,x,0,I,1);var j=x[0]==(o?255:0);for(var v=0;v<E;v++){var _=k*v;for(var L=0;
L<I;L++){var P=v*I+L,U=P*4,n=(x[_+(L>>3)]>>7-(L&7)&1)*255;if(j)n=255-n;h[U]=n;h[U+1]=n;h[U+2]=n;h[U+3]=255}}w=h}return w};
d1.prototype.R7=function(w,I,E,X,o){if(w.length!=I*E*4){var i=gt.mq(w.buffer);if(i=="jb2")throw"e";var h=gt.FB(i);
if(h==null||i=="tga")h=gt.FB("jpg");w=new Uint8Array(h.CE(w,X,o)[0].data)}return w};d1.prototype.ShowPage=function(){var w=this.ii;
this.Bt++;var I=this.UP;this.JG();var E=w.XY();w.b.push(E);var X=new dC(Math.round(this.Vi.x),Math.round(this.Vi.y),Math.round(I[2]-I[0]),Math.round(I[3]-I[1]));
if(X.qo())X.q=X.w=2e3;this.rH=this.rH.jB(X);E.CZ(X);E.add.artb.artboardBackgroundType.v=1;E.G_("Page "+this.Bt);
E.add.lsct=gs.S2;E.$B="pass";E.Bo=24};d1.prototype.Print=function(w){console.log("Print:",w)};d1.prototype.Done=function(){var w=this.ii;
if(this.Bt==1)w.b[w.b.length-1].add.lsct=gs.Y_;w.G0(this.Bt);for(var P=0;P<w.b.length;P++){var I=w.b[P],E=I.add.vmsk,X=I.add.TySh,o=this.Si[P];
I.QQ();if(E){var i=!1;for(var h=0;h<E.j.length;h++){var k=E.j[h];if((k.type==0||k.type==3)&&k.length>32767)i=!0}if(i){w.b.splice(P,1);
P--;continue}}I.kH(w);if(X&&o.jZ.length!=0){this.eM(o);var x=X.Da,j=o.jZ.length,v=o.jZ[0],_=0,L=0;for(var h=0;
h<j;h++)_=Math.max(_,o.jZ[h].LQ);bQ.Kv(x,1);X.F.Zt-=v.Ls*.7;bQ.Nq(x,[0,0,Math.ceil(_*1.1),Math.ceil(o.jZ[j-1].y-v.y+v.Ls*2)])}if(X){var x=X.Da;
bQ.ak_(x);var U=bQ.Of(x).split("\n");for(var h=0;h<U.length-1;h++){var n=U[h],a=0;for(var T=0;T<n.length;
T++){var g=n.charCodeAt(T);if(1473<=g&&g<=1524)a++}if(a>n.length/2){U[h]=n.split("").reverse().join("");
var D=x.EngineDict.ParagraphRun.RunArray[h].ParagraphSheet.Properties;D._Direction=1;D.Justification=bQ.p3(D)}}bQ.jG(x,U.join("\n"))}}w.NZ=!0;
w.q=this.rH.q;w.w=this.rH.w;w.buffer=Q.$(this.rH.A()*4)};var b0={};b0.Ke=null;b0.hI=function(w,I,E,X,o,i){if(o==null)o=w.q;
if(i==null)i=w.w;b0.Ke=w;var h=!1,k=[w.root],x=w.root.children;if(w.add.artd){h=!0;for(var P=0;P<x.length;
P++)if(x[P].l.add.artb==null)h=!1;if(h)k=x}var j=new dC(0,0,w.q,w.w),v=I[0];v=v.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
v=v.split(" ");var _=[];for(var P=0;P<v.length;P++){var L=v[P];if(L=="-"){var U=_.pop(),n=parseInt(v[P+1]);
while(U<n){_.push(U);U++}}else _.push(parseInt(L))}v=_;for(var P=0;P<v.length;P++)if(isNaN(v[P])||v[P]<1||v[P]>k.length){v.splice(P,1);
P--}var a=o/w.q,T=i/w.w,g=a*72/w.nN,D=T*72/w.nN,b=I[5];if(b==null)b=0;var N=72*b,C=72*b;for(var Z=0;
Z<k.length;Z++){var P=Z;if(I[2])P=k.length-1-Z;if(v.length!=0&&v.indexOf(P+1)==-1)continue;var S=k[P],u=h?S.l.Z9():j;
if(!S.l.TH())continue;var p=Math.round(u.q*g+2*N),f=Math.round(u.w*D+2*C);E.StartPage(0,0,p,f);var d=UDOC.getState([[0,0,p,f]]),l=new am;
l.translate(-u.x,-u.y-u.w);l.scale(g,-D);l.translate(N,C);if(h){var A=S.l.add.artb,B=A.artboardBackgroundType.v;
if(B!=1&&B!=3){var e=S.l.Ld(),m=N,$=C,V=m+u.q,H=$+u.w;d.colr=[(e>>>0&255)/255,(e>>>8&255)/255,(e>>>16&255)/255];
d.pth={cmds:["M","L","L","L","Z"],crds:[m,$,V,$,V,H,m,H]};E.Fill(d)}}if(I[3]){var F=w.sQ();if(!j.ZQ(u)){F=Q.$(u.A()*4);
Q.D6(w.sQ(),j,F,u)}var G=w.iT();if(G)ICC.U.applyLUT(G[w.add.fcmy==1?5:3],G[2],F,F);if(I[1]!=100){var J=gt.FB("JPG").v6([[F.buffer]],u.q,u.w,[I[1]]);
F=new Uint8Array(J)}var c=new am;c.translate(u.x,u.y);b0.m$(d,E,F,u,c,l)}else{b0.qw(w,S,d,E,l,I,X);if(N!=0){var m=N,$=C,V=m+u.q,H=$+u.w,r=V+N,s=H+N;
d.ca=1;d.colr=[1,1,1];d.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,s,r,s,r,0,m,$,V,$,V,H,m,H]};
E.Fill(d)}}E.ShowPage()}E.Done();b0.Ke=null};b0.JE=function(w){w=Q.N.BL(w);return[w.o/255,w.P/255,w.L/255]};
b0.qw=function(w,I,E,X,o,i,h){var k=I.l,x=k.add.lsct,j=k.add.lmfx,v=k.add.vmsk,_=k.add.vstk,L=k.add.TySh,g,D;
if(!k.TH())return;var U=k.opacity/255,n=k.add.iOpa!=null?k.add.iOpa/255:1;E.bmode=d1.no(k.$B);var a=E.ca;
E.ca=E.CA=E.ca*U*n;var T=j;if(T)T=T.solidFillMulti.v[0];if(T)T=T.v;if(T&&!T.enab.v)T=null;var b=k.rect;
if(k.qW()&&(!k.vD()||k.Nu&&k.Nu._3)){if(k.vD()){g=k.Nu._3;b=k.Nu.ahw}else{g=Q.$(k.rect.A());Q.qe(k.buffer,g,3)}D=aQ.hj(j,k.add.fxrp,g,b,w,b).type;
var N=["DrSh","OrGl"];if(n!=1||_&&!_.fillEnabled.v){var C=g.slice(0);Q.ja(C);for(var P=0;P<N.length;
P++){var Z=D[N[P]];for(var S=0;S<Z.length;S++){var u=Z[S],p=u.ze.clone();p.x+=b.x;p.y+=b.y;Q.HQ(C,b,u.Fr,p)}}}}if(D)b0.a42(k,g,b,D,E,X,o,i,!0);
if(k.vD()){for(var P=0;P<I.children.length;P++)b0.qw(w,I.children[P],E,X,o,i,h)}else if(v&&k.us()&&k.add.PtFl==null){var f=v.j,d=Q.O.sM(f),l=!1;
if(_.fillEnabled.v){var A=aQ.T3(j,k.add),B=A[0],e=A[1];E.colr=b0.abI(B?B:e,o,d);l=!0}var m=aQ.AM(j);
if(!_.strokeEnabled.v&&m)_=m;var $=Q.p.l1(f,_.strokeEnabled.v),V=$.bz;Q.p.F(V.C,o,V.C);E.pth={cmds:V.J,crds:V.C};
b0.arW(X,E,l,_,o,d,$.lw!=0)}else if(L&&i[4]){var H=L.Da,F=new g9(H,h),V=fv.y2(F,L),G=Q.p.Qe(V),J=aQ.AM(j);
for(var c in G){var r=parseInt(c.slice(1,7),16),s=0;E.colr=T?b0.JE(T.Clr.v):b0.a6e(r);var z=G[c];Q.p.F(z.C,o,z.C);
z=Q.p.ajZ(z);E.pth={cmds:z.J,crds:z.C};var _=J;if(c.length>7){_=JSON.parse(JSON.stringify(hL.Oq.default));
var Y=c.slice(7).split("-"),r=parseInt(Y[1].slice(1),16),ax=b0.a6e(r);_.strokeEnabled.v=!0;_.strokeStyleLineWidth.v.val=parseFloat(Y[2]);
_.strokeStyleContent.v.Clr.v=T?T.Clr.v:Q.N.Ex({o:ax[0]*255,P:ax[1]*255,L:ax[2]*255});_.strokeStyleMiterLimit.v=parseFloat(Y[2])}b0.arW(X,E,!0,_,o,null,!1)}}else if(L){var H=JSON.parse(JSON.stringify(L.Da));
bQ.ak_(H);var iW=L.F.clone(),y=new am(1,0,0,-1,0,0);y.concat(iW);y.concat(o);var hm=bQ.Of(H),F=new g9(H,h);
for(var P=0;P<F.wo.length;P++){var t=F.wo[P];if(t.TY.length==1&&t.TY[0].JZ)continue;for(var S=0;S<t.lB.length;
S++){var cT=t.lB[S],c4=t.Z2.y+cT.Z2.y,kv=t.TY[cT.start].start,iL=t.TY[cT.end-1].end,cr=bQ.a8k(H,kv,iL);
for(var ga=0;ga<cr.length;ga++){var iq=F.u_(kv),ei=cr[ga],hw=bQ.wg(H,kv,kv),hC=hw.B0[hw.hd.Font].Name;
E.font.Tf=hC;var c=bQ.BL(hw.hd.FillColor);E.colr=T?b0.JE(T.Clr.v):[c.o/255,c.P/255,c.L/255];var j5=E.font.Tfs=Math.round(hw.hd.FontSize),ed=hm.slice(kv,kv+ei);
if(hw.hd.FontCaps==2)ed=ed.toUpperCase();var jn=new am;jn.translate(iq._b.x,-c4);jn.concat(y);E.ctm=[jn.lV,jn.L,jn.I5,jn.cA,jn.N9,jn.Zt];
X.PutText(E,ed,0);for(var fj=0;fj<2;fj++){var di=hw.hd[fj==0?"Strikethrough":"Underline"];if(!di)continue;
var b1=F.u_(kv+ei-1),dI=fj==0?.27:-.2,h2=j5*dI,de=j5*(dI+.07),s=b1._b.x+b1._b.q-iq._b.x,ds=[0,h2,s,h2,s,de,0,de];
Q.p.F(ds,jn,ds);E.pth={cmds:["M","L","L","L","Z"],crds:ds};X.Fill(E)}E.ctm=[1,0,0,1,0,0];kv+=ei}}}}else if(!k.rect.qo()){var jO,gy,fV=!1,hl=new am,im=k.add.SoLd,hy=!0;
if(im)hy=Q.K.bS(q.R.kp(im.Trnf));if(im&&hy){var hA=im.Idnt.v,j2=w.ot(hA,im.Crop?im.Crop.v:null),eh="";
if(j2==null)return;var dQ=j2.lG,aS=gt.mq(j2.raw.buffer);if(i[6].indexOf(aS)!=-1){jO=j2.raw;fV=!0}else jO=dQ[0];
gy=dQ[1];hl=Q.K.hh(im)}else{jO=k.buffer;gy=k.rect;hl.translate(gy.x,gy.y)}if(T&&!fV)jO=aQ.aoO(jO,T,gy);
b0.m$(E,X,jO,gy,hl,o);if(T&&fV){var ds=[0,0,gy.q,0,gy.q,gy.w,0,gy.w];Q.p.F(ds,hl,ds);Q.p.F(ds,o,ds);
var h_=JSON.parse(JSON.stringify(E));h_.ca=T.Opct.v.val/100;h_.pth={cmds:["M","L","L","L","Z"],crds:ds};
h_.colr=b0.JE(T.Clr.v);X.Fill(h_)}}E.ca=E.CA=a;if(D)b0.a42(k,g,b,D,E,X,o,i,!1)};b0.arW=function(w,I,E,X,o,i,h){var k=!1,x=0,j=0;
if(X&&X.strokeEnabled.v){var v=X.strokeStyleContent.v,_=X.strokeStyleLineDashSet.v;x=hL.Oq.hN.indexOf(X.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
I.COLR=b0.abI(v,o,i);j=X.strokeStyleLineWidth.v.val*o.dA();I.mlimit=X.strokeStyleMiterLimit.v;I.doff=X.strokeStyleLineDashOffset.v.val;
I.ljoin=hL.Oq.join.indexOf(X.strokeStyleLineJoinType.v.strokeStyleLineJoinType);I.lcap=hL.Oq.zL.indexOf(X.strokeStyleLineCapType.v.strokeStyleLineCapType);
I.dash=[];for(var P=0;P<_.length;P++)I.dash.push(_[P].v.val*I.lwidth);if(I.dash.length==1&&I.dash[0]==0)I.dash=[];
k=!0}var L=x==2;if(E&&!L)w.Fill(I,h);if(k){I.lwidth=j*(x==2?2:1);w.Stroke(I)}if(E&&L)w.Fill(I,h)};b0.a6P=function(w){var I=b0.Ke,E=I.iT();
if(E&&I.add.fcmy){var X=new Uint8Array(4);X[0]=.5+w[0]*255;X[1]=.5+w[1]*255;X[2]=.5+w[2]*255;ICC.U.applyLUT(E[I.add.fcmy==1?5:3],E[2],X,X);
w=[X[0]/255,X[1]/255,X[2]/255]}return w};b0.JE=function(w){w=Q.N.BL(w);return b0.a6P([w.o/255,w.P/255,w.L/255])};
b0.a6e=function(w){return b0.a6P([(w>>>16&255)/255,(w>>>8&255)/255,(w&255)/255])};b0.abI=function(w,I,E){if(w.Clr)return b0.JE(w.Clr.v);
var X=w,o=X.Rvrs?X.Rvrs.v:!1,i=X.Type.v.GrdT,h=[],k,x=i=="Rdl"||i=="Dmnd"?"rad":"lin",j=Q.N.Fj(X,E),v=I.kG(j[0]),_=I.kG(j[1]);
if(x=="rad")k=[v.x,v.y,0,v.x,v.y,a5.GZ(v,_)];else{v.eo(_.x+(v.x-_.x)*2,_.y+(v.y-_.y)*2);k=[v.x,v.y,_.x,_.y]}var L=X.Grad.v.Clrs.v;
for(var P=0;P<L.length;P++){var U=L[P].v,n=U.Lctn.v/4096;h.push([o?1-n:n,b0.JE(U.Clr.v)])}if(o)h.reverse();
return{typ:x,mat:[1,0,0,1,0,0],grad:h,crds:k}};b0.a42=function(w,I,E,X,o,i,h,k,x){var j=E.clone(),v=I;
if(w.add.TySh&&!k[3]&&!k[4])return;var _=o.ca,L=o.bmode;for(var P=hL.order.length-1;P>=0;P--){var U=hL.order[P];
if(U=="GrFl"||U=="SoFi")continue;if((w.add.vmsk||w.add.TySh)&&U=="FrFX")continue;var n=X[U],a=P>7||U=="FrFX";
if(a!=x)continue;for(var T=0;T<n.length;T++){var g=n[T];if(g.ze==null)g=g.Jt?g.Jt:g.Z8;var D=g.ze.clone();
D.offset(j.x,j.y);if(!a){if(!j.RP(D)){var b=j.jB(D),N=Q.$(b.A());Q.b_(v,j,N,b);v=N;j=b}Q.HQ(v,j,g.Fr,D)}if(a&&U=="FrFX"&&g.KF)Q.HQ(g.KF,D,g.Fr,D);
var C=new am;C.translate(D.x,D.y);o.ca=g.oK;o.bmode=d1.no(g._h);b0.m$(o,i,g.Fr,D,C,h)}}o.ca=_;o.bmode=L};
b0.m$=function(w,I,E,X,o,i){var h=new am;h.scale(X.q,-X.w);h.translate(0,X.w);h.concat(o);h.concat(i);
w.ctm=[h.lV,h.L,h.I5,h.cA,h.N9,h.Zt];I.PutImage(w,E,X.q,X.w);w.ctm=[1,0,0,1,0,0]};var g2={};g2.fM=function(w){var I=new Uint8Array(w);
return g2.A9(I,0)};g2.A9=function(w,I){var E=M.W,X=M.jz,o={wl:X(w,I,4),z:I+8,size:E(w,I+4)},i=o.wl=="FORM"||o.wl=="LIST"||o.wl=="CAT ";
if(i)o.m9=X(w,I+8,4);if(o.size<0||o.z+o.size>w.length)throw"e";if(i){o.sub=[];I+=12;var h=o.z+o.size;
while(I<h){var k=g2.A9(w,I);o.sub.push(k);I+=8+k.size+(k.size&1)}}return o};var d4={};d4.fM=function(w,I){var E=new Uint8Array(w);
return d4.A9(E,0,I)};d4.A9=function(w,I,E){var X=M.vc,o=M.jz,i={wl:o(w,I,4),z:I+8,size:X(w,I+4)};if(E&&E[i.size]!=null)i.size=E[i.size];
if(i.wl=="RIFF"||i.wl=="LIST"){i.m9=o(w,I+8,4)}if(i.size<0||i.z+i.size>w.length)throw"e";if(i.wl=="RIFF"||i.wl=="LIST"&&(i.m9!="cmpr"&&i.m9!="stlt")){i.sub=[];
I+=12;var h=i.z+i.size;while(I<h){var k=d4.A9(w,I,E);i.sub.push(k);I+=8+k.size+(k.size&1)}}return i};
function iX(){}iX.fM=function(w,I){var E=new Uint8Array(w);I.NZ=!0;var X=M.jz(E,0,2);if(X=="WL"){alert("Unsupported CDR version")}else{var o=iX.TB,i=d4.fM(E.buffer),h={data:E,z:0,Dc:iX.ap_(E[11])},k,x,n=300;
h.Ox=h.Dc<600?16:32;iX.se(h,i.sub,I,0);if(o(i,"cmpr")==null){k=o(i,"page");x=k}else{var j=o(i,"cmpr").sub;
k=j[0];x=j.slice(1)[1];var v=o(k,"filt").sub,_=o(k,"otlt").sub;k.UW={};for(var P=0;P<v.length;P++)k.UW[v[P].sub[0].k.id]=v[P].sub[0].k;
k.aV={};for(var P=0;P<_.length;P++)k.aV[_[P].k.id]=_[P].k}var L=o(k,"mcfg").k,U=L.aiI;n/=fE.pJ(new dC(0,0,Math.round(U.x*n),Math.round(U.y*n)),8192*8192);
var a=Math.round(U.x*n),T=Math.round(U.y*n);I.q=a;I.w=T;I.buffer=Q.$(I.q*I.w*4);var g=new am(n,0,0,-n,U.x*n/2,U.y*n/2);
iX.eR(x,k,I,g);I.G0(1);I.b[I.b.length-1].CZ(new dC(0,0,a,T))}};iX.TB=function(w,I){var E=null;if(w.sub==null)return E;
for(var P=0;P<w.sub.length;P++){var X=w.sub[P];if(X.wl==I||X.m9==I)E=X}return E};iX.eR=function(w,I,E,X){var o=iX.TB,i=w.m9?w.m9:w.wl,h=o(w,"lgob"),k=o(w,"txsm"),x,j;
if(h){x=o(h,"trfl");j=o(h,"loda")}else if(o(w,"lobj"))j=o(w,"lobj");var v=x?x.sub[0].Ea.clone():new am;
v.concat(X);var _=E.XY();if(i=="page"||i=="layr"||i=="grp "){_.G_((i=="page"?"Page":"Group")+" "+E.b.length);
_.add.lsct=gs.Y_;_.$B="pass";_.Bo=24;var L=[];if(i=="page")L=o(w,"gobj").sub;if(i=="layr")L=w.sub.slice(2);
if(i=="grp ")L=w.sub.slice(4);if(L.length==0)return;E.b.push(E.Rf());for(var P=L.length-1;P>=0;P--)iX.eR(L[P],I,E,X)}else if(i=="obj "&&j.k&&j.k.path){_.G_("Object "+E.b.length);
var U,n;if(I.UW){U=I.UW[j.k.a64];n=I.aV[j.k.ahf]}var a=_.getName(),T=U&&U.type!=0,g=T&&U.k!=null?U.k:[0,0,0];
_.Bo|=16;_.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default));var D=_.add.vstk;D.strokeEnabled.v=!1;
_.add.vmsk=new K.DN;if(n&&n.apD!=1){D.strokeEnabled.v=!0;D.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
D.strokeStyleLineWidth.v.val=n.lineWidth*X.dA();var b=n.color;D.strokeStyleContent.v.Clr.v=Q.N.Ex({o:b[0]*255,P:b[1]*255,L:b[2]*255})}var N=j.k.path;
_.add.vmsk.j=Q.p.PY(N,!1);Q.O.yJ(_.add.vmsk.j,v);d1.We(g,_,v,Q.O.sM(_.add.vmsk.j));D.fillEnabled.v=T;
_.QQ();_.kH(E)}else if(i=="obj "&&k){var C=j.k.apQ,Z=j.k.avE,p="";_.add.TySh=bQ.za(0,0);var S=v.dA();
_.add.TySh.F.translate(v.N9,v.Zt);var u=_.add.TySh.Da,f=k.k.IP;for(var P=0;P<f.length;P++){var d=f[P],l=p.length;
p+=d.text+"\n";bQ.fZ(u,l,d.text+"\n");var A=iX.amz(d.aeL,I),B=bQ.wg(u,l,p.length);if(A.align==3)B.wo.Justification=1;
else B.wo.Justification=0;var e=A.fill.k;B.hd.FillColor={Type:1,Values:[1,e[0],e[1],e[2]]};B.hd.FontSize=Math.round(A.a1R.fontSize*v.dA());
bQ.JF(u,l,p.length-1,B)}if(Z){bQ.Kv(u,0)}else{bQ.Kv(u,1);bQ.Nq(u,[0,0,Math.round(C.x*v.lV),Math.round(-C.y*v.cA)])}_.G_(p.slice(0,10))}else{_=null}if(_)E.b.push(_)};
iX.amz=function(w,I){var E=iX.TB(I,"stlt").k,X=JSON.parse(JSON.stringify(E.OG[w]));if(X.rQ!=0){var o=E.OG[X.rQ];
for(var i in o)if(X[i]==null||X[i]==0)X[i]=o[i];delete X.rQ}X.align=E.amZ[X.aj$];X.fill=I.UW[E.aab[X.ajG]];
X.agv=I.aV[E.adx[X.a1Q]];X.a1R=E.ah8[X.a2R];return X};iX.apA=function(P){var eS=P.data[P.z];P.z+=1;return eS};
iX.z$=function(P){var eS=M.s0(P.data,P.z);P.z+=2;return eS};iX.I7=function(P){var eS=M.vc(P.data,P.z);
P.z+=4;return eS};iX.avz=function(P){var eS=M.vc(P.data,P.z);P.z+=8;return eS};iX.Nv=function(P){var eS=M.Yl(P.data,P.z);
P.z+=2;return eS};iX.WD=function(P){var eS=M.Qv(P.data,P.z);P.z+=4;return eS};iX.lb=function(P){var eS=M.yj(P.data,P.z);
P.z+=8;return eS};iX.$C=function(P){if(P.z>=P.data.length)throw"e";var w=0;while(P.data[P.z+w]!=0)w++;
var I=M.jz(P.data,P.z,w);P.z+=w+1;return I};iX.avd=function(w){if(w.Dc<600)return Math.PI*iX.Nv(w)/1800;
return Math.PI*iX.WD(w)/18e7};iX.ahz=function(w){if(w.Dc<1500)return iX.K0(w);else return iX.lb(w)/254e3};
iX.K0=function(w){if(w.Dc<600)return iX.Nv(w)/1e3;else return iX.WD(w)/254e3};iX.a0S=function(w){if(w.Dc<600)return iX.z$(w);
else return iX.I7(w)};iX.ab4=function(w){if(w.Dc<600)return CRDParser.Nv(w);else return iX.WD(w)};iX.se=function(w,I,E,X){var o=iX,i=o.apA,h=o.z$,k=o.I7,x=o.avz,j=o.Nv,v=o.WD,_=o.lb,L=o.K0,U=o.ahz,n=o.avd,a=o.a0S,T=o.ab4;
for(var g=0;g<I.length;g++){var D=w.Dc,b=I[g];w.z=b.z+(b.wl=="LIST"?4:0);if(b.wl=="vrsn"){var N=h(w);
w.Dc=N;console.log("Version",N);w.Ox=N<600?16:32}else if(b.wl=="DISP"){}else if(b.wl=="LIST"&&b.m9=="cmpr"){var C=k(w),Z=k(w),S=k(w),u=k(w),p=new Uint8Array(w.data.buffer,w.z+8+2,C-6-8),f=pako.inflateRaw(p),B=0;
w.z+=C;p=new Uint8Array(w.data.buffer,w.z+8+2);var d=pako.inflateRaw(p),l=[];for(var A=0;A<d.length;
A+=4)l.push(M.vc(d,A));b.sub=[];while(B<f.length){var e=d4.A9(f,B,l);B=e.z+e.size;b.sub.push(e)}var m={data:f,z:0,Dc:D,Ox:w.Ox};
iX.se(m,b.sub,E,X+1)}else if(b.wl=="LIST"&&b.m9=="stlt"){var $=w.z,t=32;b.k={};var V=k(w);if(V==0)return;
b.k.aab=iX.tF(w,D>=1300);b.k.adx=iX.tF(w);b.k.ah8={};var H=k(w);for(var P=0;P<H;P++){var F=k(w);w.z+=D<1e3?12:20;
var G=h(w),J=h(w);w.z+=8;var c=L(w);w.z+=D<1e3?12:20;b.k.ah8[F]={alz:G,a3L:J,fontSize:c}}b.k.amZ=iX.tF(w);
var r=k(w);w.z+=52*r;var s=k(w);w.z+=152*s;var z=k(w);w.z+=784*z;var Y=k(w);for(var P=0;P<Y;P++){w.z+=40;
if(D>1300)w.z+=4;if(D>=1300){if(k(w))w.z+=68;else w.z+=12}else{w.z+=20;if(D>=1e3)w.z+=8;if(k(w))w.z+=8;
w.z+=8}}var ax=k(w);b.k.akD={};for(var P=0;P<ax;P++){var iW=k(w),y={};w.z+=12;y.right=L(w);y.a2w=L(w);
y.left=L(w);b.k.akD[iW]=y}var hm=k(w);if(D>=1300)t+=4;w.z+=t*hm;var cT=k(w);w.z+=28*cT;if(D>800){var c4=k(w);
w.z+=12*c4}b.k.OG={};for(var P=0;P<V;P++){var kv=k(w),iL=k(w),cr={};cr.rQ=k(w);w.z+=8;var ga=k(w);if(D>=1200)ga*=2;
w.z+=ga;cr.ajG=k(w);cr.a1Q=k(w);if(kv>1){cr.a2R=k(w);cr.aj$=k(w);cr.awK=k(w);cr.a2z=k(w);if(D>800)cr.a68=k(w)}if(kv>2){cr.a1C=k(w);
cr.akF=k(w);cr.akR=k(w);cr.ar9=k(w);cr.afb=k(w)}b.k.OG[iL]=cr}}else if(b.wl=="LIST")iX.se(w,b.sub,E,X+1);
else if(b.wl=="txsm"){b.k={};if(D<600)throw"e";if(D<700)throw"e";if(D>=1600)throw"e";if(D>=1500)w.z+=37;
else w.z+=36;if(k(w)){if(D<800)w.z+=32}if(D<800)w.z+=4;b.k.aq5=k(w);b.k.IP=[];w.z+=48;if(D>=800){if(k(w)){w.z+=32;
if(D>=1300)w.z+=8}}if(D>=1500)w.z+=12;var kv=k(w),iq=1,ei=!1;if(!kv){if(D>=800)w.z+=4;if(D>800)w.z+=2;
if(D>=1400)w.z+=2;w.z+=24;if(D<800)w.z+=8;iq=k(w)}for(var A=0;A<iq;A++){var hw=k(w),P=0;if(D>=1300&&kv)w.z++;
w.z++;var V=k(w),hC=[];for(P=0;P<V;P++){var j5=i(w),jn=0;i(w);var ed=i(w);if(D>=800)jn=i(w);var cr={};
if(ed&1){cr.alz=h(w);var fj=h(w);if(fj)cr.atb=fj}if(ed&2)w.z+=4;if(ed&4)cr.afR=L(w);if(ed&8)w.z+=4;if(ed&16)w.z+=4;
if(ed&32)w.z+=4;if(ed&64){cr.ajG=k(w);if(D>=1500)w.z+=48}if(ed&128){cr.a1Q=k(w)}if(jn&8){if(D>=1300){var di=k(w);
if(w.z+di*2>=w.data.length){ei=!0;break}w.z+=di*2}else w.z+=4}if(jn&32){var b1=i(w);if(b1)w.z+=52}if(j5==2)if(D>=1300)w.z+=48;
hC.push(cr)}if(ei){break}var dI=k(w);if(w.z+dI*4>w.data.length)break;var h2=[];for(P=0;P<dI;P++){var de=0;
if(D>=1200)de=x(w)&4294967295;else de=k(w);h2[P]=de>>16|de&1}var ds=dI;if(D>=1200)ds=k(w);var jO=iX.$C(w);
b.k.IP.push({aeL:hw,text:jO,OG:hC})}}else if(b.wl=="font"){var gy=h(w),fV=h(w);w.z+=14;var hl=iX.$C(w);
b.k={id:gy,aeI:fV,name:hl}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(b.wl)!=-1){}else if(b.wl=="flgs")b.k=k(w);
else if(b.wl=="bbox"){var im=L(w),eA=L(w),hy=L(w),dm=L(w);b.k=new dC(im,eA,hy-im,dm-eA)}else if(b.wl=="fild"){var hA=k(w),j2=0,aS;
if(D>=1300){w.z+=4;j2=h(w);w.z+=2}var dQ=h(w);if(dQ==0){}else if(dQ==1){w.z+=D>=1300?13:2;aS=iX.V5(w)}else if(dQ==2){w.z+=D>=1300?8:2;
var eh=i(w),h_=0;if(D>=1300){w.z+=17;h_=j(w)}else if(D>=600){w.z+=19;h_=v(w)}else{w.z+=11;h_=j(w)}var h6=n(w),gT=.5+T(w),b8=.5+T(w)-.5;
if(D>=600)w.z+=2;var hP=a(w)&255,b5=i(w)/100;w.z++;var ar=a(w)&65535;if(D>=1300)w.z+=3;var cG=[];for(var P=0;
P<ar;P++){var bd=iX.V5(w);if(D>=1300){if(j2==158||D>=1600&&j2==150)w.z+=26;else w.z+=5}var aZ=a(w)/100;
if(D>=1300)w.z+=3;cG.push([aZ,bd])}aS={typ:eh==1?"lin":"rad",crds:[gT-Math.cos(h6)/2,b8-Math.sin(h6)/2,gT,b8],grad:cG,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",dQ);
b.k={id:hA,type:dQ,k:aS}}else if(b.wl=="outl"){var gl=k(w);if(D>=1300){var ci=0,a7=0;while(ci!=1){w.z+=a7;
ci=k(w);a7=k(w)}}var ay=h(w),it=h(w),h1=h(w);if(D<1300&&D>=600)w.z+=2;var hM=L(w),dn=h(w)/100;if(D>=600)w.z+=2;
var gV=n(w);if(D>=1300)w.z+=46;else if(D>=600)w.z+=52;var aS=iX.V5(w,gl==270963208||gl==276198e3,gl);
b.k={id:gl,apD:ay,arq:it,akB:h1,lineWidth:hM,color:aS}}else if(b.wl=="mcfg"){if(1300<=D)w.z+=12;else if(900<=D)w.z+=4;
else if(600<=D&&D<700)w.z+=28;var jv=0,dt=0;if(D<400){w.z+=2;var im=L(w),eA=L(w),hy=L(w),dm=L(w);jv=Math.abs(hy-im);
dt=Math.abs(dm-eA)}else{jv=L(w);dt=L(w)}b.k={aiI:new a5(jv,dt)}}else if(b.wl=="loda"||b.wl=="lobj"){var $=w.z,hZ=a(w),eQ=a(w),dd=a(w),dp=a(w),i_=a(w),by=[],jK=[];
w.z=$+dd;for(var P=0;P<eQ;P++)by[P]=a(w);w.z=$+dp;for(var P=eQ-1;P>=0;P--)jK[P]=a(w);b.k={};for(var P=0;
P<eQ;P++){w.z=$+by[P];var cc=jK[P];if(cc==10)b.k.ahf=k(w);else if(cc==20)b.k.a64=k(w);else if(cc==200)b.k.as$=a(w);
else if(cc==30){if(D<400)i_--;if(i_==1){var im=U(w),eA=U(w),jo=0,ge=0,gH=0,cv=0;if(D<1500){cv=U(w);gH=D<900?cv:U(w);
ge=D<900?cv:U(w);jo=D<900?cv:U(w)}else throw"e";b.k.path=Q.p.x7(Q.O.cw.Rect(0,0,im,eA,jo))}else if(i_==2){var jN=L(w),fg=L(w),el=n(w),cf=n(w),gW=Math.abs(jN),dl=Math.abs(fg);
b.k.path=Q.p.x7(Q.O.cw.z9(0,0,gW,-dl))}else if(i_==3){b.k.path=iX.a67(w)}else if(i_==4){b.k.avE=iX.apo(w)}else if(i_==6){b.k.apQ=iX.an9(w)}else if(i_==37){b.k.path=iX.ua(w)}else console.log(i_)}}}else if(b.wl=="trfd"){var $=w.z,hZ=a(w),eQ=a(w),dd=a(w);
w.z=$+dd;var by=[];for(var P=0;P<eQ;P++)by[P]=a(w);for(var P=0;P<eQ;P++){w.z=$+by[P];if(D>=1300)w.z+=8;
var f5=h(w);if(f5==8){var aX,dK,im,e4,dg,eA;if(D>=600)w.z+=6;if(D>=500){aX=_(w);dK=_(w);im=_(w)/(D<600?1e3:254e3);
e4=_(w);dg=_(w);eA=_(w)/(D<600?1e3:254e3)}else throw"e";b.Ea=new am(aX,e4,dK,dg,im,eA)}else console.log(f5)}}else if(!1){console.log(b);
var dX=Math.min(b.size,32);console.log(M.lT(data,b.z,dX));console.log(M.afn(data,b.z,dX))}}};iX.tF=function(w,I){var E=iX.I7,X={},o=E(w);
for(var P=0;P<o;P++){var i=E(w);w.z+=4;var h=E(w);X[i]=h;if(I)w.z+=48}return X};iX.apo=function(w){var I=iX,E=I.K0,X=E(w),o=E(w);
return new a5(X,o)};iX.an9=function(w){var I=iX,E=I.K0;w.z+=4;var X=E(w),o=E(w);return new a5(X,o)};
iX.ua=function(w){var I=iX,E=I.I7,X=I.z$,o=I.K0;w.z+=4;var i=X(w)+X(w);w.z+=16;var h=iX.a2t(w,i);return h};
iX.a67=function(w){var I=iX.z$(w);w.z+=2;return iX.a2t(w,I)};iX.a2t=function(w,I){var E=iX,X=E.K0,o=w.Dc<600?2:4,i=w.z,h={C:[],J:[]},k=0,x=0,j=0;
for(var P=0;P<I;P++){var k=X(w),x=X(w),v=w.data[i+I*o*2+P];if(!(v&64)&&!(v&128)){h.C.push(k,x);h.J.push("M");
j+=2}else if(v&64&&!(v&128)){h.C.push(k,x);h.J.push("L");j+=2}else if(!(v&64)&&v&128){h.C.push(k,x);
h.J.push("C");j+=6}else if(v&64&&v&128){h.C.push(k,x)}}if(j!=h.C.length)throw"e";return h};iX.atr=function(w,I){var E=M.vc;
I+=8;var X=E(w,I);I+=4;var o=E(w,I);I+=4;I+=4*7;var i=I,h=Q.$(X*o*4);I+=1024;for(var k=0;k<o;k++)for(var x=0;
x<X;x++){var P=k*X+x,j=(o-k-1)*X+x,v=w[I+P]<<2,_=j<<2;h[_+0]=w[i+v+2];h[_+1]=w[i+v+1];h[_+2]=w[i+v+0];
h[_+3]=255}return{Fr:h,rect:new dC(0,0,X,o)}};iX.ap_=function(w){if(w==32)return 300;else if(w<49)return 0;
else if(w<58)return 100*(w-48);else if(w<65)return 0;return 100*(w-55)};iX.V5=function(w,I,E){var X=iX.z$,o=iX.I7,i=w.Dc,h=0,k=0;
if(i>=500){h=X(w);if(h==1&&i>=1300)h=25;if(h==25||h==30){var x=0;if(h==30){h=25;x=30}else{x=X(w);w.z+=4}var j=X(w),v=X(w)}else if(h==14)throw"e";
else{w.z+=6;k=o(w)}}else throw"e";var _=[];if(h==2||h==9||h==17){var L=[k>>>0&255,k>>>8&255,k>>>16&255,k>>>24&255];
if(h==2)for(var P=0;P<4;P++)L[P]=Math.round(255*L[P]/100);for(var P=0;P<4;P++)L[P]/=255;_=UDOC.C.cmykToRgb(L)}else if(h==1||h==5){_=[k>>>0&255,k>>>8&255,k>>>16&255];
for(var P=0;P<3;P++)_[P]=_[P]/255}else console.log("Unknown color model "+h,k,k.toString(16));return _};
var fi=function(){var w,I,E=new ArrayBuffer(4),X=new Uint8Array(E),o=new Uint32Array(E),i=new Float32Array(E);
function h(L,U){for(var n=0;n<L.length;n++)if(L[n][0]==U)return L[n]}function k(){var L=0,U=0,n=0;do{n=w[I++];
L|=(n&127)<<U;U+=7}while(n&128&&U<35);return L>>>0}function x(L,U,n,a,T){w=L;I=U;var g=a[0]=="mesg",D=a[2],b={},N=1,C=g?1e9:D.length;
while(N<=C){var Z=N;if(g){Z=k();if(Z==0)break}var S=h(D,Z),u=S[2],p=S[1]==1,f=p?k():1,d=new Array(f);
if(u==3){if(!p)throw"e";d=w.slice(I,I+f);I+=f}else for(var P=0;P<f;P++){var l;if((u&1)==1){if(u==1)l=w[I++]==1;
else if(u==3)l=w[I++];else if(u==5){var A=k();l=A&1?~(A>>>1):A>>>1}else if(u==7)l=k();else if(u==9){if(w[I]==0){l=0;
I++}else{X[0]=w[I];X[1]=w[I+1];X[2]=w[I+2];X[3]=w[I+3];var B=o[0];o[0]=B<<23|B>>>9;l=i[0];I+=4}}else if(u==11){var e=j(w,I);
l=e[0];I+=e[1]+1}else throw u}else{var m=n[u>>>1];if(m[0]=="enum"){var $=w[I++];if($>127)throw"e";l=m[2][$]}else{var V=x(w,I,n,m,T+1);
l=V[0];I=V[1]}}d[P]=l}b[S[3]]=p?d:d[0];N++}return[b,I]}function j(L,U){var n=U;while(L[n]!=0)n++;return[M.YV(L,U,n-U),n-U]}function v(L,U){var n=U;
while(L[n]!=0)n++;for(var P=U;P<n;P++)if(L[P]>127)throw"e";return M.jz(L,U,n-U)}function _(L){w=L;I=1;
var U=[];while(I<L.length){var n=I,a=U.length,T=v(L,I);I+=T.length+1;var g=k();if(g>2)throw"e";var D=k(),b=[];
for(var P=0;P<D;P++){var N=v(L,I);I+=N.length+1;var C=k(),Z=k(),S=k();b.push(g==0?N:[S,Z,C,N])}U.push([["enum","strc","mesg"][g],T,b])}return U}return{auQ:_,a30:x}}();
function al(){}al.fM=function(w,I){var E=new Uint8Array(w),X=8,o=M.vc(E,X),j=0,m=0;X+=4;var i=[];while(X<E.length){var h=M.vc(E,X);
X+=4;var k=E.slice(X,X+h);if(E[X]==137&&E[X+1]==80){}else k=UZIP.inflateRaw(k);i.push(k);X+=h}var x=fi.auQ(i[0]);
for(var P=0;P<x.length;P++)if(x[P][1]=="Message")j=P;var v=fi.a30(i[1],0,x,x[j],0)[0],_={c5:{},ls:{},ai2:{}},L=v.nodeChanges;
for(var U=0;U<L.length;U++){var n=L[U],a=n.guid;_.ls[a.sessionID+","+a.localID]=n}for(var U=0;U<L.length;
U++){var n=L[U],a=n.parentIndex;if(a){var T=al.RL(_.ls,a.guid);if(T.children==null)T.children=[];T.children.push(n)}}var g=L[0],D=g.children,b=new dC,N=[],C=[];
for(var a=0;a<D.length;a++){var Z=D[a],S=Z.children;if(Z.name=="Internal Only Canvas"||S==null)continue;
var u=new dC;for(var P=0;P<S.length;P++){var p=S[P],f=p.transform,d=p.size;if(f.m00==1&&f.m10==0&&f.m01==0&&f.m11==1){var l=new dC(f.m02,f.m12,d.x,d.y);
u=u.jB(l)}}var A=b.w==0?0:b.w+100,B=u.clone();B.x=0;B.y=A;b=b.jB(B);N[a]=u;C[a]=A}var e=fE.pJ(new dC(0,0,b.q,b.w),8192*8192);
I.q=Math.round(b.q/e);I.w=Math.round(b.w/e);I.buffer=Q.$(I.q*I.w*4);for(var a=0;a<D.length;a++){var Z=D[a],S=Z.children;
if(Z.name=="Internal Only Canvas"||S==null)continue;S.sort(al.ail);var $=new am(1,0,0,1,-N[a].x,C[a]-N[a].y);
$.scale(1/e,1/e);for(var P=0;P<S.length;P++){var p=S[P];al.eR(p,[],$,v.blobs,I,0,_);m++}}I.G0(m);I.NZ=!0;
if(e!=1)alert("File scaled down "+e+"x")};al.eR=function(w,I,E,X,o,i,h){var k=al,f=!1,d,B,e,m;I=JSON.parse(JSON.stringify(I));
var x=w.overrideKey?w.overrideKey:w.guid;for(var P=0;P<I.length;P++){var j=I[P],v=j.guidPath.guids;if(k.ajj(v[0],x)){if(v.length==1){var _={};
for(var L in w)_[L]=j[L]!=null?j[L]:w[L];w=_}else j.guidPath.guids=v.slice(1)}}var U=w.type,n=w.children,a=w.size,T=w.effects,g=o.XY();
g.G_(w.name);g.Wz(w.visible);g.opacity=Math.round(w.opacity*255);var D=k.RO(w.transform),b=D.clone();
b.concat(E);var N=new dC(Math.round(b.N9),Math.round(b.Zt),Math.round(a.x*b.dA()),Math.round(a.y*b.dA()));
if(N.q==0||isNaN(N.q))N.q=100;if(N.w==0||isNaN(N.w))N.w=100;var C=w.fillPaints,Z=w.inheritFillStyleID;
if(Z){var _=k.RL(h.ls,Z);if(_)C=_.fillPaints}if(C==null)C=[];var C=k.awR(C),S=C[0],u=w.strokePaints,Z=w.inheritFillStyleIDForStroke;
if(Z){var _=k.RL(h.ls,Z);if(_)u=_.fillPaints}if(u==null)u=[];var u=k.awR(u),p="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(U)!=-1;
if(p||U=="FRAME"){d=new K.DN;k.aul(w,X,d);f=Q.O.n7(d.j);Q.O.yJ(d.j,b);var l=Q.p.i1(Q.O.sM(d.j));if(!l.qo())N=l;
if(h.c5.S7&&S){var A=K.DN.ER(h.c5.S7.j);for(var P=2;P<A.length;P++)if(A[P].KP!=null)A[P].KP=3;d.j=d.j.concat(A.slice(2))}}if(S&&S.type=="IMAGE"){m=S.imageScaleMode;
B=k.sQ(X,S.image.dataBlob);var $=B.WG.q/B.WG.w,V=a.x/a.y;e=Math.abs($-V)}if(U=="FRAME"){}else if(p&&f&&B&&(m=="FIT"||m=="FILL"&&e<=.05)){var H=X[S.image.dataBlob].bytes,F=o.ec(H,g.getName(),0,0);
F.Bo=g.Bo;F.opacity=g.opacity;g=F;var G=new dC(0,0,a.x,a.y);if(m=="FIT"){var J=B.WG.q,c=B.WG.w,r=Math.min(a.x/J,a.y/c),s=J*r,z=c*r;
G=new dC(G.x+(G.q-s)/2,G.y+(G.w-z)/2,s,z)}var Y=Q.p.sy(G).C;Q.p.F(Y,b,Y);g.add.SoLd.Trnf=q.R.bd(Y);g.add.SoLd.nonAffineTransform=q.R.bd(Y);
var ax=[],T=w.effects,iW=S.paintFilter;if(T)for(var P=0;P<T.length;P++)if(T[P].type=="FOREGROUND_BLUR"){var y=T[P],hm=gD.j1("GsnB",{});
ax.push(hm);hm.v.enab.v=y.visible;hm.v.Fltr.v.Rds.v.val=y.radius/2.4}if(iW&&iW.exposure!=0){var hm=gD.j1("brit",{});
ax.push(hm);hm.v.Fltr.v.Brgh.v=Math.round(iW.exposure*160);hm.v.Fltr.v.useLegacy.v=!0}if(iW&&iW.vibrance!=0){var hm=gD.j1("vibA",{});
ax.push(hm);console.log(hm);hm.v.Fltr.v.Strt.v=Math.round(Math.round(iW.vibrance*100))}if(ax.length!=0){g.add.SoLd.filterFX=gD.WU();
o.j2({id:g.add.SoLd.placed.v,rect:new dC,buffer:Q.$(1),D:new K._x});g.add.SoLd.filterFX.v.filterFXList.v=ax}g.vR(o,!1);
k.asS(h,g,o)}else if(p){k.aoV(g,d,w,S,u,b,N,X,o,h);if(T)for(var P=0;P<T.length;P++){var y=T[P];if(y.type!="FOREGROUND_BLUR")continue;
d.o6=y.radius/2.4}g.QQ();g.kH(o)}else if(U=="TEXT"){var t=w.textData,cT=t.layoutSize,c4=["LEFT","RIGHT","CENTER"].indexOf(w.textAlignHorizontal);
g.add.lnsr="rend";g.add.TySh=bQ.za(0,0);g.add.TySh.Wc=new dC(0,0,100,100);var kv=b.clone();g.add.TySh.F=kv;
var iL=g.add.TySh.Da,cr=t.characters;if(w.textCase=="TITLE"){for(var P=0;P<cr.length;P++)if(P==0||cr[P-1]==" "){var ga=cr.slice(0,P),iq=cr.slice(P+1);
cr=ga+cr[P].toUpperCase()+iq}}cr=cr.replace(/\u2028/g,"\n");cr=cr.replace(/\u2029/g,"\n");cr=cr.replace(/\r\n/g," \n");
bQ.fZ(iL,0,cr);var ei=w.textAutoResize,hw=t.baselines;if(ei=="WIDTH_AND_HEIGHT"){var hC=c4==0?0:c4==1?cT.x:cT.x/2,j5=hw?hw[0].position.y:0;
kv.translate(hC*b.dA(),j5*b.dA());bQ.Kv(iL,0)}else if(ei=="HEIGHT"||ei=="NONE"||ei==null){var j5=hw?hw[0].position.y-w.fontSize*.7:0;
kv.translate(0,j5*b.dA());bQ.Kv(iL,1);bQ.Nq(iL,[0,0,Math.round(cT.x),Math.round((ei=="NONE"?1.8:1)*cT.y)])}else throw ei;
if(cr!=""){var ed=bQ.wg(iL,0,1);k.am9(w,b,a,ed,g,X,o,h);bQ.JF(iL,0,cr.length,ed);var jn=t.characterStyleIDs,fj=t.styleOverrideTable;
if(jn){jn=jn.slice(0);for(var P=0;P<jn.length;P++)if(cr[P]=="\n")jn[P]=-P-1;var di=[0],b1=0,dI=0;for(var P=0;
P<jn.length;P++){dI++;var h2=jn[P];if(P==0||h2==jn[P-1]){}else{di.push(dI-1,P);dI=1}}di.push(dI);for(var P=0;
P<di.length;P+=2){var de=di[P],ds=di[P+1];if(cr[de]=="\n")continue;var h2=jn[de];if(h2!=0){var jO;for(var gy=0;
gy<fj.length;gy++)if(fj[gy].styleID==h2)jO=fj[gy];var ed=bQ.wg(iL,de,de+1);k.am9(jO,b,a,ed,g,X,o,h);
bQ.JF(iL,de,de+ds-1,ed)}}}}}else if(U=="SYMBOL"){}else if(U=="INSTANCE"){var fV=w.symbolData,hl=fV.symbolOverrides,_=k.RL(h.ls,fV.symbolID);
if(_)n=_.children;else console.log(w.name,"symbol not found",fV.symbolID);I=I.slice(0);for(var P=0;P<hl.length;
P++)I.push(hl[P])}else console.log(U);if(!1){}else if(n&&!p){o.b.push(o.Rf());var im=!1,eA=i==0&&U!="SYMBOL"&&U!="INSTANCE";
if(eA){if(N.qo())console.log(N);g.CZ(N)}S=C[C.length-1];if(eA&&S&&S.type=="SOLID"){var hy=S.color;g.add.artb.artboardBackgroundType.v=4;
g.add.artb.Clr=k.V5(hy)}else if((S||u[0])&&d){var dm=o.XY();dm.G_("Background");k.aoV(dm,d,w,S,u,b,N,X,o,h);
dm.QQ();dm.kH(o);o.b.push(dm);im=!0}n.sort(k.ail);var hA=h.c5;h.c5={};for(var j2=0;j2<n.length;j2++)k.eR(n[j2],I,b,X,o,i+1,h);
h.c5=hA;g.add.lsct=!1?gs.Y_:gs.S2;g.$B="pass";var dQ=g.TH();g.Bo=24;g.Wz(dQ);var aS=i!=0&&C.length!=0&&!w.frameMaskDisabled&&w.containerSupportsFillStrokeAndCorners;
if(!im&&aS&&d){g.add.vmsk=d;g.QQ();g.kH(o)}else k.asS(h,g,o);o.b.push(g)}else if(w.mask){if(d){h.c5.S7=d}}else{var eh=[],ar=1;
if(T)for(var h_=0;h_<T.length;h_++){var y=T[h_],h6=y.color,gT=y.type,b8=["DROP_SHADOW","INNER_SHADOW"].indexOf(gT);
if(b8!=-1){var hP=["DrSh","IrSh"][b8],b5=JSON.parse(hL.zd[hL.order.indexOf(hP)]);eh.push([hP,b5]);b5.enab.v=y.visible;
b5.Md.v.BlnM=hH.r6(k.apl(y.blendMode));b5.Opct.v.val=Math.round(100*h6.a);b5.blur.v.val=Math.round(y.radius*b.dA());
b5.Clr=k.V5(h6);var hC=y.offset.x,j5=y.offset.y;b5.uglg.v=!1;b5.lagl.v.val=Math.round(180/Math.PI*Math.atan2(j5,-hC));
b5.Dstn.v.val=Math.round(Math.sqrt(hC*hC+j5*j5)*b.dA())}}if(U=="TEXT"&&C[0]&&C[0].type!="SOLID")ar=0;
for(var P=ar;P<C.length;P++){var cG=C[P],bd=k.Oz(w,cG,b,N,X,o,h);if(bd[0]=="GdFl")eh.push(["GrFl",bd[1]]);
else if(bd[0]=="SoCo")eh.push(["SoFi",bd[1]]);else if(bd[0]=="PtFl")eh.push(["patternFill",bd[1]]);else throw bd}if(!p)for(var P=0;
P<u.length;P++){var cG=u[P],bd=k.Oz(w,cG,b,N,X,o,h);if(bd[0]=="SoCo"){var b5=JSON.parse(hL.zd[hL.order.indexOf("FrFX")]);
eh.push(["FrFX",b5]);b5.enab=bd[1].enab;b5.Opct=bd[1].Opct;b5.Md=bd[1].Md;b5.Clr=bd[1].Clr;b5.Sz.v.val=w.strokeWeight}}if(eh.length!=0){var aZ=JSON.parse(hL.default);
for(var P=0;P<hL.order.length;P++)aZ[hL.JR[P]]={t:"VlLs",v:[]};for(var P=0;P<eh.length;P++){var gl=eh[P],hP=hL.JR[hL.order.indexOf(gl[0])];
aZ[hP].v.unshift({t:"Objc",v:gl[1]})}if(n==null)g.add.lmfx=aZ}o.b.push(g)}};al.aoV=function(w,I,E,X,o,i,h,k,x,j){var v=al;
w.Bo|=16;w.add.vmsk=I;var _=w.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default)),L=v.Oz(E,X,i,h,k,x,j);
if(L[0]=="None"){_.fillEnabled.v=!1;w.add.SoCo=L[1]}else{v.Ce(L,w);w.add[L[0]]=L[1]}var L=v.Oz(E,o[0],i,h,k,x,j);
if(L[0]!="None"){var _=w.add.vstk;_.strokeEnabled.v=!0;_.strokeStyleLineWidth.v.val=E.strokeWeight*i.dA();
_.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hL.Oq.hN[["INSIDE","CENTER","OUTSIDE"].indexOf(E.strokeAlign)];
var U={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[L[0]],n=["SoFi","GrFl","patternFill"].indexOf(U),a=[hL.y8,hL.qT,hL.BK][n];
_.strokeStyleContent.v={classID:hL.Oq.m9[0]};var T=E.dashPattern;if(T)_.strokeStyleLineDashSet.v=aQ.by(T,1/E.strokeWeight);
var g=_.strokeStyleContent.v={classID:hL.Oq.m9[n]};for(var P=0;P<a.length;P++)g[a[P]]=L[1][a[P]];if(!_.fillEnabled.v)v.Ce(L,w)}};
al.Ce=function(w,I){var E=w[1].Opct.v.val;if(E!=100)I.opacity=Math.round(I.opacity/255*(E/100)*255)};
al.ail=function(w,I){var E=w.parentIndex.position,X=I.parentIndex.position;return E>X?1:-1};al.awR=function(w){for(var P=1;
P<w.length;P++){var I=w[P];if(I.type=="IMAGE"&&I.opacity==1){w=w.slice(P);break}}for(var P=0;P<w.length;
P++){var I=w[P],E=I.imageThumbnail;if(I.type=="IMAGE"&&(I.image==null||I.image.dataBlob==null)&&E&&E.dataBlob)I.image=E;
if(!I.visible||I.type=="IMAGE"&&I.image.dataBlob==null){w.splice(P,1);P--}}return w};al.asS=function(w,I,E){if(w.c5.S7){I.add.vmsk=w.c5.S7.clone();
I.QQ();I.kH(E)}};al.am9=function(w,I,E,X,o,i,h,k){var x=w.fontSize,j=w.lineHeight,v=w.fontName,_=w.textAlignHorizontal,L=w.textTracking,U=w.textCase,n=w.textDecoration;
if(x==null)x=X.hd.FontSize;if(v)bQ.Ab(X,v.postscript);if(x!=null)X.hd.FontSize=Math.round(x);if(n=="UNDERLINE")X.hd.Underline=!0;
if(L)X.hd.Tracking=Math.round(L*1e3);if(U)X.hd.FontCaps=U=="UPPER"?2:0;if(j&&(j.units!="PERCENT"||j.value!=100)){if(x==null)x=15;
var a=j.value;if(j.units=="PERCENT")a=1*x*a/100;if(j.units=="RAW")a=1*x*a;X.hd.AutoLeading=!1;X.hd.Leading=Math.round(a)}if(_)X.wo.Justification=["LEFT","RIGHT","CENTER"].indexOf(_);
var T=w.fillPaints,g=w.inheritFillStyleID;if(g){var D=al.RL(k.ls,g);if(D)T=D.fillPaints}if(T&&T[0]){var b=al.Oz(w,T[0],I,E,i,h,k);
if(b[0]=="SoCo"){var N=Q.N.BL(b[1].Clr.v);X.hd.FillColor={Type:1,Values:[1,N.o/255,N.P/255,N.L/255]};
al.Ce(b,o)}}};al.Oz=function(w,I,E,X,o,i,h){var k=al,x,j,v=w.size;if(I){var _=I.type,L=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(_);
if(_=="SOLID"){x="SoCo";var U=I.color;j=JSON.parse(hL.zd[hL.order.indexOf("SoFi")]);j.Clr=k.V5(U)}else if(L!=-1){var n=JSON.parse(hL.zd[hL.order.indexOf("GrFl")]),a=n.Grad.v;
a.Intr.v=0;n.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][L];var T=[],g=I.stops;for(var P=0;P<g.length;P++){var D=g[P],b=D.color;
T.push([D.position,[b.r,b.g,b.b],b.a])}Q.N.GL(T,a);var N=k.RO(I.transform);N.ja();var C=N.clone();if(v)C.scale(v.x,v.y);
C.concat(E);var Z=new a5(0,.5),S=new a5(1,.5);Z=C.kG(Z);S=C.kG(S);if(!0){Z.x=S.x+.5*(Z.x-S.x);Z.y=S.y+.5*(Z.y-S.y)}Q.N.xD(Z,S,X,n);
if(L==3){if(C.lV*C.cA-C.L*C.I5<0)n.Rvrs.v=!n.Rvrs.v}x="GdFl";j=n}else if(_=="IMAGE"){var n=JSON.parse(hL.zd[hL.order.indexOf("patternFill")]),N=k.RO(I.transform);
N.ja();var u=I.image.dataBlob,p=h.ai2[u];if(p==null){var f=k.sQ(o,u);p=h.ai2[u]={};p.id=hg.Mz()+"-d71c-11e5-b1ae-a548a96e5f9f";
p.IZ=[new Uint8Array(f.data),f.WG];if(N.lV<0){var d=p.IZ[0].slice(0);Q.K.wa(d,p.IZ[0],f.WG.q,f.WG.w)}p.name="someImage";
i.kj(p)}if(N.lV<0)N.lV=-N.lV;var l=["FILL","FIT","STRETCH","TILE"].indexOf(I.imageScaleMode),A=l==3?I.scale:1;
aQ.a2l(p,n,v.x,v.y,l,E,N,A);x="PtFl";j=n}else throw _;if(j)j.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(I.opacity*100)}}}if(x==null||I.opacity<.001){x="None";
j={classID:"null",Clr:{t:"Objc",v:Q.N.Ex({o:0,P:0,L:0})}}}return[x,j]};al.sQ=function(w,I){var E=w[I];
if(E.rslt)return E.rslt;var X=E.bytes.buffer,o=gt.mq(X),i=gt.FB(o);try{E.rslt=i.CE(X)[0]}catch(df){E.rslt={data:Q.$(4),WG:new dC(0,0,1,1)}}return E.rslt};
al.aul=function(w,I,E){var X=w.type,o=w.size,i=w.cornerRadius,j;if(i==null)i=0;var h=o.x,k=o.y,x=[i,i,i,i],v=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var P=0;P<4;P++)if(w[v[P]]!=null)x[P]=w[v[P]];if(X=="RECTANGLE"||X=="ROUNDED_RECTANGLE"||X=="FRAME"){j=Q.O.cw.Rect(0,0,h,k,x)}else if(X=="ELLIPSE"){var _=w.arcData,L=_?_.startingAngle:0,U=_?_.endingAngle:2*Math.PI,n=_?_.innerRadius:0;
if(L==0&&U>1.999*Math.PI)j=Q.O.cw.z9(0,0,h,k,0);else j=Q.O.cw.aqk(h/2,k/2,k/2,L,U);if(n!=0&&n!=1){var a=K.DN.ER(j).slice(3);
a.reverse();for(var P=0;P<a.length;P++){var T=a[P],g=T.DX;T.DX=T.kk;T.kk=g}var D=new am;D.translate(-h/2,-k/2);
D.scale(n,n);D.translate(h/2,k/2);Q.O.yJ(a,D);j=j.concat(a);j[2].length*=2}}else if(X=="LINE"){j=Q.O.cw.Rect(0,0,h,k,0);
j.pop();j.pop();j[2].length=2}else if(X=="STAR"){j=Q.O.cw.mp(h/2,k/2,h/2,2*Math.PI*(1/4),5,0,w.starInnerScale)}else if(X=="REGULAR_POLYGON"){j=Q.O.cw.wT(.5,.5,.5,Math.PI/2,w.count,0);
var b=new am;b.scale(h,k);Q.O.yJ(j,b)}else if(X=="BOOLEAN_OPERATION"){j=[{type:6},{type:8,all:0}];var N=w.children,C=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(w.booleanOperation);
if(C==-1)throw w;if(N==null)N=[];for(var P=0;P<N.length;P++){var Z=N[P],S=new K.DN,u=al.aul(Z,I,S);if(S.j==null)continue;
Q.O.yJ(S.j,al.RO(Z.transform));j=j.concat(S.j.slice(2))}for(var P=3;P<j.length;P++)if(j[P].KP!=null)j[P].KP=C}else if(X=="VECTOR"){var p,f,G=3;
if(!0){var d=w.vectorData;if(d==null)return;p=d.normalizedSize;f=d.vectorNetworkBlob}var l=I[f].bytes,A=new Uint32Array(l.buffer),B=new Float32Array(l.buffer),e=A[0],m=A[1],$=A[2],V=[],H=[],F=[],J=G+e*3,c=J+m*7;
for(var P=0;P<e;P++){var r=G+P*3,s=new a5(B[r+1],B[r+2]);V.push(s)}for(var P=0;P<m;P++){var z=J+P*7;
H.push([A[z+0],A[z+1],B[z+2],B[z+3],A[z+4],B[z+5],B[z+6]])}for(var P=0;P<$;P++){var Y=A[c+1],ax=F[P]=[];
c+=2;for(var iW=0;iW<Y;iW++){var y=A[c++],hm=ax[iW]=[];for(var t=0;t<y;t++)hm[t]=A[c+t];c+=y}}if(c!=A.length)throw"e";
if($==0){var cT=-1;for(var P=0;P<m;P++){if(cT==-1){}else{var c4=-1;for(var iW=P;iW<m;iW++)if(H[iW][4]==cT)c4=iW;
for(var iW=P;iW<m;iW++)if(H[iW][1]==cT)c4=iW;if(c4!=-1){var kv=0,g=H[c4];H[c4]=H[P];H[P]=g;if(g[1]!=cT){kv=g[1];
g[1]=g[4];g[4]=kv;kv=g[2];g[2]=g[5];g[5]=kv;kv=g[3];g[3]=g[6];g[6]=kv}}}cT=H[P][4]}F.push([[]]);for(var P=0;
P<m;P++)F[0][0].push(P)}var iL=[],cr=[];for(var ga=0;ga<F.length;ga++){for(var iq=0;iq<F[ga].length;
iq++){var ei=F[ga][iq],hw=0;if(ei.length>1){var hC=H[ei[0]],j5=H[ei[1]];hw=hC[4]==j5[1]?1:0}for(var P=0;
P<ei.length;P++){var ed=H[ei[P]],jn=1,fj=4;if(hw==0){jn=4;fj=1}var b1=V[ed[jn]],dI=V[ed[fj]];if(P==0){cr.push("M");
iL.push(b1.x,b1.y)}cr.push("C");iL.push(b1.x+ed[jn+1],b1.y+ed[jn+2],dI.x+ed[fj+1],dI.y+ed[fj+2],dI.x,dI.y)}}}j=Q.p.PY({C:iL,J:cr},!1);
if(i!=0){var x=[],h2=j[2].length;for(var P=0;P<h2;P++)x.push(i);if(Q.O.CR(j))Q.O.Yy(j,2,x)}var de=new am;
de.scale(p.x==0?1:o.x/p.x,p.y==0?1:o.y/p.y);Q.O.yJ(j,de)}E.j=j};al.RL=function(w,I){return w[I.sessionID+","+I.localID]};
al.ajj=function(w,I){return w.sessionID==I.sessionID&&w.localID==I.localID};al.apl=function(w){var I={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[w];
if(I==null)throw w;return I};al.V5=function(w){return{t:"Objc",v:Q.N.Ex({o:w.r*255,P:w.g*255,L:w.b*255})}};
al.RO=function(w){var I=[w.m00,w.m10,w.m01,w.m11,w.m02,w.m12];for(var P=0;P<6;P++)if(Math.abs(I[P])<1e-20)I[P]=0;
return new am(I[0],I[1],I[2],I[3],I[4],I[5])};function ck(){}ck.fM=function(){var w=M.jz;function I(U,n,a,T){var g=T?[]:{};
while(n<U.length-1&&U[n]!=125){var D=w(U,n,3),b=w(U,n+3,1),N;n+=4;n++;if(b=="v"){var C=I(U,n,a+1,D=="ELM"||D=="TIL");
N=C.k;n=C.z}else if(b=="i"||b=="f"){var Z=n;while(U[Z]!=125)Z++;var S=w(U,n,Z-n);N=b=="i"?parseInt(S,16):parseFloat(S);
n=Z+1}else if(b=="s"){var u=M.vH(U,n),S="";n+=2;for(var P=0;P<u;P++)S+=String.fromCharCode(U[n+2*P+1]);
N=S;n=n+2*u+1}else if(b=="b"){N=U[n]==49;n=n+2}else throw"e";if(T)g.push([D,N]);else if(g[D]==null)g[D]=N;
else{if(!(g[D]instanceof Array))g[D]=[g[D]];g[D].push(N)}}n++;return{k:g,z:n}}function E(U,n){var a=X(U).slice(1),U=n.Clr.v;
U.Rd.v=a[0]*255;U.Grn.v=a[1]*255;U.Bl.v=a[2]*255}function X(U){return[(U>>>24&255)/255,(U>>>16&255)/255,(U>>>8&255)/255,(U>>>0&255)/255]}function o(U,n){var a=n&4278190080|(n&255)<<16|(n>>>8&255)<<8|n>>>16&255;
new Uint32Array(U.buffer).fill(a)}function i(U,n){var a=U.TSZ,T=U.WPX,g=U.HPX,D=U.TIL,b=new dC(0,0,T,g),N=Q.$(T*g*4),C=0;
for(var Z=0;Z<g;Z+=a)for(var S=0;S<T;S+=a){var u=new dC(S,Z,a,a),p,f=D[C];if(f[0]=="TMC"){p=Q.$(u.A()*4);
o(p,f[1])}else if(f[0]=="TID"){p=n[f[1]]}Q.D6(p,u,N,b);C++}return[N,b]}function h(U,n){U=new Uint8Array(U);
var a=8,T,g={},m=0;while(a<U.length){var D=M.W(U,a);a+=4;var b=w(U,a,4);a+=4;if(b=="mkTS"){var N=pako.inflate(U.slice(a,a+D)),C=I(N,0,0);
T=C.k}else if(b=="mkBT"){var Z=M.W(U,a+4),S=M.W(U,a+8),N=pako.inflate(U.slice(a+76,a+D));if(S==0)for(var P=0;
P<N.length;P+=4){var u=N[P],p=N[P+1],f=N[P+2],d=N[P+3];N[P+3]=u;N[P+2]=d;N[P+1]=f;N[P]=p}else{var l=Q.$(N.length*4);
l.fill(255);Q.SU(N,l);N=l}g[Z]=N}a+=D+4}var A=T.PDC,B=A?A instanceof Array?A:[A]:[T.MKB],e=new dC;for(var P=0;
P<B.length;P++){var $=B[P];e=e.jB(new dC(0,m,$.WID,$.HIT));m+=$.HIT+100}n.q=e.q;n.w=e.w;n.buffer=Q.$(e.A()*4);
n.G0(B.length);m=0;for(var V=0;V<B.length;V++){n.b.push(n.Rf());var $=B[V],H=$.WID,F=$.HIT,G=$.BGC,J=($.LYL?$:T).LYL.LAY,s=3;
for(var P=0;P<J.length;P++)x(J[P],n,null,g,new am(1,0,0,1,-$.XLC,-$.YLC+m));var c=n.XY();n.b.push(c);
var r=new dC(0,m,H,F);m+=F+100;c.CZ(r);if(G>>>24!=0){var z=Q.N.Ex({o:G>>>16&255,P:G>>>8&255,L:G>>>0&255});
c.add.artb.Clr={t:"Objc",v:z};s=4}c.add.artb.artboardBackgroundType.v=s;c.G_($.PGN?$.PGN:"Page "+(V+1));
c.add.lsct=gs.S2;c.$B="pass";c.Bo=24}}function k(U,n,a){var T=U[n];return T instanceof Array?T[a]:T}function x(U,n,a,T,g){var D=n.XY();
if(U.VIS!=null)D.Wz(U.VIS);if(U.VIF!=null)D.Wz(U.VIF.VIS);if(U.OPA!=null)D.opacity=Math.round(255*U.OPA/1e3);
D.$B=U.CLL||a=="GRP"?"pass":"norm";if(U.BLD!=null){var b=U.BLD,N={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[b+""];
if(N==null)console.log(U.OBN,b);else D.$B=N;if(b==30)D.opacity>>>=1}if(U.CLL){D.G_(U.LNM);n.b.push(n.Rf());
var C=U.CLL.CEL;if(C.length==null)C=[C];for(var Z=C.length-1;Z>=0;Z--){var S=C[Z].ELM;for(var P=S.length-1;
P>=0;P--)x(S[P][1],n,S[P][0],T,g)}D.add.lsct=U.DIS?gs.Y_:gs.S2;D.Bo|=24}else if(a=="GRP"){var u=D.add.lmfx=v(U.EFL),p;
n.b.push(n.Rf());var S=U.ELM;if(U.MNA){p=S[0][1];S=S.slice(1)}D.G_("Group: "+S.length+" objects");for(var P=S.length-1;
P>=0;P--)x(S[P][1],n,S[P][0],T,g);if(p){if(U.MRX){var f=i(p,T),d=D.D=new K._x;d.rect=f[1].clone();d.rect.x=p.XLC;
d.rect.y=p.YLC+g.Zt;d.channel=Q.$(d.rect.A());Q.qe(f[0],d.channel,0);Q.ja(d.channel)}else{j(D,p,g);D.QQ();
D.kH(n)}}D.add.lsct=gs.S2;D.Bo|=24}else if(a=="IMG"){D.G_(U.OBN?U.OBN:"Bitmap");var f=i(U,T);D.rect=f[1].clone();
D.rect.x=U.XLC;D.rect.y=U.YLC+g.Zt;D.buffer=f[0]}else if(a=="TXT"){var l=U.TFS,A=l.TRN instanceof Array?l.TRN.length:1,$="",V="Arial",H=20,F=0;
D.add.lnsr="rend";D.add.TySh=bQ.za(0,0);D.add.TySh.Wc=new dC(0,0,100,100);var B=new am(1,0,0,1,U.LFT,U.TOP);
if(U.MTX){var e=U.MTX,d=new am(e.M00,e.M01,e.M10,e.M11,e.M20,e.M21);B.concat(d)}B.concat(g);D.add.TySh.F=B;
var m=D.add.TySh.Da;for(var P=0;P<A;P++){var G=k(l,"TRN",P);if(G==null)continue;G=G.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
G=G.replaceAll("\x03","\n").replaceAll("\r","\n");bQ.fZ(m,$.length,G);var J=bQ.wg(m,0,1),c=k(l,"FON",P);
if(c)V=c;bQ.Ab(J,V);var r=k(l,"PTS",P);if(r!=null)H=r;J.hd.FontSize=Math.round(H);var s=k(l,"LED",P);
if(s!=null){J.hd.Leading=s*H;J.hd.AutoLeading=!1}var z=k(l,"UND",P);if(z!=null){J.hd.Underline=z}var Y=k(l,"ITL",P);
if(Y!=null){J.hd.FauxItalic=Y}var ax=k(l,"FCL",P);if(ax!=null)F=ax;J.hd.FillColor={Type:1,Values:X(F)};
var iW=k(l,"JST",P);if(iW!=null)J.wo.Justification=[0,2,1,3,5,4,6,7,8][iW];bQ.JF(m,$.length,$.length+G.length,J);
$+=G}D.G_($.slice(0,255));var y=U.RIT-U.LFT,hm=U.BOT-U.TOP;if(U.IMG){x(U.IMG,n,"IMG",T,g);var t=n.b.pop();
D.buffer=t.buffer;D.rect=t.rect.clone()}bQ.Kv(m,1);bQ.Nq(m,[0,0,y,hm])}else if(a=="PTH"){D.G_(U.OBN?U.OBN:"Path");
D.Bo|=16;var cT=!1;j(D,U,g);var c4=D.add.vmsk,kv=D.add.vstk,iL=Q.O.sM(c4.j),cr=U.PAT,ga=cr.BPL,iq=cr.FPL,ei=cr.TXF;
if(iq&&iq.FEF)c4.o6+=iq.FEF/2.4;if(ga){var hw=ga.CAT;kv.strokeEnabled.v=!0;kv.strokeStyleLineWidth.v.val=ga.BDI;
kv.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hL.Oq.hN[U.BRP];E(cr.BCL,kv.strokeStyleContent.v);
if(hw!="bc_Basic"&&hw!="bc_Pencil")cT=!0}if(iq==null){kv.fillEnabled.v=!1;D.add.SoCo=JSON.parse(hL.zd[hL.order.indexOf("SoFi")]);
E(0,D.add.SoCo)}else if(iq.CAT=="fc_Solid"){D.add.SoCo=JSON.parse(hL.zd[hL.order.indexOf("SoFi")]);E(U.PAT.FCL,D.add.SoCo)}else if(iq.CAT=="fc_Linear"||iq.CAT=="fc_Circular"||iq.CAT=="fc_Elliptical"){var hC=iq.CAT=="fc_Linear",j5=D.add.GdFl=JSON.parse(hL.zd[hL.order.indexOf("GrFl")]),ed=j5.Grad.v,jn=[],fj=iq.FGL,di,b1=[];
if(fj.FGY){var dI=fj.FGY,di=dI.FG0.FGI,b1=dI.FG1.FGI}else di=fj.FGV.FGI;for(var P=0;P<di.length;P++){var h2=di[P],de=X(h2.FGC),ds=1;
if(b1.length==di.length)ds=X(b1[P].FGC)[0];jn.push([h2.FGP,de.slice(1),ds])}j5.Type.v.GrdT=hC?"Lnr":"Rdl";
Q.N.GL(jn,ed);ed.Intr.v=0;var jO=U.PRI?U.PRI:U,gy=new a5(jO.PSX,jO.PSY),fV=new a5(jO.PEX,jO.PEY);if(iq.CAT=="fc_Elliptical"&&jO.PFX!=null){var hl=new a5(jO.PFX,jO.PFY),im=a5.GZ(gy,fV),eA=a5.GZ(gy,hl);
if(eA<im){var hy=im;im=eA;eA=hy}fV=new a5(gy.x+(im+eA)/2,gy.y);if(im/eA<.5)cT=!0}if(hC){gy.x=(gy.x+fV.x)/2;
gy.y=(gy.y+fV.y)/2}Q.N.xD(gy,fV,iL,j5)}else console.log(iq.CAT);var u=D.add.lmfx=v(U.EFL,c4);if(iq&&iq.FTB!=0&&ei){var f=i(ei.MSK,T),dm={};
dm.id=hg.Mz()+"-d71c-11e5-b1ae-a548a96e5f9f";dm.name="someImage";dm.IZ=f;n.kj(dm);var hA=f[0];for(var P=0;
P<hA.length;P+=4){hA[P+3]=255-hA[P];hA[P]=hA[P+1]=hA[P+2]=255}var j5=JSON.parse(hL.zd[hL.order.indexOf("patternFill")]);
j5.Opct.v.val=Math.round(iq.FTB/10);j5.Algn.v=!0;j5.Ptrn.v.Idnt.v=dm.id;u.patternFillMulti.v.unshift({t:"Objc",v:j5})}if(cT&&U.IMG){x(U.IMG,n,"IMG",T,g);
var j2=n.b[n.b.length-1];j2.opacity=D.opacity;return}D.QQ();D.kH(n)}else if(a=="URL")return;else{console.log("unknown layer type",a,U);
D.G_("Layer")}n.b.push(D)}function j(U,n,a){if(n.PBL==null)return;var T=U.add.vmsk=new K.DN,g=U.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default)),D=n.PBL.PBP;
if(!(D instanceof Array))D=[D];for(var b=0;b<D.length;b++){var N=D[b].PBT;if(N==null)continue;if(!(N instanceof Array))N=[N];
var C=D[b].ISC?0:3;T.j.push({type:C,length:N.length,KP:0,mr:2,ad:0,Lk:0});for(var P=0;P<N.length;P++){var Z=N[P],S=Z.XLC,u=Z.YLC,p=[S,u,S,u,S,u],f="XPC YPC XLC YLC XSC YSC".split(" ");
for(var d=0;d<6;d++){var l=f[d],A=Z[l];if(A!=null)p[d]=A}T.j.push({type:C+2,H:new a5(S,u),DX:new a5(p[0],p[1]),kk:new a5(p[4],p[5])})}}Q.O.yJ(T.j,a)}function v(U,n){var a=JSON.parse(hL.default);
for(var P=0;P<hL.order.length;P++)a[hL.JR[P]]={t:"VlLs",v:[]};if(U==null)return a;var T=U.EPS;if(!(T instanceof Array))T=[T];
for(var P=0;P<T.length;P++){var g=T[P].DCE,D={};for(var b=0;b<g.length;b++)D[g[b].DCK]=g[b].DCV;if(D.EffectIsVisible=="false")continue;
var N=D.mkbFile_WriteOnly_TemporaryEffectUiName;if(N=="Gaussian Blur..."&&n){n.o6+=parseFloat(D.gaussian_blur_radius);
continue}var C=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(N);if(C==-1){continue}var Z=["DrSh","ebbl","IrGl","OrGl"][C],S=hL.JR[hL.order.indexOf(Z)],u=JSON.parse(hL.zd[hL.order.indexOf(Z)]);
a[S].v.unshift({t:"Objc",v:u});if(Z=="DrSh"){u.uglg.v=!1;_(D,"ShadowDistance",u,"Dstn");_(D,"ShadowBlur",u,"blur");
_(D,"ShadowAngle",u,"lagl",180);u.Opct.v.val=100;L(D,"ShadowColor",u,"Clr")}if(Z=="IrGl"){u.Md.v.BlnM="Nrml";
var p=D.MaskSoftness,f=D.GlowWidth;if(p&&f){p=parseInt(p);f=parseInt(f);u.blur.v.val=f+p;u.Ckmt.v.val=Math.round(100*f/(f+p))}_(D,"BevelContrast",u,"Opct");
L(D,"OuterBevelColor",u,"Clr")}if(Z=="OrGl"){u.Md.v.BlnM="Nrml";var p=D.MaskSoftness,f=D.GlowWidth;if(p&&f){p=parseInt(p);
f=parseInt(f);u.blur.v.val=f+p}_(D,"BevelContrast",u,"Opct");L(D,"OuterBevelColor",u,"Clr")}if(Z=="ebbl"){u.uglg.v=!1;
_(D,"BevelWidth",u,"blur");_(D,"AngleSoftness",u,"Sftn");_(D,"BevelContrast",u,"srgR");_(D,"LightAngle",u,"lagl")}}return a}function _(U,n,a,T,g){var D=U[n];
if(g==null)g=0;if(D)a[T].v.val=parseInt(D)+g}function L(U,n,a,T){var g=U[n];if(g){g=g.slice(1);if(g.length==6)g=g+"ff";
if(g.length!=8)throw"e";var D=X(parseInt(g,16)),b=a[T].v;b.Rd.v=D[0]*255;b.Grn.v=D[1]*255;b.Bl.v=D[2]*255;
a.Opct.v.val=Math.round(a.Opct.v.val/100*D[3]*100)}}return h}();function g3(){}g3.fM=function(){function w(A,B){var e=!1,m=Date.now(),$=C(A,e);
if(e)console.log("part found",Date.now()-m);m=Date.now();var V=N($),H=V.Layer,F=V.Header;if(e)console.log(V);
var G=H[0];G=V.Layer[0];if(e)console.log("document parsed",Date.now()-m);m=Date.now();V.Setup.Gradient=b(V.Setup.Gradient,$);
if(e)console.log("grads loaded",Date.now()-m);m=Date.now();V.Setup.Pattern=D(V.Setup.Pattern,$);if(e)console.log("patts loaded",Date.now()-m);
m=Date.now();V.Setup.DocumentData=g(V.Setup.DocumentData,$).pop();if(e)console.log("docdata loaded",Date.now()-m);
m=Date.now();V.Setup.SVGFilter=g(V.Setup.SVGFilter,$);if(e)console.log("svgfilter loaded",Date.now()-m);
m=Date.now();var J=F.Cropmarks,c=F.BoundingBox.split(" ").map(parseFloat),r=F.ArtSize?F.ArtSize.split(" ").map(parseFloat):[c[2]-c[0],c[3]-c[1]];
B.q=Math.round(r[0]);B.w=Math.round(r[1]);var s=[1,0,0,1,-c[0]+(B.q-(c[2]-c[0]))/2,-c[1]+(B.w-(c[3]-c[1]))/2];
s[3]=-1;s[5]=B.w-s[5];if(J){J=J.split(" ").map(parseFloat);B.q=Math.round(J[2]-J[0]);B.w=Math.round(J[3]-J[1]);
s=[1,0,0,-1,-J[0],B.w+J[1]]}var z=V.Setup.DocumentData;if(z&&z[0]&&z[0].ArtboardArray){var Y=z[0].ArtboardArray;
if(Y.length!=1)console.log(Y.length,"artboards");var ax=new dC,iW=[];for(var P=0;P<Y.length;P++){var y=Y[P],hm=y.PositionPoint1,t=y.PositionPoint2,cT=hm[0],c4=Math.min(hm[1],t[1]),kv=t[0],iL=Math.max(hm[1],t[1]),cr=new dC(cT,c4,kv-cT,iL-c4);
iW.push(cr);ax=ax.jB(cr)}B.q=Math.round(ax.q);B.w=Math.round(ax.w);s[4]=-ax.x;s[5]=ax.y+B.w;if(Y.length!=1){B.b.push(B.Rf());
for(var P=0;P<iW.length;P++){var y=Y[P],cr=iW[P],ga=B.XY();ga.G_(y.Name);B.b.push(ga);ga.add.SoCo=JSON.parse(hL.zd[hL.order.indexOf("SoFi")]);
var iq=ga.add.SoCo.Clr.v;j(iq,[1,1,1]);var cT=cr.x,c4=cr.y,kv=cT+cr.q,iL=c4+cr.w,ei=[cT,c4,kv,c4,kv,iL,cT,iL];
Q.p.F(ei,_(s),ei);U(ga,{cmds:["M","L","L","L","Z"],crds:ei},B)}var ga=B.XY();ga.G_("_Artboards_");ga.add.lsct=gs.S2;
ga.$B="pass";ga.Bo=24;B.b.push(ga)}}if(z&&z[0]&&z[0]["#document"]){var hw=z[0]["#document"],hC=hw["xmlnode-children"][0];
if(hC&&hC["xmlnode-children"])hC=hC["xmlnode-children"][0];if(hC["xmlnode-nodename"]=="variableSets"){var j5=hC["xmlnode-children"][0]["xmlnode-children"],ed=j5[0],jn=j5[1],fj=l(ed);
B.Ot=cD.Xx("<variableSets><variableSet>"+fj+"</variableSet></variableSets>");if(jn){var di=l(jn),b1=B.p2=cD.qr(di);
for(var P=0;P<b1.length;P++)for(var dI=0;dI<b1[P].length;dI++)b1[P][dI]=b1[P][dI].trim()}}}var h2=fE.pJ(new dC(0,0,B.q,B.w),8192*8192);
B.q=Math.round(B.q*h2);B.w=Math.round(B.w*h2);B.nN=Math.round(72*h2);B.buffer=Q.$(B.q*B.w*4);for(var P=0;
P<6;P++)s[P]*=h2;E=[0,0,0];X=[0,0,0];o="SoCo";for(var de=0;de<H.length;de++){var ds=H[de];ds.Raster=I(ds,"Raster");
ds.Place=I(ds,"Place");var jO=a($,ds);i(B,jO,s,V,ds,$)}if(e)console.log("layers created",Date.now()-m);
m=Date.now()}function I(A,B){var e=A.Layer,m=A[B];if(m==null)m=[];if(e){for(var P=0;P<e.length;P++){var $=e[P],V=$[B]=I($,B);
m=m.concat(V)}m.sort(function(H,F){return H._begin-F._begin})}return m}var E,X,o;function i(A,B,e,m,$,V){var H="",F=0,G="",J=!1,c={},r=UDOC.G,s=UDOC.getState(),z="norm",Y=1,ax=!1,iW=0,hm=null,t=!1,cT=0,c4=null,kv,iL,cr=0,ga=0,iq=0,hC=0,j5=!1;
s.ctm=e;var y=[],ei=[],hw=[];for(var ed=0;ed<B.length;ed++){var jn=B[ed],dI=1e9;if(jn[0]=="%"){if(jn=="%_/ArtDictionary :"&&cT==0)hm=[jn.slice(2)];
else if(hm!=null){if(jn=="%_"&&cT==0){var fj=u(hm)[0],di=fj.AI10_ArtUID;if(di&&!di.startsWith("XMLID"))A.b[A.b.length-1].G_(f(di));
hm=null}else{hm.push(jn.slice(t?1:2));if(jn=="%_X=")cT++;if(jn=="%_X+")cT--;if(jn=="%_/Binary : /ASCII85Decode ,")t=!0;
if(t&&jn.endsWith("~>"))t=!1}}else if(c4){kv+=(kv==""?"":" ")+jn.slice(2);if(kv.endsWith("X#")){c4.push(kv.slice(0,kv.length-3));
kv=""}}continue}else if(jn=="/Mesh X!"){c4=[];kv="";continue}else if(jn=="/End X!"){h(c4,s,A);c4=null;
continue}var b1="Xa XR m l c f U u *U w J j M d".split(" "),h2=-1,de=jn.indexOf("(")!=-1;for(var P=0;
P<b1.length;P++){var ds=jn.indexOf(" "+b1[P]+" ");if(ds!=-1&&ds<dI&&!de){dI=ds;h2=P}}if(h2!=-1){J=!0;
var jO=dI+1+b1[h2].length;B[ed]=jn.slice(0,jO);var gy=B[ed+1];if(gy==null||gy[0]=="%"||h2>9)B.splice(ed+1,0,jn.slice(jO));
else B[ed+1]=(jn.slice(jO)+" "+gy).replace(/\s\s+/g," ");ed--;continue}jn=jn.trim();var fV=jn.split(" "),hl=fV[fV.length-1],im=hl.toLowerCase(),eA=fV.map(parseFloat);
if(hl=="m")r.moveTo(s,eA[0],eA[1]);else if(hl=="L"||hl=="l")r.lineTo(s,eA[0],eA[1]);else if(hl=="V"||hl=="v"||hl=="Y"||hl=="y")r.quadCurveTo(s,eA[0],eA[1],eA[2],eA[3]);
else if(hl=="C"||hl=="c")r.curveTo(s,eA[0],eA[1],eA[2],eA[3],eA[4],eA[5]);else if(hl=="H"||hl=="h"){if(hl==im)r.closePath(s);
y.push(JSON.parse(JSON.stringify(s.pth)))}else if(hl=="Xy"){z=["norm","mul ","scrn","over","sLit",null,"div "][eA[0]];
Y=eA[1];if(z==null){z="norm";console.log("unknown blend mode",eA[0])}}else if(hl=="Xd"){var hy=A.b[A.b.length-1];
hy.opacity=Math.round(255*Y);hy.$B=hy.vD()&&z=="norm"?"pass":z}else if(hl=="AE")cr=eA[0];else if(hl=="Ae")ga=eA[0];
else if(hl=="Xw")iq=eA[0];else if(hl=="*"){var dm=s.pth.crds,hA=s.ctm,ds=dm[0]==dm[2]?0:1;A.l2.push([ds,dm[ds]]);
r.newPath(s)}else if(hl=="XN")iL=jn.split(" ")[0];else if(hl=="XI"){var j2=$.Raster,dQ,aS;if(j2==null||j2.length==0){console.log("no Raster");
continue}if(jn!="XI"){continue}else{if(j2[F].Data==null){continue}var eh=j2[F++].Data,h_=eh._begin,h6=eh._end;
while(V[h_]!=88)h_++;h_+=3;dQ=V.slice(h_,h6);aS=B[ed-2].split(" ").map(parseFloat)}var gT=aS.slice(8),b8=gT[2],hP=gT[3],b5=b8*hP,ar=Q.$(b5*4);
ar.fill(255);var cG=gT[7],bd=gT[8],aZ=gT[6],gl=Math.ceil(b8*cG*aZ/8);if(cG==1){if(aZ==8)for(var P=0;
P<b5;P++)for(var ci=0;ci<3;ci++)ar[4*P+ci]=dQ[P];else if(aZ==1)for(var a7=0;a7<hP;a7++)for(var ay=0;
ay<b8;ay++)for(var ci=0;ci<3;ci++)ar[4*(a7*b8+ay)+ci]=255*(dQ[a7*gl+(ay>>>3)]>>>7-(ay&7)&1);else throw aZ}else if(cG==3)for(var P=0;
P<b5;P++)for(var ci=0;ci<3;ci++)ar[4*P+ci]=dQ[3*P+ci];else if(cG==4||cG==5)for(var P=0;P<b5;P++){var it=L([dQ[cG*P+0]/255,dQ[cG*P+1]/255,dQ[cG*P+2]/255,dQ[cG*P+3]/255]);
ar[4*P+0]=it[0]*255;ar[4*P+1]=it[1]*255;ar[4*P+2]=it[2]*255}else if(cG==7)for(var P=0;P<b5;P++){ar[4*P+0]=dQ[cG*P+0];
ar[4*P+1]=dQ[cG*P+1];ar[4*P+2]=dQ[cG*P+2]}else console.log("unknown number of channels",cG);if(bd==1){var h1=hP*gl;
for(var P=0;P<b5;P++)ar[4*P+3]=dQ[h1+P]}var hM=Q.rl(ar,b8,hP)?"JPG":"PNG";if(b8*hP<700*700)hM="PNG";
var dn=gt.FB(hM).v6([[ar.buffer]],b8,hP),gV=A.ec(new Uint8Array(dn),"<Image>",0,0);A.b.push(gV);gV.$B=z;
gV.opacity=Math.round(255*Y);gV.Wz(iq==0);var e=new am;e.scale(1,-1);e.concat(_(aS.slice(1)));e.concat(_(s.ctm));
var jv=gV.rect.clone();jv.x=jv.y=0;var fV=Q.p.sy(jv).C;Q.p.F(fV,e,fV);gV.add.SoLd.Trnf=q.R.bd(fV);gV.add.SoLd.nonAffineTransform=q.R.bd(fV);
gV.vR(A,!1)}else if(hl=="Ln"){H=x(jn)}else if(hl=="u"||hl=="q"||hl=="Lb"){ei.push(ga==1);hw.push((hl=="Lb"?1-eA[0]:iq)==0);
if(ax)continue;A.b.push(A.Rf())}else if(hl=="U"||hl=="Q"||hl=="LB"){if(ei.length==0||hw.length==0)throw ed;
var dt=ei.pop(),hZ=hw.pop();if(hl=="LB")dt=cr==1;if(ax)continue;var gV=A.XY();gV.G_((hl=="U"?"<Group>":"<Clip Group>")+G);
if(hl=="LB")gV.G_(H);if(hl=="Q"&&y.length!=0){var eQ=y.pop(),dd=UDOC.G.isBox(eQ,[0,0,A.q,A.w]);if(!dd)U(gV,eQ,A)}gV.add.lsct=dt?gs.Y_:gs.S2;
gV.$B="pass";gV.Bo=24;gV.Wz(hZ);A.b.push(gV);if(j5){if(A.b[A.b.length-3].getName()=="</Layer group>"){A.b.pop();
A.b.splice(A.b.length-2,1)}j5=!1}}else if(hl=="Bb"||hl=="Bh"||hl=="BB"){}else if(hl=="Bg"){var dp=m.Setup.Gradient,i_=dp[x(jn)];
if(i_==null){console.log("gradient not found");for(var by in dp){i_=dp[by];break}}o="GdFl";E=k(i_.Vq,i_.avF)}else if(hl=="Bm"||hl=="Xm"){var jK=E.Type.v.GrdT;
if(jK=="Lnr"&&hl!="Xm"||jK=="Rdl"&&hl!="Bm")continue;var cc=new a5(0,0),jo=new a5(1,0),ge=new am;ge.concat(_(eA));
ge.concat(_(s.ctm));cc=ge.kG(cc);jo=ge.kG(jo);var gH=Q.p.zK(s.pth.crds);if(gH.qo())gH=Q.p.zK([cc.x,cc.y,jo.x,jo.y]);
if(jK=="Lnr"){cc.x=(cc.x+jo.x)/2;cc.y=(cc.y+jo.y)/2}Q.N.xD(cc,jo,gH,E)}else if(hl=="p"){var cv=x(jn),jN=m.Setup.Pattern[cv];
if(jN.raw==null){var gH=jN.iM,b8=Math.round(gH[2]-gH[0]),hP=Math.round(gH[3]-gH[1]),fj=new hg;fj.q=b8;
fj.w=hP;fj.buffer=Q.$(b8*hP*4);i(fj,jN.jZ,[1,0,0,-1,-jN.iM[0],hP+jN.iM[1]],m,$,V);jN.raw=new Uint8Array(gt.FB("PSD").v6(fj))}var fg=jn.slice(jn.indexOf(")")+2),el=fg.slice(0,fg.indexOf("[")-1).split(" ").map(parseFloat),cf=fg.slice(fg.indexOf("[")+1,fg.indexOf("]")).split(" ").map(parseFloat);
o="patt";E=[cv,el,cf]}else if(hl=="J"||hl=="j"||hl=="w"||hl=="M"||hl=="d"){for(var P=1;P<fV.length;P++){var gW=fV[P],dl=eA[P-1];
if(gW=="w")s.lwidth=dl;if(gW=="j")s.ljoin=dl;if(gW=="J")s.lcap=dl;if(gW=="d"){var f5=jn.slice(jn.indexOf("[")+1,jn.indexOf("]")).trim();
if(f5.length!=0){var aX=f5.split(" ").map(parseFloat);s.dash=aX}else if(f5=="")s.dash=[]}}}else if(im=="xa"||im=="xx"){var dK=eA[4]==null?eA.slice(0,3):[eA[4],eA[5],eA[6]];
if(im=="xx"&&eA[eA.length-2]==2)dK=L(eA);o="SoCo";if(hl=="Xa"||hl=="Xx")E=dK;else X=dK}else if(im=="xk"){var dK,e4=eA[eA.length-2],dg=eA[eA.length-3];
if(e4==0)dK=L(eA);else if(e4==1){dK=[eA[4],eA[5],eA[6]];for(var P=0;P<3;P++)dK[P]=dg*1+(1-dg)*dK[P]}else throw jn;
o="SoCo";if(hl=="Xk")E=dK;else X=dK}else if(im=="k"||im=="x"){if(im=="x"){eA.pop();var dX=1-eA.pop();
for(var P=0;P<4;P++)eA[P]*=dX}var dK=L(eA);o="SoCo";if(hl==im)E=dK;else X=dK}else if(im=="g"){var dK=[eA[0],eA[0],eA[0]];
o="SoCo";if(hl==im)E=dK;else X=dK}else if(im=="n"){if(!ax)r.newPath(s)}else if(hl=="*u"){ax=!0;iW=0}else if(hl=="*U"||im=="s"||im=="f"||im=="b"){if(hl!="*U"&&ax){if(im=="f"||im=="b")iW|=1;
if(im=="s"||im=="b")iW|=2;continue}if(hl==im)r.closePath(s);if(hl=="*U"){ax=!1}var gV;if(o=="patt"){var jN=m.Setup.Pattern[E[0]];
gV=A.ec(jN.raw,"<Pattern>",0,0);var jv=gV.rect.clone();jv.x=jv.y=0;var fV=Q.p.sy(jv).C,cf=_(E[2]);cf.N9=cf.Zt=0;
Q.p.F(fV,cf,fV);gV.add.SoLd.Trnf=q.R.bd(fV);gV.add.SoLd.nonAffineTransform=q.R.bd(fV);gV.vR(A,!1)}else{gV=A.XY();
gV.Bo|=16;var bf=gV.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default));bf.strokeEnabled.v=bf.fillEnabled.v=!1;
if(o=="SoCo"){gV.add.SoCo=JSON.parse(hL.zd[hL.order.indexOf("SoFi")]);var bC=gV.add.SoCo.Clr.v;j(bC,E)}if(o=="GdFl")gV.add.GdFl=E;
if(im=="f"||im=="b"||hl=="*U"&&iW&1)bf.fillEnabled.v=!0;if(im=="s"||im=="b"||hl=="*U"&&iW&2)d1.Nn(bf,s,1,d1.Zj(X))}gV.G_("<"+(hl=="*U"?"Compound ":"")+"Path>"+G);
gV.$B=z;gV.opacity=Math.round(255*Y);gV.Wz(iq==0);U(gV,s.pth,A);A.b.push(gV);r.newPath(s)}else if(hl==","&&fV[0]=="/XMLUID"){var hy=A.b[A.b.length-1];
for(var P=0;P<A.Ot.length;P++)if("("+A.Ot[P].docRef+")"==fV[2])A.Ot[P].docRef="id('"+hy.add.lyid+"')"}else if(hl==","&&fV[1]=="/FreeUndo"){hC=eA[0]}else if(hl==","&&fV[1]=="/StoryIndex"){var iT=m.Setup.TextDocument,iA=null;
if(!(iT instanceof Array))iT=m.Setup.TextDocument=T(iT,V);var f4=iT[0],fS=iT[2];if(f4._DocumentResources)f4=iT[0]=bS.a7n(f4);
else bS.awM(f4);var gV=A.XY();gV.add.lnsr="rend";gV.add.TySh=bQ.za(0,0);var hO=eA[0];if(hC==1){for(var P=1;
P<60;P++){var gy=B[ed+P];if(gy.endsWith("/StoryIndex ,")){hO=parseFloat(gy.slice(2,gy.indexOf(" ")));
j5=!0;break}}hC=0}var fl=an.a6j(f4),hr=gV.add.TySh.Da=fl[hO];if(hr==null){console.log("text not found");
j5=!1;continue}gV.G_(bQ.Of(hr).slice(0,50));gV.$B=z;gV.opacity=Math.round(255*Y);gV.Wz(iq==0);var dX=f4._1._1[hO]._1._0[0]._0;
dX=parseInt(dX.slice(1));var fq=f4._0._8._0,cw=fq[dX]._0;if(cw._0)iA=v(cw._0);else if(cw._1)iA=v(cw._1._0);
else iA=v(cw._2._2).slice(3);if(iA.length!=2){var gH=Q.p.zK(iA);iA=[gH.x,gH.y];if(gH.A()!=0){bQ.Kv(hr,1);
bQ.Nq(hr,[0,0,Math.round(gH.q),Math.round(gH.w)])}}var gr=new am,bF=new am(1,0,0,1,iA[0],iA[1]),eU=new am(1,0,0,1,-fS[0],-fS[1]),fC=_(s.ctm),hG=new am;
if(cw._2&&cw._2._2){var e=v(cw._2._2);hG=new am(e[0],e[1],e[2],e[3],e[4],e[5])}gr.concat(bF);gr.concat(hG);
gr.concat(eU);gr.scale(1,-1);gr.concat(fC);gV.add.TySh.F=gr;A.b.push(gV);A.NZ=!0}else if(hl=="Tp"){c.Ea=_(eA)}else if(hl=="Tf"){c.font=fV[0].slice(2)}else if(hl=="Tk"){var gV=A.XY();
gV.add.lnsr="rend";var gx=gV.add.TySh=bQ.za(0,0),hr=gx.Da,ge=c.Ea.clone(),jX=ge.dA();ge.concat(_(s.ctm));
var ff=new am(1/jX,0,0,-1/jX,0,0);ff.concat(ge);gx.F=ff;var hi=x(jn);gV.G_(hi);bQ.fZ(hr,0,hi);var fN=bQ.wg(hr,0,hi.length);
fN.hd.FontSize=jX;fN.hd.FillColor={Type:1,Values:[1,E[0],E[1],E[2]]};bQ.Ab(fN,c.font);bQ.JF(hr,0,hi.length,fN);
A.b.push(gV);A.NZ=!0}else if(J&&eA.length>3){var cY=!1;for(var P=0;P<eA.length;P++)if(isNaN(eA[P]))cY=!0;
if(!cY)B[ed+1]=(jn+" "+B[ed+1]).replace(/\s\s+/g," ")}}}function h(A,B,e){var m=UDOC.G,$=[],V=[],H="/DeviceGray",F=1,G=[],J=1;
for(var c=0;c<A.length;c++){var r=A[c];if(r.endsWith(" /CS")){var s=r.indexOf("/NChannel"),z=r.indexOf("/Process");
if(r.startsWith("/DeviceRGB")){H="/DeviceRGB";F=3}else if(r.startsWith("/DeviceGray")){H="/DeviceGray";
F=1}else if(r.startsWith("/DeviceCMYK")){H="/DeviceCMYK";F=4;G=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(s!=-1){H="/DeviceCMYK";
F=parseInt(r.slice(s-2,s-1));var Y=1;for(var P=0;P<F;P++){Y=r.indexOf("[",Y);G[F-1-P]=r.slice(Y+1,Y+8).split(" ").map(parseFloat);
Y++}}else if(z){H="/DeviceGray";F=1}else throw r}else if(r[0]=="["){var ax=r.indexOf("]"),iW=r.slice(1,ax).split(" ").map(parseFloat),y=r.slice(ax+2),hm,t,cT,c4,kv,iL;
if(y=="/Size"||y=="/P"||y=="/R")continue;if(y=="/S"||y=="/A"){hm=iW[0];t=iW[1];cT=iW[2];c4=iW[3];kv=iW[4];
iL=iW[5]}else if(y=="/N"){var cr=F+(J==1?0:1),ga;hm=iW[cr+0];t=iW[cr+1];cT=iW[cr+2];c4=iW[cr+3];kv=iW[cr+5];
iL=iW[cr+6];if(H=="/DeviceRGB")ga=iW.slice(0,3);else if(H=="/DeviceGray")ga=[iW[0],iW[0],iW[0]];else if(H=="/DeviceCMYK"){var iq=[0,0,0,0];
for(var P=0;P<F;P++){var ei=iW[P],hw=G[P];iq[0]+=ei*hw[0];iq[1]+=ei*hw[1];iq[2]+=ei*hw[2];iq[3]+=ei*hw[3]}ga=L(iq)}else throw ga;
ga.push(iW[F]);V.push([ga,hm,t])}else throw y;$.push([y,kv,iL,hm,t,cT,c4])}else if(r=="/E"){var hC=$.slice(0),j5=0;
for(var P=0;P<$.length;P++){var ed=$[P][0];if(ed=="/N"){j5++;continue}var jn=P,fj=P+1;while($[fj][0]!="/N"&&fj<$.length)fj++;
if(j5==0||j5==3){for(var di=0;di<fj-jn;di++)hC[jn+di]=$[fj-1-di]}else for(var di=jn;di<fj;di++){var b1=hC[di],dI=b1[1];
b1[1]=b1[5];b1[5]=dI;dI=b1[2];b1[2]=b1[6];b1[6]=dI}P=fj-1}$=[];for(var P=0;P<hC.length;P++){var b1=hC[P];
$.push(b1[1],b1[2],b1[3],b1[4],b1[5],b1[6])}var h2=$.length;m.moveTo(B,$[2],$[3]);for(var P=0;P<h2;P+=6){var cT=$[(P+4)%h2],c4=$[(P+5)%h2],kv=$[(P+6)%h2],iL=$[(P+7)%h2],hm=$[(P+8)%h2],t=$[(P+9)%h2];
m.curveTo(B,cT,c4,kv,iL,hm,t)}m.closePath(B);$=[]}else if(r.endsWith("/Version"))J=parseFloat(r[0])}var de=e.XY();
de.Bo|=16;de.G_("<Mesh>");var ds=de.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default));ds.strokeEnabled.v=!1;
if(V.length>=2){var jO=0,gy=0,fV=0;for(var P=0;P<V.length;P++)for(var di=P+1;di<V.length;di++){var hl=V[P][0],im=V[di][0],eA=hl[0]-im[0],hy=hl[1]-im[1],dm=hl[2]-im[2],hA=Math.sqrt(eA*eA+hy*hy+dm*dm);
if(hA>fV){fV=hA;jO=P;gy=di}}var j2=V[jO],dQ=V[gy],aS=de.add.GdFl=k(0,[[0,j2[0]],[1,dQ[0]]]),eh=_(B.ctm),h_=eh.kG(new a5(j2[1],j2[2])),h6=eh.kG(new a5(dQ[1],dQ[2])),gT=Q.p.zK(B.pth.crds);
h_.x=(h_.x+h6.x)/2;h_.y=(h_.y+h6.y)/2;Q.N.xD(h_,h6,gT,aS)}U(de,B.pth,e);e.b.push(de);m.newPath(B)}function k(A,B){var E=JSON.parse(hL.zd[hL.order.indexOf("GrFl")]),e=E.Grad.v;
e.Intr.v=0;E.Type.v.GrdT=["Lnr","Rdl"][A];Q.N.GL(B,e);return E}function x(A){var B=A.indexOf(")");while(A[B-1]=="\\")B=A.indexOf(")",B+1);
return A.slice(A.indexOf("(")+1,B).replaceAll("\\","")}function j(A,E){A.Rd.v=E[0]*255;A.Grn.v=E[1]*255;
A.Bl.v=E[2]*255}function v(A){var B=[];for(var P=0;P<A.length;P++)B[P]=parseFloat(A[P].slice(1));return B}function _(A){return new am(A[0],A[1],A[2],A[3],A[4],A[5])}function L(A){return UDOC.C.cmykToRgb(A)}function U(A,B,e){A.add.vmsk=new K.DN;
if(B.crds.length!=0)A.add.vmsk.j=n(B);A.QQ();A.kH(e)}function n(A){var B={C:A.crds,J:A.cmds},e=Q.p.PY(B,!1);
return e}function a(A,B){var e=[],J=0,z=0;for(var m=0;m<2;m++){var $=B[["Raster","Place"][m]];if($){for(var P=0;
P<$.length;P++){var V=$[P][["Data","PlacedObjectPreview"][m]];if(V==null)continue;var H=V._begin,F=V._end;
if(H>F)H=F;e.push([H,F])}}}e.sort(function(ax,iW){return ax[0]-iW[0]});var G=[B._begin];for(var P=0;
P<e.length;P++){var c=e[P],H=c[0]+32;G.push(H,c[1]);J+=c[1]-H}G.push(B._end);var r=B._end-B._begin,s=new Uint8Array(r-J);
for(var P=0;P<G.length;P+=2){var H=G[P],Y=G[P+1]-H;s.set(new Uint8Array(A.buffer,H,Y),z);z+=Y}return M.YV(s).split(/\r\n|\r|\n/)}function T(A,B){if(A==null)return[];
var e=a(B,A),m="",$="",V=0,H;for(var P=2;P<e.length;P++){var F=e[P];if(F[0]=="%"){if(V==0)m+=F.slice(1);
else $+=F.slice(1)}else if(F==";")V++;else if(F.endsWith("/RulerOrigin ,"))H=F.split(" ").slice(0,2).map(parseFloat)}var G=[m,$],J=[];
for(var P=0;P<2;P++){var c=G[P],r=new Uint8Array(c.length);M.X5(r,0,c);var s=FromPS.F.ASCII85Decode({buff:r,off:0}),z=fK.fM(s);
J.push(z)}J.push(H);return J}function g(A,B){if(A==null)return[];var e=a(B,A);e=e.slice(1);for(var P=0;
P<e.length;P++){var m=e[P];if(m[0]=="%")e[P]=m.slice(m[1]=="_"?2:1)}var $=u(e);return $}function D(A,B){var e={};
if(A==null)return e;for(var P=0;P<A.length;P++){var m=a(B,A[P]),$=m[1],V=x($),H=$.slice($.indexOf(")")+2).split(" ").map(parseFloat),F=[];
for(var G=2;G<m.length;G++)F.push(m[G].slice(2));e[V]={iM:H,jZ:F}}return e}function b(A,B){var e={},m,$;
if(A==null)return e;var V=[];for(var P=0;P<A.length;P++){var H=a(B,A[P]);for(var F=0;F<H.length;F++){var G=H[F];
if(G.endsWith("%_Bs")){var J=G.slice(0,G.length-4);if(!J.endsWith(" "))J+=" ";G=J+"%_BS"}if(G[0]=="("){m=x(G);
var c=G.split(")"),r=c[1].split(" ");$=parseInt(r[1])}else if(G.endsWith("%_BS")){var c=G.split(" "),ax,iW=1;
c.pop();c=c.map(parseFloat);var s=c.pop(),z=c.pop(),Y=c.pop();if(Y==0)ax=[c[0],c[0],c[0]];else if(Y==2||Y==4)ax=[c[4],c[5],c[6]];
else if(Y==1||Y==3)ax=L(c);else if(Y==6){if(c.length==3)ax=[c[0],c[0],c[0]];else ax=L(c);iW=c.pop()}else{throw Y}V.push([s/100,ax,iW,z/100])}else if(G=="BD"){for(var y=0;
y<V.length-1;y++)V[y][3]=V[y+1][3];V.sort(function(hm,t){return hm[0]-t[0]});e[m]={Vq:$,avF:V};V=[]}}}return e}function N(A){var B="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),e=Date.now(),m=0,$=[],V={Header:{}},H=[V],F=A.length;
while(m<F){var G=m;while(G!=F&&A[G]!=13&&A[G]!=10){G++}if(A[m]==37&&A[m+1]==95&&A[m+2]==37)m+=2;if(A[m]==37&&(A[m+1]==37||A[m+1]==65)){var J=M.jz(A,m,G-m);
if(J=="%%EOF")break;if(J=="%%EndComments"||J=="%EndComments"||J=="%AI5_Begin_NonPrinting"||J=="%AI5_End_NonPrinting--"||J.startsWith("%AI17_Begin_Content_if_version_gt")||J=="%AI17_End_Versioned_Content"){}else{var c=J.indexOf("Begin"),r=Math.max(J.indexOf("_End"),J.indexOf("%End"));
if(c!=-1&&J[c-1]!="%"&&J[c-1]!="_")c=-1;if(c!=-1){var s=J.slice(c+5).split(":")[0],z={_begin:m,_end:m},Y=H[H.length-1];
if(B.indexOf(s)!=-1){if(Y[s]==null)Y[s]=[];Y[s].push(z)}else{if(Y[s]!=null){console.log(H);throw J}Y[s]=z}H.push(z);
if(J.startsWith("%%BeginData")){G=M.lO(A,"%%EndData",m)}else if(J=="%AI9_BeginDocumentData")G=M.lO(A,"%AI9_EndDocumentData",G);
else if(J=="%AI11_BeginTextDocument")G=M.lO(A,"%AI11_EndTextDocument",G)}else if(r!=-1){H.pop()._end=m}else if(H.length==1&&(J.startsWith("%AI")||J.startsWith("%%")&&J.indexOf(" ")!=-1)){var ax=1;
if(J.startsWith("%AI"))while(J[ax]!="_"&&ax<J.length)ax++;var iW=J.indexOf(":");if(iW==-1)iW=J.indexOf(" ");
var y=J.slice(ax+1,iW),hm=J.slice(iW+1).trim();V.Header[y]=hm}}}m=G;if(A[m]==13)m++;if(A[m]==10)m++}return V}function C(A,B){var e=Date.now(),m=new Uint8Array(A),$,V=m[2]==68;
if(B)console.log(!V?"EPS":"PDF");if(V){var H=M.lO(m,"/AIMetaData "),c4=!1,kv=!1;while(m[H]!=60)H--;H--;
var F=M.lO(m,">>",H),G=M.jz(m,H+2,F-H-2).split("/"),J=[];for(var P=0;P<G.length;P++){var c=G[P],r=c.startsWith("AIPrivateData"),s=c.startsWith("AIPDFPrivateData");
if(!r&&!s)continue;var z=c.trim().split(/\s+/),Y=parseInt(z[1]),ax=parseInt(z[0].slice(r?13:16));J.push([ax,Y])}if(B)console.log("--- map made",Date.now()-e);
e=Date.now();var iW=FromPDF.indexOfXref(m),y=[],hm=FromPDF.readXrefTrail(m,iW,y),t={buff:m,off:0},cT=new Array(J.length),iL=H;
for(var P=0;P<J.length;P++){var ax=J[P][0],Y=J[P][1],cr=FromPDF.getIndirect(Y,0,t,y),ga=cr.buff,iq=cr["/Filter"],ei=0;
if(iq!=null&&typeof iq=="string")iq=[iq];var hw=M.jz(ga,ei,ei+20);if(hw=="%AI12_CompressedData"){ei+=20;
c4=!0}else if(hw=="%AI24_ZStandard_Data"){ei+=20;kv=!0}ga=new Uint8Array(ga.buffer,ga.byteOffset+ei,ga.length-ei);
if(iq)for(var hC=0;hC<iq.length;hC++){var j5=iq[hC];if(j5=="/FlateDecode")ga=pako.inflate(ga);else if(j5=="/ASCIIHexDecode")ga=FromPS.F.HexDecode({buff:ga,off:0});
else if(j5=="/ASCII85Decode")ga=FromPS.F.ASCII85Decode({buff:ga,off:0});else throw j5}cT[ax-1]=ga}if(B)console.log("--- arrays found",Date.now()-e);
e=Date.now();var ed=M.jz(cT[0],0,13);if(ed=="%%BoundingBox"||ed=="%AI7_Thumbnai")cT=cT.slice(1);if(ed=="%AI24_ZStanda"){cT[0]=cT[0].slice(20);
kv=!0}if(M.jz(cT[0],0,13)=="%AI12_Compres"){cT[0]=cT[0].slice(20);c4=!0}$=Z(cT);if(B)console.log("--- concatenated",Date.now()-e);
e=Date.now();if(c4)$=UZIP.inflate($);if(kv)$=gt.oB.nu($);if(B)console.log("--- inflated",Date.now()-e);
e=Date.now()}else{var jn=M.YV(m);if(jn.indexOf("%AI5_BeginLayer")!=-1){$=m}else{var fj=jn.split(/[\n\r]+/),di=[],b1=!1;
for(var dI=0;dI<fj.length;dI++){var h2=fj[dI].trim();if(h2=="%AI9_PrivateDataEnd"){b1=!1;break}else if(h2=="%AI9_DataStream"||h2=="%AI24_DataStream"){b1=!0}else if(b1)di.push(h2.slice(1))}var de=M.VD(di.join("")),ds=FromPS.F.ASCII85Decode({buff:de,off:0});
if(ds[0]==120&&ds[1]==156)$=UZIP.inflate(ds);else $=gt.oB.nu(ds)}}return $}function Z(A){var B=0,m=0;
for(var P=0;P<A.length;P++)B+=A[P].length;var e=new Uint8Array(B);for(var P=0;P<A.length;P++){var $=A[P];
e.set($,m);m+=$.length}return e}function S(A,B){for(var P=0;P<B.length;P++)if(A.startsWith(B[P]))return!0;
return!1}function u(A){var B=[],e=[],top=-1,m,$=null,V=null,H=0;for(var F=0;F<A.length;F++){var G=A[F];
if(m){G=m+G;m=null}var J="\t".repeat(B.length);if($!=null){$.push(G);if(G.endsWith("~>")){var c=M.VD($.join("")),r=FromPS.F.ASCII85Decode({off:0,buff:c});
B.push(r);e.push(!1);top++;$=null}}else if(V!=null){if(G=="X+"){if(H==1){B.push(V);e.push(!1);top++;
V=null}else H--}else if(G=="X=")H++;else V.push(G)}else if(G=="/Binary : /ASCII85Decode ,"){$=[]}else if(G=="X="){V=[];
H++}else if(G=="/SVGFilter :"||G=="; /Def ;")continue;else if(G.startsWith("/XMLUIDREF :")){var s=p(G);
B[top][s[4]]=s[2]}else if(G.startsWith("/")&&G[1].toUpperCase()!=G[1].toLowerCase()){if(G.startsWith("/XMLUID")){var s=p(G);
if(e[top])throw"e";B[top][s[4]]=s[2]}if(G.startsWith("/GObjRef")){var s=p(G);if(s.length==7){if(e[top])throw"e";
B[top][s[5]]=s[2]}else{if(!e[top])throw"e";B[top].push(s[2])}}else{var z=G.startsWith("/Array")||G.startsWith("/Document");
B.push(z?[]:{});e.push(z);top++}}else if(G.endsWith(",")){var Y,ax,s=p(G);s.pop();if(s[0]==";"||s.length==1||G==" ,"){ax=B.pop();
e.pop();top--;Y=e[top]?null:s.pop()}else{Y=e[top]?null:s.pop();var iW=s.pop(),y=s[0];if(iW=="/Int")ax=parseInt(y);
else if(iW=="/Real")ax=parseFloat(y);else if(iW=="/Bool")ax=y=="1";else if(iW=="/String"||iW=="/UnicodeString")ax=s.join("");
else if(iW=="/RealMatrix"||iW=="/RealPoint"||iW=="/RealPointRelToROrigin")ax=s.map(parseFloat);else throw iW}if(e[top])B[top].push(ax);
else B[top][Y]=ax}else if(G==";"){}else if(G==""){}else{if(G.indexOf("/RealPoint")!=-1){}else if(G.startsWith("(")&&G.endsWith(")")){}else if(G.endsWith("/RealMatrix")){}else throw G;
m=m?m+G:G}}return B}function p(A){var B=0,e=[];while(B<A.length){var m=A[B],$=m.charCodeAt(0);if(m==" ")B++;
else if(m==","||m==";"||m==":"){e.push(m);B++}else if(m=="("){var V=B+1;while(!(A[V]==")"&&A[V-1]!="\\"))V++;
var H=A.slice(B+1,V);e.push(H);B=V+1}else if(m=="/"||m=="-"||48<=$&&$<=57){var V=B;while(A[V]!=" ")V++;
e.push(A.slice(B,V));B=V}else throw m}return e}function f(A){var B="";for(var P=0;P<A.length;P++){if(A[P]=="_"&&A[P+1]=="x"){var eS=parseInt(A.slice(P+2,P+4),16);
B+=String.fromCharCode(eS);P+=4}else if(A[P]=="_")B+=" ";else B+=A[P]}return B}function d(A){var B="xmlnode-nodename",e="xmlnode-nodevalue",m="xmlnode-attributes",$="xmlnode-children",V=A[B],H=A[m],F=A[$],G={_nam:V};
for(var J in H){var c=H[J];if(Object.keys(c[m]).length!=0||c[$].length!=0)throw"e";if(c[B]!=J)throw"e";
G[J]=c[e]}if(F.length==0)return G;var r=G.cln=[];for(var P=0;P<F.length;P++)r.push(d(F[P]));return G}function l(A){var B="xmlnode-nodename",e="xmlnode-nodevalue",m="xmlnode-attributes",$="xmlnode-children",V=A[B].split(":").pop().replace("#",""),H=A[m],F=A[$],G="<"+V;
for(var J in H)if(J!="xmlns"&&J!="xmlns:v")G+=" "+J.split(":").pop()+"=\""+H[J][e]+"\"";G+=">"+(F.length==0?"":"\n");
for(var P=0;P<F.length;P++)G+=l(F[P]);if(A[e])G+=A[e];return G+"</"+V+">\n"}return w}();function eV(){}eV.fM=function(){var w,I,E,X,o,g,D,b;
function i(m){return M.yj(w,m)}function h(m){return M.s0(w,m)}function k(m){return M.vc(w,m)}function x(m){return M.Qv(w,m)}function j(m,$){var V=[];
for(var P=0;P<$;P++)V.push(k(m+P*4));return V}function v(m,$){var V=[];for(var P=0;P<$;P++)V.push(i(m+P*8));
return V}function _(m){return k((m+1)*4096-12)}function L(m){return k((m+1)*4096-8)}function U(m,I,$,V){if(X[m]==null)X[m]=[];
X[m].push([V,new Uint8Array(w.buffer,I,$)])}function n(m,$,V,H){var F=E[m],I=F*4096;I=I+k(I+4096-24-12-$*4);
var G=h(I),J=w[I+2],c=w[I+3];if($!=J)throw J;if(c==0)U(H,I+4,V,9);else{var r=h(I+6),s=k(I+8);U(H,I+12,G-12,9);
n(s,r,V-(G-12),H)}}function a(){var m=k(352),$=k(m*4096+128),V=k(936);E=[];X={};o={};for(var P=0;P<1e9;
P++){var H=k(V*4096+128+P*4);if(H==0)break;var F=j(H*4096+128,4096-128-12>>>2);E=E.concat(F)}for(var G=0;
G<E.length;G++){var J=E[G],c=_(J);if(c!=6)continue;var I=J*4096,r=k(I);I+=4;for(var P=0;P<r;P++){var s=k(I);
I+=4;var z=k(I);I+=4;var Y=k(I);I+=4;var ax=k(I);I+=4;if(s==0)o[z]=Y;else{var iW=Y&65535,y=Y>>>16;if(y==0)U(z,ax*4096,iW,8);
else n(ax,y,iW,z)}}}var g={};for(var hm in X){var t=X[hm],cT=t.length;if(cT==1)g[hm]=t[0][1];else{var c4=0,I=0;
for(var P=0;P<cT;P++)c4+=t[P][1].length;var kv=g[hm]=new Uint8Array(c4);for(var P=0;P<cT;P++){kv.set(t[P][1],I);
I+=t[P][1].length}}}return g}function T(I,m){var $=m?k(I):h(I),V="";I+=m?4:2;while(V.length<$){var H=w[I++],F=w[I++],G=0,J="";
H+=(F&15)*256;F=F&240;for(var P=0;P<H;P++){if(F==64)G=w[I++];else if(F==128)G=w[I++]|w[I++]<<8;else throw F;
J+=String.fromCharCode(G)}V+=J}return[V,I]}function N(I,m,$){var V=j(I,m);for(var P=0;P<m;P++){$.push(P);
if(V[P]>D)throw"e";V[P]=Z(V[P],$);$.pop()}return V}var C={};function Z(m,$){if(b.indexOf(m)!=-1)return g[m];
if(m==0)return null;if(g[m]==null)return null;if(!(g[m]instanceof Uint8Array))return g[m];var V=w,I=0;
w=g[m];b.push(m);var H=o[m].toString(16),F=g[m]={_type:e[H]?e[H]+":"+H:"typ-"+H,_eid:m};while(I+8<w.length){var G=k(I);
I+=4;var J=G.toString(16),c=k(I);I+=4;var r=I+c;if(I+c>w.length){F._bin=w;break}S(J,d,F,I,c,$);I=r}w=V;
b.pop();return F}function S(m,$,V,I,H,F){var G=$[m+":"+V._type];if(G==null)G=$[m];F.push(G?G[0]==""?m:G[0]:m);
if(G){var J=G[0],c=null,r=G[1];if(J=="")J=r+"-"+m;if(A[r]&&H!=A[r]){console.log(r);console.log(m,G);
console.log(w.slice(I,I+H));throw"e"}if(r=="mat")c=v(I,6);else if(r=="mmat")c=[Z(k(I),F),v(I+6,6)];else if(r=="rect")c=v(I,4);
else if(r=="mrct"){c=v(I,4);c.push(h(I+32))}else if(r=="doub")c=i(I);else if(r=="pointArr"){var s=h(I);
c=j(I+2,s*2)}else if(r=="usrt")c=h(I);else if(r=="uint")c=k(I);else if(r=="pntr"||r=="ptr6"){c=Z(k(I),F)}else if(r=="bool2"){if(h(I)!=0&&h(I)!=1)throw h(I);
c=h(I)==1}else if(r=="bool4"){if(k(I)!=0&&k(I)!=1)throw m+","+k(I);c=k(I)==1}else if(r=="color"){if(H!=38&&H!=30)throw H;
var z=k(I),Y=h(I+4);c=[z];for(var P=0;P<Y;P++)c.push(i(I+6+P*8))}else if(r=="path"){var ax=I+H;c=[];
var iW=k(I);I+=4;for(var P=0;P<iW;P++){var y=[[]];c.push(y);var hm=k(I);I+=4;for(var t=0;t<hm;t++){var z=k(I);
I+=4;if(z<2){y[0].push([z,i(I),i(I+8),i(I+16),i(I+24),i(I+32),i(I+40)]);I+=48}else if(z==2){y[0].push([z,i(I),i(I+8)]);
I+=16}else throw z}y.push(h(I));I+=2}}else if(r=="ptrAndList"){var cT=k(I),c4=k(I+4);c=N(I+8,c4,F);c.unshift(Z(cT,F))}else if(r=="ptrArray"||r=="ptrArrayX"){var kv=H>>2;
if(r=="ptrArray"){kv=k(I);I+=4;if(H!=4+kv*4)throw H}c=N(I,kv,F)}else if(r=="ptrArray2"){var kv=k(I);
I+=4;c=N(I,kv,F);I+=kv*4;kv=k(I);I+=4;c.push(N(I,kv,F))}else if(r=="cldrn"){var iL=k(I),cr=k(I+4),kv=k(I+8);
c={t:Z(iL,F),R8:Z(cr,F),IV:N(I+12,kv,F)};if(H!=12+kv*4){console.log(m,sa);throw"e"}if(iL==0)throw iL}else if(r=="aprnc"){var kv=k(I);
I+=4;c={};for(var P=0;P<kv;P++){var ga=k(I),iq=h(I+4),ei=h(I+6);I+=8;var hw=B[ga.toString(16)];if(hw==null)hw="prm-"+ga.toString(16);
else hw=f(hw);c[hw]=[];for(var t=0;t<ei;t++){var hC=k(I),j5=h(I+4),ed=null;I+=6;if(hC==28264)ed=i(I);
else if(hC==28263)ed=k(I);else if(hC==279)ed=Z(k(I),F);else if(hC==28261)ed=h(I)==1;else if(hC==28265)ed=[i(I),i(I+4)];
else if(hC==83231)ed=T(I+3)[0];else if(hC==28259||hC==28260||hC==23094||hC==67679){ed=w.slice(I,I+j5)}else throw hC.toString(16);
c[hw].push(ed);I+=j5}}}else if(r=="lopts"){c={auj:h(I+0)==1,show:h(I+2)==1,a9z:h(I+4)==1,LK:k(I+10),name:T(I+21)[0]}}else if(r=="origin"){var ax=I+H;
if(w[I++]!=1)throw"e";var s=k(I);I+=4;var jn=M.jz(w,I,s);I+=s;if(w[I++]!=1)throw"e";var fj=w[I++];if(fj!=1&&fj!=53)throw fj;
var di=h(I);I+=2;if(di!=0&&di!=1)throw di;var b1=k(I);I+=4;if(b1!=0&&b1!=1)throw b1;var dI=k(I);I+=4;
if(dI!=0&&dI!=2&&dI!=3)throw dI;var h2=k(I);I+=4;var de=T(I,!0);I=de[1];de=de[0];var ds=k(I),jO=k(I+4);
I+=8;var gy=k(I);I+=4;if(gy!=0)throw gy;var fV=k(I);I+=4;I+=3;var hl=T(I)[0];I+=2+2+hl.length;c={file:jn,id:de,G$:hl}}else if(r=="string")c=T(I+3)[0];
else if(r=="relEnt"){var im=h(I);I+=2;c=[];for(var P=0;P<im;P++)c.push([k(I+P*8),Z(k(I+P*8+4),F)])}else if(r=="textData"){var ax=I+H,eA=k(I);
I+=4;var ga=k(I);I+=4;var Y=h(I);I+=2;var hy=[];for(var P=0;P<Y;P++){var dm=k(I);I+=4;if(eA==514)hy.push(T(I,!0)[0]);
else if(eA==515){var hA=k(I),m=k(I+4),j2=u(I+8,F);hy.push([hA,Z(m,F),j2])}else if(eA==516){var hA=k(I),m=k(I+4),dQ=h(I+8),j2=u(I+8,F);
hy.push([hA,Z(m,F),j2])}else hy.push(w.slice(I,I+dm));I+=dm}if(ax-I!=12)throw ax-I;c=hy}else if(r=="storyProps"){var aS=k(I);
if(h(I+4)>1)throw"e";var eh=Z(k(I+6),F),Y=k(I+10),h_=Z(k(I+14+Y*4),F);c={are:aS,a2T:eh,IV:N(I+14,Y,F),awu:h_,aju:j(I+14+Y*4+4,4)}}else if(r=="styleProps")c=u(I,F);
else if(r=="bounds"){var h6=I,im=k(I);I+=4;c=[];for(var P=0;P<im;P++){var gT=[];c.push(gT);for(var t=0;
t<4;t++)gT.push(i(I+t*8));I+=32;gT.push(w[I]);I++}if(I!=h6+H)throw"e"}else if(r=="columnPos"){var im=k(I);
I+=4;c=[v(I,im),i(I+im*8)];I+=im*8+8}else if(r=="StyleName"){c=[k(I+4)]}else if(r=="fontName"){var ax=I+H;
c=[h(I)];I+=2;for(var P=0;P<2;P++){var jn=T(I+3);I=jn[1];c.push(jn[0])}c.push(k(I));I+=4;var b8=h(I);
I+=2;c.push(b8);var hP=h(I);I+=2;var b5=[];c.push(b5);for(var ar=0;ar<hP;ar++){var cG=[];b5.push(cG);
var jn=T(I+3);I=jn[1];cG.push(jn[0]);var bd=h(I);I+=2;var jn=M.jz(w,I,bd);I+=bd;cG.push(jn);for(var P=0;
P<3;P++){var jn=T(I+3);I=jn[1];cG.push(jn[0])}cG.push(k(I));I+=4;var jn=T(I,!0);I=jn[1];cG.push(jn[0])}if(I+4!=ax)throw"e";
c.push(k(I))}else throw r;if(V[J]!=null){console.log(J,V[J],c);console.log(F.slice(0));console.log(eid,m,I,V[J],G,c);
throw"e"}V[J]=c}else{var aZ=w.slice(I,I+H);V["prop-"+m]=aZ}F.pop()}function u(I,m){var $=h(I);I+=2;var V={};
for(var P=0;P<$;P++){var H=k(I);I+=4;var F=H.toString(16),G=h(I);I+=2;var J=h(I);I+=2;for(var c=0;c<J;
c++){var r=k(I);I+=4;var s=h(I);I+=2;S(F,l,V,I,s,m);I+=s}}return V}function p(m){w=new Uint8Array(m);
g=a();var $=g[2147483649];$=M.YV($,4,$.length-4);delete g[2147483649];D=0;for(var V in g)D=Math.max(D,parseInt(V));
b=[];var H={};for(var V in g)H[V]=g[V];for(var V in g)Z(parseInt(V),[]);return g}function f(m){m=m.split(" ").join("");
return m[0].toLowerCase()+m.slice(1)}var d={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},l={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},A={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},B={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},e={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return p}();function dY(){}dY.fM=function(){var w=0;function I(j,v){var _=eV.fM(j),f=1;w=0;var L=_[1],U=L.spreads,n=[],a=new dC;
for(var T=0;T<U.length;T++){var g=U[T],D=g.children.IV,b=X(g),N=D[0].children.IV,C=new dC;for(var Z=0;
Z<N.length;Z++){var S=N[Z],u=X(S);u.concat(b);var p=E(S);p.offset(u.N9,u.Zt);p=Q.p.i1(p);C=C.jB(p)}n.push(C);
a=a.jB(C)}while(Math.sqrt(a.A())*f<1e3)f++;v.q=a.q*f;v.w=a.w*f;v.buffer=new Uint8Array(4*v.q*v.w);v.NZ=!0;
v.G0(U.length);for(var T=0;T<U.length;T++){var g=U[T],D=g.children.IV,d=v.XY();d.Bo=24;d.add.lsct=gs.Y_;
d.G_("Artboard "+(T+1));var l=n[T].clone();l.offset(-a.x,-a.y);l.x*=f;l.y*=f;l.q*=f;l.w*=f;l=Q.p.i1(l);
d.CZ(l);d.$B="pass";v.b.push(v.Rf());var b=X(g);b.translate(-a.x,-a.y);b.scale(f,f);var A={};for(var B=0;
B<D.length-1;B++){var e=D[B],m=e.children.IV,$=v.XY(),V=e.layer.lopts;if(V.name=="Internal_pages_layer_name"||A[V.name])continue;
A[V.name]=!0;$.Bo=24;$.add.lsct=gs.Y_;$.G_(V.name);$.Wz(V.show);if(V.auj)$.add.lspf=1<<31;$.$B="pass";
v.b.push(v.Rf());for(var P=0;P<m.length;P++)h(m[P],v,b,_);v.b.push($)}v.b.push(d)}}function E(j){var v=j.rect;
return new dC(v[0],v[1],v[2]-v[0],v[3]-v[1])}function X(j){var v=j.transform;return new am(v[0],v[1],v[2],v[3],v[4],v[5])}function o(j){var v=j.color,_=j.parentFill,U;
if(v==null&&_)v=_.color;if(v==null){console.log("strange color",j);return[0,0,0]}var L=v[0];if(L==5)U=v.slice(1);
else if(L==6)U=UDOC.C.cmykToRgb(v.slice(1));else if(L==7){var n=Q.OT(v[1],v[2],v[3]);U=[n.o/255,n.P/255,n.L/255]}else{console.log(v);
throw L}return U}function i(j,v){var P=0,_=0;while(_+j[P][0]<=v){_+=j[P][0];P++}j=j[P][1].textData;P=0;
while(_+j[P][0]<=v){_+=j[P][0];P++}return j[P]}function h(j,v,_,L){var U=j.transform?X(j):new am;U.concat(_);
_=U;var n=j.path,a=j.appearance,T=j.visible,g=j.children?j.children.IV:null,D=v.XY();if(T!=null)D.Wz(T);
var b=g&&g.length==1&&g[0].bitmapFill,N=j["bool2-1623"]&&g&&g.length==1&&g[0].rect&&g[0]._type.startsWith("TextFrame");
if(b){D.G_("bitmap");var C=g[0],Z=E(C),S=X(C);S.concat(_);var u=C.bitmapFill.bitmap;u=L[u]._bin;var p=v.ec(u,"img.jpg",0,0);
p.Bo=D.Bo;D=p;var f=[0,0,Z.q,0,Z.q,Z.w,0,Z.w];Q.p.F(f,S,f);D.add.SoLd.Trnf=q.R.bd(f);D.add.SoLd.nonAffineTransform=q.R.bd(f);
D.vR(v,!1);var d=C.path;if(d&&d.length!=0)D.add.vmsk=x(d,S,a);else if(n&&n.length!=0)D.add.vmsk=x(n,_,a);
D.QQ();D.kH(v)}else if(N){if(a&&a.strokeSwatch){var l=v.XY();k(l,v,a,n,_);v.b.push(l)}var A=g[0],Z=E(A),S=X(A),y=0;
S.concat(_);var B=A.children.IV[0],e=B.obj228,m=e[0].story[1],$=m.stoProps.a2T.relEnt,V=m.stoProps.IV[0].relEnt,H=m.stoProps.IV[1]["ptrArrayX-210"][0].textData,F=L[$[0][1].textData[0][1].name[0]],G=F?F.styProps:{};
H=H.join("").replace(/\r/g,"\n");var J=-1;while((J=H.indexOf("\uFFFC"))!=-1){H=H.slice(0,J)+(H[J-1]=="\n"?" ":" ")+H.slice(J+1)}D.G_(H.slice(0,255));
D.add.lnsr="rend";D.add.TySh=bQ.za(0,0);D.add.TySh.Wc=Z;D.add.TySh.F=S;var c=D.add.TySh.Da;bQ.fZ(c,0,H);
var r=bQ.wg(c,0,H.length);r.hd.FontSize=10;bQ.JF(c,0,H.length,r);var s=[];if(H.length!=0){var z=i($,0),Y=i(V,0),ax=1;
for(var P=1;P<H.length;P++){var n=i($,P),iW=i(V,P);if(n!=z||iW!=Y){s.push(ax);ax=0}z=n;Y=iW;ax++}if(ax!=0)s.push(ax)}for(var P=0;
P<s.length;P++){var hm=i(V,y),t=s[P],cT=Math.min(y+t,H.length-1),c4=hm[2],kv=hm[1].styProps;if(kv==null)kv={};
var iL=i($,y),cr=iL[1].styProps,ga=iL[2],iq={};for(var ei in G)iq[ei]=G[ei];for(var ei in cr)iq[ei]=cr[ei];
for(var ei in ga)iq[ei]=ga[ei];for(var ei in kv)iq[ei]=kv[ei];for(var ei in c4)iq[ei]=c4[ei];var r=bQ.wg(c,y,cT),hw=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],hC=hw.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var j5=0;j5<hC.length;j5++){var ei=hC[j5],ed=j5<hw.length?r.hd:r.wo;if(iq[ei]!=null)ed[ei]=iq[ei]}if(iq.fillColor){var jn=o(iq.fillColor);
r.hd.FillColor={Type:1,Values:[1].concat(jn)}}if(iq.font){var fj=iq.font.name[5],di=iq.fontStyle;if(di==null)di="Regular";
for(var b1=0;b1<fj.length;b1++)if(fj[b1][0]==di)bQ.Ab(r,fj[b1][1])}if(iq.leading!=null&&iq.leading>1){r.hd.Leading=iq.leading;
r.hd.AutoLeading=!1}if(iq.align!=null)r.wo.Justification=[0,2,1,6,3,5,4,0,0,0][iq.align];bQ.JF(c,y,cT,r);
y+=t}bQ.Kv(c,1);bQ.Nq(c,[0,0,Math.round(Z.q),Math.round(Z.w)])}else if(j._type.startsWith("Path")&&(g==null||g.length==0)&&n){k(D,v,a,n,_)}else{var dI=j["prop-14526"];
if(g==null&&dI){var h2=L[M.vc(dI,20)];g=[h2]}if(g){if(n&&n.length!=0){D.add.vmsk=x(n,_,a);D.QQ();D.kH(v)}D.G_("group");
D.Bo=24;D.add.lsct=gs.Y_;v.b.push(v.Rf());for(var P=0;P<g.length;P++)h(g[P],v,_,L)}}if(a){var de=a.objectBlendingMode,ds=a.objectOpacity,jO=a.fillTint;
if(de)D.$B="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[de[0]];
if(ds)D.opacity=Math.round(D.opacity*ds[0]/100);if(!b&&jO)D.opacity=Math.round(D.opacity*jO[0]/100)}if(j.name)D.G_(j.name);
else if(a&&a.name)D.G_(a.name[0]);v.b.push(D)}function k(j,v,_,L,U){j.G_("path");j.Bo|=16;var n=j.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default)),a=[0,0,0];
if(_){var T=_.strokeSwatch,g=_.fillSwatch,D=_.strokeWeight;n.strokeEnabled.v=T!=null;n.fillEnabled.v=g!=null;
if(T){n.strokeStyleLineWidth.v.val=D?D[0]:1;a=o(T[0]);n.strokeStyleContent.v.Clr.v=Q.N.Ex({o:a[0]*255,P:a[1]*255,L:a[2]*255})}if(g){a=o(g[0])}}j.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.Ex({o:a[0]*255,P:a[1]*255,L:a[2]*255})}};
j.add.vmsk=x(L,U,_);j.QQ();j.kH(v)}function x(j,v,_){var L=new K.DN,U=L.j;for(var n=0;n<j.length;n++){var a=j[n],T=a[0].length,g=a[1]==0,D=g?0:3;
U.push({type:D,length:T,KP:0,mr:2,ad:0,Lk:0});for(var P=0;P<T;P++){var b=a[0][P],N=b[0],C=new a5(b[1],b[2]),Z=new a5(b[3],b[4]),S=new a5(b[5],b[6]);
if(N==0||N==1)U.push({type:D+2,DX:C,H:Z,kk:S});else if(N==2)U.push({type:D+2,DX:C,H:C,kk:C});else throw N}}Q.O.yJ(U,v);
return L}return I}();var q={};q.V=function(w){return window.devicePixelRatio||1};q.rK=function(w,I){return(I.awv=="touch"?12:8)*q.V()/w.u.T};
q.an=function(w,I,E){this.name=w;this.id=I;this.Dw=null;if(E!=null)this.y4=E};q.an.prototype.Q$=function(w,I,E,X,o){};
q.an.prototype.enable=function(w,I,E,X,o,i){var h=new e9(W.E.Z,!0);h.data={d:W.t.JN,sL:"default"};I.c(h)};
q.an.prototype.disable=function(w,I,E,X,o){};q.an.prototype.a61=function(w,I,E,X,o){return!1};q.an.prototype.PX=function(w,I,E,X,o){};
q.an.prototype.Rb=function(w,I,E,X,o){};q.an.prototype.L_=function(w,I,E,X,o){};q.an.prototype.dj=function(w,I,E,X,o,i){};
q.an.prototype.UB=function(w,I,E,X,o){};q.an.prototype.oH=function(w,I,E,X){};q.an.prototype.kY=function(w,I,E,X){};
q.an.prototype.$D=function(w,I){};q.an.prototype.xg=function(w,I){};q.an.prototype.NE=function(w,I,E,X,o){};
q.an.prototype.eU=function(w,I){};q.an.prototype.Uo=function(w,I){return!1};q.an.prototype.J8=function(w,I){return!1};
q.an.prototype.wN=function(){return!1};q.an.prototype.qS=function(w,I){return!0};q.an.prototype.St=function(){return null};
q.an.prototype.UX=function(w,I,E){};q.an.prototype.abC=function(){return!1};q.an.prototype.TC=function(w,I,E,X){};
q.an.prototype.track=function(w){var I=new e9(W.E.a3,!0);I.data=w;w.v$=!0;this.Dw.c(I)};q.an.xU=function(w,I,E,X){var o=10*q.V()*(w.awv=="touch"?2:1),i=w.x+o,h=w.y-o,k=Q.Ha.Wo(I.q,E.nN,X,E.q,!0),x=Q.Ha.Wo(I.w,E.nN,X,E.w,!0);
while(k.length<x.length)k=" "+k;while(k.length>x.length)x=" "+x;q.an.ev(i,h,[df.get([12,41]).charAt(0)+": "+k,df.get([12,42]).charAt(0)+": "+x],E)};
q.an.ev=function(w,I,E,X){function o(j,a,T,g,D,b){j.beginPath();j.moveTo(a,T+b);j.arcTo(a,T+D,a+b,T+D,b);
j.arcTo(a+g,T+D,a+g,T+D-b,b);j.arcTo(a+g,T,a+g-b,T,b);j.arcTo(a,T,a,T+b,b)}var i=q.V(),h=Math.round,k=h(11*i),x=q.an.aqR,v=0;
if(x==null)x=q.an.aqR=document.createElement("canvas");var j=x.getContext("2d");j.font=k+"px monospace";
for(var P=0;P<E.length;P++)v=Math.max(v,j.measureText(E[P]).width);var _=h(v+12*i),L=h((E.length*14+5)*i),U=new dC(w,I-L,_,L);
if(x.width!=_||x.height!=L){x.width=_;x.height=L;j.font=k+"px monospace"}j.clearRect(0,0,_,L);j.fillStyle="rgba(0,0,3,0.8)";
o(j,0,0,_,L,h(4*i));j.fill();j.fillStyle="rgba(255,255,255,1)";for(var P=0;P<E.length;P++)j.fillText(E[P],h(6*i),h((P+1)*13*i));
var n=[j.getImageData(0,0,_,L).data,U.clone()];if(X)X.I.E8=[n];return n};q.an.aqR=null;q.xE="0";q.UE="1";
q.a8h="2";q.a6E="3";q.xP="5";q.akb="6";q.alk="7";q.Xl="8";q.rm="9";q.Eg="10";q.ob="11";q.Bd="12";q.iH="13";
q.r4="14";q.$u="16";q.jw="18";q.l$="19";q.By="20";q.Uk="21";q.Cd="22";q.nz="23";q.jW="24";q.TQ="25";
q._R="27";q.Kx="31";q.a5g="32";q.ars="34";q.adi="35";q.zV="36";q.t4="37";q.hn="38";q.sU="39";q.o5="40";
q._7="41";q.Dn="42";q.H8="43";q.a19="44";q.Zn="47";q.c3="48";q.kQ="51";q.bl="52";q.jh="54";q.eS="55";
q.AX="56";q.I0="57";q.CM="58";q.aB="59";q.QV="60";q.dc="61";q.rF="70";q.Ai="100";q.Uq="101";q.n9="102";
q.RK="103";q.Ig="120";q.dT="230";q.ams="231";q.b9="232";q.Qd="233";q.QP="234";q.Hl="235";q.wD="236";
q.ais=function(w){var I=q.Jk,E=null;for(var X in I)if(I[X][1].indexOf(w[1].classID)!=-1)E=X;return E};
q.Jk={};q.Jk[q.nz]=["tools/brush",["PbTl"]];q.Jk[q.jW]=["tools/pencil",["PcTl"]];q.Jk[q.Kx]=["tools/eraser",["ErTl"]];
q.Og=function(w,I,E){q.an.call(this,w,I,E);this.pb={brush:w?j8.YU():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.m6=null;this.Y0=null;this.AW=null;this.eh=null;this.dh=null;this.Lz=null;this.c$=null;this.x_=null;
this.hl=null;this.CC=null;this.K2=null;this.Io=null;this.KC=null;this.Yh=1;this.rk=!1;this.ld=null;this.caller=null};
q.Og.prototype=new q.an;q.Og.prototype.J8=function(w,I){return w.WN&&I.Y(aW.mG)};q.Og.prototype.Rb=function(w,I,E,X,o){if(X.Y(aW.$i)){this.Lz=new a5(o.x,o.y);
var i=this.pb.brush.Brsh.v,h=i.Dmtr.v.val,k=i.Hrdn!=null?i.Hrdn.v.val:-1;this.c$=[h,k,!0,JSON.parse(JSON.stringify(this.pb.brush)),o];
this.HH(E)}};q.Og.prototype.WB=function(w,I,E){var X=this.c$,o=w.u.T,i=E.x-X[4].x,h=E.y-X[4].y,k=X[0],x=X[1],j=Math.abs(i)>Math.abs(h);
if(j&&X[2]){var v=Math.round(2*i/o);k+=v;E.x-=i-.5*v*o}if(!j&&!X[2]&&x!=-1){var v=Math.round(.25*h);
x+=v;E.y-=h-4*v}k=Math.max(1,k);x=X[1]==-1?-1:Math.max(0,Math.min(100,x));var _=X[3];_.Brsh.v.Dmtr.v.val=k;
if(x!=-1)_.Brsh.v.Hrdn.v.val=x;this.c$=[k,x,j,_,E];var L=cn.xM(_,I.uO.Ar,o),U=L[1];U.x=Math.round(this.Lz.x-U.q/2);
U.y=Math.round(this.Lz.y-U.w/2);w.I.v5=[L];var n=w.u.sP(this.Lz.x,this.Lz.y);w.I.ms={RG:[],D5:[n.x-k/2,n.y,n.x+k/2,n.y]};
if(x!=-1)w.I.ms.D5.push(n.x+50/o,n.y-x/2,n.x+50/o,n.y+x/2);w.WV=!0};q.Og.prototype.UB=function(w,I,E,X,o){if(this.id==q.By||this.id==q.Uk)return;
if(this.Lz){this.Lz=null;this.ga(JSON.parse(JSON.stringify(this.c$[3])));w.I.v5=[];w.I.ms=null;w.WV=!0;
return}var i=new e9(W.E.Z,!0);i.data={d:W.t.LF,G:this.id,acL:"showBrushOpts",m1:new a5(o.SD+4,o.P4)};
I.c(i)};q.Og.prototype.ga=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.e1,GT:ik.ZH,Cl:w};this.caller.c(I)};
q.Og._u=function(w,I,E,X,o,i){if(w==null)w="FrgC";if(I==null)I="norm";if(E==null)E=1;if(o==null)o=!1;
var h={classID:"Fl",Usng:{t:"enum",v:{FlCn:w}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(E*100)}},PrsT:{t:"bool",v:o},Md:{t:"enum",v:{BlnM:hH.r6(I)}}};
if(w=="Clr")h.Clr={t:"Objc",v:X};if(w=="contentAware")h.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(w=="Ptrn")h.Ptrn={t:"Objc",v:i};return{$g:"fill",Zc:h}};q.Og.prototype.Q$=function(w,I,E,X,o){this.Dw=I;
var i=E.Y1.length;if(i==0&&!E.p8())return;var h=i!=0?-1-E.Y1[0]:E.g[0],k=E.b[h];if(w.d=="fromAction"){var x=w.Le,j=x.Zc;
if(j&&j.null&&j.null.v[0]&&j.null.v[0].v.classID=="Path"){var v=E.cm(),_=v[0],L=v[1],U=_[L.length==0?0:L[0]].add.vmsk;
if(x.$g=="fill"){var n=U.pi(),a=o.Ht,T=this.pb,g=a>>16&255,D=a>>8&255,b=a>>0&255;this.VF(E,k,n,g,D,b,Math.round(T.opacity*255),T.bmode,"Fill Path")}else{for(var N=0;
N<1e3;N++){var C=Q.O.ny(U.j,N,!0);if(C==-1){this.dj(E,I,o,X,null);break}var Z=U.j[C],S=U.j.slice(C,C+1+Z.length),u=Q.p.x7(S,!0).C,p=u.slice(0,8);
for(var f=8;f<u.length;f+=6)p.push(u[f-2],u[f-1],u[f],u[f+1],u[f+2],u[f+3],u[f+4],u[f+5]);var d={};d.Points=p;
d.TextOnPathTRange=U.A8.slice(0);var d=g9.eW(d,2),l=d[0];if(N==0)this.PX(E,I,o,X,E.u.o_(l[0],l[1]));
else this.Y0.moveTo(l[0],l[1]);for(var P=2;P<l.length;P+=2){var A=E.u.o_(l[P],l[P+1]);A.WN=!0;this.L_(E,I,o,X,A,this.pb.flow)}}}}else if(x.$g=="fill"){var B=j.PrsT?j.PrsT.v:!1,e=k?k.add.lspf:0;
if(B&&k){k.add.lspf=e==null?1:e|1}var m=(j.Opct?j.Opct.v.val:100)/100,$=j.Md?hH.yk(j.Md.v.BlnM):"norm",V=j.Usng.v.FlCn;
if(V=="contentAware"){if(E.n==null){alert("Select an area to heal first.");return}if(!E.p8())return;
this.vE(E);this.fA(E,0);var H=E.n,F=Q.$(H.rect.A()*4);Q.lJ(H.channel,F,3);this.AL(E,"sheal",F,H.rect,H.rect);
this.M(E,H.rect);this.finish(E,H.rect)}else if(V=="Ptrn"){var G=o.IK,J=E.n?E.n.rect.clone():new dC(0,0,E.q,E.w),c=Q.$(J.A()*4);
aQ.Ho(j,c,J,G,new a5(0,0));this.uF(E,k,E.n,c,"norm",[6,48,0,2])}else{var a;if(V=="FrgC")a=o.Ht;else if(V=="BckC")a=o.Mw;
else if(V=="Blck")a=0;else if(V=="Wht")a=16777215;else if(V=="Gry")a=8421504;else if(V=="Clr"){var r=Q.N.BL(j.Clr.v);
a=r.o<<16|r.P<<8|r.L}var g=a>>16&255,D=a>>8&255,b=a>>0&255;this.VF(E,k,E.n,g,D,b,Math.round(255*m),$,[2,3])}if(B&&k){k.add.lspf=e==null?0:e}}else if(x.$g=="delete"){var s=h<0?1:k.yA,H=E.n,iW;
if(H==null)return;var z=h<0?E.K3[-h-1]:s<=0?null:s==1?k.pi():k.Em(E).D,J=s<=0?k.rect:z.rect,Y=s<=0?H.rect.LP(J):H.rect.clone();
if(Y.qo())return;var ax=Y.A();if(s<=0){iW=Q.$(ax*4);Q.D6(k.buffer,k.rect,iW,Y)}else{iW=Q.$(ax);z.extend(Y);
Q.b_(z.channel,z.rect,iW,Y)}if(0<=h&&k.Fh(E,H)){if(s<=0){Q.Ez(iW,0);Q.D6(k.e2.iM,k.e2.su,iW,Y)}else{iW.fill(255);
Q.b_(k.e2.iM,k.e2.su,iW,Y)}}else{if(s<=0){var y=Q.$(iW.length>>2);Q.qe(iW,y,3);Q.e.Zp(Q.xd(H.rect.A()),H.rect,y,Y,H.channel,Y,1);
Q.lJ(y,iW,3)}else{var hm=Q.$(H.rect.A()),g=o.Mw>>>16&255,D=o.Mw>>8&255,b=o.Mw>>0&255;hm.fill(Math.round(Q.XP(g,D,b)));
Q.e.Zp(hm,H.rect,iW,Y,H.channel,Y,1)}}this.sm(E,!0,[2,2],h,s,Y,iW)}}if(w.d=="stroke"){var t=w.a8K,H=E.n;
if(H==null){H={rect:k.rect.clone(),channel:Q.$(k.rect.A())};Q.qe(k.buffer,H.channel,3)}var cT=aQ.El(t),c4=q.mc.axW(H,Math.ceil(cT[0]),Math.ceil(cT[1])),a=Q.N.BL(t.Clr.v),g=Math.round(a.o),D=Math.round(a.P),b=Math.round(a.L);
this.VF(E,k,c4,g,D,b,Math.round(255*t.Opct.v.val/100),hH.yk(t.Md.v.BlnM),[14,9])}if(w.d=="fillBMP"){this.uF(E,k,E.n,w.aC,w._h,w.Wj)}if(w.d=="draw"){var kv=w.W7,iL=kv.rect;
this.vE(E);var cr=E.b[E.g[0]];if(w.a4W&&cr&&cr.yA<=0&&E.Y1.length==0){iL=q.AD.ac_(kv,E);cr.buffer=kv.buffer.slice(0);
cr.rect=iL.clone()}else{var ga=this.pb.bmode;this.pb.bmode="norm";this.AL(E,"draw",kv.buffer,iL,iL.LP(new dC(0,0,E.q,E.w)));
this.pb.bmode=ga}this.M(E,iL);E.cW=!0;this.finish(E,iL,w.Wj,w.a4W)}};q.Og.prototype.VF=function(w,I,E,X,o,i,h,k,x){var j=E==null?new dC(0,0,w.q,w.w):E.rect,v=h<<24|i<<16|o<<8|X<<0,_=Q.$(j.A()*4);
Q.Ez(_,v);this.uF(w,I,E,_,k,x)};q.Og.prototype.uF=function(w,I,E,X,o,i){var h=w.Y1.length!=0?-1-w.Y1[0]:w.g[0],k=h<0?1:I.yA,x=h<0?w.K3[-1-h]:k<=0?null:k==1?I.pi():I.Em(w).D,j=k<=0?I.rect:x.rect,v=E==null?new dC(0,0,w.q,w.w):E.rect,_=E==null?Q.Cb(w.q*w.w):E.channel,L=v.A(),U,n=null;
if(k<=0){U=Q.$(L*4);Q.D6(I.buffer,I.rect,U,v)}else{U=Q.$(L);x.extend(v);Q.b_(x.channel,x.rect,U,v)}if(E!=null)Q.sC(_,X);
if(k>0){n=Q.$(L);Q.V0(X,n)}if(0<=h&&E&&I.Fh(w,E)){var a=I.e2.fa,T=I.e2.fa.slice(0);if(k<=0)Q.QM(X,T);
else Q.QM(n,T);var g=new fL([2,3],this);g.data={d:"drawtemp",l:w.g[0],Tr:k,a3g:a,a8f:T};w.f6(g);this.$D(g.data,w)}else{if(k<=0){var D;
if(I.B2(0)){D=Q.$(v.A());Q.qe(U,D,3)}Q.e.gF(o,X,v,U,v,v,1);if(I.B2(0))Q.lJ(D,U,3)}else Q.e.Zp(n,v,U,v,_,v,1);
this.sm(w,!0,i,h,k,v,U)}};q.Og.prototype.Uo=function(w){if(aW.Xb.indexOf(w)!=-1)return!0;return!1};q.Og.prototype.oH=function(w,I,E,X){var o=this.pb.brush,i=X.Y(aW.$i),h=i!=this.rk,k=q.Og.Zu(o,X);
if(k!=null)this.ga(k);if(!X.Y(aW.iu)&&X.Kl()!=-1){var x=aW.dt(Math.round(this.pb.opacity*100),X.Kl())/100;
this.bi({opacity:x},I)}if(this.id==q.Xl&&h&&w!=null){var j=this.pb.qsmode;if(j==2)j=w.n==null?0:1;else j=2;
this.bi({qsmode:j},I)}this.rk=i;if(h){if(w)this.Yh=w.u.T;this.HH(E,X)}};q.Og.Zu=function(w,I){var E=w.Brsh.v.Dmtr.v.val,X=w.Brsh.v.Hrdn!=null?w.Brsh.v.Hrdn.v.val:-1,o=E,i=X,h=I.Y(aW.mG);
if(I.Y(aW.Az)){if(h)X=25*Math.floor((X-1)/25);else{if(E<=10)E--;else if(E<=50)E=5*Math.floor((E-1)/5);
else if(E<=100)E=10*Math.floor((E-1)/10);else if(E<=200)E=25*Math.floor((E-1)/25);else if(E<=400)E=50*Math.floor((E-1)/50);
else E=100*Math.floor((E-1)/100)}}if(I.Y(aW.rA)){if(h)X=25*Math.ceil((X+1)/25);else{if(E<10)E++;else if(E<50)E=5*Math.ceil((E+1)/5);
else if(E<100)E=10*Math.ceil((E+1)/10);else if(E<200)E=25*Math.ceil((E+1)/25);else if(E<400)E=50*Math.ceil((E+1)/50);
else E=100*Math.ceil((E+1)/100)}}E=Math.max(1,E);X=Math.max(0,Math.min(100,X));if(i==-1)X=-1;if(E!=o||X!=i){var k=JSON.parse(JSON.stringify(w));
k.Brsh.v.Dmtr.v.val=E;if(i!=-1)k.Brsh.v.Hrdn.v.val=X;return k}return null};q.Og.prototype.HH=function(w,I,E,X){if(w.uO.list.length==0)return;
var o=this.id,i;if((o==q._R||o==q.l$||o==q.nz||o==q.jW)&&(I!=null&&I.Y(aW.$i)||this.pb.alt[0]))i="crosshair";
else{var h=this.Yh,k=this.pb.brush;if((o==q._R||o==q.l$)&&E&&this.Io&&this.Io.length==this.K2.A()*4){var x=E.u.sP(X.x,X.y),j=this.a9G(x),v=this.Io,_=this.K2,L=new dC(_.x+j.x,_.y+j.y,_.q,_.w),U=cn.xM(k,w.uO.Ar,h),n=U[0],a=U[1],T=Math.ceil(a.q/h),g=new dC(Math.round(x.x-T/2),Math.round(x.y-T/2),T,T),D=Q.$(g.A()*4),b,N;
Q.D6(v,L,D,g);if(h==1){b=D;N=g}else{var C=new am(h,0,0,h,0,0),Z=q.R.oI([D,g],C,!0);N=a.clone();N.x=Z.rect.x;
N.y=Z.rect.y;if(N.ZQ(Z.rect))b=Z.buffer;else{b=Q.$(N.A()*4);Q.D6(Z.buffer,Z.rect,b,N)}}var S=this.pb.opacity/255;
for(var P=0;P<b.length;P+=4)b[P+3]=S*(n[P+3]*b[P+3]);cn.apf(new Uint32Array(b.buffer),N,4278190080,4294967295);
i={L9:b,_b:N,gH:new a5(N.q/2,N.w/2)}}else i=cn.AB(k,w.uO.Ar,h,o==q.TQ)}var u=new e9(W.E.Z,!0);u.data={d:W.t.JN,sL:i};
if(this.caller)this.caller.c(u)};q.Og.prototype.enable=function(w,I,E,X){this.m6=E;this.caller=I;this.ga(JSON.parse(JSON.stringify(this.pb.brush)));
if(w&&w.u.T!=0)this.Yh=w.u.T;this.HH(E,X)};q.Og.prototype.eU=function(w,I){if(I==ik.ZH){this.pb.brush=w.uO.Yc;
this.HH(w)}};q.Og.prototype.NE=function(w,I,E,X,o){for(var i in w)this.pb[i]=w[i];if(this.pb.alt[0])this.HH(o,X,E)};
q.Og.prototype.ahJ=function(w){var I=w.Y1.length!=0?-1-w.Y1[0]:w.g[0],E=w.b[I],X=I<0?1:E.yA,o=I<0?w.K3[-I-1]:X<=0?null:X==1?E.pi():E.Em(w).D,i=o?o.channel:E.buffer,h=(o?o.rect:E.rect).clone();
return[E,X,o,i,h]};q.Og.prototype.vE=function(w,I){this.KC=w.n==null?null:{rect:w.n.rect.clone(),channel:w.n.channel.slice(0)};
var E=this.ahJ(w),X=E[0],o=E[1],i=E[2];this.CC=E[3];this.hl=E[4];var h=new dC(0,0,w.q,w.w),k=h.jB(this.hl);
if((this.sX()&&o<=0||k.ZQ(this.hl))&&I!=!0)this.CC=this.CC.slice(0);else{if(i)i.extend(k);else X.extend(k)}};
q.Og.prototype.fA=function(w,I){var E=this.ahJ(w),X=E[1],o=E[3],i=E[4],h=[o,i],k=I!=null?I:this.pb.sfrom;
if(X<=0&&k!=0){h[1]=new dC(0,0,w.q,w.w);h[0]=w.sQ(k==1&&w.g[0]!=w.b.length-1?w.g[0]:null).slice(0)}this.K2=h[1].clone();
this.Io=h[0].slice(0)};q.Og.prototype._o=function(w,I,E){if(w.Y(aW.$i)){var X=new e9(W.E.s,!0);X.G=q.r4;
X.data={d:"pickhere",am5:E};I.c(X);return!0}return!1};q.Og.prototype.ts=function(w,I,E,X,o,i){if(this.id!=q.Xl&&!w.p8(this.caller)){this.Y0=null;
return}if(this.id!=q.Xl&&this.Y0)return;this.vE(w);var h=new dC(0,0,w.q,w.w),k=null;if(i!=null){var x=w.Y1.length!=0?-1-w.Y1[0]:w.g[0],j=w.b[x],v=x<0?w.K3[-x-1]:j.yA<=0?null:j.yA==1?j.pi():j.Em(w).D;
k=Q.$(h.A()*4);if(v)q.Og.TT(this.CC,this.hl,v.color,k,h);else Q.D6(this.CC,this.hl,k,h)}var _=this.pb;
if(this.Y0&&this.id==q.Xl&&_.qsmode!=0&&w.n!=null){}else{var L=I.Ht,U=I.Mw;if(this.ld=="erase"){var n=L;
L=U;U=n}var a=this.id==q.Xl?this.hl:h;this.Y0=new cn(_.brush,I.uO.Ar,I.uO.a6,{j9:o,kP:i,axP:_.smth*50/w.u.T,Hn:this.id==q.jW||_.emode==1,Qb:w.Qb},L,U,a,k)}if(this.id==q.Xl){this.Y0.a2r(_.brush,_.qsmode==2?0:16777215)}var T=w.u.sP(X.x,X.y);
if(E.Y(aW.mG)&&this.AW){var g=this.AW;this.Y0.moveTo(g.x,g.y,X.Nw);this.Y0.lineTo(.001*g.x+.999*T.x,.001*g.y+.999*T.y,X.Nw);
this.Y0.lineTo(T.x,T.y,X.Nw)}else this.Y0.moveTo(T.x,T.y,X.Nw);this.AW=T;this.eh=T.clone();this.dh=new aE(T,w.u.yn)};
q.Og.prototype.fC=function(w,I,E){if(w&&w.u.T!=0&&w.u.T!=this.Yh){this.Yh=w.u.T;this.HH(E)}};q.Og.prototype.pE=function(w,I,E,X){if(this.Y0==null)return;
var o=w.b[w.g[0]],i=w.u.sP(X.x,X.y),h=this.dh.N2(i,E);if(h.ZQ(this.AW))return 1;this.Y0.lineTo(h.x,h.y,X.Nw);
this.AW=h;if(this.id==q._R||this.id==q.l$){var k=this.QB(),x=11;k=w.u.o_(i.x-k.x,i.y-k.y);var j=x>>>1,v=new dC(Math.round(k.x)-j,Math.round(k.y)-j,x,x),_=Q.$(v.A()*4);
Q.Ez(16777215);for(var P=0;P<x;P++)_[(P*x+j)*4+3]=_[(x*j+P)*4+3]=255;w.I.E8=[[_,v]];w.WV=!0}};q.Og.prototype.kY=function(w,I,E,X){if(E.OZ!=this.id)return;
if(this.id!=q.Xl||w==null)return;if(w.n==null||w.g[0]!=this.ami){this.ami=w.g[0];this.bi({qsmode:0},I)}};
q.Og.prototype.M=function(w,I){if(w.Y1.length!=0){w.WV=!0;return}var E=w.b[w.g[0]];if(I==null){I=this.Y0.kT();
if(this.sX()&&E.yA<=0)I=I.LP(this.hl)}var X=E.yA;if(X==1||X==3){var o=Math.round((X==1?E.pi():E.Em(w).D).o6*2.4);
I=I.clone();I.Cs(o,o)}if(I.qo())return;if(X<=0){E.M(I)}if(X==1){E.pi().$o=!0;E.kH(w,I)}if(X==3){E.M(I)}w.M(w.root.dp(I,w,w.g[0],!0))};
q.Og.prototype.dj=function(w,I,E,X,o){if(this.Y0==null)return;this.Y0.finish();if(this.id!=q.jw&&this.id!=q.l$&&this.id!=q.Xl)this.$G(w);
if(this.id==q._R||this.id==q.l$){w.I.E8=[];w.WV=!0}if(this.id==q.Xl){var i=w.n;w.n=this.KC;var h=new e9(W.E.s,!0);
h.data={d:"setsel",Wj:this.name,n:i};h.G=q.UE;I.c(h);if(this.pb.qsmode==0)this.bi({qsmode:1},I)}else{this.finish(w,this.Y0.Iz());
this.Y0=null;this.x_=null}this.dir=0};q.Og.prototype.bi=function(w,I){for(var E in w)this.pb[E]=w[E];
var X=new e9(W.E.Z,!0);X.data={d:W.t.LF,G:this.id,nl:w};I.c(X)};q.Og.prototype.sX=function(){var w=this.id;
return w==q.Xl||w==q.Kx||w==q.sU||w==q.o5||w==q._7||w==q.Cd};q.Og.prototype.finish=function(w,I,E,X,o){var i=w.Y1.length!=0?-1-w.Y1[0]:w.g[0],h=w.b[i],k=i<0?1:h.yA,x=i<0?w.K3[-i-1]:k<=0?null:k==1?h.pi():h.Em(w).D,j=x?x.rect:h.rect,L;
if(this.sX()||!j.ZQ(this.hl)){if(x==null){if(this.sX())h.G1();else{var v=I.jB(this.hl),_=Q.$(v.A()*4);
Q.D6(h.buffer,h.rect,_,v);h.buffer=_;h.rect=v}}else x.G1();this.M(w,j)}if(k<=0){L=Q.$(I.A()*4);Q.D6(this.CC,this.hl,L,I)}else{L=Q.$(I.A());
L.fill(x.color);Q.b_(this.CC,this.hl,L,I)}this.sm(w,!1,E?E:this.name,i,k,I,L,X,o)};q.Og.prototype.sm=function(w,I,E,X,o,i,h,k,x){var j=h;
if(o>0){j=Q.$(i.A()*4);q.Og.TT(h,i,0,j,i)}var v=new fL(E,this);v.data=[{l:X,Tr:o,_b:i,T1:j}];if(k)v.data.kV=[w.n,null];
if(x)v.data.kV=[this.KC,w.n];w.f6(v);if(I)this.$D(v.data,w);else if(k)w.n=null;q._0.acc(w,v.data)};q.Og.prototype.xg=function(w,I){this.afY(w,I,!1)};
q.Og.prototype.$D=function(w,I){this.afY(w,I,!0)};q.Og.prototype.afY=function(w,I,E){if(w.d=="drawtemp"){var X=E?w.a8f:w.a3g,o=I.b[w.l];
o.e2.fa=X;o.dH(I,0,0,I.n);o.M();I.cW=!0}else{q._0.YM(I,w);if(w.kV){I.n=w.kV[E?1:0];I.EZ=!0}}I.M()};q.Og.prototype.$G=function(w){this.AL(w,this.ld,this.Y0.d_(),this.Y0.eB(),this.Y0.kT());
this.M(w)};q.Og.prototype.AL=function(w,I,E,X,o){var i=this.pb,h=w.b[w.g[0]],k=w.Y1.length!=0?w.K3[w.Y1[0]]:h.yA<=0?null:h.yA==1?h.pi():h.Em(w).D,x=Q.$(o.A()*4),j,v=h.B2(0);
if(k==null){if(this.id==q.Uk&&I=="heal")Q.D6(h.buffer,h.rect,x,o);else Q.D6(this.CC,this.hl,x,o);if(v){j=Q.$(o.A());
Q.qe(x,j,3)}}else{q.Og.TT(this.CC,this.hl,k.color,x,o)}if(w.n&&I!="qselect"){var _=o.LP(w.n.rect),L=Q.$(_.A()*4);
if(I=="copy"){var U=Q.$(_.A());Q.b_(w.n.channel,w.n.rect,U,_);Q.D6(x,o,L,_);Q.e.Wg(E,X,L,_,U,_,0,_,1,!1)}else{Q.D6(E,X,L,_);
Q.HQ(w.n.channel,w.n.rect,L,_)}E=L;X=_}function n(g,ga){var ei=Math.max(ga.x,Math.min(ga.x+ga.q-1,g.x)),hw=Math.max(ga.y,Math.min(ga.y+ga.w-1,g.y));
return new a5(ei,hw)}if(I=="idraw"||I=="ierase"){if(this.x_==null)this.x_=Q.$(this.hl.A());var a=this.pb.samp,T=this.m6.Mw,g=n(this.AW,o),D=a==0?g:this.eh,b=D.x,N=D.y,C=q.Ib.aqK(this.CC,this.hl,[D,new a5(b-2,N),new a5(b+2,N),new a5(b,N-2),new a5(b,N+2)]);
if(a==2)C=[[T>>>16&255,T>>>8&255,T>>>0&255,255]];var Z=q.Ib.aaF(x,o,g,C,this.pb.wconf),S=Q.$(o.A());
Q.b_(this.x_,this.hl,S,o);Q.Cj.jB(Z,S,S);Q.b_(S,o,this.x_,this.hl);Q.HQ(S,o,E,X);I=I.slice(1)}if(I=="erase"&&(q._0.a6D(w)!=16777215||k))I="draw";
if(I=="draw")Q.e.gF(i.bmode,E,X,x,o,o,i.opacity);else if(I=="erase"){var u=Q.$(o.A()*4);Q.D6(E,X,u,o);
if(k==null){var p=Q.$(o.A());Q.qe(u,p,3);Q.aG(p,i.opacity);Q.ja(p);Q.HQ(p,o,x,o)}else{Q.Ez(u,0,4278190080);
Q.e.gF("norm",u,o,x,o,o,i.opacity)}}else if(I=="clone"||I=="heal"){var f=this.QB(),d=this.K2.clone();
d.offset(f.x,f.y);var l=o.clone();l.Cs(1,1);var A=Q.$(l.A()*4),B=Q.$(l.A());Q.D6(E,X,A,l);Q.qe(A,B,3);
Q.Ez(A,0);if(k==null){Q.D6(this.Io,d,A,l);var e=Q.$(l.A());Q.qe(A,e,3);Q.tT(e,B)}else q.Og.TT(this.Io,d,k.color,A,l);
if(I=="clone"){Q.lJ(B,A,3);Q.e.gF(i.bmode,A,l,x,o,o,i.opacity)}if(I=="heal"){var m=B.slice(0);Q.round(m,20);
var $=Q.$(l.A()*4);if(k==null)Q.D6(this.CC,this.hl,$,l);else q.Og.TT(this.CC,this.hl,k.color,$,l);Q.e.Wg(A,l,$,l,m,l,0,l,1,!1);
Q.Yf.Yn($,m,l);Q.e.Wg($,l,x,o,B,l,0,o,1,!1)}}else if(I=="dodge"||I=="burn"){var A=Q.$(o.A()*4),F=1,G=0,J=0,c=0;
Q.D6(E,X,A,o);var V=o.A()*4,H=q.Og.tn;if(this.rk){if(I=="dodge")I="burn";else I="dodge"}var r=i.rng;
if(I=="dodge"){G=[1-F/2,1,1+F][r];J=[1,1/(1+F),1][r];c=[F/2,0,0][r]}if(I=="burn"){G=[1/(1-F/2),1,1-F/2][r];
J=[1,1+F,1][r];c=[-(F/2)/(1-F/2),0,0][r]}for(var P=0;P<V;P+=4){var s=A[P+3];x[P+0]=H(x[P+0],G,J,c,s);
x[P+1]=H(x[P+1],G,J,c,s);x[P+2]=H(x[P+2],G,J,c,s)}}else if(I=="sponge"||I=="redeye"){var A=Q.$(o.A()*4),B=Q.$(o.A());
Q.D6(E,X,A,o);Q.qe(A,B,3);Q.QM(x,A);var z=i.smode;if(this.rk)z=1-z;var Y=gD.SX("hue2");if(I=="sponge")hj.kK(Y,0,[0,[-50,46][z],[6,5][z]]);
else hj.kK(Y,1,{zX:[265,305,25,55],ok:[0,-90,-70]});var ax=cz.S9("hue2",Y);cz.$Z(ax,A,A,o);Q.e.Wg(A,o,x,o,B,o,0,o,1,!1)}else if(I=="copy")Q.D6(E,X,x,o);
else if(I=="sheal"){var A=Q.$(o.A()*4),B=Q.$(o.A());Q.D6(E,X,A,o);Q.qe(A,B,3);A.fill(0);var iW=this.Io,y=this.K2;
if(k){iW=Q.$(y.A()*4);q.Og.TT(this.Io,y,0,iW,y)}var hm=Q.Tc.Yn(iW,y,B,A,o);if(hm!=0)Q.D6(iW,y,A,o);if(this.pb.sfrom==0)Q.D6(A,o,x,o);
else{Q.D6(this.CC,this.hl,x,o);Q.lJ(B,A,3);Q.e.gF("norm",A,o,x,o,o,1)}}else if(I=="qselect"){var t=this.hl,cT=t.q,c4=t.w,kv=cT*c4,iL=this.Y0.d_(),C=this.CC,cr=q.mc.D9,B=cr.Rd;
B.fill(128);for(var P=0;P<kv;P++){var ga=iL[P<<2],iq=iL[(P<<2)+3];if(iq==255&&(ga==0||ga==255))B[P]=ga}B[0]=B[cT-1]=0;
B[(c4>>>1)*cT]=B[(c4>>>1)*cT+cT-1]=0;q.JM.Jp(cr,!0);w.n={rect:t,channel:cr.n.slice(0)};w.EZ=!0}if(k==null){if(v)Q.lJ(j,x,3);
Q.D6(x,o,h.buffer,h.rect)}else q.Og.vd(x,o,k)};q.Og.QB=function(){return null};q.Og.tn=function(w,I,E,X,o){var i=w*(1/255),h=X+I*Math.pow(i,E),k=Math.round(h*o+i*(255-o));
return Math.max(0,Math.min(255,k))};q.Og.TT=function(w,I,E,X,o){var i=Q.$(o.A());i.fill(E);Q.b_(w,I,i,o);
X.fill(255);Q.SU(i,X)};q.Og.vd=function(w,I,E){var X=Q.$(I.A());Q.V0(w,X);Q.b_(X,I,E.channel,E.rect)};
q.mc=function(w,I,E){q.an.call(this,w,I,E);this.pb={binop:0,feat:0,cstr:{U8:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.WJ=new a5(-1,-1);this.QG=new a5(-1,-1);this.iQ="default";this.Dw=null;this.v4=!1;this.f2=new gf;
this.IB=!1;this.K6=null;this.m_=null;this.gB=!1;this.qY=!1};q.mc.prototype=new q.an;q.mc.prototype.aay=function(){var w=this.pb,I=[w.binop,w.feat];
if(this.id==q.rm)I.push(w.wconf);return I};q.mc.prototype.aqV=function(w,I,E){var X=this.pb;X.binop=w[0];
X.feat=w[1];X.wconf=w[2];this.kF(E)};q.mc.prototype.kF=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.LF,G:this.id,pb:this.pb};
w.c(I)};q.mc.D9={key:""};q.mc.YS=function(w,I,E){var X={$g:w,Zc:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(I)X.Zc.T=I;if(E!=null)X.Zc.AntA={t:"bool",v:E};return X};q.mc.O6=function(w,I,E){return q.mc.YS("set",{t:"Objc",v:{classID:w,Top:{t:"UntF",v:{type:"#Pxl",val:I.y}},Left:{t:"UntF",v:{type:"#Pxl",val:I.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:I.y+I.w}},Rght:{t:"UntF",v:{type:"#Pxl",val:I.x+I.q}}}},E)};
q.mc.gA=function(w,I,E){var X=[],o=[],h="set";for(var P=0;P<w.length;P+=2){X.push(w[P]);o.push(w[P+1])}var i={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:X},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:o}]}}}};
if(I)h=["set","addTo","subtractFrom","interfaceWhite"][I];return q.mc.YS(h,i,E)};q.mc.aen=function(w,I,E){var X={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:w.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:w.y}}}},o=q.mc.YS("set",X);
o.Zc.Tlrn={t:"long",v:I[0]};o.Zc.AntA={t:"bool",v:I[1]};o.Zc.Cntg={t:"bool",v:I[2]};if(E==!0)o.Zc.Mrgd={t:"bool",v:E};
return o};q.mc.FG=function(w){return q.mc.YS("set",{t:"enum",v:{Ordn:w?"Al":"None"}})};q.mc.aeC=function(w,I,E){var X={classID:"null"};
if(w!="border")X.selectionModifyEffectAtCanvasBounds={t:"bool",v:E};var o={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[w[0]];
X[o]={t:"UntF",v:{type:"#Pxl",val:I}};return{$g:w,Zc:X}};q.mc.auf=function(w,I,E){var X={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},o={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:I}}]};
if(E)o.v.push({t:"name",v:{classID:"Lyr",val:E}});var i=[{classID:"null",null:X,T:o},{classID:"null",null:o,T:X},{classID:"null",null:o,From:X},{classID:"null",null:o,With:X}],h=["set","add","subtract","interfaceIconFrameDimmed"];
return{$g:h[w],Zc:i[w]}};q.mc.afC=function(w,I){var E=new e9(W.E.Z,!0);E.data={d:W.t.e1,GT:ik.wB};if(!I.x3)w.c(E);
E.data={d:W.t.e1,GT:ik.SA};if(!I.yR.bt)w.c(E)};q.mc.prototype.Q$=function(w,I,E,X,o){q.mc.afC(I,o);this.Dw=I;
var i=w.d,h,k,x=new dC(0,0,E.q,E.w),ds=!1,jO,gy,fV,hl;if(i=="fromAction"){var j=w.Le,v=j.$g,_=j.Zc,L=_?_.selectionModifyEffectAtCanvasBounds:null,U=L&&L.v;
if(v=="colorRange"){if(_.Clrs){var n=_.Clrs.v.Clrs,a=0,T=255,g=["Shdw","Mdtn","Hghl"].indexOf(n),C=.4;
if(g==0)T=60;else if(g==1){a=100;T=150}else a=190;var D=["shadows","midtones","highlights"][g],b=_[D+"LowerLimit"],N=_[D+"UpperLimit"];
if(b)a=b.v;if(N)T=N.v;var Z=_[D+"Fuzziness"];if(Z)C=Z.v/100;h=q.mc.Zb(E,a,T,C,!0)}else{var a=_.Mnm.v,T=_.Mxm.v,C;
a={wb:a.Lmnc.v,lV:a.A.v,L:a.B.v};T={wb:T.Lmnc.v,lV:T.A.v,L:T.B.v};C=_.Fzns.v/200;h=q.mc.Zb(E,a,T,C)}k=[7,8]}else if(v=="inverse"){if(E.n==null){alert("No selection!");
return}h={channel:Q.$(x.A()),rect:x};Q.b_(E.n.channel,E.n.rect,h.channel,h.rect);Q.ja(h.channel);k=[7,2]}else if(v=="expand"){var S=_.By.v.val,u=E.n.rect.clone();
u.Cs(S,S);var p=Q.$(u.A()),f=Q.$(u.A());Q.b_(E.n.channel,E.n.rect,f,u);Q.style.stroke(f,p,u,S);h={channel:p,rect:u};
k=[7,4]}else if(v=="contract"){var S=_.By.v.val,d=E.n.rect.clone();d.Cs(1,1);if(!U)d=d.LP(x);var f=Q.$(d.A()),l=Q.$(f.length);
Q.b_(E.n.channel,E.n.rect,f,d);Q.ja(f);Q.style.stroke(f,l,d,S);Q.ja(l);h={channel:l,rect:d};Q.G1(h);
k=[7,5]}else if(v=="border"){var S=_.Wdth.v.val;h=q.mc.axW(E.n,S/2,S/2);k=[7,9]}else if(v=="feather"||v=="smoothness"){var S=_.Rds.v.val;
h=q.mc.axv(E.n,S,v=="smoothness",x,U);k=v=="feather"?[7,6]:[19,3,0]}else if(v=="move"){var A=_.T.v,u=E.n.rect.clone();
u.x+=A.Hrzn.v.val;u.y+=A.Vrtc.v.val;h={channel:E.n.channel,rect:u};k=[7,7]}else{var B=_.null.v,e=_.AntA!=null&&_.AntA.v;
function m(ar){var cG=ar.Top.v.val,dm=ar.Left.v.val;return new dC(dm,cG,ar.Rght.v.val-dm,ar.Btom.v.val-cG)}function $(ar){var cG=ar[0].arr,bd=ar[1].arr,aZ={C:[],J:[]};
for(var P=0;P<cG.length;P++){aZ.J.push(P==0?"M":"L");aZ.C.push(cG[P],bd[P])}aZ.J.push("Z");return aZ}var V=["set","addTo","subtractFrom","interfaceWhite"].indexOf(v),H=_.T?_.T.v:null;
if(H&&H.classID=="Elps"){h=this.a3$(q.Um.aho(m(H)));k=[10,4]}else if(H&&H.classID=="Rctn"){var F=m(H);
h={channel:Q.$(F.A()),rect:F.clone()};h.channel.fill(255);k=[10,15]}else if(H&&H.classID=="ObSl"){var F=m(H),G=q.mc.D9,J=G.rect,c=G.Rd,r=J.q,s=J.w,z=F.x-J.x,Y=z+F.q-1,ax=Math.max(z,Math.min(Y,z+Y>>>1)),iW=F.y-J.y,y=iW+F.w-1,hm=Math.max(iW,Math.min(y,iW+y>>>1)),t=Math.max(z,0),cT=Math.min(Y,r),c4=Math.max(iW,0),kv=Math.min(y,s);
c.fill(128);if(0<=iW)for(var iL=t;iL<cT;iL++)c[iW*r+iL]=0;if(y<s)for(var iL=t;iL<cT;iL++)c[y*r+iL]=0;
if(0<=z)for(var cr=c4;cr<kv;cr++)c[cr*r+z]=0;if(Y<r)for(var cr=c4;cr<kv;cr++)c[cr*r+Y]=0;var ga=q.UC.adZ,iq=Math.round(F.q*ga),ei=Math.round(F.w*ga);
for(var iL=Math.max(0,ax-iq);iL<Math.min(r,ax+iq);iL++)c[hm*r+iL]=255;for(var cr=Math.max(0,hm-ei);cr<Math.min(s,hm+ei);
cr++)c[cr*r+ax]=255;q.JM.Jp(G,!0);h={channel:G.n.slice(0),rect:J.clone()};k=[10,44]}else if(H&&H.classID=="Plgn"){h=this.a3$($(H.Pts.v.arr));
k=[10,9]}else if(H&&H.classID=="Pnt"){h=q.Ib.a2_(E,new a5(H.Hrzn.v.val,H.Vrtc.v.val),[_.Tlrn.v,e,_.Cntg==null||_.Cntg.v],_.Mrgd?_.Mrgd.v:!1);
k=[10,12]}else if(H&&H.Ordn=="None"){h=null;k=[7,1]}else if(H&&H.Ordn=="Al"){var hw=x;if(E.g.length!=0){var hC=E.root.qx(E.g[0]);
while(hC.parent&&hC.parent.parent)hC=hC.parent;if(hC.l.add.artb)hw=hC.l.Z9()}h={channel:Q.$(hw.A()),rect:hw};
h.channel.fill(255);k=[7,0]}else if(H&&H[0]&&H[0].v.keyID=="WrPt"){var j5={d:"frompath",hT:[-1,0,0]};
this.Q$(j5,I,E,X,o);return}else{var ed=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(v),jn=v=="set"?H:B,fj=jn[0].v.enum,j5;
if(fj=="Trsp"||fj=="Msk"||fj=="vectorMask"||fj=="Trgt"){var di=E.g[0];if(jn.length==2)di=gE.Pa(E,jn[1]);
var b1=["Trsp","Msk","vectorMask"].indexOf(fj);if(fj=="Trgt"&&E.b[di].yA==1)b1=1;j5={d:"fromlayer",hT:[di,b1,ed]}}else{if(jn[0].t=="name"){var di=0;
for(var P=0;P<E.K3.length;P++)if(E.K3[P].name==jn[0].v.val)di=P;j5={d:"fromchannel",hT:[-5-di,0,ed]}}else{var dI=["RGB","Rd","Grn","Bl"].indexOf(fj);
j5={d:"fromchannel",hT:[-1-dI,0,ed]}}}this.Q$(j5,I,E,X,o);return}if(!e&&h)Q.round(h.channel);if(_.Fthr)h=q.mc.axv(h,_.Fthr.v.val,!1);
if(v!="set"&&E.n!=null)h=Q.Cj.Y2(h,E.n,V)}if(v=="expand"||v=="contract")if(!U&&!x.contains(h.rect)){var h2=h.rect.LP(x),de=Q.$(h2.A());
Q.b_(h.channel,h.rect,de,h2);h.channel=de;h.rect=h2}}if(i=="qmask"){ds=!0;var im=E.T5(),eA=new dC(0,0,E.q,E.w);
if(im){h=im.rect.ZQ(eA)&&Q.Y4(im.channel,255)?null:{rect:im.rect.clone(),channel:im.channel.slice(0)};
jO=im}else{h=null;gy=new K._x;gy.color=0;gy.name="Quick Mask";gy.ag=!0;if(E.n){gy.rect=E.n.rect.clone();
gy.channel=E.n.channel.slice(0)}else{gy.rect=eA;gy.channel=Q.$(gy.rect.A());gy.channel.fill(255)}}k=[6,6,1];
E.cW=!0}if(i=="setsel"){h=w.n;k=w.Wj}if(i=="crange"){var a=w.fw,T=w.sv;h=q.mc.Zb(E,a,T,w._K);k=[7,8]}if(i=="fromlayer"||i=="fromchannel"||i=="frompath"){var hy=w.hT[0],b1=w.hT[1],V=w.hT[2];
if(i=="fromlayer"){if(hy==null)hy=E.g[0];var dm=E.b[hy];if(b1==0){var hA=dm.rect,j2=dm.buffer;if(hA.qo())return;
var dQ=Q.$(j2.length>>>2);Q.qe(j2,dQ,3);h={channel:dQ,rect:hA.clone()}}else{if(dm.D==null)dm.kH(E);var eh=b1==1?dm.pi():dm.D;
h=q.mc.avZ(eh,x)}this.track(q.mc.auf(V,["Trsp","Msk"][b1],dm.getName()))}else if(i=="frompath"){var h_=E.cm(),h6=h_[1],h_=h_[0],hP=!0;
if(hy==null)if(h_.length==0||h6.length==0)return;var gT=h_[h6[0]];if(hy!=null)for(var P=0;P<h_.length;
P++)if(h_[P].qI==hy)gT=h_[P];var eh=gT.add.vmsk.pi(),b8=eh.eB();if(b8.A()==0)return;var dQ=eh.R4();if(w.hT[3]!=null)hP=w.hT[3];
if(!hP){dQ=dQ.slice(0);Q.round(dQ)}fV=[JSON.stringify(E.c0),JSON.stringify(E.ko)];hl=["[]","[]"];E.c0=[];
E.ko=[];h={channel:dQ,rect:b8}}else{if(hy==null)hy=q.mc.avO(E);h=q.mc.ay3(E,hy)}if(V!=0&&E.n)h=Q.Cj.Y2(h,E.n,V);
k=[14,11]}if(h!=null&&Q.Y4(h.channel,0)){h=null;k=[7,1]}if(h)Q.G1(h);var b5=new fL(k,this);b5.data={d:"changesel",KC:E.n,bo:h,T5:ds,agp:jO,a8S:gy,JP:fV,afk:hl};
E.f6(b5);this.$D(b5.data,E)};q.mc.avO=function(w){var I=0;if(w.Y1.length!=0)I=-5-w.Y1[0];else if(JSON.stringify(w.u.wL)=="[1,1,1]")I=-1;
else I=-2-w.u.wL.indexOf(1);return I};q.mc.ay3=function(w,I){var E,X=new dC(0,0,w.q,w.w);if(-5<I&I<0){var o=-I-1,i=w.sQ(),h=Q.$(X.A());
if(o==0)Q.V0(i,h);else Q.qe(i,h,o-1);E={channel:h,rect:X.clone()}}if(I<-4){E=q.mc.avZ(w.K3[-I-5],X)}return E};
q.mc.avZ=function(w,I){var E,X;if(w.BL()==0){X=w.eB().clone();if(X.A()==0)return;E=w.R4()}else{X=I;E=Q.$(X.A());
w.SQ(X,E)}return{channel:E,rect:X}};q.mc.prototype.J8=function(w){return this.IB||w.WN&&this.id!=q.xP};
q.mc.prototype.Ve=function(w,I,E){var X=new e9(I,!0);X.data=E;w.c(X)};q.mc.prototype.aqY=function(w,I){var E=new e9(W.E.Z,!0);
E.data={d:W.t.JN,sL:I};w.c(E)};q.mc.prototype.eB=function(w,I,E){I=w.n==null||this.f2.r1(1)||this.f2.X$(1)?I:null;
var X=this.WJ,o=this.QG;if(E){X.x=Math.max(0,Math.min(w.q,X.x));X.y=Math.max(0,Math.min(w.w,X.y));o.x=Math.max(0,Math.min(w.q,o.x));
o.y=Math.max(0,Math.min(w.w,o.y))}var i=q.II.hb(X,o,I,!0,this.pb.cstr),h=i[0].x,k=i[0].y;return new dC(h,k,i[1].x-h,i[1].y-k)};
q.mc.prototype.PX=function(w,I,E,X,o){this.qY=!0;if(this.M7())return;this.Dw=I;this.v4=!1;this.f2.PX(X);
this.WJ=w.u.sP(o.x,o.y);this.WJ=q.Q8.Bi(w,this.WJ,E);if(this.at0(w,this.WJ,X)){this.IB=!0;this.K6=w.n.rect.clone();
return}this.ME(w,E,X,o);w.u.Ep=new dC};q.mc.prototype.at0=function(w,I,E){var X=E.Y(aW.mG),o=E.Y(aW.$i);
if(w.n&&!X&&!o&&this.pb.binop==0)return Q.Mj(I,w.n.channel,w.n.rect);return!1};q.mc.prototype.L_=function(w,I,E,X,o){this.Dw=I;
if(this.gB)return;var i=w.u.sP(o.x,o.y);if(a5.GZ(this.WJ,i)*w.u.T>5){this.v4=!0;this.f2.L_()}if(X.Y(aW.gS)){if(this.m_==null)this.m_=new a5(i.x-this.WJ.x,i.y-this.WJ.y);
this.WJ.x=i.x-this.m_.x;this.WJ.y=i.y-this.m_.y}else this.m_=null;this.QG=i;if(!this.IB)this.QG=q.Q8.Bi(w,this.QG,E);
if(this.at0(w,this.QG,X))this.aqY(I,"move");else this.aqY(I,this.iQ);if(this.IB){var h=this.K6.clone();
h.x+=this.QG.x-this.WJ.x;h.y+=this.QG.y-this.WJ.y;var k=q.Q8.VC(w,h,E);w.n.rect.x=Math.round(this.QG.x-this.WJ.x+this.K6.x+k[0]);
w.n.rect.y=Math.round(this.QG.y-this.WJ.y+this.K6.y+k[1]);w.EZ=!0;q.Q8.ZA(w,h,k);return}this._S(w,E,X,o,I);
if(w.u.Ep)w.u.Ep=this.eB(w,X)};q.mc.prototype.M7=function(){return!1};q.mc.prototype.dj=function(w,I,E,X,o,i){var h=this.qY;
this.qY=!1;if(i||!h)return;w.u.Ep=null;this.QG=w.u.sP(o.x,o.y);this.QG=q.Q8.Bi(w,this.QG,E);if(this.IB){this.IB=!1;
if(w!=null&&w.I.gy){w.I.gy=null;w.WV=!0}if(this.QG.ZQ(this.WJ)&&this.Y9()==0){this.Ve(I,W.E.a3,q.mc.FG());
return}this.aqZ(w,this.K6,w.n.rect.clone());return}this.wz(w,E,X,o,I);q.mc.afC(I,E);this.f2.dj();this.Ri(I)};
q.mc.prototype.aqZ=function(w,I,E){var X=w.fY();if(X!=null&&X.G==this&&X.data.d=="movesel"){}else{X=new fL([7,7],this);
X.data={d:"movesel",VT:I};w.f6(X)}X.data.kR=E;this.$D(X.data,w)};q.mc.prototype.Rb=function(w,I,E,X,o){this.gB=!0};
q.mc.prototype.UB=function(w,I,E,X,o){var i=new e9(W.E.Z,!0);i.data={d:W.t.LF,G:this.id,PD:o,ii:w,Ff:E};
I.c(i);this.gB=!1};q.mc.prototype.oH=function(w,I,E,X){this.f2.oH(X);if(w!=null&&w.n!=null){var o=X.Ys();
if(o.x!=0||o.y!=0){var i=w.n.rect.clone();i.x+=o.x;i.y+=o.y;this.aqZ(w,w.n.rect.clone(),i)}}this.Ri(I)};
q.mc.prototype.Ri=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.LF,G:this.id,oK:this.Y9()};w.c(I)};
q.mc.prototype.Y9=function(){var w=this.f2.r1(0),I=this.f2.X$(0);return q.mc.P3(this.pb.binop,w,I)};
q.mc.P3=function(w,I,E){if(I)w=1;if(E)w=2;if(I&&E)w=3;return w};q.mc.prototype.finish=function(w,I,E,X){var o=w.n,i=this.getSelection(w,I,E,X);
if(i==null)i=q.mc.FG();else{var h=this.pb.feat,k=this.Y9();if(h!=0)i.Zc.Fthr={t:"UntF",v:{type:"#Pxl",val:h}};
if(k!=0&&k!=4)i.$g=["","addTo","subtractFrom","interfaceWhite",""][k]}this.Ve(this.Dw,W.E.a3,i);this.WJ.eo(-1,-1);
this.QG.eo(-1,-1)};q.mc.prototype.getSelection=function(w,I,E,X){return null};q.mc.prototype.ME=function(w,I,E,X){};
q.mc.prototype._S=function(w,I,E,X){};q.mc.prototype.wz=function(w,I,E,X){};q.mc.prototype.xg=function(w,I){var E=w.d;
if(E=="changesel")I.n=w.KC;if(E=="movesel")I.n.rect=w.VT;if(w.T5){if(w.agp){I.Y1=[I.K3.length];I.K3.push(w.agp)}else{I.K3.pop();
I.Y1=[]}}if(w.JP){I.c0=JSON.parse(w.JP[0]);I.ko=JSON.parse(w.JP[1])}I.EZ=!0};q.mc.prototype.$D=function(w,I){var E=w.d;
if(E=="changesel")I.n=w.bo;if(E=="movesel")I.n.rect=w.kR;if(w.T5){if(w.a8S){I.Y1=[I.K3.length];I.K3.push(w.a8S)}else{I.K3.pop();
I.Y1=[]}}if(w.JP){I.c0=JSON.parse(w.afk[0]);I.ko=JSON.parse(w.afk[1])}I.EZ=!0};q.mc.prototype.NE=function(w){this.pb=w.pb};
q.mc.prototype.a3$=function(w){var I=Q.p.uh(w.C);if(I.qo())return null;var E=Q.wH(I.q,I.w);E.save();
E.beginPath();E.translate(-I.x,-I.y);Typr.U.pathToContext({cmds:w.J,crds:w.C},E);E.closePath();E.fill();
E.restore();var X=Q.$(I.A()),o=E.getImageData(0,0,I.q,I.w);Q.qe(o.data,X,3);return{rect:I,channel:X}};
q.mc.axv=function(w,I,E,X,o){if(E)I=Math.round(I*.7);var i=Math.ceil(2.6*I),h=w.rect.clone();h.Cs(i,i);
if(X&&!o)h=h.LP(X);var k=Q.$(h.A()),x=Q.$(k.length);Q.b_(w.channel,w.rect,x,h);Q.iG.sB(x,k,h,I);if(E){var j=k.length;
for(var P=0;P<j;P++){var v=(k[P]-128)*I*2.5;k[P]=Math.max(0,Math.min(255,Math.round(128+v)))}}return{channel:k,rect:h}};
q.mc.axW=function(w,I,E){var X=Math.max(1,Math.ceil(E)),o=w.rect.clone();o.Cs(X,X);var i=o.A(),h={channel:Q.$(i),rect:o},k=Q.$(i);
Q.b_(w.channel,w.rect,k,h.rect);if(E!=0)Q.style.stroke(k,h.channel,h.rect,E);else Q.QM(k,h.channel);
var x=Q.$(i);Q.ja(k);if(I!=0)Q.style.stroke(k,x,h.rect,I);else Q.QM(k,x);Q.Cj.LP(h.channel,x,h.channel);
return h};q.mc.Zb=function(w,I,E,X,o){var i=new dC(0,0,w.q,w.w),h=w.sQ();if(w.n){var k=w.n.rect.LP(i),x=Q.$(k.A()*4);
Q.D6(h,i,x,k);i=k;h=x}var j=i.A(),v=Q.$(j),_=1/X;if(o){if(I>=E)I=E-1;var L=I*(1-X),U=I,n=E,a=E+(255-E)*X,T=L==U?0:1/(U-L),g=n==a?0:1/(a-n);
for(var P=0;P<j;P++){var D=P<<2,b=Q.XP(h[D],h[D+1],h[D+2]),N=0;if(b<L)N=0;else if(b<U)N=(b-L)*T;else if(b<=n)N=1;
else if(b<=a)N=1-(b-n)*g;else N=0;v[P]=h[D+3]*N*N}}else for(var P=0;P<j;P++){var D=P<<2,C=Q.HX(h[D],h[D+1],h[D+2]),N=Q.kh(C,I,E,X,_);
v[P]=h[D+3]*N}return{rect:i,channel:v}};q._n=function(){q.Og.call(this,[10,18],q.zV,"tools/blur");this.ld="copy"};
q._n.prototype=new q.Og;q._n.prototype.PX=function(w,I,E,X,o){var i=X.Y(aW.$i)?cn.pH:cn.zV;this.ts(w,E,X,o,this.pb.strn,i);
if(this.Y0==null)return;this.$G(w)};q._n.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);if(this.Lz)this.WB(w,E,o);
if(this.Y0==null)return;if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.zZ=function(){q.Og.call(this,[10,0],q.nz,"tools/brush");
this.ld="draw"};q.zZ.prototype=new q.Og;q.zZ.prototype.PX=function(w,I,E,X,o){if(this._o(X,I,o))return;
this.ts(w,E,X,o,this.pb.flow);if(this.Y0==null)return;this.$G(w)};q.zZ.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);
if(this.Lz)this.WB(w,E,o);if(this.Y0==null)return;if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.Ng=function(){q.Og.call(this,[10,42],q.TQ,"tools/crepl");
this.ld="idraw";this.pb.bmode="hue "};q.Ng.prototype=new q.Og;q.Ng.prototype.PX=function(w,I,E,X,o){if(this._o(X,I,o))return;
this.ts(w,E,X,o,this.pb.flow);if(this.Y0==null)return;this.$G(w)};q.Ng.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);
if(this.Lz)this.WB(w,E,o);if(this.Y0==null)return;if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.LC=function(){q.Og.call(this,[10,43],q.Cd,"tools/redeye");
this.pb.smode=0;this.ld="redeye"};q.LC.prototype=new q.Og;q.LC.prototype.PX=function(w,I,E,X,o){this.ts(w,E,X,o,this.pb.flow);
if(this.Y0==null)return;this.$G(w)};q.LC.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);if(this.Lz)this.WB(w,E,o);
if(this.Y0==null)return;if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.Nb=function(){q.Og.call(this,[10,38],q.jW,"tools/pencil");
this.ld="draw"};q.Nb.prototype=new q.Og;q.Nb.prototype.PX=function(w,I,E,X,o){if(this._o(X,I,o))return;
this.ts(w,E,X,o,this.pb.flow);if(this.Y0==null)return;this.$G(w)};q.Nb.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);
if(this.Lz)this.WB(w,E,o);if(this.Y0==null)return;if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.sx=function(){q.Og.call(this,[10,22],q.o5,"tools/burn");
this.ld="burn"};q.sx.prototype=new q.Og;q.sx.prototype.PX=function(w,I,E,X,o){this.ts(w,E,X,o,this.pb.expo/Math.E);
if(this.Y0==null)return;this.$G(w)};q.sx.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);if(this.Lz)this.WB(w,E,o);
if(this.Y0==null)return;if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.fP=function(w,I,E){q.Og.call(this,w==""?null:w?w:[10,1],I?I:q._R,E?E:"tools/clone");
this.ld="clone";this.lm=null;this.z=null};q.fP.prototype=new q.Og;q.fP.prototype.PX=function(w,I,E,X,o){var i=this.pb,h=i.alt[0];
if(X.Y(aW.$i)||X.Y(aW.Q2)||h){this.lm=w.u.sP(o.x,o.y);this.z=null;if(h)this.bi({alt:[!1]},I);this.fA(w);
this.HH(E,X,w,o);return}if(this.lm==null){alert(df.get([15,7,0]));return}this.HH(E,X);this.ts(w,E,X,o,this.pb.flow);
if(this.Y0==null)return;this.z=this.a9G(w.u.sP(o.x,o.y));this.$G(w)};q.fP.prototype.a9G=function(w){var I=this.z;
if(I==null||!this.pb.algnd)I=new a5(Math.round(w.x-this.lm.x),Math.round(w.y-this.lm.y));return I};q.fP.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);
if(this.Lz)this.WB(w,E,o);if(this.Y0==null){if(this.lm!=null)this.HH(E,X,w,o);return}if(!o.WN||this.lm==null)return;
this.pE(w,E,X,o);this.$G(w)};q.fP.prototype.QB=function(){return this.z};q.EV=function(w,I,E){q.an.call(this,w,I,E);
this.xS={J5:{U8:0,x:0,y:0},JB:!1};this.OK=!1;this.DE=null;this.cursor=null;this.acd=0;this.O_=null;this.WJ=null;
this.ji=null;this.I8=!1};q.EV.prototype=new q.an;q.EV.prototype.wN=function(){return this.DE!=null};
q.EV.prototype.J8=function(w){return this.WJ!=null||this.DE&&this.DE.adU()};q.EV.prototype.PX=function(w,I,E,X,o){this.O_=o;
var i=w.u.sP(o.x,o.y),h=this.xS.J5,k=h.U8!=0?h.x/h.y:null,x=this.I8;this.I8=!1;if(this.DE){var j=this.DE.zn(i,w.u.T);
if(x&&j==null){this.DE.clear(w);this.DE=null}else{this.DE.PX(w,E,X,i,k,!1,o);return}}this.WJ=q.Q8.Bi(w,i,E)};
q.EV.prototype.iB=function(w,I,E){if(E==null)E=[w.x,w.y,w.x+w.q,w.y,w.x+w.q,w.y+w.w,w.x,w.y+w.w];return new gc(E,!0,!1,this.id==q.ob,!0,I,this.id==q.ob?2:0,this.id==q.ob?4:3)};
q.EV.prototype.HH=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.JN,sL:this.cursor};w.c(I)};q.EV.prototype.enable=function(w,I,E,X){this.Dw=I;
this.cursor="crosshair";this.HH(I);if(w!=null&&this.DE==null){var o=w.n?{jt:"cropby",anJ:3}:{jt:"config",xS:this.xS,a7D:!0};
this.NE(o,I,w,X,E);if(w.n==null&&this.xS.J5.U8==0)this.I8=!0}};q.EV.prototype.L_=function(w,I,E,X,o){this.O_=o;
var i=w.u.sP(o.x,o.y);if(!o.WN){var h="crosshair";if(this.DE){var k=this.DE.zn(i,w.u.T,null,o);if(k)h=k;
else h="default"}if(h!=this.cursor){this.cursor=h;this.HH(I)}}if(this.DE)this.DE.L_(w,E,X,i);else if(this.WJ){if(this.OK){w.I.vC={J:["M","L"],C:[this.WJ.x,this.WJ.y,i.x,i.y]}}else{var x=q.II.hb(this.WJ,q.Q8.Bi(w,i,E),X,!0,this.xS.J5),j=x[0].x,v=x[0].y,_=this.ji=new dC(j,v,x[1].x-j,x[1].y-v);
w.I.vC=Q.p.sy(_);q.an.xU(o,_,w,E)}w.WV=!0}};q.EV.apG=function(w,I,E){var X,o,k,x;if(I<=E){X=I;o=E}else{X=E;
o=I}var i=w-Math.floor((w+Math.PI)/(2*Math.PI))*2*Math.PI;i=Math.abs(i);if(i>Math.PI/2)i=Math.PI-i;var h=X/(o*Math.sin(i)+X*Math.cos(i));
if(I<=E){k=X*h;x=o*h}else{k=o*h;x=X*h}return{LQ:k,Ns:x}};q.EV.prototype.dj=function(w,I,E,X,o){this.O_=o;
var i=w.u.sP(o.x,o.y);if(this.DE==null){var h=this.ji;if(this.WJ&&(h||this.OK)){if(this.OK){var k=this.WJ,x=i;
if(k.x>x.x){var j=k;k=x;x=j}var k=Math.atan2(-(x.y-k.y),x.x-k.x),v=q.EV.apG(k,w.q,w.w),_=[0,0,v.LQ,0,v.LQ,v.Ns,0,v.Ns],L=new am;
L.translate(-v.LQ/2,-v.Ns/2);L.rotate(k);L.translate(w.q/2,w.w/2);Q.p.F(_,L,_);this.DE=this.iB(h,!1,_);
w.I.vC=null;this.OK=!1}else{var U=this.xS.J5;this.DE=this.iB(h,U.U8!=0)}this.DE.$h(w,E);this.ji=null;
this.Ve(I,W.E.Z,{d:W.t.LF,G:this.id,Fc:!0});this.WJ=null;w.I.E8=[];w.WV=!0}return}this.DE.dj(w,E,X,i);
this.Ve(I,W.E.Z,{d:W.t.LF,G:this.id,Fc:!0});var _=this.DE.PE();if(Math.abs(_[0]-_[4])<2&&Math.abs(_[1]-_[5])<2){this.disable(w,I,null,X);
return}if(Date.now()-this.acd<200&&this.DE.i0(i)){this.j5(w,E);this.disable(w,I,E,X);return}this.acd=Date.now()};
q.EV.prototype.oH=function(w,I,E,X){var o=this.DE;if(o==null||this.O_&&this.O_.WN)return;if(X.Y(aW.yd)){this.j5(w,E);
this.disable(w,I,E,X)}else if(X.Y(aW.K9)){this.disable(w,I,E,X)}else o.oH(w,E,X)};q.EV.a8l=function(w,I,E){var X={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:w[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:w[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:w[1]+w[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:w[0]+w[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:I!=null?I:0}},Dlt:{t:"bool",v:E!=null?E:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{$g:"crop",Zc:X}};q.EV.nW=function(w,I){if(I==null)I=[!0,!0,!0,!0];var E={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][w]}}},X=["Top","Left","Btom","Rght"];
for(var P=0;P<4;P++)E[X[P]]={t:"bool",v:I[P]};return{$g:"trim",Zc:E}};q.EV.ade=function(w,I,E,X){var o={classID:"null"};
if(X!=null){o.Wdth={t:"UntF",v:{type:"#Pxl",val:w}};o.Hght={t:"UntF",v:{type:"#Pxl",val:I}};o.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][X]}}}if(E!=null)o.Rslt={t:"UntF",v:{type:"#Rsl",val:E}};
return{$g:"imageSize",Zc:o}};q.EV.an7=function(w,I,E){if(E==null)E=4;var X=Math.floor(E/3),o=E%3;return{$g:"canvasSize",Zc:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:w}},Hght:{t:"UntF",v:{type:"#Pxl",val:I}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][o]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][X]}}}}};
q.EV.prototype.Q$=function(w,I,E,X,o){var i=new dC(0,0,E.q,E.w),h=[11,3],k=E.nN,x=E.q/2,j=E.w/2,v=1,s,z;
if(w.d=="fromAction"){var _=w.Le,L=_.$g,U=_.Zc,n=E.q/E.w,a=U.Wdth?U.Wdth.v.val:-1,T=U.Hght?U.Hght.v.val:-1,k=U.Rslt?U.Rslt.v.val:null,g=U.Wdth?U.Wdth.v.type:U.Hght?U.Hght.v.type:-1,D=1,b;
if(g=="#Prc"){if(a!=-1)a=Math.round(E.q*a/100);if(T!=-1)T=Math.round(E.w*T/100)}if(L=="imageSize"){if(U.Intr){if(U.Intr.v.Intp=="Nrst")D=0;
if(U.Intr.v.Intp=="bicubicSharper")D=2;if(a==-1&&T==-1){var N=k/E.nN;a=Math.round(E.q*N);T=Math.round(E.w*N)}if(U.CnsP&&U.CnsP.v){if(a==-1)a=Math.round(T*n);
if(T==-1)T=Math.round(a/n)}}else{if(g=="#Prc")k=Math.round(E.nN*(E.q/a));else if(g==-1)k=Math.round(k);
else throw"e";a=E.q;T=E.w}b={d:"imgsize",bW:a,vt:T,l6:k,JH:D}}else if(L=="canvasSize"){if(a==-1)a=E.q;
if(T==-1)T=E.w;if(U.Rltv&&U.Rltv.v==!0){if(U.Wdth)a+=E.q;if(U.Hght)T+=E.w}var C=U.Vrtc?U.Vrtc.v.VrtL:"Cntr",Z=U.Hrzn?U.Hrzn.v.HrzL:"Cntr";
b={d:"canvsize",bW:a,vt:T,nh:3*["Top","Cntr","Btom"].indexOf(C)+["Left","Cntr","Rght"].indexOf(Z)}}else if(L=="revealAll"){b={d:"revealAll"}}else if(L=="trim"){var S={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[U.trimBasedOn.v.trimBasedOn];
if(S==null)throw"e";var u=["Top","Left","Btom","Rght"],p=[!0,!0,!0,!0];for(var P=0;P<4;P++)if(U[u[P]])p[P]=U[u[P]].v;
b={d:"trim",aeO:S,XG:p}}else if(L=="crop"){var f,d,l,A;if(U.T){var B=U.T.v,f=Math.round(B.Left.v.val),d=Math.round(B.Top.v.val),l=Math.round(B.Rght.v.val)-f,A=Math.round(B.Btom.v.val)-d}else{var e=E.b[E.g[0]],m=e.rect;
m=m.LP(new dC(0,0,E.q,E.w));f=m.x;d=m.y;l=m.q;A=m.w}b={d:"canvsize",bW:l,vt:A,z:new a5(f,d),a9k:U.Dlt!=null&&U.Dlt.v}}else console.log(_);
if(b)this.Q$(b,I,E,X,o);return}else if(w.d=="imgsize"){i=new dC(0,0,w.bW,w.vt);if(w.l6)k=w.l6;v=w.JH}else if(w.d=="canvsize"){var $=w.nh!=null?w.nh:0;
i=new dC(0,0,w.bW,w.vt);var V=E.q-w.bW,H=E.w-w.vt,F=Math.round(V/2),G=Math.round(H/2);if($==1||$==4||$==7)i.x=F;
if($==2||$==5||$==8)i.x=V;if($==3||$==4||$==5)i.y=G;if($==6||$==7||$==8)i.y=H;if(w.z){i.x=w.z.x;i.y=w.z.y}}else if(w.d=="rot"&&(w.k+2*Math.PI)%(Math.PI/2)!=0){var J=Q.p.sy(i).C,c=new am;
c.translate(-x,-j);c.rotate(w.k);c.translate(x,j);Q.p.F(J,c,J);i=Q.p.uh(J)}else if(w.d=="rot"&&w.k!=Math.PI&&w.k!=-Math.PI){i=new dC(x-E.w/2,j-E.q/2,E.w,E.q);
if((E.q+E.w&1)==1){x=Math.floor(x);j=Math.floor(j);i=new dC(x-Math.floor(E.w/2),j-Math.floor(E.q/2),E.w,E.q);
if((E.q&1)==1&&w.k!=-Math.PI/2)i.y--;if((E.w&1)==1&&w.k==-Math.PI/2)i.x--}}else if(w.d=="trim"){h=[11,12,0];
var r=E.sQ(),m=new dC(0,0,E.q,E.w);i=Q.eE(r,m,w.aeO,w.XG);if(i.qo())i=m}else if(w.d=="cropbysel"){h=[11,12,1];
i=E.n.rect.clone()}else if(w.d=="revealAll"){h=[11,12,2];i=E.root.eB(E,!0)}var Y=w.d=="canvsize"&&w.a9k;
if(w.d=="imgsize"||w.d=="rot"||w.d=="scl"||Y){var ax=new am;if(w.d=="imgsize"){h=[11,10];ax.scale(w.bW/E.q,w.vt/E.w)}else if(Y){}else{ax.translate(-x,-j);
if(w.d=="rot")ax.rotate(w.k);if(w.d=="scl")ax.scale(w.k.x,w.k.y);ax.translate(x,j);h=w.Wj}z=Q.K.Rv(ax);
s=this._I(E,o,!0,z,v,Y?i:null)}else if(w.d=="auto-align"){if(E.g.length<2){alert("Select two or more layers.");
return}var iW=[];for(var P=0;P<E.g.length;P++){var e=E.b[E.g[P]];if(!e.N$()&&e.add.SoLd==null){alert("Unsupported layer selected.");
return}if(e.rect.qo()){alert("Empty layer selected.");return}iW.push([e.buffer,e.rect])}var y=Q.gp.pt(iW,0);
if(y==null){alert("No similarity found.");return}z=y[1];var hm=E.g;E.g=E.g.slice(1);s=this._I(E,o,!1,y.slice(1),v);
E.g=hm;i=E.root.eB(E,!0);h=[2,10,1]}var t=new dC(0,0,E.q,E.w);if(!i.qo()&&(!i.ZQ(t)||s!=null)){var cT=new fL(h,this);
cT.data={a8D:E.nN,l6:k,Xy:s,nr:z,$S:q.EV.akz(E,i,t,s!=null)};q.EV.ar1(E,cT.data,i);E.f6(cT);this.$D(cT.data,E)}};
q.EV.akz=function(w,I,E,X){if(w.V7.length==0)return null;var o=JSON.stringify(w.V7),i=JSON.parse(o);
q.Yq.af$(i,I,E,X);i=JSON.stringify(i);return[o,i]};q.EV.prototype._I=function(w,I,E,X,o,i){var h={b:[],_q:null,pf:null};
if(E){for(var P=0;P<w.b.length;P++)h.b.push(P);for(var P=0;P<w.c1.length;P++)h.b.push(-1-P);for(var P=0;
P<w.K3.length;P++)h.b.push(-1e3-P)}else h.b=w.g.slice(0);h._q=q.R.tP(w,h.b,!0);q.R.bp(w,I,h.b,h._q,o,X,null,!0,i);
h.pf=q.R.tP(w,h.b,!0);return h};q.EV.prototype.$D=function(w,I){if(w.l6)I.nN=w.l6;if(w.$S)I.V7=JSON.parse(w.$S[1]);
if(w.Xy){q.EV.ly(I,Q.K.o9(w.nr));q.R.Tg(I,w.Xy.b,w.Xy.pf)}q.EV.yl(I,w)};q.EV.prototype.xg=function(w,I){if(w.a8D)I.nN=w.a8D;
if(w.$S)I.V7=JSON.parse(w.$S[0]);q.EV.VJ(I,w);if(w.rU)I.u.z.tt(w.rU);I.agP();if(w.Xy){var E=Q.K.o9(w.nr).clone();
E.ja();q.EV.ly(I,E);q.R.Tg(I,w.Xy.b,w.Xy._q)}};q.EV.ly=function(w,I){for(var P=0;P<w.b.length;P++){var E=w.b[P];
if(E.add.artb==null)continue;var X=Q.p.sy(E.Z9()).C;Q.p.F(X,I,X);var o=Q.p.uh(X);E.CZ(o)}};q.EV.As=function(w){var I=new dC,E=0,X=w.root.children.length;
for(var P=0;P<X;P++){var o=w.root.children[P].l;if(o.add.artb==null)continue;I=I.jB(o.Z9());E++}var i=new dC(0,0,w.q,w.w);
if(!I.qo()&&!i.ZQ(I))return I;return null};q.EV.iF=function(w){var I=q.EV.As(w);if(I)q.EV.JB(w,I,!0);
return I};q.EV.JB=function(w,I,E){var X=w.q,o=w.w,i=I.q,h=I.w,k=I.x==0&&I.y==0;if(k&&X==i&&o==h)return;
w.q=i;w.w=h;var x=[];for(var P=0;P<w.b.length;P++)x.push(P);if(!k)q.Q8.np(w,x,null,-I.x,-I.y);for(var P=0;
P<w.b.length;P++){w.b[P].kH(w)}w.agP();if(E){var j=w.u.z,v=w.u.T;j.x+=Math.round((I.x+(i-X)/2)*v);j.y+=Math.round((I.y+(h-o)/2)*v)}else w.u.z.eo(0,0);
if(w.n)w.n.rect.offset(-I.x,-I.y);var _=w.b5();for(var L=0;L<_[0].length;L++)if(_[1][L]==-1){var U=w.l2[L];
U[1]-=U[0]==0?I.x:I.y}for(var P=0;P<w.K3.length;P++)w.K3[P].rect.offset(-I.x,-I.y)};q.EV.prototype.NE=function(w,I,E,X,o){if(w.jt=="commit"){this.j5(E,o);
this.disable(E,I,null,X)}else if(w.jt=="cancel"){this.disable(E,I,null,X)}var i=null,h=new dC(0,0,E.q,E.w),k=this.xS.J5;
if(w.jt=="config"){this.xS=w.xS;k=this.xS.J5;if(E==null||!w.a7D)return;i=h;if(k.U8==1){var x=k.x/k.y;
if(i.q/x<i.w)i.w=Math.round(i.q/x);else i.q=Math.round(i.w*x)}if(k.U8==2){i.q=k.x;i.w=k.y}i.x=Math.round((E.q-i.q)/2);
i.y=Math.round((E.w-i.w)/2)}if(w.jt=="straighten"){alert("Draw a line in the image.");this.OK=!0}if(w.jt=="cropby"){if(E==null)return;
var j=w.anJ,i;if(j==0)i=E.root.eB(E,!0);if(j==1){if(E.g.length==0)alert("No layer is selected.");else{var v=E.root.qx(E.g[0]);
i=v.eB(E,!0)}}if(j==2){if(E.g.length==0)alert("No layer is selected.");else{i=Q.eE(E.sQ(),h,0);if(i.qo())i=h.clone()}}if(j==3){if(E.n!=null)i=E.n.rect;
else alert("There is no selection.")}if(j==4){i=new dC(0,0,E.q,E.w)}}if(i&&i.qo())i=null;if(i!=null){this.DE=this.iB(i,k.U8!=0);
this.DE.$h(E,o);this.Ve(I,W.E.Z,{d:W.t.LF,G:this.id,Fc:!0})}};q.EV.prototype.j5=function(w,I){var E=this.DE.PE(),X=Q.p.uh(E),o=this.anl(w,E),i=!1,h=this.xS.J5,k=this.xS.JB,x=h.x,j=h.y,L;
if(this.id==q.Eg&&h.U8==2&&o.A()!=x*j){o=new dC(o.x,o.y,x,j);i=!0}var v=Q.K.TZ(E,o);v=Q.K.ja(v);var _=Q.K.bS(v),U=Math.atan2(v[3],v[0]);
if(Math.abs(U)>1e-9||!_||i||k)L=this._I(w,I,!0,v,1,X);var n=new fL(this.name,this),a=new dC(0,0,w.q,w.w);
n.data={Xy:L,nr:v,rU:w.u.z.clone(),$S:q.EV.akz(w,o,a,!1)};q.EV.ar1(w,n.data,o);w.f6(n);this.$D(n.data,w);
this.track(q.EV.a8l([X.x,X.y,X.q,X.w],null,k))};q.EV.ar1=function(w,I,E){if(E==null)return;I.VT=new dC(0,0,w.q,w.w);
I.kR=E};q.EV.yl=function(w,I){if(I.kR==null)return;q.EV.JB(w,I.kR)};q.EV.VJ=function(w,I){if(I.kR==null)return;
var E=I.VT.clone();E.offset(-I.kR.x,-I.kR.y);q.EV.JB(w,E)};q.EV.prototype.anl=function(w,I){var E=Q.K.TZ(I),X=Q.K.bS(E),o=Q.K.o9(E),i=o.N9,h=o.Zt,k=Math.atan2(o.L,o.lV);
o.rotate(k);var x=new dC(i,h,o.lV,o.cA);if(!X){function j(b,P,N){var C=b[P]-b[N],Z=b[P+1]-b[N+1];return Math.sqrt(C*C+Z*Z)}var v=j(I,0,2),_=j(I,4,6),L=Math.max(v,_),U=j(I,2,4),n=j(I,6,0),a=Math.max(U,n),T=q.EV.a0M(I,w.q/2,w.w/2),g,D;
if(isNaN(T)||T==Infinity||T==-Infinity||Math.min(T,1/T)<.1)T=(v+_)/(U+n);if(L/a>T){g=L*1;D=g/T}else{D=a*1;
g=D*T}x.q=g;x.w=D}x.x=Math.round(x.x);x.y=Math.round(x.y);x.q=Math.round(x.q);x.w=Math.round(x.w);return x};
q.EV.a0M=function(w,I,E){var X=w[0]-I,o=w[1]-E,i=w[2]-I,h=w[3]-E,k=w[6]-I,x=w[7]-E,j=w[4]-I,v=w[5]-E,_=((o-v)*k-(X-j)*x+X*v-o*j)/((h-v)*k-(i-j)*x+i*v-h*j),L=((o-v)*i-(X-j)*h+X*v-o*j)/((x-v)*i-(k-j)*h+k*v-x*j),U=-((L*x-o)*(_*h-o)+(L*k-X)*(_*i-X))/((L-1)*(_-1));
function n(T){return T*T}var a=Math.sqrt((n(_-1)+n(_*h-o)/U+n(_*i-X)/U)/(n(L-1)+n(L*x-o)/U+n(L*k-X)/U));
if(_==1&&L==1)a=Math.sqrt((n(h-o)+n(i-X))/(n(x-o)+n(k-X)));return a};q.EV.prototype.disable=function(w,I,E,X){if(w==null)return;
if(this.DE)this.DE.clear(w);this.DE=null;this.Ve(I,W.E.Z,{d:W.t.LF,G:this.id,Fc:!1})};q.EV.prototype.Ve=function(w,I,E,X){var o=new e9(I,!0);
o.data=E;if(X)o.G=X;w.c(o)};q.a1K=function(){q.EV.call(this,[10,2],q.Eg,"tools/rcrop")};q.a1K.prototype=new q.EV;
q.abi=function(){q.EV.call(this,[10,39],q.ob,"tools/pcrop")};q.abi.prototype=new q.EV;q.Oi=function(){q.Og.call(this,[10,21],q.sU,"tools/dodge");
this.ld="dodge"};q.Oi.prototype=new q.Og;q.Oi.prototype.PX=function(w,I,E,X,o){this.ts(w,E,X,o,this.pb.expo/Math.PI);
if(this.Y0==null)return;this.$G(w)};q.Oi.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);if(this.Lz)this.WB(w,E,o);
if(this.Y0==null)return;if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.X7=function(){q.Og.call(this,[10,3],q.Kx,"tools/eraser");
this.ld="erase"};q.X7.prototype=new q.Og;q.X7.prototype.PX=function(w,I,E,X,o){this.ts(w,E,X,o,this.pb.flow);
if(this.Y0==null)return;this.$G(w)};q.X7.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);if(this.Lz)this.WB(w,E,o);
if(this.Y0==null)return;if(!o.WN)return;var i=this.pE(w,E,X,o);this.$G(w)};q.lD=function(){q.Og.call(this,[10,45],q.a5g,"tools/beraser");
this.ld="ierase"};q.lD.prototype=new q.Og;q.lD.prototype.PX=function(w,I,E,X,o){if(this._o(X,I,o))return;
this.ts(w,E,X,o,this.pb.flow);if(this.Y0==null)return;this.$G(w)};q.lD.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);
if(this.Lz)this.WB(w,E,o);if(this.Y0==null)return;if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.LR=function(){q.mc.call(this,[10,15],q.UE,"tools/rselect");
this.iQ="crosshair"};q.LR.prototype=new q.mc;q.LR.prototype._S=function(w,I,E,X){if(!X.WN||!this.v4)return;
var o=this.eB(w,E,!0);w.I.vC=Q.p.sy(o);w.WV=!0;q.an.xU(X,o,w,I)};q.LR.prototype.wz=function(w,I,E,X){w.I.vC=null;
w.I.E8=[];w.WV=!0;this.finish(w,I,E,X)};q.LR.prototype.getSelection=function(w,I,E,X){if(this.WJ.ZQ(this.QG)||!this.v4)return null;
var o=this.eB(w,E,!0);if(o.qo())return null;return q.mc.O6("Rctn",o,this.pb.anta)};q.Um=function(){q.mc.call(this,[10,4],q.a8h,"tools/eselect");
this.iQ="crosshair"};q.Um.prototype=new q.mc;q.Um.prototype._S=function(w,I,E,X){if(!X.WN||!this.v4)return;
var o=this.eB(w,E);w.I.vC=q.Um.aho(o);w.WV=!0;q.an.xU(X,o,w,I)};q.Um.prototype.wz=function(w,I,E,X){w.I.vC=null;
w.I.E8=[];w.WV=!0;this.finish(w,I,E,X)};q.Um.prototype.getSelection=function(w,I,E,X){if(this.WJ.ZQ(this.QG)||!this.v4)return null;
var o=this.eB(w,E);if(!o.XU(new dC(0,0,w.q,w.w)))return null;return q.mc.O6("Elps",o,this.pb.anta)};
q.Um.aho=function(w){var I=w.x,E=w.y,X=w.x+w.q,o=w.y+w.w,i=(I+X)/2,h=(E+o)/2,k=(I-X)/2,x=(E-o)/2,j=.5522848,v={C:[i,h-x],J:["M","C","C","C","C"]};
v.C.push(i+j*k,h-x,i+k,h-j*x,i+k,h);v.C.push(i+k,h+j*x,i+j*k,h+x,i,h+x);v.C.push(i-j*k,h+x,i-k,h+j*x,i-k,h);
v.C.push(i-k,h-j*x,i-j*k,h-x,i,h-x);return v};q.Nz=function(w){q.an.call(this,[10,5],w?q.RK:q.r4,"tools/eyedropper");
this.DG=null;this.er=0;this.TA=null;this.Tq=1;this.WK=2;this.a0P=!0;this.gQ=!1};q.Nz.prototype=new q.an;
q.Nz.prototype.J8=function(w){return w.WN};q.Nz.prototype.Q$=function(w,I,E,X,o){if(w.d=="pickhere")this.jg(E,I,o,null,w.am5);
if(w.d=="supertool")this.DG=w.G};q.Nz.prototype.PX=function(w,I,E,X,o){var i=this.DG;if(i){i.PX(w,I,E,X,o);
return}this.er=E.Ht;this.TA=o;var h=this.jg(w,null,E,X,o);this.HH(w,I,h,o)};q.Nz.prototype.L_=function(w,I,E,X,o){var i=this.DG;
if(i){i.L_(w,I,E,X,o);return}var h=this.TA;if(h){var k=o.x-h.x,x=o.y-h.y,j=1,v=new a5(h.x+k*j,h.y+x*j),_=this.jg(w,null,E,X,v);
this.HH(w,I,_,v,new a5(k*(1-j),x*(1-j)))}};q.Nz.prototype.HH=function(w,I,E,X,o){var i=this.a0P,h=this.gQ,j=12,v=11;
if(w.u.T>4)h=!1;if(!h&&!i)return;if(o==null)o=new a5(0,0);var k=new dC(0,0,w.q,w.w),x=w.sQ(),_=(j*2+1)*v,L=new a5(_/2,_/2),U=new dC(0,0,_,_),n=Q.$(U.A()*4),a=w.u.sP(X.x,X.y),T=Math.floor(a.x),g=Math.floor(a.y),D=new am;
D.scale(1/v,1/v);D.translate(T-j,g-j);if(h)Q.scale.HK(x,k,D,n,U);var b=(j-3.4)*v,N=(j-1.7)*v,C=j*v;for(var Z=0;
Z<_;Z++)for(var S=0;S<_;S++){var u=a5.GZ(new a5(S,Z),L);if(u>b){if(i){var p=Math.max(0,b-u+1),f=(Z*_+S)*4,d=n[f+3]<<24|n[f]<<16|n[f+1]<<8|n[f+2],l=255<<24|(Z<C+v*.5?E:this.er);
if(u>N){p=Math.max(0,N-u+1);d=l;l=4286611584}else if(!h){d=l&16777215}n[f+0]=(1-p)*(l>>>16&255)+p*(d>>>16&255);
n[f+1]=(1-p)*(l>>>8&255)+p*(d>>>8&255);n[f+2]=(1-p)*(l>>>0&255)+p*(d>>>0&255);n[f+3]=(1-p)*(l>>>24&255)+p*(d>>>24&255)}if(u>C){n[(Z*_+S)*4+3]=Math.max(0,255*(C-u+1))}}}function A(P){var z=P<<2;
n[z]=0;n[z+1]=0;n[z+2]=0;n[z+3]=255}function B(P){var z=P<<2;n[z]=255;n[z+1]=255;n[z+2]=255;n[z+3]=255}var e=this.Tq*v+2,m=_-e>>>1,$=m+e-1;
if(h&&e<_)for(var P=0;P<e;P++){var V=m*_+m+P,H=$*_+m+P,F=(m+P)*_+m,G=(m+P)*_+$;A(V);A(H);A(F);A(G);if(P!=0&&P!=e-1){B(V+_);
B(H-_);B(F+1);B(G-1)}}if(!h)for(var P=-9;P<=9;P++){if(-3<P&&P<3)continue;var J=_>>>1,S=J*_+J+P,Z=(J+P)*_+J;
B(S-_);A(S);B(S+_);B(Z-1);A(Z);B(Z+1)}var c=q.an.ev(0,0,["#"+Q.mv(E),"RGB "+(E>>>16&255)+","+(E>>>8&255)+","+(E>>>0&255)]),k=c[1];
k.y=0;k.x=_-k.q>>>1;Q.D6(c[0],k,n,U);var r={L9:n,_b:U,gH:new a5(L.x+o.x,L.y+o.y)},s=new e9(W.E.Z,!0);
s.data={d:W.t.JN,sL:r};I.c(s)};q.Nz.prototype.dj=function(w,I,E,X,o,i){this.jg(w,I,E,X,o);var h=this.DG;
if(h){h.dj(w,I,E,X,o);return}if(this.TA){this.TA=null;if(i)this.jg(w,I,E,X,o,this.er);var k=new e9(W.E.Z,!0);
k.data={d:W.t.JN,sL:"default"};I.c(k)}};q.Nz.prototype.jg=function(w,I,E,X,o,i){if(i==null)i=q.Nz.rR(w,o,this.Tq,this.WK);
var h=new e9(W.E.Z);h.data={d:W.t.e1,GT:ik.xa,ns:X&&X.Y(aW.$i)?1:0,k:i};if(I)I.c(h);return i};q.Nz.rR=function(w,I,E,X){if(X==null)X=2;
var o=w.u.sP(I.x,I.y),i,h,k=w.g.length==1&&w.b[w.g[0]].yA>0,x=w.Y1.length!=0,N=0,C=0,Z=0;if(k||x){var j;
if(x)j=w.K3[w.Y1[0]];else{var v=w.b[w.g[0]];j=v.yA==1?v.pi():v.as0()}h=j.eB();if(!h.sF(o))return j.color==0?0:16777215;
i=Q.$(h.A()*4);i.fill(255);var _=j.R4();Q.SU(_,i)}else if(X==0&&w.g.length!=0){var v=w.b[w.g[0]];i=v.buffer;
h=v.rect}else{i=X==2?w.sQ():w.sQ(w.g[0]);h=new dC(0,0,w.q,w.w)}var L=Math.floor(o.x)-h.x,U=Math.floor(o.y)-h.y,n=(E-1)/2,a=Math.max(0,L-n),T=Math.max(0,U-n),g=Math.min(h.q,L+n+1),D=Math.min(h.w,U+n+1),b=(g-a)*(D-T);
for(var L=a;L<g;L++)for(var U=T;U<D;U++){var P=4*(U*h.q+L);N+=i[P];C+=i[P+1];Z+=i[P+2]}N=Math.round(N/b);
C=Math.round(C/b);Z=Math.round(Z/b);return N<<16|C<<8|Z};q.Nz.prototype.NE=function(w){var I=w.pb;this.Tq=[1,3,5,11,31][I[0]];
this.WK=I[1];this.a0P=I[2];this.gQ=I[3]};q.O5=function(){q.an.call(this,[10,6],q.ars,"tools/gradient");
this.pb={N:JSON.parse(hL.My.axk).v,C$:"Lnr",kW:!1,a4b:!1,a1h:"norm",j9:1};this.PA=!1;this.p7=null};q.O5.prototype=new q.an;
q.O5.prototype.enable=function(w,I,E,X){var o=new e9(W.E.Z,!0);o.data={d:W.t.JN,sL:"default"};I.c(o)};
q.O5.prototype.NE=function(w){this.pb=w.GT};q.O5.prototype.PX=function(w,I,E,X,o){if(!w.p8())return;
this.p7=w.u.sP(o.x,o.y);this.p7=q.Q8.Bi(w,this.p7,E);this.PA=!0};q.O5.prototype.L_=function(w,I,E,X,o){if(!this.PA)return;
var i=w.u.sP(o.x,o.y);i=q.Q8.Bi(w,i,E);if(X.Y(aW.mG))i=q.O5.w1(this.p7,i);w.I.vC={C:[this.p7.x,this.p7.y,i.x,i.y],J:["M","L"]};
w.I.jS=[this.p7.x,this.p7.y,i.x,i.y];w.WV=!0};q.O5.prototype.dj=function(w,I,E,X,o){if(!this.PA)return;
var i=w.b[w.g[0]],h=w.u.sP(o.x,o.y);h=q.Q8.Bi(w,h,E);if(X.Y(aW.mG))h=q.O5.w1(this.p7,h);var k=h.MT(this.p7),x=a5.RW(this.p7,h,.5),j=Math.atan2(k.y,k.x),v=a5.GZ(this.p7,h),_=Math.sin(j),L=Math.cos(j);
if(v>2){var U;if(w.n)U=w.n.rect;else U=new dC(0,0,w.q,w.w);var n=Q.$(U.A()*4),a=this.pb,T=a.C$;if(T!="Lnr"){v*=2;
x=this.p7}Q.N.gV(a.N,n,U,[L*1/v,_*1/v,-_*1/v,L*1/v],x.x,x.y,a.kW,hL.N.types.indexOf(T),E.Ht,E.Mw,null,a.a4b);
var g=Math.round(a.j9*256),D=n.length;if(g!=256)for(var P=0;P<D;P+=4)n[P+3]=n[P+3]*g>>>8;var b=new e9(W.E.s);
b.G=q.Kx;b.data={d:"fillBMP",aC:n,_h:a.a1h,Wj:this.name};I.c(b)}w.I.vC=null;w.I.jS=[];w.WV=!0;this.PA=!1};
q.O5.w1=function(w,I){if(w.ZQ(I))return w;var E=I.x-w.x,X=I.y-w.y,o=Math.abs(E),i=Math.abs(X);if(o>i)i=o/2>i?0:o;
if(i>o)o=i/2>o?0:i;o=E>0?o:-o;i=X>0?i:-i;var h=Math.sqrt(E*E+X*X)/Math.sqrt(o*o+i*i);return new a5(w.x+o*h,w.y+i*h)};
q.O5.e6=function(w,I,E,X,o,i,h){if(h==null)h=document.createElement("canvas");var k=h.getContext("2d");
h.width=I;h.height=E;var x=new dC(0,0,I,E),j=Q.$(I*E*4);Q.VI(j,I,E,4);var v=Math.sin(X),_=Math.cos(X),L=Q.$(I*E*4);
Q.N.gV(w,L,x,[_*1/I,v*1/I,-v*1/E,_*1/E],I/2,E/2,!1,0,o,i);Q.e.gF("norm",L,x,j,x,x,1);var U=k.getImageData(0,0,I,E);
Q.QM(j,U.data);k.putImageData(U,0,0);return h.toDataURL()};q.O5.awH=function(w,I,E){var X=JSON.parse(JSON.stringify(w));
if(X.Clrs)for(var P=0;P<X.Clrs.v.length;P++){var o=X.Clrs.v[P].v,i=o.Type.v.Clry;if(i=="UsrS")continue;
var h=i=="FrgC"?I:E;o.Type.v.Clry="UsrS";o.Clr={t:"Objc",v:Q.N.Ex({o:h>>16&255,P:h>>8&255,L:h&255})}}return X};
q.yF=function(){q.an.call(this,[10,7],q.aB,"tools/hand");this.TA=new a5(0,0);this.Fp=null;this.Ta=0};
q.yF.prototype=new q.an;q.yF.prototype.Q$=function(w,I,E,X,o){var i=w.d;if(i=="setcls"){E.u.wL=w.wL;
E.WV=!0;E.oP=!0}if(i=="scroll"&&!X.Y(aW.$i)){if(X.Y(aW.iu))q.yF.RE(E,E.u.z.x-w.Dd.y,E.u.z.y-w.Dd.x);
else q.yF.RE(E,E.u.z.x-w.Dd.x,E.u.z.y-w.Dd.y)}};q.yF.prototype.enable=function(w,I,E,X){this.Fp=null;
var o=new e9(W.E.Z,!0);o.data={d:W.t.JN,sL:"grab"};I.c(o);if(w&&Date.now()-this.Ta<300){o.type=W.E.s;
o.G=q.dc;o.data={d:"adapt",k:"fitscr"};I.c(o)}this.Ta=Date.now()};q.yF.prototype.PX=function(w,I,E,X,o){this.Fp=w.u.z.clone();
this.TA.eo(o.x,o.y)};q.yF.prototype.L_=function(w,I,E,X,o){if(!o.WN)return;if(this.Fp==null)this.PX(w,I,E,X,o);
q.yF.RE(w,this.Fp.x+(o.x-this.TA.x),this.Fp.y+(o.y-this.TA.y))};q.yF.prototype.dj=function(w,I,E,X,o){this.Fp=null};
q.yF.RE=function(w,I,E){var X=w.u.T,o=w.u.mz,i=o.q,h=o.w,k=w.q*X,x=w.w*X,j=k<i&&x<h,v=i/2+k/2-64,_=h/2+x/2-64;
w.u.z.eo(Math.max(-v,Math.min(v,I)),Math.max(-_,Math.min(_,E)));w.oP=!0};q.pM=function(){q.an.call(this,[10,47],q.QV,"tools/rview");
this.TA=new a5(0,0);this.AW=null;this.Gs=null;this.Ta=0};q.pM.prototype=new q.an;q.pM.prototype.enable=function(w,I,E,X){this.Fp=null;
var o=new e9(W.E.Z,!0);o.data={d:W.t.JN,sL:"grab"};I.c(o);if(w&&Date.now()-this.Ta<300&&w.u.yn!=0){w.u.yn=0;
w.WV=!0}this.Ta=Date.now();if(w)this.eK(w,I)};q.pM.prototype.disable=function(w,I,E,X,o){if(w)this.eK(w,I)};
q.pM.prototype.TC=function(w,I,E,X){if(w)this.eK(w,I)};q.pM.prototype.PX=function(w,I,E,X,o){this.TA.eo(o.x,o.y);
var i=w.u;this.AW=i.sP(i.mz.q/2,i.mz.w/2);this.Gs=i.rz();var h=i.sP(i.mz.q/2,i.mz.w/2),k=Math.min(i.mz.q,i.mz.w)*.35/i.T,x=k*.2,j=h.x,v=h.y;
w.I.vC={J:"M L L L L L".split(" "),C:[j,v,j,v-k,j+x,v,j,v+k,j-x,v,j,v-k]};w.WV=!0};q.pM.prototype.a6I=function(w){var I=w.u,E=I.sP(I.mz.q/2,I.mz.w/2);
w.I.vC={J:["M","L"],C:[E.x,E.y,E.x,E.y-200]}};q.pM.prototype.L_=function(w,I,E,X,o){if(!o.WN)return;
var i=w.u,h=this.AW,k=this.TA,x=new a5(i.mz.q/2,i.mz.w/2),j=Math.atan2(o.y-x.y,o.x-x.x),v=Math.atan2(k.y-x.y,k.x-x.x),_=Math.atan2(this.Gs.L,this.Gs.lV),L=j-v,U=Math.PI/4;
if(X.Y(aW.mG)){L=_+U*Math.round((L-_)/U)}this.ab9(w,I,this.Gs.clone(),h,L)};q.pM.prototype.dj=function(w,I,E,X,o){w.I.vC=null;
w.WV=!0};q.pM.prototype.NE=function(w,I,E,X){this.ab9(E,I,null,null,w.ll-E.u.yn);E.u.yn=w.ll};q.pM.prototype.ab9=function(w,I,E,X,o){var i=w.u;
if(E==null)E=i.rz();if(X==null)X=i.sP(i.mz.q/2,i.mz.w/2);E.translate(-X.x,-X.y);E.rotate(o);E.translate(X.x,X.y);
i.au$(E);if(w.q*i.T<i.mz.q&&w.w*i.T<i.mz.w)i.z.eo(0,0);w.WV=!0;this.eK(w,I)};q.pM.prototype.eK=function(w,I){var E=new e9(W.E.Z,!0);
E.data={d:W.t.LF,G:this.id,ll:w.u.yn};I.c(E)};q.$d=function(){q.fP.call(this,[10,25],q.l$,"tools/hbrush")};
q.$d.prototype=new q.fP("");q.$d.prototype.dj=function(w,I,E,X,o){if(this.Y0==null)return;this.AL(w,"heal",this.Y0.d_(),this.Y0.eB(),this.Y0.Iz());
this.M(w,this.Y0.Iz());q.Og.prototype.dj.call(this,w,I,E,X,o);if(!this.pb.algnd)this.z=null};q.qZ=function(w){q.an.call(this,w?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],w?q.c3:q.Zn,w?"tools/vtype":"tools/htype");
this.kJ=[];this.Ff=null;this.caller=null;this.zo=1;this.Uc=null;this.a8c=0;this.ZY=0;this.awx=null;this.iK=null;
this.lC=null;this.FK=null;this.PC=null;this.Qw=null;this.afq=null;this.HN=null;this.DE=null;this.W_=null;
this.ayh=null;this.Kf=!1;this.ZG=!1;this.bL=!1;this.kI=null;this.YK=null;this.aj2=null;this.Ru=!1;this.Rl=!1;
this.i8=-1;this.h1=-1;this.JC=document.createElement("textarea");this.JC.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.JC.addEventListener("input",this.dG.bind(this),!1);this.JC.addEventListener("keydown",this.a2c.bind(this),!1);
this.JC.addEventListener("keyup",this.a0X.bind(this),!1)};q.qZ.prototype=new q.an;q.qZ.prototype.J8=function(w){return w.WN};
q.qZ.prototype.kY=function(w,I,E,X){if(this.lC!=null||this.id==q.c3)return;this.caller=I;var o=this.a9R(w);
if(o.length!=0){var i=null,h=[],k=[];for(var P=0;P<o.length;P++){var x=w.b[o[P]],j=x.add.TySh,v=0,_=bQ.Of(j.Da).length-2,L=bQ.wg(j.Da,v,_);
bQ.uN(L,q.R.dA(j.F));if(L.hd.Font!=null)L.hd.Font=L.B0[L.hd.Font].Name;i=L.B0;h.push(L.hd);k.push(L.wo)}var L={B0:i,hd:bQ.og(h),wo:bQ.og(k)};
if(L.hd.Font!=null)bQ.Ab(L,L.hd.Font);this.avK(I,L,j)}};q.qZ.prototype.a9R=function(w){var I=[];for(var P=0;
P<w.g.length;P++)if(w.b[w.g[P]]&&w.b[w.g[P]].add.TySh)I.push(w.g[P]);return I};q.qZ.prototype.Q$=function(w,I,E,X,o){var i=w.d=="insertGlyph";
if((i||w.d=="insertText")&&this.lC){var h=i?String.fromCharCode(65533):w.k,k=this.JC,x=k.value,j=k.selectionStart,v=k.selectionEnd;
k.value=x.slice(0,j)+h+x.slice(v);k.selectionStart=k.selectionEnd=j+h.length;this.dG(null,i?w.k:null);
k.focus()}if(w.d=="updateStyles"){if(this.lC==null){var _=this.a9R(E),L=!1;if(_.length!=0){this.ew(E,I,o,_);
for(var P=0;P<_.length;P++){var U=E.b[_[P]],n=U.add.TySh;bQ.hw(n,this.zo);this.lC=U;var a=bQ.Of(n.Da);
this.i8=0;this.h1=a.length-1;bQ.JF(n.Da,this.i8,this.h1,this.i5(o,n));var T=this.Kc(E,o);if(T==!1)L=!0}if(L){this.Ru=!0;
return}this.Sj(E,I)}return}this.Oj(o)}if(w.d.startsWith("warp")){var g=this.Rl;if(w.d=="warp"||w.d=="warpCancel"){if(this.lC==null)return;
if(w.d=="warp")this.lC.add.TySh.gl=w.AG;else this.lC.add.TySh.gl=this.afq;this.Kc(E,o);if(!g)this.E6(E)}if(w.d!="warp")this.JC.focus();
if((w.d=="warpConfirm"||w.d=="warpCancel")&&g){this.Rl=!1;if(w.d=="warpConfirm")this.Sj(E,I);else this.x4(E,I)}}if(w.d=="editCurr"){if(o.OZ!=q.Zn){this.Uc=o.OZ;
var D=new e9(W.E.Z,!0);D.data={d:W.t.en,G:q.Zn};I.c(D)}if(this.lC!=null)this.disable(E,I,o,X);this.Ff=o;
this.caller=I;this.ew(E,I,o,[w.PH]);var a=bQ.Of(this.lC.add.TySh.Da);this.i8=0;this.h1=a.length-1;this.E6(E);
this.cL();this.JC.focus()}if(w.d=="switchPntPrgr"){if(this.lC)return;var U=E.b[E.g[0]],n=U.add.TySh,b=n.F.dA(),N=JSON.parse(JSON.stringify(n.Da)),C=bQ.rI(N),Z=C==1?bQ.Ni(N):[0,0,Math.round(U.rect.q*1.05/b),Math.round(U.rect.w*1.25/b)],S=bQ.wg(N,0,0),u=S.B0[S.hd.Font].Name,p=o.vj.ZW(u),f=[0,Z[2],Z[2]/2][S.wo.Justification%3],d=p?g9.rL(p,u,S.hd):S.hd.FontSize*.8;
bQ.Kv(N,1-C);if(C==0){f=-f;d=-d;bQ.Nq(N,[0,0,Z[2],Z[3]])}var l=new am(1,0,0,1,f,d);l.concat(n.F);this.Q$({Kr:E.g[0],d:"newED",Dz:N,F:l,aja:[16,3,C==1?0:1]},I,E,X,o)}if(w.d=="newED"){var U=E.b[w.Kr],n=U.add.TySh,A=this.Oy(E,[w.Kr]);
n.Da=w.Dz;if(w.F)n.F=w.F;if(fv.HR(n,o.vj,I)){var B=new g9(n.Da,o.vj),e=fv.dn(B,n);U.rect=e._b;U.buffer=e.Fr;
U.M();E.M()}else E.NZ=!0;var m=new fL(w.aja?w.aja:this.name,this);m.data={ke:A,IH:this.Oy(E,[w.Kr])};
E.f6(m)}if(w.d=="fromAction"){var $=w.Le.Zc.Usng.v,V=$.TxtC.v,H=[];for(var P=0;P<2;P++){var F=V[P==0?"Hrzn":"Vrtc"].v,h=F.val;
if(F.type=="#Prc")h=(P==0?E.q:E.w)*(h/100);H[P]=h}this.YD(E,I,o,X,E.u.o_(H[0],H[1]));var U=E.b[E.g[0]],n=U.add.TySh,G=n.Da,x=bQ.Of(G);
bQ.tb(G,0,x.length-1);bQ.fZ(G,0,$.Txt.v.replace(/\r/g,"\n"));x=bQ.Of(G);for(var C=0;C<2;C++){var J=$[C==0?"Txtt":"paragraphStyleRange"].v;
for(var P=0;P<J.length;P++){var c=J[P].v,j=c.From.v,v=Math.min(c.T.v-1,x.length-1);c=c[C==0?"TxtS":"paragraphStyle"].v;
var r=bQ.wg(G,j,v),s=C==0?r.hd:r.wo;for(var z in c){var Y=c[z].v;if(z=="Sz")s.FontSize=Math.round(Y.val);
else if(z=="fontPostScriptName")bQ.Ab(r,Y);else if(z=="Algn")s.Justification={Left:1,Cntr:2}[Y.Alg];
else if(z=="leading")s.Leading=c[z].v.val;else if(z=="baselineShift")s.BaselineShift=c[z].v.val;else if(z=="autoLeading")s.AutoLeading=c[z].v;
else if(z=="syntheticBold")s.FauxBold=c[z].v;else if(z=="syntheticItalic")s.FauxItalic=c[z].v;else if(z=="Trck")s.Tracking=c[z].v;
else if(z=="verticalScale")s.VerticalScale=c[z].v/100;else if(z=="horizontalScale")s.HorizontalScale=c[z].v/100;
else if(z=="Clr")s.FillColor={Type:1,Values:[1,Y.Rd.v/255,Y.Grn.v/255,Y.Bl.v/255]}}bQ.JF(G,j,v,r)}}var B=new g9(n.Da,o.vj),e=fv.dn(B,n);
U.rect=e._b;U.buffer=e.Fr;U.M();E.M();this.Sj(E,I)}};q.qZ.prototype.Oj=function(w){var I=Math.min(this.i8,this.h1),E=Math.max(this.i8,this.h1),X=this.lC.add.TySh;
bQ.hw(X,this.zo);var o=this.i5(w,X);bQ.JF(X.Da,I,E-1,o);var i=this.caller.QN(),h=this.Kc(i,w);if(h)this.E6(i);
if(document.activeElement.tagName.toLowerCase()!="input")this.JC.focus()};q.qZ.prototype.Uo=function(w){return this.kJ.indexOf(w)!=-1};
q.qZ.prototype.enable=function(w,I,E,X){var o=this.JC;I.m.appendChild(o);this.HN="default";this.HH(I)};
q.qZ.prototype.wN=function(){return this.lC!=null};q.qZ.IO=function(w,I){for(var P=w.b.length-1;P>=0;
P--){var E=w.b[P];if(E.add.TySh&&E.rect.sF(I)&&w.am2(P)){var X=E.B2(31);return X?-2:P}}return-1};q.qZ.prototype.PX=function(w,I,E,X,o){this.Ff=E;
this.caller=I;var i=w.u.sP(o.x,o.y),h=this.lC==null;if(h){var k=q.qZ.IO(w,i);if(k==-2){alert(df.get([6,57,0]));
return}if(k>=0&&!X.Y(aW.mG)){if(!fv.HR(w.b[k].add.TySh,E.vj,I)){alert("Fonts not loaded yet");return}this.ew(w,I,E,[k])}else{this.bL=!0;
this.kI=o;return}}var x=h?-1:bQ.rI(this.lC.add.TySh.Da),j=this.W_?this.W_:this.DE;if(j&&j.PX(w,E,X,i,null,null,o)&&Q.AG.JJ(this.lC.add.TySh.gl)||!h&&Q.p.MM(i,this.lC.rect)>20/w.u.T&&(x==0||x==1)){this.Kf=!0;
this.YK=i;this.aj2=this.lC.add.TySh.F.clone();if(this.i8==-1&&this.h1==-1)this.i8=this.h1=this.vX(i)}else{if(this.PC==null){alert("Fonts not loaded yet");
return}this.ZG=!0;this.i8=this.h1=this.vX(i);var v=Date.now();if(v-this.a8c>300)this.ZY=0;this.ZY++;
this.a8c=v;if(this.ZY==2)this.a4M();if(this.ZY==3)this.axy();if(this.ZY>1){this.ZG=!1}}this.cL();this.E6(w)};
q.qZ.prototype.ew=function(w,I,E,X){var o=w.b[X[0]];this.lC=o;this.Ve(I,W.E.Z,{d:W.t.LF,G:this.id,jt:"showactive"});
this.FK=X;w.g=X.slice(0);w.xm();w._G=!0;this.Qw=this.Oy(w,X);this.Qh(o.add.TySh);this.Kc(w,E)};q.qZ.prototype.Qh=function(w){if(bQ.rI(w.Da)!=1)return;
var I=bQ.Ni(w.Da);I=new dC(0,0,I[2]-I[0],I[3]-I[1]);var E=[I.x,I.y,I.x+I.q,I.y,I.x+I.q,I.y+I.w,I.x,I.y+I.w];
Q.p.F(E,w.F,E);this.DE=new gc(E,!1,!1,!1,!0)};q.qZ.prototype.a4M=function(){var w=bQ.Of(this.lC.add.TySh.Da);
this.i8=this.abf(w,this.i8);this.h1=this.aeT(w,this.i8)};q.qZ.prototype.abf=function(w,I){var E=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",X=[];
for(var P=0;P<E.length;P++)X.push(E.charAt(P));var o=X.indexOf(w[I])==-1?!0:!1;for(var P=I-1;P>=0;P--)if(X.indexOf(w.charAt(P))!=-1==o)return P+1;
return 0};q.qZ.prototype.aeT=function(w,I){var E=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",X=[];for(var P=0;
P<E.length;P++)X.push(E.charAt(P));var o=X.indexOf(w[I])==-1?!0:!1;for(var P=I+1;P<w.length;P++)if(X.indexOf(w.charAt(P))!=-1==o)return P;
return w.length-1};q.qZ.prototype.axy=function(){var w=this.PC.ad2(this.i8);this.i8=w[0];this.h1=w[1]};
q.qZ.prototype.HH=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.JN,sL:this.HN};w.c(I)};q.qZ.prototype.L_=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y),h=this.lC;
if(!o.WN){var k="default",x=this.DE,j=this.W_?this.W_:x;if(j&&Q.AG.JJ(h.add.TySh.gl)){var v=j.zn(i,w.u.T,null,o);
if(v)k=v;else if(j==x&&x.i0(i))k="text"}else if(h&&Q.p.MM(i,h.rect)>20/w.u.T)k="move";else if(q.qZ.IO(w,i)>=0)k="text";
if(k!=this.HN){this.HN=k;this.HH(I)}}var _=this.kI;if(this.bL&&Math.min(o.x-_.x,o.y-_.y)>4/w.u.T){this.bL=!1;
this.YD(w,I,E,X,o);h=this.lC;this.Kf=!0;this.DE=new gc(null,!1,!1,!1,!0);var L=w.u.sP(this.kI.x,this.kI.y);
L.x=Math.round(L.x);L.y=Math.round(L.y);this.DE.PX(w,E,X,L,null,null,o,w.u.yn)}if(this.Kf){var U=h.add.TySh;
if(this.W_){this.W_.L_(w,E,X,i);var n=Q.K.o9(Q.K.TZ(this.W_.PE(),this.ayh));U.F=n;this.Kc(w,E);bQ.ua(U)}else if(this.DE){this.DE.L_(w,E,X,i);
var a=U.F.clone(),T=Math.atan2(a.L,a.lV);a.rotate(T);var n=Q.K.o9(Q.K.TZ(this.DE.PE())),g=Math.atan2(n.L,n.lV);
n.rotate(g);if(!isNaN(n.lV)&&n.lV*n.cA-n.L*n.I5!=0){var D=new dC(0,0,n.lV/a.lV,n.cA/a.cA),b=Math.round(D.q),N=Math.round(D.w),C=U.Da.Curve;
if(C){var Z=bQ.Ni(U.Da),S=new am(b/Z[2],0,0,N/Z[3],0,0);Q.p.F(C.Points,S,C.Points);bQ.ua(U)}bQ.Nq(U.Da,[0,0,b,N]);
U.F=Q.K.o9(Q.K.TZ(this.DE.PE(),D));this.Kc(w,E);bQ.ua(U)}}else{var u=i.x-this.YK.x,p=i.y-this.YK.y;U.F=this.aj2.clone();
var f=new a5(U.F.N9+u,U.F.Zt+p);f=q.Q8.Bi(w,f,E);U.F.N9=f.x;U.F.Zt=f.y;this.Kc(w,E)}}if(this.ZG)this.h1=this.vX(i);
if(this.Kf||this.ZG)this.E6(w)};q.qZ.prototype.YD=function(w,I,E,X,o){var i=w.cm(),h=i[0],k=i[1],x=w.XY();
x.add.lnsr="rend";var j=w.b.slice(0);x.G_("Text layer "+j.length);this.lC=x;var v=w.g.length==0?w.b.length-1:w.g[w.g.length-1],_=v+1;
if(j[v].add.lsct==gs.Y_)_--;this.Qw={lq:j.slice(0),KC:w.g.slice(0)};j.splice(_,0,x);w.g=[_];this.i8=this.h1=0;
w.DO(j);this.Qw.gz=j.slice(0);this.Qw.bo=w.g.slice(0);this.Ve(I,W.E.Z,{d:W.t.LF,G:this.id,jt:"showactive"});
var L=w.u.sP(o.x,o.y),U=E.j8;console.log(U);if(this.id==q.c3){U=JSON.parse(JSON.stringify(U));U.hd.BaselineDirection=1}x.add.TySh=bQ.za(L.x,L.y,U,w.u.yn);
var n=x.add.TySh,a=n.Da;if(this.id==q.c3)a._LineOrientation=2;bQ.hw(n,this.zo);if(o.WN)bQ.Kv(a,1);else{bQ.Kv(a,0);
var T=h[k.pop()],g=T?T.add.vmsk:null;if(g&&!X.Y(aW.mG)){g=g.clone();var D=g.j,N,C;for(var P=0;P<D.length;
P++)if(D[P].KP!=null)D[P].KP=0;var b=5/w.u.T;N=Q.O.Mj(g.j,L,!0,b);if(N.qI==-1)N=Q.O.Mj(g.j,L);if(N.qI!=-1){bQ.Kv(a,1);
var Z=Q.O.ny(D,N.qI),S=Q.O.tQ(D,N.qI)-1;D=g.j=D.slice(0,2).concat(D.slice(Z,Z+S+1));g.g=[];n.add={vmsk:g,vogk:K.QQ(D)};
a.Curve={};bQ.Zd(n);if(N.c5!=null){var u=g9.eW(a.Curve);Q.p.F(u[0],n.F,u[0]);var p=Q.p.Z1(u[0],L.x,L.y),f=E.j8.wo.Justification;
if(f==2||f==5){var d=(u[2][p]+u[3]*.5)%u[3];p=g9.T2(d,u[2])}var l=u[1][p];l=l%S;g.A8=[l,l];bQ.Zd(n)}else this.Qh(n)}}}return x};
q.qZ.prototype.dj=function(w,I,E,X,o,i){if(i){this.bL=!1;return}if(this.lC==null&&!this.bL)return;var h=w.u.sP(o.x,o.y),k=this.bL;
if(this.bL){this.bL=!1;this.YD(w,I,E,X,o);this.ZG=!0}if(this.Kf||this.ZG){this.E6(w);this.cL();if(k)this.Oj(E)}if(this.Kf&&this.DE)this.DE.dj(w,E,X,h);
this.Kf=this.ZG=!1;this.JC.focus()};q.qZ.prototype.cL=function(){var w=this.lC.add.TySh,I=Math.min(this.i8,this.h1),E=Math.max(this.i8,this.h1),X,o;
if(I==E){var i=bQ.Of(w.Da);if(I==0||i.charAt(I-1)=="\n")X=o=I;else X=o=I-1}else{X=I;o=E-1}var h=bQ.wg(w.Da,X,o);
bQ.uN(h,q.R.dA(w.F));this.avK(this.caller,h,w)};q.qZ.prototype.avK=function(w,I,E){this.Ve(w,W.E.Z,{d:W.t.e1,GT:ik.fr,j8:I});
var X=this.zo=bQ.Z7(E);this.Ve(this.caller,W.E.Z,{d:W.t.LF,G:this.id,jt:"changeAA",pW:X})};q.qZ.prototype.aht=function(){var w=this.lC;
if(w&&!this.Kf&&this.W_!=null){var I=this.caller.QN();this.W_.dj(I,this.Ff,null,null);this.W_=null;this.Qh(w.add.TySh);
this.E6(I)}};q.qZ.prototype.disable=function(w,I,E,X){var o=this.lC;this.Sj(w,I)};q.qZ.prototype.NE=function(w,I,E,X,o){if(this.Rl)return;
if(w.jt=="commit")this.Sj(E,I);if(w.jt=="cancel")this.x4(E,I);if(w.jt=="changeAA"){this.zo=w.pW;if(E!=null)this.Q$({d:"updateStyles"},I,E,X,o)}if(w.jt=="showwarp"){if(E==null)return;
if(this.lC==null){var i=E.b[E.g[0]],h=i.add.TySh;if(h==null)return;this.ew(E,I,o,[E.g[0]]);this.JC.focus();
this.Rl=!0}this.afq=this.lC.add.TySh.gl;var k=new e9(W.E.Z,!0);k.data={d:W.t.GV,ei:"textwarp"};I.c(k)}};
q.qZ.prototype.eU=function(w,I){if(I!=ik.HV)return;if(this.Ru){this.Ru=!1;var E=this.caller.QN(),X=this.FK;
for(var P=0;P<X.length;P++){this.lC=E.b[X[P]];this.Kc(E,w)}this.Sj(E,this.caller);return}if(this.lC)this.Oj(w)};
q.qZ.prototype.i5=function(w,I){var E=JSON.parse(JSON.stringify(w.j8));bQ.uN(E,1/q.R.dA(I.F));return E};
q.qZ.prototype.$D=function(w,I){if(w.ke!=null)this.Kw(I,w.IH);else this.ak3(I,w.gz,w.bo)};q.qZ.prototype.xg=function(w,I){if(w.ke!=null)this.Kw(I,w.ke);
else this.ak3(I,w.lq,w.KC)};q.qZ.prototype.Kw=function(w,I){for(var P=0;P<I.length;P++){var E=I[P],X=E.Kr,o=w.b[X];
o.buffer=E.T1;o.rect=E._b.clone();o.M();var i=o.add.TySh;i.gl=E.AG;i.Wc=E.Wc.clone();i.F=E.F.clone();
i.Da=JSON.parse(JSON.stringify(E.Da));o.vM()}w.M()};q.qZ.prototype.Oy=function(w,I){var E=[];for(var P=0;
P<I.length;P++){var X=I[P],o=w.b[X],i=o.add.TySh;E.push({Kr:X,F:i.F.clone(),AG:JSON.parse(JSON.stringify(i.gl)),Wc:i.Wc.clone(),Da:JSON.parse(JSON.stringify(i.Da)),T1:o.buffer.slice(0),_b:o.rect.clone()})}return E};
q.qZ.prototype.ak3=function(w,I,E){w.g=E;w.DO(I);w.M();w.cW=!0};q.qZ.prototype.Kc=function(w,I,E){if(E==null)E=!1;
var X=this.lC.add.TySh;if(!fv.HR(X,I.vj,this.caller))return!1;this.PC=new g9(X.Da,I.vj);if(!E){var o=bQ.Of(X.Da);
this.JC.value=o.slice(0,o.length-1)}var i=fv.dn(this.PC,X);if(Q.AG.JJ(X.gl))X.Wc=new dC;else{if(bQ.rI(X.Da)==1){var h=bQ.Ni(X.Da),eS=i.Wc.y;
X.Wc=new dC(0,eS,h[2]-h[0],h[3]-h[1]-eS)}else{X.Wc=i.Wc}}var k=this.lC.rect;this.lC.rect=i._b;this.lC.buffer=i.Fr;
this.lC.M();w.sI();w.M(w.root.dp(i._b.jB(k),w,w.b.indexOf(this.lC)));return!0};q.qZ.prototype.dG=function(w,I){if(this.lC==null||this.Rl)return;
var E=this.JC.selectionStart,X=this.lC.add.TySh,o=bQ.Of(X.Da),i=this.JC.value+"\n",h=Math.min(this.i8,this.h1),k=Math.max(this.i8,this.h1),L=!1;
this.i8=Math.min(E,h);if(i.length-E<o.length-this.h1)this.h1=o.length-i.length+E;if(o!=i){while(this.i8>0&&o.charAt(this.i8-1)!=i.charAt(this.i8-1))this.i8--}var x=o.substring(0,this.i8),j=o.substring(this.h1,o.length),v=i.substring(this.i8,i.length-j.length);
bQ.tb(X.Da,this.i8,this.h1);bQ.fZ(X.Da,this.i8,v);if(I!=null)bQ.al2(X.Da,this.i8,I);var _=this.i5(this.Ff,X),U=-1,n=Array.from(v);
for(var P=0;P<n.length;P++)U=Math.max(U,n[P].codePointAt(0));if(U!=-1&&U>128&&U!=65533&&_.hd.Font!=null){var a=_.B0[_.hd.Font].Name,T=this.Ff.vj.qq(U,a,_.B0);
if(a!=T){bQ.Ab(_,T);L=!0}}if(this.iK!=null&&v==this.iK){var g=JSON.parse(this.awx);_.hd=g.hd;_.B0=g.B0;
L=!0}bQ.JF(X.Da,this.i8,this.i8+v.length-1,_);this.i8=this.h1=x.length+v.length;var D=this.caller.QN(),b=this.Kc(D,this.Ff,!0);
if(b)this.E6(D,!0);if(L)this.cL()};q.qZ.prototype.a0X=function(w){var I=aW;if(!w.ctrlKey)this.aht();
w.stopPropagation()};q.qZ.prototype.a2c=function(w){w.stopPropagation();var I=w.ctrlKey||w.metaKey,E=aW,x=0,j=0,b=0,e=!1;
if(this.lC==null||this.Rl)return;if(this.lC==null)return;var X=this.caller.QN();if(this.W_==null&&I){var o=this.lC.add.TySh,i=bQ.rI(o.Da),h;
if(i==1){h=bQ.Ni(o.Da);h=new dC(0,0,h[2]-h[0],h[3]-h[1])}else h=this.PC.Kj();var k=[h.x,h.y,h.x+h.q,h.y,h.x+h.q,h.y+h.w,h.x,h.y+h.w];
Q.p.F(k,o.F,k);this.W_=new gc(k,!0,!0,!1,!1);this.ayh=h;this.E6(X)}if(E.OE(w.code,E.w6))x=1;if(E.OE(w.code,E.U6))x=-1;
if(E.OE(w.code,E.mg))j=-1;if(E.OE(w.code,E.$I))j=1;var v=E.OE(w.code,aW.xk),_=E.OE(w.code,aW.ajO);if(E.OE(w.code,aW.yd)&&I){this.Sj(X,this.caller);
return}if(E.OE(w.code,aW.K9)){this.x4(X,this.caller);return}if(E.OE(w.code,aW.KZ)){w.preventDefault();
var L=this.JC,U=L.value,n=L.selectionStart,a=L.selectionEnd;L.value=U.substring(0,n)+"\t"+U.substring(a);
L.selectionStart=L.selectionEnd=n+1;this.dG(null);return}var T=E.OE(w.code,E.w2),g=E.OE(w.code,E.Jz);
if(I&&(T||g)){w.preventDefault();var D=new e9(W.E.s,!0);D.G=q.dc;D.data={d:"zoom",GC:T};this.caller.c(D)}if(E.OE(w.code,E.FQ))b=1;
if(E.OE(w.code,E.ha))b=-1;var C=this.i8==this.h1,Z=I&&w.shiftKey&&b!=0&&!C;if(Z||w.altKey&&x!=0){var S=JSON.parse(JSON.stringify(this.Ff.j8));
if(Z){var u=S.hd.FontSize;if(u==null)u=16;S.hd.FontSize=Math.max(1,u+b*(w.altKey?5:1))}else{if(C){S.hd.Kerning+=20*x;
S.hd.AutoKerning=!1}else S.hd.Tracking+=20*x}w.preventDefault();var p=new e9(W.E.Z,!0);p.data={d:W.t.e1,GT:ik.fr,j8:S};
this.caller.c(p);var D=new e9(W.E.s,!0);D.G=q.Zn;D.data={d:"updateStyles"};this.caller.c(D);return}if((E.OE(w.code,E.DM)||E.OE(w.code,E.tc))&&I){var f=this.i8,d=this.h1;
if(f>d){var l=f;f=d;d=l}var o=this.lC.add.TySh,A=bQ.Of(o.Da);if(f!=d){this.iK=A.slice(f,d);this.awx=JSON.stringify(this.Ff.j8)}}var B=bQ.Of(this.lC.add.TySh.Da);
if(x!=0||j!=0||v||_){w.preventDefault();var m=this.i8;if(x!=0){if(I&&x==-1)m=this.abf(B,this.i8-1);else if(I&&x==1)m=this.aeT(B,this.i8);
else{var L=this.JC,U=L.value;m=this.i8+x;if(m!=0&&U.codePointAt(m-1)>65535)m+=x}}else if(j!=0){var $=this.PC.u_(this.i8);
if(j==-1&&$.rw==0)m=0;else if(j==1&&$.rw==this.PC.axb()-1)m=99999999999;else m=this.PC.ado(new a5($._b.x+$._b.q/2,0),$.rw+j)}else if(v){var V=this.i8-1;
while(V>0&&B.charCodeAt(V)!=10)V--;m=V==0?0:V+1}else if(_){var V=this.i8;while(V<B.length-1&&B.charCodeAt(V)!=10)V++;
m=V}m=Math.max(0,Math.min(B.length-1,m));if(w.shiftKey)this.i8=m;else this.i8=this.h1=m;e=!0}if(E.OE(w.code,aW.t)&&I){this.i8=0;
this.h1=B.length-1;e=!0}if(e){this.cL();this.E6(X)}};q.qZ.aaY=function(w,I){var E=w.length;if(E!=I.length)return!1;
for(var P=0;P<E;P++)if(w[P].Kr!=I[P].Kr)return!1;return!0};q.qZ.prototype.Sj=function(w,I){if(this.lC==null)return;
this.lC.vM();var E=this.Qw;if(E instanceof Array){var X=this.Oy(w,this.FK),o=w.fY();if(o!=null&&o.G==this&&o.data.ke&&q.qZ.aaY(o.data.ke,E))o.data.IH=X;
else{var i=new fL(this.name,this);i.data={ke:E,IH:X};w.f6(i)}}else{var i=new fL(this.name,this);i.data={lq:E.lq,gz:E.gz,KC:E.KC,bo:E.bo};
w.f6(i)}this.escape(w,I)};q.qZ.prototype.x4=function(w,I){if(this.lC==null)return;if(this.Qw instanceof Array){this.Kw(w,this.Qw);
if(this.lC)bQ.ua(this.lC.add.TySh)}else{w.g=this.Qw.KC;w.DO(this.Qw.lq)}w.M();this.escape(w,I)};q.qZ.prototype.escape=function(w,I){this.aht();
this.lC=null;this.FK=null;this.PC=null;this.DE=null;this.JC.blur();w.I.vC=null;w.I.KJ=null;w.I.jS=[];
w.WV=!0;this.Kf=!1;this.ZG=!1;this.i8=this.h1=-1;this.Ve(I,W.E.Z,{d:W.t.LF,G:this.id,jt:"hideactive"});
if(this.Uc){var E=new e9(W.E.Z,!0);E.data={d:W.t.en,G:this.Uc};I.c(E);this.Uc=null}};q.qZ.prototype.Ve=function(w,I,E,X){var o=new e9(I,!0);
o.data=E;if(X)o.G=X;w.c(o)};q.qZ.prototype.vX=function(w){var I=this.lC.add.TySh,E=this.PC,X=I.F.clone();
X.ja();var o=X.kG(w),i=bQ.eB(I,E),h=Q.AG.Sk(I.gl,i),k=Q.SZ.aeG(h,o);if(k==null)k=new Float64Array(2);
o=new a5(i.x+k[0]*i.q,i.y+k[1]*i.w);if(E.pu){var x=E.pu.clone();x.ja();o=x.kG(o)}var j=E.ado(o);return j};
q.qZ.prototype.E6=function(w,I){if(I==null)I=!1;var E=this.lC.add.TySh,X=bQ.rI(E.Da),o=this.PC,i=o?bQ.eB(E,o):null;
w.I.jS=[];w.I.vC=null;w.I.KJ=null;var h=this.W_?this.W_:this.DE;if(h){h.$h(w,this.Ff,!Q.AG.JJ(E.gl));
var k=E.F.clone();k.ja();if(o&&o.pu&&o.Vq==1){var x=o.pu.clone();x.ja();k.concat(x)}Q.p.F(w.I.jS,k,w.I.jS);
Q.p.F(w.I.vC.C,k,w.I.vC.C);if(o&&o.pu==null&&o.alI()){var j=i.q-20,v=i.w+8;w.I.vC.C.push(j,v,j+10,v,j+5,v-5,j+5,v+5);
w.I.vC.J.push("M","L","M","L")}}else if(X==0)this.auu(w,E,o);else w.I.vC={C:[],J:[]};var _=Math.min(this.i8,this.h1),L=Math.max(this.i8,this.h1);
if(!I){this.JC.selectionStart=_;this.JC.selectionEnd=L}if(o!=null){var U=function(h,N){var C=h.x,Z=h.y+h.w,S=new am;
S.translate(-C,-Z);S.rotate(-N);S.translate(C,Z);h.y+=h.w*.27;var b=Q.p.sy(h);Q.p.F(b.C,S,b.C);return b};
if(_==L){_=Math.max(_,0);var n=o.u_(_);if(n){var a=n._b,T=this.Ff.j8.hd.FontSize;if(T!=null&&T!=0){T/=E.F.dA();
a.y+=a.w-T;a.w=T}var g=o.aeS(_);if(g!=null&&g.D3==1)a.x+=a.q;var D=U(a,n.yn).C;w.I.vC.J.push("M","L");
w.I.vC.C.push(D[0],D[1]-1,D[6],D[7]-1)}}else{w.I.KJ={C:[],J:[]};for(var P=_;P<L;P++){var n=o.u_(P),b=U(n._b,n.yn);
Q.p.concat(w.I.KJ,b)}}}w.I.vC=fv.ef(w.I.vC,E,o);w.I.KJ=fv.ef(w.I.KJ,E,o);w.I.jS=fv.ef({C:w.I.jS},E,o).C;
w.WV=!0};q.qZ.prototype.auu=function(w,I,E){if(E==null)return;w.I.jS.push(0,0);if(w.I.vC==null)w.I.vC={J:[],C:[]};
for(var P=0;P<E.wo.length;P++){var X=E.wo[P];for(var o=0;o<X.lB.length;o++){var i=X.lB[o],h=X.Z2.x+i.Z2.x+i._b.x,k=X.Z2.y+i.Z2.y+i._b.y+i._b.w;
w.I.vC.J.push("M","L");w.I.vC.C.push(h,k,h+i._b.q,k)}}w.WV=!0};q.adX=function(){q.qZ.call(this,!0)};
q.adX.prototype=new q.qZ;q.ed=function(){q.mc.call(this,[10,9],q.xP,"tools/lasso");this.iQ="crosshair";
this.l0=null;this.Yj=null;this.YK=null};q.ed.prototype=new q.mc;q.ed.prototype.ME=function(w,I,E,X){this.l0=this.WJ;
this.Yj={C:[this.l0.x,this.l0.y],J:["M"]}};q.ed.prototype._S=function(w,I,E,X){this.YK=X;var o=this.Yj;
if(o==null)return;if(!X.WN){if(this.Yj!=null&&this.em>1&&E.Y(aW.$i)){o.C.pop();o.C.pop();o.C.push(this.QG.x,this.QG.y);
w.I.vC=o;w.WV=!0}return}o.J.push("L");o.C.push(this.QG.x,this.QG.y);this.l0=this.QG;if(this.v4){w.I.vC=o;
w.WV=!0}};q.ed.prototype.wN=function(){return this.Yj!=null};q.ed.prototype.M7=function(){return this.Yj!=null};
q.ed.prototype.oH=function(w,I,E,X){q.mc.prototype.oH.call(this,w,I,E,X);if(this.Yj&&this.em>1&&this.YK&&!this.YK.WN&&!X.Y(aW.$i))this.asD(w,E,X)};
q.ed.prototype.wz=function(w,I,E,X){this.YK=X;var o=this.Yj;if(o==null)return;if(this.em>1&&E.Y(aW.$i)){o.J.push("L");
o.C.push(this.QG.x,this.QG.y);return}this.asD(w,I,E)};q.ed.prototype.asD=function(w,I,E){this.finish(w,I,E,this.YK);
this.Yj=null;w.I.vC=null;w.WV=!0};q.ed.prototype.getSelection=function(w,I,E,X){if(this.WJ.ZQ(this.QG)||!this.v4)return null;
return q.mc.gA(this.Yj.C,null,this.pb.anta)};q.Q8=function(){q.an.call(this,[10,11],q.xE,"tools/move");
this.zJ=new a5(0,0);this.th=new a5(0,0);this.ce=null;this.dh=null;this.Tb=new a5(0,0);this.j$=null;this.m6=null;
this.Dw=null;this.Ta=0;this.L8=null;this.ui=[];this.Mr=null;this.Pu=null;this.PA=!1;this.d=0;this.kq=null;
this.Ia=null;this.nF=null;this.Xa=!1;this.pb={qR:!1,a7:!1,ms:!1};this.akf=!1;this.ahQ=!1;this.DE=null;
this.yr=null;this.ah6=null;var w=[];for(var P=0;P<Q.Ha.Mu.length;P++)w.push({name:Q.Ha.Mu[P],i:function(I,E,X){return{Cm:E.yR.gM==X}}});
this.QR=new j$(w);this.QR.h("select",this.H9,this)};q.Q8.prototype=new q.an;q.an.prototype.J8=function(w){return this.PA&&this.d!=2};
q.Q8.prototype.abC=function(){return this.PA&&(this.d==0||this.d==1)};q.Q8.prototype.TC=function(w,I,E,X){this.c2(w,-this.Tb.x,-this.Tb.y);
this.Tb.eo(0,0);this.Br(w,null,E);this.QH(w)};q.Q8.prototype.St=function(){var w=this.pb;return[w.qR?1:0,w.a7?1:0,w.ms?1:0]};
q.Q8.prototype.UX=function(w,I,E){var X=this.pb;if(w&&w[0]!=null)X.qR=w[0]==1;if(w&&w[1]!=null)X.a7=w[1]==1;
if(w&&w[2]!=null)X.ms=w[2]==1;var o=new e9(W.E.Z,!0);o.data={d:W.t.LF,G:this.id,iw:X,au_:I};E.c(o)};
q.Q8.a0O=function(w,I,E,X,o,i,h){if(h==null)h=[!1,!0];var k=w.$t(null,o,!0),x,j;if(w.add.artd&&w.g.length==1&&w.b[w.g[0]].add.artb){var v=w.b[w.g[0]].Z9();
x=w.L3(k,v,v)[0]}else{var _=new dC(0,0,w.q,w.w),x=w.L3(k,h[0]?_:null,h[1]?null:_)[0];delete x.add.artd;
if(h[1]){var L=Q.eE(x.sQ(),new dC(0,0,x.q,x.w),2);q.EV.JB(x,L)}}if(E!=1){var U=new dC(0,0,Math.round(x.q*E),Math.round(x.w*E));
q.EV.JB(x,U);var a=[];for(var P=0;P<x.b.length;P++)a.push(P);var T=q.R.tP(x,a,!0);q.EV.ly(x,new am(E,0,0,E,0,0));
q.R.bp(x,X,a,T,1,Q.K.Rv(new am(E,0,0,E,0,0)),null,!0);x.vL()}else if(j){x.M();x.vL()}var g=[];for(var P=0;
P<I.length;P++)if(x.q*x.w!=0)g.push(gt.mZ(x,I[P].toUpperCase(),null,null,i?i[P]:null,X));return g};q.Q8.prototype.akq=function(w,I,E,X,o){if(w==null||w.g.length==0)return;
var i=q.Q8.a0O(w,[I],E,X,null)[0],h=new e9(W.E.Z,!0);h.data={d:W.t.Ty,data:i,name:w.b[w.g[0]].getName()+(E==1?"":"@"+E+"x")+"."+I};
o.c(h)};q.Q8.prototype.NE=function(w,I,E,X,o){if(w.ns=="getPNG"){this.akq(E,"png",w.E$,o,I)}else if(w.ns=="getSVG"){this.akq(E,"svg",w.E$,o,I)}if(w.ns=="prms"){this.pb=w;
this.QH(E)}};q.Q8.abr=function(w){var eS=w.length,E=0;w.sort(function(i,h){return i[0]+i[1]/2-(h[0]+h[1]/2)});
var I=w[eS-1][0]+w[eS-1][1]-w[0][0];for(var P=0;P<eS;P++)E+=w[P][1];var X=Math.round((I-E)/(eS-1)),o=w[0][0];
for(var P=0;P<eS;P++){w[P][0]=o;o+=w[P][1]+X}};q.Q8.prototype.Q$=function(w,I,E,X,o){var i=w.d;if(i=="trsl"){var h=Math.round(w.BY),k=Math.round(w.bJ);
this.Tb.eo(h,k);this.Qp(E,I,X,o,!1,w.l);this.c2(E,h,k);this.Br(E,null,o)}else if(i=="fcmy"){var i=new fL(["RGB","CMYK"][w.k]+" Color",this);
i.data={d:w.d,di:E.add.fcmy==null?0:E.add.fcmy,pW:w.k};E.f6(i);this.$D(i.data,E)}else if(i=="pview"){var i=new fL("Pattern Preview",this);
i.data={d:w.d};E.f6(i);this.$D(i.data,E)}else if(i=="lockguides"){if(E)E.iJ=!E.iJ}else if(i=="gids"||i=="gidsFromLayer"){var x=w.Ia,j,v;
if(x==null)x=E.b5();if(i=="gids"){j=w._t;var _=x[0].length,L=j[0].length;v=_==L?[23,2]:_>L?[23,3]:[23,4];
if(L==0)v=[11,15,0]}else if(i=="gidsFromLayer"){var U=[],n=[],a=E.Ze();for(var P=0;P<E.g.length;P++){var T=E.b[E.g[P]].rect;
if(T.qo())continue;U.push([0,T.x],[1,T.y],[0,T.x+T.q],[1,T.y+T.w]);n.push(a,a,a,a)}v=[11,15,1];j=E.b5();
q.Q8.lN(j,[U,n])}if(JSON.stringify(x)==JSON.stringify(j))return;var i=new fL(v,this);i.data={d:2,Ia:x,_t:j};
E.f6(i);this.$D(i.data,E)}else if(i=="algn"){var g=w.k;if(E==null)return;if(E.g.length<2&&!(E.n!=null&&g!=3&&g!=7)){alert(df.get([15,7,5]));
return}var D=E.n;E.n=null;var T=D?D.rect:q.R.eB(E);this.Qp(E,I,X,o,!1);if(!this.PA)return;var b=this.L8,N={},C=[],Z=[],S=[];
for(var P=0;P<b.length;P++){var u=b[P];while(E.b[u].getName()=="</Layer group>")u++;var p=E.root.qx(u),f=p;
while(p.parent!=null){p=p.parent;if(b.indexOf(p.index)!=-1)f=p}var d=Z.indexOf(f.index);if(d==-1){d=Z.length;
Z.push(f.index)}C[P]=d}var l=[],A=[],B=[];for(var P=0;P<Z.length;P++){var e=q.R.eB(E,E.$t(!0,Z[P]));
B.push(e);var m=g==3?[e.y,e.w]:[e.x,e.q];l[P]=m;A.push(m)}q.Q8.abr(A);for(var P=0;P<Z.length;P++){var e=B[P],$=e.x,V=e.y;
if(g==0)$=T.x;if(g==1)$=T.x+(T.q-e.q)/2;if(g==2)$=T.x+(T.q-e.q);if(g==3)V=l[P][0];if(g==4)V=T.y;if(g==5)V=T.y+(T.w-e.w)/2;
if(g==6)V=T.y+(T.w-e.w);if(g==7)$=l[P][0];S.push(Math.round($-e.x),Math.round(V-e.y))}var H=[];for(var P=0;
P<b.length;P++){var F=C[P];H[2*P]=S[2*F];H[2*P+1]=S[2*F+1]}this.c2(E,0,0,null,H);var G=g==3||g==7?[20,4,6]:[20,4,g<3?g:g-1];
this.Br(E,null,o,H,G);E.n=D}else if(i=="disabAuto"){this.UX([!1],null,I)}};q.Q8.lN=function(w,I){for(var P=0;
P<I[0].length;P++){var E=I[0][P],X=I[1][P],o=!1;for(var i=0;i<w[0].length;i++){var h=w[0][i],k=w[1][i];
if(E[0]==h[0]&&E[1]==h[1]&&X==k)o=!0}if(!o){w[0].push(E.slice(0));w[1].push(X)}}};q.Q8.prototype.enable=function(w,I,E,X,o){this.m6=E;
this.Dw=I;this.Xa=o?!0:!1;this.QH(w);this.HH("default",I)};q.Q8.prototype.disable=function(w,I,E,X){this.aqB(w)};
q.Q8.prototype.aqB=function(w){if(w==null)return;if(this.DE){this.DE.clear(w);this.DE=null}if(w.I.ms){w.I.ms=null;
w.WV=!0}if(w.I.gy){w.I.gy=null;w.WV=!0}if(w.I.M0[this.id]){delete w.I.M0[this.id];w.WV=!0}if(w.I.E8.length!=0){w.I.E8=[];
w.WV=!0}};q.Q8.prototype.kY=function(w,I,E,X){if(E.OZ!=this.id)return;this.QH(w)};q.Q8.prototype.QH=function(w,I){if(w==null)return;
var E=this.pb;this.aqB(w);if(!this.Xa){var X;if(E.a7||E.ms)X=Q.p.i1(q.R.eB(w));if(E.a7&&!X.qo()){this.DE=new gc([X.x,X.y,X.x+X.q,X.y,X.x+X.q,X.y+X.w,X.x,X.y+X.w],!0);
this.DE.$h(w,this.m6)}if(E.ms){var o=null,v=null,_=!1;if(w.Ze()!=-1)o=w.b[w.Ze()].Z9();else o=new dC(0,0,w.q,w.w);
w.I.ms={RG:[X],D5:[]};var i=w.I.ms.D5,h=X.x+X.q,k=X.y+X.w,x=X.x+Math.floor(X.q/2),j=X.y+Math.floor(X.w/2);
if(I){var L=w.root.Mj(new a5(Math.floor(I.x),Math.floor(I.y)));if(L){v=Q.p.i1(L.l.MI(w));if(v.XU(X)){_=(v.RP(X)||X.RP(v))&&!X.ZQ(v);
if(!_)v=null}}}this.awE(X,i);if(v!=null){w.I.ms.RG.push(v);var U=v.x+v.q,n=v.y+v.w,a=v.x+Math.floor(v.q/2),T=v.y+Math.floor(v.w/2);
if(_){var g=x,D=j;if(X.RP(v)){g=a;D=T}i.push(X.x,D,v.x,D);i.push(h,D,U,D);i.push(g,X.y,g,v.y);i.push(g,k,g,n)}else{this.awE(v,i);
var b=k<v.y||n<X.y,N=h<v.x||U<X.x;if(h<v.x)i.push(h,j,v.x,j);if(U<X.x)i.push(U,j,X.x,j);if(k<v.y)i.push(x,k,x,v.y);
if(n<X.y)i.push(x,n,x,X.y);if(b&&!N){if(X.x<v.x)i.push(X.x,T,v.x,T);if(v.x<X.x)i.push(v.x,j,X.x,j)}}}else{if(X.y>o.y)i.push(x,o.y,x,X.y);
if(k<o.y+o.w)i.push(x,k,x,o.y+o.w);if(X.x>o.x)i.push(o.x,j,X.x,j);if(h<o.x+o.q)i.push(h,j,o.x+o.q,j)}w.WV=!0}}if(this.d==2&&this.PA){var C=new dC(0,0,w.q,w.w),Z=w.Ze();
if(Z!=-1){var S=w.b5(),u=S[1][this.L8];if(u==-1)u=Z;C=w.b[u].Z9()}var p=w.l2[this.L8],f=p[0],d=(f==0?"X":"Y")+": "+Q.Ha.Wo(p[1]-(f==0?C.x:C.y),w.nN,this.m6,f==0?C.q:C.w,!0);
q.an.ev(Math.round(this.ce.x)+10,Math.round(this.ce.y)-10,[d],w);w.WV=!0}if(this.d==3&&this.PA){var l=Q.p.sy(this.kq);
w.I.M0[this.id]={vC:l};w.WV=!0}};q.Q8.prototype.awE=function(w,I){var E=w.q,X=w.w,o=w.x+Math.floor(E*.2),i=w.y+Math.floor(X*.2);
I.push(o,w.y,o,w.y+X);I.push(w.x,i,w.x+E,i)};q.Q8.prototype.HH=function(w,I){var E={d:W.t.JN,sL:w},X=new e9(W.E.Z,!0);
X.data=E;I.c(X)};q.Q8.prototype.J0=function(w){var I=this.yr.RC()[0],E=this.j$,X=this.ah6[I];this.aip(E,X)};
q.Q8.prototype.H9=function(w){var I=JSON.parse(JSON.stringify(this.m6.yR));I.gM=this.QR.RC()[0];var E=new e9(W.E.Z,!0);
E.data={d:W.t.e1,GT:ik.nk,pW:I};this.Dw.c(E)};q.Q8.prototype.UB=function(w,I,E,X,o){if(this.PA)this.dj(w,I,E,X,o);
this.j$=w;this.m6=E;this.Dw=I;var i=w.u.sP(o.x,o.y),h;if(q.Q8.YE(E,o,w.u)){h=this.QR}else{if(this.yr)this.yr.removeEventListener("select",this.J0);
var k=[];w.root.Mj(i,k);if(k.length==0)return;var x=[];this.ah6=k;for(var P=0;P<k.length;P++)x.push({name:w.b[k[P]].getName()});
h=this.yr=new j$(x);h.h("select",this.J0,this)}h.parent=I;h.f();h.update(w,E);var j=new e9(W.E.Z,!0);
j.data={d:W.t.DI,E5:h,x:o.SD+2,y:o.P4+1};I.c(j)};q.Q8.prototype.a61=function(w,I,E,X,o){var i=q.Q8.H6(w,o);
return i!=-1||q.Q8.YE(E,o,w.u)};q.Q8.H6=function(w,I){if(w==null||w.add.artd==null)return-1;var E=w.u.sP(I.x,I.y),X=12*q.V()/w.u.T;
for(var P=0;P<w.b.length;P++){var o=w.b[P];if(!o.TH()||o.add.artb==null)continue;var i=o.Z9(),h=new dC(i.x,i.y-1.7*X,X*o.getName().length*.5,X);
if(h.sF(E))return P}return-1};q.Q8.prototype.PX=function(w,I,E,X,o){var i=q.Q8.H6(w,o),h=q.Q8.ahY(w,w.u.sP(o.x,o.y));
if(i!=-1){w.g=[i];if(E.OZ==q.xE){var k=new e9(W.E.Z);k.data={d:W.t.en,G:q.rF};I.c(k)}return}if(h!=-1){w.u.GY=h;
w.oP=!0;var k=new e9(W.E.Z,!0);k.data={d:W.t.mB,ei:eB.MP.a2v};I.c(k);return}this.ce=o;this.zJ.eo(o.x,o.y);
this.th=w.u.sP(o.x,o.y);this.dh=new aE(this.th);this.Qp(w,I,X,E,!0)};q.Q8.YE=function(w,I,E,X){var o=Q.Ha.R1,i=E.mz.w;
return w.KY&&(0<I.x&&I.x<o||0<I.y&&I.y<o||X&&0<I.x&&I.x<4*o&&i-o<I.y&&I.y<i)};q.Q8.prototype.Qp=function(w,I,E,X,o,i){var h,k=this.th,x=!1;
if(o){var j=X.x3&&X.yR.l2;if(q.Q8.YE(X,this.zJ,w.u)){h=w.b5();var v=w.b5(),_=null;if(this.zJ.x<Q.Ha.R1){_=[0,k.x]}if(this.zJ.y<Q.Ha.R1){_=[1,k.y]}v[0].push(_);
v[1].push(w.Ze());w.yL(v);if(!j){var L=new e9(W.E.Z);if(!X.yR.l2){L.data={d:W.t.e1,GT:ik.Mk};I.c(L)}if(!X.x3){L.data={d:W.t.e1,GT:ik.wB};
I.c(L)}j=!0}}var U=this.ajq(w,k);if(j&&U!=null&&!w.iJ){this.d=2;this.Ia=h?h:w.b5();this.L8=U;this.PA=!0;
this.Pu=q.R.eB(w);return}if(w.Y1.length!=0){this.d=4;this.Pu=w.K3[w.Y1[0]].rect.clone();this.PA=!0;return}if(this.DE&&this.DE.zn(k,w.u.T,!0,this.ce)!=null){var L=new e9(W.E.Z);
L.data={d:W.t.en,G:q.Ai,a4a:!0};I.c(L);return}if(w.n&&w.n.rect.sF(k)){var n=Math.round(k.x),a=Math.round(k.y),T=w.n.rect;
x=w.n.channel[(a-T.y)*T.q+n-T.x]>128}if(!x&&(!this.Xa&&this.pb.qR||this.Xa&&this.pb.qR&&(E.Y(aW.mG)||w.g.length<2))){var g=this.alV(w,k,E);
if(!g){w.g=[];w.ko=null;w.cW=w.wI=!0;this.d=3;this.kq=new dC;this.PA=!0;return}}if(E.Y(aW.$i)&&!x){var D=new e9(W.E.s);
D.G=q.Qd;D.data={d:K.Ss,aio:!0};I.c(D)}}if(w.Y1.length!=0){this.d=4;this.Pu=w.K3[w.Y1[0]].rect.clone();
this.PA=!0;return}this.L8=w.$t(i==null,i,null,!0);for(var P=0;P<this.L8.length;P++){var b=this.L8[P],N=w.b[b];
if(N.B2(2)||N.B2(31)||w.ex(b)){alert(df.get([6,57,0]));return}}if(w.add.artd&&o){var C=this.L8,Z=!1;
for(var P=0;P<C.length;P++)if(w.b[C[P]].add.artb)Z=!0;if(!Z){this.Mr=[w,w.b.slice(0),w.g.slice(0),-1];
this.L8.sort(function(B,e){return B-e})}}this.ui=q.Q8.a5G(w,this.L8);this.d=0;if(w.n&&(!o||x)&&w.g.length==1&&w.p8(!1)){if(!w.aqS()){this.PA=!1;
return}var S=w.b[w.g[0]],u=E.Y(aW.$i);this.d=1;var p=w.history[w.lZ];if(p.G==this&&p.data.d==1&&p.data.l==w.g[0]&&S.yA==S.e2.yA&&!u){this.nF=p}else{var f=S.e2,d=!1,l;
if(!S.Fh(w,w.n)||u){d=!0;S.YP(w,w.n,u)}if(S.e2.yA<=0){l=Q.$(S.e2.fa.length>>2);Q.qe(S.e2.fa,l,3)}else l=w.n.channel.slice(0);
var A={rect:S.e2.lw.clone(),channel:l};this.nF=new fL(u?[12,53]:[12,54],this);this.nF.data={d:1,l:w.g[0],e2:S.e2,Dr:f,Je:d,KC:w.n,bo:A,cA:new a5(0,0)};
w.f6(this.nF);w.n=A;w.EZ=!0}}this.PA=!0;this.Pu=q.R.eB(w)};q.Q8.prototype.alV=function(w,I,E){var X=w.root.Mj(new a5(Math.floor(I.x),Math.floor(I.y)));
if(X){if(X.l.add.vmsk)w.WV=!0;var o=w.b.indexOf(X.l);if(E.Y(aW.mG)){var i=w.g.indexOf(o);if(i==-1)w.g.push(o);
else if(w.g.length>1)w.g.splice(i,1)}else if(w.g.indexOf(o)==-1){this.aip(w,o)}}return X!=null};q.Q8.prototype.aip=function(w,I){w.b[I].yA=0;
w.g=[I];w.ko=null;w.xm();w._G=!0;w.cW=!0};q.Q8.ahY=function(w,I){var E=w.add.Anno;if(E==null||E.length==0)return-1;
var X=30/w.u.T;for(var P=0;P<E.length;P++)if(new dC(E[P][0],E[P][1],X,X).sF(I))return P;return-1};q.Q8.prototype.L_=function(w,I,E,X,o){this.ce=o;
var i=w.u.sP(o.x,o.y),U,n;if(this.dh&&this.d<2)i=this.dh.N2(i,X);if(!this.PA){if(E.x3&&E.yR.l2&&w&&!w.iJ){var h=this.ajq(w,i),k="default",x=q.Q8.H6(w,o);
if(h!=null)k=["col-resize","row-resize"][w.l2[h][0]];else if(this.DE){var j=this.DE.zn(i,w.u.T,null,o);
if(j)k=j}else if(x!=-1||q.Q8.ahY(w,i)!=-1){k="pointer"}this.HH(k,I)}this.QH(w,i);return}var v=this.th,_=Math.round(i.x-v.x)-this.Tb.x,L=Math.round(i.y-v.y)-this.Tb.y;
if(this.Pu){if(this.d==2){var a=[];if(w.n)a.push(w.n.rect);if(this.Pu)a.push(this.Pu);if(w.u.Ep)a.push(w.u.Ep);
i=q.Q8.Bi(w,i,E,[!1,a,!0])}else{n=this.Pu.clone();n.offset(this.Tb.x+_,this.Tb.y+L);U=q.Q8.VC(w,n,E);
var T=this.dh.asX(X);if(T==1){U[0]=0;U[2]=1e9}if(T==2){U[1]=0;U[3]=1e9}_+=Math.round(U[0]);L+=Math.round(U[1])}}this.Tb.x+=_;
this.Tb.y+=L;var g=this.Mr;if(g&&w==g[0]){w.DO(g[1]);w.g=g[2].slice(0);g[3]=-1}this.c2(w,_,L,i,null,X.Y(aW.mG));
if(g&&w==g[0]){var D=this.Pu.clone();D.offset(this.Tb.x,this.Tb.y);var b=i,x=w.Ze(),N=-1;for(var P=0;
P<w.b.length;P++){var C=w.b[P];if(!C.TH()||C.add.artb==null)continue;var Z=C.Z9();if(Z.sF(b))N=P}if(N!=-1&&N!=x){var S=q.AD.fL(w,this.L8,N,!0,null,!1);
w.DO(S[0]);w.g=S[1];g[3]=N}}this.QH(w,i);if(U)q.Q8.ZA(w,n,U)};q.Q8.prototype.ajq=function(w,I){var E=q.rK(w,this.ce);
I=[I.x,I.y];var X=w.b5(),o=w.Ze();for(var P=0;P<X[0].length;P++){var i=X[0][P],h=X[1][P];if(h!=-1&&h!=o)continue;
if(Math.abs(i[1]-I[i[0]])<E)return P}return null};q.Q8.prototype.c2=function(w,I,E,X,o,i){if(this.d==0){if(o)q.Q8.CF(w,this.L8,this.ui,o);
else q.Q8.np(w,this.L8,this.ui,I,E)}else if(this.d==1){var h=this.nF.data;h.cA.offset(I,E);q.Q8.lM(w,h.l,I,E)}else if(this.d==2){var k=1e-5;
if(i)k=w.u.T<=1?10:1;else if(w.u.T<=1)k=1;var x=k*Math.round(X.x/k),j=k*Math.round(X.y/k),v=[x,j],_=w.l2[this.L8];
_[1]=v[_[0]]}else if(this.d==3){var L=this.th,U=Q.p.uh([L.x,L.y,X.x,X.y]);this.kq=U;var n=[];w.root.akO(U,n);
if(JSON.stringify(w.g)!=JSON.stringify(n)){w.g=n;w.cW=w.wI=!0}}else if(this.d==4){for(var P=0;P<w.Y1.length;
P++)w.K3[w.Y1[P]].rect.offset(I,E);w.WV=!0}};q.Q8.lM=function(w,I,E,X){var o=w.b[I];w.n.rect.offset(E,X);
o.dH(w,E,X,w.n);w.EZ=!0;w.M()};q.Q8.prototype.dj=function(w,I,E,X,o,i){this.Br(w,o,E);this.QH(w);if(Date.now()-this.Ta<300&&!i){var h=q.qZ.IO(w,w.u.sP(o.x,o.y));
if(q.Q8.YE(E,o,w.u,!0)){var k=new e9(W.E.Z);if(o.y>w.u.mz.w-20){k.data={d:W.t.GV,ei:"doczoom",di:w.u.T*100,HL:{X:W.E.s,G:q.dc,v:{d:"pzoom"}}}}else{k.data={d:W.t.GV,ei:"preferences"}}I.c(k)}else if(h>=0){var x=new e9(W.E.s,!0);
x.G=q.Zn;x.data={d:"editCurr",PH:h};I.c(x)}}this.Ta=Date.now();q.EV.iF(w)};q.Q8.prototype.Br=function(w,I,E,X,o){if(!this.PA)return;
this.PA=!1;if(this.d==0){if(X){this.aeZ(w,null,X,o)}else{if(this.Tb.x==0&&this.Tb.y==0)return;this.aeZ(w,this.Tb.clone())}w.oP=!0}else if(this.d==2){var i=0;
I=[I.x,I.y];var h=this.L8,k=w.l2[h],jW=this.Ia[0].length,x=w.l2.length;if(E.KY&&I[k[0]]<Q.Ha.R1){var j=w.b5();
j[0].splice(h,1);j[1].splice(h,1);w.yL(j);i=1;if(jW==x-1)return}if(jW<x)i=2;var v=new fL([[23,2],[23,3],[23,4]][i],this);
v.data={d:2,Ia:this.Ia,_t:w.b5()};w.f6(v)}else if(this.d==4){var v=new fL([12,54],this);v.data={d:4,g:w.Y1.slice(0),z:this.Tb.clone()};
w.f6(v)}this.Tb.eo(0,0)};q.Q8.prototype.oH=function(w,I,E,X){var o=X.Ys(w?w.u.yn:0);if(w!=null&&(o.x!=0||o.y!=0)){if(X.Y(aW.$i)&&w.n==null){var i=new e9(W.E.s);
i.G=q.Qd;i.data={d:K.Ss,aio:!0};I.c(i)}this.Tb.eo(o.x,o.y);this.Qp(w,I,X,E,!1);if(!this.PA)return;this.c2(w,o.x,o.y);
this.Br(w,null,E);this.QH(w)}var h=X.Y(aW.iu);if(!this.Xa&&this.ahQ!=h){if(h){this.akf=this.pb.qR;this.pb.qR=!0}else{this.pb.qR=this.akf}this.ahQ=h;
var k=new e9(W.E.Z,!0);k.data={d:W.t.LF,G:this.id,iw:this.pb};I.c(k)}};q.Q8.prototype.xg=function(w,I){if(w.d==0){var E=w.sS;
if(E){I.DO(E.lq);I.g=E.hU.slice(0);I.M();I.cW=!0}q.Q8.CF(I,w.g,w.ax,w.hv,!0);q.EV.iF(I)}else if(w.d=="fcmy"){if(w.di==0)delete I.add.fcmy;
else I.add.fcmy=w.di;I.WV=!0}else if(w.d=="pview"){I.Qb=!I.Qb;I.M()}else if(w.d==2){I.yL(w.Ia);I.WV=!0}else if(w.d==4){for(var P=0;
P<w.g.length;P++)I.K3[w.g[P]].rect.offset(-w.z.x,-w.z.y);I.WV=!0}else{var X=I.b[w.l];if(w.Je){X.yM(I,w.Dr);
I.n=w.KC;I.EZ=!0;I.M();X.M()}else{q.Q8.lM(I,w.l,-w.cA.x,-w.cA.y)}}};q.Q8.prototype.$D=function(w,I){if(w.d==0){q.Q8.CF(I,w.g,w.ax,w.hv);
var E=w.sS;if(E){I.DO(E.gz);I.g=E.f7.slice(0);I.M();I.cW=!0}q.EV.iF(I)}else if(w.d=="fcmy"){if(w.pW==0)delete I.add.fcmy;
else I.add.fcmy=w.pW;I.WV=!0}else if(w.d=="pview"){I.Qb=!I.Qb;I.M()}else if(w.d==2){I.yL(w._t);I.WV=!0}else if(w.d==4){for(var P=0;
P<w.g.length;P++)I.K3[w.g[P]].rect.offset(w.z.x,w.z.y);I.WV=!0}else{var X=I.b[w.l];if(w.Je){X.e2=w.e2;
I.n=w.bo;q.Q8.lM(I,w.l,0,0);X.M()}else{q.Q8.lM(I,w.l,w.cA.x,w.cA.y)}}};q.Q8.prototype.aeZ=function(w,I,E,X){if(E){var o=!0;
for(var P=0;P<E.length;P++)if(E[P]!=0)o=!1;if(o)return}var i=w.history[w.lZ],h=this.Mr,k=h!=null&&h[3]!=-1&&h[0]==w;
if(!k&&E==null&&i.data&&i.G==this&&i.data.d==0&&JSON.stringify(i.data.g)==JSON.stringify(this.L8)&&JSON.stringify(i.data.ax)==JSON.stringify(this.ui)){var x=i.data.hv,j=i.data.a3V.Zc.T.v;
j.Hrzn.v.val+=I.x;j.Vrtc.v.val+=I.y;for(var P=0;P<x.length;P+=2){x[P]+=I.x;x[P+1]+=I.y}}else{if(I==null)I=new a5(E[0],E[1]);
var v={$g:"move",Zc:{classID:"null",null:gE.cZ("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:I.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:I.y}}}}}},_=null;
if(k)_={lq:h[1],hU:h[2],gz:w.b.slice(0),f7:w.g.slice(0)};this.Mr=null;var L=new fL(X?X:[12,54],this);
if(E)L.data={d:0,g:this.L8,ax:this.ui,sS:_,hv:E};else L.data={d:0,g:this.L8,ax:this.ui,sS:_,hv:q.Q8.a0B(this.L8,I.x,I.y)};
L.data.a3V=v;w.f6(L);this.track(v)}};q.Q8.a0B=function(w,I,E){var X=[];for(var P=0;P<w.length;P++)X.push(I,E);
return X};q.Q8.np=function(w,I,E,X,o){q.Q8.CF(w,I,E,q.Q8.a0B(I,X,o))};q.Q8.CF=function(w,I,E,X,o){if(I.length==0)return;
if(E==null){E=[];for(var P=0;P<I.length;P++){E.push(w.b[I[P]].te(w,!0))}}var i=new dC,h=new dC(0,0,w.q,w.w);
for(var P=0;P<I.length;P++){var k=X[2*P],x=X[2*P+1];if(o){k=-k;x=-x}var j=w.b[I[P]],v=E[P];if(j.add.fxrp&&(v.indexOf(0)!=-1||j.us()))j.add.fxrp.offset(k,x);
for(var _=0;_<v.length;_++){var L=v[_];if(L==0){j.rect.offset(k,x);if(j.r3()&&j.Em(w))j.Em(w).rect.offset(k,x);
if(j.add.artb){var U=j.Z9();U.offset(k,x);j.CZ(U);var n=j.add.artb.guideIndeces;n=n?n.v:[];for(var a=0;
a<n.length;a++){var T=w.l2[n[a].v];T[1]+=T[0]==0?k:x}}if(j.add.TySh){j.add.TySh.F.translate(k,x);if(j.add.TySh.add){j.add.TySh.add.vmsk.offset(k,x)}}if(j.add.SoLd){var g=new am(1,0,0,1,k,x),D=j.add.SoLd,b=q.R.kp(D.Trnf),N=q.R.kp(D.nonAffineTransform);
Q.p.F(b,g,b);Q.p.F(N,g,N);D.Trnf=q.R.bd(b);D.nonAffineTransform=q.R.bd(N);q.R.a1I(D,g)}}if(L==1)j.pi().rect.offset(k,x);
if(L==2){j.add.vmsk.offset(k,x);if(j.add.vogk)Q.GJ.F(j.add.vogk,[1,0,k,0,1,x,0,0],[])}if(L==3){j.Em(w).D.rect.offset(k,x);
if(v.length==1)j.M()}}if(v.length>0){var C=j.add.GdFl;if(C==null)C=j.add.PtFl;if(j.us()&&!j.rn()&&j.add.vmsk!=null&&Q.O.u9(j.add.vmsk.j)&&j.add.vmsk.zy==255&&(C==null||C.Algn&&C.Algn.v)){j.rect.offset(k,x)}else j.kH(w);
var Z=w.root.dp(j.MI(w),w,I[P]);if(j.add.artb)Z=Z.jB(j.Z9());i=i.jB(Z);Z.offset(-k,-x);i=i.jB(Z);if(j.qW()&&j.D&&j.D.color==255)i=i.jB(h);
j.amj()}}w.M(Q.p.i1(i))};q.Q8.a5G=function(w,I){var E=[];for(var P=0;P<I.length;P++){var X=w.b[I[P]];
E.push(X.te(w))}return E};q.Q8.ZA=function(w,I,E){var X=w.I.gy={C:[],J:[]},o=I.x+E[0],i=I.y+E[1];if(E[2]!=1e9){X.J.push("M","L");
X.C.push(E[2],i,E[2],i+I.w)}if(E[3]!=1e9){X.J.push("M","L");X.C.push(o,E[3],o+I.q,E[3])}w.WV=!0};q.Q8.Bi=function(w,I,E,X){var o=q.Q8.ahb(w,[[I.x],[I.y]],E,X);
return new a5(I.x+o[0],I.y+o[1])};q.Q8.VC=function(w,I,E,X,o){var i=o==!0?1:.5,h=q.Q8.ahb(w,[[I.x,I.x+Math.round(I.q*i),I.x+I.q],[I.y,I.y+Math.round(I.w*i),I.y+I.w]],E,X);
return h};q.Q8.ahb=function(w,I,E,X){if(X==null)X=[!0,null,!0];var o=[0,0,1e9,1e9];if(!E.xx)return o;
var i=JSON.parse(JSON.stringify(I));for(var h=0;h<2;h++){var k=1e9,x=I[h],j=0;for(var v=0;v<x.length;
v++){var _=q.Q8.a31(w,x[v],i[1-h][v],h,E,X);if(_!=1e9)i[h][v]=_;if(_!=1e9&&Math.abs(_-x[v])<Math.abs(k)){k=_-x[v];
j=_}}if(k!=1e9){o[h]=k;o[h+2]=j}}return o};q.Q8.a31=function(w,I,E,X,o,i){var h=1e9,k=o.X3,x=o.yR,j=[w.root];
while(j.length!=0&&k[2]){var v=j.pop(),_=v.l,L=_.rect;if(!_.TH())continue;if(v.children)for(var P=0;
P<v.children.length;P++)j.push(v.children[P]);if(w.g.indexOf(v.index)!=-1||L.qo())continue;if(X==0){var U=L.q,n=U>>>1;
if(Math.abs(L.x-I)<Math.abs(h-I))h=L.x;if(Math.abs(L.x+n-I)<Math.abs(h-I))h=L.x+n;if(Math.abs(L.x+U-I)<Math.abs(h-I))h=L.x+U}else{var a=L.w,T=a>>>1;
if(Math.abs(L.y-I)<Math.abs(h-I))h=L.y;if(Math.abs(L.y+T-I)<Math.abs(h-I))h=L.y+T;if(Math.abs(L.y+a-I)<Math.abs(h-I))h=L.y+a}}if(i[0]&&k[0]&&x.l2&&o.x3){var g=w.b5(),D=g[0],b=g[1],N=w.Ze();
for(var P=0;P<D.length;P++)if((b[P]==-1||b[P]==N)&&D[P][0]==X&&Math.abs(D[P][1]-I)<Math.abs(h-I))h=D[P][1]}if(k[1]&&x.jm&&o.x3){var C=Math.round(Q.Ha.bY(x.gR,w.nN,w.q,x.Js));
if(X==1&&x.Un==1){var Z=E*.5*Math.sqrt(4/3),S;C*=Math.sqrt(4/3);S=Math.round((I-Z)/C)*C+Z;if(Math.abs(S-I)<Math.abs(h-I))h=S;
S=Math.round((I+Z)/C)*C-Z;if(Math.abs(S-I)<Math.abs(h-I))h=S}else{var S=Math.round(I/C)*C;if(Math.abs(S-I)<Math.abs(h-I))h=S}}var u=w.V7;
if(k[3]&&x.V7&&o.x3&&u.length!=0){for(var P=0;P<u.length;P++){if(!i[2]&&w.DP.indexOf(P)!=-1)continue;
var p=q.Yq.b7(u,P);for(var f=0;f<3;f+=2)if(p[f+X]!=I&&Math.abs(p[f+X]-I)<Math.abs(h-I))h=p[f+X]}}if(i[1])for(var d=0;
d<i[1].length;d++){var L=i[1][d],U=L.q,a=L.w,l=[L.x,L.y,L.x+(U>>>1),L.y+(a>>>1),L.x+U,L.y+a];for(var P=0;
P<6;P+=2)if(Math.abs(l[P+X]-I)<Math.abs(h-I))h=l[P+X]}if(k[4]){var L=new dC(0,0,w.q,w.w),N=w.Ze();if(N!=-1)L=w.b[N].Z9();
var U=L.q,a=L.w,l=[L.x,L.y,L.x+(U>>>1),L.y+(a>>>1),L.x+U,L.y+a];for(var P=0;P<6;P+=2)if(Math.abs(l[P+X]-I)<Math.abs(h-I))h=l[P+X]}var A=Math.abs(h-I)<=4*q.V()/w.u.T?h:1e9;
return A};q.Ib=function(){q.mc.call(this,[10,12],q.rm,"tools/mwand");this.Y6=null};q.Ib.prototype=new q.mc;
q.Ib.prototype.St=q.mc.prototype.aay;q.Ib.prototype.UX=q.mc.prototype.aqV;q.Ib.prototype.ME=function(w,I,E,X){this.Y6=X;
this.apH=this.pb.wconf[0];this.finish(w,I,E,X)};q.Ib.prototype._S=function(w,I,E,X,o){if(!X.WN)return;
var i=new e9(W.E.s);i.G=q.b9;i.data={d:"h_stepbck"};o.c(i);var h=X.x-this.Y6.x,k=Math.max(0,Math.min(255,Math.round(this.apH+h/4)));
this.pb.wconf[0]=k;this.kF(o);this.finish(w,I,E,this.Y6)};q.Ib.prototype.wz=function(w,I,E,X,o){this.pb.wconf[0]=this.apH;
this.kF(o)};q.Ib.prototype.getSelection=function(w,I,E,X){var o=this.QG;o=w.u.sP(X.x,X.y);var i=q.mc.aen(new a5(Math.floor(o.x),Math.floor(o.y)),this.pb.wconf,this.pb.sall);
return i};q.Ib.a2_=function(w,I,E,X,o){if(w.g.length!=1){alert("More than one layer selected.");return null}var i=w.b[w.g[0]],h=null,k;
if(o)h=i.yA<=0?null:i.yA==1?i.pi():i.Em(w).D;if(h==null&&i.add.lsct!=null&&i.add.lsct!=gs.PJ){alert("No layer selected.");
return null}if(I.x<0||I.x>w.q||I.y<0||I.y>w.w)return null;var x=new dC(0,0,w.q,w.w);if(X){k=w.sQ()}else if(h==null&&x.ZQ(i.rect))k=i.buffer;
else{k=Q.$(x.A()*4);if(h==null)Q.D6(i.buffer,i.rect,k,x);else q.Og.TT(h.channel,h.rect,h.color,k,x)}var j=q.Ib.aaF(k,x,I,null,E),v=Q.dM(j,x),_=Q.$(v.A());
Q.b_(j,x,_,v);return{rect:v,channel:_}};q.Ib.aqK=function(w,I,E){var X=I.q,o=I.w,h=0,k=0,x=0,j=0;w=new Uint32Array(w.buffer);
var i=[],v=E.length;for(var P=0;P<v;P++){var _=E[P],L=Math.round(_.x-.5-I.x),U=Math.round(_.y-.5-I.y);
L=Math.max(0,Math.min(X-1,L));U=Math.max(0,Math.min(o-1,U));var n=U*X+L,a=w[n];i.push([a&255,a>>8&255,a>>16&255,a>>>24])}return i};
q.Ib.aaF=function(w,I,E,X,o){w=new Uint32Array(w.buffer);var i=I.q,h=I.w,k=i*h;if(X==null)X=q.Ib.aqK(w,I,[E]);
var x=Math.round(E.x-.5-I.x),j=Math.round(E.y-.5-I.y),v=j*i+x,_=Date.now(),L=Q.$(i*h),U=o[0],n=1/U,a=o[1]&&U>0?255:0;
if(o[2]){var T=Q.$(L.length),g=new Uint32Array(k),D=1;g[0]=x<<16|j;T[v]=1;while(D>0){var b=g[D-1];D--;
var N=b>>>16,C=b&65535,P=C*i+N,Z=q.Ib.Mi(w[P],X);if(Z>U){var S=a*(1-Math.max(0,Math.min(1,(Z-U)*n)));
L[P]=~~S}else{L[P]=255;if(C!=h-1&&T[P+i]==0){g[D++]=N<<16|C+1;T[P+i]=1}if(C!=0&&T[P-i]==0){g[D++]=N<<16|C-1;
T[P-i]=1}if(N!=i-1&&T[P+1]==0){g[D++]=N+1<<16|C;T[P+1]=1}if(N!=0&&T[P-1]==0){g[D++]=N-1<<16|C;T[P-1]=1}}}}else{for(var P=0;
P<k;P++){var Z=q.Ib.Mi(w[P],X);if(Z<=U)L[P]=255}for(var C=0;C<h;C++)for(var N=0;N<i;N++){var P=C*i+N;
if(L[P]==0&&(N>0&&(L[P-1]==255||C>0&&L[P-i-1]==255||C<h-1&&L[P+i-1]==255)||N<i-1&&(L[P+1]==255||C>0&&L[P-i+1]==255||C<h-1&&L[P+i+1]==255)||C>0&&L[P-i]==255||C<h-1&&L[P+i]==255)){var Z=q.Ib.Mi(w[P],X),S=a*(1-Math.max(0,Math.min(1,(Z-U)*n)));
L[P]=~~S}}}return L};q.Ib.Mi=function(w,I){var E=I.length,X=q.Ib.afJ(w,I[0]),P=1;while(P!=E){X=Math.min(X,q.Ib.afJ(w,I[P]));
P++}return X};q.Ib.afJ=function(w,I){var E=w&255,X=w>>>8&255,o=w>>>16&255,i=w>>>24&255;if(I[3]==0)return i<5?0:255;
var h=Math.max(Math.abs(E-I[0]),Math.max(Math.abs(X-I[1]),Math.abs(o-I[2])));return i==0?255:h};q.GI=function(w,I){if(I)q.Og.call(this);
else if(w)q.Og.call(this,[10,49],q.Uk,"tools/camove");else q.Og.call(this,[10,26],q.By,"tools/patch");
this.l0=null;this.Yj=null;this.z=null;this.Z2=null;this.CQ=new a5;this.X6=null;this.uZ=null};q.GI.prototype=new q.Og;
q.GI.prototype.PX=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y);if(w.n&&Q.Mj(i,w.n.channel,w.n.rect)){var h=new dC(0,0,w.q,w.w),k=h.LP(w.n.rect);
if(!w.p8()||k.qo())return;if(!0){var x=Q.$(k.A());Q.b_(w.n.channel,w.n.rect,x,k);w.n={channel:x,rect:k}}this.vE(w);
this.fA(w);this.Z2=i;this.CQ=new a5(i.x-w.n.rect.x,i.y-w.n.rect.y);this.uZ=Q.$(w.n.rect.A()*4);this.uZ.fill(255);
if(this.pb.patch==1){var j=w.b[w.g[0]];j.YP(w,w.n,!0);if(j.e2==null)this.Z2=null}this.X6=w.n.rect.clone()}else{this.Yj={C:[i.x,i.y],J:["M"]};
this.l0=i}};q.GI.prototype.L_=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y);if(this.Z2){if(this.pb.patch==1){if(w.Y1.length==0){var h=w.b[w.g[0]].e2,k=i.x-this.CQ.x,x=i.y-this.CQ.y;
q.Q8.lM(w,w.g[0],Math.round(k-h.lw.x),Math.round(x-h.lw.y))}}else this.atw(w,i,"clone")}if(this.l0){this.Yj.J.push("L");
this.Yj.C.push(i.x,i.y);this.l0=i;w.I.vC=this.Yj;w.WV=!0}};q.GI.prototype.dj=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y);
if(this.Z2){var h=w.n.rect.clone();if(this.id==q.Uk){var k=w.b[w.g[0]];k.yM(w,k.e2);w.n.rect=this.X6.clone();
var x=Q.$(w.n.rect.A()*4);Q.lJ(w.n.channel,x,3);this.AL(w,"sheal",x,w.n.rect,w.n.rect);w.n.rect=h;h=h.jB(this.X6)}this.atw(w,i,"heal");
this.finish(w,h,null,null,!0);w.M(h);this.Z2=null}if(this.l0){var j=q.mc.P3(this.pb.setop,X.Y(aW.mG),X.Y(aW.$i)),v=new e9(W.E.a3,!0);
if(this.Yj.C.length<=4)v.data=q.mc.FG();else v.data=q.mc.gA(this.Yj.C,j);I.c(v);this.l0=null;w.I.vC=null;
w.WV=!0}};q.GI.prototype.QB=function(){return this.z};q.GI.prototype.NE=function(w,I,E,X,o){q.Og.prototype.NE.call(this,w,I,E,X,o);
this.HH(o,X)};q.GI.prototype.HH=function(w,I){var E="auto;";if(I!=null&&I.Y(aW.mG)&&!I.Y(aW.$i)||this.pb.setop=="union")E="copy";
var X=new e9(W.E.Z,!0);X.data={d:W.t.JN,sL:E};if(this.caller)this.caller.c(X)};q.GI.prototype.atw=function(w,I,E){var X=new a5(Math.round(this.Z2.x-I.x),Math.round(this.Z2.y-I.y));
if(this.pb.patch==1)X.eo(-X.x,-X.y);this.z=X;this.AL(w,E,this.uZ,w.n.rect,w.n.rect);this.M(w,w.n.rect)};
q.aw1=function(){q.GI.call(this,!0);this.pb.patch=1};q.aw1.prototype=new q.GI(!0,!0);q.Qo=function(){q.Og.call(this,[10,13],q.adi,"tools/pbucket");
this.mS=!1};q.Qo.prototype=new q.Og;q.Qo.prototype.enable=function(w,I,E,X){var o=new e9(W.E.Z,!0);o.data={d:W.t.JN,sL:"default"};
I.c(o)};q.Qo.prototype.eU=function(w,I){};q.Qo.prototype.PX=function(w,I,E,X,o){this.mS=!0};q.Qo.prototype.dj=function(w,I,E,X,o,i){var h=this.mS;
this.mS=!1;if(!h||i)return;if(this._o(X,I,o))return;if(!w.p8())return;var k=w.u.sP(o.x,o.y),x=q.Ib.a2_(w,k,this.pb.wconf,this.pb.sall,!0);
if(x==null)return;var j=Q.$(x.rect.A()*4);Q.Ez(j,(E.Ht&255)<<16|(E.Ht>>8&255)<<8|(E.Ht>>16&255)<<0);
Q.lJ(x.channel,j,3);this.vE(w);this.AL(w,"draw",j,x.rect,x.rect);this.M(w,x.rect);this.finish(w,x.rect)};
q.d$=function(){q.mc.call(this,[10,14],q.akb,"tools/plasso");this.iQ="crosshair";this.kJ=[];this.fO=null;
this.Yj=null;this.aym=0};q.d$.prototype=new q.mc;q.d$.prototype.disable=function(w,I,E,X){this.Eq(w)};
q.d$.prototype.ME=function(w,I,E,X){this.kJ=[aW.Ur,aW.jY]};q.d$.prototype.Uo=function(w){return this.kJ.indexOf(w)!=-1};
q.d$.prototype.J8=function(w){return this.Yj!=null};q.d$.prototype.M7=function(){return this.Yj!=null};
q.d$.prototype.wN=function(){return this.Yj!=null};q.d$.prototype._S=function(w,I,E,X){if(this.Yj==null)return;
var o=this.Yj,i=o.C,h=i.length-2,k=this.QG;if(this.f2.X$(1)&&E.Y(aW.$i)&&X.WN){i.push(0,0);o.J.push("L");
h+=2}else if(E.Y(aW.mG))k=q.O5.w1(new a5(i[h-2],i[h-1]),k);i[h]=k.x;i[h+1]=k.y;w.I.vC=o;w.WV=!0};q.d$.prototype.wz=function(w,I,E,X){var o=Date.now();
if(this.Yj==null)this.Yj={C:[this.QG.x,this.QG.y,this.QG.x,this.QG.y],J:["M","L"]};else{this._S(w,I,E,X);
if(o-this.aym<250||a5.GZ(this.QG,new a5(this.Yj.C[0],this.Yj.C[1]))<q.rK(w,X)){this.fO=this.Yj;this.finish(w,I,E,X);
this.Eq(w);return}this.Yj.J.push("L");this.Yj.C.push(this.QG.x,this.QG.y)}this.aym=o;w.I.vC=this.Yj};
q.d$.prototype.Eq=function(w){this.Yj=null;this.kJ=[];if(w!=null){w.I.vC=null;w.WV=!0}};q.d$.prototype.oH=function(w,I,E,X){q.mc.prototype.oH.call(this,w,I,E,X);
if(X.Y(aW.K9)&&this.Yj==null&&this.fO&&w.n!=null){var o=new e9(W.E.s);o.G=q.b9;o.data={d:"h_stepbck"};
I.c(o);this.ME(w,E,X,null);this.Yj=this.fO;return}if(this.Yj==null)return;if(X.Y(aW.Ur)||X.Y(aW.jY)){this.Yj.C.pop();
this.Yj.C.pop();this.Yj.J.pop();this._S(w,E,X)}if(X.Y(aW.yd)){if(this.Yj.C.length>4){this.fO=this.Yj;
this.finish(w,E,X)}this.Yj=null}if(X.Y(aW.K9)){this.Yj=null}w.I.vC=this.Yj;w.WV=!0};q.d$.prototype.getSelection=function(w,I,E,X){return q.mc.gA(this.Yj.C,null,this.pb.anta)};
q.fl=function(){q.mc.call(this,[10,10],q.alk,"tools/mlasso");this.iQ="crosshair";this.kJ=[];this.j=[];
this.sO=[];this.lB=[];this.WA=null;this.dO=null;this.K_=null;this.Ta=0;this.KT=0};q.fl.prototype=new q.mc;
q.fl.prototype.disable=function(w,I,E,X){this.clear(w)};q.fl.prototype.J8=function(w){return this.j.length!=0};
q.fl.prototype.wN=function(){return this.j.length!=0};q.fl.prototype.Uo=function(w){return this.kJ.indexOf(w)!=-1};
q.fl.prototype.ME=function(w,I,E,X){this.kJ=[aW.Ur,aW.jY];var o=this.NO(this.WJ,w);if(this.j.length!=0&&(a5.GZ(o,this.j[0])<q.rK(w,X)||Date.now()-this.Ta<300)){this.N7(w,this.j[0]);
this.finish(w,I,E);this.clear(w);return}this.Ta=Date.now();if(this.j.length!=0)o=this.D0(o,w);else{var i=w.q,h=w.w,k=Q.$(i*h),x=w.sQ(),j=i*h*4;
for(var P=0;P<j;P+=4)k[P>>>2]=~~(.5+Q.XP(x[P],x[P+1],x[P+2])*(x[P+3]*(1/255)));this.WA=Q.sW.ace(k,i,h);
this.K_=new Uint16Array(k.length)}this.N7(w,o);this.KT=E.Y(aW.$i)?1:0;this.qF(w)};q.fl.prototype.N7=function(w,I){var E=this.j;
this.sO[E.length]=this.lB.length;if(E.length!=0){Q.sW.cM(this.dO,I.y*w.q+I.x);var X=this.wn(w,I);X.reverse();
var o=q.fl.ate(w,X);this.lB=this.lB.concat(o)}E.push(I);this.aau(w)};q.fl.prototype.aau=function(w){var I=this.j[this.j.length-1],E=I.y*w.q+I.x;
this.dO=Q.sW.awq(this.WA.wk,this.WA.U4,E);this.K_.fill(0)};q.fl.prototype.NO=function(w,I){return new a5(Math.floor(Math.max(0,Math.min(I.q-1,w.x))),Math.floor(Math.max(0,Math.min(I.w-1,w.y))))};
q.fl.prototype.clear=function(w){this.lB=[];this.j=[];this.sO=[];this.WA=null;this.dO=null;this.K_=null;
if(w!=null){w.I.vC=null;w.I.jS=[];w.WV=!0}this.kJ=[]};q.fl.prototype._S=function(w,I,E,X){var o=this.j,i=o.length;
if(i==0)return;var h=this.D0(this.NO(this.QG,w),w),k=this.wn(w,h);for(var P=0;P<k.length;P++){var x=k[P],j=new a5(x%w.q,Math.floor(x/w.q));
if(this.K_[x]>30&&a5.GZ(j,o[i-1])>20){this.N7(w,j);return}this.K_[x]++}if(this.KT==1&&X.WN)this.N7(w,h);
this.qF(w)};q.fl.prototype.qF=function(w){var I=this.j;if(I.length!=0){var E=this.D0(this.NO(this.QG,w),w),X=this.wn(w,E);
X.reverse();var o=q.fl.ate(w,X),i=this.lB.concat(o),h=w.I.vC={C:i,J:["M"]};for(var P=2;P<i.length;P+=2)h.J.push("L")}w.I.jS=[];
for(var P=0;P<I.length;P++)w.I.jS.push(I[P].x+.5,I[P].y+.5);w.WV=!0};q.fl.prototype.wz=function(w,I,E,X){};
q.fl.prototype.oH=function(w,I,E,X){if(this.j.length==0)return;if(X.Y(aW.Ur)||X.Y(aW.jY)){this.j.pop();
this.lB=this.lB.slice(0,this.sO[this.j.length]);this.sO.pop();if(this.j.length==0)this.clear(w);else this.aau(w);
this.qF(w)}if(X.Y(aW.yd)){var o=this.NO(this.QG,w);this.N7(w,o);this.finish(w,E,X);this.clear(w)}if(X.Y(aW.K9)){this.clear(w)}};
q.fl.prototype.getSelection=function(w,I,E,X){return q.mc.gA(this.lB,null,this.pb.anta)};q.fl.prototype.wn=function(w,I){var E=this.j[this.j.length-1],X=E.y*w.q+E.x,o=I.y*w.q+I.x;
if(this.KT==1)return[o,X];var i=[o];while(o!=X){o=this.dO.gc[o];i.push(o);if(i.length>5e3){console.log(i);
throw"e"}}return i};q.fl.ate=function(w,I){var E=[],X=w.q;for(var P=0;P<I.length;P++){var o=I[P];E.push(o%X+.5,Math.floor(o/X)+.5)}return E};
q.fl.prototype.D0=function(w,I){var E=I.q,X=I.w,o=w.clone(),h=3;Q.sW.cM(this.dO,w.y*E+w.x);var i=this.dO.Ya[w.y*E+w.x];
for(var k=-h+1;k<h;k++)for(var x=-h+1;x<h;x++){var j=w.x+x,v=w.y+k;if(j<0||j>=E||v<0||v>=X)continue;
Q.sW.cM(this.dO,v*E+j);if(this.dO.Ya[v*E+j]<i)o.eo(j,v)}return o};q.Yi=function(){q.an.call(this,[10,36],q.$u,"tools/ruler");
this.A8=null;this.aN=null;this.e9=null;this.vg=null;this.kt=null};q.Yi.prototype=new q.an;q.Yi.prototype.J8=function(w){return w.WN};
q.Yi.prototype.enable=function(w,I,E,X){q.an.prototype.enable.call(this,w,I,X,E);if(w)this.QH(w)};q.Yi.prototype.disable=function(w,I,E,X){if(w)this.Eq(w)};
q.Yi.prototype.Q$=function(w,I,E,X,o){this.A8=this.e9=null;this.QH(E)};q.Yi.prototype.PX=function(w,I,E,X,o){var i=q.rK(w,o),h=w.u.sP(o.x,o.y);
h.x=Math.round(h.x);h.y=Math.round(h.y);var k=this.A8;this.aN=k?k.slice(0):null;var x=k&&a5.GZ(h,k[0])<i,j=k&&a5.GZ(h,k[1])<i,v=k&&k[2]&&a5.GZ(h,k[2])<i;
if(x||j||v){if(X.Y(aW.$i)&&k.length==2){if(j){var _=k[0];k[0]=k[1];k[1]=_}k[2]=k[0].clone();this.e9=[2]}else this.e9=[x?0:j?1:2]}else if(k&&q.Yi.a7j(k[0],k[1],h)<i&&Math.min(k[0].x,k[1].x)-5<=h.x&&h.x<=Math.max(k[0].x,k[1].x)+5&&Math.min(k[0].y,k[1].y)-5<=h.y&&h.y<=Math.max(k[0].y,k[1].y)+5){this.e9=[];
this.kt=[];for(var P=0;P<k.length;P++){this.e9.push(P);this.kt.push(k[P].clone())}this.vg=h}else{this.A8=[h.clone(),h.clone()];
this.e9=[1]}};q.Yi.prototype.L_=function(w,I,E,X,o){if(this.e9==null)return;var i=this.A8,h=this.e9,k=w.u.sP(o.x,o.y);
k.x=Math.round(k.x);k.y=Math.round(k.y);if(h.length>1){var x=k.x-this.vg.x,j=k.y-this.vg.y;for(var P=0;
P<i.length;P++){i[P]=this.kt[P].clone();i[P].offset(x,j)}}else{i[h[0]].eo(k.x,k.y);if(X.Y(aW.mG)){i[h[0]]=q.O5.w1(i[1-h[0]],i[h[0]])}}this.QH(w);
this.Ve(I,W.E.Z,{d:W.t.LF,G:this.id,a8m:i[0],Iu:i[1],hR:i[2],nN:w.nN,apj:w.q});w.u.Ep=Q.p.uh([i[0].x,i[0].y,i[1].x,i[1].y]);
console.log(w.u.Ep)};q.Yi.prototype.dj=function(w,I,E,X,o,i){this.e9=null;if(i){this.A8=this.aN.slice(0);
this.QH(w)}};q.Yi.prototype.Ve=function(w,I,E){var X=new e9(I,!0);X.data=E;w.c(X)};q.Yi.prototype.QH=function(w){var I=this.A8;
if(I==null)this.Eq(w);else{var E=[I[1].x,I[1].y,I[0].x,I[0].y],X=["M","L"];if(I.length>2){E.push(I[2].x,I[2].y);
X.push("L")}w.I.vC={J:X,C:E};w.I.jS=E}w.WV=!0};q.Yi.prototype.Eq=function(w){w.I.vC=null;w.I.jS=[]};
q.Yi.a7j=function(w,I,E){var X=I.x-w.x,o=I.y-w.y,i=Math.abs(o*E.x-X*E.y+I.x*w.y-I.y*w.x),h=Math.sqrt(X*X+o*o);
return h==0?0:i/h};q.at=function(){q.Og.call(this,[10,19],q.t4,"tools/sharpen");this.ld="copy"};q.at.prototype=new q.Og;
q.at.prototype.PX=function(w,I,E,X,o){var i=this.pb.pdetail?cn.pH:cn.t4;if(X.Y(aW.$i))i=cn.zV;this.ts(w,E,X,o,this.pb.strn,i);
if(this.Y0==null)return;this.$G(w)};q.at.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);if(this.Lz)this.WB(w,E,o);
if(this.Y0==null)return;if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.UH=function(){q.Og.call(this,[10,24],q.jw,"tools/shbrush");
this.ld="draw";this.pb.opacity=.5};q.UH.prototype=new q.Og;q.UH.prototype.PX=function(w,I,E,X,o){this.ts(w,E,X,o,1);
if(this.Y0==null)return;this.fA(w);this.$G(w)};q.UH.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);
if(this.Lz)this.WB(w,E,o);if(this.Y0==null)return;if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.UH.prototype.dj=function(w,I,E,X,o){if(this.Y0==null)return;
this.AL(w,"sheal",this.Y0.d_(),this.Y0.eB(),this.Y0.Iz(),null);this.M(w,this.Y0.Iz());q.Og.prototype.dj.call(this,w,I,E,X,o)};
q.r8=function(){q.Og.call(this,[10,20],q.hn,"tools/smudge");this.ld="copy"};q.r8.prototype=new q.Og;
q.r8.prototype.PX=function(w,I,E,X,o){this.ts(w,E,X,o,this.pb.strn,cn.hn);if(this.Y0==null)return;this.$G(w)};
q.r8.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);if(this.Lz)this.WB(w,E,o);if(this.Y0==null)return;
if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.Nr=function(){q.Og.call(this,[10,23],q._7,"tools/sponge");
this.ld="sponge"};q.Nr.prototype=new q.Og;q.Nr.prototype.PX=function(w,I,E,X,o){this.ts(w,E,X,o,this.pb.flow);
if(this.Y0==null)return;this.$G(w)};q.Nr.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);if(this.Lz)this.WB(w,E,o);
if(this.Y0==null)return;if(!o.WN)return;this.pE(w,E,X,o);this.$G(w)};q.kr=function(){q.an.call(this,[10,17],q.dc,"tools/zoom");
this.ja=!1;this.GC=!0;this.a5=0;this.RB=null;this.p7=null;this.M9=0;this.rU=null;this.XC=0;this.QR=new j$([{name:[8,0],SP:"Ctrl + +"},{name:[8,1],SP:"Ctrl + -",Lf:!0},{name:[20,3],SP:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],SP:"Ctrl + 1"}],[{X:W.E.s,G:q.dc,v:{d:"zoom",GC:!0}},{X:W.E.s,G:q.dc,v:{d:"zoom",GC:!1}},{X:W.E.s,G:q.dc,v:{d:"adapt",k:"fitscr"}},{X:W.E.s,G:q.dc,v:{d:"adapt",k:"pixel"}}])};
q.kr.prototype=new q.an;q.kr.prototype.UB=function(w,I,E,X,o){var i=this.QR;i.f();i.parent=I;i.update(w,E);
var h=new e9(W.E.Z,!0);h.data={d:W.t.DI,E5:i,x:o.SD+2,y:o.P4+1};I.c(h)};q.kr.prototype.enable=function(w,I,E,X){this.Bc(I,X);
if(w&&Date.now()-this.a5<300)this.Q$({d:"adapt",k:"pixel"},I,w,X,E);this.a5=Date.now()};q.kr.prototype.PX=function(w,I,E,X,o){this.p7=new a5(o.x,o.y);
this.M9=w.u.T;this.rU=w.u.z.clone()};q.kr.prototype.L_=function(w,I,E,X,o){if(this.p7==null)return;var i=Math.exp(Math.log(this.M9)+(o.x-this.p7.x)/64);
i=Math.max(.02,Math.min(q.kr.oN[0],i));w.u.T=this.M9;w.u.z=this.rU.clone();this.Q$({d:"zoom",T:i,ce:this.p7},I,w,X,E)};
q.kr.prototype.dj=function(w,I,E,X,o){if(a5.GZ(this.p7,o)<4){var i=this.a6A(X);this.Q$({d:"zoom",GC:i,ce:o},I,w,X,E)}this.p7=null};
q.kr.oN=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
q.kr.a4w=function(w,I,E,X){var o=1;while(w*o*1/2>E||I*o*1/2>X)o*=1/2;if(w*o*2/3>E||I*o*2/3>X)o*=1/2;
else if(w*o>E||I*o>X)o*=2/3;return o};q.kr.abR=function(w,I){var E=q.kr.a4j(w);if(I&&E==0)return w;if(!I&&E==q.kr.oN.length-1)return w;
return q.kr.oN[I?E-1:E+1]};q.kr.a4j=function(w){var I=0;while(q.kr.oN[I]>w)I++;return I};q.kr.BI=function(w,I,E,X){var o=w.gt;
if(X==0||X==null){X=q.kr.abR(w.T,E);if(X==w.T)return}var i=w.sP(I.x,I.y);i.x=Math.max(0,Math.min(o.q,i.x));
i.y=Math.max(0,Math.min(o.w,i.y));if(!1){}else{var h=w.rz(),k=w.T/X;h.translate(-i.x,-i.y);h.scale(k,k);
h.translate(i.x,i.y);w.au$(h)}};q.kr.prototype.Q$=function(w,I,E,X,o){if(w.d=="pzoom"){if(typeof w.k=="string")return;
w={d:"zoom",T:w.k/100}}var i=0,h=!1,k=null;if(w.d=="adapt"){var x=0;if(w.k=="pixel")x=1;if(w.k=="fitscr"){var x=0,j=E.u.mz.q,v=E.u.mz.w,_=new dC(0,0,E.q,E.w),L=Q.p.sy(_).C,U=new am;
U.rotate(E.u.yn);Q.p.F(L,U,L);var n=Q.p.zK(L),a=o.KY?Q.Ha.R1+4:8;x=Math.min((j-a*2)/n.q,(v-a*2)/n.w);
E.u.z.eo(0,0)}k=new a5(Math.round(E.u.mz.q/2),Math.round(E.u.mz.w/2));i=x;q.kr.BI(E.u,k,h,i);E.oP=!0}if(w.d.startsWith("multi")){function T(d){var l=d[0].x-d[1].x,A=d[0].y-d[1].y;
return Math.sqrt(l*l+A*A)}function g(d){return new a5((d[0].x+d[1].x)/2,(d[0].y+d[1].y)/2)}var D=w.es,b=g(D);
if(w.d=="multidown"){this.RB=[D,E.u.T,E.u.sP(b.x,b.y)]}else{var N=q.kr.oN;i=this.RB[1]*T(D)/T(this.RB[0]);
i=Math.max(N[N.length-1],Math.min(N[0],i));if(i!=E.u.T)q.kr.BI(E.u,b,h,i);var C=this.RB[2],Z=E.u.o_(C.x,C.y),S=E.u.z;
S.x=Math.round(S.x+b.x-Z.x);S.y=Math.round(S.y+b.y-Z.y);E.oP=!0}}if(w.d=="scroll"){k=w.ce;this.XC+=w.Dd.y;
var u=14;if(this.XC<-u){h=!0;this.XC=Math.max(this.XC+u,-(u-1))}else if(this.XC>u){h=!1;this.XC=Math.min(this.XC-u,u-1)}else return;
q.kr.BI(E.u,k,h,i);E.oP=!0}if(w.d=="zoom"){k=w.ce?w.ce:new a5(Math.round(E.u.mz.q/2),Math.round(E.u.mz.w/2));
if(w.T!=null)i=w.T;else h=w.GC;q.kr.BI(E.u,k,h,i);E.oP=!0}if(w.d=="mskView"){var p=E.b[E.g[0]];if(p.yA<=0){p.yA=1;
E.cW=!0}var f=p.yA==3?p.Em(E).D:p.pi();if(w.k==0){E.u.wL=[1,1,1];f.ag=!1}if(w.k==1){E.u.wL=[1,1,1];f.ag=!0}if(w.k==2){E.u.wL=[0,0,0];
f.ag=!0}for(var P=0;P<E.K3.length;P++)E.K3[P].ag=!1;E.Y1=[];E.WV=!0}};q.kr.prototype.oH=function(w,I,E,X){if(this.ja!=X.Y(aW.$i)){this.ja=X.Y(aW.$i);
var o={d:W.t.LF,G:this.id,ja:this.ja},i=new e9(W.E.Z,!0);i.data=o;I.c(i);this.Bc(I,X)}};q.kr.prototype.Bc=function(w,I){var E=new e9(W.E.Z,!0),X=this.a6A(I);
E.data={d:W.t.JN,sL:X?"zoom-in":"zoom-out"};w.c(E)};q.kr.prototype.NE=function(w,I,E,X){this.GC=w.GC;
this.Bc(I,X)};q.kr.prototype.a6A=function(w){var I=this.GC;if(w.Y(aW.gS)&&w.Y(aW.iu))I=!0;if(this.ja)I=!I;
return I};q.kr.a5M=function(w,I){if(w.Y(aW.w2)||w.Y(aW.a5T)){I.G=q.dc;I.data={d:"zoom",GC:!0}}if(w.Y(aW.Jz)){I.G=q.dc;
I.data={d:"zoom",GC:!1}}if(w.Y(aW.y5)){I.G=q.dc;I.data={d:"adapt",k:"fitscr"}}if(w.Y(aW.OY)){I.G=q.dc;
I.data={d:"adapt",k:"pixel"}}};q.zs=function(w,I,E){q.an.call(this,w,I,E);this.yX=null;this.m6=null;
this.Dw=null;this.a5L=0};q.zs.prototype=new q.an;q.zs.L1=function(w){var I={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},E=w==0?{classID:"null",null:I,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:I,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{$g:w==0?"fill":"stroke",Zc:E}};q.zs.prototype.enable=function(w,I,E,X,o){this.m6=E;var i=new e9(W.E.Z,!0);
i.data={d:W.t.JN,sL:"default"};I.c(i)};q.zs.prototype.UB=function(w,I,E,X,o){var i=w.cm(),h=i[0],k=i[1];
if(k.length==0)return;var x=h[k[0]],j=x.add.vmsk,v=w.u.sP(o.x,o.y),_=4*q.V()/w.u.T,L=new dC(v.x-_,v.y-_,_*2,_*2),U=Q.O.Qt(j.j,L)[0];
if(U.length!=0){j.pa=U;w.WV=!0}var n=Q.O.Mj(j.j,v).qI;if(n!=-1){j.g=[n];w.WV=!0}var a=new e9(W.E.Z,!0);
a.data={d:W.t.LF,G:this.id,PD:o,ii:w,Ff:E};I.c(a)};q.zs.prototype.a79=function(w,I){var E=new e9(W.E.Z,!0);
E.data={d:W.t.e1,GT:ik.wB};if(!I.x3)w.c(E);E.data={d:W.t.e1,GT:ik.NV};if(!I.yR.c1)w.c(E)};q.zs.prototype.kY=function(w,I,E,X){if(E.OZ!=this.id)return;
if(w.g.length==0)return;var o=w.b[w.g[0]],i=o.add.vmsk,h=o.add.vstk,k=q.zs.Vf(w,w.g[0]);this.yX=w;this.Dw=I;
if(o.us()&&i!=null&&(JSON.stringify(h)!=JSON.stringify(E.y6)||JSON.stringify(k)!=JSON.stringify(E.sk))){this.a5L=Date.now();
var x=new e9(W.E.Z,!0);x.data={d:W.t.e1,GT:ik.hy,k:k};I.c(x);x.data={d:W.t.e1,GT:ik.Vc,k:h};I.c(x)}};
q.zs.prototype.eU=function(w,I){if(this.yX==null)return;if(I==ik.Vk||I==ik.hy||I==ik.Vc){if(Date.now()-this.a5L<50)return;
var E=I==ik.hy,X=this.yX,o=E?w.sk:w.y6,i=[],h=X.g;for(var P=0;P<h.length;P++){var k=h[P],x=X.b[k];if(!x.us()||x.add.vmsk==null)continue;
i.push(k)}var j=new e9(W.E.s,!0);j.G=q.Qd;j.data={d:K.SI,ZF:i,tw:E,k:o};if(i.length!=0)this.Dw.c(j)}};
q.zs.prototype.alg=function(w){if(typeof w=="number"){var I=new e9(W.E.a3,!0);I.data=q.II._u(0);I.data.Zc.Usng.v.Type.v.Clr.v=Q.N.Ex({o:w>>>16&255,P:w>>>8&255,L:w>>>0&255});
this.Dw.c(I)}};q.zs.prototype.Q$=function(w,I,E,X,o){this.Dw=I;if(w.d=="newfill"){if(w.Vq==0){var i=new e9(W.E.Z,!0);
i.data={d:W.t.GV,ei:"colorpicker",vA:o.Ht,EH:this.alg.bind(this)};I.c(i)}}else if(w.d=="pathedit"){var h=w.ns,k="",x=E.c1.slice(0),j=E.c0.slice(0),v=E.c1.slice(0),_=E.c0.slice(0);
if(h=="rnm"){var L=-1-w.qI,U=x[L],n=hg.fx(w.name,U.add);if(L!=0)v[L]=n;else{_=[v.length];v.push(n);v[0]=hg.fx("Work Path")}k="Rename"}else if(h=="new"){var n=hg.fx("Path "+x.length);
if(w.aaE){var a=E.cm(),T=a[0],g=a[1],D=T[g[0]];n.add.vmsk=D.add.vmsk.clone();n.add.vogk=JSON.parse(JSON.stringify(D.add.vogk));
if(D.qI==-1){var b=v[_[0]]=hg.fx("Path "+x.length);b.name=D.name;b.qI=D.qI}}v.push(n);_=[v.length-1];
k="New"}else if(h=="del"){if(_.length==0)return;_.sort(function(B,J){return B-J});if(_[0]==0){v[0]=hg.fx(x[0].name);
_=_.slice(1)}var C=0;while(_.length!=0){v.splice(_[0]-C,1);_=_.slice(1);C++}k="Delete"}else if(h=="fromsel"){var Z=v[0]=hg.fx("Work Path");
_=[0];if(E.n==null)return;var S=E.n.channel.slice(0);for(var P=0;P<S.length;P++)S[P]=S[P]>128?2:1;var u=E.n.rect.clone();
u.Cs(1,1);var p=Q.$(u.A());Q.b_(S,E.n.rect,p,u);var f=a3.n5(p,u.q,u.w,Math.round(u.A()*5e-4)),T=a3.cm(f),d=new am(1,0,0,1,-1+E.n.rect.x,-1+E.n.rect.y);
for(var P=0;P<T.length;P++)Q.p.F(T[P].path.C,d,T[P].path.C);for(var P=0;P<T.length;P++){var l=T[P];if(l.color==1&&l.parent==-1)continue;
var A=Q.p.PY(T[P].path,!1);Z.add.vmsk.j=Z.add.vmsk.j.concat(A.slice(2))}Z.add.vogk=K.QQ(Z.add.vmsk.j);
k="Selection to"}var B=new fL(k+" Path",this);B.data={aN:x,VR:j,a2$:v,py:_};if(h=="fromsel"){B.data.KC=E.n;
B.data.bo=null}E.f6(B);this.$D(B.data,E)}else{var e=w.Wj,a=E.cm(w.d=="append"),T=a[0],g=a[1],Z=T[g[0]],m=Z.add.vmsk,$=Z.add.vogk,V=m.clone(),H=m.clone(),F=JSON.stringify($);
if(w.d=="remove"){if(w.JD&&H.pa.length!=0){H.j=Q.O.ar0(H.j,H.pa,$,w.aei);var G=Q.O.RZ(H.j);for(var P=0;
P<H.g.length;P++)if(H.g[P]>=G){H.g.splice(P,1);P--}H.pa=[];e="Delete Anchors"}else{if(H.g.length==0)return;
var C=0;for(var P=0;P<H.g.length;P++){$.splice(H.g[P]+C,1);C--}H.j=Q.O.ahr(H.j,H.g);H.g=[];H.pa=[];if(e==null)e="Delete Paths"}}if(w.d=="append"){q.zs.HZ(w.a2q,H,$)}this.MJ(E,Z.qI,H,$);
this.ij(E,e,Z.qI,V,H.clone(),null,F,JSON.stringify($))}};q.zs.rq=function(w,I){var E=Q.O.agO(w.j,w.g),X=[];
for(var P=0;P<w.g.length;P++)X.push(JSON.parse(JSON.stringify(I[w.g[P]])));return[E,X]};q.zs.HZ=function(w,I,E){var X=Q.O.RZ(I.j),o=Q.O.RZ(w[0]);
I.j=I.j.concat(w[0].slice(2));I.g=[];for(var P=0;P<o;P++)I.g.push(X+P);for(var P=0;P<o;P++)E.push(JSON.parse(JSON.stringify(w[1][P])))};
q.zs.prototype.Uo=function(w,I){if(I==null)return!1;var E=I.cm(),X=E[0],o=E[1];if(o.length==0)return!1;
var i=X[o[0]],h=i.add.vmsk;if(h&&h.g.length+h.pa.length!=0)return[aW.Ur,aW.jY].indexOf(w)!=-1};q.zs.prototype.oH=function(w,I,E,X){if(w==null)return;
var o=w.cm(),i=o[0],h=o[1];if(h.length==0)return;var k=i[h[0]],x=k.add.vmsk;if(X.Y(aW.K9)||X.Y(aW.yd)||this.id==q.Dn&&X.Y(aW.yq)){x.pa=[];
w.WV=!0}if(x.g.length!=0){var j=X.Ys();if(j.x!=0||j.y!=0){var v=x.clone(),_=x.clone(),L=new am(1,0,0,1,j.x,j.y),U=k.add.vogk,n=JSON.stringify(U);
if(X.Y(aW.$i)){var a=q.zs.rq(_,U);q.zs.HZ(a,_,U)}Q.O.yJ(_.j,L,_.g);Q.GJ.F(U,Q.K.Rv(L),_.g);this.MJ(w,k.qI,_,U);
this.ij(w,"Move Paths",k.qI,v,_.clone(),!0,n,JSON.stringify(U))}if(X.Y(aW.Ur)||X.Y(aW.jY))this.Q$({d:"remove",JD:this.id==q.Dn},I,w,X,E)}};
q.zs.prototype.ij=function(w,I,E,X,o,i,h,k){var x=new fL(I,this);x.data={Lq:E,C3:X,u$:o,a8v:i,aaD:h,fn:k};
w.f6(x)};q.zs.prototype.$D=function(w,I){if(w.Lq!=null)this.MJ(I,w.Lq,w.u$.clone(),JSON.parse(w.fn));
else{I.c1=w.a2$.slice(0);I.c0=w.py.slice(0);I.WV=I.cW=!0}if(w.KC||w.bo){I.n=w.bo;I.EZ=!0}};q.zs.prototype.xg=function(w,I){if(w.Lq!=null)this.MJ(I,w.Lq,w.C3.clone(),JSON.parse(w.aaD));
else{I.c1=w.aN.slice(0);I.c0=w.VR.slice(0);I.WV=I.cW=!0}if(w.KC||w.bo){I.n=w.KC;I.EZ=!0}};q.zs.prototype.MJ=function(w,I,E,X){var o=I<0?w.c1[-1-I]:I<1e6?w.b[I]:w.b[I-1e6].add.TySh,i=o.add.vmsk;
i.channel=null;i.$o=!0;if(i.Zk){i.Zk.channel=null;i.Zk.$o=!0}o.add.vmsk=E;o.add.vogk=X;if(1e6<=I){bQ.Zd(o);
var h=w.b[I-1e6],k=o,x=this.m6,j=new g9(k.Da,x.vj),v=fv.dn(j,k);h.rect=v._b;h.buffer=v.Fr;h.M();w.M()}else if(0<=I){E.$o=!0;
o.kH(w);w.M()}w.WV=w.cW=!0};q.zs.Vf=function(w,I){var E=w.b[I],X=E.add.vstk,o=null;if(X&&!X.fillEnabled.v)o={BM:0};
else if(E.add.SoCo)o={BM:1,Pz:E.add.SoCo};else if(E.add.GdFl)o={BM:2,Pz:E.add.GdFl};else if(E.add.PtFl)o={BM:3,Pz:E.add.PtFl};
return o};q.zs._c=function(w,I){var E=w.add.vmsk,X=w.add.vstk,o=I.BM;if(X)X.fillEnabled.v=o!=0;if(o>0){var i=["SoCo","GdFl","PtFl"][o-1];
for(var P=0;P<3;P++)delete w.add[["SoCo","GdFl","PtFl"][P]];w.add[i]=I.Pz}};q.II=function(w,I,E,X){q.zs.call(this,w,I,E);
this.pb={shape:fZ.SX(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{U8:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.a69=X;this.pw=null;this.hO=null;this.Nj=null;this.f2=new gf};q.II.prototype=new q.zs;q.II.prototype.J8=function(w){return w.WN&&this.id!=q.H8};
q.II.prototype.enable=function(w,I,E,X,o){this.m6=E;var i=new e9(W.E.Z,!0);i.data={d:W.t.JN,sL:"crosshair"};
I.c(i)};q.II.prototype.oH=function(w,I,E,X){q.zs.prototype.oH.call(this,w,I,E,X);this.f2.oH(X);this.Ri(I,E)};
q.II.prototype.Ri=function(w,I){var E=new e9(W.E.Z,!0);E.data={d:W.t.LF,G:this.id,oK:this.Y9(I)};w.c(E)};
q.II.prototype.Y9=function(w){var I=this.f2.r1(0),E=this.f2.X$(0),X=q.mc.P3(this.pb.binop,I,E);if(w.GP==1&&X==0)X=1;
return X};q.II.prototype.UO=function(w,I,E,X){};q.II.prototype.PX=function(w,I,E,X,o){var i=E.GP;if(i!=2)this.a79(I,E);
if(i==2&&!w.p8())return;var h=w.u.sP(o.x,o.y);h=q.Q8.Bi(w,h,E);this.Nj=[h.x,h.y];this.pw=h;this.hO=new a5(0,0);
this.f2.PX(X)};q.II.prototype.agt=function(w,I,E,X){var o=[this.pw.clone(),I.clone()];E=this.f2.r1(1)||E.Y(aW.mG)||this.f2.X$(1)?E:null;
if(this.a69)o=q.II.hb(o[0],o[1],E,!0,this.pb.cstr);if(w)w.u.Ep=new dC(o[0].x,o[0].y,o[1].x-o[0].x,o[1].y-o[0].y);
return this.UO(o[0],o[1],this.f2.r1(1)&&E.Y(aW.mG),this.Nj,w.u,X)};q.II.prototype.a8R=function(w,I,E){var X=w.u.sP(I.x,I.y);
if(this.id==q.H8)return X;var o=this.pb.cstr;if(o.U8==2){var i=new dC(X.x-o.x,X.y-o.y,o.x,o.y),h=q.Q8.VC(w,i,E);
X.x+=h[0];X.y+=h[1];q.Q8.ZA(w,i,h)}else X=q.Q8.Bi(w,X,E);return X};q.II.prototype.L_=function(w,I,E,X,o){if(this.pw==null)return;
var i=this.Nj,h=i.length,k=o?this.a8R(w,o,E):new a5(i[h-2],i[h-1]);if(X.Y(aW.gS))this.pw=k.MT(this.hO);
else this.hO=k.MT(this.pw);i.push(k.x,k.y);if(this.pb.shape==null)this.pb.shape=E.V9[0];var x=this.agt(w,k,X,!0)[0],j=Q.p.x7(x);
w.I.vC=j;if(this.id!=q.H8&&this.id!=q.AX&&this.id!=q.I0)q.an.xU(o,w.u.Ep,w,E);w.WV=!0;this.f2.L_()};
q.II.prototype.axw=function(w,I,E,X){var o=w[4].clone();if(X){o.x-=I/2;o.y-=E/2}if(this.id==q.AX){I/=2;
E/=2;o.x+=I;o.y+=E;E=-E;I=0}var i=this.UO(o,new a5(o.x+I,o.y+E),!1,this.Nj);this.a8q(w[0],w[1],w[2],i)};
q.II.prototype.a8q=function(w,I,E,X){var o=new e9(W.E.a3,!0);o.data=q.II.ayl(X[1],E);I.c(o);if(X[1].v.classID=="customShape"&&X[1].v.Nm.v.startsWith("--")){var i=w.cm(),h=i[0],k=i[1],x=h[k.pop()],j=x.add.vmsk,v=x.add.vogk;
Q.GJ.p$(v);var _=j.clone();_.j=X[0];this.MJ(w,x.qI,_,v)}};q.II.prototype.dj=function(w,I,E,X,o,i){if(this.pw==null)return;
var h=this.a8R(w,o,E),k=this.Y9(E),x=E.GP,j=this.Nj,v=j.length;if(this.id==q.H8&&v<=4){}else if(v<=4){h.x=Math.round(h.x);
h.y=Math.round(h.y);var _=new e9(W.E.Z);_.data={d:W.t.GV,ei:"createshape",a58:this.axw.bind(this),abc:this.name,a7u:[w,I,E,X,h]};
if(!i)I.c(_)}else if(v!=2){var L=this.agt(w,h,X),U=L[0],n=w.cm(!0),a=n[0],T=n[1],g=T.length-1;if(x==1&&U.length>2||x==0&&k!=0&&g!=-1&&a[T[g]].qI>=0){U[2].KP=[1,2,3,0][k-1];
var D=a[T.pop()],b=D.add.vmsk,N=D.add.vogk,C=b.clone(),Z=b.clone(),S=JSON.stringify(N);Z.j=Z.j.concat(U.slice(2));
Z.g=[Q.O.RZ(Z.j)-1];var u=Q.GJ.Py(L[1]);N.push(u?u:Q.GJ.xd());this.MJ(w,D.qI,Z,N);this.ij(w,this.name,D.qI,C,Z,null,S,JSON.stringify(N))}else if(x==0){this.a8q(w,I,E,L)}else if(x==2){var Z=new K.DN;
Z.j=Z.j.concat(U.slice(2));var p=Z.pi();if(!this.pb.anta)Q.round(p.channel);var f=Q.$(p.rect.A()*4);
Q.Ez(f,(E.Ht&255)<<16|(E.Ht>>8&255)<<8|(E.Ht>>16&255)<<0);Q.lJ(p.channel,f,3);var d=new e9(W.E.s,!0);
d.G=q.nz;d.data={d:"draw",W7:{buffer:f,rect:p.rect.clone()},Wj:this.name};I.c(d)}}this.pw=null;w.I.vC=null;
w.I.gy=null;w.I.E8=[];w.u.Ep=null;w.WV=!0;this.f2.dj();this.Ri(I,E)};q.II.prototype.NE=function(w,I,E,X,o){for(var E in w)this.pb[E]=w[E]};
q.II.hb=function(w,I,E,X,o){var i=w.x,h=w.y,k=I.x,x=I.y;if(o&&o.U8==2){if(X){k=Math.round(k);x=Math.round(x)}i=k-o.x;
h=x-o.y}else{var j=0;if(o&&o.U8==1)j=o.y/o.x;else if(E&&E.Y(aW.mG))j=1;if(j!=0){if(X){if(i<k)i=Math.floor(i);
else i=Math.ceil(i);if(h<x)h=Math.floor(h);else h=Math.ceil(h)}var v=Math.abs(k-i),_=Math.abs(x-h),L=v;
if(_/v<j)L*=_/v/j;k=k>i?i+L:i-L;x=x>h?h+L*j:h-L*j}if(E&&E.Y(aW.$i)){i-=k-i;h-=x-h}}var w=new a5(i,h),I=new a5(k,x);
if(X)q.II.a14(w,I);return[w,I]};q.II.a14=function(w,I){if(w.x>I.x){var E=w.x;w.x=I.x;I.x=E}if(w.y>I.y){var E=w.y;
w.y=I.y;I.y=E}w.x=Math.floor(w.x);w.y=Math.floor(w.y);I.x=Math.ceil(I.x);I.y=Math.ceil(I.y)};q.II.any=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
q.II._u=function(w,I){var E=q.II.any(),X=E.Usng.v.Type;if(I==null){X.v=JSON.parse(JSON.stringify(hL.Bx[w]));
X.v.classID=["solidColorLayer","gradientLayer","patternLayer"][w]}else q.AD.LV(I,X.v,w);return{$g:"make",Zc:E}};
q.II.ayl=function(w,I){var E=I.sk,X=JSON.parse(JSON.stringify(I.y6));if(E.BM==0)X.fillEnabled.v=!1;var o=q.II._u(Math.max(0,E.BM-1),E.Pz);
o.Zc.Usng.v.Shp=w;o.Zc.Usng.v.strokeStyle={t:"Objc",v:X};return o};q.EF=function(w){q.zs.call(this,w==0?[10,29]:[10,51],w==0?q.Dn:q.a19,w==0?"tools/pen":"tools/cpen");
this.KT=w;this.RT=null;this.dC=null;this.Lr=null;this.ady=0;this.qz=null;this.eO=!1;this.W0=!1;this.bE=!1;
this.XQ=!1;this.a5=0};q.EF.prototype=new q.zs;q.EF.prototype.J8=function(w){return this.dC!=null};q.EF.prototype.oH=function(w,I,E,X){if(!X.Y(aW.$i))this.bE=!1;
if(this.KT==1&&(X.Y(aW.Ur)||X.Y(aW.jY))&&this.Uo(aW.Ur,w)){this.Q$({d:"remove",JD:!0},I,w,X,E);return}q.zs.prototype.oH.call(this,w,I,E,X)};
q.EF.prototype.PX=function(w,I,E,X,o){this.RT=o;this.a79(I,E);var i=w.u.sP(o.x,o.y),a,T;i.x=Math.round(i.x);
i.y=Math.round(i.y);var h=q.Q8.Bi(w,i,E),k=E.GP,x=this.ady;if(k==2)k=0;var j=w.cm(k==1),v=j[0],_=j[1],L=v[_.pop()],U=L?L.add.vmsk:null;
if(k==0&&x!=0&&L&&L.qI>=0)k=1;var n=q.rK(w,o);if(U)a=Q.O.Mj(U.j,i,!0,n);var g=X.Y(aW.$i);if(k==0&&(U==null||U.pa.length==0&&a.qI==-1)){var D=new e9(W.E.a3,!0),b=Q.GJ.dZ("customShape",[0,0,1,1],null,null,null,"--");
D.data=q.II.ayl(b,E);I.c(D);this.XQ=!0;j=w.cm(!0);v=j[0];_=j[1];L=v[_.pop()];U=L.add.vmsk;U.j=U.j.slice(0,2)}var C=L.add.vogk;
this.dC=U.clone();this.Lr=JSON.stringify(C);var Z=U.j,S=Q.O.RZ(Z);T=Q.O.Qt(U.j,new dC(i.x-n,i.y-n,n*2,n*2),U.pa);
a=Q.O.Mj(U.j,i,!0,n);var u=T[0].length+T[1].length+T[2].length;if(a.qI!=-1&&T[0].length==0){var p=Q.O.ny(Z,a.qI),f=Z[p].length;
while(f<=a.c5){a.c5-=f;p+=f+1}var d={type:4,DX:h.clone(),H:h.clone(),kk:h.clone()},l=p+2+a.c5,A=p+1+(1+a.c5)%f,B=Z[l-1],e=Z[A];
if(!B.H.ZQ(B.kk)||!e.DX.ZQ(e.H)){var m=Q.p.a1y(B.H,B.kk,e.DX,e.H,a.m1);B.kk=m[0];d.DX=m[1];d.H=m[2];
d.kk=m[3];e.DX=m[4]}Z.splice(l,0,d);Z[p].length++;U.pa=[l];if(this.KT==1){d.DX.x+=2;this.nM(U)}}else if(u!=0&&g){var $=0;
for(var P=0;P<3;P++)if(T[P].length!=0){$=T[P][0];this.W0=P==1;break}if(T[0].length!=0){var V=U.j.length-1,H=U.j[$];
H.kk=H.H.clone();var F=H.type>=3?3:0;if($!=V){H.DX=H.H.clone();H.type=F+1;this.bE=!0}else H.type=F+2}U.pa=[$]}else if(T[0].length==1&&Z[T[0][0]-1]&&(Z[T[0][0]-1].H!=null||Z[T[0][0]-1].type==0||Z[T[0][0]-1].length==1)){var $=T[0][0];
if(this.KT==1){var G=Z[$],J=G.H,c=Math.abs(Q.p.aqz(G.DX.x,G.DX.y,J.x,J.y,G.kk.x,G.kk.y));if(c>.01){G.DX=J.clone();
G.kk=J.clone()}if(Date.now()-this.a5<300){var r=G.DX.ZQ(J)&&G.kk.ZQ(J);if(r)G.kk.offset(2,2);else{G.DX=J.clone();
G.kk=J.clone()}this.a5=0}else this.a5=Date.now();U.pa=[$];this.nM(U)}else{var p=Q.O.ny(Z,Q.O.hE(Z,$)),b=Z[p],s=p+b.length;
if($!=s||b.type==0){Z[p].length--;Z.splice($,1);s--;if(b.length==0){Z.splice(p,1);s=-1}}if(s!=-1)U.pa=[s];
else U.pa=[]}}else{var z=0;if(U.pa.length!=1){U.g=[S];Z.push({type:3,length:1,KP:[1,2,3,0][Math.max(0,x-1)],mr:0,ad:0,Lk:0});
z=Z.length;C.push(Q.GJ.xd())}else{var G=U.pa[0],Y=Q.O.hE(Z,G),p=Q.O.ny(Z,Y);G=p+Z[p].length;if(a5.GZ(i,Z[p+1].H)<n){Z[p].type=0;
U.pa=[p+1];this.qz=h;this.eO=!0;this.MJ(w,L.qI,U,C);w.WV=!0;return}Z[p].length++;z=G+1;if(G==p+1&&Z[p].length!=2)z=p+1}if(X.Y(aW.mG)&&Z[z-1]&&Z[z-1].H)h=q.O5.w1(Z[z-1].H,h);
var d={type:4,DX:h.clone(),H:h.clone(),kk:h.clone()};Z.splice(z,0,d);U.pa=[z];this.qz=h;if(this.KT==1){d.DX.x+=2;
this.nM(U)}this.a5=Date.now()}this.MJ(w,L.qI,U,C);w.WV=!0};q.EF.prototype.nM=function(w){var I=w.j,E=w.pa[0],X=Q.O.ny(I,Q.O.hE(I,E))+1,o=I[X-1].length;
if(o<3)return;var i=[],h=[];for(var P=0;P<5;P++){var k=X+(E-X-2+P+5*o)%o;h.push(k);var x=I[k].H;i.push(x.x,x.y)}var j=Q.p.axd(i);
for(var P=1;P<4;P++){var v=P*4,_=I[h[P]],x=_.H,L=_.DX.ZQ(x)&&_.kk.ZQ(x);if(!L){_.DX.eo(j[v],j[v+1]);
_.kk.eo(j[v+2],j[v+3])}else{_.DX=x.clone();_.kk=x.clone()}}};q.EF.prototype.L_=function(w,I,E,X,o){if(this.dC==null)return;
var i=this.RT;if(i&&a5.GZ(i,o)<q.rK({u:{T:1}},o))return;this.RT=null;var h=w.u.sP(o.x,o.y),k=q.Q8.Bi(w,h,E),x=w.cm(E.GP==1),j=x[0],v=x[1],_=j[v.pop()],L=_.add.vmsk,U=L.j,n=U[L.pa[0]];
if(this.KT==1){var a=n.H.ZQ(n.DX)&&n.H.ZQ(n.kk);n.H=h.clone();n.DX=h.clone();n.kk=h.clone();if(!a)n.DX.x+=2;
this.nM(L)}else if(X.Y(aW.gS)){if(X.Y(aW.mG))k=q.O5.w1(this.qz,k);var T=n.H.MT(n.kk),g=n.DX.MT(n.H);
n.kk=k;n.H=k.add(T);n.DX=n.H.add(g)}else{if(X.Y(aW.mG))k=q.O5.w1(n.H,k);if(this.W0){var D=n.DX;n.DX=n.kk;
n.kk=D}if(this.eO){var b=a5.GZ(n.H,k),N=b==0?0:a5.GZ(n.H,n.kk)/b;n.kk.x=n.H.x+N*(k.x-n.H.x);n.kk.y=n.H.y+N*(k.y-n.H.y)}else n.kk=k;
if(X.Y(aW.$i)&&!this.bE)n.type=5;else{n.type=4;n.DX=n.H.add(n.H.MT(k))}this.qz=k;if(this.W0){var D=n.DX;
n.DX=n.kk;n.kk=D}}this.MJ(w,_.qI,L,_.add.vogk);w.WV=!0};q.EF.prototype.dj=function(w,I,E,X,o){if(this.dC==null)return;
var i=w.cm(E.GP==1),h=i[0],k=i[1],x=h[k.pop()],j=x.add.vmsk,v=x.add.vogk;if(this.eO){j.pa=[];this.MJ(w,x.qI,j,x.add.vogk)}var _=this.dC.j.length,L=j.j.length;
if(!this.XQ)this.ij(w,this.eO?"Close Path":(_==L?"Move":_<L?"Add":"Delete")+" Anchor Point",x.qI,this.dC,j.clone(),null,this.Lr,JSON.stringify(v));
this.XQ=!1;this.eO=!1;this.W0=!1;this.bE=!1;this.dC=null};q.EF.prototype.NE=function(w,I,E,X,o){this.ady=w.binop};
q.BP=function(){q.II.call(this,[10,30],q.H8,"tools/fpen",!1)};q.BP.prototype=new q.II;q.BP.prototype.UO=function(w,I,E,X,o,i){var h=X.length-1,k=Math.sqrt((X[h-1]-X[0])*(X[h-1]-X[0])+(X[h]-X[1])*(X[h]-X[1]))<6/o.T;
return[Q.O.Ch(X,k,i),Q.GJ.dZ("customShape",[0,0,1,1],null,null,null,"--")]};q.bu=function(){q.zs.call(this,[10,27],q.kQ,"tools/pselect");
this.N8=null;this.dx=!1;this.Yj=null;this.dC=null;this._6=null;this.Lr=null;this.Kd=null;this.Pu=null;
this.SY=null;this.dh=null};q.bu.prototype=new q.zs;q.bu.prototype.J8=function(w){return w.WN};q.bu.prototype.PX=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y),h=w.cm(),k=h[0],x=h[1],j,v;
for(var P=0;P<x.length;P++){var _=k[x[P]],L=_.add.vmsk,U=Q.O.Mj(L.j,i).qI;if(U!=-1){this.Yj=j=_;v=U}for(var n=0;
n<L.A8.length;n++){var a=Q.O.Tj(L.j,L.A8[n]);if(a==null)continue;var T=a5.GZ(a,i);if(T<4*q.V()/w.u.T){var g=w.b[_.qI-1e6].add.TySh,D=g.Da.Curve,b=g.F,N=D.Reversed;
D.Reversed=!1;var D=g9.eW(g.Da.Curve);D.Reversed=N;Q.p.F(D[0],b,D[0]);this.SY=[D,n,b.lV*b.cA-b.L*b.I5];
this.Yj=j=_;v=0}}if(this.SY)break}if(j!=null){var L=j.add.vmsk;L.pa=[];var C=L.g.indexOf(v);if(X.Y(aW.mG)){if(C==-1){L.g.push(v);
this.dx=!0}else L.g.splice(C,1)}else{if(C==-1)L.g=[v];this.dx=!0}this.Pu=Q.O.sM(L.j,L.g)}this.N8=i;this.dh=new aE(i);
w.cW=!0;w.WV=!0};q.bu.prototype.L_=function(w,I,E,X,o){if(this.N8==null)return;var i=w.u.sP(o.x,o.y);
if(this.dx){i=this.dh.N2(i,X);var h=this.Yj;if(this.dC==null){this.dC=this._6=h.add.vmsk.clone();this.Lr=this.Kd=JSON.stringify(h.add.vogk);
if(X.Y(aW.$i)){var k=this.dC.clone(),x=JSON.parse(this.Lr),j=q.zs.rq(k,x);q.zs.HZ(j,k,x);this._6=k;this.Kd=JSON.stringify(x)}}var k=this._6.clone(),x=JSON.parse(this.Kd);
if(this.SY){var v=this.SY,_=v[0][0],L=Q.p.Z1(_,i.x,i.y);k.A8[v[1]]=v[0][1][L];var U=_[L*2],n=_[L*2+1],a=(_[L*2+2]-U)*(i.y-n)-(_[L*2+3]-n)*(i.x-U);
if(v[2]<0)a=-a;k.kW=a>0}else{var T=this.Pu.clone(),g=T.x,D=T.y;T.offset(i.x-this.N8.x,i.y-this.N8.y);
T.x=Math.round(T.x);T.y=Math.round(T.y);var b=q.Q8.VC(w,T,E),N=new am(1,0,0,1,T.x-g+b[0],T.y-D+b[1]);
Q.O.yJ(k.j,N,k.g);Q.GJ.F(x,Q.K.Rv(N),k.g);q.Q8.ZA(w,T,b)}this.MJ(w,h.qI,k,x)}else{var C=this.N8;w.I.vC=Q.p.sy(new dC(C.x,C.y,i.x-C.x,i.y-C.y));
w.WV=!0}};q.bu.prototype.dj=function(w,I,E,X,o){if(this.N8==null)return;var i=w.u.sP(o.x,o.y),h=this.Yj,k=h?h.add.vmsk:null;
if(this.dx){var x=JSON.stringify(h.add.vogk);if(!this.N8.ZQ(i))this.ij(w,"Move Paths",h.qI,this.dC,k,null,this.Lr,x);
if(w!=null&&w.I.gy){w.I.gy=null;w.WV=!0}}else{if(k){var j=this.N8,v=new dC(j.x,j.y,i.x-j.x,i.y-j.y),_=Q.O.a7K(k.j,v);
if(X.Y(aW.mG)){for(var P=0;P<_.length;P++)if(k.g.indexOf(_[P])==-1)k.g.push(_[P])}else k.g=_}w.I.vC=null;
w.WV=!0}this.N8=null;this.dC=null;this.SY=null;this.dx=!1;this.dh=null};q.bu.prototype.kY=function(w,I,E,X){q.zs.prototype.kY.call(this,w,I,E,X);
if(E.OZ!=this.id)return;if(w.g.length==0)return;var o=w.cm(),i=o[0],h=o[1];if(h.length==0)return;var k=i[h[0]],x=k.add.vmsk,j=k.add.vstk,v=k.add.vogk,_=new e9(W.E.Z,!0);
_.data={d:W.t.LF,G:this.id,jt:"main",S7:x?x:null,GJ:v};I.c(_)};q.bu.prototype.NE=function(w,I,E,X,o){var i=w.hT;
if(i.S7){var h=E.cm(),k=h[0],x=h[1];if(x.length==0)return;var j=k[x[0]],v=j.add.vmsk.clone(),_=JSON.stringify(j.add.vogk),L=i.S7;
this.MJ(E,j.qI,L,i.GJ);var U=[18,5];if(v.j.length==L.j.length)U=v.g[0]==L.g[0]?"Fill Rule":"Path Order";
this.ij(E,U,j.qI,v,L,null,_,JSON.stringify(i.GJ))}};q.EM=function(){q.zs.call(this,[10,28],q.bl,"tools/dselect");
this.Z3=-1;this.xb=-1;this.BD=null;this.N8=null;this.Yj=null;this.dC=null;this.Lr=null;this.yX=null;
this.Ta=0;this.TF={psnap:!1};this.dh=null};q.EM.prototype=new q.zs;q.EM.prototype.J8=function(w){return w.WN};
q.EM.prototype.NE=function(w){this.TF=w};q.EM.prototype.Q$=function(w,I,E,X,o){if(w.d=="crnr"){if(E==null)return;
var i=E.cm(),h=i[0],k=i[1];if(k.length==0){alert("No paths selected");return}var x=h[k[0]],j=x.add.vmsk;
if(j.pa.length==0){alert("No corners selected");return}for(var P=0;P<j.pa.length;P++){var v=j.j[j.pa[P]];
if(!v.H.ZQ(v.kk)||!v.H.ZQ(v.DX)){alert("Only sharp corners can be rounded");return}}if(this.dC==null){this.dC=x.add.vmsk.clone();
this.Lr=JSON.stringify(x.add.vogk);this.Yj=x;this.yX=E}var _=new e9(W.E.Z,!0);_.data={d:W.t.GV,ei:"cornerradius",di:5,qu:this.atP.bind(this)};
I.c(_)}else q.zs.prototype.Q$.call(this,w,I,E,X,o)};q.EM.prototype.atP=function(w){if(w=="confirm"){var I=this.yX,E=this.Yj,X=E.add.vmsk,o=E.add.vogk;
this.ij(I,[12,94,0],E.qI,this.dC,X,null,this.Lr,JSON.stringify(o));this.Eq();return}var X=this.dC.clone(),o=JSON.parse(this.Lr),i=X.pa;
if(w=="cancel"){}else{var h=[];for(var P=0;P<i.length;P++){var k=i[P],x=Q.O.hE(X.j,k,!0),_=0;if(h.indexOf(x)!=-1)continue;
h.push(x);var j=Q.O.ny(X.j,x,!0),v=X.j[j].length,L=[];for(var U=0;U<v;U++){var n=X.pa.indexOf(j+U+1)==-1?0:w;
L.push(n);if(n!=0)_++}Q.O.Yy(X.j,j,L);for(var U=0;U<i.length;U++)if(i[U]>j+v)i[U]+=_}this.Te(X,o);X.pa=[]}this.MJ(this.yX,this.Yj.qI,X,o);
if(w=="cancel")this.Eq()};q.EM.prototype.disable=function(w,I,E,X){this.oQ(w)};q.EM.prototype.PX=function(w,I,E,X,o){this.oQ(w);
var i=w.u.sP(o.x,o.y),_,L,U;this.BD=i.clone();var h=w.cm(),k=h[0],x=h[1];if(x.length==0)return;var j=q.rK(w,o),v=new dC(i.x-j,i.y-j,j*2,j*2);
for(var n=0;n<x.length;n++){_=this.Yj=k[x[n]];L=_.add.vmsk;U=Q.O.Qt(L.j,v);if(U[0].length+U[1].length+U[2].length!=0)break}var a=[!1,!1,!1];
for(var P=0;P<3;P++){for(var T=0;T<U[P].length;T++){var g=U[P][T],D=L.j[g];if(L.pa.indexOf(g)!=-1||P==1&&L.pa.indexOf(g-1)!=-1&&!D.H.ZQ(D.DX)||P==2&&L.pa.indexOf(g+1)!=-1&&!D.H.ZQ(D.kk)){U[P]=[g];
a[P]=!0;break}}}if(U[0].length!=0&&(a[0]||!a[1]&&!a[2])){var b=U[0][0],N=L.pa.indexOf(b);if(X.Y(aW.mG)){if(N==-1)L.pa.push(b);
else{L.pa.splice(N,1);w.WV=!0;return}}else if(N==-1)L.pa=[b];this.Z3=b;this.xb=0}else if(U[1].length!=0&&a[1]){this.Z3=U[1][0];
this.xb=1}else if(U[2].length!=0&&a[2]){this.Z3=U[2][0];this.xb=2}else{var C=Q.O.Mj(L.j,i,!0,j);if(C.qI==-1)this.N8=i;
else{L.g=[C.qI];L.pa=[]}}if(this.dC==null){this.dC=_.add.vmsk.clone();this.Lr=JSON.stringify(_.add.vogk)}this.dh=new aE(i);
w.WV=!0};q.EM.prototype.L_=function(w,I,E,X,o){if(w==null)return;var i=w.u.sP(o.x,o.y),h=this.Yj;if(this.Z3!=-1){var k=this.dC.clone(),x=h.add.vogk,j=k.j[this.Z3];
j=[j.H,j.DX,j.kk][this.xb];if(X.Y(aW.mG)){if(this.xb==0){i=this.dh.N2(i,X);i.x+=j.x-this.BD.x;i.y+=j.y-this.BD.y}else i=q.O5.w1(k.j[this.Z3].H,i)}else{if(this.TF.psnap){i.x=Math.round(i.x);
i.y=Math.round(i.y)}i=q.Q8.Bi(w,i,E)}if(this.xb==0){var v=new am(1,0,0,1,i.x-j.x,i.y-j.y);Q.O.yJ(k.j,v,null,k.pa)}else{var _=k.j[this.Z3],L=_.DX,U=_.kk;
if(this.xb==2){L=_.kk;U=_.DX}if(X.Y(aW.$i)&&(_.type==1||_.type==4))_.type++;L.eo(i.x,i.y);if(_.type==1||_.type==4){var n=a5.GZ(L,_.H),a=a5.GZ(U,_.H);
if(a!=0){U.x=_.H.x-(L.x-_.H.x)*(a/n);U.y=_.H.y-(L.y-_.H.y)*(a/n)}}}this.Te(k,x);this.MJ(w,h.qI,k,x)}else if(this.N8!=null){var T=this.N8;
w.I.vC=Q.p.sy(new dC(T.x,T.y,i.x-T.x,i.y-T.y));w.WV=!0}else{var g=w.cm(),D=g[0],b=g[1],h,k,Z;if(b.length==0)return;
var N=q.rK(w,o),C=new dC(i.x-N,i.y-N,N*2,N*2);for(var S=0;S<b.length;S++){h=D[b[S]];k=h.add.vmsk;Z=Q.O.Qt(k.j,C);
if(Z[0].length+Z[1].length+Z[2].length!=0)break}this.oQ(w);for(var P=0;P<3;P++){for(var u=0;u<Z[P].length;
u++){var p=Z[P][u],f=k.j[p];f=P==0?f.H:P==1?f.DX:f.kk;w.I.A_.push(w.I.cK.length>>>1);w.I.cK.push(f.x,f.y);
w.WV=!0}}}};q.EM.prototype.oQ=function(w){if(w&&w.I.cK.length!=0){w.I.cK=[];w.I.A_=[];w.WV=!0}};q.EM.prototype.dj=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y),h=this.Yj,k=h?h.add.vmsk:null,x=h?h.add.vogk:null;
if(this.Z3!=-1){if(Date.now()-this.Ta<300){var j=k.j[this.Z3],v=this.xb,_=null;if(v==0){var L=j.DX.ZQ(j.H),U=j.kk.ZQ(j.H);
if(!L&&!U){_="Anchor Type";if(j.type==1||j.type==4)j.type++;else{j.type--;j.kk=j.H.add(j.H.MT(j.DX))}}else{_="Add Handles";
if(L&&U){j.DX.x-=30;j.kk.x+=30}else if(L)j.DX=j.H.add(j.H.MT(j.kk));else if(U)j.kk=j.H.add(j.H.MT(j.DX))}}else{_="Remove Handle";
if(v==1)j.DX.tt(j.H);else j.kk.tt(j.H)}this.Te(k,x);this.MJ(w,h.qI,k,x);this.ij(w,_,h.qI,this.dC,k,null,this.Lr,JSON.stringify(x))}else if(!this.BD.ZQ(i)){this.ij(w,"Drag Anchors",h.qI,this.dC,k,null,this.Lr,JSON.stringify(x))}this.Ta=Date.now()}else if(this.N8!=null){var n=this.N8,a=new dC(n.x,n.y,i.x-n.x,i.y-n.y);
if(a.q<0)a.x+=a.q;if(a.w<0)a.y+=a.w;a.q=Math.abs(a.q);a.w=Math.abs(a.w);var T=Q.O.Qt(k.j,a);k.pa=T[0].concat(X.Y(aW.mG)?k.pa:[]);
w.I.vC=null}this.Eq();w.WV=!0};q.EM.prototype.Eq=function(){this.Yj=null;this.dC=null;this.N8=null;this.Z3=this.xb=-1;
this.dh=null};q.EM.prototype.Te=function(w,I){for(var P=0;P<w.pa.length;P++){var E=Q.O.hE(w.j,w.pa[P]);
Q.GJ.CV(I,E)}};q.EM.prototype.oH=function(w,I,E,X){if(w==null)return;var o=w.cm(),i=o[0],h=o[1];if(h.length==0)return;
var k=i[h[0]],x=k.add.vmsk;if(x==null||x.pa.length==0)return;var j=k.add.vogk,v=JSON.stringify(j),_=X.Ys();
if(_.x!=0||_.y!=0){var L=x.clone(),U=x.clone(),n=new am(1,0,0,1,_.x,_.y);Q.O.yJ(U.j,n,null,U.pa);this.Te(U,j);
this.MJ(w,k.qI,U,j);this.ij(w,"Move Anchors",w.g[0],L,U.clone(),!0,v,JSON.stringify(j))}if(X.Y(aW.Ur)||X.Y(aW.jY))this.Q$({d:"remove",JD:!0,aei:!0},I,w,X,E)};
q.EM.prototype.ij=function(w,I,E,X,o,i,h,k){var x=w.fY();if(i&&x!=null&&x.G==this&&x.data.a8v&&x.data.Lq==E&&JSON.stringify(x.data.C3.pa)==JSON.stringify(X.pa)){x.data.u$=o;
x.data.fn=k}else{var x=new fL(I,this);x.data={Lq:E,C3:X,u$:o,a8v:i,aaD:h,fn:k};w.f6(x)}};q.Rect=function(){q.II.call(this,[10,32],q.jh,"tools/rect",!0)};
q.Rect.prototype=new q.II;q.Rect.prototype.UO=function(w,I,E){var X=this.pb.crad,o=I.x-w.x,i=I.y-w.y;
return[Q.O.cw.Rect(w.x,w.y,o,i,X),Q.GJ.dZ("Rctn",[w.x,w.y,I.x,I.y],[X,X,X,X])]};q.z9=function(){q.II.call(this,[10,33],q.eS,"tools/ellipse",!0)};
q.z9.prototype=new q.II;q.z9.prototype.UO=function(w,I,E){var X=I.x-w.x,o=I.y-w.y;return[Q.O.cw.z9(w.x,w.y,X,o),Q.GJ.dZ("Elps",[w.x,w.y,I.x,I.y])]};
q._2=function(){q.II.call(this,[10,34],q.AX,"tools/pshape",!1);this.pb.aopts=[!1,!0,50,100,0]};q._2.prototype=new q.II;
q._2.prototype.UO=function(w,I,E){var X=this.pb.pshape,o=this.pb.crad,i=this.pb.irad/100,h=this.pb.sides,k=this.pb.width,x=this.pb.aopts,j=this.pb.length,T;
I=I.clone();var v=w.x,_=w.y,L=I.x,U=I.y,n=Math.sqrt((L-v)*(L-v)+(U-_)*(U-_)),a=Math.atan2(-U+_,L-v);
if(E)a=Math.round(a*180/Math.PI/15)*15*Math.PI/180;if(X==0)T=Q.O.cw.wT(v,_,n,a,h,o);if(X==1)T=Q.O.cw.mp(v,_,n,a,h,o,i);
if(X==2)T=Q.O.cw.l3(w.x,w.y,I.x,I.y,k,x);if(X==3)T=Q.O.cw.adq(v,_,n,a,j);return[T,Q.GJ.dZ("customShape",[w.x,w.y,I.x,I.y],null,null,null,"--")]};
q._2.prototype.oH=function(w,I,E,X){q.II.prototype.oH.call(this,w,I,E,X);var o=X.Ys(),i=this.pb,h,k;
if(o.y!=0){var x=-o.y,j=i.pshape;if(j<2){h="sides";k=Math.max(3,Math.min(100,i.sides+x))}else if(j==2){h="width";
k=Math.max(1,Math.min(100,i.width+x))}else if(j==3){h="length";k=Math.max(4,Math.min(40,i.length+x))}}if(o.x!=0){h="pshape";
k=Math.max(0,Math.min(3,i.pshape+o.x))}if(h){var v=new e9(W.E.Z,!0),_={};_[h]=k;i[h]=k;v.data={d:W.t.LF,G:this.id,ns:"vals",asa:_};
I.c(v);this.L_(w,I,E,X)}};q.Qa=function(){q.II.call(this,[10,35],q.I0,"tools/line",!1)};q.Qa.prototype=new q.II;
q.Qa.prototype.UO=function(w,I,E){var X=this.pb.width,o=this.pb.aopts;I=I.clone();if(E){I=q.O5.w1(w,I)}return[Q.O.cw.l3(w.x,w.y,I.x,I.y,X,o),Q.GJ.dZ("Ln",null,null,[w.x,w.y,I.x,I.y],X,null,o)]};
q.tI=function(){q.II.call(this,[10,31],q.CM,"tools/cshape",!0)};q.tI.prototype=new q.II;q.tI.prototype.UO=function(w,I,E){var X=this.pb.shape,o=X.iM.q/X.iM.w,i=K.DN.ER(X.j);
I=I.clone();var h=I.x-w.x,k=I.y-w.y;Q.O.yJ(i,new am(h,0,0,k,w.x,w.y));return[i,Q.GJ.dZ("customShape",[w.x,w.y,I.x,I.y],null,null,null,X.MQ)]};
q.R=function(w,I,E){q.an.call(this,w,I,E);this.b2=0;this.b=null;this.kx=null;this.Ff=null;this.JH=1;
this.sZ=!1;this.cursor=null;this.Dr=null;this.KC=null;this.Je=!1;this._q=null;this.auN=0;this.Jo=null;
this.KT=0;this.VT=null;this.DE=null;this.LW=null;this.kM=null;this.av6=null;this.t7=null};q.R.prototype=new q.an;
q.R.to=function(w,I){var E={classID:"null",null:gE.cZ("Dcmn",!0)};if(w)E.Angl={t:"UntF",v:{type:"#Ang",val:I}};
else E.Axis={t:"enum",v:{Ornt:I}};return{$g:w?"rotateEventEnum":"flip",Zc:E}};q.R.prototype.UB=function(w,I,E,X,o){var i=new e9(W.E.Z,!0);
i.data={d:W.t.LF,G:this.id,PD:o,ii:w,Ff:E};I.c(i);this.gB=!1};q.R.prototype.J8=function(w){return this.DE&&this.DE.adU()};
q.R.prototype.Q$=function(w,I,E,X,o){this.Ff=o;if(w.d=="again"&&this.Jo==null)return;if(!this.qS(E,o))return;
if(this.DE){this.a8z(w,this.DE.gb(),I,E,X,o);this.O7(E,o,0,!0);this.SE(E);return}this.auY(E,w.l==null,w.l);
this.aiz(E);this.a8z(w,null,I,E,X,o);this.Sj(E,I,w.Wj,!1)};q.R.prototype.a8z=function(w,I,E,X,o,i){var h=this.VT;
if(I==null){var k=w.nh!=null?w.nh:4;I=this.DE.a0l()[k]}var x=I.x,j=I.y;if(w.d=="rot"&&w.k!=Math.PI&&(h.q+h.w&1)==1){x=Math.floor(x);
j=Math.floor(j)}var v=new am;v.translate(-x,-j);if(w.d=="rot")v.rotate(w.k);if(w.d=="scl")v.scale(w.k.x,w.k.y);
if(w.d=="mat")v.concat(w.k);v.translate(x,j);if(w.d=="again")v=this.Jo;var _=this.DE.PE();Q.p.F(_,v,_);
this.DE.V1(_);if(w.yV){var L=w.yV.v;this.NE({jt:"switchWarp"},E,X,o);this.NE({jt:"wrp",yV:L},E,X,o)}};
q.R.prototype.wN=function(){return!0};q.R.prototype.qS=function(w,I){if(w==null)return!1;if(this.id==q.Uq)return w.n!=null;
var E=w.$t(!0,null,null,!0);if(this.id==q.n9&&w.b[E[0]].rect.qo()){alert("Layer is empty.");return!1}for(var P=0;
P<E.length;P++){var X=w.b[E[P]];if(X.B2(2)||X.B2(31)){alert(df.get([6,57,0]));return!1}if(X.add.artb){alert("You can not transform the whole artboard");
return!1}if(X.add.TySh)if(!fv.HR(X.add.TySh,I.vj))return!1;if(X.add.SoLd){if(E.length==1&&!Q.AG.JJ(X.add.SoLd.warp.v)&&(X.pi()&&X.pi().Rh||X.add.vmsk&&X.add.vmsk.Rh)){alert("Unlink masks before transforming Smart Object");
return!1}if(!w.ay6(X.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+w.Df(X.add.SoLd.Idnt.v).Ov+")");
return!1}}}if(w.n==null)return!0;if(!w.p8())return!1;return w.aqS()};q.R.prototype.PX=function(w,I,E,X,o){var i=this.aa1(o,w),h=i[0],k=i[1],x=this.KT==0?this.DE:this.LW;
w.u.T*=k;this.sZ=x.PX(w,E,X,h,null,null,o);w.u.T/=k;if(this.sZ&&x.i0(h)){if(Date.now()-this.auN<250)this.Sj(w,I,null,!0);
this.auN=Date.now()}};q.R.prototype.HH=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.JN,sL:this.cursor};
w.c(I)};q.R.prototype.aa1=function(w,I){var E=1;w=I.u.sP(w.x,w.y);if(this.KT==1){var X=Q.K.TZ(this.DE.PE(),this.VT);
E=Q.K.o9(X).dA();var o=Q.K.ja(X);w=Q.K.aiB(o,w)}return[w,E]};q.R.prototype.L_=function(w,I,E,X,o){var i=this.aa1(o,w),h=i[0],k=i[1],x=this.KT==0?this.DE:this.LW;
if(!o.WN){var j="default";if(x){var v=x.zn(h,w.u.T*k,null,o);if(v)j=v}if(j!=this.cursor){this.cursor=j;
this.HH(I)}}if(!this.sZ)return;w.u.T*=k;x.L_(w,E,X,h);w.u.T/=k;this.O7(w,E,0,!0);this.SE(w);this.ym(I)};
q.R.prototype.dj=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y);this.DE.dj(w,E,X,i);this.sZ=!1};q.R.prototype.oH=function(w,I,E,X){if(X.Y(aW.yd))this.Sj(w,I,null,!0);
else if(X.Y(aW.K9))this.x4(w,I);else{var o=this.DE.oH(w,E,X);if(o){this.O7(w,E,0,!0);this.ym(I)}}};q.R.prototype.NE=function(w,I,E,X){if(w.jt=="commit")this.Sj(E,I,null,!0);
else if(w.jt=="cancel")this.x4(E,I);else if(w.jt=="switchWarp"){this.KT=1-this.KT;this.ayi();this.SE(E);
this.ym(I)}else if(w.jt=="wrp"){this.LW.a2Y(w.yV);this.SE(E);this.O7(E,this.Ff,0,!0)}else if(w.jt=="ctyp"){this.DE.a3J(w.fo);
this.SE(E);this.ym(I)}else if(w.jt=="cen"){this.DE.alu(w.gH);this.SE(E);this.O7(E,this.Ff,0,!0)}else if(w.jt=="trn"){var o=Q.K.Rv(w.d0),i=this.VT,h=Q.K.TZ(this.DE.PE(),this.VT);
o[6]=h[6],o[7]=h[7];var k=[i.x,i.y,i.x+i.q,i.y,i.x+i.q,i.y+i.w,i.x,i.y+i.w];Q.K.F(o,k);this.JH=w.JH;
this.DE.V1(k);this.SE(E);this.O7(E,this.Ff,0,!0)}};q.R.prototype.SE=function(w){if(this.KT==0)this.DE.$h(w,this.Ff);
else{this.LW.$h(w);var I=Q.K.TZ(this.DE.PE(),this.VT);Q.K.F(I,w.I.vC.C);Q.K.F(I,w.I.jS)}};q.R.prototype.Sj=function(w,I,E,X){this.O7(w,this.Ff,this.JH);
var o=new fL(E?E:this.name,this);if(this.b2==0)o.data={type:this.b2,b:this.b,_q:this.kx,pf:q.R.tP(w,this.b)};
else if(this.b2==1){var i=w.b[this.b[0]],h;if(i.e2.yA<=0){h=Q.$(i.e2.lw.A());Q.qe(i.e2.fa,h,3)}else h=w.n.channel;
var k={rect:i.e2.lw.clone(),channel:h};o.data={type:this.b2,l:this.b[0],KC:this.KC,bo:k,Dr:this.Dr,Je:this.Je,e2:i.e2,_q:this._q,pf:{_b:i.e2.lw,T1:i.e2.fa}}}else if(this.b2==2){o.data={type:this.b2,KC:this.KC,bo:{rect:w.n.rect.clone(),channel:w.n.channel.slice(0)}}}w.f6(o);
var x=this.VT,j=new a5(x.x+x.q/2,x.y+x.w/2),v=Q.K.TZ(this.DE.PE(),x),_=Q.K.o9(v),L=new am;L.translate(j.x,j.y);
L.concat(_);L.translate(-j.x,-j.y);_=L.clone();var U=-Math.atan2(-_.L,_.lV),n=new am;n.rotate(U);_.concat(n);
function a(b,N){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][N],val:b}}}var T=gE.cZ("Lyr",!0);if(this.id==q.Uq)T.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var g={classID:"null",null:T,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:a(L.N9,0),Vrtc:a(L.Zt,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:a(Math.atan(_.I5)*180/Math.PI,2),Vrtc:a(0,2)}},Wdth:a(_.lV*100,1),Hght:a(_.cA*100,1),Angl:a(U*180/Math.PI,2)},D=this.LW?this.LW.al():null;
if(D&&!Q.AG.JJ(D)){g.warp={t:"Objc",v:D}}this.Dw=I;this.track({$g:"transform",Zc:g});this.escape(w,I,X)};
q.R.prototype.x4=function(w,I){if(this.b2==0)q.R.Tg(w,this.b,this.kx);else if(this.b2==1){var E=w.b[this.b[0]];
w.n=this.KC;if(!this.Je){E.e2.lw=this._q._b;E.e2.fa=this._q.T1;E.dH(w,0,0,w.n)}else{E.yM(w,this.Dr)}w.M();
w.EZ=!0}else if(this.b2==2){w.n=this.KC;w.EZ=!0}this.escape(w,I,!0)};q.R.prototype.escape=function(w,I,E){this.DE.clear(w);
this.DE=null;this.LW=null;this.t7=null;this.KT=0;if(E)this.Ve(I,W.E.Z,{d:W.t.xv})};q.R.prototype.$D=function(w,I){if(w.type==0)q.R.Tg(I,w.b,w.pf);
else{if(w.type==1){var E=I.b[w.l];if(w.Je){E.e2=w.e2}else{E.e2.lw=w.pf._b;E.e2.fa=w.pf.T1}E.dH(I,0,0,I.n);
I.M()}I.n={rect:w.bo.rect.clone(),channel:w.bo.channel.slice(0)};I.EZ=!0}};q.R.prototype.xg=function(w,I){if(w.type==0)q.R.Tg(I,w.b,w._q);
else{if(w.type==1){var E=I.b[w.l];if(w.Je){E.yM(I,w.Dr)}else{E.e2.lw=w._q._b;E.e2.fa=w._q.T1;E.dH(I,0,0,I.n)}I.M()}I.n=w.KC;
I.EZ=!0}};q.R.prototype.auY=function(w,I,E){w.cm();var X=[];if(E==null)for(var P=0;P<w.c0.length;P++)if(w.c1[w.c0[P]].add.vmsk.j.length>2)X.push(-1-w.c0[P]);
var o=[],i=w.u.wL;if(i[0]+i[1]+i[2]==3)if(E!=null||X.length==0||w.ko!=null&&w.ko.length!=0){if(w.g.length==1){var h=w.b[w.g[0]];
if(h.vD()&&h.Fq)o=[w.g[0]]}if(o.length==0)o=w.$t(I,E,null,!0)}o=o.concat(X);for(var P=0;P<w.Y1.length;
P++)o.push(-1e3-w.Y1[P]);this.b=o};q.R.prototype.enable=function(w,I,E,X,o,i){if(this.cursor==null)this.cursor="default";
this.HH(I);if(this.DE)return;this.Ff=E;this.auY(w,!0);this.aiz(w,i&&i.Yr!=null&&i.Yr!=-1?i.Yr:null);
this.ym(I);this.SE(w);if(i&&i.Yr==-1)this.NE({jt:"switchWarp"},I,w,X)};q.R.prototype.ym=function(w){var I={d:W.t.LF,G:this.id};
if(this.KT==0){var E=Q.K.TZ(this.DE.PE(),this.VT),X=Q.K.o9(E);I.d0={Ea:X,fo:this.DE.atQ(),gH:this.DE.gb(),_b:this.VT.clone()}}else{I.yV=this.LW.al()}I.a9Z=this.LW!=null;
this.Ve(w,W.E.Z,I)};q.R.prototype.aiz=function(w,I){var E=this.id==q.Uq,X=!0,o=this.b[0],i=w.b[o],k=null,x=null;
if(E){this.b2=2;this.KC=w.n}else if(w.n&&this.b.length==1&&o>=0&&!i.rect.qo()){this.b2=1;this.KC=w.n;
this.Dr=i.e2;this.Je=!1;if(!i.Fh(w,w.n)){this.Je=!0;i.YP(w,w.n,!1)}this._q={T1:i.e2.fa,_b:i.e2.lw}}else{this.b2=0;
this.kx=q.R.tP(w,this.b,null);for(var P=0;P<this.kx.length;P++)if(this.kx[P][3]!=null)X=!1}var h=this.b2==1;
if(this.kx&&this.kx.length==1){var j=this.kx[0];if(j[2]!=null&&j[2].GJ){var v=j[2].S7.g;if(v.length<2){x=j[2].GJ[v.length==0?0:v[0]].v;
if(!Q.GJ.An(x))x=null}}if(j[3]==null)h=!0;if(j[4]!=null){k=w.b[this.b[0]].add.SoLd;if(j[1]||j[2])h=!1}}var _=E?w.n.rect.clone():q.R.eB(w,this.b);
this.VT=_;if(!E&&k){var L=q.R.kp(k.nonAffineTransform);this.VT=Q.p.zK(Q.AG.Sk(k.warp.v));if(h)this.LW=new ii(k.warp.v);
this.kM=Q.K.TZ(L,this.VT);this.DE=new gc(L,!0,!0,X,!1,!1,I)}else{if(h||E)this.LW=new ii(Q.AG.$(this.VT));
this.kM=[1,0,0,0,1,0,0,0];if(this.id==q.n9)I=3;this.DE=new gc([_.x,_.y,_.x+_.q,_.y,_.x+_.q,_.y+_.w,_.x,_.y+_.w],!0,!0,X,!1,!1,I)}this.av6=[1,0,0,0,1,0,0,0];
if(this.id==q.n9){var U,n;if(this.kx){var a=this.kx[0][0],T=a.A1;U=T[0];n=T[1]}else if(this._q){U=this._q.T1;
n=this._q._b}this.t7=Q.JW.abE(U,n.q,n.w)}};q.R.eB=function(w,I){if(I==null)I=w.$t(!0,null,null,!0);var E=new dC,X=new dC;
if(w.n&&I.length==1&&I[0]>=0)E=w.n.rect.clone();else for(var P=0;P<I.length;P++){var o=I[P],i=0<=o?w.b[o]:-1e3<o?w.c1[-1-o]:w.K3[-1e3-o],h=i.add?i.add.vmsk:null,k=0<=o?i.MI(w,I.length==1,!1,!0):-1e3<o?Q.O.sM(h.j,I.length==1&&h.g.length!=0?h.g:null):i.rect.clone();
E=E.jB(k);if(o>0&&i.add.artb)X=X.jB(i.Z9())}return!X.qo()?X:E};q.R.prototype.Ve=function(w,I,E,X){var o=new e9(I,!0);
o.data=E;if(X)o.G=X;w.c(o)};q.R.tP=function(w,I,E){var X=[];for(var P=0;P<I.length;P++){var o=I[P],i,h;
if(o>=0){i=w.b[o];h=i.te(w,E,!0)}else if(o>-1e3){i=w.c1[-1-o];h=[2]}else{X.push([null,null,null,null,null,null,null,w.K3[-1e3-o].clone()]);
continue}var k=[],x=h.indexOf(0)!=-1;if(x){var j={A1:i.add.SoLd?null:[i.buffer.slice(0),i.rect.clone()]};
k.push(j);if(i.r3()){var v=i.Em(w);j.aey=v.buffer.slice(0);j.a6C=v.rect.clone()}}else k.push(null);if(h.indexOf(1)!=-1)k.push(i.pi().clone());
else k.push(null);if(h.indexOf(2)!=-1)k.push({S7:i.add.vmsk.clone(),Oq:i.add.vstk?JSON.parse(JSON.stringify(i.add.vstk)):null,Pz:i.add.vstk?q.zs.Vf(w,o):null,GJ:i.add.vogk?JSON.parse(JSON.stringify(i.add.vogk)):null});
else k.push(null);if(i.add.TySh&&x){bQ.Zd(i.add.TySh);k.push(i.add.TySh.F.clone())}else k.push(null);
if(i.add.SoLd&&x)k.push(JSON.parse(JSON.stringify(i.add.SoLd)));else k.push(null);if(h.indexOf(3)!=-1)k.push(i.Em(w).D.clone());
else k.push(null);if(i.add.lmfx)k.push(JSON.stringify(i.add.lmfx));else k.push(null);X.push(k)}return X};
q.R.Tg=function(w,I,E){for(var P=0;P<I.length;P++){var X=I[P],o=0<=X?w.b[X]:-1e3<X?w.c1[-1-X]:w.K3[-1e3-X],i=E[P];
if(i[0]){if(i[0].A1){o.rect=i[0].A1[1].clone();o.buffer=i[0].A1[0].slice(0)}if(o.r3()){var h=o.Em(w);
h.buffer=i[0].aey.slice(0);h.rect=i[0].a6C.clone()}}if(i[1]){o.pi().channel=i[1].channel.slice(0);o.pi().rect=i[1].rect.clone();
o.pi().$o=!0}if(i[2]){o.add.vmsk=i[2].S7.clone();if(i[2].Pz)q.zs._c(o,i[2].Pz);if(i[2].Oq)o.add.vstk=JSON.parse(JSON.stringify(i[2].Oq));
if(i[2].GJ)o.add.vogk=JSON.parse(JSON.stringify(i[2].GJ))}if(i[3]){o.add.TySh.F=i[3].clone();bQ.ua(o.add.TySh)}if(i[4]){o.add.SoLd=JSON.parse(JSON.stringify(i[4]))}if(i[5]){var k=o.Em(w).D;
k.channel=i[5].channel.slice(0);k.rect=i[5].rect.clone()}if(i[6]){o.add.lmfx=JSON.parse(i[6])}if(i[7]){o.channel=i[7].channel.slice(0);
o.rect=i[7].rect.clone();o.$o=!0}if(0<=X){o.kH(w);o.M();if(i[4])o.vR(w,!1)}}w.M()};q.R.dA=function(w){var I=w.clone(),E=Math.atan2(-I.L,I.lV),X=new am;
X.rotate(-E);I.concat(X);return(Math.abs(I.lV)+Math.abs(I.cA))/2};q.R.bp=function(w,I,E,X,o,i,h,k,x,j){if(typeof i[0]=="number"){var v=[];
for(var P=0;P<E.length;P++)v[P]=i;i=v}for(var P=0;P<E.length;P++){var _=i[P],L=Q.K.o9(_),U=q.R.dA(L),n=E[P],a=0<=n?w.b[n]:-1e3<n?w.c1[-1-n]:w.K3[-1e3-n],T=X[P];
if(a.add&&a.add.lmfx&&k)aQ.v3(a.add.lmfx,U);if(T[0]&&!T[3]&&!T[4]&&!T[5]){var g=T[0].A1;if(x){var D=x.clone(),b=Q.$(D.A()*4);
Q.D6(g[0],g[1],b,D);g=[b,D]}var N=q.R.Bm(g,o,_,h,o==0?a.buffer.buffer:null,null,null,j);if(N){a.rect=N.rect;
a.buffer=N.buffer}}if(T[1]){var C=a.pi();q.R.qg(w,T[1],C,o,_,h);if(x){var D=a.rect.LP(x),Z=Q.$(D.A());
Q.b_(C.channel,C.rect,Z,D);C.channel=Z;C.rect=D}}if(T[2]){var S=h&&!Q.AG.JJ(h),u=T[2].S7.clone(),p=E.length==1&&u.g.length!=0,f=E.length==1&&u.pa.length>1;
if(f)p=!1;var d=p?u.g:null,l=f?u.pa:null;if(S){var A=Q.AG.Sk(h);Q.K.F(_,A);Q.O.axV(u.j,A,d,l)}else Q.O.amW(u.j,_,d,l);
if(a.add.vstk&&k){a.add.vstk.strokeStyleLineWidth.v.val=T[2].Oq.strokeStyleLineWidth.v.val*U;var B=T[2].Pz;
if(B&&B.BM==3){B=JSON.parse(JSON.stringify(B));var e=B.Pz.phase.v;B.Pz.Scl.v.val=Math.round(B.Pz.Scl.v.val*U);
e.Hrzn.v=Math.round(e.Hrzn.v*U);e.Vrtc.v=Math.round(e.Vrtc.v*U);q.zs._c(a,B)}}if(a.add.vogk){a.add.vogk=JSON.parse(JSON.stringify(T[2].GJ));
if(S||f)Q.GJ.p$(a.add.vogk);else Q.GJ.F(a.add.vogk,_,E.length>1?[]:u.g,k)}u.o6*=U;a.add.vmsk=u;if(a.add.vogk)Q.GJ.WQ(a.add.vogk,a.add.vmsk)}if(T[3]){var m=T[3].clone();
m.concat(L);a.add.TySh.F=m;bQ.ua(a.add.TySh);var $=new g9(a.add.TySh.Da,I.vj),V=fv.dn($,a.add.TySh);
a.rect=V._b;a.buffer=V.Fr}if(T[4]){var H=a.add.SoLd,F=q.R.kp(T[4].nonAffineTransform);Q.K.F(_,F);var G=Q.p.uh(F);
if(gc.LG(F)){if(h){var J=Q.p.zK(Q.AG.Sk(T[4].warp.v)),Z=Q.K.TZ(F,J),c=Q.p.zK(Q.AG.Sk(h));F=[c.x,c.y,c.x+c.q,c.y,c.x+c.q,c.y+c.w,c.x,c.y+c.w];
Q.K.F(Z,F);H.warp.v=h}var r=Q.K.TZ(F),s=F;if(!Q.K.bS(r)){r[6]=r[7]=0;s=[0,0,1,0,1,1,0,1];Q.K.F(r,s)}H.Trnf=q.R.bd(s);
H.nonAffineTransform=q.R.bd(F);if(H.filterFX)H.filterFX=JSON.parse(JSON.stringify(T[4].filterFX));q.R.a1I(H,L);
a.vR(w,o==0,I.vj)}}if(T[5])q.R.qg(w,T[5],a.Em(w).D,o,_,h);if(T[7])q.R.qg(w,T[7],a,o,_,h);if(0<=n){if(o!=0)a.G1();
a.kH(w);a.M()}}w.M()};q.R.oI=function(w,I,E,X,o,i){if(E==null)E=!1;return q.R.Bm(w,E?0:1,Q.K.Rv(I),null,X,o,i,E)};
q.R.Bm=function(w,I,E,X,o,i,h,k){if(k==null)k=!1;if(k&&h)throw"e";var x={},L=0,U=.3;if(X&&!Q.AG.JJ(X)){var j=Q.AG.Sk(X);
Q.K.F(E,j);x.rect=Q.p.uh(j);x.buffer=Q.$(x.rect.A()*4);Q.SZ.drawImage(j,w[0],w[1].q,w[1].w,x.buffer,x.rect,I==0);
return x}Q.RQ(w);var v=w[0],_=w[1],n=_.A()*q.R.dA(Q.K.o9(E));if(k&&n>4e6)U=n>8e6?2.2:1.2;while(L+3<w.length&&w[L+3].A()>16&&Q.K.bS(E)&&q.R.dA(Q.K.o9(E))<U){L+=2;
var a=w[L],T=w[L+1],g=_.q/T.q,D=_.w/T.w;E=Q.K.og(E,[1,0,_.x,0,1,_.y,0,0]);E=Q.K.og(E,[g,0,0,0,D,0,0,0]);
E=Q.K.og(E,[1,0,-_.x,0,1,-_.y,0,0]);_=T;v=a}var b=Q.K.og(E,Q.K.Rv(new am(_.q,0,0,_.w,_.x,_.y))),N=[0,0,1,0,1,1,0,1];
Q.K.F(b,N);x.rect=Q.p.uh(N);if(h)x.rect=x.rect.LP(h);if(k){while((x.rect.q&3)!=0)x.rect.q++;while((x.rect.w&3)!=0)x.rect.w++}if(!gc.LG(N)||x.rect.q>1e5||x.rect.w>1e5||x.rect.A()>3e4*3e4)return null;
var C=x.rect.A()*4;if(o&&o.byteLength>=C&&C>=o.byteLength>>2){x.buffer=new Uint8Array(o)}else{x.buffer=Q.$(C)}Q.K.drawImage(b,v,_.q,_.w,x.buffer,x.rect,I==0,i,k);
if(I==2&&x.buffer){var Z=x.rect.q,S=x.rect.w,u;u=[0,-1,0,-1,16,-1,0,-1,0];u=Q.Zi.FT(u);var p=x.buffer.slice(0);
Q.Zi.Q3(p,x.buffer,Z,S,u,255,!1,!0)}if(x.buffer)return x};q.R.qg=function(w,I,E,X,o,i){if(I.color==255)Q.ja(I.channel);
var h=I.rect,k=Q.$(h.A()*4);Q.lJ(I.channel,k,3);var x=q.R.Bm([k,h],X,o,i);if(x){E.rect=x.rect;E.channel=Q.$(x.rect.A());
Q.qe(x.buffer,E.channel,3);E.$o=!0}if(I.color==255){Q.ja(I.channel);if(x)Q.ja(E.channel)}};q.R.a1I=function(w,I){var E=w.filterFX;
if(E)E=E.v.filterFXList;if(E)E=E.v;if(E)for(var X=0;X<E.length;X++){var o=E[X].v.Fltr;if(o==null||o.v.classID!="rigidTransform")continue;
o=o.v;console.log(o);var i=[];for(var h=0;h<4;h++)i.push(o["PuX"+h].v,o["PuY"+h].v);Q.p.F(i,I,i);for(var h=0;
h<4;h++){o["PuX"+h].v=i[h*2];o["PuY"+h].v=i[h*2+1]}var k=["PinP","posFinalPins"],x=["originalVertexArray","deformedVertexArray"],j=o.puppetShapeList.v;
for(var v=0;v<j.length;v++){var _=j[v].v;for(var L=0;L<k.length;L++){var U=q.R.kp(_[k[L]]);Q.p.F(U,I,U);
_[k[L]]=q.R.bd(U);var n=new Uint8Array(_[x[L]].v),a=new Float32Array(n.buffer);Q.p.F(a,I,a);var T=[];
for(var g=0;g<n.length;g++)T[g]=n[g];_[x[L]].v=T}}}};q.R.kp=function(w){var I=[],E=w.v.length;for(var P=0;
P<E;P++)I.push(w.v[P].v);return I};q.R.bd=function(w){var I={t:"VlLs",v:[]},E=w.length;for(var P=0;P<E;
P++)I.v.push({t:"doub",v:w[P]});return I};q.R.prototype.ayi=function(){var w=Q.p.zK(Q.AG.Sk(this.LW.al())),I=Q.K.TZ(this.DE.PE(),this.VT),E=[w.x,w.y,w.x+w.q,w.y,w.x+w.q,w.y+w.w,w.x,w.y+w.w];
Q.K.F(I,E);this.DE.V1(E);this.VT=w};q.R.prototype.O7=function(w,I,E,X){var o=Q.K.TZ(this.DE.PE(),this.VT);
o=Q.K.og(o,Q.K.ja(this.kM));var i=this.LW?this.LW.al():null;if(this.b2==0){var h=this.Jo=Q.K.o9(o);if(this.id==q.n9){var k=this.kx[0][0],x=k.A1,j=x[1],v=~~(j.q*Math.max(0,h.lV)),_=~~(j.w*Math.max(0,h.cA)),L=new dC(Math.round(h.lV*j.x+h.N9),Math.round(h.cA*j.y+h.Zt),v,_),U=Q.JW.F(this.t7,L),n=w.b[this.b[0]];
n.buffer=U;n.rect=L;n.M();w.M()}else q.R.bp(w,I,this.b,this.kx,E,o,i,null,null,X)}else if(this.b2==1){var a=w.b[this.b[0]],j=this._q._b;
if(a.yA<=0){var T=this._q.T1,g=this.KC,D=null;if(i&&!Q.AG.JJ(i)&&!g.rect.ZQ(j)){var U=Q.$(g.rect.A()*4);
Q.D6(T,j,U,g.rect);T=U;j=g.rect}if(this.id==q.n9){var h=this.Jo=Q.K.o9(o),v=~~(j.q*Math.max(0,h.lV)),_=~~(j.w*Math.max(0,h.cA)),L=new dC(Math.round(h.lV*j.x+h.N9),Math.round(h.cA*j.y+h.Zt),v,_),U=Q.JW.F(this.t7,L);
D={buffer:U,rect:L}}else D=q.R.Bm([T,j],E,o,i);if(D){a.e2.fa=D.buffer;a.e2.lw=D.rect;var b=Q.$(D.rect.A());
Q.qe(a.e2.fa,b,3);w.n={channel:b,rect:a.e2.lw.clone()}}}else{var N=Q.$(j.A()*4);Q.lJ(this._q.T1,N,3);
var D=q.R.Bm([N,j],E,o,i);if(D){a.e2.fa=Q.$(D.rect.A());Q.qe(D.buffer,a.e2.fa,3);a.e2.lw=D.rect}this.atm(w,E,o,i)}a.dH(w,0,0,w.n);
if(E!=0){a.G1();Q.G1(w.n)}w.EZ=!0;w.M()}else if(this.b2==2)this.atm(w,E,o,i)};q.R.prototype.atm=function(w,I,E,X){var o=this.KC.rect,i=Q.$(o.A()*4);
Q.lJ(this.KC.channel,i,3);var h=q.R.Bm([i,o],I,E,X),k=Q.$(h.rect.A());Q.qe(h.buffer,k,3);w.n={channel:k,rect:h.rect};
w.EZ=!0};q.R.prototype.disable=function(w,I,E,X){if(this.DE)this.Sj(w,I,null,!0)};q.alj=function(){q.R.call(this,[10,16],q.Ai,"tools/transform")};
q.alj.prototype=new q.R;q.asp=function(){q.R.call(this,[7,10],q.Uq,"tools/transform")};q.asp.prototype=new q.R;
q.abn=function(){q.R.call(this,[10,48],q.n9,"tools/transform")};q.abn.prototype=new q.R;q.Yx=function(w,I,E){q.an.call(this,[10,46],q.Ig,"tools/transform");
this.cd=[1,1,2,!0];this.qt="rigidTransform";this.UA=null;this.arl=null;this.wJ=null;this.q1=null;this.YK=null;
this.yp=null;this.Nc=[]};q.Yx.prototype=new q.an;q.Yx.prototype.wN=function(){return!0};q.Yx.aad=function(w){if(w==null)return!1;
if(w.g.length!=1)return!1;var I=w.b[w.g[0]];return I.add.SoLd||w.p8(!1)};q.Yx.prototype.qS=function(w,I){return q.Yx.aad(w)};
q.Yx.prototype.enable=function(w,I,E,X,o,i,h){this.arl=i.EA;var k=i.EA,x,a=null;if(k){var j=w.b[k.l];
if(j.add.SoLd.filterFX!=null){var v=j.add.SoLd.filterFX.v.filterFXList.v;if(v[k.index])x=JSON.parse(JSON.stringify(v[k.index].v.Fltr.v))}}var _=x==null,j=w.b[w.g[0]],L=j.buffer,U=j.rect,n=j.add.SoLd;
if(n){var T=n.nonAffineTransform.v;a=[];for(var P=0;P<4;P++)a.push(T[P*2].v,T[P*2+1].v);if(_)this.Au("edit",I);
var g=j.Em(w);L=g.buffer;U=g.rect}this.UA={buffer:L.slice(0),rect:U.clone(),a4Q:a};if(_)x=q.Yx.I1(this.UA,this.cd);
this.wJ=x;this.q1=q.Yx.bV(this.wJ,this.cd);this.qc();this.QH(w);if(_)this.xn(I);var D=new e9(W.E.Z,!0);
D.data={d:W.t.LF,G:this.id,GT:this.cd};I.c(D);D.data={d:W.t.JN,sL:"default"};I.c(D)};q.Yx.prototype.disable=function(w,I,E,X){if(this.q1)this.Sj(w,I,!0)};
q.Yx.prototype.qc=function(w){var I=this.q1;this.Nc=[];for(var P=0;P<I.length;P++){var E=I[P];for(var X=0;
X<E.g.length;X++)this.Nc.push([P,E.g[P]]);E.we=Q.Zv.M2(E);if(w)Q.Zv.X4(E)}};q.Yx.prototype.NE=function(w,I,E,X){if(w.jt=="commit")this.Sj(E,I,!0);
else if(w.jt=="cancel")this.x4(E,I,!0);else if(w.jt=="prm"){var o=!1;for(var P=0;P<3;P++)if(this.cd[P]!=w.GT[P])o=!0;
this.cd=w.GT;if(o){this.wJ=q.Yx.I1(this.UA,this.cd,this.wJ);this.q1=q.Yx.bV(this.wJ,this.cd);this.qc(!0);
this.xn(I)}this.QH(E)}else if(w.jt=="moveDepth"){var i=this.q1;for(var h=0;h<i.length;h++){var k=i[h];
for(var P=0;P<k.g.length;P++){var x=k.g[P];k.JY[x]+=w.alx?1:-1}}this.xn(I)}};q.Yx.prototype.Uo=function(w,I){return w==aW.Ur||w==aW.jY};
q.Yx.prototype.oH=function(w,I,E,X){var o=X.Ys();if(X.Y(aW.yd))this.Sj(w,I,!0);else if(X.Y(aW.K9))this.x4(w,I,!0);
else if(X.Y(aW.Ur)||X.Y(aW.jY)){var i=this.q1;for(var h=0;h<i.length;h++){var k=i[h];k.g.sort(function(v,_){return _-v});
for(var P=0;P<k.g.length;P++){var x=k.g[P],j=x*2;k.JY.splice(x,1);k.R$.splice(x,1);k.$n.splice(x,1);
k.WC.splice(x,1);k.fT.splice(j,2);k.Bw.splice(j,2)}k.g=[];if(k.WC.length==0){k.kz=k.XB.slice(0);k.d4=k.XB.slice(0)}}this.qc(!0);
this.xn(I);this.QH(w)}else if(o.x!=0||o.y!=0){this.avX(w,o.x,o.y,I);this.m3=null}};q.Yx.prototype.Sj=function(w,I,E){this.Au("confirm",I);
this.escape(w,I,E)};q.Yx.prototype.x4=function(w,I,E){this.Au("cancel",I);this.escape(w,I,E)};q.Yx.prototype.escape=function(w,I,E){w.I.vC=null;
w.I.cK=[];w.WV=!0;this.q1=null;var X=new e9(W.E.Z,!0);X.data={d:W.t.xv};if(E)I.c(X)};q.Yx.prototype.PX=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y),h=i.x,k=i.y,x=this.q1,j=null,v=[0,2,4,1.2,1.2,1.2],_=-1,L=q.rK(w,o);
for(var P=0;P<x.length;P++){var U=x[P],n=Q.p.Z1(U.Bw,h,k,L);if(n!=-1)j=[P,n];if(_==-1&&Q.Zv.Nf.aqp(U.d4,U.HE,h,k))_=P}if(j==null&&_!=-1){var U=x[_];
q.Yx.apX(U,h,k,h,k,0);j=[_,U.WC.length-1];U.we=Q.Zv.M2(U)}this.YK=i;if(j){var a=x[j[0]].g.indexOf(j[1])!=-1;
if(X.Y(aW.mG)&&!a){x[j[0]].g.push(j[1]);this.Nc.push(j)}else if(!a){x[j[0]].g=[j[1]];this.Nc=[j]}}this.QH(w)};
q.Yx.apX=function(w,I,E,X,o,i){var h=Q.p.Z1(w.d4,I,E);w.WC.push(h);w.Bw.push(X,o);w.fT.push(w.d4[h*2]-I,w.d4[h*2+1]-E);
w.$n.push(0);w.R$.push(!1);w.JY.push(i)};q.Yx.prototype.L_=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y),h=this.YK;
if(h)this.avX(w,i.x-h.x,i.y-h.y,I)};q.Yx.prototype.avX=function(w,I,E,X){var o={},i=this.Nc,h=this.q1;
if(this.m3==null){this.m3=[];for(var P=0;P<h.length;P++)this.m3.push(h[P].Bw.slice(0))}for(var P=0;P<i.length;
P++){var k=this.Nc[P],x=k[0],j=h[k[0]],v=k[1]*2;j.Bw[v+0]=this.m3[x][v+0]+I;j.Bw[v+1]=this.m3[x][v+1]+E;
o[x]=x}for(var x in o)Q.Zv.X4(this.q1[o[x]]);this.QH(w);this.xn(X)};q.Yx.prototype.Au=function(w,I){var E=new e9(W.E.s,!0);
E.G=q.Hl;E.data={d:w,EA:this.arl,qt:this.qt,P$:this.wJ};I.c(E)};q.Yx.prototype.dj=function(w,I,E,X,o){this.YK=null;
this.m3=null};q.Yx.prototype.xn=function(w){q.Yx.ahy(this.q1,this.cd,this.wJ);this.Au("edit",w)};q.Yx.prototype.QH=function(w){var I=this.q1,E=this.wJ;
w.I.vC={C:[],J:[]};w.I.cK=[];w.I.A_=[];for(var P=0;P<I.length;P++){var X=I[P];for(var o=0;o<X.g.length;
o++)w.I.A_.push((w.I.cK.length>>>1)+X.g[o]);w.I.cK=w.I.cK.concat(X.Bw);if(this.cd[3])Q.p.concat(w.I.vC,Q.p.aq9(X.d4,X.HE))}w.WV=!0};
q.Yx.I1=function(w,I,E){var X=w.buffer,o=w.rect,i=w.a4Q,h=gD.SX("rigidTransform");if(i)for(var P=0;P<4;
P++){h["PuX"+P].v=i[P*2];h["PuY"+P].v=i[P*2+1]}var k=h.puppetShapeList.v,x=Q.Zv.aeU(X,o.q,o.w,I[1],I[2]),j=[];
for(var v=0;v<x.length;v++){var _={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
_.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var L=x[v];k.push({t:"Objc",v:_});var U=L.XB.slice(0);Q.p.F(U,new am(1,0,0,1,o.x,o.y),U);var n=L.HE;
for(var P=0;P<n.length;P+=3){var a=n[P+1];n[P+1]=n[P+2];n[P+2]=a}j.push({HE:n,XB:U,kz:U,d4:U,WC:[],fT:[],Bw:[],we:null,g:[],$n:[],R$:[],JY:[]})}if(E){var T=q.Yx.bV(E,[]),g=j[0];
for(var P=0;P<T.length;P++){var D=T[P];for(var b=0;b<D.g.length;b++)g.g.push((g.Bw.length>>>1)+D.g[b]);
for(var b=0;b<D.WC.length;b++){var N=D.WC[b]*2,C=D.XB[N]-D.fT[b*2],Z=D.XB[N+1]-D.fT[b*2+1];q.Yx.apX(g,C,Z,D.Bw[b*2],D.Bw[b*2+1],D.JY[b])}}}q.Yx.ahy(j,I,h);
return h};q.Yx.bV=function(w,I){var E=q.R.kp,X=w.puppetShapeList.v,o=[];for(var i=0;i<X.length;i++){var h=X[i].v;
I[0]=h.meshRigidity.v-1;I[1]=h.meshQuality.v-1;I[2]=h.meshExpansion.v;var k=h.pinVertexIndices.v.length,x=h.meshBoundaryPath.v.pathComponents.v;
if(x.length!=0){var j=x[0].v.SbpL.v[0].v.Pts;j.v=[]}var v=new Uint32Array(new Uint8Array(h.indexArray.v).buffer),_=new Float32Array(new Uint8Array(h.originalVertexArray.v).buffer),L=new Float32Array(new Uint8Array(h.deformedVertexArray.v).buffer),U=[],n=[],a=[];
for(var P=0;P<v.length;P++)U.push(v[P]);for(var P=0;P<_.length;P++){n.push(_[P]);a.push(L[P])}var T=E(h.pinVertexIndices),g=E(h.pinOffsets),D=E(h.posFinalPins),b=E(h.PnRt),N=E(h.PnOv),C=E(h.PnDp),Z=E(h.selectedPin);
o.push({HE:U,XB:n,kz:a.slice(0),d4:a,WC:T,fT:g,Bw:D,we:null,$n:b,R$:N,JY:C,g:Z})}return o};q.Yx.ahy=function(w,I,E){function X(L,U){var n=[];
for(var P=0;P<L.length;P++)n.push({t:U,v:L[P]});return n}function o(L,U,n){var a=new(n?Uint32Array:Float32Array)(L),T=new Uint8Array(a.buffer);
for(var P=0;P<T.length;P++)U[P]=T[P]}var i=E.puppetShapeList.v;for(var h=0;h<i.length;h++){var k=w[h],x=i[h].v;
x.meshRigidity.v=I[0]+1;x.meshQuality.v=I[1]+1;x.meshExpansion.v=I[2];o(k.HE,x.indexArray.v,!0);o(k.XB,x.originalVertexArray.v);
o(k.d4,x.deformedVertexArray.v);var j=[];for(var P=0;P<k.WC.length;P++){var v=k.WC[P]*2,_=P*2;j[_]=k.XB[v]-k.fT[_];
j[_+1]=k.XB[v+1]-k.fT[_+1]}x.PinP.v=X(j,"doub");x.pinVertexIndices.v=X(k.WC,"long");x.pinOffsets.v=X(k.fT,"doub");
x.posFinalPins.v=X(k.Bw,"doub");x.PnRt.v=X(k.$n,"long");x.PnOv.v=X(k.R$,"bool");x.PnDp.v=X(k.JY,"doub");
x.selectedPin.v=X(k.g,"long")}};q.Yq=function(w,I,E){q.an.call(this,w?w:[10,40],I?I:q.Bd,E?E:"tools/slice");
this.Ke=null;this.Dw=null;this.Su=null;this.ajl=null;this.af=null;this.QR=null};q.Yq.prototype=new q.an;
q.Yq.Mj=function(w,I){var E=-1;for(var P=0;P<w.length;P++){var X=q.Yq.b7(w,P);if(X[0]<=I.x&&I.x<=X[2]&&X[1]<=I.y&&I.y<=X[3]){E=P;
break}}return E};q.Yq.prototype.Q$=function(w,I,E,X,o){if(E==null)return;this.OW(E);if(w.d=="fromAction"){var i=E.b5(),h=E.Ze(),k=h==-1?new dC(0,0,E.q,E.w):E.b[h].Z9(),x=[k.x,k.x+k.q],j=[k.y,k.y+k.w];
for(var P=0;P<i[0].length;P++){var v=i[0][P],_=Math.round(v[1]),L=i[1][P];if(L!=-1&&L!=h)continue;if(v[0]==0&&x.indexOf(_)==-1)x.push(_);
if(v[0]==1&&j.indexOf(_)==-1)j.push(_)}x.sort(function(S,u){return S-u});j.sort(function(S,u){return S-u});
for(var U=1;U<j.length;U++)for(var n=1;n<x.length;n++){E.V7.push(q.Yq.uR());q.Yq.fu(E.V7,E.V7.length-1,[x[n-1],j[U-1],x[n],j[U]]);
E.WV=!0}}else if(w.d=="reorder"){if(E.DP.length==0)return;var a=E.V7,T=E.DP;T.sort(function(S,u){return S-u});
console.log(T);var g=a.slice(0),D=[],b=[];for(var P=0;P<T.length;P++){var N=T[P],C=a[N];b.push(C);g.splice(g.indexOf(C),1)}var Z=Math.max(0,Math.min(g.length,T[0]-w.dir));
for(var P=0;P<b.length;P++){g.splice(Z+P,0,b[P]);D.push(Z+P)}E.V7=g;E.DP=D}else if(w.d=="delete"){var a=E.V7.slice(0);
for(var P=0;P<E.DP.length;P++)E.V7.splice(E.V7.indexOf(a[E.DP[P]]),1);E.DP=[]}else if(w.d=="deleteAll"){E.V7=[];
E.DP=[]}else{E.V7[E.DP[0]].v=w;E.WV=!0}this.l4(E)};q.Yq.prototype.enable=function(w,I,E,X,o,i){q.an.prototype.enable.call(this,w,I,E,X,o,i);
if(!E.yR.V7){var h=new e9(W.E.Z,!0);h.data={d:W.t.e1,GT:ik._H};I.c(h)}};q.Yq.prototype.disable=function(){this.Ke=null;
this.Dw=null};q.Yq.prototype.UB=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y),h=q.Yq.Mj(w.V7,i);if(h==-1)return;
this.Ke=w;this.Dw=I;w.DP=[h];w.WV=!0;if(this.QR==null){this.QR=new j$([{name:[5,4]},{name:[8,11,1],qj:!0}]);
this.QR.h("select",this.H9,this)}var k=this.QR;k.parent=I;k.f();k.update(w,E);var x=new e9(W.E.Z,!0);
x.data={d:W.t.DI,E5:k,x:o.SD+2,y:o.P4+1};I.c(x)};q.Yq.prototype.H9=function(w){var I=this.QR.RC()[0],E=this.Ke;
if(I==0){this.OW(E);E.V7.splice(E.DP[0],1);E.DP=[];E.WV=!0;this.l4(E)}if(I==1){var X=new e9(W.E.Z,!0);
X.data={d:W.t.GV,ei:"soptions",k:E.V7[E.DP[0]].v};this.Dw.c(X)}};q.Yq.prototype.PX=function(w,I,E,X,o){if(w==null)return;
this.OW(w);var i=w.u.sP(o.x,o.y);i=q.Q8.Bi(w,i,E,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
this.af=i;w.V7.unshift(q.Yq.uR());w.DP=[0];q.Yq.fu(w.V7,0,[i.x,i.y,i.x+20,i.y+20]);w.WV=!0};q.Yq.prototype.L_=function(w,I,E,X,o){if(this.Su==null)return;
var i=w.u.sP(o.x,o.y),h=this.af;i=q.Q8.Bi(w,i,E,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
var k=[h.x,h.y,i.x,i.y];q.Yq.aw_(k);q.Yq.fu(w.V7,0,k);w.WV=!0};q.Yq.prototype.dj=function(w,I,E,X,o){this.l4(w);
this.af=null};q.Yq.prototype.OW=function(w){this.Su=JSON.stringify(w.V7);this.ajl=JSON.stringify(w.DP)};
q.Yq.prototype.l4=function(w){var I=JSON.stringify(w.V7);if(I!=this.Su){var E=new fL(this.name,this);
E.data={_q:this.Su,pf:I,aiF:this.ajl,axI:JSON.stringify(w.DP)};w.f6(E)}this.Su=null};q.Yq.prototype.xg=function(w,I){I.V7=JSON.parse(w._q);
I.DP=JSON.parse(w.aiF);I.WV=!0};q.Yq.prototype.$D=function(w,I){I.V7=JSON.parse(w.pf);I.DP=JSON.parse(w.axI);
I.WV=!0};q.Yq.prototype.Uo=function(w,I){return I!=null&&I.DP.length!=0&&(w==aW.Ur||w==aW.jY)};q.Yq.prototype.oH=function(w,I,E,X){if(w==null)return;
if(X.Y(aW.Ur)||X.Y(aW.jY))this.Q$({d:"delete"},I,w,X,E);var o=X.Ys();if(o.x!=0||o.y!=0){this.OW(w);q.Yq.ZG(w,o);
this.l4(w)}};q.Yq.prototype.NE=function(w,I,E,X,o){};q.Yq.af$=function(w,I,E,X){var o=new a5(-I.x,-I.y),i=I.q/E.q,h=I.w/E.w,k=[0,0,I.q,I.w];
for(var P=0;P<w.length;P++){var x=q.Yq.b7(w,P);if(X){x[0]=Math.round(x[0]*i);x[1]=Math.round(x[1]*h);
x[2]=Math.round(x[2]*i);x[3]=Math.round(x[3]*h)}else{q.Yq.cE(x,o);q.Yq.axx(x,k)}if(x[0]>=x[2]||x[1]>=x[3]){w.splice(P,1);
P--;continue}q.Yq.fu(w,P,x)}};q.Yq.ZG=function(w,I){var E=w.V7;for(var P=0;P<w.DP.length;P++){var X=q.Yq.b7(E,w.DP[P]);
q.Yq.cE(X,I);q.Yq.fu(E,w.DP[P],X)}};q.Yq.axx=function(w,I){if(w[0]<I[0])w[0]=I[0];if(w[1]<I[1])w[1]=I[1];
if(I[2]<w[2])w[2]=I[2];if(I[3]<w[3])w[3]=I[3]};q.Yq.cE=function(w,I){w[0]=Math.round(w[0]+I.x);w[2]=Math.round(w[2]+I.x);
w[1]=Math.round(w[1]+I.y);w[3]=Math.round(w[3]+I.y)};q.Yq.fu=function(w,P,I){var E=w[P].v.bounds.v;E.Left.v=I[0];
E.Top.v=I[1];E.Rght.v=I[2];E.Btom.v=I[3]};q.Yq.b7=function(w,P){var I=w[P].v.bounds.v;return[I.Left.v,I.Top.v,I.Rght.v,I.Btom.v,P]};
q.Yq.aw_=function(w){if(w[2]<w[0]){var I=w[0];w[0]=w[2];w[2]=I}if(w[2]==w[0])w[2]++;if(w[3]<w[1]){var I=w[1];
w[1]=w[3];w[3]=I}if(w[3]==w[1])w[3]++};q.Yq.zK=function(w,I){var E=1e9,X=-1e9,o=1e9,i=-1e9;for(var P=0;
P<I.length;P++){var h=q.Yq.b7(w,I[P]);E=Math.min(E,h[0]);o=Math.min(o,h[1]);X=Math.max(X,h[2]);i=Math.max(i,h[3])}return[E,o,X,i]};
q.Yq.uR=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
q.Ec=function(){q.Yq.call(this,[10,41],q.iH,"tools/sselect");this.af=null;this.KN=null;this.cY=null;
this.yp=null;this.yc=!1};q.Ec.prototype=new q.Yq;q.Ec.prototype.PX=function(w,I,E,X,o){if(w==null)return;
var i=w.u.sP(o.x,o.y),h=q.Ec.abq(i,4/w.u.T,w.V7,w.DP);h.pop();if(h.length!=0){this.af=i;this.cY=h;this.OW(w);
return}var k=w.V7,x=q.Yq.Mj(k,i);if(x==-1)w.DP=[];else{var j=w.DP.indexOf(x);if(X.Y(aW.mG)){if(j==-1)w.DP.push(x);
else w.DP.splice(j,1)}else{w.DP.sort(function(a,T){return a-T});if(j==-1)w.DP=[x];this.af=i;this.OW(w);
this.KN=q.Yq.zK(k,w.DP);this.yp=[];for(var P=0;P<w.DP.length;P++)this.yp.push(q.Yq.b7(k,w.DP[P]));if(X.Y(aW.$i)){var v=k.slice(0),_=w.DP,L=[];
for(var P=0;P<_.length;P++){var x=_[P],U=v[x],n=k.indexOf(U);L.push(n);k.splice(n,0,JSON.parse(JSON.stringify(U)))}w.DP=L}}}w.WV=!0};
q.Ec.prototype.L_=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y);if(this.af==null){var h=q.Ec.abq(i,4/w.u.T,w.V7,w.DP),k=h.pop(),x=h.length==0?"default":["ew","nwse","ns","nesw"][k]+"-resize",j=new e9(W.E.Z,!0);
j.data={d:W.t.JN,sL:x};I.c(j);return}if(!this.yc&&i.ZQ(this.af))return;this.yc=!0;var v=w.V7,h=this.cY;
if(h){i=q.Q8.Bi(w,i,E,[!0,null,!1]);var _=Math.round(i.x),L=Math.round(i.y);for(var P=0;P<h.length;P+=2){var U=q.Yq.b7(v,h[P]),n=h[P+1];
U[n]=(n&1)==0?_:L;q.Yq.aw_(U);q.Yq.fu(v,h[P],U)}}else{var a=i.MT(this.af),T=this.KN.slice(0);q.Yq.cE(T,a);
var g=new dC(T[0],T[1],T[2]-T[0],T[3]-T[1]),D=q.Q8.VC(w,g,E,[!0,null,!1],!0);q.Q8.ZA(w,g,D);a.x+=D[0];
a.y+=D[1];for(var P=0;P<w.DP.length;P++)q.Yq.fu(v,w.DP[P],this.yp[P]);q.Yq.ZG(w,a)}w.WV=!0};q.Ec.prototype.dj=function(w,I,E,X,o){if(this.af==null)return;
this.l4(w);w.I.gy=null;w.WV=!0;this.af=null;this.cY=null;this.yp=null;this.yc=!1};q.Ec.abq=function(w,I,E,X){var o=w.x,i=w.y,h=[],k=-1,x=[];
for(var P=0;P<X.length;P++){var j=X[P],v=q.Yq.b7(E,j),_=v[0],L=v[1],U=v[2],n=v[3];if(o<_-I||U+I<o||i<L-I||n+I<i)continue;
var a=[o<_+I,i<L+I,U-I<o,n-I<i],T=-1;for(var g=0;g<4;g++){if(a[g]&&a[g+1&3])T=1+2*(g&1);if(a[g])h.push(j,g)}if(T==-1){if(a[0]||a[2])T=0;
if(a[1]||a[3])T=2}if(T!=-1){k=T;x.push(j)}}var D=h.length;for(var P=0;P<D;P+=2){var j=h[P],b=h[P+1],N=q.Yq.b7(E,j)[b];
for(var g=0;g<X.length;g++){var C=X[g];if(x.indexOf(C)!=-1)continue;var v=q.Yq.b7(E,C);if(v[b&1]==N)h.push(C,b&1);
if(v[2+(b&1)]==N)h.push(C,2+(b&1))}}h.push(k);return h};q.UC=function(){q.mc.call(this,[10,44],q.a6E,"tools/oselect");
this.iQ="crosshair";this.amB=0};q.UC.prototype=new q.mc;q.UC.prototype.ME=function(w,I,E,X){if(Math.random()<1/(1+this.amB)){alert("The cross should be fully inside the object.",3500);
this.amB++}};q.UC.prototype._S=function(w,I,E,X){q.JM.zq(w,q.mc.D9,this.Dw);if(!X.WN||!this.v4)return;
var o=this.eB(w,E,!1),i=o.q,h=o.w,k=o.x,x=o.y,j=o.x+i,v=o.y+h,_=k+i/2,L=x+h/2,U=q.UC.adZ;w.I.vC={C:[k,x,j,x,j,v,k,v,_-i*U,L,_+i*U,L,_,L-h*U,_,L+h*U],J:"M L L L Z M L M L".split(" ")};
w.WV=!0};q.UC.adZ=.12;q.UC.prototype.wz=function(w,I,E,X){w.I.vC=null;w.WV=!0;this.finish(w,I,E,X)};
q.UC.prototype.getSelection=function(w,I,E,X){if(this.WJ.ZQ(this.QG)||!this.v4)return null;var o=this.eB(w,E,!1),i=w.b[w.g[0]];
if(o.qo()||!o.XU(i.rect))return null;return q.mc.O6("ObSl",o)};q.JM=function(){q.Og.call(this,[10,37],q.Xl,"tools/qselect");
this.ld="qselect"};q.JM.prototype=new q.Og;q.JM.prototype.PX=function(w,I,E,X,o){q.JM.zq(w,q.mc.D9,I,!0);
this.ts(w,E,X,o,1);if(this.Y0==null)return;this.$G(w)};q.JM.prototype.L_=function(w,I,E,X,o){this.fC(w,I,E);
q.JM.zq(w,q.mc.D9,I);if(this.Lz)this.WB(w,E,o);if(this.Y0==null)return;if(!o.WN)return;var i=this.pE(w,E,X,o);
if(i!=1)this.$G(w)};q.JM.zq=function(w,I,E,X){if(w&&I.key!=q.JM.va(w)){I.key=q.JM.va(w);var o=w.b[w.g[0]].rect.A(),h="Image Analysis ...";
if(o==0)return;var i=o>1e6&&X!=!0,k=new e9(W.E.Z,!0);k.data={d:W.t.XR,cG:h};if(i)E.c(k);var x=function(){var j=q.JM.a6s(w);
for(var v in j)I[v]=j[v];var k=new e9(W.E.Z,!0);k.data={d:W.t.Iw,cG:h};if(i)E.c(k)};if(X)x();else setTimeout(x,30)}};
q.JM.va=function(w){var I=w.g[0],E=w.b[I],X=E.rect,o=X.q,i=X.w,h=o*i,k=E.buffer;return[I,X.x,X.y,o,i,k[0],k[1],k[2],k[3]].join(",")};
q.JM.a6s=function(w){var I=w.g[0],E=w.b[I],X=E.rect,o=X.q,i=X.w,h=o*i,k=E.buffer,x=Date.now(),j=Q.$(h);
j.fill(128);var v=Q.wE.$Y(k,o,i);console.log(Date.now()-x);var _={key:q.JM.va(w),H3:k,rect:X.clone(),LQ:o,Ns:i,_K:12,a4t:!1,Rd:j,k0:v,n:Q.$(h),y_:null,eY:null,Zh:null};
q.JM.Jp(_);return _};q.JM.Jp=function(w,I){var E=w.LQ,X=w.Ns,o=0,i=0,h=Date.now(),k=w.y_!=null&&Q.wE.a1W(w.k0.HE,w.y_.HE,w.y_.Q2,w.Rd);
o=Date.now()-h;h=Date.now();if(!k&&!w.a4t){w.y_=Q.wE.Ch(w.k0,E,X,w.Rd,w._K);if(!Q.wE.a1W(w.k0.HE,w.y_.HE,w.y_.Q2,w.Rd)){w.a4t=!0;
console.log("conflict")}w.eY=Q.wE.amL(w.H3,E,X,w.y_.HE,w.y_.Q2);w.Zh=[w.eY[0].slice(0),[]];i=Date.now()-h;
h=Date.now()}var h=Date.now();if(I){w.Zh[0].set(w.eY[0]);var x=w.eY[1],j=w.Zh[1];for(var v=0;v<x.length;
v++)j[v]=x[v].slice(0);Q.wE.a2X(w.y_.HE,E,X,w.y_.Q2,w.Rd,w.n,w.Zh)}};q.xu=function(){q.an.call(this,[10,50],q.rF,"tools/artb");
this.vG=null;this.fi=!1;this.DE=null;this.X0=!1;this.a5R=null;this.a0=100;this.Qz=null;this.Ta=0};q.xu.prototype=new q.an;
q.xu.prototype.Q$=function(w,I,E,X,o){this.p4(E,w.a0Y,I,w.Yr)};q.xu.apy=function(w,I){var E=w[0],X=0,o=0;
if(E==0)o=-1;else if(E==1)X=1;else if(E==2)o=1;else X=-1;return[20/I.oS,w[1]+X*60/I.oS,w[2]+o*60/I.oS]};
q.xu.prototype.NE=function(w,I,E,X,o){this.vG=w.GT;this.Ta=Date.now()};q.xu.prototype.kY=function(w,I,E,X){if(E.OZ!=this.id)return;
if(w==null||w.g.length!=1){this.Eq(w);return}var o=w.g[0],i=w.b[o],h=i.add.artb;if(h==null){this.Eq(w);
return}if(this.X0)return;if(Date.now()-this.Ta>50){this.vG={};var k=["artboardBackgroundType","Clr"];
for(var P=0;P<k.length;P++)if(h[k[P]])this.vG[k[P]]=JSON.parse(JSON.stringify(h[k[P]]));var x=new e9(W.E.Z,!0);
x.data={d:W.t.LF,G:this.id,iw:this.vG};I.c(x)}var j=i.Z9(),v=Q.p.sy(j).C,_=this.DE=new gc(v,!0,!1,!1,!0,!1,3,!1);
_.$h(w,E,!1);var L={C:[1,0],J:["M"]};for(var P=1;P<30;P++){var U=Math.PI*2*P/30;L.C.push(Math.cos(U),Math.sin(U));
L.J.push("L")}L.J.push("Z","M","L","M","L");L.C.push(-.5,0,.5,0,0,-.5,0,.5);var n=j.x+j.q/2,a=j.y+j.w/2,T=this.a0*1.1,g=this.a5R=[n,j.y,j.x+j.q,a,n,j.y+j.w,j.x,a],D=[0,-T,T,0,0,T,-T,0],b=w.root.children;
w.I.fW=[];for(var P=0;P<4;P++){var C=new a5(g[P*2]+D[P*2],g[P*2+1]+D[P*2+1]),Z=!1;for(var S=0;S<b.length;
S++){var i=b[S].l;if(i.add.artb==null)continue;var j=i.Z9();if(j.sF(C))Z=!0}if(Z){g[P*2]=1e9;continue}w.I.fW.push([P,g[P*2],g[P*2+1]])}};
q.xu.prototype.disable=function(w,I,E,X,o){this.Eq(w)};q.xu.prototype.Eq=function(w){if(this.DE){this.DE.clear(w);
this.DE=null;w.I.fW=null}};q.xu.prototype.PX=function(w,I,E,X,o){this.Ta=Date.now();var i=w.u.sP(o.x,o.y),h=this.DE;
if(h){var k=new e9(W.E.s),x=h.ahS(null,i,w,o);if(x<9){this.X0=h.PX(w,E,X,i,null,!0,o);return}else if(h.i0(i)){k.G=q.xE;
k.data={d:"disabAuto"};I.c(k);var j=new e9(W.E.Z);j.data={d:W.t.en,G:q.xE,a4a:!0};I.c(j);return}else{var v=-1,_=w.I.fW;
for(var P=0;P<_.length;P++){var L=q.xu.apy(_[P],w.u);if(a5.GZ(i,new a5(L[1],L[2]))<L[0])v=_[P][0]}if(v!=-1){var U=w.b[w.g[0]].Z9(),n=U.clone(),a=(v==0||v==2?U.w:U.q)+this.a0;
if(v==0||v==3)a=-a;if(v==0||v==2)U.y+=a;else U.x+=a;if(X.Y(aW.$i)){var T=new dC(0,0,w.q,w.w);k.G=q.Qd;
k.data={d:K.Ss};I.c(k);q.Q8.np(w,w.$t(null,w.g[0],null,!0),null,U.x-n.x,U.y-n.y);var g=q.EV.iF(w);if(g){var D=w.fY();
D.data.VT=T;D.data.kR=g}w.g=D.data.f7=w.g.slice(w.g.length-1)}else this.p4(w,U,I);return}}}this.Qz=q.Q8.Bi(w,i,E)};
q.xu.prototype.p4=function(w,I,E,X){if(X==null)X=0;var o=w.b.slice(0),i=[w.b.length+1],h=w.XY();h.G_(df.get([1,16,0])+" "+(w.add.artd==null?1:w.root.children.length+1));
h.add.lsct=gs.Y_;h.CZ(I);if(this.vG){var k=h.add.artb,x=this.vG;for(var j in x)k[j]=x[j]}h.$B="pass";
h.Bo=24;if(X==0){if(w.add.artd||I.LP(new dC(0,0,w.q,w.w)).qo())o.push(w.Rf());else o.unshift(w.Rf())}else{var v=w.$t();
v.sort(function(a,T){return a-T});var _=q.AD.fL(w,v,o.length-1,!1,null,!1),L=_.pop(),U=_.pop();o=_.pop();
o.splice(w.b.length-v.length,0,w.Rf())}o.push(h);var n=new e9(W.E.s);n.G=q.Qd;n.data={d:K.VK,gz:o,bo:i,Wj:[1,16,2]};
E.c(n)};q.xu.prototype.L_=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y),h=this.DE,k=this.Qz;if(h){if(this.X0){h.L_(w,E,X,i)}else{var x=h.zn(i,w.u.T,null,o);
if(x==null)x="default";var j=new e9(W.E.Z,!0);j.data={d:W.t.JN,sL:x};I.c(j)}}if(k){var v=this.b7(w,i,X,E);
w.I.vC=Q.p.sy(v);w.WV=!0;q.an.xU(o,v,w,E)}};q.xu.prototype.dj=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y),h=this.Qz;
if(this.X0){this.DE.dj(w,E,X,i);this.X0=!1;var k=Q.p.uh(this.DE.PE()),x=K.Ug(k),j=w.b[w.g[0]],v=JSON.parse(JSON.stringify(j.add.artb));
v.artboardRect.v=x;var _=new e9(W.E.s,!0);_.G=q.Qd;_.data={d:K.zw,$k:v};I.c(_)}if(h){var L=this.b7(w,i,X,E);
if(L.A()>20)this.p4(w,L,I);w.I.vC=null;w.WV=!0;this.Qz=null;w.I.E8=[]}};q.xu.prototype.b7=function(w,I,E,X){var o=this.Qz,i=q.Q8.Bi(w,I,X),h=q.II.hb(o,i,E,!0);
o=h[0];i=h[1];return Q.p.uh([o.x,o.y,i.x,i.y])};function gc(w,I,E,X,o,i,h,k){this.aN=null;this.A8=w?w.slice(0):null;
this.Dv=4;this.QG=null;this.qQ=null;this.SH=null;this.gW=-1;this.zr=null;this.asT=!1;this.aeN=[];for(var P=0;
P<8;P++)this.aeN.push(gt.a9E(0,PIMG.rotate,-.5,-.5,-45-P*45));this.a0y=I;this.abZ=E;this.amd=X;this.a7f=o;
this.OU=i;this.Yr=h;this.a21=k==null?1:k}gc.prototype.adU=function(){return this.gW!=-1};gc.prototype.PE=function(){return this.A8.slice(0)};
gc.prototype.V1=function(w){this.A8=w};gc.prototype.a0l=function(){return this.Hm(this.A8)};gc.prototype.atQ=function(){return this.Dv};
gc.prototype.a3J=function(w){this.Dv=w};gc.prototype.gb=function(w){if(w==null)w=this.A8;if(this.Dv==9)return this.QG;
else return this.Hm(w)[this.Dv]};gc.prototype.alu=function(w){if(this.Dv==9)this.QG=w.clone();else{var I=this.gb(),E=new am(1,0,0,1,w.x-I.x,w.y-I.y);
Q.p.F(this.A8,E,this.A8)}};gc.prototype.zn=function(w,I,E,X){var o=this.PF(null,w,I,X),i;if(o==9)return"default";
if(o==10){if(E)return null;return!this.a0y?"move":null}if(o==-1||o==4)return null;if(o==11){var h=this.gb().MT(w);
i=90-Math.atan2(h.y,h.x)*180/Math.PI;var k=Math.round(8*(i/360));k=(k+8)%8;return this.aeN[k]}else{var x=this.tC(w,this.A8);
i=[135,90,45,180,0,0,225,270,315][o];var j=Q.K.TZ(this.A8);i+=Math.atan2(-j[3],j[0])*180/Math.PI;var v="ew nesw ns nwse ew nesw ns nwse".split(" "),k=Math.round(8*(i/360));
k=(k+8)%8;return v[k]+"-resize"}};gc.prototype.tC=function(w,I){var E=Q.K.ja(Q.K.TZ(I)),X=new Float64Array(2);
Q.K.f4(w.x,w.y,E,X);return new a5(X[0],X[1])};gc.prototype.i0=function(w){var I=this.tC(w,this.A8);return 0<=I.x&&I.x<=1&&0<=I.y&&I.y<=1};
gc.prototype.PX=function(w,I,E,X,o,i,h,k){this.asT=i;this.zr=X;var x=w.u.T,j;if(this.A8==null)X=q.Q8.Bi(w,X,I);
this.SH=X.clone();if(this.A8==null){if(k==null)k=0;var v=new am;v.rotate(k);var _=v.kG(new a5(1,1));
this.SH.offset(_.x,_.y);var L=o==null?1:1/o,U=this.A8=[0,0,1,0,1,L,0,L];v.translate(X.x,X.y);Q.p.F(this.A8,v,this.A8);
j=8}else{j=this.PF(E,X,x,h);if(0<=j&&j<=8)this.SH=this.Hm(this.A8)[j];if(j==9){this.Dv=9;this.QG=X.clone()}}this.aN=this.A8.slice(0);
this.gW=j;this.$h(w,I);this.qQ=this.gb();return j!=-1};gc.prototype.ahS=function(w,I,E,X){return this.PF(w,I,E.u.T,X)};
gc.prototype.PF=function(w,I,E,X){var o=-1,i=this.Hm(),h=[0,2,6,8,1,3,5,7],k=X?q.rK({u:{T:E}},X):8*q.V()/E,x=a5.GZ(i[0],i[2]),j=a5.GZ(i[0],i[6]),v=this.tC(I,this.A8);
v.x*=x;v.y*=j;var _=new dC(0,0,x,j);_.Cs(k,k);if(o==-1)if(a5.GZ(this.gb(),I)<k)o=9;if(o==-1)for(var P=0;
P<h.length;P++)if(a5.GZ(i[h[P]],I)<k)o=h[P];if(o==-1&&_.sF(v)){if(Math.abs(v.y-0)<k)o=1;if(Math.abs(v.x-0)<k)o=3;
if(Math.abs(v.y-j)<k)o=7;if(Math.abs(v.x-x)<k)o=5}if(o==-1&&w&&w.Y(aW.$i))o=9;if(o==-1||this.Yr==4){if(this.i0(I)){if(this.a0y)o=10}else{_.Cs(3*k,3*k);
o=_.sF(v)&&this.Yr!=3?11:10}}return o};gc.prototype.L_=function(w,I,E,X){if(this.gW==-1)return;this.zr=X;
var o=E.Y(aW.mG),i=E.Y(aW.$i),h=E.Y(aW.iu),k=w.u.T,x=this.SH,j=this.gW,v=this.Hm(),_=q.Q8.Bi(w,x,I),L=q.Q8.Bi(w,X,I),U,n;
if(j==9){var v=this.Hm(),a=-1;for(var P=0;P<v.length;P++)if(a5.GZ(v[P],L)*k<10)a=P;this.Dv=a==-1?9:a;
this.QG=o?q.O5.w1(_,L):L.clone()}else if(j==10){n=Q.p.zK(this.aN);var T=n.x,g=n.y;n.offset(X.x-x.x,X.y-x.y);
if(this.a6w()){n.x=Math.round(n.x);n.y=Math.round(n.y)}U=q.Q8.VC(w,n,I);var D=new am(1,0,0,1,n.x-T+U[0],n.y-g+U[1]);
Q.p.F(this.aN,D,this.A8)}else if(j==11){var b=this.gb(this.aN),N=b.MT(X),C=b.MT(x),Z=Math.atan2(N.y,N.x),S=Math.atan2(C.y,C.x),D=new am(1,0,0,1,-b.x,-b.y),u=Math.PI/12;
if(o)D.rotate(Math.round((S-Z)/u)*u);else D.rotate(S-Z);D.translate(b.x,b.y);Q.p.F(this.aN,D,this.A8)}else{var p,f=this.aN,d=j==0||j==2||j==6||j==8;
if(this.Yr==1){if(d)o=i=h=!0}else if(this.Yr==2&&d&&this.asT!=!0)h=!0;if(this.Yr==3)h=!1;if(this.amd&&d&&h){var P=[0,0,2,0,0,0,6,0,4,0][j],l=-1,A=L.x,B=L.y;
if(o){var e=P+6&7,m=P+10&7,$=gc.aj1(f[P],f[P+1],f[e],f[e+1],L.x,L.y),V=gc.aj1(f[P],f[P+1],f[m],f[m+1],L.x,L.y),H=$[2]<V[2]?$:V;
A=H[0];B=H[1];if(i)l=$[2]<V[2]?e:m}else if(i)l=P+4&7;p=f.slice(0);if(l!=-1){var F=f[l],G=f[l+1],J=(f[P]+F)/2,c=(f[P+1]+G)/2;
p[l]=J-(A-J);p[l+1]=c-(B-c)}p[P]=A;p[P+1]=B}else if(d&&i){var b=this.qQ,r=b.x,s=b.y,z=_.x-r,Y=_.y-s,ax=1,iW=1;
if(Math.abs(z)>=1)ax=(L.x-r)/z;if(Math.abs(Y)>=1)iW=(L.y-s)/Y;if(o||this.OU)ax=iW=(ax+iW)/2;var D=new am;
D.translate(-r,-s);D.scale(ax,iW);D.translate(r,s);p=f.slice(0);Q.p.F(p,D,p)}else{if(this.a6w()){L.x=Math.round(L.x);
L.y=Math.round(L.y)}var y=[0,1,2,5,8,7,6,3],hm=y[(y.indexOf(j)+4)%8],t=[];for(var P=0;P<3;P++)for(var l=0;
l<3;l++)t.push(new a5(l/2,P/2));var b=this.qQ,cT=this.tC(L,f),c4=this.tC(x,f),kv=i&&(this.Dv==4||this.Dv==9)?this.tC(b,f):t[hm],iL=new am,cr=new am,ax=(cT.x-kv.x)/(c4.x-kv.x);
if(ax==0)ax=1e-4;var iW=(cT.y-kv.y)/(c4.y-kv.y);if(iW==0)iW=1e-4;if(this.a7f){ax=Math.max(ax,0);iW=Math.max(iW,0)}if(j==0||j==2||j==6||j==8){if(o||this.OU)iL.scale(ax,ax);
else iL.scale(ax,iW)}if(j==1||j==3||j==5||j==7){var ga=this.OU||o,iq=h&&o;if(j==1||j==7)iL.scale(ga?iW:1,iq?1:iW);
else iL.scale(iq?1:ax,ga?ax:1);if(this.abZ&&h){if(j==1||j==7)cr.I5=(cT.x-kv.x)/(cT.y-kv.y);else cr.L=(cT.y-kv.y)/(cT.x-kv.x)}}var D=new am;
D.translate(-kv.x,-kv.y);D.concat(iL);D.concat(cr);D.translate(kv.x,kv.y);p=[0,0,1,0,1,1,0,1];Q.p.F(p,D,p);
var H=Q.K.TZ(f);Q.K.F(H,p)}if(gc.LG(p))this.A8=p}this.$h(w,I);if(U)q.Q8.ZA(w,n,U)};gc.aj1=function(w,I,E,X,o,i){var h=E-w,k=X-I,x=o-w,j=i-I,v=h*h+k*k,_=x*h+j*k,L=_/v,U=w+L*h,n=I+L*k,a=o-U,T=i-n;
return[U,n,Math.sqrt(a*a+T*T)]};gc.prototype.a6w=function(){var w=this.A8;return Math.abs(w[1]-w[3])<1e-6&&Math.abs(w[2]-w[4])<1e-6||Math.abs(w[0]-w[2])<1e-6&&Math.abs(w[3]-w[5])<1e-6};
gc.LG=function(w){return Q.p.Wb(w)||Q.p.Wb([w[6],w[7],w[4],w[5],w[2],w[3],w[0],w[1]])};gc.prototype.dj=function(w,I,E,X){this.gW=-1;
this.zr=null;w.I.gy=null;w.I.E8=[];w.WV=!0};gc.prototype.oH=function(w,I,E){var X=E.Ys();if(X.x||X.y){var o=new am(1,0,0,1,X.x,X.y);
Q.p.F(this.A8,o,this.A8);this.$h(w,I);return!0}return!1};gc.prototype.Hm=function(w){if(w==null)w=this.A8;
var I=w[6]-w[0],E=w[7]-w[1],X=w[4]-w[2],o=w[5]-w[3],i=[w[0],w[1],w[2],w[3],w[0]+I/2,w[1]+E/2,w[2]+X/2,w[3]+o/2,w[6],w[7],w[4],w[5]],h=[];
for(var P=0;P<3;P++){var k=P*4,x=i[k+0],j=i[k+1],v=i[k+2],_=i[k+3];h.push(new a5(x,j));h.push(new a5(x+(v-x)/2,j+(_-j)/2));
h.push(new a5(v,_))}return h};gc.prototype.$h=function(w,I,E){if(E==null)E=!1;var X=this.Hm(),o=X[0],i=X[2],h=X[6],k=X[8];
w.I.vC={J:[],C:[]};w.I.vC.J.push("M","L","L","L","Z");w.I.vC.C.push(o.x,o.y,i.x,i.y,k.x,k.y,h.x,h.y);
var x=this.a21;if(x>1){w.I.vo=JSON.parse(JSON.stringify(w.I.vC));var j=i.MT(o),v=h.MT(o),_=k.MT(i),L=k.MT(h);
for(var P=1;P<x;P++){w.I.vC.J.push("M","L","M","L");var U=P/x;w.I.vC.C.push(o.x+j.x*U,o.y+j.y*U,h.x+L.x*U,h.y+L.y*U);
w.I.vC.C.push(o.x+v.x*U,o.y+v.y*U,i.x+_.x*U,i.y+_.y*U)}}w.u.Ep=new dC(0,0,a5.GZ(X[0],X[2]),a5.GZ(X[0],X[6]));
if(this.gW!=-1&&this.gW<9&&this.zr){var n=w.u.o_(this.zr.x,this.zr.y);q.an.xU(n,w.u.Ep,w,I)}if(!E){w.I.jS=[];
for(var P=0;P<X.length;P++)if(P!=4)w.I.jS.push(X[P].x,X[P].y);var a=this.gb();w.I.jS.push(a.x,a.y)}w.WV=!0};
gc.prototype.clear=function(w){w.u.Ep=null;w.I.gy=null;w.I.vC=null;w.I.vo=null;w.I.jS=[];w.WV=!0};function ii(w,I){this.AG=null;
this.gW=-1;this.a2Y(w)}ii.prototype.al=function(){return JSON.parse(JSON.stringify(this.AG))};ii.prototype.a2Y=function(w){this.AG=JSON.parse(JSON.stringify(w))};
ii.prototype.i0=function(w){return!0};ii.prototype.zn=function(w,I,E,X){var o=this.PF(w,I,X);if(o==-1)return"default";
return"pointer"};ii.prototype.PX=function(w,I,E,X,o,i,h){this.gW=this.PF(X,w.u.T,h);return this.gW!=-1};
ii.prototype.PF=function(w,I,E){var X=this.asW(),o=-1,i=1e6;for(var P=0;P<X.length;P++){var h=a5.GZ(X[P],w);
if(h<i){o=P;i=h}}return i<(E?q.rK({u:{T:I}},E)*2:20*q.V()/I)?o:-1};ii.prototype.L_=function(w,I,E,X){if(this.gW==-1)return;
var o=w.u.T,i=this.gW,h=Q.AG.Sk(this.AG);h[i*2]=X.x;h[i*2+1]=X.y;Q.AG.qa(h,this.AG)};ii.prototype.dj=function(w,I,E,X){this.gW=-1;
w.WV=!0};ii.prototype.oH=function(w,I,E){var X=E.Ys();if(X.x||X.y){var o=new am(1,0,0,1,X.x,X.y);Q.p.F(this.A8,o,this.A8);
this.$h(w)}};ii.prototype.asW=function(w){var I=Q.AG.Sk(this.AG),E=[];for(var P=0;P<I.length;P+=2)E.push(new a5(I[P],I[P+1]));
return E};ii.prototype.$h=function(w){var I=this.asW();w.I.vC={J:[],C:[]};w.I.vC.J.push("M","C","C","C","C");
var E=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var P=0;P<E.length;P++)w.I.vC.C.push(I[E[P]].x,I[E[P]].y);
w.I.vC.J.push("M","L","L","M","L","L","M","L","L","M","L","L");E=[4,0,1,2,3,7,11,15,14,13,12,8];for(var P=0;
P<E.length;P++)w.I.vC.C.push(I[E[P]].x,I[E[P]].y);w.I.jS=[];for(var P=0;P<I.length;P++)w.I.jS.push(I[P].x,I[P].y);
w.WV=!0};ii.prototype.clear=function(w){w.I.vC=null;w.I.jS=[];w.WV=!0};function gf(){this.nH=!1;this.br=!1;
this.ave=!1;this.abN=!1;this.Ry=!1;this.rk=!1;this.z1=0;this.em=0}gf.prototype.PX=function(w){this.nH=!0;
this.br=!1;this.Ry=w.Y(aW.mG);this.rk=w.Y(aW.$i);this.z1=this.Ry?0:1;this.em=this.rk?0:1};gf.prototype.oH=function(w){var I=this.abN=w.Y(aW.mG),E=this.ave=w.Y(aW.$i);
if(this.br){if(this.z1==0&&!I)this.z1++;if(this.z1==1&&I)this.z1++;if(this.em==0&&!E)this.em++;if(this.em==1&&E)this.em++}};
gf.prototype.L_=function(){this.br=!0};gf.prototype.dj=function(){this.nH=!1};gf.prototype.X$=function(P){if(P==0)return this.nH?this.rk:this.ave;
if(P==1)return this.br?this.em==2:!1};gf.prototype.r1=function(P){if(P==0)return this.nH?this.Ry:this.abN;
if(P==1)return this.br?this.z1==2:!1};q.History=function(){q.an.call(this,"History",q.b9);this.FV=!0;
this.al5=0};q.History.prototype=new q.an;q.History.prototype.Q$=function(w,I,E,X){E.oP=!0;if(w.d=="h_itemchange"){if(w.index<E.lZ)for(var P=E.lZ;
P>w.index;P--)this.ka(E);if(w.index>E.lZ)for(var P=E.lZ;P<w.index;P++)this.Wu(E)}if(w.d=="h_stepfwd")this.Wu(E);
if(w.d=="h_stepbck")this.ka(E);if(w.d=="h_undoredo"){var o=this.FV||this.al5!=E.lZ;if(o){this.ka(E);
o=!1}else{this.Wu(E);o=!0}this.FV=o;this.al5=E.lZ}if(w.d=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
E.history=[new fL([1,0],null)];E.lZ=0}else this.FV=!0};q.History.prototype.ka=function(w){if(w.lZ==0)return;
var I=w.history[w.lZ];I.G.xg(I.data,w);w.lZ--};q.History.prototype.Wu=function(w){if(w.lZ==w.history.length-1)return;
var I=w.history[w.lZ+1];I.G.$D(I.data,w);w.lZ++};q.AD=function(){q.an.call(this,"Layers",q.Qd);this.Dw=null};
q.AD.prototype=new q.an;q.AD.prototype.Q$=function(w,I,E,X,o){this.Dw=I;var i=w.d,h=w.l!=null?w.l:E.g.length!=0?E.g[0]:E.b.length-1,k=E.b[h];
E.cW=!0;var x=X.Y(aW.$i),j=X.Y(aW.mG),v=X.Y(aW.iu);if(i==K.If&&E.n==null&&(E.g.length>1||!E.p8(!1)))i=K.Ss;
if(i==K.L$){var _=new fL([6,33],this),L=k.vD()?["pass"].concat(hH.H1):hH.H1,U=L[w.pW],n=w.l!=null?[w.l]:E.g,a=JSON.stringify(n),T=[];
for(var P=0;P<n.length;P++)T.push(E.b[n[P]].$B);_.data={d:i,ZF:a,nD:T,pW:U};E.f6(_);this.$D(_.data,E);
this.track(gE.bD("Md",{t:"enum",v:{BlnM:hH.r6(U)}}))}if(i==K.In){var _,g=E.fY(),n=w.l!=null?[w.l]:E.g,a=JSON.stringify(n);
if(g&&g.data&&g.data.d==i&&g.data.ZF==a)_=g;else{var D=gE.bD("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(D);var T=[];for(var P=0;P<n.length;P++)T.push(E.b[n[P]].opacity);_=new fL([6,32],this);_.data={d:i,ZF:a,nD:T,pW:w.pW,l8:D.Zc};
E.f6(_)}_.data.pW=w.pW;_.data.l8.T.v.Opct.v.val=Math.round(w.pW*100/255);this.$D(_.data,E)}if(i==K.cO){if(k.add.iOpa==null)k.add.iOpa=255;
var _,g=E.fY();if(g&&g.data&&g.data.d==i&&g.data.l==h)_=g;else{_=new fL("Fill Opacity Change",this);
_.data={d:i,l:h,nD:k.add.iOpa,pW:w.pW};E.f6(_)}_.data.pW=w.pW;this.$D(_.data,E)}if(i==K.bU){var b=w.pW,N=w.l!=null?[w.l]:E.g.slice(0),C=[],Z=[],_;
for(var S=0;S<N.length;S++){var u=E.b[N[S]];if(u.add.lspf==null)u.add.lspf=0;var T=u.add.lspf,U=T;for(var P=0;
P<b[0].length;P++){var p=b[1][P],f=1<<p;if((U&f)==0&&b[0][P])U^=f;else if((U&f)!=0&&!b[0][P])U^=f}C.push(T);
Z.push(U)}var g=E.fY(),n=JSON.stringify(N);if(g&&g.data&&g.data.d==i&&JSON.stringify(g.data.ZF)==n){_=g;
_.data.pW=Z}else{var _=new fL([6,57,1],this);_.data={d:i,ZF:n,nD:C,pW:Z};E.f6(_)}this.$D(_.data,E)}if(i==K.d5){var d="----",l=w.nC,U=null;
for(var P=0;P<io.Db.Gf.length;P++)if(k.add[io.Db.Gf[P]])d=io.Db.Gf[P];var A=k.add[d];if(l=="TySh")U=bQ.za(50,50,o.j8);
var _=new fL("Layer Type",this);_.data={d:i,l:h,ao0:[d,A],nC:[l,U]};E.f6(_);this.$D(_.data,E)}if(i==K.v8){var N=[];
if(x){var B=E.fY(),e=B?B.data:null;if(B!=null&&B.G==this&&e.d==K.v8&&e.ZF.length!=1){var m=new e9(W.E.s);
m.G=q.b9;m.data={d:"h_stepbck"};I.c(m);if(e.l==h)return}var $=E.root.qx(h),V=E.$t(null,h);while($.parent!=E.root){V.push($.parent.index);
$=$.parent}for(var P=0;P<E.b.length;P++){var H=E.b[P],F=H.TH(),G=V.indexOf(P)!=-1;if(!G&&F)N.push(P);
if(P==h&&!F)N.push(P)}}else if(w.ZF)N=w.ZF;else{N.push(h);var F=E.b[h].TH(),D={$g:F?"hide":"show",Zc:{classID:F?"Hd":"Shw",null:{t:"VlLs",v:[gE.cZ("Lyr",!0)]}}};
this.track(D)}var _=new fL("Layer visibility",this,!0);_.data={d:i,ZF:N,l:h};E.f6(_);this.$D(_.data,E)}if(i==K.L4){if(o.OZ==q.rF){var J=new e9(W.E.Z);
J.data={d:W.t.en,G:q.xE};I.c(J)}var c=w.a77,r=w.js,Y,escape=!1,hm=!1;if(w.NM){if(v&&(r==0||r==1||r==2)){var s=0;
if(j)s++;if(x)s+=2;var z=new e9(W.E.s,!0);z.G=q.UE;z.data={d:"fromlayer",hT:[w.l,r,s]};I.c(z);return}}var D={$g:"select",Zc:{classID:"null",MkVs:{t:"bool",v:!1}}};
if(E.u.wL.join("")!="111"){E.u.wL=[1,1,1];E.WV=!0}for(var P=0;P<E.b.length;P++){var H=E.b[P],ax=H.add.vmsk;
if(H.r3()){var iW=H.Em(E);if(iW&&iW.D&&iW.D.ag){iW.D.ag=!1;E.WV=!0}}var y=H.pi();if(y&&y.ag){y.ag=!1;
E.WV=!0}if(ax){if(ax.g.length!=0)ax.g=[];if(ax.pa.length!=0)ax.pa=[]}}if(X.Y(aW.iu)||w.__==0){var t=E.g.indexOf(h);
if(t==-1)E.g.push(h);else if(E.g.length>1){if(w.__!=0)E.g.splice(t,1)}E.g.sort(function(_,bY){return _-bY});
D.Zc.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};Y=h}else if(j&&!x&&r>0){i=r==1?K.$X:r==2?K.j0:K.A$;
escape=!0}else if((j||w.__==1)&&E.g.length>0){var cT=Math.min(h,E.g[0]),c4=Math.max(h,E.g[E.g.length-1]);
E.g=[];for(var P=cT;P<=c4;P++)if(E.b[P].add.lsct!=gs.sz)E.g.push(P);D.Zc.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
Y=h}else{Y=h;if(h>=E.b.length)return;var H=E.b[h];if(H&&H.vD()&&w.a6y)H.add.lsct=gs.Y_;else if(E.g.length==1&&E.g[0]==h&&Math.max(0,r)==H.yA){hm=!0;
E.cW=!1}if(!hm){E.g=[h];E.xm()}}if(!hm){if(Y!=null&&Y<E.b.length){D.Zc.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:E.b[Y].getName()}}]},this.track(D)}if(!escape){console.log("no escape");
if(E.g.length==1){var kv=E.g[0];for(var P=0;P<E.b.length;P++){if(P==kv)continue;var u=E.b[P];u.yA=0;
u.Fq=!1}var k=E.b[kv];if(r==2){k.Fq=!k.Fq;E.c0=[]}else if(k){k.yA=r<=0?0:r}}else for(var P=0;P<E.b.length;
P++){var u=E.b[P];u.yA=0;u.Fq=!1}E.ko=null;E.oP=!0}}if(w.NM&&x){if((r==1||r==3)&&c!=null){var z=new e9(W.E.s,!0);
z.G=q.dc;z.data={d:"mskView",k:c!=0?0:j?1:2};I.c(z)}else{this.Q$({d:K.pk,l:w.l},I,E,X,o)}}}if(i==K.$X||i==K.A$){var iL=i==K.$X,cr=iL?k.pi():k.Em(E).D;
if(cr==null)return;var _=new fL(cr.isEnabled?iL?[6,15]:[6,42]:iL?[6,14]:[6,41],this);_.data={d:i,l:h};
E.f6(_);this.$D(_.data,E)}if(i==K.j0){var cr=k.add.vmsk;if(cr==null)return;var _=new fL(cr.isEnabled?[6,17]:[6,16],this);
_.data={d:i,l:h};E.f6(_);this.$D(_.data,E)}if(i==K.anz){var ga=k.add.lsct==gs.Y_?gs.S2:gs.Y_;if(X.Y(aW.iu)){var iq=E.root.qx(E.b.indexOf(k)).parent;
for(var P=0;P<iq.children.length;P++){var ei=iq.children[P].l;if(ei.vD())ei.add.lsct=ga}}else k.add.lsct=ga;
E.oP=!0}if(i==K.pk){if(!E.EJ(h))return;var _=new fL(k.ws?[6,19]:[6,18],this);_.data={d:i,l:h};E.f6(_);
if(w.pW==null||w.pW!=k.ws)this.$D(_.data,E)}if(i==K.a0C){if(k.e_())k.Bo-=32;else k.Bo+=32;E.oP=!0}if(i==K.gU||i==K.MU){var _;
if(i==K.gU)_=new fL(k.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(i==K.MU)_=new fL(k.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
_.data={d:i,l:h};E.f6(_);this.$D(_.data,E)}if(i==K.$R||i==K.jl){var kv=w.index,_;if(i==K.$R)_=new fL(k.add.lmfx[hL.JR[kv[0]]].v[kv[1]].v.enab.v?[6,30]:[6,29],this);
if(i==K.jl)_=new fL(k.add.SoLd.filterFX.v.filterFXList.v[kv].v.enab.v?[6,44]:[6,43],this);_.data={d:i,l:h,index:w.index};
E.f6(_);this.$D(_.data,E)}if(i==K.g6){if(w.src==w.aw)return;var hw=E.b[w.src],hC=E.b[w.aw],j5=hw.add.lmfx?JSON.stringify(hw.add.lmfx):"",ed=hC.add.lmfx?JSON.stringify(hC.add.lmfx):"";
if(hC.add.lmfx==null){hC.add.lmfx=JSON.parse(hL.default);for(var P=0;P<hL.order.length;P++)hC.add.lmfx[hL.JR[P]]={t:"VlLs",v:[]}}if(w.eF==null){hC.add.lmfx=JSON.parse(j5);
if(!x)delete hw.add.lmfx}else{var jn=w.eF[0],fj=hL.JR[jn];if(hL.ask.indexOf(hL.order[jn])==-1)hC.add.lmfx[fj].v=[];
hC.add.lmfx[fj].v.push(hw.add.lmfx[fj].v[w.eF[1]]);if(!x)hw.add.lmfx[fj].v.splice(w.eF[1],1)}var di=hw.add.lmfx?JSON.stringify(hw.add.lmfx):"",b1=hC.add.lmfx?JSON.stringify(hC.add.lmfx):"";
if(!hC.e_())hC.Bo+=32;var _=new fL("Move Layer Styles",this);_.data={d:i,Kk:w.src,Pn:w.aw,aji:j5,axj:ed,apd:di,ajB:b1};
E.f6(_);this.$D(_.data,E)}if(i==K.RY){if(w.src!=null)h=w.src;var u=E.b[h],dI=JSON.stringify(u.add.SoLd),h2=JSON.parse(dI),de=h2.filterFX.v.filterFXList.v;
de.splice(w.eF,1);var _=new fL([6,53],this);_.data={d:K.zb,ax:[{Lq:h,ca:[dI,JSON.stringify(h2)]}]};E.f6(_);
this.$D(_.data,E)}if(i==K.ai$){var ds=x,hw=E.b[w.src],hC=E.b[w.aw],jO=[];if(hw!=hC&&hC.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(hw==hC&&!ds&&(w.eF==w.a9||w.eF==-1))return;var gy=hw.Em(E),dI=JSON.stringify(hw.add.SoLd),h2=JSON.parse(dI),de=h2.filterFX.v.filterFXList.v;
if(hw==hC){de.splice(w.a9,0,de[w.eF]);if(!ds)de.splice(w.eF+(w.eF<w.a9?0:1),1);jO.push({Lq:w.src,ca:[dI,JSON.stringify(h2)]})}else if(w.eF==-1){var fV=h2.filterFX;
if(!ds){delete h2.filterFX;jO.push({Lq:w.src,ca:[dI,JSON.stringify(h2)],yt:[gy,null]})}var hl=hC.r3()?hC.Em(E):null,im=hg.a5a(gy),eA=JSON.stringify(hC.add.SoLd),hy=JSON.parse(eA);
hy.placed.v=im.id;hy.filterFX=fV;jO.push({Lq:w.aw,ca:[eA,JSON.stringify(hy)],yt:[hl,im]})}else{var dm=de[w.eF];
if(!ds){de.splice(w.eF,1);jO.push({Lq:w.src,ca:[dI,JSON.stringify(h2)]})}var eA=JSON.stringify(hC.add.SoLd),hy=JSON.parse(eA);
if(hy.filterFX==null)hy.filterFX=gD.WU();var hA=hy.filterFX.v.filterFXList.v;hA.splice(w.a9,0,dm);var j2={Lq:w.aw,ca:[eA,JSON.stringify(hy)]};
if(!hC.r3()){var im=hg.asB(hC.add.SoLd.placed.v);j2.yt=[null,im]}jO.push(j2)}var _=new fL([6,52],this);
_.data={d:K.zb,ax:jO};E.f6(_);this.$D(_.data,E)}if(i==K.nP){var cr=k.pi(),_=new fL(cr.Rh?[6,26]:[6,25],this);
_.data={d:i,l:h};E.f6(_);this.$D(_.data,E);this.track({$g:"set",Zc:{classID:"setd",null:{t:"obj ",v:[gE.cZ("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:cr.Rh}}}}})}if(i==K.Vg){var cr=k.add.vmsk,_=new fL(cr.Rh?[6,28]:[6,27],this);
_.data={d:i,l:h};E.f6(_);this.$D(_.data,E)}if(i==K.Gb){var _=new fL("Variables / Datasets",this),dQ=JSON.stringify([E.Ot,E.p2]);
if(dQ==w.k)return;_.data={d:i,ac9:dQ,a1p:w.k};E.f6(_);this.$D(_.data,E)}if(i==K.u7){var aS=[],_;for(var P=0;
P<E.g.length;P++){var S=E.g[P],H=E.b[S];if(H.add.vogk)aS.push(S,JSON.stringify(H.add.vogk))}for(var P=0;
P<E.c0.length;P++){var S=E.c0[P],H=E.c1[S];if(H.add.vogk)aS.push(-1-S,JSON.stringify(H.add.vogk))}Q.GJ.aqs(E,w.k,w.aeo);
var eh=[];for(var P=0;P<E.g.length;P++){var S=E.g[P],H=E.b[S];if(H.add.vogk)eh.push(S,JSON.stringify(H.add.vogk))}for(var P=0;
P<E.c0.length;P++){var S=E.c0[P],H=E.c1[S];if(H.add.vogk)eh.push(-1-S,JSON.stringify(H.add.vogk))}var g=E.fY();
if(g&&g.data&&g.data.d==i){var h6=!0;for(var P=0;P<aS.length;P+=2)if(aS[P]!=g.data.Ed[P])h6=!1;if(h6){_=g;
_.data.nl=eh}}if(_==null){var _=new fL([12,91,1],this);_.data={d:i,Ed:aS,nl:eh};E.f6(_)}this.$D(_.data,E)}if(i==K.zw){var gT=JSON.stringify(k.add.artb),b8=JSON.stringify(w.$k),_;
E.b[h].add.artb=JSON.parse(b8);var hP=new dC(0,0,E.q,E.w),b5=q.EV.As(E),g=E.fY();if(g&&g.data&&g.data.d==i&&g.data.l==h){_=g;
_.data.$k=b8}if(_==null){var _=new fL("Editing Artboard",this);_.data={d:i,l:h,akU:gT,$k:b8,VT:hP};E.f6(_)}_.data.kR=b5;
this.$D(_.data,E)}if(i==K.wR){var eh=E.K3.slice(0),ar=E.Y1.slice(0),cG=E.n,bd=E.n;if(w.ns=="fromAction"){var aZ=w.k.$g,gl=w.k.Zc;
if(aZ=="make"||aZ=="duplicate"){var ci=eh.length,ay=!1,it=!1;if(E.T5())ci--;var a7=new K._x;a7.name="Alpha "+(ci+1);
if(aZ=="make"){var h1=gl.Nw.v;a7.color=255;ar=[ci];a7.ag=!0;a7.jI=h1.Opct.v;if(h1.Nm)a7.name=h1.Nm.v;
if(h1.classID=="SCch"){ay=!0;bd=null;a7.Vq=1}}else{var hM=gl.null.v[0].v;if(hM.keyID=="fsel")ay=!0;else{var dn=q.mc.avO(E);
bd=q.mc.ay3(E,dn);a7.color=0;a7.rect=bd.rect;a7.channel=bd.channel}}if(ay){a7.color=0;if(E.n){a7.rect=E.n.rect.clone();
a7.channel=E.n.channel.slice(0)}if(it){a7.color=255-a7.color;Q.ja(a7.channel)}}eh.splice(ci,0,a7)}else if(aZ=="delete"){if(k&&k.pi()&&k.yA==1){this.Q$({d:K.iX},I,E,X,o);
return}var V=E.Y1;V.sort(function(_,bY){return bY-_});if(V.length==0)return;for(var P=0;P<V.length;P++)eh.splice(V[P],1);
ar=[]}else if(aZ=="hide"){eh[ar[0]]=eh[ar[0]].clone();eh[ar[0]].ag=!1}}if(w.ns=="rnm"){eh[w.qI]=eh[w.qI].clone();
eh[w.qI].name=w.name}var _=new fL("Channel Edit",this);_.data={d:i,Ed:E.K3.slice(0),VR:E.Y1.slice(0),nl:eh,py:ar,KC:cG,bo:bd};
this.$D(_.data,E);E.f6(_)}if(i==K.VK){var gV=new dC(0,0,E.q,E.w),_=new fL(w.Wj,this);_.data={d:K.VK,lq:E.b.slice(0),gz:w.gz,hU:E.g.slice(0),f7:w.bo};
E.f6(_);this.$D(_.data,E);var jv=q.EV.iF(E);if(jv){_.data.VT=gV;_.data.kR=jv}}if(i==K.Ii){var dt=E.$t(null,w.l),eQ=1e10;
if(dt.length==0)return;if(E.b.length==dt.length){alert("Project must have at least 1 layer");return}var hZ=[];
for(var P=0;P<E.b.length;P++)if(dt.indexOf(P)==-1)hZ.push(E.b[P]);for(var P=0;P<dt.length;P++)eQ=Math.min(eQ,dt[P]);
eQ=Math.max(eQ-1,0);while(hZ[eQ].name=="</Layer group>")eQ++;this.track({$g:"delete",Zc:{classID:"Dlt",null:gE.cZ("Lyr",!0)}});
var hP=new dC(0,0,E.q,E.w),_=new fL([6,31],this);_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:[eQ]};
E.f6(_);this.$D(_.data,E);var b5=q.EV.As(E);if(b5){_.data.kR=b5;_.data.VT=hP;q.EV.iF(E)}}if(i==K.jH){if(!X.Y(aW.mG))return;
var _=new fL("Switch Layer Link",this);_.data={d:i,l:w.l};E.f6(_);this.$D(_.data,E)}if(i==K.zY){var V=w.an6?w.an6:E.g,dd=0,by=!1;
if(V.length==0)return;if(V.length==1&&E.b[V[0]].hm==0){alert(df.get([15,7,5]));return}var dp=[];for(var P=0;
P<E.b.length;P++){var i_=E.b[P].hm;dp.push(i_);dd=Math.max(dd,i_)}var jK=-1,cc=-1;for(var P=0;P<V.length;
P++){var i_=E.b[V[P]].hm;if(i_==0)by=!0;else if(jK==-1||jK==i_)jK=i_;else cc=i_}if(!by)for(var P=0;P<V.length;
P++)E.b[V[P]].hm=0;else if(jK!=-1&&cc==-1)for(var P=0;P<V.length;P++)E.b[V[P]].hm=jK;else for(var P=0;
P<V.length;P++)E.b[V[P]].hm=dd+1;var jo=[];for(var P=0;P<E.b.length;P++){var i_=E.b[P].hm;if(jo[i_]==null)jo[i_]=0;
jo[i_]++}for(var P=0;P<E.b.length;P++){var i_=E.b[P].hm;if(jo[i_]==1)E.b[P].hm=0}var ge=dp;dp=[];for(var P=0;
P<E.b.length;P++){var i_=E.b[P].hm;dp.push(i_);dd=Math.max(dd,i_)}var _=new fL(by?[6,54,0]:[6,54,1],this);
_.data={d:K.zY,aun:ge,am8:dp};E.f6(_);this.$D(_.data,E)}if(i==K.Ss&&(w.l!=null||E.g.length!=0)||i==K.pn){var gH=E.I3(i==K.Ss?w.l:h,null,w.aio),cv;
if(i==K.pn){var u=gH[0],aZ=u.add.SoLd.Idnt.v,jN=E.Df(aZ).clone();u.add.SoLd.Idnt.v=jN.wl=hg.Mz()+aZ.slice(8);
E.add.lnk2.push(jN)}if(i==K.Ss){var fg={$g:"duplicate",Zc:{classID:"null",null:gE.cZ("Lyr",!0)}};if(w.aD){gH[0].G_(w.aD);
fg.Nm={t:"TEXT",v:w.aD}}this.track(fg);w.ac3=w.l}i=K.sc;w.b=gH;w.Mn=E;w.Pf=E}if(i==K.sc){var el,cf,gW=w.Mn,dl=w.Pf,dg=0,dX=0,fS=!1,hO,cw=0,iA=0;
if(gW!=dl){console.log("ADDLAYERS different projs");var el=new dC(0,0,gW.q,gW.w),cf=new dC(0,0,dl.q,dl.w),f5=[],aX=[];
for(var P=0;P<w.b.length;P++){var u=w.b[P];if(u.add.SoLd==null)continue;var aZ=u.add.SoLd.Idnt.v;if(f5.indexOf(aZ)==-1){f5.push(aZ);
aX.push(hg.Mz()+aZ.slice(8))}u.add.SoLd.Idnt.v=aX[f5.indexOf(aZ)];var gy=u.Em(gW);if(gy){gW.oV(gy);dl.j2(gy)}}if(f5.length>0){if(dl.add.lnk2==null)dl.add.lnk2=[];
for(var P=0;P<f5.length;P++){var dK=gW.Df(f5[P]),jN=dK.clone();jN.wl=aX[P];dl.add.lnk2.push(jN)}}}var cG=dl.g.slice(0);
cG.sort(function(_,bY){return _-bY});var hZ=dl.b.slice(0),bd=[],e4=-1;for(var P=0;P<cG.length;P++)e4=Math.max(e4,cG[P]);
if(w.ac3!=null)e4=w.ac3;var bf=gW.Ze();if(w.qH){e4=w.qH-1;var bC=dl.b[w.qH].Z9();dg+=bC.x;dX+=bC.y}if(bf!=-1&&(gW!=dl||w.qH)){var iT=gW.b[bf].Z9();
dg-=iT.x;dX-=iT.y}var f4=dl.b5();e4++;for(var P=0;P<w.b.length;P++){var H=w.b[P],fl=H.add.artb;hZ.splice(e4,0,H);
bd.push(e4);e4++;if(fl){hO=!0;var hr=fl.guideIndeces;if(hr){hr=hr.v;console.log(hr);for(var fq=0;fq<hr.length;
fq++){f4[0].push(gW.l2[hr[fq].v].slice(0));f4[1].push(hZ.indexOf(H));fS=!0}}}}for(var P=0;P<w.b.length;
P++){var H=w.b[P];if(H.add.lsct==gs.sz){if(cw==0)iA++;cw++}else if(H.vD())cw--}if(iA==1)bd=[e4-1];var _=new fL([6,0],this);
_.data={d:K.VK,lq:dl.b.slice(0),gz:hZ,hU:cG,f7:bd};if(fS){_.data.Y7=[dl.b5(),f4]}dl.f6(_);this.$D(_.data,dl);
if(dg!=0||dX!=0)q.Q8.np(dl,dl.$t(),null,dg,dX);if(hO){_.data.VT=new dC(0,0,dl.q,dl.w);_.data.kR=q.EV.As(dl);
q.EV.iF(dl)}}if(i==K.a40){var gr=w.l!=null?[w.l]:E.$t(),hZ=E.b.slice(0);for(var P=0;P<gr.length;P++){var H=E.b[gr[P]].clone();
H.Ev(E);hZ.splice(gr[P],1,H)}var _=new fL([6,8],this);_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:E.g.slice(0)};
E.f6(_);this.$D(_.data,E)}if(i==K.as2){var hZ=E.b.slice(0),H=hZ[E.g[0]]=hZ[E.g[0]].clone(),bF=H.add.lmfx,eU,bC;
delete H.add.lmfx;var fC=E.g[0],hG=fC+1;if(H.vD()){var gx=E.b[E.g[0]].Nu;bC=gx.ahw;eU=gx._3;var $=E.root.qx(fC);
fC=$._F}else{bC=H.rect;eU=Q.$(bC.A());Q.qe(H.buffer,eU,3)}var gg=aQ.hj(bF,H.add.fxrp,eU,bC,E,bC).type;
for(var P=0;P<hL.order.length;P++){var ff=hL.order[P],hi=gg[ff];hi.reverse();for(var fq=0;fq<hi.length;
fq++){var fN=hi[fq],n=E.XY(),cY=P>7;if(ff=="ebbl"){if(fN.Z8||fN.Jt){var gA=fN.Z8?fN.Z8:fN.Jt;if(fN.Z8)delete fN.Z8;
else delete fN.Jt;if(fN.Jt||fN.NL)fq--}else if(fN.NL||fN.QT){var gA=fN.QT?fN.QT:fN.NL;if(fN.QT){delete fN.QT;
if(fN.NL)fq--}cY=!0}fN=gA}n.$B=fN._h;n.opacity=Math.round(255*fN.oK);n.buffer=fN.Fr;n.rect=fN.ze.clone();
n.rect.offset(bC.x,bC.y);if(ff=="FrFX"){n.buffer=n.buffer.slice(0);Q.lJ(fN.KF?fN.KF:fN.rf,n.buffer,3);
if(fN.KF){cY=!0;delete fN.KF;if(fN.rf)fq--}}n.ws=!cY;n.G_(H.getName()+"'s "+df.get(hL.names[P]));hZ.splice(cY?fC:hG,0,n);
if(cY)hG++}}var _=new fL("Styles to Layers",this);_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:[hG-1]};
E.f6(_);this.$D(_.data,E)}if(i==K.lv){var gr=E.$t(),hZ=E.b.slice(0),fQ=new dC(0,0,E.q,E.w);for(var P=0;
P<gr.length;P++){var kd=E.b[gr[P]],ac=kd.TH();kd.Wz(!0);var ah=E.root.qx(gr[P]);if(kd.vD())continue;
if(ah==null)continue;var H=kd.clone();H.Ev(E);var dN=ah.eB(E,!0),bq=E.b;E.DO([kd]);E.M();E.vL();H.buffer=Q.$(dN.A()*4);
Q.D6(E.sQ(),fQ,H.buffer,dN);H.rect=dN;H.opacity=255;H.add.iOpa=255;H.$B="norm";H.M();H.Nu.MH=!0;E.DO(bq);
if(H.add.lmfx)delete H.add.lmfx;H.D=H.Zk=null;hZ.splice(gr[P],1,H);H.Wz(ac);kd.Wz(ac)}var _=new fL([6,34],this);
_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:E.g.slice(0)};E.f6(_);this.$D(_.data,E)}if(i==K.a0q){var gr=E.$t(),hZ=E.b.slice(0);
for(var P=0;P<gr.length;P++){var H=E.b[gr[P]],dw=H.add.TySh;if(dw==null)continue;var u=new g9(dw.Da,o.vj),hW=Q.p.Qe(fv.y2(u,dw));
for(var j0 in hW){var k6=hW[j0],ei=H.clone();delete ei.add.TySh;ei.Bo=ei.Bo|1<<4;ei.add.SoCo=JSON.parse(JSON.stringify(hL.Bx[0]));
var a4=ei.add.SoCo.Clr.v;a4.Rd.v=parseInt(j0.slice(1,3),16);a4.Grn.v=parseInt(j0.slice(3,5),16);a4.Bl.v=parseInt(j0.slice(5,7),16);
var e0=new K.DN;e0.j=Q.p.PY(k6,!1);if(ei.add.vmsk!=null){ei.add.vmsk.aeE();e0.concat(ei.add.vmsk)}ei.add.vmsk=e0;
ei.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default));ei.QQ();ei.kH(E);hZ.splice(hZ.indexOf(H),0,ei)}hZ.splice(hZ.indexOf(H),1)}var bd=E.g.slice(0);
for(var P=bd.length-1;P>=0;P--)if(bd[P]>=hZ.length)bd.splice(P,1);var _=new fL([6,40],this);_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:bd};
E.f6(_);this.$D(_.data,E)}if(i==K.am3){var iQ=E.g.length;if(iQ<2){alert("Select two or more layers.");
return}if(!E.Im())return;var ei=E.b[E.g[0]].clone(),hZ=[];for(var P=0;P<E.b.length;P++)if(E.g.indexOf(P)==-1)hZ.push(E.b[P]);
hZ.splice(E.g[0],0,ei);for(var P=1;P<iQ;P++)if(E.b[E.g[P]].rect.A()>2e6){alert("Blended areas are too large.");
return}for(var P=1;P<iQ;P++){var H=E.b[E.g[P]],cE=H.rect.clone();cE.Cs(1,1);var bY=Q.$(cE.A()*4);Q.D6(H.buffer,H.rect,bY,cE);
ei.extend(cE);var bz=Q.$(cE.A()*4);Q.D6(ei.buffer,ei.rect,bz,cE);var _=Q.$(cE.A());Q.qe(bY,_,3);Q.round(_,200);
Q.lJ(_,bY,3);Q.e.gF("norm",bY,cE,bz,cE,cE,1);Q.Yf.Yn(bz,_,cE);Q.D6(bz,cE,ei.buffer,ei.rect)}var _=new fL([2,10,0],this);
_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:[E.g[0]]};E.f6(_);this.$D(_.data,E)}if(i==K.cN){var hZ=E.b.slice(0),ar=E.g.slice(0);
for(var P=0;P<hZ.length;P++){var H=hZ[P],ax=H.add.vmsk;if(H.us()&&ax&&H.add.vstk.strokeEnabled.v&&!H.add.vstk.fillEnabled.v){var jr=ax.j,eY=0,f1=-1;
for(var fq=0;fq<jr.length;fq++){if((jr[fq].type==0||jr[fq].type==3)&&jr[fq].KP!=-1){eY++;if(jr[fq].type==3&&f1==-1){jr[fq].mr=jr[fq].KP=1;
f1=fq}}}if(eY>1&&f1!=-1&&eY<10){console.log("separating an open path into a new layer");H=H.clone();
ax=H.add.vmsk;jr=ax.j;var n=jr[f1].length,cy=H.clone();cy.add.lyid=E.oX();ax.j=jr.slice(0,2).concat(jr.slice(f1,f1+n+1));
ax.g=[];H.kH(E);H.M();var dc=cy.add.vmsk.j;cy.add.vmsk.j=dc.slice(0,f1).concat(dc.slice(f1+n+1,dc.length));
cy.add.vmsk.g=[];cy.kH(E);hZ[P]=H;hZ.splice(P+1,0,cy);for(var fq=0;fq<ar.length;fq++)if(ar[fq]>P)ar[fq]++;
var hS=ar.indexOf(P);if(hS!=-1){ar.splice(hS+1,0,P+1)}}}}if(hZ.length!=E.b.length){var _=new fL("Splitting open paths",this);
_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:ar};E.f6(_);this.$D(_.data,E)}}if(i==K.nJ){this.Q$({d:K.cN},I,E,X,o);
var cG=E.g.slice(0),bq=E.b.slice(0),gr=E.$t();if(gr.length==0)return;E.alH(gr,!1,w.G$);var _=new fL([6,36,0],this);
_.data={d:K.VK,lq:bq,gz:E.b.slice(),hU:cG,f7:E.g.slice(0)};E.f6(_);this.$D(_.data,E)}if(i==K.al$){var dI=k.add.SoLd;
if(dI==null)return;var aZ=dI.Idnt.v,jm=E.Df(aZ);jm.sQ(!1);var dr=jm.lG[0],cE=jm.lG[1];if(Q.r0(dr)){alert("The smart object contains transparency.");
return}var he=gt.FB("jpg").v6([[dr.buffer]],cE.q,cE.w,[90]);this.Q$({d:K.ZM,gt:E,data:new Uint8Array(he),id:aZ,G$:"jpg"},I,E,X,o);
console.log(E.add);return}if(i==K.ZM){var dK=w.gt.Df(w.id),jN=dK.clone();jN.raw=w.data;if(w.Ov)jN.Ov=w.Ov;
if(w.G$){jN.Va="    ";jN.BM="    ";jN.Ov=jN.Ov+"."+w.G$}else{jN.Va="8BIM";jN.BM="8BPB";jN.Ov=jN.Ov+(jN.Ov.endsWith(".psd")?"":".psd")}jN.sQ(!1);
dK.sQ(!1);var _=new fL([6,36,1],this);_.data={d:K.ZM,id:w.id,PN:dK,Ct:jN};w.gt.f6(_);this.$D(_.data,w.gt)}if(i==K.l7){var _=new fL([6,36,4],this);
_.data={d:i,l:h,di:k.add.SoLd.Impr.v.classID,pW:w.pW};E.f6(_);this.$D(_.data,E)}if(i==K.ar_){var bx,d$;
if(w.FE){bx=w.gt;d$=w.FE}else{w.gt.sI();w.gt.Al();w.gt.M();w.gt.vL();w.gt.sQ();bx=gt.FB("PSD").v6(w.gt,0,0,[!0,!0]);
d$=w.gt.name}if(!(bx instanceof ArrayBuffer))throw"e";bx=new Uint8Array(bx);var t=w.PH;if(t==null){if(E.g.length==0)t=E.g.length;
else{var h8=E.g[E.g.length-1],n=E.b[h8];t=n.vD()?h8:h8+1}}var iD=new dC(0,0,E.q,E.w),jw=E.Ze();if(jw!=-1)iD=E.b[jw].Z9();
var aM=E.ec(bx,d$,0,0,iD,o.vj,I),hZ=E.b.slice(0);hZ.splice(t,0,aM);var _=new fL([6,36,2],this);_.data={d:K.VK,lq:E.b.slice(),gz:hZ,hU:E.g.slice(0),f7:[hZ.indexOf(aM)]};
E.f6(_);this.$D(_.data,E)}if(i==K._V&&w.ns=="merge"){var gG=[],jj=E.root.children,cN=0;for(var P=0;P<jj.length;
P++){var $=jj[P],H=$.l,dM=$.children,eK=!0;if(!H.vD()||dM.length==0)continue;for(var fq=0;fq<dM.length;
fq++)if(!dM[fq].l.getName().startsWith("_a_")){eK=!1;break}if(eK)gG.push(E.b.indexOf(H))}var aT=[];for(var P=0;
P<gG.length;P++)if(E.g.indexOf(gG[P])!=-1)aT.push(gG[P]);if(aT.length>=2)gG=aT;if(gG.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var f0=[];for(var P=0;P<gG.length;P++)f0.push(E.b[gG[P]].getName());var hi=[];for(var ks=0;ks<gG.length;
ks++){var $=E.root.qx(gG[ks]),j2=[[],[],0,ks];hi.push(j2);for(var P=0;P<$.children.length;P++){var S=$.children[P].index,H=$.children[P].l,a7=H.getName(),ba=20,eW=a7.split(",");
if(eW.length>1){var ko=parseInt(eW.pop());if(!isNaN(ko)&&ko!=0)ba=ko}j2[0].push(H);j2[1].push(ba);j2[2]+=ba}}hi.sort(function(_,bY){return bY[2]-_[2]});
var a9=hi[0],c3=a9[2];for(var aj=1;aj<hi.length;aj++){var j2=hi[aj],h0=1,dZ=j2[1].slice(0),dV=0;while((h0+1)*j2[2]<=a9[2]){h0++;
dZ=dZ.concat(j2[1])}j2[1]=dZ;j2[2]*=h0;var fy=a9[2]/j2[2];for(var P=0;P<j2[1].length;P++){var gP=Math.floor(j2[1][P]*fy);
j2[1][P]=gP;dV+=gP}while(dV<c3){dV++;j2[1][j2[1].length-1]++}j2[2]=dV}var ji=[],fI=[],gP=[];for(var P=0;
P<hi.length;P++){ji.push(0);fI.push(0)}while(cN<c3){var ct=1e9,ci=-1;for(var P=0;P<hi.length;P++){var bj=hi[P][1],fC=ji[P];
if(fC!=bj.length&&fI[P]+bj[fC]<cN+ct){ci=P;ct=fI[P]+bj[fC]-cN}}fI[ci]+=hi[ci][1][ji[ci]];ji[ci]++;if(ct!=0){gP.push(ct);
cN+=ct}}for(var P=1;P<gP.length;P++){var bA=gP[P];if(bA<16&&(gP[P-1]<16||P<gP.length-1&&16<=gP[P+1])){gP[P-1]+=bA;
gP.splice(P,1);P--}}var ac=[],fQ=new dC(0,0,E.q,E.w);for(var P=0;P<E.b.length;P++){ac[P]=E.b[P].TH();
E.b[P].Wz(!1)}var kl=E.g.slice(0);E.g=gG;var dt=E.$t();dt.sort(function(_,bY){return _-bY});var hZ=[];
for(var P=0;P<E.b.length;P++){if(dt.indexOf(P)==-1)hZ.push(E.b[P])}hi.sort(function(_,bY){return _[3]-bY[3]});
function eI(bj,i7){var P=0,dH=0;while(dH+bj[P]<=i7){dH+=bj[P];P++}return P}cN=0;hZ.splice(dt[0],0,E.Rf());
for(var eO=0;eO<gP.length;eO++){var N=[];for(var P=0;P<hi.length;P++){var fC=eI(hi[P][1],cN)%hi[P][0].length,H=hi[P][0][fC];
N.push(H)}var H=E.XY();for(var P=0;P<hi.length;P++){var g_=N[P],iq=E.b[gG[P]];g_.Wz(!0);iq.Wz(!0)}E.M();
E.vL();var dr=E.sQ();H.rect=Q.eE(dr,fQ,2);H.buffer=Q.$(H.rect.A()*4);Q.D6(dr,fQ,H.buffer,H.rect);for(var P=0;
P<hi.length;P++){var g_=N[P],iq=E.b[gG[P]];g_.Wz(!1);iq.Wz(!1)}H.Wz(eO==0);H.G_("_a_frm"+eO+","+gP[eO]);
hZ.splice(dt[0]+1+eO,0,H);cN+=gP[eO]}var H=E.XY();H.G_(f0.join(" + "));H.$B="pass";H.add.lsct=gs.S2;
H.Bo=24;hZ.splice(dt[0]+1+gP.length,0,H);for(var P=0;P<E.b.length;P++)E.b[P].Wz(ac[P]);var _=new fL([6,12,0],this);
_.data={d:K.VK,lq:E.b,gz:hZ,hU:kl,f7:[dt[0]+1+gP.length]};E.f6(_);this.$D(_.data,E)}if(i==K.dN||i==K.Tw){var kp=E.g.length==1,kq=!0,aM=null,bd;
if(kp&&E.g[0]==0)return;var bq=E.b.slice(0),cG=E.g.slice(0);if(kp)E.g=[h,h-1];if(i==K.Tw){E.g=[];for(var P=0;
P<E.b.length;P++)if(E.b[P].TH())E.g.push(P)}var gr=E.$t();gr.sort(function(_,bY){return _-bY});var ex=new dC,fQ=new dC(0,0,E.q,E.w);
for(var P=0;P<gr.length;P++){var S=gr[P],H=E.b[S];if(H.vD()||H.getName()=="</Layer group>")continue;
kq=kq&&H.us()&&H.add.vmsk!=null;ex=ex.jB(E.root.qx(S).eB(E,!0))}if(kq){var ax=null;for(var P=0;P<gr.length;
P++){var n=E.b[gr[P]];if(n.rect.A()==0)continue;if(aM==null){aM=n.clone();ax=aM.add.vmsk}else{var n=E.b[gr[P]],dc=K.DN.ER(n.add.vmsk.j);
ax.j=ax.j.concat(dc.slice(2));aM.add.vogk=aM.add.vogk.concat(JSON.parse(JSON.stringify(n.add.vogk)))}}aM.add.vmsk.$o=!0;
aM.kH(E)}else if(fQ.RP(ex)){aM=E.XY();aM.G_(E.b[gr[gr.length-1]].getName());aM.rect=ex;aM.buffer=Q.$(ex.A()*4);
var eM=E.add.artd;delete E.add.artd;var gh=E.sQ(gr);if(eM)E.add.artd=eM;Q.D6(gh,fQ,aM.buffer,ex);aM.G1();
aM.M()}else{E.alH(gr,!0);aM=E.b[E.g[0]];E.b.splice(E.g[0],1);var ht=E.Df(aM.add.SoLd.Idnt.v);E.add.lnk2.splice(E.add.lnk2.indexOf(ht),1);
delete aM.add.SoLd}var fo=x,av=-1;if(w.Zc&&w.Zc.Dplc&&w.Zc.Dplc.v)fo=!0;if(fo&&i==K.Tw&&E.b[cG[0]].N$()&&E.b[cG[0]].rect.qo()){av=cG[0]}if(av!=-1||kp){var aV=E.b[av!=-1?av:h-1];
aM.G_(aV.getName());aM.add.lclr=aV.add.lclr}var hZ=[];for(var P=0;P<E.b.length;P++)if(fo||gr.indexOf(P)==-1)if(P!=av)hZ.push(E.b[P]);
var fp=gr[gr.length-1],hd=fp==E.b.length-1?null:E.b[fp+1],dO=hd?hZ.indexOf(hd):hZ.length;hZ.splice(dO,0,aM);
bd=[dO];var _=new fL([6,12,0],this);_.data={d:K.VK,lq:bq,gz:hZ,hU:cG,f7:bd};E.f6(_);this.$D(_.data,E)}if(i==K.adg){var ei=E.XY();
ei.rect=new dC(0,0,E.q,E.w);ei.buffer=Q.$(ei.rect.A()*4);Q.Ez(ei.buffer,4294967295);Q.e.gF("norm",E.sQ(),ei.rect,ei.buffer,ei.rect,ei.rect,1);
ei.G_("Background");ei.add.lspf=1<<2;var _=new fL([6,12,1],this);_.data={d:K.VK,lq:E.b.slice(),gz:[ei],hU:E.g.slice(0),f7:[0]};
E.f6(_);this.$D(_.data,E)}var ey=i==K.If||i==K.eL;if(i==K.FD||i==K.Gu||i==K.Qg||i==K.WF||ey){var H=ey?E.I3()[0]:E.XY(),cO=df.get([0,3]),eC=w.aD,iV=!1,aK,kt;
if(i==K.Qg)cO=df.get([12,76,1]);if(ey){if(E.n){var kd=E.b[E.g[0]],gj=kd.yb(E,E.n);if(gj==null){alert("Copied area is empty");
return}H.rect=gj.rect;H.buffer=gj.T1;H.Ev(E);H.Wz(!0)}else eC=H.getName();H.add.lspf=0;H.ws=!1;if((H.Bo&1)!=0)H.Bo--}if(i==K.WF){H.rect=q.AD.ac_(w.W7,E);
H.buffer=w.W7.buffer.slice(0);if(w.Ts&&E.n){H.D=new K._x;H.D.rect=E.n.rect;H.D.color=0;H.D.channel=E.n.channel.slice(0)}}if(i==K.FD){this.track({$g:"make",Zc:{classID:"Mk",null:gE.cZ("Lyr")}})}if(i==K.Gu){H.Bo|=16;
var cq=w.Zc.Usng.v,bB=cq.Type.v,bw=cz.ra[bB.classID];cO=df.get(cz.names[bw]);if(cq.Nm)eC=cq.Nm.v;H.add[bw]=gD.SX(bw);
if(H.add[bw]==null)H.add[bw]={};for(var cd in bB)H.add[bw][cd]=JSON.parse(JSON.stringify(bB[cd]));H.D=q.AD.an_(E);
H.yA=1}if(i==K.Qg){H.Bo|=16;var gl=w.Zc,cq=gl.Usng.v,bV=cq.Type.v,eN=cq.Shp;if(cq.Nm)eC=cq.Nm.v;if(eN==null){var aD=E.cm(),hW=aD[0],bP=aD[1];
if(bP.length!=0&&hW[bP[0]].qI<0){var aG=hW[bP[0]].add;H.add.vmsk=aG.vmsk.clone();H.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default));
H.add.vogk=JSON.parse(JSON.stringify(aG.vogk));E.c0=[]}else H.D=q.AD.an_(E)}else{console.log(cq);H.add.vmsk=new K.DN;
H.add.vstk=JSON.parse(JSON.stringify(cq.strokeStyle?cq.strokeStyle.v:hL.Oq.default));H.add.vogk=[];if(eN){var dS=Q.GJ.Py(eN);
if(dS){H.add.vogk=[dS];H.add.vmsk.j.push({type:0,KP:1,length:0});Q.GJ.WQ(H.add.vogk,H.add.vmsk)}else{eN=eN.v;
var c6=eN.classID;if(c6=="Plgn"){var hx=eN.Cntr.v,iT=eN.corner.v;hx=new a5(hx.Hrzn.v.val,hx.Vrtc.v.val);
iT=new a5(iT.Hrzn.v.val,iT.Vrtc.v.val);H.add.vmsk.j=Q.O.cw.wT(hx.x,hx.y,Math.sqrt(iT.x*iT.x+iT.y*iT.y),Math.atan2(iT.y,iT.x),eN.sides.v,0)}else if(c6=="customShape"){var f7=Q.GJ._e(eN),dE=f7[2]-f7[0],iE=f7[3]-f7[1],en=o.V9,bJ,bv;
for(var P=0;P<en.length;P++)if(en[P].MQ==eN.Nm.v)bJ=en[P];if(bJ){bv=K.DN.ER(bJ.j);Q.O.yJ(bv,new am(dE,0,0,iE,f7[0],f7[1]))}else bv=Q.O.cw.Rect(f7[0],f7[1],dE,iE,0);
H.add.vmsk.j=bv}H.QQ()}}}var j_={solidColorLayer:0,gradientLayer:1,patternLayer:2}[bV.classID],du=["SoCo","GdFl","PtFl"][j_];
H.add[du]=JSON.parse(JSON.stringify(hL.Bx[j_]));q.AD.LV(bV,H.add[du],j_);if(eN==null)cO=df.get([6,48,0,j_]);
if(du=="PtFl"){var je=H.add[du].Ptrn.v,eW=aQ.O9(je,o.IK);if(eW==null)eW=aQ.O9(je,E.add.Patt);je.Idnt.v=eW.id;
E.kj(eW)}H.kH(E)}var iQ=q.AD.SJ(E,cO+" ");H.G_(cO+" "+(iQ+1));if(eC)H.G_(eC);var hY=E.g.length==0?E.b.length-1:E.g[E.g.length-1],jk=E.b[hY];
if(i==K.Qg&&jk.N$()&&jk.rect.qo()){iV=!0;H.G_(jk.getName());aK=hY}else{aK=hY+(i==K.FD&&v&&!j?0:1);if(jk&&jk.add.lsct==gs.Y_)aK--}if(w.an8)aK=Math.max(0,aK-1);
var hZ=E.b.slice(0);if(i==K.eL){var gM=hZ[E.g[0]]=hZ[E.g[0]].clone(),eE=E.n.channel.slice(0);Q.ja(eE);
Q.HQ(eE,E.n.rect,gM.buffer,gM.rect)}hZ.splice(aK,iV?1:0,H);var jJ=[5,2];if(i==K.FD)jJ=[6,13];if(i==K.Gu)jJ=[6,1];
if(i==K.Qg){jJ=[6,48,1];var eN=w.Zc.Usng.v.Shp;if(eN){var h3={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[eN.v.classID];
if(h3)jJ=h3}}if(ey){jJ=[6,49,i==K.If?0:1]}if(ey||i==K.Qg||i==K.WF||i==K.Gu)if(E.n)kt=[E.n,null];var _=new fL(jJ,this);
_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:[aK],$0:kt};E.f6(_);this.$D(_.data,E);if(i==K.Qg&&eN==null&&j_!=0||i==K.Gu){var J=new e9(W.E.Z);
J.data={d:W.t.mB,ei:eB.MP.Vt};I.c(J)}}if(i==K.yu){var H=E.XY(),cO=df.get([0,4]),iQ=q.AD.SJ(E,cO+" ");
H.G_(cO+" "+(iQ+1));H.$B="pass";H.add.lsct=gs.Y_;H.Bo=24;if(w.aD)H.G_(w.aD);if(w.c6!=null)H.add.lclr=w.c6;
var g5=E.Rf(),hY=h,aK=hY+(v?0:1),hZ=E.b.slice(0);hZ.splice(aK,0,g5,H);var _=new fL([6,20],this);_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:[aK+1]};
E.f6(_);this.$D(_.data,E)}if(i==K.Ic||i==K.ta){var eH=i==K.Ic?w.source:E.g[0],gq,bo,d5=E.g.indexOf(eH)!=-1,dT=x|w.afc,g1,ct=null;
if(d5)g1=E.$t();else g1=E.Ye(eH);g1.sort(function(_,bY){return _-bY});if(i==K.Ic){gq=w.target;bo=w.IE>.5}else if(w.target!=null){gq=Math.min(w.target,E.b.length-1);
bo=w.target<E.b.length;E._G=!0}else{var iB=w.ns;bo=iB>1;if(iB==0){gq=E.b.length-1}if(iB==1){gq=g1[g1.length-1]+1;
var n=E.Ye(gq);if(n.indexOf(eH)==-1)gq+=n.length-1}if(iB==2){gq=g1[0]-1;var n=E.Ye(gq);if(n.indexOf(eH)==-1)gq-=n.length-1}if(iB==3){gq=0;
if(E.b[0].add.lnsr=="bgnd")gq++}if(gq<0||gq>E.b.length-1)return;E._G=!0}if(g1.indexOf(gq)!=-1&&!dT)return;
var dq=q.AD.fL(E,g1,gq,bo,dT?E.I3(d5?null:eH):null,i==K.Ic&&w.IE>.8),hR=dq.pop(),ar=dq.pop(),hZ=dq.pop(),ce=E.g;
E.g=[eH];var bf=E.Ze();E.g=[gq];var jF=E.Ze();if(jF==gq&&!bo)jF=-1;E.g=ce;if(eH==bf){}else if(bf!=jF){var ct=new a5(0,0);
if(bf!=-1){var cE=E.b[bf].Z9();ct.x-=cE.x;ct.y-=cE.y}if(jF!=-1){var cE=E.b[jF].Z9();ct.x+=cE.x;ct.y+=cE.y}}var _=new fL(dT?[6,0]:[6,35],this);
_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:ar,Gl:ct};E.f6(_);this.$D(_.data,E);var gl={classID:"move",null:gE.cZ("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:hR+(bo?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:dT}};
this.track({$g:"move",Zc:gl})}if(i==K.jK){if(w.PT){if(k==null||!k.vD())return;var $=E.root.qx(h),gI=E.b.indexOf($.apU),hZ=E.b.slice(0);
hZ.splice(h,1);hZ.splice(gI,1);var ar=[];for(var P=gI;P<h-1;P++)ar.push(P);var _=new fL("Ungroup Layers",this);
_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:ar};E.f6(_);this.$D(_.data,E)}else{var H=E.XY(),jE=df.get([0,4])+" ";
H.G_(jE+(q.AD.SJ(E,jE)+1));H.$B="pass";if(w.aD)H.G_(w.aD);if(w.c6!=null)H.add.lclr=w.c6;H.add.lsct=E.g.length==1?gs.Y_:gs.S2;
H.Bo=24;var g5=E.Rf(),g1=E.$t();if(g1.length==0)return;g1.sort(function(_,bY){return _-bY});var hZ=[];
for(var P=0;P<E.b.length;P++)if(g1.indexOf(P)==-1)hZ.push(E.b[P]);var hY=E.g[E.g.length-1]-g1.length;
hZ.splice(hY+1,0,g5);for(var P=0;P<g1.length;P++)hZ.splice(hY+2+P,0,E.b[g1[P]]);hZ.splice(hY+2+g1.length,0,H);
var _=new fL([6,9],this);_.data={d:K.VK,lq:E.b.slice(0),gz:hZ,hU:E.g.slice(0),f7:[hZ.indexOf(H)]};E.f6(_);
this.$D(_.data,E);var D={$g:"make",v$:!0};D.Zc={classID:"Mk",null:gE.cZ("layerSection"),From:gE.cZ("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:H.getName()}}}};
this.track(D)}}if(i==K.avv){if(E.g.length!=1)return;var t=E.g[0],jd=x;if(E.b[t].pi()==null&&!X.Y(aW.iu)){i=K.qh;
w.Yr=E.n?!jd?"RvlS":"HdSl":!jd?"RvlA":"HdAl"}else{i=K.PK;w.ahg=!0}}if(i==K.qh){if(E.g.length!=1)return;
var t=E.g[0],H=E.b[t];if(H.add.vmsk&&H.D==null)H.kH(E);var aH=H.pi();if(aH==null||w.awG){var _=new fL([6,21],this),cp=new K._x,hk=w.Yr,ir=hk=="RvlS"||hk=="HdSl";
if(hk=="RvlS"||hk=="HdAl"||hk=="Trns")cp.color=0;if(ir){cp.channel=E.n.channel.slice(0);cp.rect=E.n.rect.clone();
if(hk=="HdSl")Q.ja(cp.channel)}if(hk=="Trns"){cp.rect=H.rect.clone();cp.channel=Q.$(H.rect.A());Q.qe(H.buffer,cp.channel,3)}_.data={d:K.Xi,HA:[t,aH,cp],$0:ir?[E.n,null]:null};
E.f6(_);this.$D(_.data,E);E.b[t].yA=1;this.track({$g:"make",Zc:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:hk}}}})}}else if(i==K.ak7){var hw=E.b[w.src],hC=E.b[w.aw],_=new fL([6,21],this),e_=hw.pi(),cP=hC.pi(),cr=[w.src,e_,null,w.aw,cP,e_];
if(x||j){var a7=e_.clone();if(x)cr=[w.aw,cP,a7];else cr[5]=a7;if(j){Q.ja(a7.channel);a7.color=255-a7.color}}_.data={d:K.Xi,HA:cr};
E.f6(_);this.$D(_.data,E)}if(i==K.iX){if(E.g.length!=1)return;var t=h,gU=E.b[t].pi();if(gU!=null){var _=new fL([6,22],this);
_.data={d:K.Xi,HA:[h,gU,null]};E.f6(_);this.$D(_.data,E)}}if(i==K.YQ){var bq=E.b.slice(0),ei=k.clone(),y=ei.pi();
Q.HQ(y.SQ(ei.rect),ei.rect,ei.buffer,ei.rect);q.AD.iE(E,ei);ei.G1();E.b[E.g[0]]=ei;var _=new fL([5,8],this);
_.data={d:K.VK,lq:bq,gz:E.b.slice(),hU:E.g.slice(0),f7:E.g.slice(0)};E.f6(_);this.$D(_.data,E)}if(i==K.s5){if(E.g.length!=1)return;
var t=E.g[0];if(E.b[t].Em(E).D==null){var _=new fL([6,45],this);_.data={d:i,l:t,D:new K._x};E.f6(_);
this.$D(_.data,E)}}if(i==K.i6){if(E.g.length!=1)return;var t=E.g[0];if(E.b[t].Em(E).D!=null){var _=new fL([6,46],this);
_.data={d:i,l:t,D:E.b[t].Em(E).D};E.f6(_);this.$D(_.data,E)}}if(i==K.j6){if(w.src==null&&E.g.length!=1)return;
if(w.src!=null)h=w.src;if(E.b[h].r3()){var _=new fL([6,47],this),dI=JSON.stringify(E.b[h].add.SoLd),h2=JSON.parse(dI);
delete h2.filterFX;_.data={d:K.zb,ax:[{Lq:h,ca:[dI,JSON.stringify(h2)],yt:[E.b[h].Em(E),null]}]};E.f6(_);
this.$D(_.data,E)}}if(i==K.PK){if(E.g.length!=1)return;if(k.add.vmsk==null){var _=new fL([6,23],this),jr=E.cm(),V=jr[1],jr=jr[0],cp,dS;
if(w.ahg&&V.length!=0){var aG=jr[V[0]].add;cp=aG.vmsk.clone();dS=aG.vogk}else{cp=new K.DN;dS=[];cp.j[1].all=w.a8u?0:1}_.data={d:i,l:h,cH:!0,D:cp,GJ:JSON.stringify(dS),Oq:null};
if(k.us()){_.data.Oq=JSON.stringify(hL.Oq.default)}E.f6(_);this.$D(_.data,E)}}if(i==K._J){var hw=E.b[w.src],hC=E.b[w.aw];
if(hC.add.vmsk)return;var _=new fL([6,23],this),ax=hw.add.vmsk;_.data={l:w.aw,cH:hw.Fq,D:ax.clone(),GJ:JSON.stringify(hw.add.vogk),Oq:hw.add.vstk?JSON.stringify(hw.add.vstk):null};
if(x){_.data.d=K.PK}else{_.data.d=i;_.data.src=w.src;_.data.aw=w.aw}E.f6(_);this.$D(_.data,E)}if(i==K.wP||i==K.h7){if(E.g.length!=1)return;
var H=E.b[h],ax=H.add.vmsk;if(ax!=null){var fm=i==K.h7,_=new fL(fm?[6,8]:[6,24],this);_.data={d:K.wP,l:h,cH:H.Fq,D:ax,GJ:JSON.stringify(H.add.vogk),Oq:H.add.vstk?JSON.stringify(H.add.vstk):null};
if(fm){_.data.Zk=ax.pi(H.add.vstk)}E.f6(_);this.$D(_.data,E)}}if(i==K.Qk){var _=new fL("Metadata",this);
_.data={d:i,_q:JSON.stringify(E.cl),pf:JSON.stringify(w.pf)};E.f6(_);this.$D(_.data,E)}if(i==K.le){var aP=w.aw?w.aw:E,gm=aP.name,eC=w.k+".psd";
if(gm==eC)return;var _=new fL([6,37],this);_.data={d:i,asz:gm,aD:eC};if(w.afD!=!0)aP.f6(_);this.$D(_.data,aP)}if(i==K._V&&w.ns.endsWith("makeframes")){var jT=[],kr=w.ns.startsWith("make");
for(var P=0;P<E.g.length;P++){var S=E.g[P],H=E.b[S],cs=H.getName(),hN=cs.startsWith("_a_");if(kr==hN||H.add.lsct==gs.sz)continue;
var dB=kr?"_a_"+cs:cs.slice(3);jT.push([S,cs,dB,H.add.lnsr,null])}var _=new fL([6,37],this);_.data={d:K.Ku,GT:jT};
E.f6(_);this.$D(_.data,E)}if(i==K.Ku){var gm=k.getName(),eC=w.name.substring(0,255);if(gm==eC)return;
var _=new fL([6,37],this);_.data={d:i,GT:[[h,gm,eC,k.add.lnsr,null]]};E.f6(_);this.$D(_.data,E);this.track(gE.bD("Nm",{t:"TEXT",v:eC}))}if(i==K.Eu){var js=E.$t(),cJ=[],dx=[];
for(var P=0;P<js.length;P++){cJ.push(E.b[js[P]].add.lclr);dx.push(w.aby)}var _=new fL([6,38],this);_.data={d:i,b:js,a10:cJ,c6:dx};
E.f6(_);this.$D(_.data,E)}if(i==K.n4){var _=E.history[E.lZ];if(_!=null&&_.G==this&&_.data.d==i&&_.data.l==w.Fu&&_.data.pW.tB==w.hp.tB)_.data.pW=w.hp;
else{_=new fL("Mask Density / Feather",this);_.data={d:i,l:w.Fu,di:E.b[w.Fu].xG(w.hp.tB),pW:w.hp};E.f6(_)}this.$D(_.data,E)}if(i==K.SI){var ea=JSON.stringify(w.k),f2=JSON.parse(ea),_=E.history[E.lZ];
if(_!=null&&_.G==this&&_.data.d==i&&_.data.tw==w.tw&&_.data.ZF.join(",")==w.ZF.join(",")){for(var P=0;
P<w.ZF.length;P++)_.data.E7[P]=f2;if(_.data.Zc&&f2.BM!=0)q.AD.LV(f2.Pz,_.data.Zc.T.v,f2.BM-1)}else{_=new fL([11,6],this);
_.data={d:i,ZF:w.ZF,tw:w.tw,ajN:[],E7:[]};var hU=!1;for(var P=0;P<w.ZF.length;P++){var S=w.ZF[P],H=E.b[S],i2=w.tw?q.zs.Vf(E,S):JSON.parse(JSON.stringify(H.add.vstk));
_.data.ajN.push(i2);_.data.E7.push(f2);if(JSON.stringify(i2)!=ea)hU=!0}if(!hU)return;E.f6(_);if(w.tw&&f2.BM>0){var gl=_.data.Zc={classID:"setd",null:gE.cZ("contentLayer",!0),T:{t:"Objc",v:{}}},du=["SoCo","GdFl","PtFl"][f2.BM-1];
q.AD.LV(f2.Pz,gl.T.v,f2.BM-1);this.track({$g:"set",Zc:gl})}}if(w.tw&&f2.BM==3)E.kj(aQ.O9(f2.Pz.Ptrn.v,o.IK));
if(!w.tw){var cM=f2.strokeStyleContent.v;if(cM.classID==hL.Oq.m9[2])E.kj(aQ.O9(cM.Ptrn.v,o.IK))}this.$D(_.data,E)}};
q.AD.fL=function(w,I,E,X,o,i){var h=w.b[E],k=[];if(o)k=w.b.slice(0);else for(var P=0;P<w.b.length;P++)if(I.indexOf(P)==-1)k.push(w.b[P]);
var x=k.indexOf(h);if(i&&h.vD()&&h.add.lsct==gs.S2)x-=w.Ye(E).length-1;var j=[];for(var P=0;P<I.length;
P++){var v=x+(X?0:1)+P,_=o?o[P]:w.b[I[P]];k.splice(v,0,_);j.push(v)}return[k,j,x]};q.AD.LV=function(w,I,E){var X=[hL.y8,hL.qT,hL.BK][E];
if(I.classID==null)I.classID=["solidColorLayer","gradientLayer","patternLayer"][E];for(var P=0;P<X.length;
P++)if(w[X[P]])I[X[P]]=JSON.parse(JSON.stringify(w[X[P]]))};q.AD.an_=function(w){var I=new K._x;if(w.n!=null){I.color=0;
I.channel=w.n.channel.slice(0);I.rect=w.n.rect.clone()}return I};q.AD.u1=function(w,I,E,X,o){var i=X.q/E.q,h=X.w/E.w,k=X.q/2,x=X.w/2,j=Q.p.sy(X).C;
for(var P=0;P<w.b.length;P++){var v=w.b[P],_=v.add.SoLd;if(_==null||_.Idnt.v!=I)continue;if(i!=1||h!=1){var L=q.R.kp(_.nonAffineTransform),U=Q.K.TZ(L,X),n=new am;
n.translate(-k,-x);n.scale(i,h);n.translate(k,x);var a=Q.K.og(U,Q.K.Rv(n)),T=j.slice(0);Q.K.F(a,T);_.Trnf=q.R.bd(T);
_.nonAffineTransform=q.R.bd(T);if(Q.AG.JJ(_.warp.v)){var g=_.warp.v.bounds.v;g.Rght.v.val=X.q;g.Btom.v.val=X.w}}v.vR(w,null,o)}w.M()};
q.AD.awW=function(w,I,E){I.color=255-I.color;Q.ja(I.channel);I.$o=!0;w.kH(E);E.M()};q.AD.prototype.xg=function(w,I){var E=w.d,X=I.b[w.l];
I.cW=!0;if(E==K.ZM){I.add.lnk2.splice(I.add.lnk2.indexOf(w.Ct),1,w.PN);q.AD.u1(I,w.id,w.Ct.lG[1],w.PN.lG[1])}if(E==K.l7){X.add.SoLd.Impr.v.classID=w.di;
X.vR(I)}if(E==K.L$){var o=JSON.parse(w.ZF);for(var P=0;P<o.length;P++)I.b[o[P]].$B=w.nD[P];I.M()}if(E==K.In){var o=JSON.parse(w.ZF);
for(var P=0;P<o.length;P++)I.b[o[P]].opacity=w.nD[P];I.M()}if(E==K.bU){var o=JSON.parse(w.ZF);for(var P=0;
P<o.length;P++)if(I.b[o[P]].add.lsct!=gs.sz)I.b[o[P]].add.lspf=w.nD[P]}if(E==K.d5){var i=w.nC,h=w.ao0;
delete X.add[i[0]];if(h[0]!="----")X.add[h[0]]=h[1]}if(E==K.cO){X.add.iOpa=w.nD;I.M()}if(E==K.v8){for(var P=0;
P<w.ZF.length;P++){var k=I.b[w.ZF[P]];k.Wz(!k.TH())}I.M()}if(E==K.$X){var x=X.pi();x.isEnabled=!x.isEnabled;
X.kH(I);I.M()}if(E==K.A$){var x=X.Em(I).D;x.isEnabled=!x.isEnabled;X.M();I.M()}if(E==K.j0){var x=X.add.vmsk;
x.isEnabled=!x.isEnabled;if(!x.isEnabled){if(X.Zk){X.D=X.Zk;X.Zk=null}else X.D=null}else if(X.D){X.Zk=X.D;
X.D=null}X.kH(I);I.M()}if(E==K.pk){X.ws=!X.ws;I.M()}if(E==K.gU){X.add.lmfx.masterFXSwitch.v=!X.add.lmfx.masterFXSwitch.v;
X.Nu.MH=!0;I.M()}if(E==K.MU){X.add.SoLd.filterFX.v.enab.v=!X.add.SoLd.filterFX.v.enab.v;X.k9(I);I.M()}if(E==K.$R){var j=w.index,v=X.add.lmfx[hL.JR[j[0]]].v[j[1]].v;
v.enab.v=!v.enab.v;X.Nu.MH=!0;I.M()}if(E==K.g6){var _=I.b[w.Kk],L=I.b[w.Pn],U=w.aji,n=w.axj;if(U=="")delete _.add.lmfx;
else _.add.lmfx=JSON.parse(U);if(n=="")delete L.add.lmfx;else L.add.lmfx=JSON.parse(n);_.Nu.MH=!0;L.Nu.MH=!0;
I.M()}if(E==K.jl){var a=X.add.SoLd.filterFX.v.filterFXList.v[w.index].v;a.enab.v=!a.enab.v;X.k9(I);I.M()}if(E==K.aos){X.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(w.a8U));
X.k9(I);I.M()}if(E==K.nP){var x=X.pi();x.Rh=!x.Rh}if(E==K.Vg){var x=X.add.vmsk;x.Rh=!x.Rh}if(E==K.Gb){var T=JSON.parse(w.ac9);
I.Ot=T[0];I.p2=T[1]}if(E==K.u7){var T=w.Ed;for(var P=0;P<T.length;P+=2){var g=T[P],k=g>=0?I.b[g]:I.c1[-1-g];
k.add.vogk=JSON.parse(T[P+1]);Q.GJ.WQ(k.add.vogk,k.add.vmsk);if(g>=0)k.kH(I)}I.M()}if(E==K.zw){X.add.artb=JSON.parse(w.akU);
I.M();q.EV.VJ(I,w)}if(E==K.wR){I.n=w.KC;I.K3=w.Ed.slice(0);I.Y1=w.VR.slice(0);I.WV=I.oP=!0}if(E==K.jH){X.iI=!X.iI}if(E==K.zY){var D=w.aun;
for(var P=0;P<D.length;P++)I.b[P].hm=D[P]}if(E==K.VK){if(w.Gl)q.Q8.np(I,I.g,null,-w.Gl.x,-w.Gl.y);if(w.hU)I.g=w.hU;
if(w.$0)I.n=w.$0[0];I.ko=null;I.M();I.DO(w.lq);q.EV.VJ(I,w);if(w.Y7)I.yL(w.Y7[0])}if(E==K.Xi){for(var P=0;
P<w.HA.length;P+=3)q.AD.iE(I,I.b[w.HA[P]],w.HA[P+1]);if(w.$0){var b=w.$0[0];if(b==null)delete I.n;else I.n=b}}if(E==K.s5){X.Em(I).D=null;
X.M();I.M()}if(E==K.i6){X.Em(I).D=w.D;X.M();I.M()}if(E==K.zb){q.AD.a2I(I,w.ax,0)}if(E==K.PK){q.AD.o0(I,X,!0)}if(E==K._J){q.AD.o0(I,I.b[w.aw],w.D.isEnabled);
q.AD.$l(I,I.b[w.src],w)}if(E==K.wP){if(w.Zk)q.AD.iE(I,X,null);q.AD.$l(I,X,w)}if(E==K.Qk){I.cl=JSON.parse(w._q)}if(E==K.le){I.name=w.asz}if(E==K.Ku){for(var P=0;
P<w.GT.length;P++){var N=w.GT[P],k=I.b[N[0]];k.G_(N[1]);if(N[3])k.add.lnsr=N[3];else delete k.add.lnsr}}if(E==K.Eu){for(var P=0;
P<w.b.length;P++)I.b[w.b[P]].add.lclr=w.a10[P]}if(E==K.SI){var C=w.ajN;for(var P=0;P<w.ZF.length;P++){var k=I.b[w.ZF[P]],Z=C[P];
if(!w.tw)k.add.vstk=JSON.parse(JSON.stringify(Z));else q.zs._c(k,JSON.parse(JSON.stringify(Z)));k.Jr(I)}I.M()}if(E==K.n4){X.a1x(w.di);
X.kH(I);I.M()}I.oP=!0};q.AD.prototype.$D=function(w,I){var E=w.d,X=I.b[w.l];I.cW=!0;if(E==K.ZM){I.add.lnk2.splice(I.add.lnk2.indexOf(w.PN),1,w.Ct);
q.AD.u1(I,w.id,w.PN.lG[1],w.Ct.lG[1])}if(E==K.l7){X.add.SoLd.Impr.v.classID=w.pW;X.vR(I)}if(E==K.L$){var o=JSON.parse(w.ZF);
for(var P=0;P<o.length;P++)I.b[o[P]].$B=w.pW;I.M()}if(E==K.In){var o=JSON.parse(w.ZF);for(var P=0;P<o.length;
P++)I.b[o[P]].opacity=w.pW;I.M()}if(E==K.bU){var o=JSON.parse(w.ZF);for(var P=0;P<o.length;P++)if(I.b[o[P]].add.lsct!=gs.sz)I.b[o[P]].add.lspf=w.pW[P]}if(E==K.d5){var i=w.ao0,h=w.nC;
delete X.add[i[0]];if(h[0]!="----")X.add[h[0]]=h[1]}if(E==K.cO){X.add.iOpa=w.pW;I.M()}if(E==K.v8){for(var P=0;
P<w.ZF.length;P++){var k=I.b[w.ZF[P]];k.Wz(!k.TH())}I.M()}if(E==K.$X){var x=X.pi();x.isEnabled=!x.isEnabled;
X.kH(I);I.M()}if(E==K.A$){var x=X.Em(I).D;x.isEnabled=!x.isEnabled;X.M();I.M()}if(E==K.j0){var x=X.add.vmsk;
x.isEnabled=!x.isEnabled;if(!x.isEnabled){if(X.Zk){X.D=X.Zk;X.Zk=null}else X.D=null}else if(X.D){X.Zk=X.D;
X.D=null}X.kH(I);I.M()}if(E==K.pk){X.ws=!X.ws;I.M()}if(E==K.gU){X.add.lmfx.masterFXSwitch.v=!X.add.lmfx.masterFXSwitch.v;
X.Nu.MH=!0;I.M()}if(E==K.MU){X.add.SoLd.filterFX.v.enab.v=!X.add.SoLd.filterFX.v.enab.v;X.k9(I);I.M()}if(E==K.$R){var j=w.index,v=X.add.lmfx[hL.JR[j[0]]].v[j[1]].v;
v.enab.v=!v.enab.v;X.Nu.MH=!0;I.M()}if(E==K.g6){var _=I.b[w.Kk],L=I.b[w.Pn],U=w.apd,n=w.ajB;if(U=="")delete _.add.lmfx;
else _.add.lmfx=JSON.parse(U);if(n=="")delete L.add.lmfx;else L.add.lmfx=JSON.parse(n);_.Nu.MH=!0;L.Nu.MH=!0;
I.M()}if(E==K.jl){var a=X.add.SoLd.filterFX.v.filterFXList.v[w.index].v;a.enab.v=!a.enab.v;X.k9(I);I.M()}if(E==K.aos){X.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(w.acA));
X.k9(I);I.M()}if(E==K.nP){var x=X.pi();x.Rh=!x.Rh}if(E==K.Vg){var x=X.add.vmsk;x.Rh=!x.Rh}if(E==K.Gb){var T=JSON.parse(w.a1p);
I.Ot=T[0];I.p2=T[1]}if(E==K.u7){var T=w.nl;for(var P=0;P<T.length;P+=2){var g=T[P],k=g>=0?I.b[g]:I.c1[-1-g];
k.add.vogk=JSON.parse(T[P+1]);Q.GJ.WQ(k.add.vogk,k.add.vmsk);if(g>=0)k.kH(I)}I.M()}if(E==K.zw){X.add.artb=JSON.parse(w.$k);
I.M();q.EV.yl(I,w)}if(E==K.wR){I.n=w.bo;I.K3=w.nl.slice(0);I.Y1=w.py.slice(0);I.WV=I.oP=!0}if(E==K.jH){X.iI=!X.iI}if(E==K.zY){var D=w.am8;
for(var P=0;P<D.length;P++)I.b[P].hm=D[P]}if(E==K.VK){var b=w.gz,N=0,C;for(var P=0;P<b.length;P++){var k=b[P],Z=k.add.lsct;
if(Z==gs.sz)N++;else if(Z==gs.Y_||Z==gs.S2)N--;if(k.add.artb&&N!=0)C="Artboards can not be inside folders."}if(C){I.history.pop();
I.lZ--;alert(C);return}q.EV.yl(I,w);if(w.f7)I.g=w.f7;if(w.$0)I.n=w.$0[1];I.ko=null;I.M();I.DO(w.gz);
if(w.Gl)q.Q8.np(I,I.g,null,w.Gl.x,w.Gl.y);if(w.Y7)I.yL(w.Y7[1])}if(E==K.Xi){for(var P=0;P<w.HA.length;
P+=3)q.AD.iE(I,I.b[w.HA[P]],w.HA[P+2]);if(w.$0){var S=w.$0[1];if(S==null)delete I.n;else I.n=S}}if(E==K.s5){X.Em(I).D=w.D;
X.yA=0;X.M();I.M()}if(E==K.i6){X.Em(I).D=null;X.yA=0;X.M();I.M()}if(E==K.zb){q.AD.a2I(I,w.ax,1)}if(E==K.PK){q.AD.$l(I,X,w)}if(E==K._J){q.AD.o0(I,I.b[w.src],w.D.isEnabled);
q.AD.$l(I,I.b[w.aw],w)}if(E==K.wP){q.AD.o0(I,X,w.D.isEnabled);if(w.Zk)q.AD.iE(I,X,w.Zk)}if(E==K.Qk){I.cl=JSON.parse(w.pf)}if(E==K.le){I.name=w.aD}if(E==K.Ku){for(var P=0;
P<w.GT.length;P++){var u=w.GT[P],k=I.b[u[0]];k.G_(u[2]);if(u[4])k.add.lnsr=u[4];else delete k.add.lnsr}}if(E==K.Eu){for(var P=0;
P<w.b.length;P++)I.b[w.b[P]].add.lclr=w.c6[P]}if(E==K.SI){var p=w.E7;for(var P=0;P<w.ZF.length;P++){var k=I.b[w.ZF[P]],f=p[P];
if(!w.tw)k.add.vstk=JSON.parse(JSON.stringify(f));else q.zs._c(k,JSON.parse(JSON.stringify(f)));k.Jr(I)}I.M()}if(E==K.n4){X.a1x(w.pW);
X.kH(I);I.M()}I.oP=!0};q.AD.SJ=function(w,I){var E=0;for(var P=0;P<w.b.length;P++){var X=w.b[P].getName();
if(X.startsWith(I)){var o=X.slice(I.length).trim(),i=parseInt(o);if(!isNaN(i)&&i+""==o&&i>E)E=i}}return E};
q.AD.a2I=function(w,I,E){for(var P=0;P<I.length;P++){var X=I[P],o=w.b[X.Lq];if(X.ca){o.add.SoLd=JSON.parse(X.ca[E])}if(X.yt){if(X.yt[1-E]!=null)w.oV(X.yt[1-E]);
if(X.yt[E]!=null)w.j2(X.yt[E]);else o.yA=0}o.vR(w)}};q.AD.ac_=function(w,I){var E=w.hl,X=w.rect.clone();
if(E!=null&&(E.x!=I.q||E.y!=I.w)){X.x=Math.floor((I.q-X.q)/2);X.y=Math.floor((I.w-X.w)/2)}else if(E==null){var o=new dC(0,0,I.q,I.w),i=I.Ze();
if(i!=-1)o=I.b[i].Z9();X.x+=o.x;X.y+=o.y}return X};q.AD.agA=function(w,I){if(I.Zk)I.Zk=null;else I.D=null;
I.kH(w);w.M();I.yA=0};q.AD.iE=function(w,I,E){var X=I.pi();if(X==null&&E==null)return;if(X)q.AD.agA(w,I);
if(E==null)return;if(I.D)I.Zk=E;else I.D=E;I.kH(w);w.M()};q.AD.o0=function(w,I,E){if(I.Zk&&E){I.D=I.Zk;
I.Zk=null}else if(I.D&&E){I.D=null}delete I.add.vogk;delete I.add.vstk;delete I.add.vmsk;I.kH(w);I.Fq=!1;
w.ko=[];w.M()};q.AD.$l=function(w,I,E){I.add.vogk=JSON.parse(E.GJ);if(E.Oq)I.add.vstk=JSON.parse(E.Oq);
else delete I.add.vstk;I.add.vmsk=E.D.clone();if(I.D&&I.add.vmsk.isEnabled)I.Zk=I.D;I.kH(w);I.Fq=E.cH;
w.ko=[w.b.indexOf(I)];w.c0=[];w.M()};q.GA=function(){q.an.call(this,"Layer Styles",q.QP);this.ep=null;
this.QW=null;this.Wm=null;this.zd=[];this.tp=null};q.GA.prototype=new q.an;q.GA.prototype.Q$=function(w,I,E,X,o){var i=w.l;
if(i==null)i=E.g[0];var h=E.b[i],k=w.qI;if(this.ep==null){this.Wm=q.GA.g0(E,h);this.ep=JSON.stringify(this.Wm);
if(h.add.lmfx)this.QW=JSON.stringify(h.add.lmfx)}if(h.add.lmfx==null){h.add.lmfx=JSON.parse(hL.default);
for(var P=0;P<hL.order.length;P++)h.add.lmfx[hL.JR[P]]={t:"VlLs",v:[]}}if(w.d=="scaleeffects"){if(w.k=="confirm"||w.k=="cancel"){this.Q$({d:w.k},I,E,X,o);
return}h.add.lmfx=JSON.parse(this.QW);aQ.v3(h.add.lmfx,w.k/100)}else if(w.d=="changeprop"){var x=null;
if(k!=0){var j=this.zd[k[0]];if(j==null)j=hL.zd[k[0]];j=JSON.parse(j);var v=h.add.lmfx[hL.JR[k[0]]].v;
if(v[k[1]]==null)v[k[1]]={t:"Objc",v:j};x=v[k[1]].v;for(var _ in j)if(x[_]==null)x[_]=j[_]}if(w.d=="changeprop"){if(k==0){this.Wm[w.Ik].v=w.k;
q.GA.bK(E,h,this.Wm)}else if(w.Ik=="lagl"){if(x.uglg&&x.uglg.v){E.Vh(w.k.val);this.Wm.gagl.v.val=E.T7()}else x[w.Ik].v=w.k}else if(w.Ik=="Lald"){if(x.uglg.v){E.rY(w.k.val);
this.Wm.aiP=E.vx()}else x[w.Ik].v=w.k}else if((k[0]==3||k[0]==8)&&(w.Ik=="Clr"||w.Ik=="Grad")){if(w.Ik=="Clr"){x.Clr={t:"Objc",v:w.k};
delete x.Grad}if(w.Ik=="Grad"){x.Grad={t:"Objc",v:w.k};delete x.Clr}}else{x[w.Ik].v=w.k}if(k!=0)this.zd[k[0]]=JSON.stringify(x)}if(k!=0)if(x.Ptrn)E.kj(aQ.O9(x.Ptrn.v,o.IK))}else if(w.d=="setstl"){var L=w.k.Lefx;
if(L)aQ.a1r(L,E,o.IK);aQ.afi(w.k,h,null,E);this.Wm=q.GA.g0(E,h)}else if(w.d=="st_dupsingle"){var U=h.add.lmfx[hL.JR[w.je[0]]].v;
if(U[w.je[1]]==null)return;var n=JSON.parse(JSON.stringify(U[w.je[1]]));U.splice(w.je[1],0,n)}else if(w.d=="st_movsingle"){var a=w.je[1],U=h.add.lmfx[hL.JR[w.je[0]]].v;
if(U[w.je[1]]==null)return;var T=Math.max(0,Math.min(U.length-1,a+w.awJ)),g=U[T];U[T]=U[a];U[a]=g}else if(w.d=="cancel"){if(this.QW==null)delete h.add.lmfx;
else h.add.lmfx=JSON.parse(this.QW);q.GA.bK(E,h,JSON.parse(this.ep));this.ep=null;this.QW=null}else if(w.d=="confirm"){var D=JSON.stringify(h.add.lmfx),b=new fL([11,6],this);
b.data={b:[i],yW:[this.QW],qi:[D],yN:[this.ep],nT:[JSON.stringify(this.Wm)]};E.f6(b);this.ep=null;this.QW=null;
if(D!=null){var N=JSON.parse(D);bN.C7(N);N.classID="Lefx";delete N.masterFXSwitch;var C=new e9(W.E.a3);
C.IY=!0;C.data={$g:"set",v$:!0};var Z=gE.cZ("Lyr",!0);Z.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
C.data.Zc={__name:"Set",classID:"setd",null:Z,T:{t:"Objc",v:N}};I.c(C)}}else if(w.d=="st_copy"){this.tp=[this.ep,this.QW];
this.ep=null;this.QW=null}else if(w.d=="st_paste"||w.d=="st_clear"){if(w.d=="st_paste"&&this.tp==null)return;
var S=w.l!=null?[w.l]:E.g.slice(0),u=[],p=[],f=[],d=[];for(var P=0;P<S.length;P++){var h=E.b[S[P]],l=q.GA.g0(E,h);
u.push(h.add.lmfx?JSON.stringify(h.add.lmfx):null);f.push(JSON.stringify(l));if(w.d=="st_paste"){p.push(this.tp[1]);
d.push(this.tp[0])}else{p.push(null);l.lrMd.v=0;l.Opct.v.val=100;l.iOpa.v.val=100;l.blIf={v:[]};for(var A=0;
A<10;A++)l.blIf.v.push(0,0,255,255);d.push(JSON.stringify(l))}}var b=new fL([11,6],this);b.data={b:S,yW:u,qi:p,yN:f,nT:d};
this.$D(b.data,E);E.f6(b);this.ep=null;this.QW=null}else{var B=this.Wm,N=null;if(w.d=="st_delsingle"){N=JSON.parse(this.QW);
N[hL.JR[w.je[0]]].v.splice(w.je[1],1);N=JSON.stringify(N)}if(N==null)delete h.add.lmfx;else h.add.lmfx=JSON.parse(N);
if(B!=null)q.GA.bK(E,h,B);var b=new fL([11,6],this);b.data={b:[w.l],yW:[this.QW],qi:[N],yN:[this.ep],nT:[JSON.stringify(B)]};
E.f6(b);this.ep=null;this.QW=null}h.Nu.MH=!0;E.cW=!0;E.M()};q.GA.g0=function(w,I){if(I.add.iOpa==null)I.add.iOpa=255;
if(I.add.brst==null)I.add.brst=[1,1,1];var E=I.vD()?["pass"].concat(hH.H1):hH.H1;return{lrMd:{v:E.indexOf(I.$B)},Opct:{v:{type:"#Prc",val:Math.round(I.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(I.add.iOpa*100/255)},t:"UntF"},blIf:{v:I.xs.slice(0)},brst:{v:I.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:w.T7()}},aiP:w.vx(),vD:I.vD()}};
q.GA.bK=function(w,I,E){var X=I.vD()?["pass"].concat(hH.H1):hH.H1;I.$B=X[E.lrMd.v];I.opacity=Math.round(E.Opct.v.val*255/100);
I.add.iOpa=Math.round(E.iOpa.v.val*255/100);I.xs=E.blIf.v.slice(0);I.add.brst=E.brst.v.slice(0);w.Vh(E.gagl.v.val);
w.rY(E.aiP)};q.GA.prototype.xg=function(w,I){for(var P=0;P<w.b.length;P++){var E=I.b[w.b[P]],X=w.yW[P];
if(X==null)delete E.add.lmfx;else E.add.lmfx=JSON.parse(X);q.GA.bK(I,E,JSON.parse(w.yN[P]));E.Nu.MH=!0}I.cW=!0;
I.M()};q.GA.prototype.$D=function(w,I){for(var P=0;P<w.b.length;P++){var E=I.b[w.b[P]],X=w.qi[P];if(X==null)delete E.add.lmfx;
else E.add.lmfx=JSON.parse(X);q.GA.bK(I,E,JSON.parse(w.nT[P]));E.Nu.MH=!0}I.cW=!0;I.M()};q.mP=function(){q.an.call(this,"Layer Comps",q.wD)};
q.mP.prototype=new q.an;q.mP.prototype.Q$=function(w,I,E,X){var o=JSON.parse(JSON.stringify(E.ww)),i=JSON.parse(JSON.stringify(E.ww)),h=null,k=null,x=null,j=-1,v=!1;
if(w.d=="delLC"){var _=q.mP.wu(E.ww,w.qI),L=E.ww.lastAppliedComp?E.ww.lastAppliedComp.v:0;i.list.v.splice(_,1);
if(L==w.qI)delete i.lastAppliedComp;h="Delete Layer Comp"}if(w.d=="editLC"){var _=q.mP.wu(E.ww,w.qI),U=i.list.v[_].v;
if(w.aD!=null)U.Nm.v=w.aD;if(w.a4G!=null){var n=w.a4G,a=U.capturedInfo.v,T=a&(1<<n)-1;a=a>>n;if((a&1)==1)a--;
else a++;U.capturedInfo.v=(a<<n)+T}h="Layer Comp properties"}if(w.d=="setLC"){q.mP.G9(E);if(w.qI==0)delete i.lastAppliedComp;
else i.lastAppliedComp={t:"long",v:w.qI};h="Switch Layer Comp";v=!0}if(w.d=="updLC"){q.mP.G9(E);k=q.mP.alB(E,w.qI);
x=q.mP.mQ(E,w.qI);i.lastAppliedComp={t:"long",v:w.qI};h="Update Layer Comp";j=w.qI;v=!0}if(w.d=="addLC"){q.mP.G9(E);
var g=1;for(var P=0;P<i.list.v.length;P++)g=Math.max(g,i.list.v[P].v.compID.v)+1;g+=Math.floor(Math.random()*1e4);
var D={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(i.list.v.length+1)},compID:{t:"long",v:g},capturedInfo:{t:"long",v:7}}};
i.list.v.push(D);i.lastAppliedComp={t:"long",v:g};h="New Layer Comp";var b=q.mP.mQ(E,g);q.mP.hf(E,b,g)}var N=new fL(h,this);
N.data={a0j:o,aw2:i,af3:k,ahd:x,qI:j,qF:v};this.$D(N.data,E);E.f6(N)};q.mP.prototype.$D=function(w,I){I.ww=w.aw2;
I.cW=!0;if(w.ahd)q.mP.hf(I,w.ahd,w.qI);if(w.qF){var E=I.ww.lastAppliedComp?I.ww.lastAppliedComp.v:0,X=q.mP.wu(I.ww,E),o=X==-1?null:I.ww.list.v[X].v,i=o?o.capturedInfo.v:7;
q.mP.WW(I,E,i);I.M()}};q.mP.prototype.xg=function(w,I){I.ww=w.a0j;I.cW=!0;if(w.af3)q.mP.hf(I,w.af3,w.qI);
if(w.qF){var E=I.ww.lastAppliedComp?I.ww.lastAppliedComp.v:0,X=q.mP.wu(I.ww,E),o=X==-1?null:I.ww.list.v[X].v,i=o?o.capturedInfo.v:7;
q.mP.WW(I,E,i);I.M()}};q.mP.G9=function(w){if(w.ww.lastAppliedComp!=null||!w.wr)return;var I=q.mP.mQ(w,0);
q.mP.hf(w,I,0);w.wr=!1};q.mP.vZ=function(w,I,E){w.v.Hrzn.v+=I;w.v.Vrtc.v+=E};q.mP.wu=function(w,I){var E=w.list.v;
for(var P=0;P<E.length;P++)if(E[P].v.compID.v==I)return P;return-1};q.mP.ab5=function(w){var I=w.layerSettings.v,o=null;
if(I.length==0)return;var E="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),X=I[0].v;
if(X.enab==null)X.enab={t:"bool",v:!0};if(X.Ofst==null)X.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var P=0;P<I.length;P++){var i=I[P].v;if(o==null)o=JSON.parse(JSON.stringify(i));else for(var h=0;
h<E.length;h++){var k=E[h];if(i[k])o[k]=JSON.parse(JSON.stringify(i[k]))}I[P].v=JSON.parse(JSON.stringify(o))}};
q.mP.apC=function(w,I){var E=w.add.shmd.cmls,X=E.layerSettings.v;for(var o=0;o<X.length;o++){var i=X[o].v,h=i.compList.v[0].v;
if(h==I)return o}return-1};q.mP.adL=function(w,I){var E=q.mP.apC(w,I);return E==-1?null:w.add.shmd.cmls.layerSettings.v[E].v};
q.mP.WW=function(w,I,E){for(var P=0;P<w.b.length;P++){var X=w.b[P],o=X.add.shmd.cmls;if(o==null)continue;
var i=o.layerSettings.v,h=q.mP.adL(X,I);if(h==null){X.Wz(!1);continue}if((E&1)!=0){if(h.enab)X.Wz(h.enab.v);
else X.Wz(!0)}if((E&2)!=0){if(h.Ofst){var k=h.Ofst.v,x=X.MI(w),j=Math.round(k.Hrzn.v-x.x),v=Math.round(k.Vrtc.v-x.y);
if(j!=0||v!=0)q.Q8.np(w,[P],null,j,v)}}if((E&4)!=0){if(h.Lefx){var _=JSON.parse(JSON.stringify(h.Lefx.v));
bN.sE(_);if(JSON.stringify(_)!=JSON.stringify(X.add.lmfx)){X.add.lmfx=_;X.Nu.MH=!0}}else delete X.add.lmfx;
if(h.blendOptions){var L=h.blendOptions.v;if(L.Opct)X.opacity=Math.round(255*L.Opct.v.val/100);if(L.fillOpacity)X.add.iOpa=Math.round(255*L.fillOpacity.v.val/100);
if(L.Md)X.$B=X.add.lsct==gs.sz?"norm":hH.yk(L.Md.v.BlnM)}else{X.opacity=255;X.$B=X.vD()?"pass":"norm";
X.add.iOpa=255}}}};q.mP.alB=function(w,I){var E={};for(var P=0;P<w.b.length;P++){var X=w.b[P];if(X.add.shmd==null||X.add.shmd.cmls==null)continue;
E["l"+X.add.lyid]=JSON.parse(JSON.stringify(q.mP.adL(X,I)))}return E};q.mP.mQ=function(w,I){var E={};
for(var P=0;P<w.b.length;P++){var X=w.b[P],o=X.add.lyid;E["l"+o]=q.mP.a9D(w,X,I)}return E};q.mP.a9D=function(w,I,E){var X=I.add.shmd?I.add.shmd.cmls:null,o={classID:"null"},i=I.MI(w),h={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:i.x},Vrtc:{t:"long",v:i.y}}};
o.compList={t:"VlLs",v:[{t:"long",v:E}]};o.enab={t:"bool",v:I.TH()};o.Ofst=JSON.parse(JSON.stringify(h));
o.FXRefPoint=JSON.parse(JSON.stringify(X&&X.origFXRefPoint?X.origFXRefPoint:h));o.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:hH.r6(I.$B)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*I.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:I.add.iOpa!=null?100*I.add.iOpa/255:100}}}};
if(I.add.vmsk){o.vectorMask={t:"Objc",v:{classID:"null"}};o.vectorMask.v.Ofst=JSON.parse(JSON.stringify(h))}if(I.add.lmfx){o.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(I.add.lmfx))};
bN.C7(o.Lefx.v)}return o};q.mP.auk=function(w,I){var E=I.add.lyid;if(I.add.shmd==null)I.add.shmd={};
if(I.add.shmd.cmls==null){I.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:E},layerSettings:{t:"VlLs",v:[{t:"Objc",v:q.mP.a9D(w,I,0)}]}}}};
q.mP.hf=function(w,I,E){for(var P=0;P<w.b.length;P++){var X=w.b[P],o=X.add.lyid;q.mP.auk(w,X);var i=X.add.shmd.cmls,h=i.layerSettings.v,k=I["l"+o];
if(k!=null)k={t:"Objc",v:JSON.parse(JSON.stringify(k))};var x=q.mP.apC(X,E);if(x==-1){if(k==null)continue;
else h.push(k)}else{if(k==null)h.splice(x,1);else h[x]=k}}};q.mP.cF=function(w,I){for(var P=0;P<w.b.length;
P++){var E=w.b[P],X=E.add.lyid;if(E.add.shmd==null||E.add.shmd.cmls==null)continue;var o=E.MI(w),i=Math.round(o.x),h=Math.round(o.y);
if(!I){i=-i;h=-h}var k=E.add.shmd.cmls,x=k.layerSettings.v;if(k.origFXRefPoint)q.mP.vZ(k.origFXRefPoint,-i,-h);
for(var j=0;j<x.length;j++){var v=x[j].v;q.mP.vZ(v.Ofst,i,h);var _=v.imageMask,L=v.vectorMask;if(_&&_.v.Ofst)q.mP.vZ(_.v.Ofst,i,h);
if(L&&L.v.Ofst)q.mP.vZ(L.v.Ofst,i,h)}}};q._0=function(){q.an.call(this,"Adjust Edit",q.dT);this.pf=null;
this.NS=null};q._0.prototype=new q.an;q._0.ek=function(w,I,E,X){if(X)I/=4;var o=0,i=0,h=255,k=0,x=0,j=255;
while(i+w[o]<I){i+=w[o];o++}while(k+w[h]<I){k+=w[h];h--}if(X){o-=Math.round(w[o]/(E/32));h+=Math.round(w[h]/(E/32));
if(o<0)x=Math.round(-o*255/(h-o));if(h>255)j=255-Math.round((h-255)*255/(h-o))}return[Math.max(o,0),Math.min(h,255),x,j,100]};
q._0.prototype.Q$=function(w,I,E,X,o){var i=w.d;if(i=="auto"){var h=w.N5,k=q._0.getData(E);for(var P=0;
P<k.length;P++){var x=k[P],j;if(h<3){}else{var v=gD.SX("hue2");hj.kK(v,0,[0,-100,0]);j=cz.S9("hue2",v)}cz.$Z(j,x.T1,x.Rk,x._b)}q._0.DC(E,k);
q._0.vi(E,k,h<3?[4,16,h]:[19,7,0],this);E.M()}if(i=="edit_layer")this.akW(w,I,E,X);if(i=="edit"||i=="confirm"||i=="cancel")this.UL(w,I,E,o,!0);
if(i=="start"){if(E.g.length==0)return;var _=E.b[E.g[0]];if(_.add.SoLd&&_.yA<=0&&E.Y1.length==0){var L=new e9(W.E.s,!0);
L.G=q.Hl;L.data={d:"start",qt:w._T,P$:w.P$};I.c(L);return}if(!E.Im(I,null,!0))return;if(kg[w._T]&&w.P$==null){if(E.g.length!=1)alert("Will be applied to "+E.g.length+" layers.");
var L=new e9(W.E.Z,!0);L.data={d:W.t.GV,ei:"afw_"+w._T};I.c(L)}else{this.UL({d:"edit",P$:w.P$,qt:w._T},I,E,o);
this.UL({d:"confirm",qt:w._T},I,E,o)}}};q._0.prototype.akW=function(w,I,E,X){var o=w.d,i=E.g[0],h=E.b[i],k=cz.get(h.add),x=JSON.parse(JSON.stringify(h.add[k])),L;
for(var j in w.k)x[j]=w.k[j];var v=JSON.parse(JSON.stringify(x));for(var j in cz.ra)if(cz.ra[j]==k)v.classID=j;
var _=E.history[E.lZ];if(_&&_.G==this&&_.data.di!=null&&_.data.l==i)L=_;else{var U=new e9(W.E.a3,!0),n={classID:"setd",null:gE.cZ("AdjL",!0),T:{t:"Objc",v:v}};
U.data={v$:!0,$g:"set",Zc:n};I.c(U);var L=new fL([6,39],this);L.data={l:i,di:h.add[k],pW:x,l8:n};E.f6(L)}L.data.pW=x;
L.data.l8.T.v=v;this.$D(L.data,E)};q._0.getData=function(w,I,E){var X=[],o=new dC(0,0,w.q,w.w),i=w.Y1.length!=0?[-1-w.Y1[0]]:w.g;
for(var P=0;P<i.length;P++){var h=i[P],k=h<0?null:w.b[h],x={l:h,Tr:h<0?1:k.yA};X.push(x);var j=w.K3[-1-h];
if(0<=h)j=k.yA<=0?null:k.yA==1?k.pi():k.Em(w).D;var v=j?j.rect:k.rect;if(w.n)x._b=j!=null?w.n.rect.LP(o):w.n.rect.LP(v);
else x._b=I||j!=null?v.jB(o):v.clone();if(E)x._b=E[P]._b.clone();var _=x._b.A();x.T1=Q.$(_*4);if(j)q.Og.TT(j.channel,j.rect,j.color,x.T1,x._b);
else Q.D6(k.buffer,v,x.T1,x._b);x.Rk=x.T1.slice(0);if(w.n){x.HA=Q.$(_);Q.b_(w.n.channel,w.n.rect,x.HA,x._b)}}return X};
q._0.al0=function(w,I,E){if(I==null)return I;var X=cz.CP(w,I),i;if(X==-1)return I;var o=E.length>>>2,h=Q.yB(E),k=.001*o;
if(X==0||X==2)i=[[0,255,0,255,100],q._0.ek(h[1],k,o,X==2),q._0.ek(h[2],k,o,X==2),q._0.ek(h[3],k,o,X==2)];
if(X==1)i=[q._0.ek(h[0],k*.33,o,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var x=gD.SX("levl");
for(var P=0;P<4;P++)fP.kK(x,P,i[P]);return x};q._0.a6i=function(w,I,E,X){var o,i;if(E.t=="name"){var h=0;
for(var k=0;k<w.b.length;k++)if(w.b[k].getName()==E.v.val)h=k;if(w==I&&h==X.l){o=X.T1;i=X._b}else{var x=w.b[h];
o=x.buffer;i=x.rect}}else{i=new dC(0,0,w.q,w.w);o=w==I?X.L9:w.sQ()}return[o,i]};q._0.prototype.UL=function(w,I,E,X){if(this.pf==null){if(w.qt=="aply")E.b[E.g[0]].extend(new dC(0,0,E.q,E.w));
this.pf=q._0.getData(E,null,w.qt=="fade"?E.fY().data:null);if(w.qt=="aply"||w.qt=="matc")this.pf[0].L9=E.sQ()}if(w.d=="edit"){this.NS=[w.qt,w.P$];
var o=this.pf[0],i=q._0.al0(w.qt,w.P$,o.T1),h=cz.S9(w.qt,i);if(w.qt=="fade"||w.qt=="matc"||w.qt=="aply")h=w.P$;
if(h!=null){for(var k=0;k<this.pf.length;k++){var x=this.pf[k];if(w.q7)Q.QM(x.T1,x.Rk);else if(w.qt=="fade"){var j=hH.yk(w.P$.Md.v.BlnM),v=w.P$.Opct.v.val/100,_=E.fY().data[k];
Q.QM(_.T1,x.Rk);if(j=="norm")Q.e.Wg(x.T1,x._b,x.Rk,x._b,null,null,null,x._b,v);else{var L=aQ.aT();L.zl=!0;
for(var P=0;P<_.T1.length;P+=4)if(_.T1[P+3]!=x.T1[P+3]){L=null;break}Q.e.gF(j,x.T1,x._b,x.Rk,x._b,x._b,v,L)}}else if(w.qt=="matc"){var U;
if(h.noReference&&h.noReference.v)U=x.T1;else{var n=h.Srce.v,a=n[1].v.val,T=I.oR,g=E;for(var P=0;P<T.length;
P++)if(T[P].name==a)g=T[P];var D=q._0.a6i(g,E,n[0],x);U=D[0]}aN(x.T1,x._b.q,x._b.w,U,x.Rk,[h.Lght.v,h.ClrR.v,h.Fade.v,h.neutralizeColor?h.neutralizeColor.v:!1])}else if(w.qt=="aply"){h=h.With.v;
var b=h.T.v,D=q._0.a6i(E,E,b[1],x),U=D[0],N=D[1],C=h.Clcl?h.Clcl.v.Clcn:null,j=C?hH.yk(C):"norm",v=h.Opct?h.Opct.v.val/100:1,Z=["RGB","Rd","Grn","Bl","Trsp"].indexOf(b[0].v.enum),i=h.Invr&&h.Invr.v;
if(i||Z!=0){U=U.slice(0);if(i)Q.agH(U);if(Z!=0){var S=Q.$(N.A());Q.qe(U,S,Z-1);if(Z==4)Q.ja(S);for(var u=0;
u<3;u++)Q.lJ(S,U,u)}}if(C=="Add"||C=="Sbtr"){var p=1/h.Scl.v,f=h.Ofst.v,d=C=="Add"?1:-1,l=new Uint8ClampedArray(x.Rk.buffer);
for(var P=0;P<U.length;P+=4){l[P]=(x.T1[P]+d*U[P])*p+f;l[P+1]=(x.T1[P+1]+d*U[P+1])*p+f;l[P+2]=(x.T1[P+2]+d*U[P+2])*p+f}}else{var L=aQ.aT();
L.zl=h.PrsT&&h.PrsT.v;x.Rk.fill(0);x.Rk.set(x.T1);Q.e.gF(j,U,N,x.Rk,x._b,x._b,v,L)}}else cz.$Z(h,x.T1,x.Rk,x._b)}q._0.DC(E,this.pf)}}if(w.d=="cancel"){q._0.aws(E,this.pf);
this.pf=null}if(w.d=="confirm"){var A={fade:[2,11],aply:[2,12],matc:[4,18]},B=A[w.qt];if(B==null)B=cz.names[w.qt];
var e=cz.CP(w.qt,this.NS[1]);if(e!=-1)B=[4,16,e];q._0.vi(E,this.pf,B,this);this.pf=null;if(e==-1)q._0.NY(I,this.NS)}E.M()};
q._0.NY=function(w,I){var E=I[0],X=I[1],o,i;if(cz.ZI[E]){o=cz.ZI[E];if(kg[E])i=X}if(gD.ZI[E]){o=gD.ZI[E];
if(kg[E])i=X}if(E=="fade"){o="fade";i=X}if(E=="matc"){o="matchColor";i=X}if(E=="aply"){o="applyImageEvent";
i=X}if(o==null)return;var h=new e9(W.E.a3,!0);h.data={v$:!0,$g:o};if(i){i=JSON.parse(JSON.stringify(i));
i.classID="null";delete i.__name;h.data.Zc=i}w.c(h)};q._0.aws=function(w,I){q._0.YM(w,I)};q._0.vi=function(w,I,E,X){for(var P=0;
P<I.length;P++){var o=I[P],i=w.b[o.l],h=o.l<0?w.K3[-1-o.l]:o.Tr<=0?null:o.Tr==1?i.pi():i.Em(w).D;if(h){h.G1();
h.$o=!0;if(i)i.kH(w)}else{i.G1();i.M()}delete o.Rk;delete o.HA}var k=new fL(E,X);k.data=I;w.f6(k);w.cW=!0};
q._0.DC=function(w,I,E){for(var P=0;P<I.length;P++){var X=I[P],o=w.b[X.l],i=E?X.T1:X.Rk,h=X._b;if(X.Tr==0){o.extend(h);
if(X.HA){Q.D6(X.T1,h,o.buffer,o.rect);Q.e.Wg(i,h,o.buffer,o.rect,X.HA,h,0,h,1)}else Q.D6(i,h,o.buffer,o.rect)}else{var k=X.l<0?w.K3[-1-X.l]:X.Tr==1?o.pi():o.Em(w).D;
k.extend(h);if(X.HA){var x=Q.$(h.A()*4);Q.QM(X.T1,x);Q.e.Wg(i,h,x,h,X.HA,h,0,h,1);q.Og.vd(x,h,k)}else q.Og.vd(i,h,k);
k.$o=!0;if(o)o.kH(w)}if(o)o.M()}if(!E)q._0.acc(w,I)};q._0.YM=function(w,I){for(var P=0;P<I.length;P++){var E=I[P],X=w.b[E.l],o=E._b,i=Q.$(o.A()*4);
if(E.Tr==0){Q.D6(X.buffer,X.rect,i,o);X.extend(o);Q.D6(E.T1,o,X.buffer,X.rect);X.G1()}else{var h=E.l<0?w.K3[-1-E.l]:E.Tr==1?X.pi():X.Em(w).D;
q.Og.TT(h.channel,h.rect,h.color,i,o);h.extend(o);q.Og.vd(E.T1,o,h);h.G1();h.$o=!0;if(X)X.kH(w)}E.T1=i;
if(X)X.M()}w.cW=!0};q._0.acc=function(w,I){var E=q._0.a6D(w),X=~E;if(E==16777215)return;for(var P=0;
P<I.length;P++){var o=I[P],i=w.b[o.l],h=o._b;if(o.Tr!=0)continue;i.extend(h);var k=h.x-i.rect.x,x=h.y-i.rect.y,j=i.rect.q,v=new Uint32Array(o.T1.buffer),_=new Uint32Array(i.buffer.buffer);
for(var L=0;L<h.w;L++)for(var U=0;U<h.q;U++){var n=L*h.q+U,a=(L+x)*j+(U+k);_[a]=_[a]&E|v[n]&X}i.G1();
i.M()}w.M()};q._0.a6D=function(w){var I=w.u.wL;return I[2]*16711680|I[1]*65280|I[0]*255};q._0.prototype.xg=function(w,I){var E=I.b[w.l];
if(w.di!=null)E.add[cz.get(E.add)]=w.di;else q._0.YM(I,w);I.M()};q._0.prototype.$D=function(w,I){var E=I.b[w.l];
if(w.di!=null)E.add[cz.get(E.add)]=w.pW;else q._0.YM(I,w);I.M()};q.jc=function(){q.an.call(this,"Filter Edit",q.Hl);
this.pf=null;this.tS=null;this.d=null;this.NS=null};q.jc.prototype=new q.an;q.jc.prototype.Q$=function(w,I,E,X,o){if(w.d=="start"){if(E.g.length==0)return;
var i=E.b[E.g[0]];if(i.add.SoLd&&i.yA<=0&&E.Y1.length==0){}else if(!E.Im(I,null,!0))return;var h=w.qt;
if((kg[h]||gD.a[h])&&w.P$==null){if(E.g.length!=1)alert("Will be applied to "+E.g.length+" layers.");
var k=new e9(W.E.Z,!0);k.data=q.jc.am4(h,this.Lo(E,h));I.c(k)}else{var x={d:"edit",qt:h,P$:w.P$,EA:this.Lo(E)};
this.Q$(x,I,E,X,o);x.d="confirm";delete x.P$;this.Q$(x,I,E,X,o)}}if(w.d=="edit"||w.d=="cancel"||w.d=="confirm"){if(w.d=="edit")this.NS=[w.qt,w.P$];
if(w.EA)this.abp(w,I,E,o);else this.avt(w,I,E,o)}if(w.d=="applylast"&&this.NS!=null){var x={d:"edit",qt:this.NS[0],P$:this.NS[1],EA:this.Lo(E)};
this.Q$(x,I,E,X,o);x.d="confirm";delete x.P$;this.Q$(x,I,E,X,o)}};q.jc.am4=function(w,I){var E=gD.a[w];
if(E)return{d:W.t.en,G:E,iw:{EA:I}};else return{d:W.t.GV,ei:"afw_"+w,EA:I}};q.jc.prototype.Lo=function(w,I){var E=w.b[w.g[0]],X;
if(E.add.SoLd&&E.yA<=0&&w.Y1.length==0){X={l:w.g[0],index:0};if(E.add.SoLd.filterFX!=null){var o=E.add.SoLd.filterFX.v.filterFXList.v;
X.index=o.length;for(var P=0;P<o.length;P++)if(gD.N6(o[P].v)==I&&gD.a[I])X.index=P}}return X};q.jc.prototype.abp=function(w,I,E,X){var o=E.b[w.EA.l],i=w.qt;
if(w.d=="edit"){if(this.d==null){var h=gD.names[i];if(h==null)h=cz.names[i];if(i=="blendOptions")h=[14,10];
this.d=new fL(h,this);this.d.data={EA:w.EA,a7V:JSON.parse(JSON.stringify(o.add.SoLd))}}if(!o.r3()){o.add.SoLd.filterFX=gD.WU();
this.d.data.yt=hg.asB(o.add.SoLd.placed.v);E.j2(this.d.data.yt);o.vR(E)}var k=o.add.SoLd.filterFX.v.filterFXList.v;
if(k[w.EA.index]==null){k.push(gD.j1(i,X))}if(w.P$){k[w.EA.index].v.enab.v=w.q7!=!0;if(i=="blendOptions")k[w.EA.index].v.blendOptions.v=w.P$;
else k[w.EA.index].v.Fltr.v=w.P$}this.d.data.apb=JSON.parse(JSON.stringify(o.add.SoLd));this.$D(this.d.data,E)}if(w.d=="cancel"){if(this.d)this.xg(this.d.data,E);
this.d=null}if(w.d=="confirm"){if(this.d)E.f6(this.d);q._0.NY(I,this.NS);this.d=null}};q.jc.prototype.DM=function(w){return{o:w>>>16,P:w>>>8&255,L:w&255}};
q.jc.prototype.avt=function(w,I,E,X){if(this.pf==null){var o=gD.d7(w.qt,w.P$);this.pf=q._0.getData(E,o.x!=0||o.y!=0)}if(w.d=="edit"){var i=JSON.stringify(w.P$);
if((w.P$==null||i!=this.tS)&&w.q7!=!0)for(var P=0;P<this.pf.length;P++){var h=this.pf[P],k={rect:h._b,buffer:h.T1},x={rect:h._b,buffer:h.Rk};
if(w.qt=="Avrg"&&h.HA){k.buffer=h.T1.slice(0);Q.sC(h.HA,k.buffer)}gD.$Z(w.qt,k,w.P$,this.DM(X.Ht),this.DM(X.Mw),x,[E.add.lnk2?E.add.lnk2:[],E.b[E.g[0]].pi(),E.K3,E.cm()]);
if(w.qt=="Avrg"&&h.HA){var j=h.T1.length;for(var P=0;P<j;P+=4)h.Rk[P+3]=h.T1[P+3]}this.tS=i}q._0.DC(E,this.pf,w.q7)}if(w.d=="cancel"){q._0.aws(E,this.pf);
this.pf=null;this.tS=null}if(w.d=="confirm"){q._0.vi(E,this.pf,gD.names[w.qt],this);this.pf=null;this.tS=null;
q._0.NY(I,this.NS)}E.M();E.cW=!0};q.jc.prototype.xg=function(w,I){if(w.EA){var E=I.b[w.EA.l];if(w.yt)I.oV(w.yt);
E.add.SoLd=JSON.parse(JSON.stringify(w.a7V));if(E.r3())E.k9(I);else{E.vR(I);E.yA=0}}else q._0.YM(I,w);
I.M();I.cW=!0};q.jc.prototype.$D=function(w,I){if(w.EA){var E=I.b[w.EA.l];if(w.yt)I.j2(w.yt);E.add.SoLd=JSON.parse(JSON.stringify(w.apb));
if(E.r3())E.k9(I);else E.vR(I);if(!E.e_())E.Bo+=32}else q._0.YM(I,w);I.M();I.cW=!0};var ik={Vk:"0",nz:"1",x6:"2",ti:"3",Pv:"3.5",uH:"4",cc:"5",EO:"6",rW:"7",s:"8",Q6:"8.5",V3:"8.8",AF:"9",HV:"10",fr:"11",hy:"12",Vc:"13",ZH:"14",pj:"15",TM:"16",P7:"17",xa:"21",wC:"22",wB:"23",nk:"23.0",Mk:"23.1",sw:"23.2",NV:"23.3",s6:"23.4",_H:"23.5",SA:"23.6",aoX:"30",cr:"31",BC:"40",aF:"41",kn:"42"};
ik._f={};ik._f[ik.nz]=["abr","brushes",hQ,[9,3],3];ik._f[ik.x6]=["grd","gradients",hu,[12,37],4];ik._f[ik.ti]=["shc","contours",cB,[12,21],0];
ik._f[ik.Pv]=["acv","curves",k5,[4,2],0];ik._f[ik.uH]=["asl","styles",gL,[12,22],5];ik._f[ik.cc]=["pat","patterns",i4,[12,62],6];
ik._f[ik.EO]=["csh","shapes",fZ,[12,77],7];ik._f[ik.rW]=["aco","swatches",bW,[9,8],0];ik._f[ik.s]=["atn","actions",bc,[9,9],2];
ik._f[ik.Q6]=["tpl","tpresets",c9,[9,12],0];ik._f[ik.V3]=["icc","profiles",a8,"ICCs",8];function fL(w,I,E){if(E==null)E=!1;
this.name=w;this.G=I;this.ul=E;this.data=null;this.abP=Date.now()}var gE={};gE.cZ=function(w,I){var E={t:"Clss",v:{classID:w}};
if(I)E={t:"Enmr",v:{classID:w,typeID:"Ordn",enum:"Trgt"}};return{t:"obj ",v:[E]}};gE.bD=function(w,I){var E={classID:"Lyr"};
E[w]=I;return{$g:"set",Zc:{classID:"null",null:gE.cZ("Lyr",!0),T:{t:"Objc",v:E}}}};gE.adn=function(w,I,E,X,o){var i=new e9(W.E.a3,!0),h=[],P=0,k=gE.Tm(I,E,X,h);
while(h.length!=0){var x=h.pop();P++;if(!x.i)continue;console.log(P-1);if(x.$g=="conditional"){var j=w.b[w.g[0]],v=x.Zc.null.v.Cndt,_=!1;
if(v=="Bckg")_=!1;else if(v=="Pxel"&&w.p8(!1))_=!0;else if(v=="Adjs"&&cz.get(j.add))_=!0;else if(v=="Shp"&&j.add.vogk)_=!0;
else if(v=="Grup"&&j.vD())_=!0;else if(v=="Opn"&&w!=null)_=!0;else if(v=="32Bt")_=!1;else if(v=="RGB")_=!0;
var L=x.Zc.then,U=x.Zc.else;if(_&&L)gE.Tm(I,L.v[0].v.val,L.v[1].v.val,h);if(!_&&U)gE.Tm(I,U.v[0].v.val,U.v[1].v.val,h)}else if(x.$g=="stop"){if(x.Zc.Cntn&&x.Zc.Cntn.v==!0)window.confirm(x.Zc.Msge.v);
else{alert(x.Zc.Msge.v);break}}else if(x.$g=="play"){var n=x.Zc.null.v,a=new e9(W.E.Z,!0);a.data={d:W.t.QJ,hT:[n[0].v.val,n[1].v.val]};
o.c(a)}else{i.data={$g:x.$g,Zc:x.Zc};o.c(i)}}};gE.Tm=function(w,I,E,X){var o;for(var P=0;P<w.length;
P++){if(w[P].Wj!=E)continue;var i=w[P].mz;for(var h=0;h<i.length;h++){if(i[h].Wj!=I)continue;o=i[h].mz}}var k=o.length;
for(var P=0;P<k;P++)X.push(o[k-1-P])};gE.a6R=function(w){var I=w.$g,E=w.Zc,X,h,k,x,j;if(E&&E.null)X=E.null.v[0];
if(E&&X==null&&E.At)X=E.At.v[0];if(X&&X.t=="obj ")X=X.v[0];var o=X?X.v.classID:null,i=["purge"];if(i.indexOf(I)!=-1)return I[0].toUpperCase()+I.slice(1);
if(I=="GEfc"||I=="paintDaubs")return c8.names[E.GEfk.v.GEft][1];j=cz.ZI;for(h in j)if(j[h]==I)k=h;j=gD.ZI;
for(h in j)if(j[h]==I)x=h;if(k){var v=cz.CP(k,E);if(v!=-1)return[4,16,v];return cz.names[k]}if(x)return gD.names[x];
var _=gE.a9X;if(I=="make"){if(X){if(o=="AdjL")return[6,1];else if(o=="layerSection")return E.From?[6,9]:[6,20];
else if(o=="Lyr")return[6,13];else if(o=="Chnl"&&X.v.enum=="Msk")return[6,2];else if(o=="contentLayer")return[6,48,1];
else if(o=="BckL")return"Make Background Layer";else if(o=="Path")return"Make Path";else if(o=="TxLr")return"Make Text Layer";
else if(o=="slice")return"Make Slices";else if(o=="Dcmn")return[11,7]}if(E.Nw){o=E.Nw.v.classID;if(o=="Dcmn")return[11,7];
else if(o=="Chnl"||o=="SCch")return"New Channel"}}else if(I=="deselect"){if(o=="Path")return"Deselect current path";
else throw o}else if(I=="select"){if(o=="Chnl")return"Select "+(X.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(o=="Mn")return"Select Panel \""+X.v.enum+"\"";else if(o=="Lyr"){if(X.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[X.v.enum]+" Layer";
return"Select Layer \""+X.v.val+"\""}else if(o=="Path")return"Select Path";else if(o=="Brsh")return"Select Brush";
else if(o=="Dcmn")return"Select Document"}else if(_[I]&&o=="Chnl"){var L=X.v.keyID=="fsel";return _[I]+" "+(L?"Selection":"Channel")}else if(I=="set"){if(o=="Lyr")return"Set Current Layer";
else if(o=="AdjL")return[6,39];else if(o=="contentLayer")return[6,48,2];else if(o=="Prpr"){var U=X.v.keyID;
if(U=="TxtS")return"Set Text Style";else if(U=="paragraphStyle")return"Set Paragraph Style";else if(U=="Lefx")return[11,6];
else console.log(U)}else if(o=="Clr")return"Set "+(X.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(o=="Brsh")return"Set Brush";else console.log(o)}else if(I=="move"){if(o=="Lyr")return"Move Layer";
else if(o=="Chnl"&&X.v.keyID=="fsel")return[7,7];else console.log(o)}else if(I=="show"||I=="hide"){var n="";
if(o=="Lyr")+"Layer";if(o=="Chnl")+"Channel";return(I=="show"?"Show":"Hide")+" "+n}else if(I=="reset"){if(o=="Clr")return"Reset Colors"}else if(I=="exchange"){if(o=="Clr")return[22,7,0]}else if(I=="rotateEventEnum")return[2,5];
else if(I=="flip"){var a=E.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,a?2:3]]}if(o=="Chnl"){if(I=="duplicate"){if(X.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(I=="delete")return"Delete Channel"}if(I=="transform")return X&&X.v.keyID=="fsel"?[7,10]:[10,16];
var T={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:E?o=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},g=T[I];
if(g==null)g=gE.aml[I];if(g)return g;return I};gE.aml={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
gE.a9X={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
gE.atM=function(w,I,E,X){var o=w.$g,i=w.Zc,h=!1,k=new e9(W.E.s,!0),v,_,L,U;k.G=q.Qd;var x=new e9(W.E.Z,!0),j=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(j.indexOf(o)!=-1)return;U=cz.ZI;for(v in U)if(U[v]==o)_=v;U=gD.ZI;for(v in U)if(U[v]==o)L=v;if(o=="fade")_=o;
if(o=="matchColor")_="matc";if(o=="applyImageEvent")_="aply";if(_){k.G=q.dT;k.data={d:"start",_T:_,P$:i}}else if(L){k.G=q.Hl;
k.data={d:"start",qt:L,P$:i}}else if(o=="GEfc"||o=="paintDaubs"){k.G=q.Hl;k.data={d:"start",qt:"GEfc",P$:i}}else if(o=="imageSize"||o=="canvasSize"||o=="revealAll"||o=="trim"||o=="crop"){k.G=q.Eg;
k.data={d:"fromAction",Le:w}}else if(o=="fill"||o=="stroke"||o=="delete"&&i==null){k.G=E.OZ==q.jW?q.jW:q.nz;
k.data={d:"fromAction",Le:w}}else if(o=="colorRange"){k.G=q.UE;k.data={d:"fromAction",Le:w}}else if(gE.aml[o]||gE.a9X[o]&&(!1||i.With&&i.With.v[0].v.keyID=="fsel"||i.From&&i.From.v[0].v.keyID=="fsel"||i.null&&i.null.v[0].v.keyID=="fsel"||i.T.v[0]&&i.T.v[0].v.keyID=="fsel")){k.G=q.UE;
k.data={d:"fromAction",Le:w}}var n={copyToLayer:K.If,cutToLayer:K.eL,mergeLayersNew:K.dN,rasterizeLayer:K.a40,mergeVisible:K.Tw,flattenImage:K.adg,newPlacedLayer:K.nJ};
if(n[o])k.data={d:n[o],Zc:i};if(k.data){I.c(k);return}if(o=="collapseAllGroupsEvent"){for(var P=0;P<X.b.length;
P++){var a=X.b[P];if(a.vD())a.add.lsct=gs.S2}X.oP=!0;return}if(o=="desaturate"){k.G=q.dT;k.data={d:"auto",N5:3};
if(X&&X.b[X.g[0]].add.SoLd==null)I.c(k);return}if(o=="close"){if(i.Svng.v.YsN=="Ys"){x.data={d:W.t.De};
I.c(x)}x.data={d:W.t.aS,zW:X};I.c(x);return}if(o=="save"){x.data={d:W.t.De};I.c(x);return}if(o=="copyMerged"){x.data={d:W.t.NA,WY:!0,ne:!0};
I.c(x);return}var n={placedLayerEditContents:W.t.aoM,copyEvent:W.t.NA,paste:W.t.SO};if(n[o])x.data={d:n[o],ne:!0};
if(x.data){I.c(x);return}console.log(o,i);var T=i.null?i.null.v:null,g=T?T[0].v.classID:"";if(o=="make"){if(i.null==null&&i.Nw)g=i.Nw.v.classID;
if(g=="AdjL"){k.data={d:K.Gu,Zc:i}}else if(g=="layerSection"){k.data=i.From?{d:K.jK}:{d:K.yu};if(i.Usng){var D=i.Usng.v;
if(D.Nm)k.data.aD=D.Nm.v;if(D.Clr)k.data.c6=gE.Q5(D)}}else if(g=="Lyr"){if(i.Usng&&i.Usng.v.length==2)k.data={d:K.as2};
else{k.data={d:K.FD};if(i.Usng)k.data.aD=i.Usng.v.Nm.v;if(i.below&&i.below.v)k.data.an8=!0}}else if(g=="Chnl"&&i.At&&i.At.v[0].v.enum=="Msk"){k.data={d:K.qh,Yr:i.Usng.v.UsrM}}else if(g=="Chnl"||g=="SCch"){k.data={d:K.wR,ns:"fromAction",k:w}}else if(g=="contentLayer"){k.data={d:K.Qg,Zc:i}}else if(g=="BckL"){X.b[X.g[0]].a3o();
return}else if(g=="Dcmn"){if(i.Nw==null)return;var b=i.Nw.v;x.data={d:W.t.aR,gt:hg.aoW(b,E)}}else if(g=="Ptrn")x.data={d:W.t.PZ,GT:0};
else if(g=="Path"){k.G=q.kQ;k.data={d:"pathedit",ns:"fromsel"}}else if(g=="TxLr"){k.G=q.Zn;k.data={d:"fromAction",Le:w}}else if(g=="slice"){k.G=q.Bd;
k.data={d:"fromAction",Le:w}}else{console.log(o,g,i);throw"e"}}else if(o=="deselect"){if(g=="Path"){X.c0=[];
X.oP=X.WV=!0;return}else throw g}else if(o=="selectNoLayers"){X.g=[];X.cW=!0}else if(o=="select"){var C={PcTl:q.jW,PbTl:q.nz,moveTool:q.xE,cloneStampTool:q._R,typeCreateOrEditTool:q.Zn,artboardTool:q.rF,marqueeRectTool:q.UE,typeVerticalCreateOrEditTool:q.c3,perspectiveCropTool:q.ob,marqueeEllipTool:q.a8h,eyedropperTool:q.r4,eraserTool:q.Kx,pathComponentSelectTool:q.kQ,lassoTool:q.xP,backgroundEraserTool:q.a5g,directSelectTool:q.bl,polySelTool:q.akb,rectangleTool:q.jh,magneticLassoTool:q.alk,gradientTool:q.ars,quickSelectTool:q.Xl,bucketTool:q.adi,ellipseTool:q.eS,magicWandTool:q.rm,blurTool:q.zV,polygonTool:q.AX,cropTool:q.Eg,sharpenTool:q.t4,lineTool:q.I0,sliceTool:q.Bd,smudgeTool:q.hn,customShapeTool:q.CM,sliceSelectTool:q.iH,dodgeTool:q.sU,spotHealingBrushTool:q.jw,burnInTool:q.o5,saturationTool:q._7,penTool:q.Dn,redEyeTool:q.Cd,freeformPenTool:q.H8,rulerTool:q.$u,paintbrushTool:q.nz,handTool:q.aB,pencilTool:q.jW,zoomTool:q.dc,objectSelectTool:q.a6E,healingBrushTool:q.l$,patchTool:q.By,contentAwareMoveTool:q.Uk,colorReplacementBrushTool:q.TQ,curvaturePenTool:q.a19,rotareViewTool:q.QV};
if(g=="Lyr"){var Z=i.selectionModifier,S=Z?Z.v.selectionModifierType:null,u=gE.Pa(X,T[0]);if(u==-1){alert("Layer "+T[0].v.val+" does not exist.");
return}k.data={d:K.L4,l:u,__:S?["addToSelection","addToSelectionContinuous"].indexOf(S):null,js:0}}else if(g=="Path"){if(T[0].v.keyID=="WrPt"){X.c0=[0];
X.oP=X.WV=!0;return}else throw T[0]}else if(g=="Chnl"){k.data={d:K.L4,l:u,js:1}}else if(g=="Dcmn"){if(I.oR.length<2)return;
x.data={d:W.t.ats,dir:i.null.v[0].v.val}}else if(g=="Brsh"){var p=E.uO.list,f;for(var P=0;P<p.length;
P++){if(p[P].v.Nm.v==T[0].v.val)f=p[P].v}x.data={d:W.t.e1,GT:ik.ZH,Cl:f}}else if(g=="Mn"){if(T[0].v.enum=="Scl")x.data={d:W.t.en,G:q.Ai,iw:{Yr:3}};
if(T[0].v.enum=="Plce")x.data={d:W.t.vN,ab3:!0};if(T[0].v.enum=="ZmIn"){k.G=q.dc;k.data={d:"zoom",GC:!0}}if(T[0].v.enum=="ZmOt"){k.G=q.dc;
k.data={d:"zoom",GC:!1}}if(T[0].v.enum=="FtOn"){k.G=q.dc;k.data={d:"adapt",k:"fitscr"}}}else if(C[g]){x.data={d:W.t.en,G:C[g]}}else throw g}else if((o=="set"||o=="reset"||o=="exchange")&&g=="Clr"){x.data={d:W.t.e1,GT:ik.xa,ns:o=="reset"?3:2};
if(o=="set"){x.data.ns=T[0].v.keyID=="FrgC"?0:1;var d=Q.N.BL(i.T.v);x.data.k=d.o<<16|d.P<<8|d.L}}else if(o=="set"){if(g=="AdjL"){var l=i.T.v.classID;
l=cz.ra[l];k.G=q.dT;if(l)k.data={d:"edit_layer",k:i.T.v}}else if(g=="Lyr"){var A=i.T.v,u=gE.Pa(X,T[0]);
for(var B in A){if(B=="classID")continue;k.G=q.Qd;if(B=="Nm")k.data={d:K.Ku,name:A.Nm.v};else if(B=="Opct")k.data={d:K.In,pW:Math.round(A.Opct.v.val*255/100)};
else if(B=="fillOpacity")k.data={d:K.cO,pW:Math.round(A.fillOpacity.v.val*255/100)};else if(B=="Md")k.data={d:K.L$,pW:hH.zg.indexOf(A.Md.v.BlnM)+(X.b[u].vD()?1:0)};
else if(B=="Usrs")k.data={d:K.nP,l:u};else if(B=="Blnd"){k.G=q.QP;k.data={d:"setstl",l:u,k:{blendOptions:{t:"objc",v:A}}};
I.c(k);k.data={d:"confirm",l:u}}else if(B=="userMaskFeather"||B=="userMaskDensity"){var e=A.userMaskFeather,m=A.userMaskDensity,u=X.g[0],$=X.b[u].xG(0);
if(e)$.yD=e.v.val;if(m)$.N0=m.v.val;k.data={d:K.n4,Fu:u,hp:$}}else if(B=="Clr"){var V=gE.Q5(A);k.data={d:K.Eu,aby:V}}else if(B=="Lefx")gE.auL(I,u,A.Lefx.v,E);
else{console.log(i);throw B}if(k.data){I.c(k);delete k.data}}k.data={};var a=X.b[u];a.agb()}else if(g=="Prpr"){var A=JSON.parse(JSON.stringify(i.T.v)),u=gE.Pa(X,i.null.v[1]),a=X.b[u],H=T[0].v.keyID;
if(H=="TxtS"||H=="paragraphStyle"){var F=a.add.TySh,G=JSON.parse(JSON.stringify(F.Da)),J=bQ.Of(G),c=bQ.wg(G,0,J.length-2);
if(H=="TxtS")bQ.anP(A,c);else bQ.atl(A,c);bQ.JF(G,0,J.length-1,c);k.G=q.Zn;k.data={d:"newED",Kr:u,Dz:G}}else if(H=="Lefx"){for(var r in A)if(A[r].v){if(r=="Scl")A[r].v.val=100}gE.auL(I,u,A,E);
k.data={}}else throw H}else if(g=="contentLayer"){var u=gE.Pa(X,T[0]),A=i.T.v;if(A.classID=="shapeStyle")A=A.FlCn.v;
var s={solidColorLayer:0,gradientLayer:1,patternLayer:2}[A.classID],z=q.zs.Vf(X,u),L=z.BM==s+1?z.Pz:hL.Bx[s];
L=JSON.parse(JSON.stringify(L));q.AD.LV(A,L,s);k.data={d:K.SI,ZF:[u],tw:!0,k:{BM:s+1,Pz:L}}}else if(g=="Brsh"){var f=JSON.parse(JSON.stringify(E.uO.Yc)),Y=i.T.v;
if(Y.masterDiameter)f.Brsh.v.Dmtr.v.val=Y.masterDiameter.v.val;else console.log("unknown brush parameters");
x.data={d:W.t.e1,GT:ik.ZH,Cl:f}}else{console.log(T[0],i);throw g}}else if(o=="move"){if(g=="Lyr"){var A=i.T.v;
if(A.classID=="Ofst"){k.data={d:"trsl",BY:A.Hrzn.v.val,bJ:A.Vrtc.v.val};k.G=q.xE}else{var ax,iW;if(A[0].t=="Enmr"){if(A[0].v.enum=="Frnt")iW=0;
else if(A[0].v.enum=="Nxt")iW=1;else if(A[0].v.enum=="Prvs")iW=2;else if(A[0].v.enum=="Back")iW=3;else throw"e"}else ax=A[0].v.val;
k.data={d:K.ta,target:ax,ns:iW,afc:i.Dplc?i.Dplc.v:!1}}}else if(g=="Chnl"&&T[0].v.keyID=="fsel"){k.G=q.UE;
k.data={d:"fromAction",Le:w}}}else if(o=="groupEvent"||o=="ungroup")k.data={d:K.pk};else if(o=="show"||o=="hide"){var y=T[0].v;
for(var P=0;P<y.length;P++){var hm=y[P],g=hm.v.classID;if(g=="Lyr"){if(k.data==null)k.data={d:K.v8,ZF:[]};
var u=gE.Pa(X,hm);if(u==-1)continue;var t=X.b[u].TH();if(o=="show"&&t||o=="hide"&&!t)continue;k.data.ZF.push(u)}else if(g=="Chnl"){k.data={d:K.wR,ns:"fromAction",k:w}}else if(g=="filterFX"){if(hm.v.val!=null)k.data={d:K.jl,index:hm.v.val-1};
k.data={d:K.MU}}}}else if(o=="rotateEventEnum"){k.G=q.Eg;var cT=i.Angl.v.val;k.data={d:"rot",Wj:[2,5],k:-cT*Math.PI/180}}else if(o=="flip"){k.G=q.Eg;
var c4=i.Axis.v.Ornt=="Hrzn",kv=c4?new a5(-1,1):new a5(1,-1);k.data={d:"scl",Wj:[[2,6],[22,4,c4?2:3]],k:kv}}else if(o=="transform"){var iL=1,cr=1,ga=0,iq=0,ei=0,hw=0,hC=0;
if(i.Wdth)iL=i.Wdth.v.val/100;if(i.Hght)cr=i.Hght.v.val/100;if(i.Skew){var j5=i.Skew.v;ga=j5.Hrzn.v.val;
iq=j5.Vrtc.v.val}if(i.Ofst){var ed=i.Ofst.v;hw=ed.Hrzn.v.val;hC=ed.Vrtc.v.val}if(i.Angl)ei=i.Angl.v.val;
var jn=new am;jn.concat(new am(iL,iL*Math.tan(iq*Math.PI/180),cr*Math.tan(ga*Math.PI/180),cr,0,0));jn.rotate(-ei*Math.PI/180);
jn.translate(hw,hC);var fj={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[i.FTcs.v.QCSt];
if(fj==null)throw i.FTcs.v.QCSt;var T=i.null;if(T&&T.v instanceof Array)T=T.v[0];var u=T?gE.Pa(X,T):null;
if(u==-1)u=null;k.G=T&&T.v.keyID=="fsel"?q.Uq:q.Ai;k.data={d:"mat",nh:fj,k:jn,yV:i.warp}}else if(o=="duplicate"){if(g=="Chnl")k.data={d:K.wR,ns:"fromAction",k:w};
else k.data={d:K.Ss,aD:i.Nm?i.Nm.v:null}}else if(o=="delete"){if(g=="filterFX"){if(T[0].v.val!=null)k.data={d:K.RY,eF:T[0].v.val-1};
else k.data={d:K.j6}}else if(g=="Path"){k.G=q.kQ;k.data={d:"pathedit",ns:"del"}}else if(g=="Lyr")k.data={d:K.Ii};
else if(g=="Chnl"&&T[0].v.enum=="Msk")k.data={d:K.iX};else if(g=="Chnl")k.data={d:K.wR,ns:"fromAction",k:w};
else throw g}else if(o=="align"){if(i.Aply&&i.Aply.v.projection=="Auto"){k.G=q.Eg;k.data={d:"auto-align"}}else{k.G=q.xE;
var di=i.Usng.v.ADSt,_={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[di];if(_==null)throw di;k.data={d:"algn",k:_}}}else if(o=="applyLocking"){var b1=i.layerLocking.v,dI;
if(b1.protectTransparency)dI=[[b1.protectTransparency.v],[0]];else if(b1.protectNone)dI=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(b1);throw"e"}k.data={d:K.bU,pW:dI}}if(k.data)I.c(k);else if(x.data)I.c(x);else{console.log(w);
alert("Unknown action \""+o+"\"");throw"e"}};gE.auL=function(w,I,E,X){E=JSON.parse(JSON.stringify(E));
bN.sE(E);if(E.masterFXSwitch==null)E.masterFXSwitch={t:"bool",v:!0};console.log(E);var o=hL.JR;for(var i=0;
i<o.length;i++)if(E[o[i]]){for(var P=0;P<E[o[i]].v.length;P++){var h=E[o[i]].v[P].v,k=h.TrnS;if(k==null)k=h.MpgS;
if(k&&k.v.Crv==null){var x=k.v,j=x.Nm.v.split("=").pop(),v=X.Hj;for(var _=0;_<v.length;_++){var L=v[_].Nm.v.split("=").pop();
if(L==j)x.Crv=JSON.parse(JSON.stringify(v[_].Crv))}if(k.v.Crv==null){console.log(k);throw"e"}}}}var U=new e9(W.E.s,!0);
U.G=q.QP;U.data={d:"setstl",l:I,k:{Lefx:{t:"objc",v:E}}};w.c(U);U.data={d:"confirm",l:I};w.c(U)};gE.Q5=function(w){var I={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[w.Clr.v.Clr];
if(I==null)throw w.Clr.v.Clr;return I};gE.Pa=function(w,I){var E=1e6,X=0,o=w.b.length;for(var P=0;P<w.g.length;
P++){E=Math.min(E,w.g[P]);X=Math.max(X,w.g[P])}var i=I.t,h=-1;if(i=="name"){var k=I.v.val,h=-1;for(var P=0;
P<o;P++)if(w.b[P].getName()==k){h=P;break}}else if(i=="Enmr"){if(w.g.length!=0)h=w.g[0];if(I.v.enum=="Frwr")h=X+1;
if(I.v.enum=="Bckw")h=E-1;if(I.v.enum=="Back")h=0;if(I.v.enum=="Frnt")h=o-1;h=(h+o)%o}else if(i=="prop"){if(I.v.keyID=="Bckg")h=0}return h};
var cz={};cz.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
cz.a6h=["expA","clrL","selc"];cz._g=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];cz.ala=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
cz.Sb=[[13,1,1],[13,1,4],[13,1,5]];cz.u6={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
cz.ra=function(){var w=JSON.parse(JSON.stringify(cz.u6));delete w.GrMp;w.GdMp="grdm";return w}();cz.ZI={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
cz.keys={levl:[aW.iu,aW.wb],curv:[aW.iu,aW.UK],hue2:[aW.iu,aW.gh],nvrt:[aW.iu,aW.PR],blnc:[aW.iu,aW.R8]};
cz.aaV=function(w){var I=gD.SX("mixr");I.Mnch={t:"bool",v:w.R2};function E(X,P){var o={classID:"ChMx"},i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var h in i)o[h]={t:"UntF",v:{type:"#Prc",val:X[P+i[h]]}};return{t:"Objc",v:o}}if(w.R2)I.Gry=E(w.k,0);
else{I.Rd=E(w.k,0);I.Grn=E(w.k,5);I.Bl=E(w.k,10)}return I};cz.AP=function(w){function I(X,o,P){var i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var h in i)if(X[h])o[P+i[h]]=X[h].v.val}var E={R2:!1,k:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(w.Mnch&&w.Mnch.v)E.R2=!0;if(E.R2)I(w.Gry.v,E.k,0);else{I(w.Rd.v,E.k,0);I(w.Grn.v,E.k,5);I(w.Bl.v,E.k,10)}return E};
cz.get=function(w){for(var I in cz.names)if(w[I]!=null)return I;return null};cz.S9=function(w,I){var E=cz.$P,X;
if(w=="brit"){var o=I.Brgh?I.Brgh.v:0,i=I.Cntr?I.Cntr.v:0,h=I.useLegacy?I.useLegacy.v:!1;if(h){var k=o/255,x=1+i/100;
if(x>1)x=1+Math.tan(Math.PI/2*i/101);var j=(1-x)/2,v=Q.vU.dW(k,k,k),_=[x,0,0,j,0,x,0,j,0,0,x,j,0,0,0,1],L=Q.vU.multiply(v,_),U=new Q.hV(256);
for(var P=0;P<256;P++)U.o[P]=P;Q.vU.transform(U,U,L);X={type:E.h5,pu:U.o,uk:U.o,_h:U.o,SG:!1,ue:!1}}else{var n=1024,a=-30+60*(i+100)/200,T=[];
for(var P=0;P<4;P++)T.push(Q.sD.DA(P/3*255,P/3*255,!0));T[1].v.Hrzn.v=64;T[1].v.Vrtc.v=64-a;T[2].v.Hrzn.v=128+64;
T[2].v.Vrtc.v=128+64+a;T.sort(function(dg,dX){return dg.v.Hrzn.v-dX.v.Hrzn.v});var g=Q.sD.Bn(T,n);function D(dg,n){var T=[],eS=3;
for(var P=0;P<eS+1;P++)T.push(Q.sD.DA(P/eS*255,P/eS*255,!0));T[1].v.Hrzn.v=130-dg*26;T[1].v.Vrtc.v=130+dg*51;
T[2].v.Hrzn.v=233-dg*48;T[2].v.Vrtc.v=233+dg*10;return Q.sD.Bn(T,n)}var b=D(Math.abs(o)/100,n);if(o<0){var N=[],C=1/n;
for(var P=0;P<n;P++){var Z=P*C,S=P;while(b[S]>Z&&S>1)S--;N[P]=S*C}b=N}var u=new Uint8Array(n);for(var P=0;
P<n;P++){var p=Math.round((n-1)*b[P]);u[P]=Math.round(255*g[p])}X={type:E.h5,pu:u,uk:u,_h:u,SG:!1,ue:!1}}}if(w=="levl"){var f=[],d,l,v,A,B,e;
for(var P=0;P<4;P++)f.push(fP.or(I,P));d=-f[0][0]/255;l=1/(f[0][1]/255-f[0][0]/255);v=Q.vU.multiply(Q.vU.WR(l,l,l),Q.vU.dW(d,d,d));
A=Q.vU.WR(1/(f[1][1]/255-f[1][0]/255),1/(f[2][1]/255-f[2][0]/255),1/(f[3][1]/255-f[3][0]/255));B=Q.vU.dW(-f[1][0]/255,-f[2][0]/255,-f[3][0]/255);
e=Q.vU.multiply(A,B);var u=new Q.hV(256);for(var P=0;P<256;P++)u.o[P]=u.P[P]=u.L[P]=P;var m=1/(f[0][4]/100),$=1/(f[1][4]/100),V=1/(f[2][4]/100),H=1/(f[3][4]/100);
Q.vU.transform(u,u,e);for(var P=0;P<256;P++){u.o[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(u.o[P]/255,$))));
u.P[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(u.P[P]/255,V))));u.L[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(u.L[P]/255,H))))}Q.vU.transform(u,u,v);
for(var P=0;P<256;P++){u.o[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(u.o[P]/255,m))));u.P[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(u.P[P]/255,m))));
u.L[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(u.L[P]/255,m))))}d=f[0][2]/255;l=f[0][3]/255-f[0][2]/255;
v=Q.vU.multiply(Q.vU.dW(d,d,d),Q.vU.WR(l,l,l));A=Q.vU.WR(f[1][3]/255-f[1][2]/255,f[2][3]/255-f[2][2]/255,f[3][3]/255-f[3][2]/255);
B=Q.vU.dW(f[1][2]/255,f[2][2]/255,f[3][2]/255);e=Q.vU.multiply(B,A);Q.vU.transform(u,u,Q.vU.multiply(v,e));
X={type:E.h5,pu:u.o,uk:u.P,_h:u.L,SG:!1,ue:!1}}if(w=="curv"){var F=k5.or(I,0).length==256?1:0,G=[];if(F==0){var J=Q.sD.X_(k5.or(I,0),256);
for(var P=1;P<4;P++){var c=Q.sD.X_(k5.or(I,P),256);G.push(Q.sD.ez(c,J))}}else{var r=[];for(var P=0;P<4;
P++){var s=new Uint8Array(256);r.push(s);var z=k5.or(I,P);for(var S=0;S<256;S++)s[S]=z[S]}for(var P=1;
P<4;P++)G.push(Q.sD.ez(r[P],r[0]))}X={type:E.h5,pu:G[0],uk:G[1],_h:G[2],SG:!1,ue:!1}}if(w=="expA"){var Y=I.Exps,ax=I.Ofst,iW=I.gammaCorrection,y=Y?Y.v:0,hm=ax?ax.v:0,t=iW?iW.v:1,u=new Uint8Array(256);
for(var P=0;P<256;P++){var I=P/255,cT=Math.pow(Math.abs(hm),1/(Math.PI/2));if(hm>0){I=Math.max(hm/Math.E,I);
I=I*Math.exp(hm/1.75+y/Math.PI);I=(1-cT)*I+cT*1}else{I=I*Math.exp(-hm*1.75+y/Math.PI);I=I+-cT*1.14}I=Math.pow(I,1/t);
I=Math.max(0,Math.min(1,I));u[P]=Math.round(I*255)}X={type:E.h5,pu:u,uk:u,_h:u,SG:!1,ue:!1}}if(w=="vibA"){var c4=(I.vibrance?I.vibrance.v:0)/100,kv=(I.Strt?I.Strt.v:0)/100,cT=1+c4*(c4>0?.25:.5),iL=.8+.2/cT;
X={type:E.EG,GT:[c4,kv,iL,cT]}}if(w=="hue2"){var cr=[],ga=[],iq=[],ei=I.Clrz?I.Clrz.v:!1;for(var P=0;
P<256;P++){cr[P]=P/255;ga[P]=0;iq[P]=0}var hw=hj.or(I,0),hC=cz.T$(hw[1]/100);if(ei){var j5=hw[0]/360;
for(var P=0;P<256;P++){cr[P]=j5;ga[P]=hC}}else{for(var P=0;P<256;P++){var ed=cr[P],jn=ga[P];cr[P]+=hw[0]/360;
for(var S=0;S<6;S++){var fj=hj.or(I,S+1),di=fj.ok,b1=fj.zX,cT=0;for(var dI=1;dI<4;dI++)if(b1[dI]<b1[0])b1[dI]+=360;
var h2=b1[0],de=b1[1],ds=b1[2],jO=b1[3],gy=ed*360;if(gy<b1[0])gy+=360;var fV=(gy-h2)/(de-h2),hl=(gy-ds)/(jO-ds);
if(fV<0)cT=0;else if(fV<1)cT=fV;else if(hl<0)cT=1;else if(hl<1)cT=1-hl;else cT=0;var x=cz.T$(di[1]/100);
cr[P]+=cT*di[0]/360;ga[P]+=cT*x;iq[P]+=cT*di[2]/100}}for(var P=0;P<256;P++){ga[P]=(1+ga[P])*(1+hC)-1;
iq[P]=Math.max(-1,Math.min(1,iq[P]))}}var im=new Uint8Array(256),eA=new Uint8Array(256),hy=new Uint8Array(256);
for(var P=0;P<256;P++){var dm=cr[P],kv=ga[P],hA=iq[P];if(dm>1)dm--;if(dm<0)dm++;kv=cz.ab$(kv);kv=(1+kv)*.5;
hA=(1+hA)*.5;im[P]=Math.round(255*dm);eA[P]=Math.round(255*kv);hy[P]=Math.round(255*hA)}var j2=hw[2]/100,dQ=j2<0?-j2:j2,aS=j2<0?0:1;
X={type:E.h9,ar6:im,am:eA,avS:hy,a01:dQ*aS,hq:1-dQ,ak$:hw[2]/100,amn:ei?1:0}}if(w=="nvrt"){var u=new Uint8Array(256);
for(var P=0;P<256;P++)u[P]=255-P;X={type:E.h5,pu:u,uk:u,_h:u,SG:!1,ue:!1}}if(w=="post"){var eh=I.Lvls.v,u=new Uint8Array(256),cT=eh/255.001,h_=255/(eh-1);
for(var P=0;P<256;P++)u[P]=Math.floor(P*cT)*h_;X={type:E.h5,pu:u,uk:u,_h:u,SG:!1,ue:!1}}if(w=="grdm"){var h6=I.Grad.v,gT=I.Rvrs,n=1024,b8;
if(h6.Clrs){var hP=Q.N.Ap(h6.Clrs.v,0,0);b8=Q.N.gw(h6,hP,n,gT?gT.v:!1)}else{b8=Q.N.tH(h6,n,gT?gT.v:!1)}var b5=Q.$(n),ar=Q.$(n),cG=Q.$(n);
Q.qe(b8,b5,0);Q.qe(b8,ar,1);Q.qe(b8,cG,2);X={type:E.h5,pu:b5,uk:ar,_h:cG,SG:!0,ue:!1}}if(w=="selc"){var bd=new Float32Array(9*3*2),aZ=I.mW,gl=I.Mthd?I.Mthd.v.CrcM=="Absl":!1;
for(var S=0;S<9;S++){var ci=S*6,a7=jG.or(I,S),ay=a7[0]/100,it=a7[1]/100,h1=a7[2]/100,hM=a7[3]/100;if(gl){bd[ci]=bd[ci+1]=bd[ci+2]=1;
bd[ci+3]=ay*(1+hM)+hM;bd[ci+4]=it*(1+hM)+hM;bd[ci+5]=h1*(1+hM)+hM}else{bd[ci+0]=(1+ay)*(1+hM);bd[ci+1]=(1+it)*(1+hM);
bd[ci+2]=(1+h1)*(1+hM)}}X={type:E.fB,adb:bd}}if(w=="blwh"){var dn="Rd Yllw Grn Cyn Bl Mgnt".split(" "),X=[],eQ=0,dd=0;
for(var P=0;P<6;P++)X.push(I[dn[P]].v);X.push(I.useTint.v,I.tintColor.v);var gV=[];for(var P=0;P<6;P++)gV.push((X[P]-50)/50);
var jv=Q.N.BL(X[7]);jv.o/=255;jv.P/=255;jv.L/=255;var dt=Q.h_(jv.o,jv.P,jv.L),hA=Q.ZT(Q.a2(dt.Ns,1,.5)),hZ=dt.Ls*dt.P$;
if(hA==.5)eQ=dd=.5;else{eQ=hZ*(.5-hA)/(.5/hA-1);dd=1-hZ*(.5-hA)-1/(2*(1-hA));dd/=1-1/(2*(1-hA))}X={type:E.Uh,abM:gV,ry:X[6]?1:0,ayd:dt.Ns,ZT:hA,aax:hZ,VY:eQ,apv:dd}}if(w=="blnc"){var f=[],dp=["ShdL","MdtL","HghL"];
for(var P=0;P<3;P++){if(I[dp[P]]==null){f[P]=[0,0,0];continue}var eh=I[dp[P]].v,i_=eh[0].v/100,by=eh[1].v/100,jK=eh[2].v/100,cc=I.PrsL==null||I.PrsL.v?(Math.min(i_,by,jK)+Math.max(i_,by,jK))/2:0;
f[P]=[i_-cc,by-cc,jK-cc]}var G=[Q.$(256),Q.$(256),Q.$(256)];for(var S=0;S<3;S++)for(var P=0;P<256;P++){var Z=P*(1/255),jo=0,a=0,ge=0;
a=f[2][S];ge=Math.abs(a);if(a<0)jo=Math.pow(Z,Math.SQRT2);else jo=1.63*(Math.pow(Z+.04,.5)-.2);Z=ge*jo+(1-ge)*Z;
a=f[1][S];ge=Math.abs(a);if(a<0)jo=Math.pow(Z,2);else jo=Math.min(2.35*(Math.pow(Z+.09,.5)-.3),Math.pow(Z,1/2));
Z=ge*jo+(1-ge)*Z;a=f[0][S];ge=Math.abs(a);if(a<0)jo=Z<.4?0:Math.pow((Z-.4)/.6,Math.SQRT2);else jo=Math.pow(Z,Math.SQRT2/2);
Z=ge*jo+(1-ge)*Z;Z=Math.max(0,Math.min(1,Z));G[S][P]=Math.round(Z*255)}X={type:E.h5,pu:G[0],uk:G[1],_h:G[2],SG:!1,ue:!1}}if(w=="phfl"){var gH=Q.N.BL(I.Clr.v),cv=[gH.o/255,gH.P/255,gH.L/255],jN=I.Dnst.v/100,G=[Q.$(256),Q.$(256),Q.$(256)];
for(var S=0;S<3;S++)for(var P=0;P<256;P++){var Z=P*(1/255),fg=Z*cv[S];fg=Math.max(0,Math.min(1,fg));
Z=jN*fg+(1-jN)*Z;G[S][P]=Math.round(Z*255)}X={type:E.h5,pu:G[0],uk:G[1],_h:G[2],SG:!1,ue:I.PrsL.v}}if(w=="thrs"){var u=Q.$(256);
for(var P=I.Lvl.v;P<256;P++)u[P]=255;X={type:E.h5,pu:u,uk:u,_h:u,SG:!0,ue:!1}}if(w=="mixr"){var el=cz.AP(I),L=[];
for(var P=0;P<el.k.length;P++)if(P%5!=3)L.push(el.k[P]/100);if(el.R2){for(var cf=1;cf<3;cf++)for(var Z=0;
Z<4;Z++)L[cf*4+Z]=L[Z]}X={type:E.g2,Ea:L}}if(w=="rplc"){var gW=I.Mnm.v,dl=I.Mxm.v;X={type:E.Pj,fw:[gW.Lmnc.v,gW.A.v,gW.B.v],sv:[dl.Lmnc.v,dl.A.v,dl.B.v],shift:[I.H.v/360,I.Strt.v/100,I.Lght.v/100],_K:I.Fzns.v/150}}if(w=="clrL"&&I.profile){var f5=new Uint8Array(I.profile.v),aX=ICC.R(f5.buffer),dK=[],e4=17,dK=ICC.U.sampleLUT(aX,e4);
X={type:E.vW,T1:ICC.U.rgba8LUT(dK,e4),a4D:dK,wk:e4}}return X};cz.CP=function(w,I){var E=-1;if(w!="levl"||I==null)E=-1;
else if(I.Auto)E=0;else if(I.AuCo)E=1;else if(I.autoBlackWhite)E=2;return E};cz.$P={h5:0,h9:1,EG:2,fB:3,Uh:4,g2:5,Pj:6,vW:7};
cz.T$=function(w){if(w<0)return w;return Math.pow(Math.tan(Math.PI/2*w),1.3)};cz.ab$=function(w){if(w<0)return w;
w=Math.pow(w,1/1.3);return Math.atan2(w,1)/(Math.PI/2)};cz.$Z=function(w,I,E,X){var o=cz.$P,i=Date.now();
if(R.U7&&X.A()>300*300&&w.type!=o.h5&&w.type!=o.vW){X=X.clone();X.x=X.y=0;var h=R.uD(0,X.q,X.w);h.set(I);
R.yS(h,X);h.Xt(X);cz.iN(w,h.T6,X);h.get(E);return}if(w.type==o.vW){var k=w.a4D,x=w.wk;ICC.U.applyLUT(k,x,I,E);
var j=I.length;for(var P=0;P<j;P+=4)E[P+3]=I[P+3]}if(w.type==o.g2)Q.vU.NU(I,E,w.Ea);if(w.type==o.Uh){var v=w.aax,_=w.ZT,L=w.VY,U=w.apv,j=I.length;
for(var P=0;P<j;P+=4){var X=I[P]*(1/255),n=I[P+1]*(1/255),a=I[P+2]*(1/255),T=Q.fz(X,n,a),g=0;for(var D=0;
D<6;D++)g+=Math.min(1,1.7*(1-T.U4))*T.Ls*w.abM[D]*cz.apE(T.Ns,D*(1/6));var b=Math.max(0,Math.min(1,T.U4*(1+g)));
if(w.ry==1){var N=0;if(b<L)N=b*(.5/_);else if(b<U)N=b+v*(.5-_);else N=1-(1-b)*.5/(1-_);T.Ns=w.ayd;T.Ls=Math.min(1,v+3*v*Math.abs(b-.5*(L+U)));
T.U4=N}else{T.Ns=0;T.Ls=0;T.U4=b}var C=Q.a2(T.Ns,T.Ls,T.U4);E[P]=Math.round(C.o*255);E[P+1]=Math.round(C.P*255);
E[P+2]=Math.round(C.L*255)}}if(w.type==o.fB){var Z=w.adb,j=I.length,S=1/255;for(var P=0;P<j;P+=4){var X=I[P]*S,n=I[P+1]*S,a=I[P+2]*S,T=Q.fz(X,n,a),u=Math.max(X,Math.max(n,a)),p=Math.min(X,Math.min(n,a)),f=1-X,d=1-n,l=1-a,A=0,B=0,e=0;
for(var D=0;D<9;D++){var m=D*6,F=0;if(Z[m]==1&&Z[m+1]==1&&Z[m+2]==1&&Z[m+3]==0&&Z[m+4]==0&&Z[m+5]==0)continue;
var $=f*Z[m]+Z[m+3],V=d*Z[m+1]+Z[m+4],H=l*Z[m+2]+Z[m+5];if(D<6)F=cz.apE(T.Ns,D*(1/6))*T.Ls*2*Math.min(T.U4,1-T.U4);
else if(D==6)F=Math.max(0,p-.5)*2;else if(D==7)F=1-(Math.abs(u-.5)+Math.abs(p-.5));else F=Math.max(0,.5-u)*2;
A+=(Math.max(0,Math.min(1,$))-f)*F;B+=(Math.max(0,Math.min(1,V))-d)*F;e+=(Math.max(0,Math.min(1,H))-l)*F}f=Math.max(0,Math.min(1,f+A));
d=Math.max(0,Math.min(1,d+B));l=Math.max(0,Math.min(1,l+e));X=1-f;n=1-d;a=1-l;E[P]=Math.round(X*255);
E[P+1]=Math.round(n*255);E[P+2]=Math.round(a*255)}}if(w.type==o.h5){Q.a5k(I,E,w.pu,w.uk,w._h,w.SG,w.ue)}if(w.type==o.h9){var G=new Uint32Array(I.buffer),J=new Uint32Array(E.buffer),j=G.length;
if(cz.OL==null){cz.OL=new Float64Array(256);for(var P=0;P<256;P++)cz.OL[P]=cz.T$(-1+2*P/255)}var c=cz.OL;
for(var P=0;P<j;P++){var r=G[P],X=(r&255)*(1/255),n=(r>>>8&255)*(1/255),a=(r>>>16&255)*(1/255),s=r>>>24,z=Math.min(X,n,a),Y=Math.max(X,n,a),ax=0,iW=0,y=0;
ax=Q.fz(X,n,a).Ns;var hm=~~(ax*255+.5),t=w.ar6[hm]*(1/255),cT=w.am[hm]*(1/255)*2-1,c4=w.avS[hm]*(1/255)*2-1,g=-c4,kv=z;
if(0<c4){g=c4;kv=Y}var iL=w.a01+w.hq*g*kv,cr=w.hq*(1-g);X=iL+cr*X;n=iL+cr*n;a=iL+cr*a;Y=Math.max(X,n,a);
z=Math.min(X,n,a);y=(Y+z)*.5;if(Y!=z){var ga=Y-z;iW=y>.5?ga/(2-(Y+z)):ga/(Y+z)}var iq=cT;if(w.amn==0){cT=c[Math.floor((1+cT)*127.5)];
iq=Math.min(iW*(1+cT),1)}var C=Q.a2(t,iq,y);X=C.o;n=C.P;a=C.L;J[P]=s<<24|a*255<<16|n*255<<8|X*255}}if(w.type==o.Pj){Q.QM(I,E);
var G=new Uint32Array(I.buffer),J=new Uint32Array(E.buffer),j=G.length,ei=w._K,hw=1/ei,hC={wb:w.fw[0],lV:w.fw[1],L:w.fw[2]},j5={wb:w.sv[0],lV:w.sv[1],L:w.sv[2]};
for(var P=0;P<j;P++){var r=G[P],ed=r&255,jn=r>>>8&255,fj=r>>>16&255,X=ed*(1/255),n=jn*(1/255),a=fj*(1/255),s=r>>>24,di=Q.HX(ed,jn,fj),b1=Q.kh(di,hC,j5,ei,hw);
if(b1==0)continue;var T=Q.fz(X,n,a),t=2+T.Ns+w.shift[0];T.Ns=t-~~t;T.Ls=Math.max(0,Math.min(1,T.Ls+w.shift[1]));
T.U4=Math.max(0,Math.min(1,T.U4+w.shift[2]));var C=Q.a2(T.Ns,T.Ls,T.U4);X=(1-b1)*X+b1*C.o;n=(1-b1)*n+b1*C.P;
a=(1-b1)*a+b1*C.L;J[P]=s<<24|a*255<<16|n*255<<8|X*255}}if(w.type==o.EG){var G=new Uint32Array(I.buffer),J=new Uint32Array(E.buffer),j=G.length,dI=w.GT[0],h2=w.GT[1],de=w.GT[2],g=w.GT[3],ds=Q.vU._k([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),jO=Q.vU.ja(ds),gy=2.4;
console.log(jO);function x(hy){return Math.max(0,Math.min(1,hy))}function fV(hy){return Math.pow(hy,gy)}function hl(hy){return Math.pow(hy,1/gy)}function im(X,n,a,hy){X=fV(X);
n=fV(n);a=fV(a);var dm=Q.vU.mm(ds,[X,n,a,1]);dm[0]*=de;dm[1]*=g;dm[2]*=g;var C=Q.vU.mm(jO,dm);C[0]=hl(x(C[0]));
C[1]=hl(x(C[1]));C[2]=hl(x(C[2]));return C}for(var P=0;P<j;P++){var r=G[P],X=(r&255)*(1/255),n=(r>>>8&255)*(1/255),a=(r>>>16&255)*(1/255),s=r>>>24,C=im(X,n,a,dI);
X=C[0];n=C[1];a=C[2];var eA=Q.fz(X,n,a);eA.Ls=Math.max(0,Math.min(1,eA.Ls*(1+h2)));C=Q.a2(eA.Ns,eA.Ls,eA.U4);
X=C.o;n=C.P;a=C.L;J[P]=s<<24|a*255<<16|n*255<<8|X*255}}};cz.iN=function(w,I,E){R._T.iN(w,I)};cz.apE=function(w,I){var E=Q.B1(I,w)*6;
return Math.max(0,Math.min(1,E<0?1+E:1-E))};var gD={};gD.N6=function(w){var I=w.filterID.v;return I>16777215?M.avC(I):w.Fltr.v.classID};
gD.in=[{Pz:"GEfc"},{Pz:"LnCr"},{Pz:"Adobe Camera Raw Filter"},{Pz:"LqFy",Lf:!0},{X9:"3D",EE:["lightFilterGradient","Dila"]},{X9:[24,2],EE:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{X9:[24,4],EE:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{X9:[24,6],EE:["AdNs","Dspc","DstS","Mdn ","denoise"]},{X9:[24,8],EE:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{X9:[24,10],EE:["Flam","Clds","DfrC","Fbrs","LnsF"]},{X9:[24,12],EE:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{X9:[24,14],EE:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{X9:[24,16],EE:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{X9:"Fourier",EE:["dDFT","iDFT"]}];
gD.ZI={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
gD.Z_={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",BrightnessContrast:"brit"};
gD.a={rigidTransform:q.Ig};gD.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",Dila:"Texture Dilation",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
gD.SX=function(w){var I=null;if(w=="GEfc")I={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:c8.SX("GlwE")}]}};
if(w=="LqFy"){var E={LQ:5,Ns:5,map:new Float32Array(5*5*2)},X=new Uint8Array(bl.Fo(E)),o=[];for(var P=0;
P<X.length;P++)o.push(X[P]);I={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:o}}}if(w=="rigidTransform"){I={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(w=="LnCr")I={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(w=="adaptCorrect")I={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(w=="Dfs ")I={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(w=="Fbrs")I={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(w=="Embs")I={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(w=="oilPaint")I={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(w=="TrcC")I={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(w=="Wnd ")I={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(w=="lightFilterGradient")I={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(w=="boxblur")I={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(w=="GsnB")I={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(w=="Bokh")I={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(w=="MtnB")I={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(w=="RdlB")I={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(w=="surfaceBlur")I={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(w=="denoise")I={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(w=="Dspl")I={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(w=="Pnch")I={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(w=="Plr ")I={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(w=="Rple")I={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(w=="Shr ")I={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(w=="Sphr")I={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(w=="Twrl")I={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(w=="Wave")I={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(w=="ZgZg")I={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(w=="AdNs")I={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(w=="DstS")I={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(w=="Mdn ")I={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(w=="ClrH")I={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(w=="Crst")I={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(w=="Mztn")I={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(w=="Msc ")I={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(w=="Pntl")I={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(w=="LnsF")I={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(w=="Dthr")I={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(w=="Part")I={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(w=="Adobe Camera Raw Filter")I={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(w=="smartSharpen")I={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(w=="UnsM")I={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(w=="HghP")I={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(w=="HsbP")I={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(w=="Mxm ")I={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(w=="Mnm ")I={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(w=="Ofst")I={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(w=="Kale")I={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(w=="Rept")I={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(w=="Flam")I={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(w=="Ctoa")I={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(w=="brit")I={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(w=="levl")I={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(w=="curv")I={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(w=="expA")I={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(w=="vibA")I={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(w=="hue2")I={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(w=="blnc")I={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(w=="blwh")I={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(w=="phfl")I={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(w=="grdm")I={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(hL.zd[6]).Grad};
if(w=="selc")I={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(w=="thrs")I={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(w=="mixr")I={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(w=="clrL")I={__name:"Color Lookup",classID:"colorLookup"};if(w=="post")I={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(w=="rplc")I={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(w=="fade")I={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(w=="aply")I={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(w=="matc"){I={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(w=="Dila")I={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(w=="blendOptions")I={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return I};gD._$={sFlam:function(w,I){I[0]=w.Type.v;I[1]=w.Leng.v;I[2]=w.RndL.v;I[3]=w.Widt.v;I[4]=w.Angl.v;
I[5]=w.Intr.v;I[6]=w.Adpt.v;I[7]=w.Clr.v;I[8]=w.Qual.v;I[9]=w.Turb.v;I[10]=w.Jag.v;I[11]=w.Opct.v.val;
I[12]=w.Lins.v;I[13]=w.Botm.v;I[14]=w.Styl.v;I[15]=w.Shap.v;I[16]=w.RnSh.v;I[17]=w.Arng.v},gFlam:function(w,I){w.Type.v=I[0];
w.Leng.v=I[1];w.RndL.v=I[2];w.Widt.v=I[3];w.Angl.v=I[4];w.Intr.v=I[5];w.Adpt.v=I[6];w.Clr.v=I[7];w.Qual.v=I[8];
w.Turb.v=I[9];w.Jag.v=I[10];w.Opct.v.val=I[11];w.Lins.v=I[12];w.Botm.v=I[13];w.Styl.v=I[14];w.Shap.v=I[15];
w.RnSh.v=I[16];w.Arng.v=I[17]},sAdNs:function(w,I){I[0]=w.Nose.v.val;I[1]=["Gsn","Unfr"].indexOf(w.Dstr.v.Dstr);
I[2]=w.Mnch.v},gAdNs:function(w,I){w.Nose.v.val=I[0];w.Dstr.v.Dstr=["Gsn","Unfr"][I[1]];w.Mnch.v=I[2]},sDstS:function(w,I){I[0]=w.Rds.v;
I[1]=w.Thsh.v},gDstS:function(w,I){w.Rds.v=I[0];w.Thsh.v=I[1]},sGsnB:function(w,I){I[0]=w.Rds.v.val},gGsnB:function(w,I){w.Rds.v.val=I[0]},sDila:function(w,I){I[0]=w.Crop.v.val;
I[1]=w.Rds.v.val},gDila:function(w,I){w.Crop.v.val=I[0];w.Rds.v.val=I[1]},sHghP:function(w,I){I[0]=w.Rds.v.val},gHghP:function(w,I){w.Rds.v.val=I[0]},sHsbP:function(w,I){var E=["RGBC","HSBl","HSLC"];
I[0]=E.indexOf(w.Inpt.v.ClrS);I[1]=E.indexOf(w.Otpt.v.ClrS)},gHsbP:function(w,I){var E=["RGBC","HSBl","HSLC"];
w.Inpt.v.ClrS=E[I[0]];w.Otpt.v.ClrS=E[I[1]]},"sMxm ":function(w,I){var E="preserveShape";I[0]=w.Rds.v.val;
I[1]=w[E]?["squareness","Rndn"].indexOf(w[E].v[E]):0},"gMxm ":function(w,I){var E="preserveShape";w.Rds.v.val=I[0];
w[E]={t:"enum",v:{preserveShape:["squareness","Rndn"][I[1]]}}},"sMnm ":function(w,I){var E="preserveShape";
I[0]=w.Rds.v.val;I[1]=w[E]?["squareness","Rndn"].indexOf(w[E].v[E]):0},"gMnm ":function(w,I){var E="preserveShape";
w.Rds.v.val=I[0];w[E]={t:"enum",v:{preserveShape:["squareness","Rndn"][I[1]]}}},sMtnB:function(w,I){I[0]=[w.Angl.v];
I[1]=w.Dstn.v.val;console.log(I)},gMtnB:function(w,I){w.Angl.v=typeof I[0]=="number"?I[0]:I[0][0];w.Dstn.v.val=I[1]},sOfst:function(w,I){I[0]=w.Hrzn.v;
I[1]=w.Vrtc.v;I[2]=["Rpt","Bckg","Wrp"].indexOf(w.Fl.v.FlMd)},gOfst:function(w,I){w.Hrzn.v=I[0];w.Vrtc.v=I[1];
w.Fl.v.FlMd=["Rpt","Bckg","Wrp"][I[2]]},sPnch:function(w,I){I[0]=w.Amnt.v},gPnch:function(w,I){w.Amnt.v=I[0]},"sPlr ":function(w,I){I[0]=["RctP","PlrR"].indexOf(w.Cnvr.v.Cnvr)},"gPlr ":function(w,I){w.Cnvr.v.Cnvr=["RctP","PlrR"][I[0]]},sRple:function(w,I){I[0]=w.Amnt.v;
I[1]=["Sml","Mdm","Lrg"].indexOf(w.RplS.v.RplS)},gRple:function(w,I){w.Amnt.v=I[0];w.RplS.v.RplS=["Sml","Mdm","Lrg"][I[1]]},sTwrl:function(w,I){I[0]=w.Angl.v},gTwrl:function(w,I){w.Angl.v=I[0]},sZgZg:function(w,I){I[0]=w.Amnt.v;
I[1]=w.NmbR.v;I[2]=["ArnC","OtFr","PndR"].indexOf(w.ZZTy.v.ZZTy)},gZgZg:function(w,I){w.Amnt.v=I[0];
w.NmbR.v=I[1];w.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][I[2]]},sUnsM:function(w,I){I[0]=w.Amnt.v.val;I[1]=w.Rds.v.val;
I[2]=w.Thsh.v},gUnsM:function(w,I){w.Amnt.v.val=I[0];w.Rds.v.val=I[1];w.Thsh.v=I[2]},sWave:function(w,I){I[0]=w.NmbG.v;
I[1]=w.WLMn.v;I[2]=w.WLMx.v;I[3]=w.AmMn.v;I[4]=w.AmMx.v;I[5]=w.SclH.v;I[6]=w.SclV.v;I[7]=["WvSn","WvTr","WvSq"].indexOf(w.Wvtp.v.Wvtp);
I[8]=["WrpA","RptE"].indexOf(w.UndA.v.UndA);I[9]=w.RndS.v},gWave:function(w,I){w.NmbG.v=I[0];w.WLMn.v=I[1];
w.WLMx.v=I[2];w.AmMn.v=I[3];w.AmMx.v=I[4];w.SclH.v=I[5];w.SclV.v=I[6];w.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][I[7]];
w.UndA.v.UndA=["WrpA","RptE"][I[8]];if(I[9]!=null){var E=parseInt(I[9]);if(isNaN(E))E=248325464;E=Math.max(0,Math.min(268435455,E));
w.RndS.v=E}},sbrit:function(w,I){I[0]=w.Brgh?w.Brgh.v:0;I[1]=w.Cntr?w.Cntr.v:0;I[2]=w.useLegacy?w.useLegacy.v:!1},gbrit:function(w,I){w.Brgh.v=I[0];
w.Cntr.v=I[1];if(I[2]!=null)w.useLegacy.v=I[2]}};gD.axM=function(w){var I=new a5(0,0);if(w.enab.v==!1)return I;
var E=w.filterFXList.v;for(var P=0;P<E.length;P++){var X=E[P].v;if(X.enab.v==!1)continue;var o=gD.N6(X),i=gD.d7(o,X.Fltr?X.Fltr.v:null);
if(i.x>I.x)I.x=i.x;if(i.y>I.y)I.y=i.y}return I};gD.d7=function(w,I){var E=0,X=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(w)!=-1){var o=I.Rds?I.Rds.v.val:1;
E=X=o*2.57}if(w=="MtnB")E=X=I.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(w)!=-1){E=X=1e4}if(w=="GEfc")return c8.d7(I);
return new a5(Math.ceil(E),Math.ceil(X))};gD.WU=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
gD.j1=function(w,I){var E={o:I.Ht>>16,P:I.Ht>>8&255,L:I.Ht&255},X={o:I.Mw>>16,P:I.Mw>>8&255,L:I.Mw&255},o=gD.names[w];
if(o==null)o=cz.names[w];var i=w;for(var h in cz.u6)if(cz.u6[h]==w)i=h;var k={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:df.get(o)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:Q.N.Ex(E)},BckC:{t:"Objc",v:Q.N.Ex(X)},filterID:{t:"long",v:i.length==4?M.a7y(i):777}}},x=gD.SX(w);
if(x)k.v.Fltr={t:"Objc",v:x};return k};gD._y=function(w,I,E,X){var o=Date.now(),i=R.U7&&Math.max(X.q,X.w)<=R.vu.getParameter(R.vu.MAX_TEXTURE_SIZE);
if(w<1){var h=Math.round(w*5),k=[1,2,1,2,[40,26,13,6,4,2][h],2,1,2,1];k=Q.Zi.FT(k);if(!i){Q.mO(E);var x=E.slice(0);
Q.Zi.Q3(x,E,X.q,X.w,k,255);Q.Hq(E)}else{var j=X.q,v=X.w,_=R.uD(0,j,v);_.set(E);var L=R.uD(1,j,v),U=new Float32Array([1/j,1/v]);
R.yS(L);R.filter.iN({type:R.filter.akC,lI:U,alm:new Float32Array(k)},_.q3);L.get(E)}}else{var n=I==Q.iG.oT?0:I==Q.iG.KL?1:2,a=[];
while(n!=2&&w*[1,2.4][n]>20&&a.length<4){var T=Q.BH(E,X);a.push(E,X);E=T.Fr;X=T.rect;w/=2}var j=X.q,v=X.w;
if(!i||n==2&&w>15){Q.mO(E);I(E,X,w);Q.Hq(E)}else{var _=R.uD(0,j,v);_.set(E);var L=R.uD(1,j,v),U=new Float32Array([1/j,1/v]);
if(n==0){var g=1;while(g<w)g<<=1;R.yS(L);R.filter.iN({type:R.filter.zV,lI:U,Ae:w,iw:[0,0,g]},_.q3);R.yS(_);
R.filter.iN({type:R.filter.zV,lI:U,Ae:w,iw:[0,1,g]},L.q3);_.get(E)}else if(n==1){var D=3,b=Q.iG.Us(w,D);
for(var P=0;P<D;P++){var N=b[P]>>>1,C=1;while(C<N)C<<=1;if(N==0)continue;R.yS(L);R.filter.iN({type:R.filter.zV,lI:U,Ae:N,iw:[0,0,C]},_.q3);
R.yS(_);R.filter.iN({type:R.filter.zV,lI:U,Ae:N,iw:[0,1,C]},L.q3)}_.get(E)}else{var g=1;while(g<w)g<<=1;
R.yS(L);R.filter.iN({type:R.filter.zV,lI:U,Ae:w,iw:[0,0,g]},_.q3);L.get(E)}}var Z=Date.now();while(a.length!=0){var S=a.pop(),u=a.pop();
Q.scale.at6(E,X.q,X.w,u,S.q,S.w);E=u;X=S}}};gD.awe=function(w,I,E,X){for(var P=0;P<w.length;P++){E[P]=w[P]*(1/255);
X[P]=0}FFT.fft2d(E,X);var o=I>>>1,i=16384,h=128,x=100;while(h<I){h<<=1;i<<=2}var k=255/Math.log(i),j=-100;
for(var v=0;v<I;v++)for(var _=0;_<o;_++){var L=I+o+v&I-1,U=E[L*I+_],n=X[L*I+_],a=Math.sqrt(U*U+n*n),T=Math.atan2(n,U);
w[v*I+_]=Math.round(k*Math.log(a+1));w[v*I+o+_]=Math.round((Math.PI+T)*(255*.5/Math.PI))}};gD.auD=function(w,I,E,X){E.fill(0);
X.fill(0);var o=I>>>1,i=16384,h=128;while(h<I){h<<=1;i<<=2}var k=255/Math.log(i),x=[],j=[],v=[];for(var P=0;
P<256;P++){x[P]=Math.exp(P/k)-1;var _=P*(2*Math.PI/255)-Math.PI;j[P]=Math.sin(_);v[P]=Math.cos(_)}for(var L=0;
L<I;L++)for(var U=0;U<o;U++){var n=I+o+L&I-1,a=x[w[L*I+U]],_=w[L*I+o+U],T=a*v[_],g=a*j[_];E[n*I+U]=T;
X[n*I+U]=g;if(U!=0){var D=n==0?n*I+I-U:(I-n)*I+(I-U);E[D]=T;X[D]=-g}}FFT.ifft2d(E,X);for(var P=0;P<w.length;
P++){w[P]=Math.max(0,Math.min(255,~~(.5+255*E[P])))}};gD.auM=new ArrayBuffer(512);gD.abu=function(w){var I=gD.auM,E=w.length;
if(I.byteLength<E)gD.auM=I=new ArrayBuffer(E);var X=new Uint8Array(I);for(var P=0;P<E;P+=4){X[P]=w[P];
X[P+1]=w[P+1];X[P+2]=w[P+2];X[P+3]=w[P+3]}return I};gD.$Z=function(w,I,E,X,o,i,h){if(i==null)i={buffer:Q.$(I.buffer.length),rect:I.rect.clone()};
i.buffer.set(I.buffer);var k=E&&E.RndS?E.RndS.v>>>1:0;if(w=="GEfc"){var x=[];if(E.GEfs){var j=E.GEfs.v;
for(var P=0;P<j.length;P++){var v=j[P].v;if(v.GELv&&v.GELv.v==!1)continue;x.push(v)}}else x=[E];for(var P=0;
P<x.length;P++){var _;if(P==0)c8.$Z(w,I,x[P],X,o,i,h);else{if(_==null)_={buffer:Q.$(I.buffer.length),rect:I.rect.clone()};
Q.QM(i.buffer,_.buffer);c8.$Z(w,_,x[P],X,o,i,h)}}}if(w=="Dila"){var L=E.Crop.v.val,U=E.Rds.v.val+L;U=U*U;
if(U==0)return;var n=I.rect,a=n.q,T=n.w,g=a*T,D=I.buffer,_=i.buffer,b=Q.$(g);Q.qe(D,b,3);if(L!=0){var N=n.clone();
N.Cs(1,1);var C=Q.$(N.A());Q.b_(b,n,C,N);Q.ja(C);Q.style.stroke(C,C,N,L);Q.ja(C);Q.b_(C,N,b,n)}var Z=Q.style.kA(b,a,T);
_.fill(0);for(var S=0;S<T;S++)for(var u=0;u<a;u++){var P=S*a+u,p=P<<1,f=P<<2,d=Z[p],l=Z[p+1];if(d*d+l*l<U){var A=(S+l)*a+(u+d)<<2;
_[f]=D[A];_[f+1]=D[A+1];_[f+2]=D[A+2];_[f+3]=255}}}if(w=="Adobe Camera Raw Filter"){var n=I.rect,a=n.q,T=n.w,g=a*T,B=g*4,e=g*3,m=new Float32Array(a*T*3),$=I.buffer;
for(var P=0;P<g;P++){var V=P*3,f=P*4;m[V]=$[f]*(1/255);m[V+1]=$[f+1]*(1/255);m[V+2]=$[f+2]*(1/255)}var H=JSON.parse(JSON.stringify(E));
delete H.Upri;delete H.GuUr;var F=m.slice(0);eD(m,a,T,F,H);m=F;$=i.buffer;for(var P=0;P<g;P++){var V=P*3,f=P*4;
$[f]=255*Math.max(0,Math.min(1,m[V]));$[f+1]=255*Math.max(0,Math.min(1,m[V+1]));$[f+2]=255*Math.max(0,Math.min(1,m[V+2]))}}if(w=="Fct "){var n=I.rect,a=n.q,T=n.w,g=a*T,B=g*4;
function G(g5){var jO=g5.slice(0);for(var S=0;S<3;S++)for(var u=0;u<3;u++)jO[S*3+u]=g5[(2-u)*3+S];return jO}function J(bw,d8,cp,hk){var bx=0;
for(var S=0;S<3;S++)for(var u=0;u<3;u++)bx+=d8[S*3+u]*bw[(hk-1+S)*a+cp-1+u];return bx}var c=[8,5,2,5,2,-1,2,-1,-4],r=[5,5,5,2,2,2,-1,-1,-1],s=[2,2,2,2,2,2,2,2,2],z=[];
z.push(c);for(var P=0;P<3;P++)z.push(G(z[z.length-1]));z.push(r);for(var P=0;P<3;P++)z.push(G(z[z.length-1]));
z.push(s);for(var P=0;P<9;P++)z[P]=Q.Zi.FT(z[P]);var Y=[-a-1,-a,-a+1,-1,0,1,a-1,a,a+1],ax=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],iW=Q.$(g),y=new Float32Array(g),F=Q.$(g);
for(var hm=0;hm<3;hm++){Q.qe(I.buffer,iW,hm);for(var t=0;t<1;t++){for(var S=1;S<T-1;S++)for(var u=1;
u<a-1;u++){var cT=S*a+u,c4=iW[cT];y[cT]=1e9;for(var P=0;P<9;P++){var kv=J(iW,z[P],u,S),iL=(kv-c4)*(kv-c4);
if(iL<y[cT])y[cT]=iL}}for(var S=1;S<T-1;S++)for(var u=1;u<a-1;u++){var cr=0,ga=1e9;for(var P=0;P<9;P++){var iq=S*a+u+Y[P],iL=y[iq];
if(iL<ga){ga=iL;cr=iW[iq]}}F[S*a+u]=cr}iW.set(F)}Q.lJ(F,i.buffer,hm)}}if(w=="adaptCorrect"){var n=I.rect,a=n.q,T=n.w,g=a*T,B=g*4,ei=E.sdwM.v,hw=ei.Amnt.v.val/100,hC=ei.Wdth.v.val/100,j5=ei.Rds.v,ed=E.hglM.v,jn=ed.Amnt.v.val/100,fj=ed.Wdth.v.val/100,di=ed.Rds.v;
Q.s2.aoe(I.buffer,i.buffer,a,T,hw,hC,j5,jn,fj,di,E.ClrC.v/100,E.Cntr.v/100)}if(w=="denoise"){var n=I.rect,a=n.q,T=n.w,b1=E.channelDenoise.v[0].v;
Q.XJ.a8P(I.buffer,a,T,i.buffer,b1.Amnt.v/10,b1.EdgF.v/100)}if(w=="HsbP"){var h2=E.Inpt.v.ClrS,de=E.Otpt.v.ClrS,n=I.rect,a=n.q,T=n.w,g=a*T;
for(var P=0;P<g;P++){var f=P*4,t=I.buffer[f]*(1/255),ds=I.buffer[f+1]*(1/255),jO=I.buffer[f+2]*(1/255);
if(h2=="RGBC"){}else if(h2=="HSLC"){var F=Q.a2(t,ds,jO);t=F.o;ds=F.P;jO=F.L}else if(h2=="HSBl"){var F=Q.ac$(t,ds,jO);
t=F.o;ds=F.P;jO=F.L}var gy=t,fV=ds,hl=jO;if(de=="RGBC"){}else if(de=="HSLC"){var F=Q.fz(t,ds,jO);gy=F.Ns;
fV=F.Ls;hl=F.U4}else if(de=="HSBl"){var F=Q.a8e(t,ds,jO);gy=F.Ns;fV=F.Ls;hl=F.L}i.buffer[f]=~~(255*gy);
i.buffer[f+1]=~~(255*fV);i.buffer[f+2]=~~(255*hl)}}if(w=="Fbrs"){var n=I.rect,a=n.q,T=n.w;Q._.Fb(I.buffer,a,T,i.buffer,[E.Vrnc.v,E.Strg.v,k]);
var im=Q.$(a*T);Q.qe(i.buffer,im,0);Q.ja(im);c8.EP(im,i.buffer,X,o)}if(w=="Frgm"){var n=I.rect,a=n.q,T=n.w,eA=I.buffer.slice(0);
Q.mO(eA);Q._.att(eA,a,T,i.buffer);Q.Hq(i.buffer)}if(w=="Flam"){var n=I.rect,a=n.q,T=n.w,hy=E.Clr.v,dm={type:E.Type.v+1,length:E.Leng.v,ast:E.RndL.v,MK:E.Widt.v,afZ:E.Angl.v,a6$:E.Intr.v,a1g:E.Adpt.v,color:{o:hy.Rd.v,P:hy.Grn.v,L:hy.Bl.v},IM:E.Qual.v+1,Ui:E.Turb.v,$w:E.Jag.v,opacity:E.Opct.v.val,zv:E.Lins.v,ahk:E.Botm.v,style:E.Styl.v+1,shape:E.Shap.v+1,ac1:E.RnSh.v,apN:E.Arng.v,a2u:!1},hA=h[3],j2=hA[0],dQ=hA[1],aS=j2[dQ.length!=0?dQ[0]:0];
if(aS==null){alert("Make a path first");return}var eh=aS.add.vmsk.j,h_=Q.O.RZ(eh),h6=[];for(var A=0;
A<h_;A++){var gT=Q.O.ny(eh,A),b8=eh[gT];if(b8.length<2)continue;var hP=[];h6.push(hP);var b5=b8.length-(b8.type==3?1:0);
for(var cT=0;cT<b5;cT++){var ar=eh[gT+1+cT],cG=cT==b8.length-1?eh[gT+1]:eh[gT+1+cT+1],bd=ar.H,aZ=ar.kk,c=cG.DX,gl=cG.H,ci=Math.round(a5.GZ(bd,gl)/5);
for(var a7=0;a7<ci;a7++){var ay=a7/ci,it=1-ay,u=it*it*it*bd.x+3*it*it*ay*aZ.x+3*it*ay*ay*c.x+ay*ay*ay*gl.x,S=it*it*it*bd.y+3*it*it*ay*aZ.y+3*it*ay*ay*c.y+ay*ay*ay*gl.y;
hP.push(u,S)}}}var h1=[h6,dm],hM=Date.now(),dn=fR(h1);fW(I.buffer,a,T,i.buffer,dn,h1)}if(w=="Dfs "){var n=I.rect,a=n.q,T=n.w,gV=["Nrml","DrkO","LghO","anisotropic"].indexOf(E.Md.v.DfsM);
if(gV<3)Q._.auP(I.buffer,a,T,i.buffer,[gV]);else{var h1=[1.4,1.6,1,4,!1,2,[0,0,.001]],n=I.rect.clone();
n.x=n.y=0;Q.mN.filter(I.buffer,n,i.buffer,h1)}}if(w=="TrcC"){var n=I.rect,a=n.q,jv=a<<2,T=n.w,dt=E.Lvl.v,hZ=E.Edg.v.CntE=="Lwr",eQ=I.buffer,dd=i.buffer;
Q.Ez(dd,16777215,4278190080);function dp(j_,e3){by(j_,e3);by(j_+1,e3+1);by(j_+2,e3+2)}function i_(j_,e3){jK(j_,e3);
jK(j_+1,e3+1);jK(j_+2,e3+2)}function by(j_,e3){var gy=eQ[j_],fV=eQ[e3];if(gy>=dt&&fV<dt)dd[j_]=0;if(gy<dt&&fV>=dt)dd[e3]=0}function jK(j_,e3){var gy=eQ[j_],fV=eQ[e3];
if(gy>dt&&fV<=dt)dd[e3]=0;if(gy<=dt&&fV>dt)dd[j_]=0}if(hZ)for(var S=1;S<T;S++)for(var u=1;u<a;u++){var f=S*a+u<<2;
dp(f,f-4);dp(f,f-jv)}else for(var S=1;S<T;S++)for(var u=1;u<a;u++){var f=S*a+u<<2;i_(f,f-4);i_(f,f-jv)}}if(w=="Embs"){var n=I.rect,a=n.q,T=n.w,cc=-E.Angl.v*Math.PI/180,jo=E.Hght.v,ge=E.Amnt.v/100;
jo/=2;var d=Math.cos(cc)*jo,l=Math.sin(cc)*jo,eQ=I.buffer,dd=i.buffer;dd.fill(0);var gH=new Uint32Array(eQ.buffer),F=new Uint8Array(4),cv=new Uint32Array(F.buffer);
for(var S=0;S<T;S++)for(var u=0;u<a;u++){var jN=0,fg=0,el=0;if(0<=u+d&&u+d<a&&0<=S+l&&S+l<T){Q.K.ks(u+d+.5,S+l+.5,gH,a,T,cv,0,0);
jN+=F[0]-128;fg+=F[1]-128;el+=F[2]-128}if(0<=u-d&&u-d<a&&0<=S-l&&S-l<T){Q.K.ks(u-d+.5,S-l+.5,gH,a,T,cv,0,0);
jN-=F[0]-128;fg-=F[1]-128;el-=F[2]-128}var f=S*a+u<<2;dd[f]=Math.max(0,Math.min(255,jN*ge+128));dd[f+1]=Math.max(0,Math.min(255,fg*ge+128));
dd[f+2]=Math.max(0,Math.min(255,el*ge+128));dd[f+3]=eQ[f+3]}}if(w=="ShrE"){var n=I.rect,a=n.q,T=n.w;
Q._.abU(I.buffer,a,T,i.buffer)}if(w=="Dspc"){var n=I.rect,a=n.q,T=n.w;Q._.aa_(I.buffer,a,T,i.buffer)}if(w=="Slrz"){var cf=i.buffer,gW=128;
for(var P=0;P<cf.length;P+=4){if(cf[P]>gW)cf[P]=255-cf[P];if(cf[P+1]>gW)cf[P+1]=255-cf[P+1];if(cf[P+2]>gW)cf[P+2]=255-cf[P+2]}}if(w=="Wnd "){var n=I.rect,a=n.q,T=n.w,dl=["Wnd","Blst","Stgr"],f5=E.WndM.v.WndM;
Q._.ei(I.buffer,a,T,i.buffer,[dl.indexOf(f5),E.Drct.v.Drct!="Left"])}if(w=="Bokh"){var n=I.rect,a=n.q,T=n.w,g=a*T,B=g*4,aX=I.buffer.slice(0),dK=E.BkDi.v.BtDi,e4=E.BkDc,dg=E.BkDs.v,dX=E.BkDp.v/255;
if(dK=="BeIn")dX=0;var bf=57*(.3+.7*((a+T)/2)/1750)*(E.BkIb.v/100)*(1+.2*Math.pow(dX,.1)),eS=parseInt(E.BkIs.v.BtIs.slice(3)),bC=-E.BkIr.v*Math.PI/180,iT=[];
for(var P=0;P<8;P++){var f4=bC+P*(Math.PI*2/eS),fS=bC+(P+1)*(Math.PI*2/eS),hO=Math.cos(f4),fl=Math.sin(f4),hr=Math.cos(fS),fq=Math.sin(fS),cw=[0,0,0];
Q.Ea.Hu([[hO,fl,1,0],[hr,fq,1,0],[1,1,1,1]],cw);if(cw[2]>0){cw[0]*=-1;cw[1]*=-1;cw[2]*=-1}iT.push(cw[0],cw[1],cw[2],0)}if(dK=="BeIn"){Q.Ez(aX,0,16777215);
dX=1}else if(dK=="BeIt"&&e4.v.BtDc=="BeCt"){}else{var iA;if(dK=="BeIt"&&e4.v.BtDc=="BeCm")iA=h[1];else if(dK=="BeIa")iA=h[2][e4.v];
if(iA==null){Q.Ez(aX,0,16777215)}else{var iW;if(iA.rect.ZQ(n))iW=iA.channel;else iW=iA.SQ(n);Q.lJ(iW,aX,3)}}if(dg)for(var P=0;
P<B;P+=4)aX[P+3]=255-aX[P+3];if(R.U7){var gr=aX,bF=a,eU=T,fC=1,hG=(E.BkSb.v==0||E.BkSt.v==255)&&dK=="BeIn";
if(!hG){var gx=0;for(var P=0;P<B;P+=4)gx+=Math.abs(dX-aX[P+3]*(1/255));gx=gx/g*bf;var jX=3.14*gx*gx*a*T/3e6;
if(jX>2e3){alert("too large radius");return}}while(hG&&3*(bf/fC)*(bf/fC)*a*T>500*2e3*2e3){var gg=Q.jp(aX,new dC(0,0,bF,eU));
aX=gg.Fr;bF=gg.rect.q;eU=gg.rect.w;fC*=2}var hM=Date.now(),D=R.uD(0,bF,eU);D.set(aX);var ff=R.uD(1,a,T);
R.yS(ff);R.filter.iN({type:R.filter.at9,lI:new Float32Array([1/bF,1/eU]),ath:dX,zt:bf/fC,a2Q:new Float32Array([E.BkSb.v/100,E.BkSt.v/255]),a4B:new Float32Array([E.BkNa.v/100,E.BkNt.v.BtNt=="BeNu"?0:1,E.BkNm.v?1:0]),a3c:new Float32Array(iT.slice(0,16)),aaj:new Float32Array(iT.slice(16))},D.q3);
ff.get(i.buffer);var hi=i.buffer;for(var P=0;P<B;P+=4)hi[P+3]=I.buffer[P+3]}}if(w=="rigidTransform"){var hM=Date.now(),fN=gD.abu,D=I.buffer.slice(0),ah=0,dN=0;
Q.mO(D);Q.Ez(i.buffer,0);var a=I.rect.q,T=I.rect.w,cY=E.puppetShapeList.v,gA=[],fQ=[],kd=[],ac=[];for(var cT=0;
cT<cY.length;cT++){var bq=cY[cT].v,p=ah*2,V=dN*3,dw=bq.originalVertexArray.v.length>>>2,hW=bq.indexArray.v.length>>>2,j0=new Float32Array(fN(bq.originalVertexArray.v));
for(var P=0;P<dw;P++)gA[p+P]=j0[P];var k6=new Float32Array(fN(bq.deformedVertexArray.v));for(var P=0;
P<dw;P++)fQ[p+P]=k6[P];var a4=new Uint32Array(fN(bq.indexArray.v));for(var P=0;P<hW;P++)kd[V+P]=ah+a4[P];
var e0=[],iQ=[],cE=bq.PnDp.v;for(var P=0;P<cE.length;P++){e0.push(bq.pinVertexIndices.v[P].v);iQ.push(cE[P].v)}var bY=Q.Zv.a6u(j0,a4,e0,iQ);
for(var P=0;P<bY.length;P++)ac[ah+P]=bY[P];ah+=dw>>>1;dN+=~~(hW/3)}var t=I.rect,a=t.q,T=t.w;Q.Zv.dn(D,a,T,i.buffer,a,T,gA,fQ,ac,kd);
Q.Hq(i.buffer)}if(w=="lightFilterGradient"){function bz(bd){var d8=1/Math.sqrt(bd[0]*bd[0]+bd[1]*bd[1]+bd[2]*bd[2]);
bd[0]*=d8;bd[1]*=d8;bd[2]*=d8}var a=I.rect.q,T=I.rect.w,g=a*T,hM=Date.now(),jr=Q.$(g),fV=.3,hl=.7;Q.V0(i.buffer,jr);
var eY=Q.$(g);Q.iG.sB(jr,eY,i.rect,16);var f1=Q.$(g);Q.iG.sB(jr,f1,i.rect,8);var cy=jr,dc=new Float32Array(g),hS=E.Dtl.v,jm=hS[2].v,dr=hS[1].v,he=hS[0].v,bx=E.Scl.v*40*E.textureScale.v/(jm+dr+he);
jm*=bx;dr*=bx;he*=bx;for(var P=0;P<g;P++){var d$=eY[P]*(1/255),h8=f1[P]*(1/255),iD=cy[P]*(1/255);iD=iD*iD;
dc[P]=jm*d$+dr*h8+he*iD}var jw=E.blur.v;if(jw!=0){var aM=dc.slice(0);Q.iG.Vm(aM,dc,i.rect,jw)}var gG=a-1,jj=T-1;
for(var S=0;S<T;S++)for(var u=0;u<a;u++){var P=S*a+u,f=P*4,dM=dc[P],d=fV*(dc[P+(u==gG?0:1)]-dM)+hl*(dM-dc[P-(u==0?0:1)]),l=fV*(dc[P+(S==jj?0:a)]-dM)+hl*(dM-dc[P-(S==0?0:a)]),bd=[1,0,d],aZ=[0,1,l];
bz(bd);bz(aZ);var fS=bd[0],eK=bd[2],aT=aZ[1],f0=aZ[2],ks=-eK*aT,ba=-fS*f0,eW=fS*aT;i.buffer[f]=~~(127.5+ks*127.5);
i.buffer[f+1]=~~(127.5+ba*127.5);i.buffer[f+2]=~~(127.5+eW*127.5)}}if(w=="defr"){var a=I.rect.q,T=I.rect.w;
gC(I.buffer,a,T,i.buffer)}if(w=="dDFT"||w=="iDFT"){function ko(eS){if(eS==0)return 1;eS--;eS|=eS>>1;
eS|=eS>>2;eS|=eS>>4;eS|=eS>>8;eS|=eS>>16;return eS+1}var a=I.rect.q,T=I.rect.w,a9=ko(Math.max(a,T)),c3=a9>>>1,aj=new dC(0,0,a9,a9),h0=new dC(0,0,a,T);
h0.y=a9-T>>>1;var dZ=a>>>1,fy=new dC(0,h0.y,dZ,T),gP=new Q.hV(a*T);Q.tK(I.buffer,gP);var cN=new Float64Array(a9*a9),ji=new Float64Array(a9*a9),iW=Q.$(a9*a9);
FFT.init(a9);var fI=[gP.o,gP.P,gP.L];for(var P=0;P<3;P++){var ct=fI[P];iW.fill(0);if(w=="dDFT"){Q.b_(ct,h0,iW,aj);
gD.awe(iW,a9,cN,ji);Q.b_(iW,aj,ct,h0,fy);fy.x+=dZ;aj.x-=c3-dZ;Q.b_(iW,aj,ct,h0,fy);fy.x-=dZ;aj.x+=c3-dZ}else{Q.b_(ct,h0,iW,aj,fy);
fy.x+=c3;h0.x+=c3-dZ;Q.b_(ct,h0,iW,aj,fy);fy.x-=c3;h0.x-=c3-dZ;gD.auD(iW,a9,cN,ji);Q.b_(iW,aj,ct,h0)}}Q.tR(gP,i.buffer)}if(w=="Avrg"){var bj=0,bA=0,kl=0,eI=0,eO=1;
for(var P=0;P<I.buffer.length;P+=4){var b=I.buffer[P+3];kl+=I.buffer[P]*b;bA+=I.buffer[P+1]*b;bj+=I.buffer[P+2]*b;
eI+=b}var kp=1/eI;bj=Math.round(eO*(bj*kp)+(1-eO)*255);bA=Math.round(eO*(bA*kp)+(1-eO)*255);kl=Math.round(eO*(kl*kp)+(1-eO)*255);
Q.Ez(i.buffer,bj<<16|bA<<8|kl,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(w)!=-1){var kq=E.Rds?E.Rds.v.val:1,ex=w=="boxblur"?Q.iG.oT:Q.iG.KL;
gD._y(kq,ex,i.buffer,i.rect);if(w=="UnsM"||w=="smartSharpen"){var ge=(E.Amnt?E.Amnt.v.val:200)/100,eM=0;
if(w=="UnsM")eM=E.Thsh.v;else ge*=.75;for(var P=0;P<I.buffer.length;P++){if((P&3)==3){i.buffer[P]=I.buffer[P];
continue}var c4=I.buffer[P],kv=i.buffer[P],gh=ge*(c4-kv);if(gh>0)gh=Math.max(0,gh-eM);else gh=Math.min(0,gh+eM);
i.buffer[P]=Math.max(0,Math.min(255,c4+gh))}}if(w=="HghP")for(var P=0;P<I.buffer.length;P++){if((P&3)==3){i.buffer[P]=I.buffer[P];
continue}var c4=I.buffer[P],kv=i.buffer[P];i.buffer[P]=Math.max(0,Math.min(255,128+c4-kv))}}if(w=="AdNs"){var ht=new Uint8ClampedArray(i.buffer.buffer),fo=255*E.Nose.v.val/100,av;
if(E.Dstr.v.Dstr=="Gsn")av=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else av=function(){return Math.random()*2-1};for(var P=0;P<ht.length;P+=4){var t=ht[P],ds=ht[P+1],jO=ht[P+2],aV,fp,hd;
if(E.Mnch.v){aV=fp=hd=av()}else{aV=av();fp=av();hd=av()}t+=fo*aV;ds+=fo*fp;jO+=fo*hd;ht[P]=t;ht[P+1]=ds;
ht[P+2]=jO}}var hM=Date.now();if(w=="Mdn "||w=="DstS"||w=="Mxm "||w=="Mnm "||w=="surfaceBlur"){var t=0,dO=E.Thsh,bq=0;
if(dO)dO=dO.v;else dO=0;if(w=="Mdn "||w=="Mxm "||w=="Mnm "||w=="surfaceBlur")t=E.Rds.v.val;else t=E.Rds.v;
var ey=E.preserveShape;if(ey&&ey.v.preserveShape=="Rndn")bq=1;var a=I.rect.q,T=I.rect.w,cO=["Mnm ","Mxm ","surfaceBlur"].indexOf(w),eC=(bq==0?1:.75)*[.73,.73,1][cO]*(a*T*t*t)/1722387,gj=[.73,.9,1.4][cO]*(a*T*Math.sqrt(t))/6500;
if(R.U7&&cO!=-1&&(eC<gj||bq==1)&&eC<1500){var D=R.uD(0,a,T);D.set(I.buffer);var _=R.uD(1,a,T);R.yS(_);
R.filter.iN({type:R.filter.a9u,lI:new Float32Array([1/a,1/T]),zt:t,a6F:dO/255,iw:[bq,cO,10*Math.ceil(t/10)]},D.q3);
_.get(i.buffer)}else{t=Math.round(t);Q.rc.Dl=.5;var ex=Q.rc.xH;if(w=="Mxm ")ex=Q.rc.Pk;if(w=="Mnm ")ex=Q.rc.OM;
if(w=="surfaceBlur")ex=Q.rc.Xm;Q.rc.g9(I.buffer,i.buffer,a,T,t,ex,[dO]);if(w=="DstS")for(var P=0;P<a*T*4;
P++){var cq=Math.abs(I.buffer[P]-i.buffer[P]);if(cq<=dO)i.buffer[P]=I.buffer[P]}}}if(w=="ClrH"){var fy=I.rect.clone();
fy.x=fy.y=0;var t=E.Rds.v;t=Math.round(t*Math.sqrt(2));var a=fy.q,T=fy.w,gP=new Q.hV(a*T);Q.tK(I.buffer,gP);
Q.ja(gP.o);Q.ja(gP.P);Q.ja(gP.L);var bB=Q.wH(a,T),hi=Q.$(a*T*4);for(var bw=0;bw<3;bw++){var iW=bw==0?gP.o:bw==1?gP.P:gP.L,cc=Math.PI*E["Ang"+(bw+1)].v/180,cd=new am(1/t,0,0,1/t,0,0);
cd.rotate(cc);Q.lJ(iW,hi,3);var F=q.R.oI([hi,fy],cd,!0),h0=F.rect;bB.clearRect(0,0,a,T);var bV=Math.sin(cc),eN=Math.cos(cc);
for(var P=0;P<h0.w;P++)for(var a7=0;a7<h0.q;a7++){var u=(a7+h0.x+.5)*t,S=(P+h0.y+.5)*t,aD=u,bP=S;u=eN*aD-bV*bP;
S=bV*aD+eN*bP;var g=F.buffer[(P*h0.q+a7<<2)+3]*(1/255),kq=t*Math.sqrt(g*(1/Math.PI));bB.beginPath();
bB.arc(u,S,kq,0,2*Math.PI);bB.fill()}var dS=bB.getImageData(0,0,a,T);Q.qe(dS.data,iW,3)}Q.ja(gP.o);Q.ja(gP.P);
Q.ja(gP.L);Q.tR(gP,i.buffer)}if(w=="Crst"||w=="Pntl"){var a=I.rect.q,T=I.rect.w,ex=w=="Crst"?Q.h4.asb:Q.h4.ai6;
ex(I.buffer,a,T,i.buffer,E.ClSz.v,[Math.round(o.o),Math.round(o.P),Math.round(o.L)])}if(w=="Mztn"){var a=I.rect.q,T=I.rect.w,g=a*T,gP=new Q.hV(g),hx=[gP.o,gP.P,gP.L];
Q.tK(I.buffer,gP);var f5=E.MztT.v.MztT,f7={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[f5],hM=Date.now(),dE=[];
for(var P=0;P<g;P++){dE[P]=Math.random()}var g=a*T,iE=Math.round(g*f7[0]),en=g-a-1;for(var P=0;P<iE;
P++){var bJ=Math.random(),bv=1;if(bJ<.5){bv=a;bJ*=2}else bJ=2*(bJ-.5);var j_=Math.floor(bJ*en),e3=j_+bv;
dE[j_]=dE[e3]}var du=Math.round(a*f7[1]);for(var S=0;S<T;S++)for(var P=0;P<du;P++){var bJ=Q.e.dQ(S*g+P),j_=S*a+Math.floor(bJ*(a-1));
dE[j_]=dE[j_+1]}var je=new Float64Array(256);for(var P=0;P<256;P++){var hY=P/255,jk=2*(hY<.5?hY:1-hY);
jk=f7[2]+Math.pow(jk,f7[3])*(1-f7[2]);hY=hY<.5?jk*.5:1-jk*.5;je[P]=hY}for(var hm=0;hm<3;hm++){var iW=hx[hm];
for(var S=0;S<T;S++){for(var u=0;u<a;u++){var P=S*a+u,iV=iW[P],hY=je[iV],bJ=dE[P];iW[P]=bJ>hY?0:255}}}Q.tR(gP,i.buffer)}if(w=="Msc "){var h_=E.ClSz.v.val,a=I.rect.q,T=I.rect.w,aK=Math.ceil(a/h_),gM=Math.ceil(T/h_),eE=Q.$(aK*gM*4);
Q.scale.Qs(I.buffer,a,T,eE,aK,gM,1/h_);Q.scale.Qs(eE,aK,gM,i.buffer,a,T,h_)}if(w=="Clds"||w=="DfrC"){var a=i.rect.q,T=i.rect.w,g=a*T,h3=Q.$(g);
if(w=="Clds")Q.Ez(i.buffer,4278190080);var gY=Q.$(256*4);for(var P=0;P<256;P++){var f=P<<2,g5=P/255,a4=1-g5;
gY[f]=Math.round(g5*X.o+a4*o.o);gY[f+1]=Math.round(g5*X.P+a4*o.P);gY[f+2]=Math.round(g5*X.L+a4*o.L)}Q._.atc(I.buffer,a,T,h3);
var eH=i.buffer;for(var P=0;P<g;P++){var f=P<<2,hm=h3[P]<<2,t=gY[hm],ds=gY[hm+1],jO=gY[hm+2];if(w=="Clds"){eH[f]=t;
eH[f+1]=ds;eH[f+2]=jO}else{eH[f]=Math.abs(eH[4*P]-t);eH[f+1]=Math.abs(eH[4*P+1]-ds);eH[f+2]=Math.abs(eH[4*P+2]-jO)}}}if(w=="LnsF"){var a=I.rect.q,T=I.rect.w,f5=["Zm","Nkn","Nkn1","PnVs"].indexOf(E.Lns.v.Lns),gq=E.FlrC.v,bo=[Math.min(f5,2),E.Brgh.v/100,gq.Hrzn.v,gq.Vrtc.v],hM=Date.now();
Q.a9$(I.buffer,a,T,i.buffer,bo)}var d5=["Blr ","BlrM","Shrp","ShrM"].indexOf(w);if(d5!=-1){var dT=d5>1,a=I.rect.q,T=I.rect.w,g1=Q.Zi.aY[d5],dq=I.buffer.slice(0);
if(!dT)Q.mO(dq);Q.Zi.Q3(dq,i.buffer,a,T,g1,255,!1,dT);if(!dT)Q.Hq(i.buffer)}if(w=="MtnB"){var hR=-E.Angl.v*Math.PI/180,ce=E.Dstn.v.val/2,hM=Date.now(),a=I.rect.q,T=I.rect.w,n=I.rect.clone();
n.x=n.y=0;if(R.U7){var hM=Date.now(),jF=i.buffer;jF.set(I.buffer);Q.mO(jF);var ju=R.uD(0,a,T);ju.set(jF);
var eQ=Q.$(4);eQ[0]=Math.round(128+127*Math.cos(hR));eQ[1]=Math.round(128+127*Math.sin(hR));new Uint32Array(jF.buffer).fill(new Uint32Array(eQ.buffer)[0]);
var jE=R.uD(1,a,T);jE.set(jF);R.yS(ju,n);ju.Xt(n);R.filter.iN({type:R.filter.Vr,hg:jE.q3,lI:new Float32Array([1/a,1/T]),arP:ce/2,a1a:1},ju.T6);
ju.get(jF);Q.Hq(jF)}else{var cd=new am;cd.rotate(hR);var F=q.R.oI([I.buffer,I.rect],cd,!1,null,!0);gD._y(ce,Q.iG.Hp,F.buffer,F.rect);
cd.ja();F=q.R.oI([F.buffer,F.rect],cd,!1,i.buffer.buffer,!0,i.rect)}console.log(Date.now()-hM)}if(w=="RdlB"){var a=I.rect.q,T=I.rect.w,ge=E.Amnt.v,aH=E.BlrM.v.BlrM=="Zm",bw=E.Cntr.v,cp=bw.Hrzn.v,hk=bw.Vrtc.v,d=Math.max(cp,1-cp)*a,l=Math.max(hk,1-hk)*T,kq=Math.sqrt(d*d+l*l),ir=2*Math.PI*kq*1.5,e_=Math.round(ir),cP=Math.round(kq),fy=new dC(0,0,e_,cP),gU=Q.$(e_*cP*4),fm=aH?4:1,aP=aH?.6:8*((a+T)/2)/1400,gm=.1,fC=1,jT=1;
Q.K.n_(I.buffer,a,T,gU,e_,cP,cp,hk,fm,gm,fC,jT);var kr=aH?Q.$(e_*cP*4):null;if(aH){Q.K.KQ(gU,kr,e_,cP);
var ay=kr;kr=gU;gU=ay;fy.q=cP;fy.w=e_}gD._y(aP*ge,Q.iG.Hp,gU,fy);if(aH){Q.K.KQ(gU,kr,cP,e_);var ay=kr;
kr=gU;gU=ay;fy.q=e_;fy.w=cP}Q.K.lz(gU,e_,cP,i.buffer,a,T,cp,hk,fm,gm,fC,jT)}if(w=="Plr "){var a=I.rect.q,T=I.rect.w;
if(E.Cnvr.v.Cnvr=="RctP")Q.K.lz(I.buffer,a,T,i.buffer,a,T,.5,.5,1,0,2,a/T);else Q.K.n_(I.buffer,a,T,i.buffer,a,T,.5,.5,1,0,2,a/T)}if(w=="FndE"){var a=I.rect.q,T=I.rect.w;
Q.Zi.BU(I.buffer,i.buffer,a,T)}if(w=="oilPaint"){var cc=E.LghD.v*Math.PI/180,cs=[Math.cos(cc),Math.sin(cc),.001],h1=[E.stylization.v,E.cleanliness.v,E.brushScale.v,E.microBrush.v,E.lightingOn.v,E.specularity.v,cs],n=I.rect.clone();
n.x=n.y=0;Q.mN.filter(I.buffer,n,i.buffer,h1)}if(w=="Ofst"){var a=I.rect.q,T=I.rect.w,hN=new Uint32Array(I.buffer.buffer),dB=new Uint32Array(i.buffer.buffer),aD=E.Hrzn.v,bP=E.Vrtc.v,js=E.Fl.v.FlMd;
Q.Ez(dB,0);if(js=="Bckg"||js=="Rpt"){var fy=I.rect.clone();fy.offset(aD,bP);Q.D6(hN,fy,dB,i.rect)}if(js=="Rpt"){var hO,fl,hr,fq,cJ;
aD=Math.max(-a,Math.min(a,aD));bP=Math.max(-T,Math.min(T,bP));hO=aD>0?aD:0;hr=aD>0?a:a+aD;fl=bP>0?0:bP+T;
fq=bP>0?bP:T;cJ=bP>0?0:a*(T-1);for(var S=fl;S<fq;S++)for(var u=hO;u<hr;u++)dB[S*a+u]=hN[cJ+u-aD];hO=aD>0?0:a+aD;
hr=aD>0?aD:a;fl=bP>0?bP:0;fq=bP>0?T:T+bP;cJ=aD>0?0:a-1;for(var S=fl;S<fq;S++)for(var u=hO;u<hr;u++)dB[S*a+u]=hN[cJ+a*(S-bP)];
if(aD>=0&&bP>=0){hO=0;hr=aD;fl=0;fq=bP;cJ=0}if(aD>=0&&bP<0){hO=0;hr=aD;fl=T+bP;fq=T;cJ=a*(T-1)}if(aD<0&&bP>=0){hO=a+aD;
hr=a;fl=0;fq=bP;cJ=a-1}if(aD<0&&bP<0){hO=a+aD;hr=a;fl=T+bP;fq=T;cJ=a*T-1}for(var S=fl;S<fq;S++)for(var u=hO;
u<hr;u++)dB[S*a+u]=hN[cJ]}if(js=="Wrp"){aD=(aD+100*a)%a;bP=(bP+100*T)%T;var fy=new dC(aD-a,bP-T,a,T);
Q.D6(hN,fy,dB,i.rect);fy.offset(a,0);Q.D6(hN,fy,dB,i.rect);fy.offset(0,T);Q.D6(hN,fy,dB,i.rect);fy.offset(-a,0);
Q.D6(hN,fy,dB,i.rect)}}if(w=="Rept"){var dx=E.Rsft.v.val/100,ea=E.SpcX.v.val/100;ea=Math.max(ea,-.99);
var f2=E.SpcY.v.val/100;f2=Math.max(f2,-.99);var fC=E.Scl.v.val/100,cd=new am;cd.rotate(E.Angl.v*Math.PI/180);
cd.scale(fC,fC);var hU={buffer:I.buffer,rect:I.rect};Q.Hw(hU);if(hU.rect.qo()){hU.buffer=I.buffer;hU.rect=I.rect}var eH=hU.buffer,fy=hU.rect,i2=Q.eE(eH,fy,0),cM=new Uint32Array(eH.buffer)[0];
if(!i2.qo()&&!i2.ZQ(fy)){var i7=Q.$(i2.A()*4);Q.D6(eH,fy,i7,i2);eH=i7;fy=i2}fy.x=fy.y=0;cM=ea==0&&f2==0||E.SpcC.v?cM:0;
function dH(u){return u<0?Math.ceil(u):Math.floor(u)}var d9=cd.kG(new a5(fy.q,0));d9.x=dH(d9.x);d9.y=dH(d9.y);
var dk=cd.kG(new a5(0,fy.w));dk.x=dH(dk.x);dk.y=dH(dk.y);var F=q.R.oI([eH,fy],cd,!1),h0=F.rect,dd=F.buffer,bg=Math.round(h0.x),e7=Math.round(h0.y),jy=Math.max(i.rect.q,i.rect.w)/Math.min(fy.q*fC*(1+ea),fy.w*fC*(1+f2));
jy=Math.ceil(jy*1.7);Q.Ez(i.buffer,cM);for(var S=-jy;S<jy;S++){for(var u=-jy;u<jy;u++){var ip=(u+S*dx)*(1+ea),c2=S*(1+f2);
h0.x=bg+Math.round(ip*d9.x+c2*dk.x);h0.y=e7+Math.round(ip*d9.y+c2*dk.y);if(h0.XU(i.rect))Q.e.gF("norm",dd,h0,i.buffer,i.rect,h0,1)}}}if(w=="Ctoa"){var o=Q.N.BL(E.Clr.v),dO=E.Trsp.v.val/100,ft=E.Opct.v.val/100;
dO=ft==0?0:dO/ft;var a=I.rect.q,T=I.rect.w,jt=~~o.o,j6=~~o.P,ka=~~o.L,cJ=I.buffer,iq=i.buffer;for(var S=0;
S<T;S++)for(var u=0;u<a;u++){var P=S*a+u,f=P<<2,fy=cJ[f],gN=cJ[f+1],eH=cJ[f+2],bs=Math.abs(jt-fy),aL=Math.abs(j6-gN),k8=Math.abs(ka-eH),b$=Math.max(bs,aL,k8)*(1/255);
b$=Math.max(0,Math.min(1,b$/ft));var aq=b$==0?0:1/b$,ej=dO==1?1:Math.max(0,Math.min(1,(b$-dO)/(1-dO)));
iq[f]=Math.max(0,Math.min(255,(fy-jt*(1-b$))*aq));iq[f+1]=Math.max(0,Math.min(255,(gN-j6*(1-b$))*aq));
iq[f+2]=Math.max(0,Math.min(255,(eH-ka*(1-b$))*aq));iq[f+3]=~~(.5+ej*255)}}if(w=="Dthr"){function jZ(u){return~~(.5+255*Q.HF(u/255))}var cT=E.Plte.v,iu;
if(cT==0)iu=[4278190080,4294967295];else{var bO=[[1,1,1],[2,2,2],[3,3,2]][cT-1],cI=[1<<bO[0],1<<bO[1],1<<bO[2]],b7=[~~(255/(cI[0]-1)),~~(255/(cI[1]-1)),~~(255/(cI[2]-1))];
iu=[];for(var t=0;t<cI[0];t++)for(var ds=0;ds<cI[1];ds++)for(var jO=0;jO<cI[2];jO++)iu.push(255<<24|jZ(jO*b7[2])<<16|jZ(ds*b7[1])<<8|jZ(t*b7[0]))}var a=I.rect.q,T=I.rect.w,g=a*T,ho=g*4,el=I.buffer.slice(0),et=i.buffer;
for(var P=0;P<ho;P++)el[P]=~~(.5+255*Q.HF(el[P]/255));var fe=Q.$(a*T);UPNG.encode.dither(el,a,T,iu,et,fe);
for(var P=0;P<ho;P++)et[P]=~~(.5+255*Q.qK(et[P]/255))}if(w=="Part"){var eR=[E.RndS.v,E.Cont.v/100,E.Size.v,E.Dpth.v/100,E.Brgh.v/100,Q.N.BL(E.Clr.v),E.Time.v,E.Blnk.v,E.Fall.v,E.Turb.v/100];
Q.IP.Go(i.buffer,I.rect.q,I.rect.w,eR)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(w)!=-1){var eX=h[0],a=I.rect.q,T=I.rect.w,je,jC=0;
if(w=="LqFy")je=bl.fM(new Uint8Array(E.LqMe.v).buffer);else{var id=3;je={LQ:Math.floor(a/id),Ns:Math.floor(T/id)};
je.map=new Float32Array(je.LQ*je.Ns*2);if(w=="LnCr"){var cp=.5*(je.LQ-1),hk=.5*(je.Ns-1),iY=Math.max(Math.abs(0-cp),Math.abs(1-cp)),is=Math.max(Math.abs(0-hk),Math.abs(1-hk)),kc=Math.sqrt(iY*iY+is*is),ak=0,iP=0,j7=-1,k4=2,fC=E.LnSi.v/100,aH=1/fC,jg=E.LnIa.v/100,ca=jg==0?1e-6:jg*4.6,d_=aH/kc;
for(var S=0;S<je.Ns;S++){for(var u=0;u<je.LQ;u++){var d=(u-cp)*d_,l=(S-hk)*d_,t=Math.sqrt(d*d+l*l)*ca,j9=Math.atan(t),i3=jg>0?j9/t:t/j9,jT=cp+kc*i3*d,eb=hk+kc*i3*l,P=S*je.LQ+u<<1;
je.map[P]=jT-u;je.map[P+1]=eb-S}}}else if(w=="Kale"){var aK=je.LQ,gM=je.Ns,af=(aK-1)*.5,jj=(gM-1)*.5,ad=E.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,iU=E.Mirr.v,ai=Math.PI*2/iU,db=.5*ai;
for(var S=0;S<gM;S++)for(var u=0;u<aK;u++){var d=u-af,l=S-jj,eL=Math.sqrt(d*d+l*l),cc=Math.atan2(l,d)+ad;
cc=cc%ai;if(cc>db)cc=ai-cc;var jT=af+Math.cos(cc-ad)*eL,eb=jj+Math.sin(cc-ad)*eL,P=(S*aK+u)*2;je.map[P]=jT-u;
je.map[P+1]=eb-S}}else if(w=="Dspl"&&eX.length!=0){jC=E.UndA.v.UndA=="WrpA"?2:1;var hv=E.DspF.v.pth,fF;
for(var P=0;P<eX.length;P++)if(eX[P].wl==hv)fF=eX[P];if(fF==null)fF=eX[0];fF.sQ();var bs=fF.lG[1],c5=Q.$(bs.A());
Q.V0(fF.lG[0],c5);var fw=bs.q,jP=bs.w;je={LQ:fw,Ns:jP};je.map=new Float32Array(je.LQ*je.Ns*2);var dh=2.54*E.HrzS.v*fw/a,fd=2.54*E.VrtS.v*jP/T;
for(var S=0;S<je.Ns;S++){for(var u=0;u<je.LQ;u++){var cq=-.5+c5[S*fw+u]*(1/255),P=S*je.LQ+u<<1;je.map[P]=cq*dh;
je.map[P+1]=cq*fd}}}else if(w=="Pnch"||w=="Twrl"||w=="Sphr"||w=="ZgZg"){var ge=1,hR=Math.PI,gp=0,d0=1,a_=0,bw=3,h_=1.53,i3=1;
if(w=="Pnch"||w=="Sphr"||w=="ZgZg")ge=E.Amnt.v/100;if(w=="ZgZg"){d0=E.NmbR.v;a_=["ArnC","OtFr","PndR"].indexOf(E.ZZTy.v.ZZTy)}if(w=="Twrl")hR=E.Angl.v*Math.PI/180;
if(w=="Sphr")gp=["Nrml","HrzO","VrtO"].indexOf(E.SphM.v.SphM);function ex(u){u=Math.pow(u,1-u*.3-u*u*(u*u)*.5);
return-.225*Math.sin(u*Math.PI)}function gX(T,d8,t,hO,fl,hr,fq,i3){var d=hr-hO,l=fq-fl,h9=hO-T,ef=fl-d8,g5=d*d+l*l,jO=2*(d*h9+l*ef),bw=h9*h9+ef*ef-t*t,jB=Math.sqrt(jO*jO-4*g5*bw),gO=i3/(2*g5),km=(-jO+jB)*gO,e5=(-jO-jB)*gO;
return i3*Math.min(km,e5)}var aK=je.LQ,gM=je.Ns,af=je.LQ/2,jj=je.Ns/2,h4=1/af,t=Math.sqrt(bw*bw+1)/bw,ct=bw+Math.sqrt(1/(bw*bw));
if(ge<0){bw=1.72;t=1;ct=bw;h_=-1;i3=-1}for(var S=0;S<gM;S++){var l=(S-jj)/jj;for(var u=0;u<aK;u++){var d=(u-af)*h4;
if(gp==1)l=0;else if(gp==2)d=0;var as=Math.sqrt(d*d+l*l);if(as<1&&as!=0){var P=S*je.LQ+u<<1;if(w=="Pnch"){var cb=-ge*ex(as)/as;
je.map[P]=d*cb*af;je.map[P+1]=l*cb*jj}else if(w=="Sphr"){var ay=gX(0,ct,t,0,0,as,bw,i3),ez=h_*ge*(ay-1);
je.map[P]=d*ez*af;je.map[P+1]=l*ez*jj}else if(w=="Twrl"){var cc=Math.atan2(l,d)-hR*(1-as)*(1-as),gd=Math.cos(cc),cm=Math.sin(cc);
je.map[P]=(as*gd-d)*af;je.map[P+1]=(as*cm-l)*jj}else if(w=="ZgZg"){var gd=0,cm=0,ec=ge*(.5-.5*Math.cos(as*d0*2*Math.PI))*(1-as);
if(a_==0){var cc=Math.atan2(l,d)-3.5*ec;gd=as*Math.cos(cc);cm=as*Math.sin(cc)}if(a_==1){ec=100/a*ec/as;
gd=(1-ec)*d;cm=(1-ec)*l}if(a_==2){var s=512/a*ec*Math.PI/4;gd=s+d;cm=s+l}je.map[P]=(gd-d)*af;je.map[P+1]=(cm-l)*jj}}}}}else if(w=="Shr "){var eh=JSON.parse(JSON.stringify(E.ShrP.v));
Q.sD.F(eh,new am(0,255/127,255/127,0,-2,0));var gv=Q.sD.Bn(eh,je.Ns,!0);jC=E.UndA.v.UndA=="WrpA"?2:1;
for(var S=0;S<je.Ns;S++){var d=-gv[S]*je.LQ;for(var u=0;u<je.LQ;u++){var P=S*je.LQ+u<<1;je.map[P]=d}}}else if(w=="Wave"){var dR=E.NmbG.v,fa=E.WLMn.v,fz=E.WLMx.v,fB=E.AmMn.v*(Math.PI/4),k7=E.AmMx.v*(Math.PI/4),eF=E.SclH.v/100,iw=E.SclV.v/100,f5=E.Wvtp.v.Wvtp,ec=Math.sin;
if(f5=="WvTr")ec=function(u){u*=2/Math.PI;return-.5+Math.abs(u%2-1)};if(f5=="WvSq")ec=function(u){u*=2/Math.PI;
return 1+2*Math.floor(u%2-1)};var kf=[],hp=new Q.e.Y3(E.RndS.v);for(var P=0;P<dR;P++){kf.push(hp.get()*10);
kf.push(Math.PI*id/(fa+hp.get()*(fz-fa)));kf.push(eF*(fB+hp.get()*(k7-fB))/id);kf.push(hp.get()*10);
kf.push(Math.PI*id/(fa+hp.get()*(fz-fa)));kf.push(iw*(fB+hp.get()*(k7-fB))/id)}var g4=[],bi=[],bZ=Math.max(je.LQ,je.Ns);
for(var P=0;P<bZ;P++){var d=0,l=0;for(var a7=0;a7<dR;a7++){var gb=a7*6;d+=kf[gb+2]*ec(kf[gb]+P*kf[gb+1]);
l+=kf[gb+5]*ec(kf[gb+3]+P*kf[gb+4])}g4[P]=l;bi[P]=d}for(var S=0;S<je.Ns;S++){for(var u=0;u<je.LQ;u++){var P=S*je.LQ+u<<1;
je.map[P]=bi[S];je.map[P+1]=g4[u]}}jC=E.UndA.v.UndA=="WrpA"?2:1}else if(w=="Rple"){jC=1;var ge=E.Amnt.v/100,jH=4,i6=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],aO=1,hT=1,h9=0,jM=["Sml","Mdm","Lrg"].indexOf(E.RplS.v.RplS);
if(jM==0){aO=1;hT=.2;h9=3}if(jM==2){aO=1;hT=2;h9=-1;i6=i6.reverse()}var c0=function(u,S){var bw=Math.cos,bx=0;
for(var P=0;P<jH;P++)for(var a7=0;a7<jH;a7++)bx+=i6[P*jH+a7]*bw(u*(P+h9)-S*(a7+h9));return bx},bb=Math.floor(50/id),aa=new Float32Array(bb*bb*2),fu=hT*ge*.5/id;
for(var S=0;S<bb;S++)for(var u=0;u<bb;u++){var cp=aO*u*2*Math.PI/bb,hk=aO*S*2*Math.PI/bb,dF=c0(cp,hk),d=(c0(cp+.01,hk)-dF)*100,l=(c0(cp,hk+.01)-dF)*100,P=(S*bb+u)*2;
aa[P]=d*fu;aa[P+1]=l*fu}for(var S=0;S<je.Ns;S++)for(var u=0;u<je.LQ;u++){var cm=S%bb,gd=u%bb,P=S*je.LQ+u<<1,fh=cm*bb+gd<<1;
je.map[P]=aa[fh];je.map[P+1]=aa[fh+1]}}}Q.hJ.vv(I.buffer,i.buffer,a,T,null,je.map,je.LQ,je.Ns,jC)}return i};
var c8={};c8.al7="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");c8.H7="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
c8.zT=["ScrC","ScrD","ScrL"];c8.Hb=["SDRD","SDHz","SDLD","SDVt"];c8.uq="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
c8.XO="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");c8._A="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
c8.in=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];c8.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
c8.SX=function(w){var I;if(w=="ClrP")I={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(w=="Ct")I={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(w=="DryB")I={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(w=="FlmG")I={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(w=="Frsc")I={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(w=="NGlw")I={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(w=="PntD")I={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(w=="PltK")I={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(w=="PlsW")I={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(w=="PstE")I={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(w=="RghP")I={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(w=="SmdS")I={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(w=="Spng")I={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(w=="Undr")I={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(w=="Wtrc")I={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(w=="AccE")I={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(w=="AngS")I={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(w=="Crsh")I={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(w=="DrkS")I={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(w=="InkO")I={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(w=="Smie")I={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(w=="Spt")I={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(w=="SprS")I={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(w=="DfsG")I={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(w=="Gls")I={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(w=="OcnR")I={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(w=="BsRl")I={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(w=="ChlC")I={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(w=="Chrc")I={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(w=="Chrm")I={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(w=="CntC")I={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(w=="GraP")I={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(w=="HlfS")I={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(w=="NtPr")I={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(w=="Phtc")I={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(w=="Plst")I={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(w=="Rtcl")I={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(w=="Stmp")I={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(w=="TrnE")I={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(w=="WtrP")I={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(w=="GlwE")I={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(w=="Crql")I={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(w=="Grn")I={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(w=="MscT")I={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(w=="Ptch")I={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(w=="StnG")I={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(w=="Txtz")I={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
I.__name="Filter Gallery";I.classID="GEfc";I.GEfk={t:"enum",v:{GEft:w}};I.GELv={t:"bool",v:!0};return I};
c8.SG=function(w,I){for(var P=0;P<I.length;P++)~~(I[P]=(w[4*P]+w[4*P+1]+w[4*P+2])*(1/3))};c8.a9K=function(w,I,E,X){var o=UPNG.quantize(w,I);
o={HE:o.inds,y_:o.plte};var i=Math.floor((E+X)*.015);if(i!=0)Q.wE.agx(o.HE,E,X,i);return o};c8.$Z=function(w,I,E,X,o,i,h){w=E.GEfk.v.GEft;
var k=I.rect,x=k.q,j=k.w,v=x*j,_=E.FlRs?E.FlRs.v>>>1:0;function L(C){return C.o<<24|C.P<<16|C.L<<8|255}if(w=="ClrP")Q._.amf(I.buffer,x,j,i.buffer,[E.Pncl.v,E.StrP.v,E.PprB.v]);
if(w=="Ct"){var U=E.NmbL.v,n=E.EdgS.v,a=c8.a9K(I.buffer.buffer,U*2,x,j);for(var P=0;P<a.HE.length;P++)a.HE[P]++;
var T=new Uint8Array((x+2)*(j+2));Q.b_(a.HE,new dC(1,1,x,j),T,new dC(0,0,x+2,j+2));var g=Q.p.nG(T,x+2,j+2,n,!1),D=new am(1,0,0,1,-1,-1);
for(var P=0;P<g.length;P++)Q.p.F(g[P].path.C,D,g[P].path.C);var b=[],N=a.y_;for(var P=0;P<N.length;P++){var C=N[P].est.q;
b.push({o:Math.round(255*C[0]),P:Math.round(255*C[1]),L:Math.round(255*C[2]),lV:Math.round(255*C[3])})}var Z=Q.wH(x,j);
for(var P=0;P<g.length;P++){var S=g[P],C=b[S.color-1];if(C.lV==0)continue;Z.fillStyle="rgba("+C.o+","+C.P+","+C.L+","+C.lV/255+")";
Z.beginPath();Typr.U.pathToContext({crds:S.path.C,cmds:S.path.J},Z);Z.fill()}if(!k.qo()){var u=Z.getImageData(0,0,x,j);
Q.QM(u.data,i.buffer)}}if(w=="DryB")Q._.awS(I.buffer,x,j,i.buffer,[E.BrsS.v,E.BrsD.v,E.Txtr.v]);if(w=="FlmG")Q._.aqT(I.buffer,x,j,i.buffer,[E.Grn.v,E.HghA.v,E.Intn.v,_]);
if(w=="Frsc")Q._.ab7(I.buffer,x,j,i.buffer,[E.BrsS.v,E.BrsD.v,E.Txtr.v]);if(w=="NGlw")Q._.a6X(I.buffer,x,j,i.buffer,[E.Sz.v,E.Brgh.v,L(Q.N.BL(E.Clr.v)),L(X),L(o)]);
if(w=="PltK")Q._.aw$(I.buffer,x,j,i.buffer,[E.StrS.v,E.StDt.v,E.Sftn.v]);if(w=="PstE")Q._.a4J(I.buffer,x,j,i.buffer,[E.EdgT.v,E.EdgI.v,E.Pstr.v]);
if(w=="RghP")Q._.a66(I.buffer,x,j,i.buffer,[E.StrL.v,E.StDt.v,c8.uq.indexOf(E.TxtT.v.TxtT),E.Scln.v,E.Rlf.v,c8.H7.indexOf(E.LghD.v.LghD),E.InvT.v]);
if(w=="SmdS")Q._.a6f(I.buffer,x,j,i.buffer,[E.StrL.v,E.HghA.v,E.Intn.v,E.FlRs.v,_]);if(w=="Spng")Q._.ai7(I.buffer,x,j,i.buffer,[E.BrsS.v,E.Dfnt.v,E.Smth.v,E.FlRs.v,_]);
if(w=="Undr")Q._.an5(I.buffer,x,j,i.buffer,[E.BrsS.v,E.TxtC.v,c8.uq.indexOf(E.TxtT.v.TxtT),E.Scln.v,E.Rlf.v,c8.H7.indexOf(E.LghD.v.LghD),E.InvT.v]);
if(w=="Wtrc")Q._.avb(I.buffer,x,j,i.buffer,[E.BrsD.v,E.ShdI.v,E.Txtr.v]);if(w=="AccE")Q._.adr(I.buffer,x,j,i.buffer,[E.EdgW.v,E.EdgB.v,E.Smth.v]);
if(w=="AngS")Q._.a7v(I.buffer,x,j,i.buffer,[E.DrcB.v,E.StrL.v,E.Shrp.v]);if(w=="Crsh")Q._.anI(I.buffer,x,j,i.buffer,[E.StrL.v,E.Shrp.v,E.Strg.v]);
if(w=="DrkS")Q._.agM(I.buffer,x,j,i.buffer,[E.Blnc.v,E.BlcI.v,E.WhtI.v]);if(w=="InkO")Q._.apa(I.buffer,x,j,i.buffer,[E.StrL.v,E.DrkI.v,E.LghI.v]);
if(w=="Smie")Q._.age(I.buffer,x,j,i.buffer,[E.StrW.v,E.StrP.v,E.Cntr.v]);if(w=="DfsG")Q._.al4(I.buffer,x,j,i.buffer,[E.Grns.v,E.GlwA.v,E.ClrA.v,L(o),_]);
if(w=="CntC")Q._.ae0(I.buffer,x,j,i.buffer,[E.FrgL.v,E.BckL.v,c8.uq.indexOf(E.TxtT.v.TxtT),E.Scln.v,E.Rlf.v,c8.H7.indexOf(E.LghD.v.LghD),E.InvT.v,L(o),L(X)]);
if(w=="ChlC")Q._.a8Q(I.buffer,x,j,i.buffer,[E.ChrA.v,E.ChlA.v,E.StrP.v,_,L(o),L(X)]);var p=w=="GraP"||w=="Chrc"||w=="Plst"||w=="Rtcl"||w=="Stmp"||w=="TrnE";
if(p){var f=Q.$(x*j);if(w=="GraP")Q._.aiD(I.buffer,x,j,i.buffer,[E.StrL.v,E.LgDr.v,c8.Hb.indexOf(E.SDir.v.StrD),_]);
if(w=="Chrc")Q._.ah0(I.buffer,x,j,i.buffer,[E.ChAm.v,E.Dtl.v,E.LgDr.v]);if(w=="Plst")Q._.aus(I.buffer,x,j,i.buffer,[E.ImgB.v,c8.XO.indexOf(E.LghP.v.LghP),E.Smth.v]);
if(w=="Rtcl")Q._.anT(I.buffer,x,j,i.buffer,[E.Dnst.v,E.BlcL.v,E.WhtL.v,_]);if(w=="Stmp")Q._.axl(I.buffer,x,j,i.buffer,[E.LgDr.v,E.Smth.v]);
if(w=="TrnE")Q._.anO(I.buffer,x,j,i.buffer,[E.ImgB.v,E.Smth.v,E.Cntr.v,_]);Q.qe(i.buffer,f,0);c8.EP(f,i.buffer,X,o)}if(w=="NtPr")Q._.ao9(I.buffer,x,j,i.buffer,[E.ImgB.v,E.Grns.v,E.Rlf.v,L(X),L(o),_]);
if(w=="WtrP")Q._.a6V(I.buffer,x,j,i.buffer,[E.FbrL.v,E.Brgh.v,E.Cntr.v,_>>>1]);if(w=="Crql")Q._.a8F(I.buffer,x,j,i.buffer,[E.CrcS.v,E.CrcD.v,E.CrcB.v,_]);
if(w=="Grn")Q._.aaM(I.buffer,x,j,i.buffer,[E.Intn.v,c8._A.indexOf(E.Grnt.v.Grnt),E.Cntr.v,L(X),L(o),_]);
if(w=="MscT")Q._.ay9(I.buffer,x,j,i.buffer,[E.TlSz.v,E.GrtW.v,E.LghG.v,_]);if(w=="Ptch")Q._.aop(I.buffer,x,j,i.buffer,[E.SqrS.v,E.Rlf.v,_]);
if(w=="Phtc"){function d(eh,h_,k,cc){Q.iG.Ei(eh,h_,k,cc);for(var P=0;P<v;P++)h_[P]=Math.max(0,Math.min(255,128+eh[P]-h_[P]))}var l=E.Dtl.v,A=E.Drkn.v,B=Q.$(v);
Q.V0(I.buffer,B);var e=Q.$(v);d(B,e,k,1);if(l==1){l=2;A=Math.round(A/4)}var m=Q.$(v);d(B,m,k,l);for(var P=0;
P<v;P++)B[P]=Math.max(0,Math.min(255,255-(e[P]-m[P])*A));c8.EP(B,i.buffer,X,o)}if(w=="Spt"||w=="SprS"){var $,V=1,H=1;
$={LQ:Math.floor(x/H),Ns:Math.floor(j/H)};$.map=new Float32Array($.LQ*$.Ns*2);var F=new Q.e.Y3(E.FlRs.v),G=new Float32Array(8192),J=E.SprR.v,c=J<20?.018*J:.36+(J-20)*.128;
if(w=="SprS"){c=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][J]}for(var P=0;
P<8192;P++)G[P]=(-1+2*F.get())*c*70;for(var r=0;r<j;r++)for(var s=0;s<x;s++){var z=r*x+s<<1;$.map[z]=G[z%7919];
$.map[z+1]=G[(z+1)%7919]}var Y=$.map.slice(0),ax=w=="Spt"?E.Smth.v-1:1;if(w=="Spt"&&ax!=0){c8.a1B($.map,Y,x,j,ax);
c8.apz(Y,$.map,x,j,ax)}if(w=="SprS"){var iW=E.StrL.v>>>1,y=iW==0?2:1;c8.a1B($.map,Y,x,j,y);c8.apz(Y,$.map,x,j,y);
if(iW!=0){var hm=c8.Hb.indexOf(E.SDir.v.StrD),t=[1,1,1,0][hm],cT=[-1,0,1,1][hm],c4=2*iW+1,kv=1/c4;for(var r=0;
r<j;r++)for(var s=0;s<x;s++){var z=r*x+s<<1,iL=0,cr=0;for(var P=0;P<c4;P++){var ga=Math.max(0,Math.min(x-1,s-(iW+P)*t)),iq=Math.max(0,Math.min(j-1,r-(iW+P)*cT)),ei=iq*x+ga<<1;
iL+=$.map[ei];cr+=$.map[ei+1]}Y[z]=iL*kv;Y[z+1]=cr*kv}$.map=Y}}Q.hJ.vv(I.buffer,i.buffer,x,j,null,$.map,$.LQ,$.Ns,V)}if(w=="BsRl"||w=="PlsW"||w=="Chrm"){var hw=Date.now(),hC=Q.$(v),j5=hC.slice(0);
Q.V0(I.buffer,hC);var l=E.Dtl.v,ed=E.Smth.v;if(l!=15){Q.iG.sB(hC,j5,k,Math.round((15-l)*.5));Q.QM(j5,hC)}var jn=1.4/x,fj=1.4/j,di=new Float32Array(v),b1=new Float32Array(v),h2=new Float32Array(i.buffer.buffer);
for(var r=0;r<j;r++)for(var s=0;s<x;s++){var P=r*x+s,t=s==x-1?hC[P]-hC[P-1]:hC[P+1]-hC[P],cT=r==j-1?hC[P]-hC[P-x]:hC[P+x]-hC[P],de=s*jn-.7,ds=r*fj-.7;
di[P]=t==0?de:t*.4;b1[P]=cT==0?ds:cT*.4}if(w=="BsRl"){var jO=(2+c8.H7.indexOf(E.LghD.v.LghD))*Math.PI*.25,iL=Math.cos(jO);
if(Math.abs(iL)<.1)iL=0;iL=Math.sign(iL);var cr=Math.sin(jO);if(Math.abs(cr)<.1)cr=0;cr=Math.sign(cr);
var gy=1/(iL*iL+cr*cr);for(var r=0;r<j;r++)for(var s=0;s<x;s++){var P=r*x+s,fV=Math.max(-1,Math.min(1,iL*di[P])),hl=Math.max(-1,Math.min(1,cr*b1[P]));
j5[P]=128+127*(fV+hl)*gy}if(ed!=1){Q.iG.sB(j5,hC,k,Math.round((ed-1)*.5));Q.QM(hC,j5)}c8.EP(j5,i.buffer,X,o)}else{if(w=="Chrm")ed=5+ed;
if(ed>1)c8._y(di,b1,h2,k,ed-1);if(w=="PlsW"){var im=new Uint8Array(di.buffer);for(var P=0;P<v;P++){var eA=P<<2,t=di[P],cT=b1[P],hy=1/(Math.sqrt(1+t*t)*Math.sqrt(1+cT*cT)),dm=hy*hy,hA=dm*dm,C=~~(255*(hA*hA*dm));
im[eA+0]=C;im[eA+1]=C;im[eA+2]=C;im[eA+3]=C}i.buffer.set(I.buffer);Q.e.gF("norm",im,k,i.buffer,k,k,E.HghS.v/20)}else if(w=="Chrm"){var j2=i.buffer,dQ=x>>>1,aS=j>>>1;
for(var P=0;P<v;P++){var eA=P<<2,t=di[P],cT=b1[P],eh={x:1,y:0,u3:t};aQ.Uz(eh);var h_={x:0,y:1,u3:cT};
aQ.Uz(h_);var h6=aQ.a1U(eh,h_),gT=1/h6.u3,b8=~~Math.max(0,Math.min(x-1,dQ-h6.x*gT*dQ)),hP=~~Math.max(0,Math.min(j-1,aS-h6.y*gT*aS)),C=hC[hP*x+b8];
j2[eA+0]=C;j2[eA+1]=C;j2[eA+2]=C}}}}if(w=="Gls"||w=="OcnR"||w=="Txtz"){var b5=w=="OcnR"?2:c8.uq.indexOf(E.TxtT.v.TxtT),ar=c8.jn(b5),cG=ar[0],hC=ar[1],bd=cG.q,aZ=cG.w,c4=24,gV=0,jv,dt;
function gl(iA,gr,bF){return~~(ci*(iA+gr)+8192)&127}var di=new Float32Array(v),b1=new Float32Array(v),h2=new Float32Array(i.buffer.buffer),ci=w=="OcnR"?1/(1+(E.RplS.v-1)*.1):100/E.Scln.v;
if(b5==3)ci*=32/22.2;var hw=Date.now(),a7=ci,jn=1.4/x,fj=1.4/j;if(w=="Txtz"){a7*=1/255;c4=256}for(var r=0;
r<j;r++){var ay=gl(r,k.y,aZ),iq=ay+1&127;for(var s=0;s<x;s++){var P=r*x+s,it=gl(s,k.x,bd),ga=it+1&127,h1=0,hM=0,dn=0;
if(w=="Txtz"){h1=Q.K.Rx(ci*s,ci*r,hC,128,128);hM=Q.K.Rx(ci*s,ci*r+1,hC,128,128);dn=Q.K.Rx(ci*s+1,ci*r,hC,128,128)}else{h1=hC[ay*bd+it];
hM=hC[iq*bd+it];dn=hC[ay*bd+ga]}di[P]=Math.max(-c4,Math.min((dn-h1)*a7,c4));b1[P]=Math.max(-c4,Math.min((hM-h1)*a7,c4))}}if(w=="Txtz")c8.aq7(di,b1,h2,k,6);
else c8._y(di,b1,h2,k,w=="Txtz"?1:w=="OcnR"?3.5/ci:E.Smth.v);if(w=="Txtz")gV=E.InvT.v?-1:1;else if(w=="Gls"){gV=[1,.4,.5,.5][b5]*(Math.exp(E.Dstr.v*.155)-1);
if(E.InvT.v)gV=-gV}else{gV=.5*(Math.exp(E.RplM.v*.155)-1)}var j2=i.buffer;if(w=="Txtz"){var jO=(2+c8.H7.indexOf(E.LghD.v.LghD))*Math.PI*.25,iL=Math.cos(jO),cr=Math.sin(jO);
jv={x:iL,y:cr,u3:0};aQ.Uz(jv);dt=E.Rlf.v;dt=dt/4+Math.max(0,(dt-35)*2)}function hZ(eh,h_,dd){var el=Q.e.overF(h_,eh,1),iA=(1-dd)*eh+dd*(dd*h_+(1-dd)*el);
return iA*255}for(var r=0;r<j;r++)for(var s=0;s<x;s++){var P=r*x+s,eA=P<<2,t=di[P],cT=b1[P],eh={x:1,y:0,u3:t};
aQ.Uz(eh);var h_={x:0,y:1,u3:cT};aQ.Uz(h_);var h6=aQ.a1U(eh,h_);if(w=="Txtz"){var eQ=aQ.al1(h6,jv)*gV,dd=1,C=1;
if(eQ<0){C=0;eQ=-eQ}dd=Math.min(1,eQ*dt);j2[eA+0]=~~hZ(I.buffer[eA]*(1/255),C,dd);j2[eA+1]=~~hZ(I.buffer[eA+1]*(1/255),C,dd);
j2[eA+2]=~~hZ(I.buffer[eA+2]*(1/255),C,dd)}else{var gT=gV/h6.u3,b8=~~Math.max(0,Math.min(x-1,s-h6.x*gT)),hP=~~Math.max(0,Math.min(j-1,r-h6.y*gT)),dp=hP*x+b8<<2;
j2[eA+0]=I.buffer[dp];j2[eA+1]=I.buffer[dp+1];j2[eA+2]=I.buffer[dp+2]}}}if(w=="PntD"){var i_=E.Shrp.v*.4,by=E.BrsT.v.BrsT,jK={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[by],cc=Math.round(E.Sz.v*.5);
Q.rc.Dl=jK[0];var jo=Q.rc.xH;Q.rc.g9(I.buffer,i.buffer,x,j,cc,jo,[]);var ge=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
ge=Q.Zi.FT(ge);var gH=i.buffer.slice(0);Q.Zi.Q3(gH,i.buffer,x,j,ge,0);for(var P=0;P<I.buffer.length;
P++){var cv=i.buffer[P]-gH[P];i.buffer[P]=Math.max(0,Math.min(255,gH[P]+i_*cv))}}if(w=="GlwE"){var jN=i.buffer.slice(0);
Q.rc.Dl=.5;var jo=Q.rc.xH;Q.rc.g9(I.buffer,jN,x,j,E.Smth.v>>>1,jo,[]);Q.Zi.BU(jN,i.buffer,x,j);Q.QM(i.buffer,jN);
Q.ja(jN);Q.Ez(jN,4278190080,16777215);Q.rc.g9(jN,i.buffer,x,j,E.EdgW.v>>>1,Q.rc.Pk,[]);var fg=E.EdgB.v/10;
for(var P=0;P<jN.length;P++){if((P&3)==3)continue;var el=i.buffer[P];i.buffer[P]=Math.max(0,Math.min(255,el*fg))}}if(w=="StnG"){Q.h4.aqE(I.buffer,x,j,i.buffer,E.ClSz.v,[Math.round(X.o),Math.round(X.P),Math.round(X.L)],E.BrdT.v)}if(w=="HlfS"){var cf=E.HlSz.v,gW=cf*2+1,dl=E.Cntr.v,f5=c8.zT.indexOf(E.ScrT.v.ScrT),v=x*j,aX=v*4,dK=Q.$(v),e4=I.buffer,iT=0,f4=0;
c8.SG(e4,dK);var dg=dK.slice(0);Q.iG.Iv(dg,dK,k,cf);var dX=Math.PI/gW,bf=new Float64Array(x),iL=new Float64Array(x),bC=new Float64Array(2*x);
for(var s=0;s<x;s++){var it=(s-(x>>>1))*dX;bf[s]=it*it;iL[s]=Math.cos(it);var t=s<<1;bC[t]=Math.sin(t*(1/4.5));
bC[t+1]=Math.sin((t+1)*(1/4.5))}for(var r=0;r<j;r++){var ay=(r-(j>>>1))*dX,cr=Math.cos(ay),fS=ay*ay;
for(var s=0;s<x;s++){var C=cr;if(f5==0){var hO=.5+Math.sqrt(bf[s]+fS)*4.5;C=bC[~~hO]}else if(f5==1){C=iL[s]*cr}var P=r*x+s,fl=dK[P]*(.75+.25*C),dd=e4[(P<<2)+3]*(1/255),hr=Math.max(0,Math.min(255,~~fl));
iT+=hr*dd,f4+=dd;dK[P]=hr}}iT/=f4;var fq=128+1.26*(iT-128),fg=.08+.25*Math.abs((128-iT)/128),cw=1+fg*dl;
for(var P=0;P<v;P++){var fl=fq+(dK[P]-fq)*cw;dK[P]=Math.max(0,Math.min(255,~~fl))}if(dl>46)Q.round(dK);
c8.EP(dK,i.buffer,X,o)}for(var P=0;P<I.buffer.length;P+=4)i.buffer[P+3]=I.buffer[P+3]};c8.EP=function(w,I,E,X){var o=w.length,i=E.o,h=E.P,k=E.L,x=X.o,j=X.P,v=X.L;
for(var P=0;P<o;P++){var _=w[P]*(1/255),L=1-_,U=P<<2;I[U]=~~(i*L+x*_);I[U+1]=~~(h*L+j*_);I[U+2]=~~(k*L+v*_)}};
c8.jn=function(w){if(w==6)w=2;var I="blocks canvas frosted tinylens brick burlap".split(" ")[w];if(c8.nL==null)c8.nL=[];
if(c8.nL[w]==null){var E,X;if(w==2){X=new dC(0,0,128,128);var o=gD.SX("AdNs");o.Mnch.v=!0;o.Dstr.v.Dstr="Gsn";
o.Nose.v.val=50;var E=Q.$(X.A()*4),i=E.slice(0);new Uint32Array(i.buffer).fill(4286611584);gD.$Z("AdNs",{buffer:i,rect:X},o,0,0,{buffer:E,rect:X})}else{var h=gt.UJ.get("tex/"+I,!0)[0];
X=h.WG;E=new Uint8Array(h.data)}var k=Q.$(X.A());Q.qe(E,k,0);c8.nL[w]=[X,k]}return c8.nL[w]};c8._y=function(w,I,E,X,o){if(o<=1){o=Math.round(o);
c8.aq7(w,I,E,X,[1,16,4][o]);return}var i=o*.42;if(w){Q.iG.Vm(w,E,X,i,3);w.set(E)}if(I){Q.iG.Vm(I,E,X,i,3);
I.set(E)}};c8.aq7=function(w,I,E,X,o){var i=Q.Zi.FT([1,2,1,2,o,2,1,2,1]);if(w){E.set(w);Q.Zi._w(w,E,X.q,X.w,i);
w.set(E)}if(I){E.set(I);Q.Zi._w(I,E,X.q,X.w,i);I.set(E)}};c8.d7=function(w){if(w==null)return new a5(0,0);
var I=0,E=w.GEfs?w.GEfs.v:[{v:w}];for(var P=0;P<E.length;P++){var X=E[P].v,i=1e4;if(X.GELv&&!X.GELv.v)continue;
var o=X.GEfk.v.GEft;if(o=="GlwE"||o=="Phtc"||o=="BsRl"||o=="PlsW"||o=="Chrm"||o=="Gls"||o=="OcnR")i=0;
I=Math.max(I,i)}return new a5(I,I)};c8.anB=function(w){var I=[0,0,0,0,0,0,0,0,0,0,0,0,0],E=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][w];
for(var P=0;P<13;P++){var X=P-6;I[P]=1/(E*Math.sqrt(2*Math.PI))*Math.exp(-.5*(X/E)*(X/E))}return I};
c8.a1B=function(w,I,E,X,o){var i=c8.anB(o),h=6,k=13;for(var x=0;x<X;x++)for(var j=0;j<E;j++){var v=x*E+j<<1,_=0,L=0;
for(var P=0;P<k;P++){var U=j+P-h,n=U<0?0:U>=E?E-1:U,a=(x*E+n)*2,T=i[P];_+=T*w[a];L+=T*w[a+1]}I[v]=_;
I[v+1]=L}};c8.apz=function(w,I,E,X,o){var i=c8.anB(o),h=6,k=13;for(var x=0;x<X;x++)for(var j=0;j<E;j++){var v=x*E+j<<1,_=0,L=0;
for(var P=0;P<k;P++){var U=x+P-h,n=U<0?0:U>=X?X-1:U,a=(n*E+j)*2,T=i[P];_+=T*w[a];L+=T*w[a+1]}I[v]=_;
I[v+1]=L}};function hH(){}hH.pc=[2,5,5,7,4,4];hH.H1="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
hH.zg="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
hH.He=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
hH.a5B=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
hH.yk=function(w){if(w=="passThrough")return"pass";return hH.H1[hH.zg.indexOf(w)]};hH.r6=function(w){if(w=="pass")return"passThrough";
return hH.zg[hH.H1.indexOf(w)]};hH.getName=function(w){return hH.He[hH.H1.indexOf(w)]};function K(){this.rect=null;
this.buffer=null;this.$B="norm";this.opacity=255;this.ws=!1;this.Bo=0;this.hm=0;this.iI=!0;this.xs=[];
for(var P=0;P<10;P++)this.xs.push(0,0,255,255);this.name=null;this.add={};this.Nl=null;this.zk=null;
this.D=null;this.Zk=null;this.ajI=30;this.OH=null;this.Tf=null;this.rO=null;this.i4=null;this.yA=0;this.Fq=!1;
this.e2=null;this.Nu=new K.c7}K.c7=function(){this.fk=!0;this.MH=!0;this._3=Q.$(0);this.afI=Q.$(0);this.Pw=null;
this.OG={};this.adm=null;this.ou=null;this.p0=null;this.Dk=null;this.CY=null;this.h6=null;this.f_=null;
this.$j=null;this.Rs=null;this.pm=null;this.Nt=null;this.dP=null;this.QA=!1};K.c7.prototype.ara=function(){this.fk=null;
this.MH=!1;this.Pw=null;this.QA=R.U7};K.c7.prototype.a4u=function(){aQ.asv(this.OG);this._3=Q.$(0);this.afI=Q.$(0);
if(this.Dk)this.Dk.delete();if(this.CY)this.CY.delete();this.Dk=null;this.CY=null;var w=[this.h6,this.f_,this.$j,this.Rs,this.pm,this.Nt];
for(var P=0;P<6;P++)if(w[P]!=null&&w[P]instanceof R.hV)w[P].delete();this.h6=null;this.f_=null;this.$j=null;
this.Rs=null;this.pm=null;this.Nt=null};K.prototype.M=function(w){if(w==null)w=this.rect.clone();if(this.Nu.Pw==null)this.Nu.Pw=w;
else this.Nu.Pw=this.Nu.Pw.jB(w)};K.prototype.vD=function(){return this.add.lsct==gs.Y_||this.add.lsct==gs.S2};
K.prototype.us=function(){var w=this.add;return w.SoCo!=null||w.GdFl!=null||w.PtFl!=null};K.prototype.amj=function(){var w=this.add.lmfx;
if(w==null)return;var I=["GrFl","patternFill"];for(var P=0;P<I.length;P++){var E=hL.JR[hL.order.indexOf(I[P])],X=w[E].v;
if(X.length==0)continue;for(var o=0;o<X.length;o++){var i=X[o].v;if(i.enab.v&&(i.Algn==null||!i.Algn.v))this.Nu.MH=!0}}};
K.prototype.ahq=function(){var w=this.D,I=this.Nu.fk;if(this.us())w=this.pi();if(!R.U7)return w.R4();
if(this.Nu.CY==null||I||R.U7!=this.Nu.QA){var E=w.eB(),X=this.Nu.CY,o=null;if(I!=!0&&I!=null){o=I.clone();
o.offset(-E.x,-E.y)}if(X==null||X.q!=E.q||X.w!=E.w){X=this.Nu.CY=new R.Ay(E.q,E.w);o=null}X.set(w.R4(),o)}return this.Nu.CY};
K.prototype.aeY=function(w){var I=this.rect,E=this.buffer;if(!R.U7){var X=this.Q4(w,E,I);if(X){E=X.Fr;
I=X.rect}return E}if(this.Nu.Pw!=null||R.U7!=this.Nu.QA){var X=this.Q4(w,E,I);if(X){E=X.Fr;I=X.rect}var o=I;
if(R.U7!=this.Nu.QA||this.Nu.Dk==null||this.Nu.Dk.q!=o.q||this.Nu.Dk.w!=o.w){if(this.Nu.Dk)this.Nu.Dk.delete();
this.Nu.Dk=new R.hV(o.q,o.w);this.Nu.Dk.set(E)}else{var i=this.Nu.Pw.clone();i.offset(-I.x,-I.y);this.Nu.Dk.set(E,i)}}return this.Nu.Dk};
K.prototype.rn=function(){var w=this.D;if(this.us())w=this.pi();return w!=null&&w.isEnabled&&(!w.rect.qo()||w.BL()!=255)};
K.prototype.Q4=function(w,I,E){if(this.r3()){var X=this.Em(w);if(X.D&&X.D.isEnabled&&(!X.D.rect.qo()||X.D.color==0)){var o=this.add.SoLd.filterFX.v;
X.D.zy=o.filterMaskDensity?o.filterMaskDensity.v:255;X.D.o6=o.filterMaskFeather?o.filterMaskFeather.v:0;
var i=X.buffer,h=X.rect;if(h.A()<E.A()){h=E;i=Q.$(h.A()*4);Q.D6(X.buffer,X.rect,i,h)}var k=X.D.SQ(E);
Q.ja(k);I=I.slice(0);Q.e.Wg(i,h,I,E,k,E,0,E,1);return{Fr:I,rect:E}}}};K.prototype.akx=function(){var w={qs:!1,Cq:!1,Jl:0,CH:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)w.Cq=!0;if(this.pi()&&this.pi().isEnabled)w.qs=!0;if(w.qs&&w.Cq){w.Jl=this.pi().rect.x-this.add.vmsk.pi().rect.x;
w.CH=this.pi().rect.y-this.add.vmsk.pi().rect.y}return w};K.prototype.kH=function(w,I){if(I&&this.pi().o6!=0){I=I.clone();
var E=Math.round(this.pi().o6*2.4);I.Cs(E,E)}var X=!1;if(this.add.lsct==gs.sz)return;var o=this,i=this.pi()!=null&&this.pi().$o,h=this.add.vmsk!=null&&this.add.vmsk.$o,k=this.akx(),x=JSON.stringify(k)!=this.Nu.adm||k.qs&&i||k.Cq&&h;
if(x){if(k.Cq){var j=this.add.vmsk.pi();if(k.qs){this.D=this.pi().og(j);this.Nu.ou=new a5(this.D.rect.x-this.pi().rect.x,this.D.rect.y-this.pi().rect.y)}else this.D=j}if(this.D)X=!0;
if(this.D)this.Nu.p0=new a5(this.rect.x-this.D.rect.x,this.rect.y-this.D.rect.y);if(k.qs)this.pi().$o=!1;
if(k.Cq)this.add.vmsk.$o=!1;this.M(I)}else{if(k.qs&&k.Cq){this.D.rect.x=this.pi().rect.x+this.Nu.ou.x;
this.D.rect.y=this.pi().rect.y+this.Nu.ou.y}}if(o.us()){this.Jr(w)}if(o.N$()){var v;if(this.D)v=new a5(this.rect.x-this.D.rect.x,this.rect.y-this.D.rect.y);
if(this.D&&this.D.isEnabled&&(this.Nu.p0==null||!v.ZQ(this.Nu.p0))){this.Nu.p0=v;this.M(I);X=!0}}if(cz.get(o.add)!=null)X=!0;
if(X){var _=this.Nu.fk;if(I&&_&&_!=!0)_=_.jB(I);else _=I?I:!0;this.Nu.fk=_}this.Nu.adm=JSON.stringify(k)};
K.prototype.Jr=function(w){var I=this,E=I.add.vstk,X=new dC(0,0,w.q,w.w),o,i=I.add.vmsk?this.add.vmsk.pi():null,x=!0,_;
if(i&&i.isEnabled&&i.BL()==0)o=i.eB().clone();else o=X;var h=I.pi();if(h&&h.isEnabled&&h.BL()==0)o=o.LP(I.D.eB());
var k=i&&E;if(E&&(!E.strokeEnabled.v||E.strokeStyleLineWidth.v.val==0))k=!1;if(E&&!E.fillEnabled.v&&k)x=!1;
var j=Q.$(o.A()*4);if(x){if(I.add.SoCo)aQ.y0(j,I.add.SoCo.Clr.v);if(I.add.GdFl){var v=i&&i.color==0?Q.O.sM(I.add.vmsk.j,null,!0):null;
aQ.eG(I.add.GdFl,j,o,w,null,v)}if(I.add.PtFl)aQ.Ho(I.add.PtFl,j,o,w.add.Patt,I.add.fxrp)}if(k)_=hL.Oq.hN.indexOf(E.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(i){var L=i.zy;if(k)i.zy=255;var U=Q.$(o.A());if(i.BL()!=0)U.fill(Math.round(i.BL()));if(i&&i.isEnabled){var n=i.eB(),a=i.R4();
if(n.ZQ(o))Q.QM(a,U);else Q.b_(a,n,U,o)}if(k&&_==2){}else{if(I.add.SoCo&&x){Q.lJ(U,j,3)}else Q.HQ(U,o,j,o)}if(k)i.zy=L}I.buffer=j;
I.rect=o;if(k){var T=E.strokeStyleContent.v,g=hL.Oq.m9.indexOf(T.classID),D=this.add.vmsk.pi(E);if(_!=0&&!I.rect.ZQ(X))I.extend(I.rect.jB(D.eB()));
var L=D.zy;D.zy=255;var b=D.SQ(I.rect);D.zy=L;if(D.color==255)Q.ja(b);var N=Q.$(I.rect.A()*4);if(g==0)aQ.y0(N,T.Clr.v);
if(g==1)aQ.eG(T,N,I.rect,w,null,i.color==0?i.rect:null);if(g==2)aQ.Ho(T,N,I.rect,w.add.Patt,I.add.fxrp);
var C=E.strokeStyleOpacity.v.val/100;if(C!=1)Q.aG(b,C);if(D.color==255)_=2-_;if(_<2){Q.e.Wg(N,I.rect,I.buffer,I.rect,b,I.rect,255,I.rect,1,!1);
if(_==0)Q.sC(U,I.buffer)}if(_==2){Q.sC(b,N);Q.ja(U);Q.e.Wg(N,I.rect,I.buffer,I.rect,U,o,255,I.rect,1,!1);
Q.ja(U)}if(D.zy!=255){var Z=N.slice(0);Q.Ez(Z,4278190080,16777215);Q.e.gF("norm",Z,I.rect,I.buffer,I.rect,I.rect,1-D.zy/255)}L=i.zy;
i.zy=255;this.afI=i.SQ(I.rect);i.zy=L}this.M()};K.prototype.vR=function(w,I,E){var X=this,o=X.add.SoLd.Idnt.v,i=X.add.SoLd,h=Q.p.zK(q.R.kp(i.nonAffineTransform)),k=w.ot(o,i.Crop?i.Crop.v:null,[h.q,h.w],i.Impr.v.classID,E),U=1;
if(k==null)return;var x=k.lG;i.Sz.v.Wdth.v=x[1].q;i.Sz.v.Hght.v=x[1].w;var j=k.nN==null?i.Rslt.v.val:k.nN,v=i.warp.v,_=q.R.kp(i.nonAffineTransform),L=x[1].clone();
L.q*=U;L.w*=U;L.x=(x[1].q-L.q)/2;L.y=(x[1].w-L.w)/2;var n=Q.K.TZ(_,L);if(v&&!Q.AG.JJ(v)){var h=Q.p.zK(Q.AG.Sk(v)),a=h.x,T=h.y,g=1/h.q,D=1/h.w;
n=Q.K.TZ(_);n=Q.K.og(n,[g,0,-a*g,0,D,-T*D,0,0])}var b=q.R.Bm(x,I?0:1,n,v,null,null,null,I);if(b==null){X.buffer=Q.$();
X.rect=new dC}else if(X.r3()){var N=X.Em(w);N.buffer=b.buffer;N.rect=b.rect.clone();this.k9(w,I)}else{X.buffer=b.buffer;
X.rect=b.rect}X.kH(w);X.M();w.M()};K.prototype.k9=function(w,I){if(I==null)I=!1;var E=this.Em(w),X=this.add.SoLd.filterFX.v,o=gD.axM(X),i=new dC(0,0,w.q,w.w),h=E.rect.jB(i),k=E.rect.clone();
k.Cs(o.x,o.y);var x={buffer:null,rect:h.LP(k)};x.buffer=Q.$(x.rect.A()*4);Q.D6(E.buffer,E.rect,x.buffer,x.rect);
if(X.enab.v&&I==!1){var j=X.filterFXList.v;for(var P=0;P<j.length;P++){var v=j[P].v;if(v.enab.v==!1)continue;
var _=v.blendOptions.v,L=hH.yk(_.Md.v.BlnM),U=_.Opct.v.val/100,n=Q.N.BL(v.FrgC.v),a=Q.N.BL(v.BckC.v),T=gD.N6(v),g={buffer:Q.$(x.buffer.length),rect:x.rect.clone()},D=v.Fltr?v.Fltr.v:null;
if(cz.u6[T]!=null){var b=cz.u6[T],N=cz.S9(b,D);if(N)cz.$Z(N,x.buffer,g.buffer,x.rect)}else gD.$Z(T,x,D,n,a,g,[w.add.lnk2?w.add.lnk2:[],this.pi(),w.K3]);
if(L=="norm"&&U==1)x=g;else if(L=="norm"){Q.e.Wg(g.buffer,g.rect,x.buffer,x.rect,null,null,null,x.rect,U)}else{Q.e.gF(L,g.buffer,g.rect,x.buffer,x.rect,x.rect,U)}}}this.rect=x.rect;
this.buffer=x.buffer;this.G1();this.M();w.M()};K.prototype.YP=function(w,I,E){this.e2=this.a4X(w,I,E)};
K.prototype.yb=function(w,I){var E=this.a4X(w,I,!0);if(E==null)return null;var X={js:E.yA,T1:E.fa,rect:E.lw};
if(X.js==1||X.js==3){var o=X.rect,i=Q.$(o.q*o.w*4);Q.lJ(X.T1,i,0);Q.lJ(X.T1,i,1);Q.lJ(X.T1,i,2);Q.iO(w.n.channel,w.n.rect,i,o);
X.T1=i}return X};K.prototype.a4X=function(w,I,E){var X,o,i,h,k,x,j;if(this.yA<=0){var v=Q.$(this.rect.A());
Q.qe(this.buffer,v,3);X=Q.Cj.Y2(I,{channel:v,rect:this.rect},3);if(X==null)return null;var _=Q.dM(X.channel,X.rect);
h=X.rect.clone();k=this.rect.clone();o=Q.$(h.A()*4);Q.D6(this.buffer,k,o,h);Q.lJ(X.channel,o,3);i=this.buffer.slice(0);
if(!E){var L=I.channel.slice(0);Q.ja(L);Q.HQ(L,I.rect,i,k)}x=this.buffer.slice(0);j=this.rect.clone()}if(this.yA==1||this.yA==3){var U=this.yA==1?this.pi():this.Em(w).D;
h=I.rect.clone();k=U.rect.clone();o=U.agl(h);var i=U.channel.slice(0);if(!E)Q.e.Zp(U.color==255?Q.Cb(h.A()):Q.xd(h.A()),h,i,k,I.channel,h,1);
x=U.channel.slice(0);j=U.rect.clone()}return{yA:this.yA,fa:o,lw:h,iM:i,su:k,ur:x,Sv:j}};K.prototype.yM=function(w,I){var E=this.e2;
if(E.yA==0){this.rect=E.Sv;this.buffer=E.ur;this.M()}if(E.yA==1||E.yA==3){var X=E.yA==1?this.pi():this.Em(w).D;
X.channel=E.ur;X.rect=E.Sv;if(this.yA==1){X.$o=!0;this.kH(w)}if(this.yA==3)this.M()}this.e2=I};K.prototype.Fh=function(w,I){if(this.yA<=0&&I.rect.ZQ(this.rect)){var E=Q.$(this.rect.A());
Q.qe(this.buffer,E,3);if(Q.ZQ(w.n.channel,E)){var X=this.rect,o=this.buffer;this.e2={yA:this.yA,fa:o.slice(0),lw:X.clone(),iM:Q.$(0),su:new dC,ur:Q.$(0),Sv:new dC};
return!0}}var i=this.e2;if(i==null)return!1;if(i.yA!=this.yA)return!1;if(!I.rect.ZQ(i.lw))return!1;var h=i.su.jB(i.lw);
if(i.yA<=0){if(!h.ZQ(this.rect))return!1;var k=Q.$(i.fa.length>>2);Q.qe(i.fa,k,3);if(!Q.ZQ(I.channel,k))return!1;
var x=Q.$(h.q*h.w*4);Q.D6(i.iM,i.su,x,h);Q.e.gF("norm",i.fa,i.lw,x,h,h,1);return Q.ZQ(x,this.buffer)}if(i.yA==1||i.yA==3){var j=i.yA==1?this.pi():this.Em(w).D;
if(!h.ZQ(j.rect))return!1;var v=Q.$(h.A());v.fill(j.color);Q.b_(i.iM,i.su,v,h);Q.e.Zp(i.fa,i.lw,v,h,I.channel,h,1);
return Q.ZQ(v,j.channel)}};K.prototype.dH=function(w,I,E,X){var o=this.e2;o.lw.offset(I,E);var i=o.su.jB(o.lw);
if(o.yA<=0){var h=Q.$(i.A()*4);Q.D6(o.iM,o.su,h,i);Q.e.gF("norm",o.fa,o.lw,h,i,i,1);this.buffer=h;this.rect=i;
this.M()}else{var k=this.yA==1?this.pi():this.Em(w).D,x=Q.$(i.A());x.fill(k.color);Q.b_(o.iM,o.su,x,i);
Q.e.Zp(o.fa,o.lw,x,i,X.channel,i,1);k.channel=x;k.rect=i.clone();if(this.yA==1){k.$o=!0;this.kH(w)}if(this.yA==3)this.M()}};
K.prototype.agE=function(){var w=[-1,0,1,2];if(this.D)w.push(-2);if(this.Zk)w.push(-3);return w};K.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
K.prototype.G_=function(eS){this.add.luni=this.name=eS};K.prototype.vM=function(w){var I=this.add.lnsr,E=this.add.TySh;
if(I=="rend"&&E){var X=bQ.Of(E.Da);this.G_(X.slice(0,X.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
K.prototype.TH=function(){return(this.Bo&1<<1)==0};K.prototype.N$=function(){return(this.Bo&1<<4)==0};
K.prototype.e_=function(){return(this.Bo&1<<5)!=0};K.prototype.a3o=function(){var w=this;if(w.add.lnsr!="bgnd"){w.add.lnsr="bgnd";
w.G_("Background");w.add.lspf=1<<2}};K.prototype.agb=function(){var w=this;if(w.add.lnsr=="bgnd"){delete w.add.lnsr;
w.G_("Layer 0");w.add.lspf=0}};K.prototype.B2=function(w){var I=this.add.lspf;return I==null?!1:(I>>w&1)!=0};
K.prototype.Wz=function(w){if(w&&!this.TH())this.Bo-=2;if(!w&&this.TH())this.Bo+=2};K.prototype.z_=function(){var w=this.add.lmfx;
if(w==null)return!1;for(var I in w){if(I=="masterFXSwitch")continue;if(I=="Scl")continue;if(I=="classID")continue;
if(w[I].v.length>0)return!0}return!1};K.prototype.r3=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
K.prototype.qW=function(){var w=this.add.lmfx;if(w==null)return!1;if(!w.masterFXSwitch.v)return!1;for(var I in w){if(I=="masterFXSwitch")continue;
if(I=="Scl")continue;if(I=="classID")continue;var E=w[I].v;for(var P=0;P<E.length;P++)if(E[P].v.enab.v)return!0}return!1};
K.prototype.MI=function(w,I,E,X){var o=new dC,i=this.te(w,E,X);if(i.indexOf(0)!=-1)o=o.jB(this.rect);
if(i.indexOf(1)!=-1){var h=this.pi(),k=h.eB();o=E&&h.BL()==0?o.qo()?k:o.LP(k):o.jB(k)}if(i.indexOf(2)!=-1){var x=this.add.vmsk,j=this.add.vstk,v;
if(I){v=Q.O.sM(x.j,x.g.length!=0?x.g:null)}else v=Q.O.sM(x.j);if(!X&&j&&j.strokeEnabled.v){var _=j.strokeStyleLineAlignment.v.strokeStyleLineAlignment,L=j.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(_!="strokeStyleAlignInside"){var U=j.strokeStyleLineWidth.v.val;if(L=="strokeStyleMiterJoin")v=new dC(0,0,w.q,w.w);
else v.Cs(U,U)}}o=o.jB(v)}if(i.indexOf(3)!=-1)o=o.jB(this.Em(w).D.eB());if(i.length==0&&this.us())o=X?new dC(0,0,0,0):new dC(0,0,w.q,w.w);
return o};K.prototype.Ld=function(){var w=this.add.artb,I=w.artboardBackgroundType.v,E=0;if(I==1)E=4294967295;
else if(I==2)E=4278190080;else if(I==3)E=0;else if(I==4){E=w.Clr.v;E=255<<24|E.Bl.v<<16|E.Grn.v<<8|E.Rd.v}else throw I;
return E};K.prototype.Z9=function(){var w=this.add.artb.artboardRect.v,I=w.Btom.v,E=w.Left.v,X=w.Rght.v,top=w.Top.v;
return new dC(E,top,X-E,I-top)};K.prototype.CZ=function(w){var I=K.Ug(w);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=I};K.Ug=function(w){var I={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
I.Btom.v=w.y+w.w;I.Left.v=w.x;I.Rght.v=w.x+w.q;I.Top.v=w.y;return I};K.prototype.te=function(w,I,E){var X=[],o=this;
if(!I&&o.Fq&&E){X.push(2)}else if(o.yA<=0||I){if(o.N$())if(!this.rect.qo())X.push(0);if(o.pi()&&!o.pi().rect.qo())if(o.pi().Rh||I)X.push(1);
if(o.add.vmsk)if(o.add.vmsk.Rh||I)X.push(2);if(o.r3()&&o.Em(w).D&&!o.Em(w).D.rect.qo())X.push(3)}else if(o.yA==1){X.push(1);
if(o.pi().Rh&&!o.pi().rect.qo()){if(o.N$())if(!this.rect.qo())X.push(0);if(o.add.vmsk)if(o.add.vmsk.Rh)X.push(2)}}else if(o.yA==3&&!o.Em(w).D.rect.qo())X.push(3);
if(o.add.artb&&X.indexOf(0)==-1)X.push(0);X.sort();return X};K.prototype.pi=function(){var w=this;return w.Zk?w.Zk:w.add.vmsk&&w.add.vmsk.isEnabled?null:w.D};
K.prototype.Em=function(w){var I=this.add.SoLd.placed.v,E=w.add.FEid;if(E==null)return null;for(var P=0;
P<E.length;P++)if(E[P].id==I)return E[P];return null};K.prototype.extend=function(w){Q.a5n(this,w)};
K.prototype.a1q=function(w,I,E){var X=w.clone();if(this.qW()){var o=this.add.lmfx,i=I.root.qx(I.b.indexOf(this)),h=o.gradientFillMulti.v,k=!1;
for(var P=0;P<h.length;P++)if(h[P].v.enab.v&&h[P].v.Algn.v)k=!0;if(k)X=X.jB(i.eB(I,!1));var x=aQ.air(this.add.lmfx,I,E);
X.offset(x.x,x.y);X.q+=x.q;X.w+=x.w}return X};K.prototype.G1=function(){if(this.N$())Q.Hw(this);var w=this.pi();
if(w)w.G1()};K.prototype.clone=function(){var w=new K;w.rect=this.rect.clone();w.buffer=this.buffer.slice(0);
w.$B=this.$B;w.opacity=this.opacity;w.ws=this.ws;w.Bo=this.Bo;w.name=this.name;w.xs=this.xs.slice(0);
if(this.D)w.D=this.D.clone();if(this.Zk)w.Zk=this.Zk.clone();for(var I in this.add)w.add[I]=bN.clone(I,this.add[I]);
return w};K.prototype.Ev=function(w){var I=this;if(I.add.TySh)delete I.add.TySh;if(I.add.SoLd){var E=this.Q4(w,this.buffer,this.rect);
if(E){this.buffer=E.Fr;this.rect=E.rect;this.M()}delete I.add.SoLd}if(I.add.SoCo||I.add.GdFl||I.add.PtFl){if(I.add.vogk)delete I.add.vogk;
if(I.add.SoCo)delete I.add.SoCo;if(I.add.GdFl)delete I.add.GdFl;if(I.add.PtFl)delete I.add.PtFl;if(I.add.vmsk){console.log(I.Zk,I.D);
delete I.add.vmsk;if(I.Zk==null&&I.D)delete I.D;else if(I.Zk!=null&&I.D!=null){I.D=I.Zk;delete I.Zk}}}if(!I.vD()&&cz.get(I.add)==null&&!this.N$())this.Bo-=16};
K.prototype.xG=function(w){var I=255,E=0;if(w==2){var X=this.add.SoLd.filterFX.v;if(X.filterMaskDensity)I=X.filterMaskDensity.v;
if(X.filterMaskFeather)E=X.filterMaskFeather.v}else{var o=w==0?this.pi():this.add.vmsk;I=o.zy;E=o.o6}return{tB:w,N0:I,yD:E}};
K.prototype.a1x=function(w){if(w.tB==2){var I=this.add.SoLd.filterFX.v;if(w.N0==255)delete I.filterMaskDensity;
else I.filterMaskDensity={t:"long",v:w.N0};if(w.yD==0)delete I.filterMaskFeather;else I.filterMaskFeather={t:"doub",v:w.yD};
this.M()}else{var E=w.tB==0?this.pi():this.add.vmsk;E.zy=w.N0;E.o6=w.yD;E.$o=!0}};K.prototype.QQ=function(){var w=this,I=w.add.vmsk;
if(I==null)return;w.add.vogk=Q.GJ.ac2(I.j)};K.QQ=function(w){var I=[],E=Q.O.RZ(w);for(var X=0;X<E;X++)I.push(Q.GJ.xd());
return I};var gs={PJ:0,Y_:1,S2:2,sz:3};K._x=function(){this.name="Mask";this.ag=!1;this.vA={o:255,P:0,L:0};
this.jI=50;this.Vq=0;this.color=255;this.Rh=!0;this.isEnabled=!0;this.ln=!1;this.zy=255;this.o6=0;this.rect=new dC;
this.channel=Q.$(0);this.W_=null;this.arw=null;this.$o=!0};K._x.prototype.og=function(w){if(!this.isEnabled)return w;
var I=new K._x;I.color=Math.round(this.BL()*w.BL()/255);if(this.BL()==0&&w.BL()==0)I.rect=this.eB().LP(w.eB());
else if(w.BL()==0)I.rect=w.eB().clone();else if(this.BL()==0)I.rect=this.eB().clone();else I.rect=this.eB().jB(w.eB());
I.channel=this.SQ(I.rect);I.zy=255;I.o6=0;var E=w.SQ(I.rect);Q.av7(E,I.rect,I.channel,I.rect);return I};
K._x.prototype.eB=function(){if(this.o6==0)return this.rect;var w=Math.ceil(this.o6*2.2),I=this.rect.clone();
if(I.y==0){if(I.x==0)I.q+=w;else I.Cs(w,0);I.w+=w}else I.Cs(w,w);return I};K._x.prototype.R4=function(){if(this.o6==0&&this.zy==255)return this.channel;
if(this.o6==0){var w=this.channel.slice(0);Q.ja(w);Q.aG(w,this.zy/255);Q.ja(w);return w}var I=this.eB(),E=this.agl(I),w=Q.$(I.A());
Q.iG.sB(E,w,I,this.o6);if(this.zy!=255){Q.ja(w);Q.aG(w,this.zy/255);Q.ja(w)}return w};K._x.prototype.BL=function(){return Math.round(255-(255-this.color)*(this.zy/255))};
K._x.prototype.extend=function(w){Q.extend(this,w,this.color)};K._x.prototype.G1=function(){if(this.color==255)Q.ja(this.channel);
Q.G1(this);if(this.color==255)Q.ja(this.channel)};K._x.prototype.clone=function(){var w=new K._x;w.name=this.name;
w.ag=this.ag;w.vA=this.vA;w.jI=this.jI;w.Vq=this.Vq;w.color=this.color;w.Rh=this.Rh;w.isEnabled=this.isEnabled;
w.ln=this.ln;w.zy=this.zy;w.o6=this.o6;w.rect=this.rect.clone();w.channel=this.channel.slice(0);return w};
K._x.prototype.agl=function(w,I){if(I==null)I=Q.$(w.A());I.fill(this.color);Q.b_(this.channel,this.rect,I,w);
return I};K._x.prototype.SQ=function(w,I){var E=this.eB(),X=this.R4();if(I==null)I=Q.$(w.A());I.fill(this.BL());
Q.b_(X,E,I,w);return I};K.DN=function(){this.Rh=!0;this.isEnabled=!0;this.zy=255;this.o6=0;this.j=[{type:6},{type:8,all:0}];
this.A8=[-3,-3];this.kW=!1;this.Zk=null;this.$o=!0;this.g=[];this.pa=[]};K.DN.prototype.offset=function(w,I){this.Zk=this.pi();
Q.O.yJ(this.j,new am(1,0,0,1,w,I));this.Zk.rect.offset(w,I)};K.DN.prototype.pi=function(w){if(!this.$o&&this.Zk&&w==null){this.Zk.isEnabled=this.isEnabled;
return this.Zk}var I=Q.O.sM(this.j),E="strokeStyleLineAlignment",X="strokeStyleLineJoinType";if(I.A()>3e4*3e4)I=new dC(0,0,100,100);
if(w&&w[E].v[E]!="strokeStyleAlignInside"){var o=1;if(w[X].v[X]=="strokeStyleMiterJoin"){var i=Q.O.an1(this.j),h=i/2,k=Math.sin(h),x=Math.cos(h);
x/=k;k=1;var o=Math.sqrt(x*x+k*k);if(isNaN(o)||o<1)o=1}o*=w[E].v[E]=="strokeStyleAlignOutside"?1:.5;
var j=Math.ceil(w.strokeStyleLineWidth.v.val*o);j=Math.min(j,600);I.Cs(j,j)}I=Q.p.i1(I);var v=new K._x;
v.color=Q.O.u9(this.j)?0:255;v.Rh=this.Rh;v.isEnabled=this.isEnabled;v.ln=!0;v.rect=I;v.zy=this.zy;v.o6=this.o6;
v.channel=Q.$(v.rect.A());if(!I.qo())Q.O.afj(this.j,v.channel,v.rect,w);if(w==null){this.Zk=v;this.$o=!1}return v};
K.DN.prototype.clone=function(){var w=new K.DN;w.Rh=this.Rh;w.isEnabled=this.isEnabled;w.zy=this.zy;
w.o6=this.o6;w.j=K.DN.ER(this.j);w.A8=this.A8.slice(0);w.kW=this.kW;w.g=this.g.slice(0);w.pa=this.pa.slice(0);
return w};K.DN.prototype.concat=function(w){var I=w.j.slice(2);if(I.length==0)return;I[0].KP=3;this.j=this.j.concat(I)};
K.DN.ER=function(w){var I=[];for(var P=0;P<w.length;P++){var E=w[P];if(E.type>5||E.type==0||E.type==3)I.push(JSON.parse(JSON.stringify(E)));
else I.push({type:E.type,DX:E.DX.clone(),H:E.H.clone(),kk:E.kk.clone()})}return I};K.DN.agK=function(w,I,E){if(w.length!=I.length)return!1;
for(var P=2;P<w.length;P++){var X=w[P],o=I[P];if(X.type!=o.type)return!1;if(X.type==0||X.type==3){if(X.length!=o.length||!E&&X.KP!=o.KP)return!1}else if(!X.DX.ZQ(o.DX)||!X.H.ZQ(o.H)||!X.kk.ZQ(o.kk))return!1}return!0};
K.DN.prototype.aeE=function(){var w=this.j;for(var P=3;P<w.length;P++)if(w[P].type==0||w[P].type==3)w[P].KP=-1};
K.NX=function(){this.type=null;this.Wt=2;this.wl=null;this.Ov="";this.BM="";this.Va="";this.open=0;this.raw=null;
this.lG=null;this.afM="";this.NZ=!1};K.NX.prototype.clone=function(){var w=new K.NX;w.type=this.type;
w.Wt=this.Wt;w.wl=this.wl;w.Ov=this.Ov;w.BM=this.BM;w.Va=this.Va;w.open=this.open;w.raw=new Uint8Array(this.raw.buffer.slice(0));
return w};K.NX.prototype.sQ=function(w,I,E,X,o){if(E==null)E="none";var i=this,h=gt.mq(i.raw.buffer),k=h=="svg"||h=="pdf";
if(i.lG){var x=I&&k&&Math.max(i.lG[1].q,i.lG[1].w)<Math.max(I[0],I[1]);if(!x&&E==this.afM&&!i.NZ)return}this.afM=E;
if(!k)w=0;if(h==null){alert("Unsupported format: "+M.jz(i.raw,0,4));return null}var j=gt.FB(h);if(j.RJ){var v=new hg(name+(h=="psd"?"":"-"+h)+".psd"),_;
j.CE(i.raw.buffer,v,I);var L=new dC(0,0,v.q,v.w);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(E)!=-1){var U=[];
for(var P=0;P<v.b.length;P++){var n=v.b[P],a=n.buffer;if(!n.rect.ZQ(L)){a=Q.$(L.A()*4);Q.D6(n.buffer,n.rect,a,L);
console.log("resizing")}U.push(a)}_=Q.$(L.A()*4);Q.stack.stack(U,_,E)}else{for(var P=0;P<v.b.length;
P++)if(v.b[P].us())v.b[P].kH(v);if(X&&v.NZ){var T=fv.atf(v,X,o);i.NZ=!T;if(T)fv.a6t(v,X,o)}v.sI();v.M();
v.vL();_=v.sQ()}i.lG=[_,L];i.nN=v.nN!=null&&v.nN!=0?v.nN:72}else if(j){var g=j.CE(i.raw.buffer)[0];i.lG=[new Uint8Array(g.data),g.WG];
i.nN=g.nN!=null&&g.nN!=0?g.nN:72}if(i.lG){if(w==1){var a=i.lG[0],D=i.lG[1],b=Q.$(D.A());Q.qe(a,b,3);
var N=Q.dM(b,D),C=Q.$(N.A()*4);Q.D6(a,D,C,N);i.lG=[C,N]}Q.RQ(i.lG)}};K.Ss="0";K.Ii="2";K.zY="2.5";K.jH="2.6";
K.nJ="3";K.ZM="4";K.l7="4.5";K.al$="4.6";K.ar_="5";K.pn="5.5";K.a40="6";K.lv="7";K.as2="8";K.dN="9";
K.Tw="9.3";K.adg="9.5";K._V="9.6";K.$X="10";K.j0="11";K.A$="12";K.qh="13";K.iX="13.1";K.ak7="13.2";K.YQ="13.3";
K.Xi="13.4";K.PK="14";K.wP="14.1";K._J="14.2";K.h7="14.3";K.nP="17";K.Vg="18";K.avv="19";K.u7="19.5";
K.wR="19.6";K.zw="19.7";K.Gb="19.8";K.L$="20";K.In="21";K.bU="21.5";K.cO="22";K.d5="22.5";K.v8="23";
K.a2J="24";K.L4="25";K.anz="26";K.a0C="27";K.gU="28";K.$R="29";K.sc="30";K.pk="31";K.FD="32";K.yu="33";
K.Gu="34";K.WF="35";K.Ic="36";K.g6="36.5";K.jK="37";K.ta="37.5";K.ah3="37.6";K.Ku="38";K.le="38.5";K.Qk="38.6";
K.VK="39";K.Eu="40";K.a0q="41";K.am3="42";K.MU="50";K.jl="51";K.s5="52";K.i6="53";K.j6="54";K.ai$="54.5";
K.RY="54.6";K.aos="54.7";K.zb="54.8";K.SI="55";K.Qg="56";K.If="57";K.eL="58";K.n4="59";K.cN="60";function bG(){this.depth=0;
this.index=-1;this.l=null;this.apU=null;this._F=-1;this.children=null;this.parent=null;this.JT=null}bG.prototype.a5Z=function(w,I){if(this.depth!=0)w.push(this.l.getName());
if(this.children)for(var P=0;P<this.children.length;P++)this.children[P].a5Z(w,I);if(w.length>I.P$.length)I.P$=w.slice(0);
if(this.depth!=0)w.pop()};bG.prototype.afO=function(){var w=0;if(this.l.vD()){for(var P=0;P<this.children.length;
P++)w+=this.children[P].afO()}else if(this.l.buffer)w+=this.l.buffer.length;return w};bG.prototype.qx=function(w){var I=this.JT[w];
return this.JT[w]};bG.prototype.akO=function(w,I){var E=this.l;if(!E.TH()||E.B2(2)||E.B2(31))return null;
if(E.rn()){var X=E.D.rect.XU(w);if(!X&&E.D.color==0)return}if(E.vD()){for(var P=0;P<this.children.length;
P++){var eS=this.children[P];eS.akO(w,I)}}else if(E.rect.XU(w))I.push(this.index)};bG.prototype.Mj=function(w,I){var E=this.l;
if(!E.TH()||E.B2(2)||E.B2(31))return null;if(E.rn()){if(E.D.rect.sF(w)){if(!Q.Mj(w,E.D.channel,E.D.rect))return null}else if(E.D.color==0)return null}if(E.vD()){if(E.add.artb&&!E.Z9().sF(w))return null;
for(var P=this.children.length-1;P>=0;P--){var eS=this.children[P],X=eS.Mj(w,I);if(X&&I==null)return X}return null}else if(E.add.TySh&&E.rect.sF(w)||Q.amk(w,E.buffer,E.rect)){if(I==null)return this;
else I.push(this.index)}return null};bG.prototype.aj_=function(w){var I=this.l;if(!I.TH()||I.B2(2)||I.B2(31))return null;
var E=I.add.vmsk;if(E&&E.isEnabled){var X=Q.O.Mj(E.j,w).qI;if(X!=-1)return{a0Q:this,a09:X}}if(I.vD()){if(I.add.artb&&!I.Z9().sF(w))return null;
for(var P=this.children.length-1;P>=0;P--){var eS=this.children[P],o=eS.aj_(w);if(o)return o}return null}return null};
bG.prototype.ac7=function(w,I){w.push(this.index);if(this.l.vD()){w.push(this._F);if(I)if(this.l.yA==1&&this.l.pi().Rh==!1)return;
for(var P=0;P<this.children.length;P++)this.children[P].ac7(w)}};bG.A6=function(){var w=document.createElement("canvas");
return w.getContext("2d")};bG.Lx=32;bG.prototype.e6=function(w,I,E){var X=this.l,i,h;if(X.vD()&&X.add.artb!=null)I=X.Z9();
var o=bG.Lx*q.V();if(I.q>I.w){i=o;h=Math.floor(o*(I.w/I.q))}else{i=Math.floor(o*(I.q/I.w));h=o}if(X.us()&&X.add.vmsk==null||X.add.TySh)i=h=Math.max(h,16);
else{i=Math.max(i,6);h=Math.max(h,6)}var k=h;if(E&&X.OH==null){X.OH=bG.A6();X.Tf=bG.A6();X.rO=bG.A6();
X.i4=bG.A6()}var x=X.us()&&X.add.vmsk;if(x){var j=X.rect.clone(),L,U;if(j.qo())j=new dC(0,0,20,20);var v=j.q,_=j.w;
if(v>_){L=o;U=Math.floor(o*(_/v))}else{L=Math.floor(o*(v/_));U=o}if(L*U==0)L=U=16;if(E)Q.P6._5(X.OH,L,U,j,X.buffer,X.rect,!1);
if(E)Q.P6.aed(X.OH,L,U);k=U}else if(X.add.TySh){if(E)Q.P6.aii(X.OH,k,k,X.add.TySh)}else if(X.add.SoCo){k=Math.max(16,Math.min(i,h));
if(E)Q.P6.aoi(X.OH,k,k,X.add.SoCo)}else if(X.add.GdFl){if(E)Q.P6.awz(X.OH,k,k,X.add.GdFl)}else if(X.add.PtFl){if(E)Q.P6.ahe(X.OH,k,k,X.add.PtFl,w)}else if(cz.get(X.add)!=null){if(E)Q.P6.ake(X.OH,k,k,X.add)}else if(X.add.SoLd){if(E)Q.P6._5(X.OH,i,h,I,X.buffer,X.rect,!1);
if(E)Q.P6.aq$(X.OH,i,h,X.add.SoLd)}else if(X.vD()){k=16}else{if(E){if(X.N$())Q.P6._5(X.OH,i,h,I,X.buffer,X.rect,!1);
else{Q.P6.akM(X.OH,k,k)}}}var n=X.pi();if(E){if(n)Q.P6.zG(X.Tf,i,h,I,n);if(X.r3()&&X.Em(w)&&X.Em(w).D){var a=X.Em(w).D;
Q.P6.zG(X.i4,i,h,I,a)}if(!x&&X.add.vmsk){Q.P6.zG(X.rO,i,h,I,X.add.vmsk.pi(),!0)}}if(X.add.vmsk||n)k=Math.max(k,h);
X.ajI=Math.max(k,16);if(E!=!0&&X.vD()&&(X.add.lsct==gs.Y_||w.b.length<4e3))for(var P=0;P<this.children.length;
P++)this.children[P].e6(w,I)};bG.prototype.asY=function(w,I,E,X){this.depth=E;var o=w[I];if(X==null)X=[];
this.JT=X;if(o.add.lsct==gs.sz){this.apU=o;this._F=I-1;this.children=[];var P=I+1;while(!0){var i=w[P];
if(i==null)console.log(P,w.length);if(i.add.lsct==gs.Y_||i.add.lsct==gs.S2){if(o.add.lyid==i.add.lyid)o.add.lyid+=16777215;
this.l=i;this.index=P-1;X[this.index]=this;X[I-1]=this;break}var h=new bG;h.parent=this;P=h.asY(w,P,E+1,X);
this.children.push(h)}return P+1}else{this.l=o;this.index=I-1;X[this.index]=this;return I+1}};bG.prototype.dp=function(w,I,E,X){var o=this.qx(E),i=w;
while(o.parent!=null){i=o.l.a1q(i,I,X);o=o.parent}return i};bG.prototype.eB=function(w,I){var E=this.l,X=new dC;
if(!E.TH())return X;var o=E.pi();if(E.vD())for(var P=0;P<this.children.length;P++){var i=this.children[P].eB(w,!0);
X=X.jB(i)}else if(cz.get(E.add)!=null)X=E.rn()&&E.D.color==0?E.D.eB().clone():new dC(0,0,w.q,w.w);else if(E.us()&&E.add.vmsk&&E.add.vmsk.isEnabled&&E.add.vstk){X=E.rect.clone()}else if(E.us()&&o&&o.isEnabled&&o.BL()!=0)X=new dC(0,0,w.q,w.w);
else{X=E.MI(w,!1,!0);if(E.add.vmsk)X=Q.p.i1(X)}return I?E.a1q(X,w):X};bG.gh={delete:function(w){if(w&&w.q)w.delete()},$:function(w,I){return R.U7?new R.hV(w,I):Q.$(w*I*4)},xe:function(w,I,E){if(R.U7){if(w==null||w.q!=I||w.w!=E){bG.gh.delete(w);
return new R.hV(I,E)}}else{if(w==null||!(w instanceof Uint8Array)||w.length!=I*E*4){bG.gh.delete(w);
return Q.$(I*E*4)}}return w},b_:function(w,I,E,X,o){(R.U7?R.eI:Q.D6)(w,I,E,X,o)},Wg:function(w,I,E,X,o,i,h,k,P,x,j){(R.U7?R.e.Xs:Q.e.Wg)(w,I,E,X,o,i,h,k,P,x,j)},anA:function(w,I,E,X,o,i,h,k){var x=E.clone(),j=o.q,v=o.w,_=x.x,L=x.y,U=x.x+x.q>j?-1:0,n=x.x<0?2:1,a=x.y+x.w>v?-1:0,T=x.y<0?2:1;
for(var g=a;g<T;g++)for(var D=U;D<n;D++){x.x=_+D*j;x.y=L+g*v;bG.gh.gF(w,I,x,X,o,i,h,k)}},gF:function(w,I,E,X,o,i,h,k){if(R.U7)R.e.QE(w,I,E,X,o,i,h,k);
else Q.e.gF(w,I,E,X,o,i,h,k)},Ez:function(w,I,E){if(R.U7){R.yS(w);R.Q9(I,E)}else Q.Ez(w,I,E)},alb:function(w,I,E,X,o){if(R.U7){R.e.Xs(null,null,X,o,w,I,E,o,1,!1)}else{if(E==255)Q.HQ(w,I,X,o);
else{var i=Q.$(I.A());Q.ho(X,o,i,I);Q.tT(w,i);Q.Ez(X,0,16777215);Q.iO(i,I,X,o)}}},oq:function(w,I,E,X){if(R.U7)R.e.Xs(null,null,E,X,w,I,0,X,1,!1);
else Q.oq(w,I,E,X)}};bG.prototype.K$=function(w,I,E,X,o,i){var h=typeof i=="number";if(!this.l.vD()&&(h&&this.index>i||!h&&i.indexOf(this.index)==-1)){return}var k=this.l,x=aQ.g0(k),j=bG.gh,v=k.us()?k.pi():k.D;
if(!k.TH())return;if(k.rn()&&v.rect.qo()&&v.BL()==0){return}if(k.add.vstk==null&&this.eB(X,!1).qo()){return}var _=this.eB(X,!0).LP(E);
if(!I.ZQ(E)&&!E.XU(_))return;if(k.vD()&&k.add.artb){var L=k.Z9();E=E.LP(L)}var U=bG.amX(k,o,x);if(!U){this.a5H(w,I,E,X,o,i);
return}k.Nu.h6=j.xe(k.Nu.h6,_.q,_.w);j.b_(w,I,k.Nu.h6,_,E);this.a5H(k.Nu.h6,_,E,X,o,i);j.Wg(k.Nu.h6,_,w,I,null,null,0,E,k.opacity/255,k.$B=="diss",x.i_)};
bG.amX=function(w,I,E){if(E.i_[0]*E.i_[1]*E.i_[2]==0)return!0;return w.opacity!=255&&(I.length!=0||w.vD()||w.qW())};
bG.atV={Nu:{}};bG.prototype.a5H=function(w,I,E,X,o,i){var h=this.l,k=aQ.g0(h),x=cz.get(h.add)!=null,j=bG.gh,v=bG.amX(h,o,k),_=v?1:h.opacity/255,L=h.us()?h.pi():h.D,U=h.vD()&&k.Sn==null&&(h.$B=="pass"||h.add.artb)&&!(o.length>0||k.fill!=1||h.qW()),n=!h.vD()&&!x&&!h.qW()&&o.length==0,a=x&&!h.qW()&&o.length==0,C=null,Z=null,S=null,l;
if(U||n||a){var T=w,g=I;if(h.rn()){g=this.eB(X,!1);T=h.Nu.Rs=j.xe(h.Nu.Rs,g.q,g.w);j.b_(w,I,h.Nu.Rs,g)}if(U)this.xI(T,g,E,X,i);
if(n)j.gF(h.$B,h.aeY(X),h.rect,T,g,E,_,k);if(a){var D=h.rn()&&L.BL()==0?L.eB().clone():g.clone(),b=h.Nu;
if(D.ZQ(new dC(0,0,X.q,X.w)))b=bG.atV;b.$j=this.aa8(T,g,b.$j,D,h.add);k.zl=!0;j.gF(h.$B,b.$j,D,T,g,E,_,k)}if(h.rn())j.Wg(T,g,w,I,h.ahq(),L.eB(),L.BL(),E,1,h.$B=="diss");
h.Nu.ara();return}var N=h.vD()&&h.$B=="pass"&&(o.length>0||k.fill!=1||h.qW()),D=h.rect;if(h.vD()){D=this.eB(X,!1);
S=h.Nu.$j=j.xe(h.Nu.$j,D.q,D.w);j.Ez(S,0);this.xI(S,D,D,X,i);Z=j.xe(h.Nu.f_,D.q,D.w);j.b_(S,D,Z,D)}else if(x){D=h.rn()&&L.BL()==0?L.eB().clone():I.clone();
Z=j.xe(h.Nu.f_,D.q,D.w);j.Ez(Z,4294967295)}else{D=h.rect;C=h.aeY(X);Z=j.xe(h.Nu.f_,D.q,D.w);j.b_(C,D,Z,D)}h.Nu.f_=Z;
if(h.rn())j.alb(h.ahq(),L.eB(),L.BL(),Z,D);if(h.qW())if(h.Nu.Pw||h.Nu.MH||h.Nu.QA!=R.U7||h.Nu.fk||h.vD()){var u=h.add.vmsk,p=Q.$(D.A());
if(aQ.awI(h.add.lmfx)){if(R.U7){if(!h.vD()&&h.pi()==null&&h.rect.ZQ(D)&&u==null)Q.qe(h.buffer,p,3);else{var f=Q.$(D.A()*4);
Z.get(f);Q.qe(f,p,3)}}else Q.qe(Z,p,3)}if(h.Nu.MH||h.Nu.QA!=R.U7||!Q.ZQ(p,h.Nu._3)){var d=null;if(h.us()&&u&&u.isEnabled&&u.pi().color==0)d=u.pi().rect;
aQ.asv(h.Nu.OG);h.Nu.OG=aQ.acq(p,D,h.add.lmfx,h.add.fxrp,X,d);h.Nu._3=p;h.Nu.ahw=D}}if(h.qW())aQ.awn(h.add.lmfx,h.Nu.OG,D,w,I,E);
if(h.vD()){C=j.xe(h.Nu.Rs,D.q,D.w);j.Ez(C,0);if(h.$B=="pass")j.b_(w,I,C,D);if(N)j.oq(S,D,C,D);this.xI(C,D,E,X,i);
h.Nu.Rs=C}if(x){C=h.Nu.Rs=this.aa8(w,I,h.Nu.Rs,D,h.add)}if(h.vD()||x)l=C;else{l=j.xe(h.Nu.Rs,D.q,D.w);
j.b_(C,D,l,D,E);h.Nu.Rs=l}j.Ez(l,4278190080,16777215);for(var P=0;P<o.length;P++)o[P].K$(l,D,E,X,[],i);
var A=h.Nu.pm=j.xe(h.Nu.pm,D.q,D.w);j.b_(w,I,A,D,E);if(x)k.zl=!0;j.gF(h.$B=="pass"?"norm":h.$B,l,D,A,D,E,1,k);
if(h.qW()){var B=h.Nu.OG.type.FrFX,e=null;if(B.length!=0){e=B[0];for(var P=0;P<B.length;P++)if(B[P].Qr.q>e.Qr.q)e=B[P];
h.Nu.Nt=j.xe(h.Nu.Nt,e.Qr.q,e.Qr.w);j.b_(w,I,h.Nu.Nt,e.Qr,E);h.Nu.dP=j.xe(h.Nu.dP,e.Qr.q,e.Qr.w)}aQ.a78(h.add.lmfx,h.Nu.OG,D,w,I,E,A,h.Nu.Nt,h.Nu.dP,e?e.Qr:null)}if(!R.U7){var m=Q.$(D.A());
Q.qe(Z,m,3);Z=m}j.Wg(A,D,w,I,Z,D,0,E,1,h.$B=="diss");h.Nu.ara()};bG.prototype.aa8=function(w,I,E,X,o){var i=cz.get(o),h;
if(i)h=cz.S9(i,o[i]);var k=bG.gh;E=k.xe(E,X.q,X.w);if(!(R.U7&&I.ZQ(X)))k.b_(w,I,E,X);if(h){if(R.U7){var x=X.clone();
x.x=x.y=0;if(I.ZQ(X)){R.yS(E,x);cz.iN(h,w.q3,x)}else{R.yS(E,X);E.Xt(X);cz.iN(h,E.T6,x)}}else cz.$Z(h,E,E,X)}return E};
bG.prototype.xI=function(w,I,E,X,o){var i=I,h=i.q,k=i.w,x=i.x,j=i.y,eS=E,v=eS.x,_=eS.y,L=-1,U=-1,n=2,a=2;
if(!X.Qb){L=U=0;n=a=1}var T=this.children;for(var P=0;P<T.length;P++){var g=[];for(var D=P+1;D<T.length;
D++)if(T[D].l.ws)g.push(T[D]);else break;for(var b=U;b<a;b++)for(var N=L;N<n;N++){i.x=x+N*h;i.y=j+b*k;
eS.x=v+N*h;eS.y=_+b*k;T[P].K$(w,i,eS,X,g,o)}P+=g.length}i.x=x;i.y=j;eS.x=v;eS.y=_};function hg(w){this.qM="psd";
this.GO=!1;this.name=w;this.MS=-1;this.Qb=!1;this.kl=null;this.Co=null;this.Gt=null;this.FP=null;this.q=0;
this.w=0;this.buffer=null;this.b=[];this.SR={};this.add={};this.xF=4;this.Fy=null;this.nN=72;this.cl={};
this.g=[];this.l2=[];this.iJ=!1;this.V7=[];this.DP=[];this.c1=[hg.fx("Work Path")];this.c0=[];this.ko=null;
this.ww={classID:"CompList",list:{t:"VlLs",v:[]}};this.Ot=[];this.p2=[];this.root=null;this.Sx=null;
this.NZ=!1;this.a7r=!1;this.a8d=!1;this.wr=!1;this.EZ=!1;this.WV=!1;this.oP=!1;this.cW=!1;this.wI=!1;
this._G=!1;this.Pw=null;this.Os=null;this.n=null;this.K3=[];this.Y1=[];this.I={M0:{},jS:[],aq4:[],cK:[],A_:[],vC:null,KJ:null,gy:null,vo:null,ms:null,v5:[],E8:[],fW:null};
this.history=[new fL([1,0],null)];this.lZ=0;this.eq=0;this.Q7=0;this.u=new bm(this);this.YW=null;this.tk=null}hg.j_=function(){var w=8,I=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
I=a8.Xg(w,I);return[w,I]}();hg.prototype.eA=function(w){if(w){if(w.length==30240){this.eA(null);return}this.SR.r1039=w;
var I=ICC.R(w.buffer),o=null,i=17,x,j;if(I==null){this.eA(null);return}var E=I.header.spaceIn.toLowerCase(),X=JSON.stringify(I.tags.desc).toLowerCase();
try{o=ICC.U.profileName(I)}catch(df){}if(E!="rgb "||o==null||X.indexOf("srgb")!=-1){this.eA(null);return}console.log("We got an ICC profile!",I,o);
try{var h=ICC.U.sampleLUT(I,i)}catch(df){this.eA(null);return}var k=h.slice(0),v=Q.$(4),_=hg.j_[0],L=hg.j_[1];
for(var P=0;P<h.length;P+=3){v[0]=h[P]*255;v[1]=h[P+1]*255;v[2]=h[P+2]*255;ICC.U.applyLUT(L,_,v,v);k[P]=v[0]/255;
k[P+1]=v[1]/255;k[P+2]=v[2]/255}if(R.U7){x=new R.hV(i,i*i);x.set(ICC.U.rgba8LUT(h,i));j=new R.hV(i,i*i);
j.set(ICC.U.rgba8LUT(k,i))}this.YW=[w,I,i,h,x,k,j]}else{delete this.SR.r1039;this.YW=null}};hg.prototype.bx=function(){return this.YW};
hg.prototype.iT=function(){if(this.YW)return this.YW;if(this.add.fcmy==1){if(this.tk==null){var w=hg.j_[0],I=hg.j_[1],E;
if(R.U7){E=new R.hV(w,w*w);E.set(ICC.U.rgba8LUT(I,w))}this.tk=[null,null,w,null,null,I,E]}return this.tk}};
hg.prototype.cu=function(){var w=this;return w.n!=null||w.cm()[1].length!=0||w.g.length>1};hg.prototype.b5=function(){var w=this.l2,I=[];
for(var P=0;P<w.length;P++)I[P]=-1;var E=this.root.children;for(var P=0;P<E.length;P++){var X=E[P],o=X.l.add.artb;
if(o==null)continue;var i=o.guideIndeces;i=i?i.v:[];for(var h=0;h<i.length;h++)I[i[h].v]=X.index}return[JSON.parse(JSON.stringify(w)),I]};
hg.prototype.yL=function(w){this.l2=JSON.parse(JSON.stringify(w[0]));var I=w[1],E=this.root.children;
for(var P=0;P<E.length;P++){var X=E[P],o=X.l.add.artb;if(o==null)continue;o.guideIndeces={t:"VlLs",v:[]}}for(var P=0;
P<I.length;P++)if(I[P]!=-1)this.b[I[P]].add.artb.guideIndeces.v.push({t:"long",v:P})};hg.prototype.afx=function(w){var I=this;
if(w[0])I.add.lnk2=w[0];else delete I.add.lnk2;if(w[1])I.add.FEid=w[1];else delete I.add.FEid;if(w[2])I.add.Patt=w[2];
else delete I.add.Patt};hg.prototype.a6O=function(w){var I=this,E=[],X=[],o=[],n=null,a=null,T=null;
for(var P=0;P<w.length;P++){var i=w[P];if(i.add.SoLd){E.push(i.add.SoLd.Idnt.v);X.push(i.add.SoLd.placed.v)}if(i.add.PtFl)o.push(i.add.PtFl.Ptrn.v.Idnt.v);
if(i.add.lmfx){for(var h=0;h<hL.JR.length;h++){var k=i.add.lmfx[hL.JR[h]].v;for(var x=0;x<k.length;x++)if(k[x].v.Ptrn){var j=k[x].v;
if(j.classID=="FrFX"&&j.PntT.v.FrFl!="Ptrn")continue;o.push(j.Ptrn.v.Idnt.v)}}}var v=i.add.vstk;if(v&&v.strokeStyleContent.v.classID=="patternLayer"){o.push(v.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var _=I.add.lnk2,L=I.add.FEid,U=I.add.Patt;
if(_){n=[];for(var P=0;P<_.length;P++)if(E.indexOf(_[P].wl)!=-1)n.push(_[P]);if(n.length==0)n=null}if(L){a=[];
for(var P=0;P<L.length;P++)if(X.indexOf(L[P].id)!=-1)a.push(L[P]);if(a.length==0)a=null}if(U){T=[];for(var P=0;
P<U.length;P++)if(o.indexOf(U[P].id)!=-1)T.push(U[P]);if(T.length==0)T=null}return[n,a,T]};hg.prototype.ex=function(w){var I=this,E=I.root.qx(w==null?I.g[0]:w),X=!1;
while(E.parent!=null){X=X||E.l.B2(31);E=E.parent}return X};hg.prototype.T5=function(){var w=this.K3,I=this.K3.length;
if(I!=0&&w[I-1].name=="Quick Mask")return w[I-1]};hg.prototype.YC=function(){return this.qM==ap.qD("% |/!)")||this.qM==ap.x1("gP")};
hg.prototype.G0=function(w){var I=this.add.artd;if(w!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:w},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};hg.prototype.j2=function(w){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(w)==-1)this.add.FEid.push(w)};
hg.prototype.oV=function(w){var I=this.add.FEid.indexOf(w);this.add.FEid.splice(I,1);if(this.add.FEid.length==0)delete this.add.FEid};
hg.prototype.M=function(w){if(w==null)w=new dC(0,0,this.q,this.w);if(this.Pw==null)this.Pw=w;else this.Pw=this.Pw.jB(w)};
hg.prototype.axL=function(w){return this.Pw!=null};hg.prototype.EJ=function(w){var I=this.b[w],E=this.root.qx(w);
if(E==null)return!1;if(I.vD()||E.parent.children.indexOf(E)==0)return!1;return!0};hg.awk=function(w){if(w.add.lnk2)for(var P=0;
P<w.add.lnk2.length;P++){var I=w.add.lnk2[P].wl;w.add.lnk2[P].wl=hg.Mz()+I.slice(8);for(var E=0;E<w.b.length;
E++){var X=w.b[E].add.SoLd;if(X&&X.Idnt.v==I)X.Idnt.v=w.add.lnk2[P].wl}}};hg.prototype.L3=function(w,I,E){w.sort(function(_,L){return _-L});
var top=w[w.length-1],X=this.b.slice(0),o=this.g.slice(0),i=[],h=[];for(var P=0;P<this.b.length;P++){if(w.indexOf(P)!=-1)h.push(this.b[P]);
else i.push(this.b[P])}this.DO(h);this.g=[];var k=this.root.eB(this,!0);if(I)k=k.LP(I);if(E)k=k.jB(E);
if(k.qo())k=new dC(0,0,100,100);var x=new dC(-k.x,-k.y,this.q,this.w),j=new Uint8Array(gt.FB("PSD").v6(this,0,0,[!0,!1]));
this.DO(X);this.g=o;var v=new hg(this.b[top].getName());gt.FB("PSD").CE(j.buffer,v);delete v.add.artd;
v.V7=[];v.DO(v.b);v.yL([[],[]]);hg.awk(v);q.EV.JB(v,k);v.M();v.vL();v.sQ();return[v,k,i,top]};hg.prototype.alH=function(w,I,E){var X=this.L3(w),o=X[0],i=X[1],h=X[2],top=X[3],k;
if(E=="jpg")k=new Uint8Array(gt.FB("JPG").v6([[o.sQ().buffer]],o.q,o.w,[80]));else k=new Uint8Array(gt.FB("PSD").v6(o,null,null,[!0,!1]));
if(I)h=this.b.slice(0);var x=this.ec(k,o.name,i.x,i.y);if(top==this.b.length-1)h.push(x);else h.splice(I?top+1:top-w.length+1,0,x);
this.DO(h);this.g=[h.indexOf(x)]};hg.Mz=function(w){if(w==null)w="";var I="";while(I==""||I==w){I="";
for(var P=0;P<8;P++)I+=Math.floor(Math.random()*16).toString(16)}return I};hg.prototype.kj=function(w){if(w==null)return;
if(this.add.Patt==null)this.add.Patt=[];var I=this.add.Patt;for(var P=0;P<I.length;P++)if(I[P].id==w.id)return;
I.push(w)};hg.prototype.ec=function(w,I,E,X,o,i,h){if(this.add.lnk2==null)this.add.lnk2=[];var k=null,U=!1;
for(var P=0;P<this.add.lnk2.length;P++)if(Q.ZQ(w,this.add.lnk2[P].raw)){k=this.add.lnk2[P].wl;break}if(k==null){var x=gt.mq(w.buffer);
k=hg.Mz()+"-d71c-11e5-b1ae-a548a96e5f9f";var j=new K.NX;j.wl=k;j.Va=x=="psd"?"8BIM":"    ";j.Ov=I+"."+x;
j.BM=x=="psd"?"8BPB":"    ";j.open=0;j.raw=w;j.type="liFD";j.Wt=2;this.add.lnk2.push(j)}var v=this.ot(k,null,null,null,i,h),_=hg.Mz()+"-d71c-11e5-b1ae-a548a96e5f9f",L=this.XY();
L.G_(I);if(v!=null){var n=0,a=0,T=this.q,g=this.w;if(o){n=o.x;a=o.y;T=o.q;g=o.w}var D=L.rect=v.lG[1].clone();
D.offset(n+E,a+X);var b=Math.max(D.q/T,D.w/g),U=o!=null&&b>1.0001;if(U){D.q=Math.round(D.q/b);D.w=Math.round(D.w/b);
D.x=Math.round(n+(T-D.q)/2);D.y=Math.round(a+(g-D.w)/2)}else if(o!=null&&gt.mq(w.buffer)=="pdf"&&this.nN!=144){var b=144/this.nN;
D.q=Math.round(D.q/b);D.w=Math.round(D.w/b);U=!0}L.buffer=Q.$(D.A()*4);if(!U)Q.QM(v.lG[0],L.buffer)}L.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:k},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:_},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:Q.AG.$(v?v.lG[1]:L.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:L.rect.q},Hght:{t:"doub",v:L.rect.w}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:v?v.nN:72}}};
var N=Q.p.sy(L.rect).C;L.add.SoLd.Trnf=q.R.bd(N);L.add.SoLd.nonAffineTransform=q.R.bd(N);if(U)L.vR(this,!1);
return L};hg.prototype.sQ=function(w){if(w!=null){this.M();this.vL(w);var I=this.buffer;if(R.U7)this.Sx.get(I);
else I=I.slice(0);this.M();this.vL();return I}if(this.Pw){this.vL();this.Pw=null}if(R.U7&&this.Os){this.Sx.get(this.buffer);
this.Os=null;this.oP=!0}return this.buffer};hg.prototype.agP=function(){for(var P=0;P<this.b.length;
P++)this.b[P].amj();this.M()};hg.prototype.awc=function(){for(var P=0;P<this.b.length;P++)if(this.b[P].add.lmfx)this.b[P].Nu.MH=!0};
hg.prototype.oX=function(){var w=this.SR.r1044;if(w==null){w=this.SR.r1044=new Uint8Array(4);var I=0;
for(var P=0;P<this.b.length;P++)I=Math.max(I,this.b[P].add.lyid);M.zj(w,0,I)}var E=M.W(w,0);M.zj(w,0,E+1);
return E+1};hg.prototype.p8=function(w,I,E){if(w==null)w=!0;var X=this;if(X.Y1.length!=0)return!0;if(X.g.length!=1){if(w)alert(X.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Im(w,I,E)};hg.prototype.Im=function(w,I,E){if(w==null)w=!0;if(I==null)I=!1;var X=this;
if(X.Y1.length!=0)return!0;for(var P=0;P<X.g.length;P++){var o=X.b[X.g[P]],i=I||o.yA<=0;if(o.add.lsct!=null&&o.add.lsct!=gs.PJ&&o.yA!=1){if(w)alert(df.get([15,7,2]));
return!1}if(i&&!o.N$()){if(w)alert(df.get([15,7,2]));return!1}if(i&&o.add.TySh){return this.a9a(w,[15,7,3],E)}if(i&&o.add.SoLd){return this.a9a(w,[15,7,4],E)}if(o.B2(1)||X.ex(X.g[P])){if(w)alert(df.get([6,57,0]));
return!1}}return!0};hg.prototype.a9a=function(w,I,E){if(w&&typeof w=="object"){var X=new e9(W.E.Z);X.data={d:W.t.GV,ei:"confirm"};
X.data.k=df.get(I)+". "+df.get([6,8])+"?";var o=w;X.data.qu=function(){var i=new e9(W.E.a3,!0);i.data={$g:"rasterizeLayer",Zc:{classID:"rasterizeLayer",null:gE.cZ("Lyr",!0)}};
o.c(i)};w.c(X);return!1}if(w)alert(df.get(I));return!1};hg.prototype.am2=function(w){var I=this.root.qx(w);
if(I.parent)return I.l.TH()&&this.am2(I.parent.index);else return I.l.TH()};hg.prototype.Ze=function(){var w=this;
if(w.add.artd&&w.g.length!=0){var I=w.root.qx(w.g[0]);while(I.parent.parent)I=I.parent;if(I.l.add.artb)return I.index}return-1};
hg.prototype.aqS=function(){var w=this.b[this.g[0]];if(w.yA<=0&&!w.rect.XU(this.n.rect)){alert("Selected area is empty.");
return!1}if(this.g.length==1&&this.n){var I=Q.$(this.n.channel.length);Q.ho(w.buffer,w.rect,I,this.n.rect);
Q.tT(this.n.channel,I);if(Q.Y4(I,0)){alert("Selected area is empty.");return!1}}return!0};hg.prototype.T7=function(){if(this.SR["r"+1037]==null)this.Vh(30);
return M.Qf(this.SR["r"+1037],0)};hg.prototype.Vh=function(w){if(this.SR["r"+1037]==null)this.SR["r"+1037]=new Uint8Array(4);
if(M.Qf(this.SR["r"+1037],0)==w)return;M.ug(this.SR["r"+1037],0,w);this.awc()};hg.prototype.vx=function(){if(this.SR["r"+1049]==null)this.rY(30);
return M.Qf(this.SR["r"+1049],0)};hg.prototype.rY=function(w){if(this.SR["r"+1049]==null)this.SR["r"+1049]=new Uint8Array(4);
if(M.Qf(this.SR["r"+1049],0)==w)return;M.ug(this.SR["r"+1049],0,w);this.awc()};hg.prototype.Df=function(w){if(this.add.lnk2==null)return null;
for(var P=0;P<this.add.lnk2.length;P++)if(this.add.lnk2[P].wl==w)return this.add.lnk2[P];return null};
hg.prototype.ay6=function(w){var I=this.Df(w);if(I==null)return!1;var E=gt.mq(I.raw.buffer);if(E==null)return!1;
if(gt.FB(E)!=null||E=="psd")return!0;return!1};hg.prototype.ot=function(w,I,E,X,o,i){var h=this.Df(w);
if(h==null)return null;h.sQ(I,E,X,o,i);if(h.lG)return h};hg.prototype.atT=function(){var w=this.q,I=this.w;
if(R.U7&&this.Sx==null)this.Sx=new R.hV(w,I,!0);if(this.buffer==null||this.buffer.length!=w*I*4||R.U7&&(this.Sx.q!=w||this.Sx.w!=I)){this.buffer=Q.$(w*I*4);
if(this.Sx)this.Sx.delete();if(R.U7)this.Sx=new R.hV(w,I,!0)}};hg.prototype.a8$=function(){this.atT();
if(R.U7){this.Sx.set(this.buffer)}};hg.prototype.vL=function(w){var I=this.q,E=this.w,X=new dC(0,0,I,E),o=this.Qb?X:X.LP(this.Pw);
this.atT();if(o.qo())return;if(!o.ZQ(X)){if(!R.U7){var i=Q.xd(o.A()*4);Q.D6(i,o,this.buffer,X)}if(R.U7){R.yS(this.Sx,o);
R.Q9(0)}}else{if(R.U7){this.Sx.set(null)}else{this.buffer.fill(0)}}var h=Date.now(),k=R.U7?this.Sx:this.buffer;
if(w==null)w=1e9;var x=this.root.children;for(var P=0;P<x.length;P++){var j=x[P].l;if(j.TH()&&j.add.artb&&this.add.artd){var v=j.Z9(),_=o.LP(v),L=j.Ld();
if(L!=0){if(R.U7){R.yS(k,_);R.Q9(L);R.Q9(L)}else Q.aec(k,X,_,L)}}}this.root.K$(k,X,o,this,[],w);this.Os=this.Pw.clone()};
hg.prototype.XY=function(w){var I=new K;I.rect=new dC(0,0,0,0);I.buffer=Q.$(1);I.add.luni=new a5(0,0);
if(w!=!0)I.add.lyid=this.oX();I.add.lsct=gs.PJ;I.add.lclr=0;I.add.fxrp=new a5(0,0);return I};hg.prototype.Rf=function(w){var I=this.XY(w);
I.G_("</Layer group>");I.add.lsct=gs.sz;I.Bo=24;return I};hg.prototype.bA=function(){return this.lZ!=this.eq};
hg.prototype.f6=function(w){while(this.history.length>this.lZ+1)this.history.pop();if(this.eq>this.lZ)this.eq=-1;
if(w.G.id!=q.wD){this.wr=!0;if(this.ww.lastAppliedComp){delete this.ww.lastAppliedComp;this.oP=!0}}this.history.push(w);
this.lZ++;this.oP=!0;var I=bh.c9()?60:30,E=0;for(var P=this.history.length-1;P>=0;P--){var X=this.history[P];
if(X.ul)continue;E++;if(E==I){this.lZ-=P;this.history=this.history.slice(P);break}}};hg.prototype.fY=function(){if(this.lZ!=this.history.length-1)return null;
return this.history[this.history.length-1]};hg.prototype.$t=function(w,I,E,X){if(w==null)w=!1;var o=I!=null?[I]:this.g.slice(0);
if(X){var i=[];for(var P=0;P<o.length;P++){var h=this.b[o[P]],k=h.hm;if(h.iI&&k!=0&&i.indexOf(k)==-1)i.push(k)}if(i.length!=0)for(var P=0;
P<this.b.length;P++){var h=this.b[P],k=h.hm;if(h.iI&&k!=0&&i.indexOf(k)!=-1&&o.indexOf(P)==-1)o.push(P)}}var x=[];
for(var P=0;P<o.length;P++){var j=this.Ye(o[P],w);for(var v=0;v<j.length;v++)if(x.indexOf(j[v])==-1)x.push(j[v]);
if(E){var eS=this.root.qx(o[P]);while(eS.parent!=null&&eS.parent.parent!=null){eS=eS.parent;if(x.indexOf(eS.index)==-1){x.push(eS.index,eS._F)}}}}return x};
hg.prototype.I3=function(w,I,E){var X=this,o=X.$t(!1,w,null,E);o.sort(function(b,N){return b-N});var i={};
for(var h=0;h<X.b.length;h++){var k=X.b[h].getName();i[k]=!0}var x=[];for(var P=0;P<o.length;P++){var j=X.b[o[P]].clone(),T,g;
j.add.lyid=X.oX();j.add.lspf=0;if(j.r3()){var v=j.Em(X),_=hg.a5a(v);X.j2(_);j.add.SoLd.placed.v=_.id}else if(j.add.SoLd){var L=j.add.SoLd.placed.v;
j.add.SoLd.placed.v=hg.Mz(L.slice(0,8))+L.slice(8)}j.kH(X);var U=j.getName(),n=U.length;while(48<=U.charCodeAt(n-1)&&U.charCodeAt(n-1)<=57)n--;
var a=parseInt(U.slice(n));if(isNaN(a)){if(U.endsWith(" copy")){a=1;T=U.slice(0,U.length-5)}else{a=0;
T=U}}else if(U.slice(0,n).endsWith(" copy ")){a=a;T=U.slice(0,n-6)}else{a=0;T=U}a++;while(!0){g=T+" copy"+(a==1?"":" "+a);
if(i[g]==null)break;a++}var D=o.indexOf(this.root.qx(o[P]).parent.index)!=-1;if(U=="Background"&&X.b.length==1)g="Layer 1";
if(I!=!0&&!D)j.G_(g);i[g]=!0;x.push(j)}return x};hg.a5a=function(w){return{id:hg.Mz(w.id.slice(0,8))+w.id.slice(8),buffer:w.buffer.slice(0),rect:w.rect.clone(),D:w.D?w.D.clone():null}};
hg.asB=function(w){return{id:w,rect:new dC,buffer:Q.$(1),D:new K._x}};hg.fx=function(w,I){if(I==null)I={vmsk:new K.DN};
if(I.vogk==null){I.vogk=[];var E=Q.O.RZ(I.vmsk.j);for(var X=0;X<E;X++)I.vogk.push(Q.GJ.xd())}return{name:w,qI:0,add:I}};
hg.prototype.cm=function(w){var I=[],E=[],X=this,i=0;for(var P=1;P<X.c1.length;P++){var o=X.c1[P];o.qI=-1-P;
I.push(o);if(X.c0.indexOf(P)!=-1)E.push(I.length-1)}if(X.c1[0].add.vmsk.j.length>2){var o=X.c1[0];o.qI=-1;
I.push(o);if(X.c0.indexOf(0)!=-1)E.push(I.length-1)}var h=X.ko==null;if(h)X.ko=[];for(var P=X.g.length-1;
P>=0;P--){var k=X.b[X.g[P]],x=k.add.TySh;if(k.add.vmsk!=null&&(k.Fq||k.us())){var o=hg.fx("\""+k.getName()+"\" Shape Path",k.add);
o.qI=X.g[P];I.push(o);if(h)X.ko.push(i);if(X.ko.indexOf(i)!=-1)E.push(I.length-1);i++}if(w!=!0&&x&&x.add&&Q.AG.JJ(x.gl)){var o=hg.fx("\""+k.getName().slice(0,10)+"..\" Text Path",x.add);
o.qI=1e6+X.g[P];I.push(o);E.push(I.length-1);i++}}if(E.length==0&&w){X.c1[0].qI=-1;X.c0=[0];E.push(I.length);
I.push(X.c1[0])}return[I,E]};hg.prototype.Ye=function(P,w){var I=[],eS=this.root.qx(P);if(eS)eS.ac7(I,w);
return I};hg.prototype.Al=function(){this.root.e6(this,new dC(0,0,this.q,this.w))};hg.prototype.DO=function(w){for(var P=0;
P<this.b.length;P++){var I=this.b[P];if(w.indexOf(I)==-1){I.Nu.a4u();I.M()}}var E=0;for(var P=0;P<w.length;
P++)if(w[P].add.artb)E++;this.G0(E);this.b=w.slice(0);this.sI()};hg.prototype.sI=function(){var w=this.b,I=w.length;
this.root=new bG;var E=this.XY(!0);E.$B="pass";E.add.lsct=gs.Y_;E.G_("");var X=this.Rf(!0),o=[X];for(var P=0;
P<I;P++)o.push(w[P]);o.push(E);this.root.asY(o,0,0);if(this.g.length==0)this.g=[I-1]};hg.prototype.xm=function(){if(this.g.length!=1)return;
var w=this.root.qx(this.g[0]);while(w.parent!=null){var I=w.parent.l;I.add.lsct=gs.Y_;w=w.parent}this.WV=this.an4=!0};
hg.prototype.a1N=function(){this.sI();var w=[this.root],jW=0;while(w.length!=0){var top=w.pop();jW++;
if(top.l.add.lsct==gs.Y_)for(var P=0;P<top.children.length;P++)w.push(top.children[P])}if(jW>1e3){var I=this.root.children;
for(var P=0;P<I.length;P++)if(I[P].l.add.lsct==gs.Y_)I[P].l.add.lsct=gs.S2}};hg.W$=function(w,I,E,X,o,i,h,k){if(k==null)k="sRGB IEC61966-2.1";
var x={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:X},artboard:{t:"bool",v:i},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:w}},Hght:{t:"UntF",v:{type:"#Rlt",val:I}},Rslt:{t:"UntF",v:{type:"#Rsl",val:E}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:o}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:k}}}};
if(o=="Clr")x.Nw.v.FlCl={t:"Objc",v:h};return{$g:"make",Zc:x}};hg.aoW=function(w,I){var E=0,X=0,o=72,i=I.acb,h=w.preset&&w.preset.v=="Clipboard";
if(h){E=i.q;X=i.w}else{E=w.Wdth.v.val;X=w.Hght.v.val;o=w.Rslt.v.val}var k=new hg((w.Nm?w.Nm.v:df.get([11,7]))+".psd");
k.q=E;k.w=X;k.nN=o;var x=w.Fl?w.Fl.v.Fl:"Wht";if(w.artboard&&w.artboard.v){var j=k.XY();j.G_(df.get([1,16,0])+" 1");
j.add.lsct=gs.Y_;j.CZ(new dC(0,0,E,X));j.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[x]};
if(x=="Clr")j.add.artb.Clr={t:"Objc",v:Q.N.Ex(Q.N.BL(w.FlCl.v))};j.$B="pass";j.Bo=24;var v=k.XY();v.G_("Layer 1");
k.DO([k.Rf(),v,j]);k.G0(1);k.g=[1]}else{var _=k.XY(),L=0;_.G_("Background");k.DO([_]);_.add.lspf=1<<2;
if(x=="Clr"){L=Q.N.BL(w.FlCl.v);L=255<<24|Math.round(L.L)<<16|Math.round(L.P)<<8|Math.round(L.o)}else{var U=I.Mw;
U=(U&255)<<16|(U>>>8&255)<<8|U>>>16;L={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|U}[x]}_.rect=new dC(0,0,E,X);
_.buffer=Q.$(E*X*4);Q.Ez(_.buffer,L)}k.buffer=Q.$(E*X*4);var n=w.profile;if(n){var a={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[n.v];
if(a)k.eA(gt.UJ.get(a))}return k};function bm(w){this.gt=w;this.T=0;this.oS=1;this.z=new a5(0,0);this.y$=new a5(0,0);
this.yn=0;this.wL=[1,1,1];this.GY=0;this.mz=new dC(0,0,1,1);this.akL=new dC(0,0,w.q,w.w);this.Ep=null;
this.At=null;this.GD=new Uint32Array(0);this.oC=null;this.QS=null;this.WL=Q.$(0);this.jv=null;this.YI=null}bm.prototype.rz=function(w){var I=new am,E=this.mz,X=this.gt,o=w?this.oS:this.T,i=w?this.y$:this.z,h=Math.round((E.q-X.q*o)/2+i.x),k=Math.round((E.w-X.w*o)/2+i.y);
I.translate(-h,-k);I.scale(1/o,1/o);var x=X.q/2,j=X.w/2;I.translate(-x,-j);I.rotate(this.yn);I.translate(x,j);
return I};bm.prototype.au$=function(w){var I=this.mz,E=this.gt,X=Math.atan2(-w.L,w.lV),o=E.q/2,i=E.w/2;
w.translate(-o,-i);w.rotate(-X);w.translate(o,i);var h=1/w.dA();w.scale(h,h);var k=-w.N9,x=-w.Zt,j=Math.round(k-(I.q-E.q*h)/2),v=Math.round(x-(I.w-E.w*h)/2);
if(Math.abs(h-Math.round(h))<1e-6)h=Math.round(h);this.yn=X;this.T=h;this.z=new a5(j,v)};bm.prototype.sP=function(w,I){var E=this.rz();
return E.kG(new a5(w,I))};bm.prototype.o_=function(w,I){var E=this.rz();E.ja();return E.kG(new a5(w,I))};
function hL(){}hL.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");hL.JR="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
hL.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];hL.ask=["DrSh","IrSh","SoFi","GrFl","FrFX"];
hL.y8=["Clr"];hL.qT="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");hL.BK=["Ptrn","Angl","Scl","Algn","phase"];
hL.My={LK:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",a4q:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",axk:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aie:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",vs:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
hL.My.LK="\"Clr\": "+hL.My.LK;hL.My.N="\"Grad\":"+hL.My.a4q+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
hL.My.vs="\"Ptrn\":"+hL.My.vs+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
hL.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
hL.zd=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+hL.My.LK+","+hL.My.N+","+hL.My.vs+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hL.My.LK+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hL.My.N+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hL.My.vs+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
hL.N={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
hL.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],be:["SClr","GrFl","Ptrn"],aoB:[[13,0],[12,37],[12,62]]};
hL.Ac={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aoy:["SrcC","SrcE"],ah5:[[19,5,1],[12,69]]};hL.Kg={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a8w:["SfBL","PrBL","Slmt"],a1H:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
hL.Oq={zL:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],hN:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],m9:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+hL.My.LK+"}")},strokeStyleResolution:{t:"doub",v:72}}};
hL.Bx=[{classID:"null",Clr:JSON.parse(hL.zd[5]).Clr},{classID:"null",Grad:JSON.parse(hL.zd[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(hL.zd[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var aQ={};aQ.T3=function(w,I){function E(w,L){if(w==null)return null;var U=w[L].v,n;if(U.length!=0){n=U[0].v;
if(!n.enab.v)n=null}return n}var X=I.SoCo,o=I.GdFl,i=E(w,"solidFillMulti"),h=E(w,"gradientFillMulti");
if(i==null&&h==null)return[X,o];var k=aQ.aeA;if(X&&i&&h==null){var x=JSON.parse(JSON.stringify(X));x.Clr.v=k(i.Clr.v,X.Clr.v,i);
return[x,null]}if(o&&i&&h==null){var j=JSON.parse(JSON.stringify(o)),v=j.Grad.v.Clrs.v;for(var P=0;P<v.length;
P++){var _=v[P].v.Clr;_.v=k(i.Clr.v,_.v,i)}return[null,j]}if(X&&h){var j=JSON.parse(JSON.stringify(h)),v=j.Grad.v.Clrs.v;
for(var P=0;P<v.length;P++){var _=v[P].v.Clr;_.v=k(_.v,X.Clr.v,h)}return[null,j]}return[i,h]};aQ.abl={XX:Q.$(4),Qm:Q.$(4),o:new dC(0,0,1,1)};
aQ.aeA=function(w,I,E){var X=hH.yk(E.Md.v.BlnM),o=E.Opct.v.val/100,i=aQ.abl;w=Q.N.BL(w);I=Q.N.BL(I);
i.XX[0]=w.o;i.XX[1]=w.P;i.XX[2]=w.L;i.XX[3]=255;i.Qm[0]=I.o;i.Qm[1]=I.P;i.Qm[2]=I.L;i.Qm[3]=255;Q.e.gF(X,i.XX,i.o,i.Qm,i.o,i.o,o);
return{classID:"RGBC",Rd:{t:"doub",v:i.Qm[0]},Grn:{t:"doub",v:i.Qm[1]},Bl:{t:"doub",v:i.Qm[2]}}};aQ.aoO=function(w,I,E){var X=w;
w=w.slice(0);var o=hH.H1[hH.zg.indexOf(I.Md.v.BlnM)],i=Q.N.BL(I.Clr.v),h=4278190080|Math.round(i.L)<<16|Math.round(i.P)<<8|Math.round(i.o),k=Q.$(E.A()*4);
Q.Ez(k,h);Q.e.gF(o,k,E,w,E,E,I.Opct.v.val/100);for(var P=0;P<w.length;P+=4)w[P+3]=X[P+3];return w};aQ.v3=function(w,I){var E=["Sz","blur","Sftn","Dstn"];
for(var P=0;P<hL.order.length;P++){var X=hL.order[P],o=w[hL.JR[P]].v;for(var i=0;i<o.length;i++){var h=o[i].v;
for(var k=0;k<E.length;k++){var x=h[E[k]];if(x){var j=x.v.val,v=j;v=Math.max(j==0?0:1,v*I);if(X=="ChFX")v=Math.min(v,250);
if(X=="ebbl"){if(E[k]=="blur")v=Math.min(v,250);if(E[k]=="Sftn")v=Math.min(v,16)}x.v.val=Math.round(v)}}if(X=="ebbl"||X=="patternFill"||X=="FrFX")if(h.Ptrn&&h.Scl)h.Scl.v.val=Math.max(1,Math.min(1e3,h.Scl.v.val*I))}}};
aQ.air=function(w,I,E){var X=new dC(-.5,-.5,1,1);for(var P=0;P<hL.order.length;P++){var o=hL.order[P],i=w[hL.JR[P]].v;
for(var h=0;h<i.length;h++){var k=i[h].v,_;if(!k.enab.v)continue;var x=k.blur?k.blur.v.val+1:0,j=k.Ckmt?k.Ckmt.v.val/100:0,v=Math.round(x*j);
if(o=="DrSh"||o=="IrSh"&&E){_=new dC(-.5,-.5,1,1);_.Cs(x,x);aQ.T8(_,k,I,0)}if(o=="OrGl"||o=="IrGl"&&E){_=new dC(-.5,-.5,1,1);
_.Cs(x,x)}if(o=="FrFX"){var L=aQ.El(k),U=L[1];if(E)U=Math.max(L[0],U);_=new dC(-.5,-.5,1,1);_.Cs(Math.ceil(U),Math.ceil(U))}if(o=="ebbl"){var x=k.blur.v.val,n=k.bvlS.v.BESl;
if(n=="Embs"||n=="PlEb")x/=2;var a=["OtrB","InrB","Embs","PlEb","strokeEmboss"],T=["SfBL","PrBL","Slmt"],g=["In","Out"],D=k.bvlT.v.bvlT!="SfBL"?x:x*.43,b=Math.round(x);
_=new dC(-b-1,-b-1,2*b+2,2*b+2)}if(E&&o=="ChFX"){_=new dC(-.5,-.5,1,1);_.Cs(x,x);var N=_.clone();aQ.T8(_,k,I,0);
aQ.T8(N,k,I,Math.PI);_=_.jB(N)}if(_)X=X.jB(_)}}if(X.x!=Math.ceil(X.x)){X.x=Math.ceil(X.x);X.q-=1}if(X.y!=Math.ceil(X.y)){X.y=Math.ceil(X.y);
X.w-=1}X.q=Math.floor(X.q);X.w=Math.floor(X.w);return X};aQ.El=function(w){var I=0,E=0,X=w.Styl.v.FStl,o=w.Sz.v.val;
if(X=="OutF")E=o;if(X=="InsF")I=o;if(X=="CtrF")I=E=o/2;return[I,E]};aQ.apt=function(w){if(R.U7&&w.rp==null){w.rp=new R.hV(w.ze.q,w.ze.w);
w.rp.set(w.Fr);delete w.Fr;if(w.rf){w.tg=new R.Ay(w.ze.q,w.ze.w);w.tg.set(w.rf);delete w.rf}if(w.KF){w.vO=new R.Ay(w.ze.q,w.ze.w);
w.vO.set(w.KF);delete w.KF}}};aQ.abW=function(w){if(w.rp)w.rp.delete();if(w.tg)w.tg.delete();if(w.vO)w.vO.delete()};
aQ.asv=function(w){if(w.all==null)return;for(var P=0;P<w.all.length;P++){aQ.abW(w.all[P])}};aQ.acq=function(w,I,E,X,o,i){var h=aQ.hj(E,X,w,I,o,i);
for(var P=0;P<h.all.length;P++)aQ.apt(h.all[P]);return h};aQ.awI=function(w){for(var P=0;P<hL.order.length;
P++){var I=hL.order[P],E=hL.JR[P],X=w[E].v;for(var o=0;o<X.length;o++){var i=X[o].v;if(i.enab.v&&["patternFill","GrFl","SoFi"].indexOf(I)==-1)return!0}}return!1};
aQ.hj=function(w,I,E,X,o,i){if(i==null)i=X;var h=0,k=0;for(var P=0;P<hL.order.length;P++){var x=hL.order[P],j=hL.JR[P],v=w[j].v;
for(var _=0;_<v.length;_++){var L=v[_].v;if(x=="DrSh"&&L.enab.v&&L.Ckmt.v.val>0&&L.blur.v.val>0)h=Math.max(h,Math.ceil(L.Ckmt.v.val*L.blur.v.val/100));
if(x=="OrGl"&&L.enab.v&&L.Ckmt.v.val>0&&L.blur.v.val>0&&L.GlwT.v.BETE=="SfBL")h=Math.max(h,Math.ceil(L.Ckmt.v.val*L.blur.v.val/100));
if(x=="OrGl"&&L.enab.v&&L.blur.v.val>0&&L.GlwT.v.BETE=="PrBL")h=Math.max(h,L.blur.v.val);if(x=="FrFX"&&L.enab.v&&L.Sz.v.val>0){if(L.Styl.v.FStl=="OutF")h=Math.max(h,L.Sz.v.val);
if(L.Styl.v.FStl=="CtrF")h=Math.max(h,Math.ceil(L.Sz.v.val/2));k=Math.max(k,aQ.El(L)[1])}}}var U=new aQ.cg(E,X,h,aQ.awI(w)),n=-X.x,a=-X.y,T={type:{},all:[]};
for(var g=0;g<hL.order.length;g++){var x=hL.order[g],j=hL.JR[g];T.type[x]=[];for(var D=w[j].v.length-1;
D>=0;D--){var b=w[j].v[D].v,S;if(!b.enab.v)continue;var N=b.blur?b.blur.v.val:0,C=b.Ckmt?b.Ckmt.v.val/100:0,Z=N*C;
if(x=="DrSh"){var u=U.mY(Z,N-Z,!0),p=u.t9,f=u._b;f.offset(n,a);aQ.wm(p,b,!1);aQ.T8(f,b,o,0);var d=Q.$(f.A()*4);
aQ.y0(d,b.Clr.v);Q.lJ(p,d,3);S={Fr:d,ze:f,alX:b.layerConceals.v}}else if(x=="IrSh"){var u=U.mY(Z,N-Z,!1);
aQ.T8(u._b,b,o,0);var f=U.rect().clone(),p=Q.$(f.A());p.fill(255);Q.b_(u.t9,u._b,p,f);aQ.wm(p,b,!0,!0);
var d=Q.$(f.A()*4);aQ.y0(d,b.Clr.v);Q.lJ(p,d,3);f.offset(n,a);S={Fr:d,ze:f}}else if(x=="GrFl"){var d=Q.$(U.rect().A()*4);
aQ.eG(b,d,U.rect(),o,null,i);var f=U.rect().clone();f.offset(n,a);S={Fr:d,ze:f}}else if(x=="SoFi"){var d=Q.$(U.t9().length*4);
aQ.y0(d,b.Clr.v);var f=U.rect().clone();f.offset(n,a);S={Fr:d,ze:f}}else if(x=="ebbl"){var l=!1;if(l)console.log(b);
var A=Date.now(),B=b.bvlS.v.BESl;if(B=="strokeEmboss"){var e=w.frameFXMulti.v;if(e.length==0)continue;
e=e[0].v;if(!e.enab.v)continue;var m=e.Styl.v.FStl;if(m=="OutF")B="OtrB";if(m=="CtrF")B="Embs";if(m=="InsF")B="InrB"}var N=b.blur.v.val;
if(N==0)N=.7;if(B=="Embs"||B=="PlEb")N/=2;var $=["OtrB","InrB","Embs","PlEb","strokeEmboss"],V=["SfBL","PrBL","Slmt"],H=["In","Out"],F=b.bvlT.v.bvlT!="SfBL"?N:N*.45,G=Math.round(N),J=U.rect().clone(),c=J.clone();
c.Cs(G,G);var r=c.q,s=c.w,z=r*s,Y=Q.$(z);Q.b_(U.t9(),J,Y,c);var ax=new Float64Array(z),iW=new Float64Array(z);
Q.style.ZZ(Y,ax,r,s);Q.ja(Y);Q.style.ZZ(Y,iW,r,s);if(l)console.log("distTransform computed",Date.now()-A);
for(var P=0;P<z;P++)iW[P]=iW[P]-ax[P];for(var P=0;P<z;P++){var y=iW[P];if(y<-F)iW[P]=-F;else if(y>F)iW[P]=F}if(l)console.log("summing + cropping",Date.now()-A);
if(b.bvlT.v.bvlT=="SfBL"){var hm=Math.pow(N*.21,1.22);if(!0)hm=Math.max(hm,2);var t=Q.iG.Us(hm,2);Q.iG.VP(iW,ax,c,t[0]>>>1);
Q.iG.VP(ax,iW,c,t[1]>>>1)}if(l)console.log("blurring",Date.now()-A);var cT=iW,c4=cT.slice(0);if(b.useShape.v){var kv=Math.min(100,b.Inpr.v.val+1)/100;
if(B!="OtrB"&&B!="InrB")kv=1;var iL=Q.sD.Bn(b.MpgS.v.Crv.v,2e3),cr=Math.round(2e3/kv);iL=Q.sD.aj7(iL,cr,B=="InrB");
var ga=.5/F;for(var P=0;P<z;P++){var iq=cT[P],ei=.99999*(iq+F)*ga;cT[P]=-F+2*F*iL[~~(ei*(cr-1))]}if(l)console.log("applying shape",Date.now()-A)}if(b.useTexture.v){var hw=Q.$(r*s*4);
aQ.Ho(b,hw,c,o.add.Patt,I);var hC=Q.$(r*s);Q.V0(hw,hC);var j5=Q.$(r*s);Q.iG.Iv(hC,j5,c,1);hC=j5;var ed=N*b.textureDepth.v.val*(1/100)*(1/255);
if(b.InvT.v)ed=-ed;for(var P=0;P<z;P++)cT[P]+=-ed*hC[P];if(l)console.log("applying texture",Date.now()-A)}var jn=(b.bvlT.v.bvlT=="SfBL"?1:.5)*(b.bvlD.v.BESs=="In"?1:-1)*b.srgR.v.val/100;
for(var P=0;P<z;P++)cT[P]*=jn;if(l)console.log("scaling",Date.now()-A);var fj=b.uglg&&b.uglg.v?o.T7():b.lagl.v.val;
fj=fj*(Math.PI/180);var di=b.uglg&&b.uglg.v?o.vx():b.Lald.v.val;di=di*(Math.PI/180);var b1=Math.cos(fj)*Math.cos(di),dI=-Math.sin(fj)*Math.cos(di),h2=Math.sin(di),de=new Float64Array(z),ds=new Float64Array(z),jO=B=="PlEb";
for(var gy=0;gy<s;gy++)for(var fV=0;fV<r;fV++){var P=gy*r+fV,hl=0,im=0,eA=1;if(gy!=0&&gy!=s-1&&fV!=0&&fV!=r-1){var hy=cT[P-r-1],dm=cT[P-r+1],hA=cT[P+r-1],j2=cT[P+r+1];
hl=-.125*(dm+2*cT[P+1]+j2-(hy+2*cT[P-1]+hA));im=-.125*(hA+2*cT[P+r]+j2-(hy+2*cT[P-r]+dm))}else{var dQ=cT[P];
im=-(gy==0?cT[P+r]-dQ:gy==s-1?dQ-cT[P-r]:.5*(cT[P+r]-cT[P-r]));hl=-(fV==0?cT[P+1]-dQ:fV==r-1?dQ-cT[P-1]:.5*(cT[P+1]-cT[P-1]))}var aS=1/Math.sqrt(hl*hl+im*im+1);
hl*=aS;im*=aS;eA*=aS;var eh=hl*b1+im*dI+eA*h2,h_=eh;if(jO)h_=-hl*b1-im*dI+eA*h2;if(eh>0)de[P]=eh;if(h_>0)ds[P]=h_}if(l)console.log("raycasting",Date.now()-A);
if(b.Sftn.v.val!=0){Q.iG.Vm(de,ax,c,b.Sftn.v.val*.43);var h6=ax,ax=de,de=h6;if(jO){Q.iG.Vm(ds,ax,c,b.Sftn.v.val*.43);
var h6=ax,ax=ds,ds=h6}else Q.QM(de,ds)}if(l)console.log("softening",Date.now()-A);var iL=Q.sD.Bn(b.TrnS.v.Crv.v,1024);
for(var P=0;P<z;P++){de[P]=iL[~~(de[P]*1024)];ds[P]=iL[~~(ds[P]*1024)]}if(l)console.log("contour remap",Date.now()-A);
r=Math.round(r);s=Math.round(s);var gT=Q.$(r*s*4);aQ.y0(gT,b.hglC.v);var b8=Q.$(r*s*4);aQ.y0(b8,b.sdwC.v);
var hP=Q.$(r*s*4);aQ.y0(hP,b.hglC.v);var b5=Q.$(r*s*4);aQ.y0(b5,b.sdwC.v);var ar=1/h2,cG=1/(1-h2),ga=1/F,bd=new Float64Array(1e3);
for(var P=0;P<1e3;P++)bd[P]=Math.pow(P*.001,.2);for(var gy=0;gy<s;gy++)for(var fV=0;fV<r;fV++){var P=gy*r+fV,aZ=4*P+3,gl=0,ci=0;
gl=de[P];ci=ds[P];var a7=Math.max(0,Math.min(.9999,(c4[P]+F*.993)*ga));a7=bd[Math.floor(a7*1e3)];var ay=a7*(1-Math.min(1,gl*ar)),it=a7*(1-Math.min(1,(1-gl)*cG)),h1=a7*(1-Math.min(1,ci*ar)),hM=a7*(1-Math.min(1,(1-ci)*cG));
b8[aZ]=Math.round(255*ay);gT[aZ]=Math.round(255*it);b5[aZ]=Math.round(255*h1);hP[aZ]=Math.round(255*hM)}if(l)console.log("baking textures",Date.now()-A);
c=U.rect().clone();c.Cs(G,G);c.offset(n,a);S={anV:b.bvlS.v.BESl=="strokeEmboss"};var dn=hH.yk(b.hglM.v.BlnM),gV=b.hglO.v.val/100,jv=hH.yk(b.sdwM.v.BlnM),dt=b.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(B)!=-1){S.Jt={Fr:gT,ze:c,_h:dn,oK:gV};S.Z8={Fr:b8,ze:c,_h:jv,oK:dt}}if(["OtrB","Embs","PlEb"].indexOf(B)!=-1){S.NL={Fr:hP,ze:c,_h:dn,oK:gV};
S.QT={Fr:b5,ze:c,_h:jv,oK:dt}}if(l)console.log(Date.now()-A)}else if(x=="patternFill"){var hZ=U.rect(),d=Q.$(hZ.A()*4);
aQ.Ho(b,d,hZ,o.add.Patt,I);var f=hZ.clone();f.offset(n,a);S={Fr:d,ze:f}}else if(x=="ChFX"){var d=Q.$(U.t9().length*4);
aQ.y0(d,b.Clr.v);var N=b.blur.v.val,eQ=U.rect().clone();eQ.Cs(N,N);var dd=Q.$(eQ.A()),dp=Q.$(eQ.A());
Q.b_(U.t9(),U.rect(),dp,eQ);Q.iG.sB(dp,dd,eQ,N*.43);var i_=Q.sD.X_(b.MpgS.v.Crv.v,256,!0);Q.PM(dd,i_);
var by=Q.$(U.t9().length),jK=Q.$(U.t9().length),cc=U.rect().clone();aQ.T8(cc,b,o,0);Q.b_(dd,eQ,by,cc);
cc=U.rect().clone();aQ.T8(cc,b,o,Math.PI);Q.b_(dd,eQ,jK,cc);var jo=by.length;for(var P=0;P<jo;P++)d[4*P+3]=Math.abs(by[P]-jK[P]);
if(b.Invr.v)for(var P=0;P<jo;P++)d[4*P+3]=255-d[4*P+3];var f=U.rect().clone();f.offset(n,a);S={Fr:d,ze:f}}else if(x=="OrGl"){var u;
if(b.GlwT.v.BETE=="SfBL")u=U.mY(Z,N-Z,!0);else u=U.ap1(N,C,!0);var p=u.t9,f=u._b,ge=p.slice(0);aQ.a5y(p,b);
var d=Q.$(f.A()*4);if(b.Grad==null){aQ.y0(d,b.Clr.v);aQ.wm(p,b,!1)}else{aQ.wm(p,b,null);var gH={a0:p,s1:255,vV:0,pq:f};
aQ.eG(b,d,f,o,gH);var cv=b.Nose.v.val/100,jN=f.q;for(var P=0;P<ge.length;P++){var fg=255,el=ge[P];if(el<32){var cf=(el+ge[P-1]+ge[P+1]+ge[P-jN]+ge[P+jN])*.2-1;
fg=Math.min(255,Math.round(Math.max(0,cf)*8))}p[P]=fg}aQ.ari(p,b)}Q.lJ(p,d,3);f.offset(n,a);S={Fr:d,ze:f}}else if(x=="IrGl"){var u;
if(b.GlwT.v.BETE=="SfBL")u=U.mY(Z,N-Z,!1);else u=U.ap1(N,C,!1);var p=u.t9,f=u._b;aQ.a5y(p,b);if(b.glwS.v.IGSr=="SrcC")Q.ja(p);
var d=Q.$(f.A()*4);if(b.Grad==null){aQ.y0(d,b.Clr.v);aQ.wm(p,b,!0)}else{aQ.wm(p,b,null);var gH={a0:p,s1:255,vV:0,pq:f};
aQ.eG(b,d,f,o,gH);p.fill(255);aQ.ari(p,b)}Q.lJ(p,d,3);f.offset(n,a);S={Fr:d,ze:f}}else if(x=="FrFX"){var gW=aQ.El(b),dl=gW[0],f5=gW[1],f=U.rect().clone(),aX=null,dK=null;
f.Cs(Math.ceil(k),Math.ceil(k));if(f5>0){var u=U.mY(f5,0,!0);dK=u.t9;if(dK.length<f.A()){dK=Q.$(f.A());
Q.b_(u.t9,u._b,dK,f)}}if(dl>0){var u=U.mY(dl,0,!1);aX=Q.$(f.A());aX.fill(255);Q.b_(u.t9,u._b,aX,f)}f.offset(n,a);
var d=Q.$(f.A()*4),e4=b.PntT.v.FrFl;if(e4=="SClr")aQ.y0(d,b.Clr.v);if(e4=="GrFl")aQ.eG(b,d,f,o,U.a7h(dl,f5));
if(e4=="Ptrn")aQ.Ho(b,d,f,o.add.Patt,I);S={Fr:d,ze:f,KF:dK,rf:aX}}T.type[x].push(S);if(x=="ebbl"){if(S.Jt)T.all.push(S.Jt,S.Z8);
if(S.NL)T.all.push(S.NL,S.QT)}else{S._h=hH.yk(b.Md.v.BlnM);S.oK=b.Opct.v.val/100,T.all.push(S)}}}return T};
aQ.Uz=function(w){var I=1/Math.sqrt(w.x*w.x+w.y*w.y+w.u3*w.u3);w.x*=I;w.y*=I;w.u3*=I};aQ.a1U=function(w,I){return{x:w.y*I.u3-w.u3*I.y,y:w.u3*I.x-w.x*I.u3,u3:w.x*I.y-w.y*I.x}};
aQ.al1=function(w,I){return w.x*I.x+w.y*I.y+w.u3*I.u3};aQ.ari=function(w,I){var E=I.Nose.v.val/100;if(E>0)for(var P=0;
P<w.length;P++){var X=w[P];X=Math.min(510-(1+E)*Q.style.dQ(P),X);w[P]=X}};aQ.g0=function(w){var I=aQ.aT(),E=w.xs,X=!1;
for(var P=0;P<32;P+=8)if(E[P]+E[P+1]+E[P+4]+E[P+5]!=0||E[P+2]+E[P+3]+E[P+6]+E[P+7]!=1020)X=!0;if(X){E=E.slice(0);
for(var P=0;P<40;P+=4){var o=E[P]/255,i=E[P+1]/255,h=E[P+2]/255,k=E[P+3]/255;E[P]=o-.001;E[P+1]=o==i?1e6:1/(i-o);
E[P+2]=h==k?-1e6:1/(h-k);E[P+3]=k+.001}}var x=w.add.iOpa!=null?w.add.iOpa/255:I.fill,j=w.add.vstk;if(j&&!j.fillEnabled.v&&(!j.strokeEnabled.v||j.strokeStyleLineWidth.v.val==0))x=0;
return{fill:x,Sn:X?E:null,i_:w.add.brst!=null?w.add.brst:I.i_,a7e:w.add.knko!=null?w.add.knko:I.a7e,style:!1,zl:!1}};
aQ.aT=function(){return{fill:1,Sn:null,i_:[1,1,1],a7e:0,style:!1,zl:!1}};aQ.a2l=function(w,I,E,X,o,i,h,k){if(k==null)k=1;
if(h==null)h=new am;var x=w.IZ[1].q,j=w.IZ[1].w,v=new am,_=o<2;if(_)v.translate(-x/2,-j/2);if(o==0){k*=Math.max(E/x,X/j)}else if(o==1){k*=Math.min(E/x,X/j)}else if(o==2){v.scale(1/x,1/j);
v.concat(h);v.scale(E,X)}else if(o==3){k=k}v.scale(k,k);if(_)v.translate(E/2,X/2);v.concat(i);I.Ptrn.v.Idnt.v=w.id;
I.Scl.v.val=Math.round(100*v.dA());I.Angl.v.val=Math.round(180*Math.atan2(-v.L,v.lV)/Math.PI);I.Algn.v=!0;
var L=I.phase.v;L.Hrzn.v=Math.round(v.N9);L.Vrtc.v=Math.round(v.Zt)};aQ.O9=function(w,I){if(I==null)return null;
var E=w.Idnt.v,X=w.Nm.v;for(var P=0;P<I.length;P++)if(I[P].id==E)return I[P];for(var P=0;P<I.length;
P++)if(I[P].name==X)return I[P];return null};aQ.a1r=function(w,I,E){var X=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var P=0;P<X.length;P++){var o=w.v[X[P]].v;for(var i=0;i<o.length;i++)if(o[i].v.Ptrn)I.kj(aQ.O9(o[i].v.Ptrn.v,E))}};
aQ.acR=function(w,I,E){var X=["patternFillMulti","ebblMulti","frameFXMulti"];for(var P=0;P<X.length;
P++){var o=w.v[X[P]].v;for(var i=0;i<o.length;i++)if(o[i].v.Ptrn){var h=o[i].v.Ptrn.v,k=aQ.O9(h,E),x=aQ.O9(h,I.add.Patt);
if(k==null&&x)E.push(x)}}};aQ.Ho=function(w,I,E,X,o){var i=aQ.O9(w.Ptrn.v,X);if(i!=null&&!E.qo()){var h=i.IZ,k=h[0],x=h[1],j=0;
Q.RQ(h);var v=(w.Scl?w.Scl.v.val:100)/100;while((v<.3||v==.5)&&h[j+2]){v*=x.q/h[j+3].q;j+=2;k=h[j];x=h[j+1]}var _=Q.scale.Ho(k,x.q,x.w),L=w.phase?w.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},U=w.Angl?w.Angl.v.val:0,n=-E.x+L.Hrzn.v-1,a=-E.y+L.Vrtc.v-1;
if(w.Algn!=null&&!w.Algn.v){}else{n+=o.x;a+=o.y}Q.scale.ru(_,I,E.q,E.w,v,v,n+1,a+1,U*Math.PI/180)}};
aQ.eG=function(w,I,E,X,o,i){if(i==null)i=E;var h=w.Type?w.Type.v.GrdT:"shapeburst",k=w.Algn&&w.Algn.v?i:new dC(0,0,X.q,X.w),x=w.Angl?Q.N.Fj(w,k):[new a5(0,0),new a5(100,0)],j=x[0].x,v=x[0].y,_=x[1].x-j,L=x[1].y-v,U=Math.sqrt(_*_+L*L);
U=1/(2*U*U);var n=[_*U,L*U,-L*U,_*U],a=w.Rvrs?w.Rvrs.v:!1,T=w.Dthr?w.Dthr.v:!1;Q.N.gV(w.Grad.v,I,E,n,j,v,a,hL.N.types.indexOf(h),0,0,o,T)};
aQ.abK=function(w,I,E){for(var P=0;P<w.all.length;P++){var X=w.all[P];X.Qr=X.ze.clone();X.Qr.offset(I,E)}};
aQ.awn=function(w,I,E,X,o,i){var h=R.U7?aQ.avc:aQ.avR;aQ.abK(I,E.x,E.y);var k=I.type.DrSh;for(var P=0;
P<k.length;P++)if(!k[P].alX)h(k[P],X,o,i)};aQ.a78=function(w,I,E,X,o,i,h,k,x,j){var v=E,_=R.U7?aQ.avc:aQ.avR,L=R.U7?R.e.Xs:Q.e.Wg,U;
U=I.type.DrSh;for(var P=0;P<U.length;P++)if(U[P].alX)_(U[P],X,o,i);U=I.type.OrGl;for(var P=0;P<U.length;
P++)_(U[P],X,o,i);var n="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var a=0;a<n.length;a++){var U=I.type[n[a]];
for(var P=0;P<U.length;P++)_(U[P],h,v,i)}var T=I.type.ebbl[0],g=T!=null&&T.anV;U=I.type.FrFX;for(var P=0;
P<U.length;P++){var D=U[P];bG.gh.b_(k,j,x,j,i);_(D,x,j,i);if(g&&P==U.length-1){if(T.QT)_(T.QT,x,j,i);
if(T.NL)_(T.NL,x,j,i);if(T.Z8)_(T.Z8,x,j,i);if(T.Jt)_(T.Jt,x,j,i)}if(D.rf||D.tg)L(x,j,h,v,R.U7?D.tg:D.rf,D.Qr,0,i,1);
if(D.KF||D.vO)L(x,j,X,o,R.U7?D.vO:D.KF,D.Qr,0,i,1)}if(!g&&T!=null){if(T.QT)_(T.QT,X,o,i);if(T.NL)_(T.NL,X,o,i);
if(T.Z8)_(T.Z8,h,v,i);if(T.Jt)_(T.Jt,h,v,i)}};aQ.avR=function(w,I,E,X){var o=aQ.aT();o.fill=w.oK;o.style=!0;
Q.e.gF(w._h,w.Fr,w.Qr,I,E,X,1,o)};aQ.avc=function(w,I,E,X){var o=aQ.aT();o.fill=w.oK;o.style=!0;R.e.QE(w._h,w.rp,w.Qr,I,E,X,1,o)};
aQ.a5y=function(w,I){var E=1-I.Inpr.v.val/100,X=1+Math.tan(E*(Math.PI/2)),o=w.length;for(var P=0;P<o;
P++)w[P]=Math.min(255,Math.round(w[P]*X))};aQ.wm=function(w,I,E,X){var o=I.blur.v.val,i=Math.round(o*(I.Ckmt.v.val/100));
if(o>i){var h=Q.sD.X_(I.TrnS.v.Crv.v,256,X!=!0);Q.PM(w,h)}if(E!=null&&I.Nose.v.val>0)Q.style.Gm(w,I.Nose.v.val/100,E)};
aQ.y0=function(w,I,E){if(E==null)E=255;var X=Q.N.BL(I),o=E<<24|X.L<<16|X.P<<8|X.o,i=new Uint32Array(w.buffer);
i.fill(o)};aQ.T8=function(w,I,E,X){var o=I.uglg&&I.uglg.v?E.T7():I.lagl.v.val;o=o*Math.PI/180+X;var i=Math.cos(o)*I.Dstn.v.val,h=Math.sin(o)*I.Dstn.v.val;
w.x-=Math.round(i);w.y+=Math.round(h)};aQ.AM=function(w){if(w==null)return null;var I=w.frameFXMulti.v;
if(I.length==0)return null;I=I[0].v;var E=JSON.parse(JSON.stringify(hL.Oq.default));aQ.avh(I,E);return E};
aQ.avh=function(w,I){var E=hL.stroke.be.indexOf(w.PntT.v.FrFl),X=[hL.y8,hL.qT,hL.BK][E],o=I.strokeStyleContent.v={classID:hL.Oq.m9[E]};
for(var P=0;P<X.length;P++)o[X[P]]=w[X[P]];I.strokeEnabled=w.enab;I.strokeStyleLineWidth=w.Sz;I.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hL.Oq.hN[hL.stroke.types.indexOf(w.Styl.v.FStl)];
I.strokeStyleOpacity=w.Opct;I.strokeStyleBlendMode=w.Md;I.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
aQ.by=function(w,I){var E=[];for(var P=0;P<w.length;P++)E.push({t:"UntF",v:{type:"#Nne",val:Math.round(w[P]*I)}});
return E};aQ.cg=function(w,I,E,X){this.uy=I.clone();this.avL=I.clone();this.avL.Cs(E,E);if(X){this.uy.Cs(1,1);
this.ic=Q.$(this.uy.A());Q.b_(w,I,this.ic,this.uy)}else this.ic=w;this.Zz=null;this.jA=null;this.LB=null};
aQ.cg.prototype.t9=function(){return this.ic};aQ.cg.prototype.rect=function(){return this.uy};aQ.cg.prototype.Th=function(){return this.avL};
aQ.cg.prototype.PT=function(){if(this.Zz)return this.Zz;this.Zz=this.t9().slice(0);Q.ja(this.Zz);return this.Zz};
aQ.cg.prototype.mx=function(){if(this.jA)return this.jA;this.jA=new Float64Array(this.rect().A());Q.style.ZZ(this.PT(),this.jA,this.rect().q,this.rect().w);
return this.jA};aQ.cg.prototype.eC=function(){if(this.LB)return this.LB;var w=this.Th(),I=Q.$(w.A());
Q.b_(this.t9(),this.rect(),I,w);this.LB=new Float64Array(w.A());Q.style.ZZ(I,this.LB,w.q,w.w);return this.LB};
aQ.cg.prototype.a7h=function(w,I){var E={s1:-I,vV:w,pq:null,a0:null};if(I==0){E.pq=this.rect();E.a0=this.mx();
return E}var X=this.eC().slice(0),o=this.Th();E.pq=o;E.a0=X;for(var P=0;P<X.length;P++)X[P]=-X[P];if(w==0)return E;
var i=this.mx(),h=this.rect();for(var k=0;k<h.w;k++)for(var x=0;x<h.q;x++){var j=k*h.q+x,v=(k+h.y-o.y)*o.q+x+h.x-o.x;
X[v]+=i[j]}return E};aQ.cg.prototype.mY=function(w,I,E){var X=Math.ceil(w+I),o={_b:this.rect().clone(),t9:null};
o._b.Cs(X,X);o.t9=Q.$(o._b.A());if(w==0&&I==0)Q.QM(E?this.t9():this.PT(),o.t9);else{var i=Q.$(o._b.A());
Q.b_(this.t9(),this.rect(),i,o._b);if(!E)Q.ja(i);if(w!=0){if(E)Q.style.vn(i,o._b,this.eC(),this.Th(),w);
else Q.style.vn(i,o._b,this.mx(),this.rect(),w)}if(I!=0)Q.iG.sB(i,o.t9,o._b,Math.max(1,I*.43));else o.t9=i}return o};
aQ.cg.prototype.ap1=function(w,I,E){var X=w*(I-.5),o={_b:this.rect().clone(),t9:null};if(E)o._b.Cs(w,w);
o.t9=Q.$(o._b.A());var i=o._b.q,h=o._b.w,k=E?this.eC():this.mx(),x=E?this.Th():this.rect(),j=o._b,v=j.LP(x),i=v.q,h=v.w,_=v.x-j.x,L=v.y-j.y,U=v.x-x.x,n=v.y-x.y,a=1-I*2;
for(var T=0;T<h;T++)for(var g=0;g<i;g++){var D=k[(T+n)*x.q+g+U],b=D/w;o.t9[(T+L)*j.q+g+_]=Math.max(0,Math.min(255,255-255*((b+a)/(1+a))))}return o};
aQ.afi=function(w,I,E,X){var o=w.Lefx,i=w.blendOptions;if(o){var h=I.add.lmfx;if(E==null)E=h?h.Scl.v.val:100;
I.add.lmfx=JSON.parse(JSON.stringify(o.v));if(I.add.lmfx.Scl==null)I.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
aQ.v3(I.add.lmfx,E/I.add.lmfx.Scl.v.val);if(h)I.add.lmfx.Scl.v.val=h.Scl.v.val;var k=o.v.gagl;if(k&&X)X.Vh(k.v.val)}else delete I.add.lmfx;
if(i){i=i.v;if(i.Md)I.$B=hH.yk(i.Md.v.BlnM);if(i.Opct)I.opacity=Math.round(i.Opct.v.val*255/100);if(i.fillOpacity)I.add.iOpa=Math.round(i.fillOpacity.v.val*255/100);
if(i.Blnd){var x=[];for(var P=0;P<10;P++)x.push(0,0,255,255);var j=i.Blnd.v,v="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var P=0;P<j.length;P++){var _=j[P].v,L=8*["Gry","Rd","Grn","Bl"].indexOf(_.Chnl.v[0].v.enum);for(var U=0;
U<8;U++){x[L+U]=_[v[U]].v}}I.xs=x}}};aQ.a0i=function(w){var I="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),E=[],X=w.xs;
for(var P=0;P<4;P++){var o=P*8;if(X[o]+X[o+1]+X[o+4]+X[o+5]==0&&X[o+2]+X[o+3]+X[o+6]+X[o+7]==4*255)continue;
var i={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][P]}}]}}};
E.push(i);for(var h=0;h<8;h++)i.v[I[h]]={t:"long",v:X[P*8+h]}}var k={classID:"blendOptions"};if(w.$B!="norm")k.Md={t:"enum",v:{BlnM:hH.r6(w.$B)}};
if(w.opacity!=255)k.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(w.opacity*100/255)}};if(w.add.iOpa!=null)k.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(w.add.iOpa*100/255)}};
if(E.length!=0)k.Blnd={t:"VlLs",v:E};var x={nV:{classID:"null",Idnt:{t:"TEXT",v:hg.Mz()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},C$:{classID:"Styl",blendOptions:{t:"Objc",v:k}}},j=w.add.lmfx;
if(j)x.C$.Lefx={t:"Objc",v:j};return x};function j8(){}j8.pe=function(w){return JSON.parse(JSON.stringify(w))};
j8.YU=function(w){var I=j8.pe(j8.amR),E=I.Brsh.v;if(w!=null){delete E.Hrdn;E.classID="sampledBrush";
E.Nm={t:"TEXT",v:"layer.png"},E.sampledData={t:"TEXT",v:w}}return I};j8.amR={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
j8.Uz={};j8.Uz.check=function(w){var I=j8.Uz.G3;for(var P=0;P<I.length;P++)if(w[I[P]]==null)w[I[P]]=JSON.parse(j8.Uz.gG[I[P]]);
var E=[];for(var P=0;P<I.length;P++)E.push(I[P]);var X=j8.Uz.a50;for(var P=0;P<X.length;P++){var o=X[P][0],i=X[P][1],h=!0;
for(var k=0;k<o.length;k++)h=h&&w[o[k]].v==!0;if(h)for(var k=0;k<i.length;k++){if(w[i[k]]==null)console.log("Missing conditional parameter "+i[k]);
else E.push(i[k])}}for(var x in w)if(E.indexOf(x)==-1)console.log("Extra parameter "+x);w=w.Brsh.v;I=j8.Uz.Cl.G3;
for(var P=0;P<I.length;P++)if(w[I[P]]==null)w[I[P]]=JSON.parse(j8.Uz.Cl.gG[I[P]]);E=[];for(var P=0;P<I.length;
P++)if(w[I[P]])E.push(I[P]);else console.log("Missing default parameter "+I[P]);X=j8.Uz.Cl.alS[w.classID];
for(var P=0;P<X.length;P++)if(w[X[P]]==null&&X[P]!="dtipsGridSize"&&X[P]!="dtipsErodibleTipHeightMap"&&w.aqA!=1)console.log("Missing conditional parameter "+X[P]);
else E.push(X[P]);for(var x in w)if(E.indexOf(x)==-1)console.log("Extra parameter "+x)};j8.Uz.aw3=function(w){var I=j8.Uz.a50;
for(var P=0;P<I.length;P++){var E=I[P][0],X=I[P][1],o=!0;for(var i=0;i<E.length;i++)o=o&&w[E[i]]&&w[E[i]].v==!0;
if(o){for(var i=0;i<X.length;i++)if(w[X[i]]==null){w[X[i]]=JSON.parse(j8.Uz.gG[X[i]])}}else for(var i=0;
i<X.length;i++)if(w[X[i]]!=null){delete w[X[i]]}}};j8.Uz.Cl={};j8.Uz.Cl.G3="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
j8.Uz.Cl.gG={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};j8.Uz.Cl.alS={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
j8.Uz.a50=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
j8.Uz.G3="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
j8.Uz.gG={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\": 1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function aE(w,I){this.asP=w;this.yn=I==null?0:I;this.dir=0}aE.prototype.N2=function(w,I){var E=this.asP,X=new a5(w.x-E.x,w.y-E.y),o=new am;
o.rotate(-this.yn);X=o.kG(X);if(this.dir==0&&!E.ZQ(w))this.dir=Math.abs(X.x)<Math.abs(X.y)?1:2;if(I.Y(aW.mG)){if(this.dir==1)X.x=0;
if(this.dir==2)X.y=0}o.ja();X=o.kG(X);var i=new a5(E.x+X.x,E.y+X.y);return i};aE.prototype.asX=function(w){if(w.Y(aW.mG))return this.dir;
return 0};var i9=function(){function w(){this.ad5={}}w.asO=function(I,E){var X=I.clone();X.N9-=Math.floor(X.N9);
X.Zt-=Math.floor(X.Zt);var o=new a5(E,0),i=new a5(0,E),h=X.kG(o),k=X.kG(i),x=new a5(X.N9,X.Zt);return[h,k,x]};
w.ai1=function(I,E){var X=a5.GZ;return X(I[0],E[0])+X(I[1],E[1])+X(I[2],E[2]);return dsum};w.prototype.asG=function(I){var E=this.ad5,X=E[I];
if(X==null)X=E[I]={li:[],B6:0,A:0,a3A:0,arH:0};X.B6=Date.now();while(Object.keys(E).length>3){var o="",i=Date.now();
for(var h in E){var k=E[h].B6;if(k<i){i=k;o=h}}delete E[o]}return X};w.prototype.a7F=function(I,E){var X=I.li,o,i=1e6;
for(var P=0;P<X.length;P++){var h=X[P],k=w.ai1(h.o6,E);if(k<i){o=h;i=k}}return o};w.prototype.a2f=function(I,E){var X=I.li;
X.push(E);I.A+=E.rect.A();if(X.length>1e3||I.A>100*100*1600){console.log("pruning",I.A,X.length);X.sort(function(i,h){return h.B6-i.B6});
while(X.length>500||I.A>100*100*800){var o=X.pop();I.A-=o.rect.A()}}};return w}();function cn(w,I,E,X,o,i,h,k,x){this.Ar=I;
this.a6=E;this.Mw=i;this.hT=X;this.eh=null;this.AW=null;this.k_=0;this.atY=0;this.arA=0;this.ZJ=0;this.wX=x==null?Math.floor(Math.random()*16777215):x;
this.sN=x==null?Math.floor(Math.random()*16777215):x;this.WG=new dC;this.hQ=new dC;if(k!=null){this.Fr=k}else{var j=cn.ar7;
if(j.length!=h.A()*4)j=Q.$(h.A()*4);else j.fill(0);this.Fr=cn.ar7=j}this.rect=h.clone();this.av=[];this.w4=[];
this.QG=null;this.Ht=0;this.L=null;this.amg="";this.i7=null;this.a2r(w,o)}cn.ar7=Q.$(16);cn.prototype.a2r=function(w,I){this.Ht=I;
this.L=w;this.amg=JSON.stringify(w)+JSON.stringify(this.hT.Hn);this.i7=cn.alL(this.L,this.Ar,this.a6)};
cn.prototype.moveTo=function(w,I,E){E=this.agc(E);this.k_=E;var X=new a5(w,I),o=this.L.Brsh.v.Dmtr.v.val;
this.eh=X.clone();this.AW=X.clone();this.QG=X.clone();this.av=[w,I];this.w4=[E];if(this.hT.kP!=cn.hn){var i=this.L.angleDynamics,h=i?i.v.bVTy.v==6:!1;
this.e4(h?new dC:this.a4V(X,this.ald(E),E,new a5(0,0)))}this.ZJ=X.clone()};cn.prototype.lineTo=function(w,I,E){E=this.agc(E);
var X=this.av,o=X.length,i=X[o-2],h=X[o-1];if(w==i&&I==h)return;var k=this.L.Brsh.v.Dmtr.v.val,x=Math.ceil(k)+1,j=new dC(Math.round(i),Math.round(h),0,0);
j.Cs(x,x);var v=new dC(Math.round(w),Math.round(I),0,0);v.Cs(x,x);this.av.push(w,I);this.w4.push(E);
o+=2;if(o>=6)this.e4(this.aej(o))};cn.prototype.agc=function(w){if(w==null)w=1;w=Math.max(.05,Math.min(5,w));
if(isNaN(w)){alert("Pressure is not a number");throw"e"}return w};cn.prototype.e4=function(w){this.WG=w;
this.hQ=this.hQ.jB(w)};cn.prototype.finish=function(){var w=this.av,I=w.length,E;if(I==4)E=this.aa5(w[I-2],w[I-1],this.w4[(I>>1)-1],!0);
if(I>4)E=this.aej(I+2);if(E)this.e4(E)};cn.prototype.eB=function(){return this.rect.clone()};cn.prototype.kT=function(){return this.WG.LP(this.rect)};
cn.prototype.Iz=function(){return this.hQ.LP(this.rect)};cn.prototype.d_=function(){return this.Fr};
cn.prototype.aej=function(w){var I=this.av,E=this.w4,X=I[w-6],o=I[w-5],i=I[w-4],h=I[w-3],k=E[(w>>1)-3],x=E[(w>>1)-2],j=new a5(0,0),v=new a5(0,0);
if(8<=w)j=cn.asd(I[w-8],I[w-7],X,o,i,h);if(w<=I.length)v=cn.asd(I[w-2],I[w-1],i,h,X,o);var _=X+j.x,L=o+j.y,U=i+v.x,n=h+v.y,a=new dC;
for(var P=0;P<10;P++){var T=(P+1)*.1,g=1-T,D=g*g*g*X+3*T*g*g*_+3*T*T*g*U+T*T*T*i,b=g*g*g*o+3*T*g*g*L+3*T*T*g*n+T*T*T*h,N=this.aa5(D,b,k+T*(x-k));
a=a.jB(N)}return a};cn.asd=function(w,I,E,X,o,i){var h=w-E,k=I-X,x=o-E,j=i-X,v=Math.sqrt(h*h+k*k),_=Math.sqrt(x*x+j*j),L=Math.acos((h*x+k*j)/(v*_))/Math.PI,U=.35,n=.1;
L=n+L*(U-n);var a=o-w,T=i-I,g=Math.sqrt(a*a+T*T),D=L*_/g;return new a5(a*D,T*D)};cn.prototype.aa5=function(w,I,E,X){var o=new dC,i=this.hT.axP;
if(i==null)i=0;if(i==0||X){o=this.awr(w,I,E);return o}var h=this.QG,k=w-h.x,x=I-h.y,j=Math.sqrt(k*k+x*x);
k/=j;x/=j;if(j>i){var v=h.x+k*(j-i),_=h.y+x*(j-i);o=this.awr(v,_,E);this.QG.eo(v,_)}return o};cn.prototype.awr=function(w,I,E){var X=new dC,o=new a5(w,I),i=this.L.Brsh.v.Dmtr.v.val,h=this.hT.kP,k=o.MT(this.AW);
k.normalize(1);var x=a5.GZ(this.AW,o),j=-this.atY,v=this.AW.clone();while(!0){var _=this.k_+(E-this.k_)*(Math.max(0,j)/x),L=this.ald(_),U=this.a4g()*(L+this.arA)/2*this.i7.aj3;
if(h==cn.hn)U=1;if(j+U<x){j+=U;var n=new a5(this.AW.x+k.x*j,this.AW.y+k.y*j),g=1;if(h==cn.hn){var a=v.clone();
a.x+=k.x>0?1:-1;var T=v.clone();T.y+=k.y>0?1:-1;if(a5.GZ(a,n)<a5.GZ(T,n))n=a;else n=T;j=a5.GZ(n,this.AW)}if(this.L.useScatter.v==!0){g=this.L.Cnt.v;
var D=this.L.countDynamics.v.jitter.v.val/100,b=D*(-1+2*this.H_());g+=Math.round(g*b)}for(var P=0;P<g;
P++){var N=this.a4V(n,L,E,k);X=X.jB(N)}v=n}else break}this.atY=x-j;this.AW=o;this.k_=E;return X};cn.prototype.a4g=function(){var w=this.L.Brsh.v,I=w.Spcn.v.val,E=Math.max(5,w.Rndn.v.val);
return E/100*(I/100)};cn.prototype.ald=function(w){var I=this.L,E=I.Brsh.v.Dmtr.v.val;if(I.useTipDynamics.v){var X=E*(I.minimumDiameter.v.val/100);
E=X+(E-X)*(1-this.H_(this.sN)*(I.szVr.v.jitter.v.val/100));if(I.szVr.v.bVTy.v==2)E*=w}return E};cn.prototype.a4V=function(w,I,E,X){var o=this.hT.j9;
o=Math.min(1,o);var i=this.L,h=this.L.Brsh.v,k=h.Dmtr.v.val,x=this.hT,j=x.kP,v=x.axA,_=this.i7.IZ[1],L=new am;
L.translate(-_.q/2,-_.w/2);L.scale(1/this.i7.aiy,1/this.i7.aiy);L.scale(I/k,I/k);L.scale(1,Math.max(5,h.Rndn.v.val)/100);
if(i.usePaintDynamics&&i.usePaintDynamics.v){var U=i.opVr.v.jitter.v.val/100,n=i.prVr.v.jitter.v.val/100;
o*=1-this.H_()*U;o*=1-this.H_()*n;if(i.opVr.v.bVTy.v==2)o*=E;if(i.prVr.v.bVTy.v==2)o*=E}if(i.useTipDynamics.v){var a=i.angleDynamics.v,T=i.minimumRoundness.v.val/100;
L.scale(1,T+(1-T)*Math.round(100-this.H_()*i.roundnessDynamics.v.jitter.v.val)/100);L.rotate((-.5+this.H_())*4*Math.PI*(a.jitter.v.val/100));
if(a.bVTy.v==6)L.rotate(Math.atan2(-X.y,X.x))}L.rotate(h.Angl.v.val*(Math.PI/180));if(i.useScatter.v){var g=(-1+2*this.H_())*i.scatterDynamics.v.jitter.v.val/100;
L.translate(-g*I*X.y,g*I*X.x)}L.translate(w.x,w.y);var D=this.a5w(L,w,I),b=D.rect.clone();if(j==null){var N=this.Q5(i);
Q.Ez(D.U5,Math.round(N.L*255)<<16|Math.round(N.P*255)<<8|Math.round(N.o*255)<<0,4278190080);if(this.hQ.qo()&&this.rect.ZQ(D.rect)&&o==1)this.Fr=D.U5.slice(0);
else{var C=-1,Z=2,S=-1,u=2;if(!x.Qb){C=S=0;Z=u=1}for(var p=S;p<u;p++)for(var f=C;f<Z;f++){var d=D.rect.clone();
d.x+=f*this.rect.q;d.y+=p*this.rect.w;if(d.XU(this.rect)){b=b.jB(d);Q.e.adN(D.U5,d,this.Fr,this.rect,d,o)}}}}if(j==cn.hn){var l=new a5(D.rect.x+D.rect.q/2,D.rect.y+D.rect.w/2),A=Math.round(l.x-this.ZJ.x),B=Math.round(l.y-this.ZJ.y),e=D.rect.clone();
e.offset(-A,-B);var m=e.LP(this.rect);m.offset(A,B);Q.D6(this.Fr,this.rect,D.U5,e);Q.e.jR(D.U5,D.rect,this.Fr,this.rect,D.Rd,D.rect,o)}if(j==cn.zV||j==cn.t4||j==cn.pH){var $=D.rect.LP(this.rect),V;
if($.ZQ(D.rect))V=D.Rd;else{V=Q.$($.A());Q.b_(D.Rd,D.rect,V,$)}var H=Q.$($.A()*4);Q.D6(this.Fr,this.rect,H,$);
if(j==cn.t4){var F=H.slice(0),G=Q.Zi.FT([-1,-1,-1,-1,25,-1,-1,-1,-1]);Q.Zi.Q3(H,F,$.q,$.w,G,0);Q.QM(F,H)}else if(j==cn.pH){var J=gD.SX("UnsM");
J.Amnt.v.val=15;J.Thsh.v=0;J.Rds.v.val=5;var F=Q.$(H.length);gD.$Z("UnsM",{buffer:H,rect:$},J,0,0,{buffer:F,rect:$});
Q.QM(F,H)}else{gD._y(1,Q.iG.oT,H,$)}Q.e.jR(H,$,this.Fr,this.rect,V,$,o)}this.arA=I;this.ZJ=l;this.sN++;
return b};cn.prototype.Q5=function(w){var I=cn.a3P(this.Ht);if(w.useColorDynamics&&w.useColorDynamics.v){var E=1-this.H_()*w.clVr.v.jitter.v.val/100,X=cn.a3P(this.Mw);
I.o=E*I.o+(1-E)*X.o;I.P=E*I.P+(1-E)*X.P;I.L=E*I.L+(1-E)*X.L;var o=(-.5+this.H_())*w.H.v.val/100,i=(-1+2*this.H_())*w.Strt.v.val/100,h=(-1+2*this.H_())*w.Brgh.v.val/100,k=Q.h_(I.o,I.P,I.L);
k.Ns=(k.Ns+o+1)%1;k.Ls=k.Ls+i;if(k.Ls<0)k.Ls=-k.Ls;if(k.Ls>1)k.Ls=1-(k.Ls-1);k.P$=k.P$+h;if(k.P$<0)k.P$=-k.P$;
if(k.P$>1)k.P$=1-(k.P$-1);I=Q.Ww(k.Ns,k.Ls,k.P$)}return I};cn.prototype.Uz=function(w){return Math.max(0,Math.min(1,w))};
cn.prototype.H_=function(w){if(w==null){w=this.wX++}return cn.hash(w)};cn.a3P=function(w){return{o:(w>>16&255)/255,P:(w>>8&255)/255,L:(w>>0&255)/255}};
cn.hash=function(w){w=w^61^w>>16;w=w+(w<<3);w=w^w>>4;w=w*668265261;w=w^w>>15;return(w&16777215)/16777215};
cn.abg=new i9;cn.prototype.a5w=function(w,I,E){var X=Math.sqrt(this.i7.IZ[1].A()),o=X*w.dA(),i=o<10?1:o<50?1.5:o<200?3:8;
if(o<30)i=0;var h=cn.abg,k=h.asG(this.amg),x=this.hT.Hn;if(x){w=w.clone();w.N9=Math.floor(w.N9);w.Zt=Math.floor(w.Zt)}var j=i9.asO(w,X),v=h.a7F(k,j);
if(v&&i9.ai1(v.o6,j)>i)v=null;if(v){v.rect.x=Math.round(v.aaP.x+w.N9);v.rect.y=Math.round(v.aaP.y+w.Zt);
if(x){v.rect.x=Math.round(I.x-v.rect.q/2);v.rect.y=Math.round(I.y-v.rect.w/2)}v.B6=Date.now()}else{var _=Math.round(this.L.Brsh.v.Dmtr.v.val),L;
if(x&&_<=3){L={buffer:Q.$(_*_*4),rect:new dC(Math.round(I.x-_/2),Math.round(I.y-_/2),_,_)};Q.Ez(L.buffer,4278190080)}else if(w.lV==1&&w.L==0&&w.I5==0&&w.cA==1){L={buffer:this.i7.IZ[0],rect:this.i7.IZ[1].clone()};
L.rect.x=Math.round(w.N9);L.rect.y=Math.round(w.Zt)}else L=q.R.oI(this.i7.IZ,w);if(x){for(var P=0;P<L.buffer.length;
P++)L.buffer[P]=L.buffer[P]>127?255:0}if(L==null)L={buffer:Q.$(0),rect:new dC};v={U5:L.buffer,Rd:Q.$(L.rect.A()),rect:L.rect,aaP:new a5(L.rect.x-w.N9,L.rect.y-w.Zt),o6:j,B6:Date.now()};
Q.qe(v.U5,v.Rd,3);if(k)h.a2f(k,v)}return v};cn.alL=function(w,I,E){var X,o,i,h=w.Brsh.v.Dmtr.v.val;if(w.Brsh.v.classID=="computedBrush"){var k=w.Brsh.v.Hrdn.v.val/100;
o=h<100?1.4:1;i=1;X=Q.afB.a7x(h,k,o)}if(w.Brsh.v.classID=="sampledBrush"){var x;for(var P=0;P<I.length;
P++)if(I[P].id==w.Brsh.v.sampledData.v)x=I[P];X=x.IZ;var j=X[1];o=Math.max(j.q,j.w)/h;i=Math.min(j.q,j.w)/Math.max(j.q,j.w)}return{aiy:o,aj3:i,IZ:X}};
cn.U=null;cn.vu=null;cn.e6=function(w,I,E,X,o,i){var h=cn.U,k=cn.vu;if(h==null){cn.U=h=document.createElement("canvas");
cn.vu=k=h.getContext("2d")}if(i==null)i=X;if(h.width!=i||h.height!=o){h.width=i;h.height=o}else k.clearRect(0,0,i,o);
k.fillStyle="#000000";k.font=Math.floor(10*q.V())+"px sans-serif";var x=w.Brsh.v.Dmtr.v.val,j=""+x,v=w.useBrushSize;
if(v&&v.v)j="---";var _=k.measureText(j);k.fillText(j,(X-_.width)/2,o-2);var L=X,U=o-10*q.V(),n=Math.min(L,U),a=w.Brsh.v.classID;
if(a=="computedBrush"){k.translate(L/2,U/2);k.rotate(-w.Brsh.v.Angl.v.val*Math.PI/180);k.scale(1,.1+.9*w.Brsh.v.Rndn.v.val/100);
var T=Math.min(.95*n/2,x/2)+.5,g=.9*w.Brsh.v.Hrdn.v.val/100,D=k.createRadialGradient(0,0,0,0,0,T);D.addColorStop(g,"rgba(0,0,0,1)");
D.addColorStop((.5+g)/1.5,"rgba(0,0,0,.5)");D.addColorStop(1,"rgba(0,0,0,0)");k.fillStyle=D;k.fillRect(-T,-T,2*T,2*T);
k.setTransform(1,0,0,1,0,0)}else if(a=="sampledBrush"){var b,p=0;for(var P=0;P<I.length;P++)if(I[P].id==w.Brsh.v.sampledData.v)b=I[P];
var N=b.IZ;Q.RQ(N);var Z=N[0],S=N[1].q,u=N[1].w;while((S>L||u>U)&&N[p+2]){p+=2;Z=N[p];S=N[p+1].q;u=N[p+1].w}if(S*u!=0){var f=new ImageData(new Uint8ClampedArray(Z.buffer),S,u);
k.putImageData(f,Math.round((L-S)/2),Math.round((U-u)/2))}}else{}return h.toDataURL()};cn.xM=function(w,I,E,X){if(E==0)E=1;
var o=w.Brsh.v,i=o.Dmtr.v.val,h=o.Dmtr.v.val=Math.min(X!=null?Math.round(X*2.6):3e3,i*E),k=o.Hrdn?o.Hrdn.v.val/100:1,x=X!=null?X:Math.round(h*(1+.55*(1-k)))+4,_;
x=Math.max(15,Math.min(x,3e3));var j=new dC(0,0,x,x),v=new cn(w,I,null,{j9:1},16711712,0,j);o.Dmtr.v.val=i;
v.moveTo(j.q/2,j.w/2);var L=v.d_(),U=v.eB();if(j.ZQ(U))_=L;else{_=Q.$(j.A()*4);Q.D6(L,U,_,j)}return[_,j,h]};
cn.apf=function(w,I,E,X){var o=I.q,i=o>>>1;for(var P=0;P<4;P++){var h=6-P;w[o*(i-h)+i-1]=X;w[o*(i-h)+i]=E;
w[o*(i-h)+i+1]=X;w[o*(i+h)+i-1]=X;w[o*(i+h)+i]=E;w[o*(i+h)+i+1]=X;w[o*(i-1)+i-h]=X;w[o*i+i-h]=E;w[o*(i+1)+i-h]=X;
w[o*(i-1)+i+h]=X;w[o*i+i+h]=E;w[o*(i+1)+i+h]=X}};cn.AB=function(w,I,E,X){var o=cn.xM(w,I,E),i=o[0].slice(0),h=o[1],k=o[2],x=h.A(),j=Q.$(x);
Q.qe(i,j,3);var v=Q.$(x);Q.n.at7(j,v,h,q.V()>1.9);if(k<3||Q.Y4(v,0)||X&&k>12){cn.apf(v,h,255,0)}var _=[3,5,3,4,8,4,3,5,3];
_=Q.Zi.FT(_);Q.Zi.SK(v,j,h.q,h.w,_);Q.Ez(i,4294967295);Q.lJ(j,i,3);for(var P=0;P<x;P++)if(v[P]==255){i[P<<2]=i[(P<<2)+1]=i[(P<<2)+2]=0;
i[(P<<2)+3]=255}return{L9:i,_b:h,gH:new a5(h.q/2,h.w/2)}};cn.hn="0";cn.zV="1";cn.t4="2";cn.pH="3";var fv={};
fv.dn=function(w,I){var E=w.Kj(),h=0,j;if(E.x==Infinity||E.qo())return{Fr:Q.$(0),_b:new dC,Wc:new dC};
var X=w.Kj(),o=fv.y2(w,I),i=Q.p.uh(o.C);for(var P=0;P<w.hd.length;P++){var k=w.hd[P].V6;if(k.StrokeFlag&&k._LineWidth)h=Math.max(h,Math.ceil(I.F.dA()*k._LineWidth/2))}i.Cs(h,h);
if(i.qo())return{Fr:Q.$(0),_b:new dC,Wc:new dC};var x=Q.wH(i.q,i.w);x.translate(-i.x,-i.y);fv.a4P(o,x);
if(w.hd.length!=0){var v=bQ.Z7(I),_=x.getImageData(0,0,i.q,i.w);j=new Uint8Array(_.data.buffer);if(v==0)for(var P=0;
P<j.length;P+=4)j[P+3]=j[P+3]>80?255:0;if(v==3)for(var P=0;P<j.length;P+=4)j[P+3]=Math.min(255,j[P+3]*1.5)}else j=Q.$(i.A()*4);
x.resetTransform();x.beginPath();return{Fr:j,_b:i,Wc:X}};fv.y2=function(w,I){var E=I.F,X=I.Da;fv.ID=E.dA();
var o=bQ.Z7(I),i=Math.max(E.L*E.L,E.I5*E.I5)<1e-9?E:null;if(o==3||o==4)i=null;var h={J:[],C:[]};fv.aya(w,h,i,!0);
fv.aya(w,h,i,!1);h=fv.ef(h,I,w);return h};fv.ID=1;fv.ef=function(w,I,E){if(w==null)return w;if(E&&E.pu)Q.p.F(w.C,E.pu,w.C);
if(E&&!Q.AG.JJ(I.gl)){var X=bQ.eB(I,E);if(!X.qo()){if(w.J){w=Q.p.YN(w);var o=Math.min(X.q,X.w)/8;if(o<1)o=1;
w=Q.p.Z6(w,o)}var i=Q.AG.Sk(I.gl,X);Q.SZ.F(i,w.C,X)}}var h=I.F;Q.p.F(w.C,h,w.C);return w};fv.a4P=function(w,I){I.save();
I.miterLimit=2;Typr.U.pathToContext({crds:w.C,cmds:w.J},I);I.restore()};fv.HR=function(w,I,E){var X=g9.atC(E),o=w.Da,i=o.ResourceDict.FontSet,h=o.ResourceDict.StyleSheetSet[0].StyleSheetData,k=o.EngineDict.StyleRun.RunLengthArray,x=o.EngineDict.StyleRun.RunArray,j=bQ.Of(o),v=!0,_={},L=0;
for(var P=0;P<x.length;P++){var U=x[P].StyleSheet.StyleSheetData.Font;if(U==null)U=h.Font;for(var n=0;
n<k[P];n++){var a=j.charCodeAt(L+n),T=U+","+(a>128?a:-1);if(_[T]==null){_[T]=1;if(I.ZW(i[U].Name,a)==null)v=!1}}L+=k[P]}return v&&X};
fv.atf=function(w,I,E){var X=!0;for(var o=0;o<w.b.length;o++){var i=w.b[o],h=i.add.TySh;if(h!=null&&!fv.HR(h,I,E))X=!1}return X};
fv.a6t=function(w,I,E){for(var X=0;X<w.b.length;X++){var o=w.b[X],i=o.add.TySh;if(i!=null&&fv.HR(i,I,E)){var h=new g9(i.Da,I),k=fv.dn(h,i);
o.rect=k._b;o.buffer=k.Fr;o.M();w.M()}}};fv.aya=function(w,I,E,X){var o=new am;for(var P=0;P<w.wo.length;
P++)fv.a05(w.hd,w.wo[P],I,o,E,X)};fv.a05=function(w,I,E,X,o,i){X.translate(I.Z2.x,I.Z2.y);for(var P=0;
P<I.lB.length;P++){var h={},k=I.lB[P];if(!k.eb)break;var x=X.clone();x.translate(k.Z2.x,k.Z2.y);if(o){var j=o.Zt+x.Zt*o.cA;
x.Zt=(Math.round(j)-o.Zt)/o.cA}for(var v=k.start;v<k.end;v++)fv.abA(w,I.TY[v],I,h,E,x,i)}X.translate(-I.Z2.x,-I.Z2.y)};
fv.a6Z="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
fv.abA=function(w,I,E,X,o,i,h){i.translate(I.Z2.x,I.Z2.y);for(var k=I.B7;k<=I.Aa;k++){var x=E.yC[k],j=x._b.q,v=w[E.ax_+x.Ql],_=v.V6._FillBackgroundFlag;
if(v.sg=="\n"||h&&!_)continue;var L=v.V6.FontSize/v.D_.head.unitsPerEm,U=i.clone();U.translate(x.Z2.x+x.Jl*L,x.Z2.y-x.CH*L);
var n=new am;n.scale(L,-L);if(v.D3==1&&fv.a6Z.indexOf(v.sg)!=-1)n.concat(new am(-1,0,0,1,j,0));if(v.V6.FauxItalic)n.concat(new am(1,0,-Math.tan(.18),1,0,0));
n.translate(0,v.r5);n.scale(v.scale.x,v.scale.y);if(v.V6.BaselineShift!=null)n.translate(0,-v.V6.BaselineShift);
if(x.yn!=0){n.rotate(-x.yn)}n.concat(U);var a=(v.V6._LineWidth?v.V6._LineWidth:1)*fv.ID;if(h){o.J.push(fv.Q5(v.V6._FillBackgroundColor));
var T=1.005*x._b.w/L,g=new dC(-x.Jl,-T*.27,1.03*x._b.q/(L*v.scale.x),T);if(v.V6.StrokeFlag)g.Cs(a/L,a/L);
Q.p.concat(o,Q.p.sy(g),n);o.J.push("X");continue}if(v.V6.FillFlag)o.J.push(fv.Q5(v.V6.FillColor));if(v.V6.StrokeFlag)o.J.push("O-"+fv.Q5(v.V6.StrokeColor)+"-"+a);
if(x.path.J.length!=0&&v.sg!="\t"){if(v.V6.FauxBold){var D=v.V6.FontSize/2048*27*v.scale.x;n.N9+=D;Q.p.concat(o,x.path,n);
n.N9-=D+D;Q.p.concat(o,x.path,n)}else Q.p.concat(o,x.path,n)}if(v.sg!="\n"){if(v.V6.Underline){if(X.Gy==null)X.Gy=v.D_.post.underlineThickness;
if(X.acJ==null)X.acJ=v.D_.post.underlinePosition;var b=0,N=X.acJ-X.Gy/2,C=x.SD*1.05,Z=-X.Gy;Q.p.concat(o,{J:["M","L","L","L","Z"],C:[b,N,b+C,N,b+C,N+Z,b,N+Z]},n)}if(v.V6.Strikethrough){var S=v.D_["OS/2"].yStrikeoutSize,u=v.D_["OS/2"].yStrikeoutPosition,b=0,N=u+S/2,C=x.SD*1.05,Z=-S;
Q.p.concat(o,{J:["M","L","L","L","Z"],C:[b,N,b+C,N,b+C,N+Z,b,N+Z]},n)}}if(v.V6.FillFlag)o.J.push("X");
if(v.V6.StrokeFlag)o.J.push("OX")}i.translate(-I.Z2.x,-I.Z2.y)};fv.Q5=function(w){var I=bQ.BL(w),E=(Math.round(I.o)<<16)+(Math.round(I.P)<<8)+Math.round(I.L);
return"#"+Q.mv(E)};function g9(w,I){var X=bQ.rI(w),o,i,h=bQ.Ni(w),k=w._LineOrientation==2?new am:null,_,U;
if(w.Curve)i=g9.eW(w.Curve);if(X!=0){o=new dC(h[0],h[1],h[2],h[3]);if(k){var x=o.q;o.q=o.w;o.w=x;k.translate(0,-h[2])}if(X==2){o.q=i[5]-i[4];
o.w=9999}}this.wo=[];this.hd=[];this.Vq=X;this.pu=k;var j=this.avI=bQ.Of(w),v=-1,L=-1;for(var P=0;P<j.length;
P++){var n=_,a=bQ.arj(w,P);if(a!=v){v=a;n=_=bQ.a62(w,a)}var T=U,a=bQ.acG(w,P);if(a!=L){L=a;T=U=bQ.ajz(w,a)}var g={sg:j.charAt(P),V6:n,D_:null,YO:-1,a8:bQ.aar(w,P),r5:0,scale:new a5(0,0),rL:0,lineHeight:0,D3:0},D=w.ResourceDict.FontSet[n.Font].Name,b=g.D_=I.ZW(D,j.charCodeAt(P));
g.scale.x=n.HorizontalScale==null?1:n.HorizontalScale;g.scale.y=n.VerticalScale==null?1:n.VerticalScale;
var N=b["OS/2"],C=b.hhea;if(n.FontCaps==1&&g.sg!=g.sg.toUpperCase()){var Z=N.sxHeight?N.sxHeight/N.sTypoAscender:.76;
g.scale.x*=Z;g.scale.y*=Z}var S=1/b.head.unitsPerEm*n.FontSize;if(n.FontBaseline==1){var Z=w.ResourceDict.SuperscriptSize;
g.scale.x*=Z;g.scale.y*=Z;g.r5-=w.ResourceDict.SuperscriptPosition*n.FontSize}if(n.FontBaseline==2){var Z=w.ResourceDict.SubscriptSize;
g.scale.x*=Z;g.scale.y*=Z;g.r5+=w.ResourceDict.SubscriptPosition*n.FontSize}g.rL=g9.rL(b)*n.FontSize;
var u=T.AutoLeading;g.lineHeight=n.FontSize*(u==null?1.2:u);if(n.AutoLeading==!1)g.lineHeight=n.Leading;
if(g.lineHeight==0)g.lineHeight=.01;this.hd.push(g)}var p=this.wo,f=[0];for(var P=0;P<w.EngineDict.ParagraphRun.RunLengthArray.length;
P++){var d=new g9.Kp(w,I,this.hd,P,o,f,X==1?i:null);p.push(d)}if(k){if(X==0)k.translate(0,p[0].TY[0].rL/2);
k.rotate(-Math.PI/2)}if(X==2){var l=w.Curve.Points,A=i[0],B=i[1],e=i[2],m=i[3],$=i[4],V=i[5];for(var P=0;
P<p.length;P++)for(var H=0;H<p[P].lB.length;H++)if(!(P==0&&H==0))p[P].lB[H].eb=!1;var d=p[0],F=d.lB[0];
d.Z2.eo(0,0);F.Z2.eo(0,0);for(var H=F.start;H<F.end;H++){var G=d.TY[H],J=G.Z2.x;G.Z2.x=0;for(var c=G.B7;
c<=G.Aa;c++){var r=d.yC[c],s=r._b.q/2;r.Z2.x+=J;var z=g9.a8b(A,($+r.Z2.x+s)%m);r.Z2.x=z[0]-s*z[2];r.Z2.y=z[1]-s*z[3];
r.yn=Math.atan2(z[3],z[2])}}}}g9.rL=function(w){var I=w._hh;if(I==null){var E=Typr.U,X=E.codeToGlyph(w,104),o=Q.p.zK(Typr.U.glyphToPath(w,X).crds).w;
I=w._hh=o*(1/w.head.unitsPerEm)}return I};g9.prototype.alI=function(){return!this.a9N(0)};g9.prototype.axb=function(){return this.a9N(1)};
g9.prototype.a9N=function(w){var I=this.wo,E=!0,X=0;for(var P=0;P<I.length;P++){var o=I[P].lB,i=o.length;
X+=i;for(var h=0;h<i;h++)E&=o[h].eb}return[E,X][w]};g9.eW=function(w,I){if(I==null)I=.25;var E=w.Points,X=E.length,o=X>>>3,i=w.TextOnPathTRange,h=w.Reversed,_=0,L=0;
if(h){var k=E.slice(0);for(var P=0;P<X;P+=2){k[P]=E[X-2-P];k[P+1]=E[X-1-P]}E=k;i=[o-i[1]%o,o-i[0]%o]}var x=[],j=[0],v=[0];
for(var P=0;P<X;P+=8){var U=E[P+6]-E[P+0],n=E[P+7]-E[P+1],a=Math.round(1/I*Math.sqrt(U*U+n*n));for(var T=0;
T<a;T++){var g=T/a,D=1-g,b=D*D*D*E[P+0]+3*D*D*g*E[P+2]+3*D*g*g*E[P+4]+g*g*g*E[P+6],N=D*D*D*E[P+1]+3*D*D*g*E[P+3]+3*D*g*g*E[P+5]+g*g*g*E[P+7];
x.push(b,N);if(P+T!=0){var U=b-_,n=N-L;v.push(v[v.length-1]+Math.sqrt(U*U+n*n));j.push((P>>>3)+g)}_=b;
L=N}}var I=v.length,C=v[I-1],Z=g9.T2(i[0]%o,j),S=g9.T2(i[1]%o,j),u=v[Z%I],p=v[S%I];if(u>=p)p+=C;return[x,j,v,C,u,p]};
g9.T2=function(w,I){var P=0;while(I[P]<w)P++;return P};g9.a8b=function(w,I){var E=0,P=0,X,o,i;while(E<I){X=w[P+2]-w[P];
o=w[P+3]-w[P+1];i=Math.sqrt(X*X+o*o);E+=i;P+=2}return[w[P],w[P+1],X/i,o/i]};g9.prototype.aeS=function(w){return this.hd[w]};
g9.prototype.ad2=function(w){for(var I=0;I<this.wo.length;I++){var E=this.wo[I];for(var X=0;X<E.lB.length;
X++){var o=E.lB[X],i=E.TY[o.start].start,h=E.TY[o.end-1].end;if(i<w&&w<h)return[i,h-1]}}return[0,1]};
g9.prototype.ado=function(w,I){var E=-1,X=this.wo;if(this.Vq==2){var o=1e9,i=0,h=X[0],k=h.lB[0];for(var x=k.start;
x<k.end;x++){var j=h.TY[x];for(var v=j.B7;v<=j.Aa;v++){var _=h.yC[v],L=_._b.q,U=w.x-_.Z2.x,n=w.y-_.Z2.y,a=U*U+n*n;
if(a<o){o=a;i=_.Ql}}}if(i!=0&&this.avI.codePointAt(i-1)>65535)i--;return i}for(var T=0;T<X.length;T++){var h=X[T];
for(var g=0;g<h.lB.length;g++){E++;var k=h.lB[g],D=h.lB[g+1];if(D==null&&T<X.length-1)D=X[T+1].lB[0];
if(I!=null){if(E!=I)continue}else{if(D!=null&&h.Z2.y+k.Z2.y<w.y)continue}for(var x=k.start;x<k.end;x++){var j=h.TY[x];
for(var v=j.B7;v<=j.Aa;v++){var _=h.yC[v],L=_._b.q,b=h.Z2.x+k.Z2.x+j.Z2.x,N=b+_.Z2.x,C=b+(v<j.Aa?h.yC[v+1].Z2.x:_.Z2.x+L);
if(w.x<=C||x+1==k.end&&v==j.Aa){var Z=h.ax_+_.Ql,S=this.hd[Z],u=S.D3&1;if(S.sg!="\n"&&(u==0&&w.x>N+L/2||u==1&&w.x<N+L/2))Z+=this.avI.codePointAt(Z)>65535?2:1;
return Z}}}}}};g9.prototype.u_=function(w){var I={_b:new dC,rw:0},E=0;for(var X=0;X<this.wo.length;X++){var o=this.wo[X];
for(var i=0;i<o.lB.length;i++){var h=o.lB[i];I.rw=E;E++;for(var k=h.start;k<h.end;k++){var x=o.TY[k];
for(var j=x.start;j<x.end;j++){if(j==w){var v=this.hd[j],_=v.YO,L=o.yC[_].Ql,U=1;while(o.yC[_]!=null&&o.yC[_].Ql==L){var n=o.yC[_],a=o.Z2.x+h.Z2.x+x.Z2.x+n.Z2.x,T=o.Z2.y+h.Z2.y+x.Z2.y+n.Z2.y;
I._b=I._b.jB(new dC(a,T-v.lineHeight,n._b.q,v.lineHeight));I.yn=n.yn;_+=U}return I}}}}}};g9.prototype.Kj=function(){var w=Infinity,I=Infinity,E=-Infinity,X=-Infinity;
for(var P=0;P<this.wo.length;P++){var o=this.wo[P];for(var i=0;i<o.lB.length;i++){var h=o.lB[i];if(!h.eb)break;
for(var k=h.start;k<h.end;k++){var x=o.TY[k];for(var j=x.B7;j<=x.Aa;j++){var v=o.yC[j],_=v._b,L=o.Z2.x+h.Z2.x+x.Z2.x+v.Z2.x,U=o.Z2.y+h.Z2.y+x.Z2.y+v.Z2.y;
w=Math.min(w,L+_.x);I=Math.min(I,U+_.y);E=Math.max(E,L+_.x+_.q);X=Math.max(X,U+_.y+_.w)}}}}return new dC(w,I,E-w,X-I)};
g9.Pg=function(w){return 19968<=w&&w<=40959||12288<=w&&w<=12543};g9.acW=function(w,I,X,o,i,h,k){var x=[h],j=0;
for(var P=h;P<k;P++){if(X[P]==null)console.log(P,h,k,X);var v=X[P].sg,_=v.charCodeAt(0);if(_==32||_==9){x.push(j,P,1,P+1);
j=0}else if(_==3851){x.push(j+1,P+1);j=0}else if(g9.Pg(_)){x.push(j,P);j=1}else if(P!=h&&X[P].D3!=X[P-1].D3){x.push(j,P);
j=1}else j++}x.push(j);var L=[];for(var P=0;P<x.length;P+=2){var U=x[P],n=x[P+1];if(n==0)continue;L.push(new g9.avn(w,I,X,o,i,U,n))}return L};
g9.adK=function(w,I,E,X,o,i,h){var k=[0,I?I.q:1e9],x=[];if(X){var j=w[i].rL,v=o+(o==0?j:w[i].lineHeight),_=v-j*.9,L=Q.p.xO(X[0],_),U=L.length,n=Q.p.xO(X[0],v),a=n.length;
if(U!=0&&a!=0){var T=0,g=0,D=[];while(T<U&&g<a){var b=Math.max(L[T],n[g]),N=L[T+1],C=n[g+1],Z=Math.min(N,C);
if(b<Z)D.push(b,Z);if(N<C)T+=2;else g+=2}if(D.length!=0)k=D}}for(var S=0;S<k.length;S+=2){var u=0,p=i,f=I?k[S+1]-k[S]-E.StartIndent-E.EndIndent-(i==0?E.FirstLineIndent:0):Infinity;
while(i!=w.length){var d=w[i],l=u==0||(d.Ey||d.JZ)||u+d._b.q<f;if(!l)break;u+=d._b.q;i++}x.push(i-p)}h[0]=x;
h[1]=k;h[2]=i};g9.a9c=function(w,I){var E=w.length,X=new Uint32Array(E),o=new Uint8Array(E),i=0;for(var P=0;
P<E;P++){o[P]=0;var h=w.charCodeAt(P);X[P]=h;if(h>i)i=h}if(i>1424)o=g9.aiL(X,I);return o};g9.a56=function(w){return w=="\xDF"?w:w.toUpperCase()};
g9.Kp=function(w,I,X,o,i,h,k){this.TY=[];this.lB=[];this.Z2=new a5(0,0);this.yC=null;this.TY=null;this.V6=bQ.ajz(w,o);
var x=this.V6,L=0,a="",N=0,C=1,r=0;if(o!=0){var j=x.SpaceBefore;if(j!=null)h[0]+=j}var v=w.EngineDict.ParagraphRun.RunLengthArray,_=v[o];
for(var P=0;P<o;P++)L+=v[P];var U=x._Direction?x._Direction:0;this.ax_=L;var n=bQ.Of(w).slice(L,L+_);
for(var T=0;T<n.length;T++){var g=n.charAt(T);a+=X[L+T].V6.FontCaps==0?g:g9.a56(g)}n=a;var D=g9.a9c(n,U),b=[],Z=D[P]&1,S=X[L].D_;
X[L].D3=D[0];for(var P=1;P<n.length;P++){var g=X[L+P],u=D[P];g.D3=u;if(u!=Z||g.D_!=S){b.push(N,C);N=P;
C=1;Z=u;S=g.D_}else C++}b.push(N,C);var p=this.yC=[];for(var P=0;P<b.length;P+=2){var f=b[P],d=b[P+1],l=(X[L+f].D3&1)==0,A=n.slice(f,f+d),B=Typr.U.shapeHB(X[L+f].D_,A,l),e=[],V=0;
for(var T=0;T<B.length;T++){var m=B[T];e.push({P:m.g,Ql:m.cl,SD:m.ax,P4:m.ay,Jl:m.dx,CH:m.dy})}B=e;var $=B.slice(0);
if(!l)$.reverse();for(var T=0;T<A.length;T++){while(V+1<$.length&&$[V+1].Ql<=T){V++}while(V>0&&$[V-1].Ql==T)V--;
X[L+f+T].YO=p.length+(l?V:$.length-V-1)}for(var T=0;T<B.length;T++){p.push(B[T]);B[T].Ql+=f;var g=X[L+B[T].Ql];
if(g.a8!=-1){B[T].P=g.a8;var H=g.D_.hmtx;if(H){var F=Object.keys(H)[0];B[T].SD=H[F][g.a8]}}if(g.sg=="\n")B[T].SD=0;
if(g.sg=="\t")B[T].SD=g.D_.head.unitsPerEm*36/g.V6.FontSize}}var G=bQ.p3(x),J=this.TY=g9.acW(w,I,X,L,p,L,L+_),c=this.lB,s=-1,a=[null,null,0];
while(r<J.length){g9.adK(J,i,x,k,h[0],r,a);s++;var z={start:r,end:0,_b:new dC,Z2:new a5(0,0),eb:!0},hC=0,j5=0;
c.push(z);z.end=a[2];if(z.start==z.end)throw"e";var Y=z.end==J.length;function ax($,f,fj){var di=fj-f>>>1;
for(var P=0;P<di;P++){var b1=$[f+P];$[f+P]=$[fj-1-P];$[fj-1-P]=b1}}for(var iW=1;iW<5;iW++){var y=-1;
for(var P=z.start;P<z.end;P++){var u=X[J[P].start].D3;if(y==-1&&u>=iW)y=P;else if(y!=-1&&u<iW){ax(J,y,P);
y=-1}}var hm=z.end;if(U==0&&J[hm-1].Ey)hm--;if(y!=-1)ax(J,y,hm)}var t=a[0],cT=a[1],y=r,c4=r;for(var kv=0;
kv<t.length;kv+=2){var iL=i?cT[kv+1]-cT[kv]-x.StartIndent-x.EndIndent-(r==0?x.FirstLineIndent:0):Infinity,cr=0;
y=c4;c4+=t[kv];var ga=this.auo(y,c4,J,U,i!=null);if(i){if(G==1||Y&&G==4)cr=ga[1]+(iL-ga[0]);if(G==2||Y&&G==5)cr=ga[1]+(iL-ga[0])/2;
if(c4-y==1&&J[y]._b.q>iL)cr=0;if(s==0)cr+=x.FirstLineIndent;cr+=x.StartIndent}else{if(G==0)cr=x.StartIndent+x.FirstLineIndent;
if(G==1)cr=-ga[0]-x.EndIndent;if(G==2)cr=-ga[0]/2}cr+=cT[kv];if(i&&G>2&&(G==6||!Y))this.au3(y,c4,J,iL,U,cr);
else{var iq=cr;for(var P=y;P<c4;P++){var ei=J[P],hw=ei._b.q;ei.Z2.x=iq;if(ei.P1=="\t")hw=Math.ceil((iq+4)/36)*36-iq;
iq+=hw}}}r=z.end;for(var P=z.start;P<z.end;P++){var ed=J[P]._b.clone();ed.Om(J[P].Z2);z._b=z._b.jB(ed);
hC=Math.max(hC,J[P].rL);j5=Math.max(j5,J[P].lineHeight)}z.Z2.y=s==0?0:c[s-1].Z2.y+j5;if(s==0){if(o==0&&i)h[0]+=hC;
if(o!=0)h[0]+=j5;this.Z2.y=h[0]}else h[0]+=j5;if(i)z.eb=this.Z2.y+z.Z2.y<i.y+i.w||s==0}var jn=x.SpaceAfter;
if(jn!=null)h[0]+=jn};g9.Kp.prototype.auo=function(w,I,E,X,o){var i=0,h=0;for(var P=w;P<I;P++)i+=E[P]._b.q;
if(o){if(X==0)for(var P=I-1;P>=w;P--)if(E[P].Ey||E[P].JZ)i-=E[P]._b.q;else break;if(X==1)for(var P=w;
P<I;P++)if(E[P].Ey||E[P].JZ){var k=E[P]._b.q;i-=k;h-=k}else break}return[i,h]};g9.Kp.prototype.au3=function(w,I,E,X,o,i){var h=0,k=0,x=0,j=0;
for(var P=w;P<I;P++)if(E[P].Ey)x++;else{h+=E[P]._b.q;k++}if(o==0)for(var P=I-1;P>=w;P--)if(E[P].Ey||E[P].JZ){if(E[P].Ey){x--}}else break;
if(o==1)for(var P=w;P<I;P++)if(E[P].Ey||E[P].JZ){if(E[P].Ey){x--;j++}}else break;if(k<=1||x==0){if(k==1)E[w].Z2.x=i;
return}var v=(X-h)/x,_=-j*v;for(var P=w;P<I;P++){if(E[P].Ey)this.yC[E[P].B7]._b.q=E[P]._b.q=v;E[P].Z2.x=i+_;
_+=E[P]._b.q}};g9.avn=function(w,I,X,o,i,h,k){this.P1="";for(var P=0;P<k;P++)this.P1+=X[h+P].sg;this.Ey=k==1&&(X[h].sg==" "||X[h].sg=="\t");
this.JZ=k==1&&X[h].sg=="\n";this.start=h;this.end=h+k;this._b=new dC;this.Z2=new a5(0,0);this.rL=0;this.lineHeight=0;
var x=0,j=0;if(k==0){this.lineHeight=X[h].lineHeight;this.rL=X[h].rL;this._b=new dC(0,-X[h].lineHeight,0,X[h].lineHeight)}var v=X[h].YO,_=X[h+k-1].YO;
if(_<v){var L=v;v=_;_=L}while(_+1<i.length&&i[_].Ql==i[_+1].Ql){_++}this.B7=v;this.Aa=_;for(var U=v;
U<=_;U++){var n=i[U],a=X[o+n.Ql],T=w._LineOrientation==2&&(a.V6.BaselineDirection!=2||g9.Pg(a.sg.charCodeAt(0))),g=Typr.U.glyphToPath(a.D_,n.P),Z=0;
n.path={J:g.cmds,C:g.crds};var D=a.V6.FontSize,b=1/a.D_.head.unitsPerEm*D;if(!a.V6.AutoKerning)x+=a.V6.Kerning*2*b*a.scale.x;
n.Z2=new a5(x,0);n.yn=0;if(T&&n.path.C.length>0){n.yn=-Math.PI/2;n.Z2.x+=D*.83;n.Z2.y=-D*.3+n.SD*b/2;
n.SD=D/b}var N=n.SD*b*a.scale.x;n._b=new dC(0,-a.lineHeight,N,a.lineHeight);var C=n._b.clone();C.Om(n.Z2);
if(a.V6.Tracking!=null)Z=a.V6.Tracking*.001*D;if(a.V6.FauxBold==!0)Z+=.027*D;x+=N+Z;if(k==1&&a.sg==" ")C.q+=2*Z;
else if(k==1&&a.sg!=null&&g9.Pg(a.sg.charCodeAt(0)))C.q+=Z;this._b=this._b.jB(C);this.rL=Math.max(this.rL,a.rL);
this.lineHeight=Math.max(this.lineHeight,a.lineHeight)}};g9.ee=0;g9.atC=function(w){if(g9.ee==2)return!0;
if(g9.ee==1)return!1;g9.ee=1;function I(){fetch("code/ext/fribidi.wasm").then(function(E){return E.arrayBuffer()}).then(function(E){return WebAssembly.instantiate(E)}).then(function(E){var X=E.instance.exports,o=X.memory,i=16,h=256,k=1,x=i|h,j=i|h|k;
g9.aiL=function(_,L){var U=_.length,n=U*4+4+U*4+U*4+U;gt.oh(X,n+U+1e7);var a=new Uint8Array(o.buffer),T=new Uint32Array(o.buffer),g=X.calloc(n,1),D=g+U*4,b=D+4,C=b+U*4,Z=C+U*4;
T.set(_,g>>>2);T[D>>>2]=L==0?x:j;X.fribidi_get_bidi_types(g,U,b);X.fribidi_get_bracket_types(g,U,b,C);
X.fribidi_get_par_embedding_levels_ex(b,C,U,D,Z);var S=a.slice(Z,Z+U);X.free(g);return S};g9.ee=2;var v=new e9(W.E.Z,!0);
v.data={d:W.t.e1,kl:"add",GT:ik.HV,VV:null};w.c(v)})}Typr.U.initHB("code/ext/hb.wasm",I);return!1};function bQ(){}bQ.pe=function(w){return JSON.parse(JSON.stringify(w))};
bQ.rM=function(w,I){for(var E in I)w[E]=I[E]};bQ.za=function(w,I,E,X){var o=bQ.acQ();if(E)bQ.JF(o,0,0,E);
var i=new am;if(X!=null)i.rotate(X);i.translate(Math.round(w),Math.round(I));var h={F:i,Da:o};h.sh=bQ.a4S();
h.gl=Q.AG.$();h.Wc=new dC;return h};bQ.ayu=function(w){var I=["CharacterDirection",0];for(var P=0;P<I.length;
P+=2){if(w[I[P]]!=null&&w[I[P]]!=I[P+1]){throw"e";console.log(I[P],w[I[P]])}}if(w instanceof Array)for(var P=0;
P<w.length;P++)bQ.ayu(w[P]);else if(w instanceof Object)for(var E in w)bQ.ayu(w[E])};bQ.p3=function(w,I){if(I==null)I=w.Justification;
var E=w._Direction?w._Direction:0;if(E==1){if(I==0||I==3)I++;else if(I==1||I==4)I--}return I};bQ.Zd=function(w){if(w.add==null)return;
var I=w.Da,X=I.Curve,o=w.add.vmsk,i=o.j,h=Q.p.x7(i,!0).C,k=w.F.clone();k.ja();Q.p.F(h,k,h);var x=h.slice(0,8);
for(var j=8;j<h.length;j+=6)x.push(h[j-2],h[j-1],h[j],h[j+1],h[j+2],h[j+3],h[j+4],h[j+5]);X.Points=x;
X.TextOnPathTRange=o.A8.slice(0);X.Reversed=o.kW;if(bQ.rI(I)==1){var X=g9.eW(I.Curve),v=Q.p.zK(X[0]);
bQ.Nq(I,[0,0,v.q,v.w].map(Math.round));for(var P=0;P<x.length;P+=2){x[P]-=v.x;x[P+1]-=v.y}var _=new am(1,0,0,1,v.x,v.y);
_.concat(w.F);w.F=_}};bQ.ua=function(w){if(w.add==null)return;var I=w.add.vmsk,E=w.Da.Curve,X=E.Points,o={J:["M"],C:[X[0],X[1]]};
for(var P=0;P<X.length;P+=8){o.J.push("C");o.C.push(X[P+2],X[P+3],X[P+4],X[P+5],X[P+6],X[P+7])}Q.p.F(o.C,w.F,o.C);
var i=Q.p.PY(o,!0);I.j=i;I.kW=E.Reversed;I.A8=E.TextOnPathTRange.slice(0);w.add.vogk=K.QQ(i)};bQ.BL=function(w){var I={o:0,P:0,L:0};
if(w){var E=w.Values;if(w.Type==1)I={o:E[1]*255,P:E[2]*255,L:E[3]*255};else if(w.Type==2){var X={classID:"CMYC",Cyn:{t:"doub",v:E[1]*100},Mgnt:{t:"doub",v:E[2]*100},Ylw:{t:"doub",v:E[3]*100},Blck:{t:"doub",v:E[4]*100}};
I=Q.N.BL(X)}else console.log("Unknown color type")}return I};bQ.apm=function(w){for(var P=0;P<w.length;
P++){var I=w[P].StyleSheet.StyleSheetData,E=I.FillColor;if(E&&E.Type==2){var X=bQ.BL(E);E.Type=1;E.Values=[1,X.o/255,X.P/255,X.L/255]}}};
bQ.eB=function(w,I){var E;if(bQ.rI(w.Da)==1){var X=bQ.Ni(w.Da);E=new dC(0,0,X[2]-X[0],X[3]-X[1])}else{E=I.Kj();
if(I.pu){var o=I.pu.clone(),i=Q.p.sy(E);Q.p.F(i.C,o,i.C);E=Q.p.zK(i.C)}}return E};bQ.og=function(w){var I=w[0];
for(var P=0;P<w.length;P++)I=bQ.al_(I,w[P]);return I};bQ.al_=function(w,I){var E={};for(var X in w)if(JSON.stringify(w[X])==JSON.stringify(I[X]))E[X]=w[X];
return E};bQ.Ab=function(w,I){var E=w.B0,X=-1;for(var P=0;P<E.length;P++)if(E[P].Name==I)X=P;if(X==-1){X=E.length;
E.push({FontType:1,Name:I,Script:0,Synthetic:0})}w.hd.Font=X};bQ.Of=function(w){return w.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
bQ.jG=function(w,I){w.EngineDict.Editor.Text=I.replace(/\n/g,"\r")};bQ.rI=function(w){return w.Curve&&w.Curve.TextOnPathTRange[0]>=0?2:w.EngineDict.Rendered.Shapes.Children[0].ShapeType};
bQ.Kv=function(w,I){var X=w.EngineDict.Rendered.Shapes.Children[0];X.ShapeType=I;var o=X.Cookie.Photoshop;
o.ShapeType=I;o.Base.ShapeType=I;if(I==0){delete o.BoxBounds;o.PointBase=[0,0]}if(I==1){delete o.PointBase;
o.BoxBounds=[0,0,1,1]}};bQ.Ni=function(w){return w.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
bQ.Nq=function(w,I){w.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=I};bQ.aar=function(w,I){var X=w.EngineDict.AlternateGlyphRun;
if(X==null)return-1;var o=bQ.Eh(X.RunLengthArray,I).ey,i=X.RunArray[o].Glyph;return i==null?-1:i};bQ.al2=function(w,I,X){var o=w.EngineDict.AlternateGlyphRun;
if(o==null){o=w.EngineDict.AlternateGlyphRun=bQ.a71();o.RunArray.push({});o.RunLengthArray.push(bQ.Of(w).length)}var i=bQ.Eh(o.RunLengthArray,I),h=i.ey,k=I-i.W6,x=o.RunArray[h],j=JSON.stringify(x),v=o.RunLengthArray[h];
if(k!=0){o.RunArray.splice(h,0,JSON.parse(j));o.RunLengthArray.splice(h,0,k);o.RunLengthArray[h+1]-=k;
h++;v-=k;k=0}if(v!=1){o.RunArray.splice(h+1,0,JSON.parse(j));o.RunLengthArray.splice(h+1,0,v-1);o.RunLengthArray[h]=1;
v=1}x.Glyph=X};bQ.arj=function(w,I){var X=w.EngineDict.StyleRun.RunLengthArray;return bQ.Eh(X,I).ey};
bQ.a62=function(w,I){var X=w.ResourceDict.StyleSheetSet[0].StyleSheetData,o={};for(var i in X)o[i]=X[i];
var h=w.EngineDict.StyleRun.RunArray[I].StyleSheet.StyleSheetData;bQ.rM(o,h);return o};bQ.acG=function(w,I){var X=w.EngineDict.ParagraphRun.RunLengthArray;
return bQ.Eh(X,I).ey};bQ.ajz=function(w,I){var X=w.ResourceDict.ParagraphSheetSet[0].Properties,o={};
for(var i in X)o[i]=X[i];var h=w.EngineDict.ParagraphRun.RunArray[I].ParagraphSheet.Properties;bQ.rM(o,h);
var k=["StartIndent","EndIndent","FirstLineIndent"];for(var P=0;P<3;P++)if(o[k[P]]==null)o[k[P]]=0;return o};
bQ.fZ=function(w,I,X){if(X=="")return;var o=bQ.Of(w);bQ.jG(w,o.substring(0,I)+X+o.substring(I,o.length));
var i=w.EngineDict.StyleRun,h=i.RunLengthArray,k=bQ.Eh(h,I-1);h[k.ey]+=X.length;var x=w.EngineDict.AlternateGlyphRun;
if(x){var h=x.RunLengthArray,k=bQ.Eh(h,I-1);h[k.ey]+=X.length}var j=w.EngineDict.ParagraphRun,h=j.RunLengthArray,v=bQ.Eh(h,I),_=X.split("\n");
if(_.length==1){h[v.ey]+=X.length;return}h.splice(v.ey+1,0,h[v.ey]-(I-v.W6));j.RunArray.splice(v.ey+1,0,bQ.pe(j.RunArray[v.ey]));
h[v.ey]-=h[v.ey+1];h[v.ey]+=_[0].length+1;for(var P=1;P<_.length-1;P++){j.RunArray.splice(v.ey+P,0,bQ.pe(j.RunArray[v.ey+P-1]));
j.RunLengthArray.splice(v.ey+P,0,_[P].length+1)}h[v.ey+_.length-1]+=_[_.length-1].length};bQ.tb=function(w,I,X){var o=bQ.Of(w);
bQ.jG(w,o.substring(0,I)+o.substring(X,o.length));bQ.l_(w.EngineDict.ParagraphRun,I,X,!0);bQ.l_(w.EngineDict.StyleRun,I,X,!1);
var i=w.EngineDict.AlternateGlyphRun;if(i)bQ.l_(i,I,X,!1)};bQ.l_=function(w,I,E,X){var o=w.RunLengthArray,i=bQ.Eh(o,I),h=bQ.Eh(o,E),k=[];
for(var P=0;P<o.length;P++)for(var x=0;x<o[P];x++)k.push(P);k.splice(I,E-I);var j=[];for(var P=0;P<o.length;
P++)j.push(0);for(var P=0;P<k.length;P++)j[k[P]]++;for(var P=0;P<o.length;P++){if(j[P]==0){j.splice(P,1);
o.splice(P,1);w.RunArray.splice(P,1);P--}else if(j[P]<o[P])o[P]=j[P]}if(X&&i.ey!=h.ey&&i.W6!=I){o[i.ey]+=o[i.ey+1];
o.splice(i.ey+1,1);w.RunArray.splice(i.ey+1,1)}};bQ.JF=function(w,I,X,o){var i=w.EngineDict.Editor.Text.length;
if(X==i-2)X++;if(o.hd.Font!=null)w.ResourceDict.FontSet=o.B0.slice(0);if(I<=X)bQ.a9o(w.EngineDict.StyleRun,o.hd,I,X,!0);
bQ.a9o(w.EngineDict.ParagraphRun,o.wo,I,X,!1)};bQ.wg=function(w,I,X){var o={B0:w.ResourceDict.FontSet.slice(0),hd:[],wo:[]},i=w.EngineDict.StyleRun.RunLengthArray,h=bQ.Eh(i,I).ey,k=bQ.Eh(i,X).ey;
for(var P=h;P<=k;P++){var x=bQ.pe(w.ResourceDict.StyleSheetSet[0].StyleSheetData),j=w.EngineDict.StyleRun.RunArray;
if(j.length==0)continue;var v=j[P].StyleSheet.StyleSheetData;bQ.rM(x,v);o.hd.push(x)}var _=w.EngineDict.ParagraphRun.RunLengthArray,L=bQ.Eh(_,I).ey,U=bQ.Eh(_,X).ey;
for(var P=L;P<=U;P++){var n=w.EngineDict.ParagraphRun.RunArray;if(n.length==0)continue;o.wo.push(bQ.pe(n[P].ParagraphSheet.Properties))}o.hd=o.hd.length==0?{}:bQ.og(o.hd);
o.wo=o.wo.length==0?{}:bQ.og(o.wo);return o};bQ.a9o=function(w,I,E,X,o){var i=w.RunLengthArray;if(o){var h=bQ.Eh(i,E);
if(h.W6!=E){var k=i[h.ey];i.splice(h.ey,0,E-h.W6);i[h.ey+1]=k-i[h.ey];w.RunArray.splice(h.ey+1,0,bQ.pe(w.RunArray[h.ey]))}var x=bQ.Eh(i,X);
if(x.W6+i[x.ey]-1!=X){var k=i[x.ey];i.splice(x.ey,0,X-x.W6+1);i[x.ey+1]=k-i[x.ey];w.RunArray.splice(x.ey+1,0,bQ.pe(w.RunArray[x.ey]))}}var h=bQ.Eh(i,E),x=bQ.Eh(i,X);
if(o)for(var P=h.ey;P<=x.ey;P++)bQ.rM(w.RunArray[P].StyleSheet.StyleSheetData,I);else for(var P=h.ey;
P<=x.ey;P++)bQ.rM(w.RunArray[P].ParagraphSheet.Properties,I)};bQ.a8k=function(w,I,X){var o=w.EngineDict.StyleRun.RunLengthArray,i=[],h=0;
for(var P=0;P<o.length;P++){var k=o[P];for(var x=0;x<k;x++)if(I<=h+x&&h+x<X)i.push(P);h+=k}var j=i[0],v=[];
for(var P=0;P<i.length;P++){var _=i[P]-j;if(_==v.length)v.push(0);v[_]++}return v};bQ.ak_=function(w){var I=w.EngineDict.StyleRun,X=I.RunArray,o=I.RunLengthArray;
for(var P=0;P<o.length-1;P++){var i=X[P].StyleSheet.StyleSheetData,h=X[P+1].StyleSheet.StyleSheetData;
if(JSON.stringify(i)==JSON.stringify(h)){X.splice(P+1,1);o[P]+=o[P+1];o.splice(P+1,1);P--}}};bQ.Z7=function(w){var I=w.sh.AntA.v.Annt;
I=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(I);if(I==-1)I=1;return I};bQ.hw=function(w,I){w.sh.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][I]};
bQ.uN=function(w,I){var E,X;E=["FontSize","Leading","BaselineShift","_LineWidth"];X=w.hd;for(var P=0;
P<E.length;P++)if(X[E[P]]!=null)X[E[P]]*=I;E=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
X=w.wo;for(var P=0;P<E.length;P++)if(X[E[P]]!=null)X[E[P]]*=I};bQ.akp=function(){return bQ.wg(bQ.a6N,0,0)};
bQ.a4S=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
bQ.Eh=function(w,I){var E=0,P=0;while(E+w[P]<=I){E+=w[P];P++}return{ey:P,W6:E}};bQ.acQ=function(){var w=bQ.pe(this.a6N);
return w};bQ.atl=function(w,I){var E=I.wo};bQ.anP=function(w,I){var E=I.hd,X;X=w.Undl;if(X&&X.v.Undl=="underlineOnLeftInVertical")E.Underline=!0;
X=w.syntheticItalic;if(X)E.FauxItalic=X.v};bQ.akV={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
bQ.a1D={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
bQ.a71=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};bQ.a6N={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(bQ.akV))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(bQ.akV))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(bQ.a1D))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var an={};an.a6j=function(w){var I=an.adB(w._0,w._1);an.asM(I,w._0);return I};an.atv=function(w,I,E){var X={};
X._98={_0:"i7"};X._0=an.a28(w,I,E?E._0:null);X._1=an.a6G(w,I,X._0,E?E._1:null);return X};an.a28=function(w,I,E){var X={};
X._1=an.arp(w,E?E._1:null);X._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};X._3=JSON.parse(JSON.stringify(an.a4N));
X._4=JSON.parse(JSON.stringify(an.anE));X._5=an.a7M(w,X._1._0,E?E._5:null);X._6=an.a4z(w,E?E._6:null);
X._8=an.aaT(w,I,E?E._8:null);X._9=an.afS;return X};an.asM=function(w,I){an.ad$(w,I._5,I._1._0)};an.arp=function(w,I){var E=[],X=[];
for(var P=0;P<w.length;P++){var o=w[P].ResourceDict.FontSet;for(var i=0;i<o.length;i++){var h=o[i];if(X.indexOf(h.Name)!=-1)continue;
E.push(h);X.push(h.Name)}}var k={_0:[]};for(var P=0;P<E.length;P++){var x=E[P],j={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+x.Name,_1:"i"+x.Script,_2:"i"+x.FontType}}};
if(x.Script==0)delete j._0._0._1;k._0.push(j)}return k};an.a7M=function(w,I,E){var X={_0:[],_1:[]},o={_0:JSON.parse(JSON.stringify(an.axi))};
an.agf(o._0,w[0].ResourceDict.StyleSheetSet[0],I,w[0].ResourceDict.FontSet);X._0.push(o);X._1.push({_0:"i0"});
X._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});X._1.push({_0:"i1"});return X};an.ad$=function(w,I,E){var X=I._0[0];
for(var P=0;P<w.length;P++)an.ajH(X._0,w[P].ResourceDict.StyleSheetSet[0],E,w[P].ResourceDict.FontSet)};
an.a4z=function(w,I){var E={_0:[],_1:[]},X={_0:JSON.parse(JSON.stringify(an.ya))};an.xi(X._0,w[0].ResourceDict.ParagraphSheetSet[0]);
E._0.push(X);E._1.push({_0:"i0"});X={_0:JSON.parse(JSON.stringify(an.ya))};an.xi(X._0,w[0].ResourceDict.ParagraphSheetSet[0]);
X._0._0="sBasic Paragraph";X._0._6="i0";E._0.push(X);E._1.push({_0:"i1"});return E};an.aaT=function(w,I,E){var X={_0:[]};
for(var P=0;P<w.length;P++){var o=w[P].Curve,i={};X._0.push({_0:i});var h=bQ.rI(w[P]);i._2={};i._2._0="i"+h;
if(w[P]._LineOrientation==2)i._2._1="i2";if(h==0){i._2._6=["f-1","f-1"];i._2._11={_4:"i-1",_7:!1}}else if(h==1&&o==null){var k=bQ.Ni(w[P]),x=k[2],j=k[3];
i._1={_0:an.qE("f",[0,0,0,0,x,0,x,0,x,0,x,0,x,j,x,j,x,j,x,j,0,j,0,j,0,j,0,j,0,0,0,0])};i._2._6=["f-2","f-2"];
i._2._11={_4:"i-2",_7:!1}}else if(h==1){var k=bQ.Ni(w[P]),x=k[2],j=k[3];i._1={_0:an.qE("f",o.Points)};
i._2._6=["f-3","f-3"];i._2._11={_4:"i-3",_7:!1}}else if(h==2){i._1={_0:an.qE("f",o.Points)};i._2._6=an.qE("f",o.TextOnPathTRange);
i._2._11={_0:o.Reversed,_3:"i0",_5:"f0",_7:!1}}}return X};an.a6G=function(w,I,E,X){var o={};o._0=JSON.parse(JSON.stringify(an.axS));
o._1=an.aim(w,I,E,X?X._1:null);o._2=JSON.parse(JSON.stringify(an.axi._6));o._3=JSON.parse(JSON.stringify(an.ya._5));
return o};an.adB=function(w,I){return an.a4f(w,I._1)};an.aim=function(w,I,E,X){var o=[],i=E._1._0;for(var P=0;
P<w.length;P++){var h=w[P],k={_0:{}};o.push(k);k._0._0="s"+h.EngineDict.Editor.Text;k._0._0=k._0._0;
var x=k._0._5={_0:[]},j=h.EngineDict.ParagraphRun;for(var v=0;v<j.RunArray.length;v++){var _={_0:{}};
x._0.push(_);_._0._0={_0:"s",_5:{},_6:"i1"};an.xi(_._0._0,j.RunArray[v].ParagraphSheet);_._1="i"+j.RunLengthArray[v]}var L=k._0._6={_0:[]};
j=h.EngineDict.StyleRun;for(var v=0;v<j.RunArray.length;v++){var U={_0:{}};L._0.push(U);U._0._0={_0:"s",_5:"i1",_6:{}};
an.agf(U._0._0,j.RunArray[v].StyleSheet,i,h.ResourceDict.FontSet);U._1="i"+j.RunLengthArray[v]}j=h.EngineDict.AlternateGlyphRun;
if(j){var n=k._0._9={_0:[]};for(var v=0;v<j.RunArray.length;v++){var a={_0:{}};n._0.push(a);var T=j.RunArray[v];
if(T.Glyph!=null){a._0._0={_0:"i"+T.Glyph,_1:"e"}}a._1="i"+j.RunLengthArray[v]}}k._0._10={_0:"i4",_2:!0};
k._1=an.view.a2S(h,null,P,null)}return o};an.a4f=function(w,I){var E=[],X=w._1._0;for(var P=0;P<I.length;
P++){var o=bQ.acQ();E.push(o);var i=I[P];o.EngineDict.Editor.Text=i._0._0.slice(1);var h=o.EngineDict.ParagraphRun.RunArray[0],k=o.EngineDict.ParagraphRun,x=i._0._5;
if(x)for(var j=0;j<x._0.length;j++){var v=x._0[j];k.RunLengthArray[j]=parseInt(v._1.slice(1));k.RunArray[j]=JSON.parse(JSON.stringify(h));
an.a98(v._0._0,k.RunArray[j].ParagraphSheet)}else{k.RunLengthArray[0]=bQ.Of(o).length}var _=i._0._6;
k=o.EngineDict.StyleRun;if(_)for(var j=0;j<_._0.length;j++){var L=_._0[j];k.RunLengthArray[j]=parseInt(L._1.slice(1));
k.RunArray[j]={StyleSheet:{StyleSheetData:{}}};an.ajH(L._0._0,k.RunArray[j].StyleSheet,X,o.ResourceDict.FontSet)}else{k.RunLengthArray[0]=bQ.Of(o).length;
k.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return E};an.agf=function(w,I,E,X,o){w._0="s"+(I.Name?I.Name:"");
var i=w._6,h=o?o._6:null,k=I.StyleSheetData;if(k.Font==null)return;var x=X[k.Font].Name,j=-1;for(var P=0;
P<E.length;P++)if("s"+x==E[P]._0._0._0){j=P;break}i._0="i"+j;if(k.FontSize!=null)i._1="f"+k.FontSize;
if(k.FauxBold!=null)i._2=k.FauxBold;if(k.FauxItalic!=null)i._3=k.FauxItalic;if(k.AutoLeading!=null)i._4=k.AutoLeading;
if(k.Leading!=null)i._5="f"+k.Leading;if(k.HorizontalScale!=null)i._6="f"+k.HorizontalScale;if(k.VerticalScale!=null)i._7="f"+k.VerticalScale;
if(k.Tracking!=null)i._8="i"+k.Tracking;if(k.BaselineShift!=null)i._9="f"+k.BaselineShift;if(k.AutoKerning!=null)i._11="i"+(k.AutoKerning?1:0);
if(k.FontCaps!=null)i._12="i"+k.FontCaps;if(k.FontBaseline!=null)i._13="i"+k.FontBaseline;if(k.Strikethrough!=null)i._15="i"+(k.Strikethrough?1:0);
if(k.Underline!=null)i._16="i"+(k.Underline?2:0);if(k.Ligatures!=null)i._18=k.Ligatures;if(k.DLigatures!=null)i._19=k.DLigatures;
if(k.BaselineDirection!=null)i._35="i"+k.BaselineDirection;if(k.Language!=null)i._38="i"+k.Language;
if(k.FillColor!=null)i._53=an.Q5(k.FillColor);if(k.StrokeColor!=null)i._54=an.Q5(k.StrokeColor);if(k.FillFlag!=null)i._56=k.FillFlag;
if(k.StrokeFlag!=null)i._57=k.StrokeFlag;if(k._LineWidth!=null)i._63="f"+k._LineWidth;if(k._FillBackgroundColor!=null)i._79=an.Q5(k._FillBackgroundColor);
if(k._FillBackgroundFlag!=null)i._80=k._FillBackgroundFlag};an.Q5=function(w){return{_99:"/SimplePaint",_0:{_0:"i1",_1:an.qE("f",w.Values)}}};
an.ajH=function(w,I,E,X){var o=w._6;if(o==null)return;var i=I.StyleSheetData;if(o._0){var h=parseInt(o._0.slice(1)),k=E[h]._0._0._0.slice(1);
bQ.Ab({hd:i,B0:X},k)}if(o._1!=null)i.FontSize=parseFloat(o._1.slice(1));if(o._2!=null)i.FauxBold=o._2;
if(o._3!=null)i.FauxItalic=o._3;if(o._4!=null)i.AutoLeading=o._4;if(o._5!=null)i.Leading=parseFloat(o._5.slice(1));
if(o._6!=null)i.HorizontalScale=parseFloat(o._6.slice(1));if(o._7!=null)i.VerticalScale=parseFloat(o._7.slice(1));
if(o._8!=null)i.Tracking=parseFloat(o._8.slice(1));if(o._9!=null)i.BaselineShift=parseFloat(o._9.slice(1));
if(o._11!=null)i.AutoKerning=parseFloat(o._11.slice(1))==1;if(o._12!=null)i.FontCaps=parseFloat(o._12.slice(1));
if(o._13!=null)i.FontBaseline=parseFloat(o._13.slice(1));if(o._15!=null)i.Strikethrough=parseFloat(o._15.slice(1))==1;
if(o._16!=null)i.Underline=parseFloat(o._16.slice(1))==1;if(o._18!=null)i.Ligatures=o._18;if(o._19!=null)i.DLigatures=o._19;
if(o._35!=null)i.BaselineDirection=parseFloat(o._35.slice(1));if(o._38!=null)i.Language=parseFloat(o._38.slice(1));
if(o._53!=null)i.FillColor=an.To(o._53);if(o._54!=null)i.StrokeColor=an.To(o._54);if(o._56!=null)i.FillFlag=o._56;
if(o._57!=null)i.StrokeFlag=o._57;if(o._63!=null)i._LineWidth=parseFloat(o._63.slice(1));if(o._79!=null)i._FillBackgroundColor=an.To(o._79);
if(o._80!=null)i._FillBackgroundFlag=o._80};an.To=function(w){var I=w._0._0,E=w._0._1,X=[1,0,0,0],o=[];
for(var P=0;P<E.length;P++)o[P]=parseFloat(E[P].slice(1));if(I=="i0")X[1]=X[2]=X[3]=o[1];else if(I=="i1")X=o;
else if(I=="i2")X=[1].concat(UDOC.C.cmykToRgb(o.slice(1)));else console.log("unknown color type",I,o);
return{Type:1,Values:X}};an.xi=function(w,I){w._0="s"+(I.Name?I.Name:"");var E=w._5,X=I.Properties;if(X.Justification!=null)E._0="i"+X.Justification;
if(X.FirstLineIndent!=null)E._1="f"+X.FirstLineIndent;if(X.StartIndent!=null)E._2="f"+X.StartIndent;
if(X.EndIndent!=null)E._3="f"+X.EndIndent;if(X.SpaceBefore!=null)E._4="f"+X.SpaceBefore;if(X.SpaceAfter!=null)E._5="f"+X.SpaceAfter;
if(X.AutoLeading!=null)E._7="f"+X.AutoLeading;if(X.AutoHyphenate!=null)E._9=X.AutoHyphenate;if(X._Direction!=null)E._33="i"+X._Direction;
if(X._ComposerEngine!=null)E._35="i"+X._ComposerEngine};an.a98=function(w,I){var E=w._5;if(E==null)return;
var X=I.Properties;if(E._0)X.Justification=parseInt(E._0.slice(1))};an.qE=function(w,I){var E=[];for(var P=0;
P<I.length;P++)E.push(w+I[P]);return E};an.a4N={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
an.anE={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
an.axi={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
an.ya={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
an.afS={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
an.axS={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var bS={};bS.awM=function(w){return bS.KA(w,bS.R3,0)};bS.a7n=function(w){return bS.IF(w,bS.R3)};bS.KA=function(w,I,E){var X;
if(typeof w=="string")return w;if(w instanceof Array){X=[];for(var P=0;P<w.length;P++)X[P]=bS.KA(w[P],I,E+1)}else{X={};
var o={};for(var i in I){var h=I[i],k="_"+h[0];if(w[k]!=null){X[i]=h[1]?bS.KA(w[k],h[1],E+1):w[k];o[k]=!0}}for(var i in w){if(o[i]==null){if(i.length>3)continue;
console.log(I,o);console.log(i,w);throw"e"}}}return X};bS.IF=function(w,I){var E;if(typeof w=="string")return w;
else if(w instanceof Array){E=[];for(var P=0;P<w.length;P++)E[P]=bS.IF(w[P],I)}else{E={};var X={};for(var o in I){var i=I[o],h="_"+i[0];
if(w[o]!=null){E[h]=i[1]?bS.IF(w[o],i[1]):w[o];X[o]=!0}}for(var o in w){if(X[o]==null){console.log(I,X);
console.log(o,w);throw"e"}}}return E};bS.yf={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
bS.zg={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,bS.yf],_StrokeColor:[54,bS.yf],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,bS.yf],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
bS.aqD={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,bS.zg],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
bS.adk={_Name:[0],_Features:[5,bS.aqD],_Parent:[6],_UUID:[97]};bS.adF={_Name:[0],_Parent:[5],_Features:[6,bS.zg],_UUID:[97]};
bS.R3={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,bS.adF]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,bS.adk]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,bS.adk]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,bS.adF]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,bS.zg],_OriginalNormalParagraphFeatures:[3,bS.aqD]}]};
an.view={};an.view.a2S=function(w,I,X,o){var i={},h=bQ.rI(w);i._0=[{_0:"i"+X}];return i};function CSS(){}CSS.a3O=function(w,I){var E=w.add,X=E.vmsk,o=E.vstk,i=E.lmfx,h=E.TySh,k=[],x=CSS.a41(i,E);
if(w.us()&&X){var j=Q.O.sM(X.j);if(!j.qo()){k.push("width: "+Math.round(j.q)+"px");k.push("height: "+Math.round(j.w)+"px")}var v=Q.O.a8j(X.j);
if(v>0)k.push("border-radius: "+Math.round(v)+"px")}else if(h){var _=h.Da;if(bQ.rI(_)==1){var j=bQ.Ni(_);
k.push("width: "+Math.round(j[2])+"px");k.push("height: "+Math.round(j[3])+"px")}CSS.aok(k,bQ.wg(_,0,0),h.F,!1,!1,x[0])}var L=[],U=i?i.dropShadowMulti.v:0;
for(var P=0;P<U.length;P++){var n=U[P].v;if(n.enab.v){var a=n.Dstn.v.val,T=n.lagl.v.val*Math.PI/180;
if(n.uglg&&n.uglg.v)T=I.T7()*Math.PI/180;var g=a*Math.cos(T),D=a*Math.sin(T);L.push("drop-shadow("+(g==0?"0 ":CSS.amS(-g)+"px ")+(D==0?"0 ":CSS.amS(D)+"px ")+n.blur.v.val/2+"px "+CSS.yI(n.Clr.v,n.Opct.v.val/100)+")")}}if(L.length!=0)k.push("filter: "+L.join(" "));
if(h==null)CSS.aee(x,k);if(o==null||!o.strokeEnabled.v)o=aQ.AM(i);if(o&&o.strokeEnabled.v){var b=o.strokeStyleContent.v,N=b.classID,C=hL.Oq.zL.indexOf(o.strokeStyleLineCapType.v.strokeStyleLineCapType),Z=hL.Oq.join.indexOf(o.strokeStyleLineJoinType.v.strokeStyleLineJoinType),S=o.strokeStyleOpacity.v.val/100,u=o.strokeStyleLineWidth.v.val,p="";
if(N=="solidColorLayer")p=CSS.yI(b.Clr.v,S);k.push("border: "+u+"px solid "+p)}return k};CSS.a41=function(w,I){var E=aQ.T3(w,I),X=E[0],o=E[1],i,h;
if(X){i=CSS.yI(X.Clr.v,I.iOpa!=null?I.iOpa/255:1)}else if(o){h=CSS.arK(o)}return[i,h]};CSS.aee=function(w,I){if(w[0])I.push("background-color: "+w[0]);
if(w[1])I.push("background-image: "+w[1])};CSS.uC={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.amS=function(eS){return""+parseFloat(eS.toFixed(3))};CSS.V5=function(w){if(w==null)return{o:0,P:0,L:0};
var I=w.indexOf("(");if(I!=-1){var E=w.slice(I+1,w.length-1).split(",");for(var P=0;P<E.length;P++){var X=E[P].trim();
E[P]=parseFloat(X)*(X.endsWith("%")?255/100:1)}return{o:E[0],P:E[1],L:E[2]}}if(w.charAt(0)!="#"){var o=CSS.uC;
if(o[w])w=o[w];else console.log("unknown color "+w)}w=w.slice(1);if(w.length==4)w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]+w[3]+w[3];
if(w.length==3)w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2];var i=-1;if(w.length==8){i=parseInt(w.slice(6),16);w=w.slice(0,6)}w=parseInt(w,16);
var h={o:w>>16&255,P:w>>8&255,L:w&255};if(i!=-1)h.lV=i;return h};CSS.yI=function(w,I){return CSS.Ps(Q.N.BL(w),I)};
CSS.Ps=function(w,I){if(I==null)I=1;var E=Math.round(w.o),X=Math.round(w.P),o=Math.round(w.L),i=E<<16|X<<8|o;
return I==1?"#"+Q.mv(i):"rgba("+E+","+X+","+o+","+I+")"};CSS.arK=function(w){var I=w.Grad.v;if(I.Clrs==null)return"";
var E=I.Clrs.v.slice(0),X=I.Trns.v.slice(0),o=w.Ofst.v,i=w.Type.v.GrdT=="Rdl"?1:0,h=(i==1?"radial":"linear")+"-gradient",k=i==0?Math.round(-w.Angl.v.val+90)+"deg":"circle at center",x=w.Rvrs.v;
if(x){E.reverse();X.reverse()}for(var P=0;P<E.length;P++){var j=E[P].v,v=P<X.length?X[P].v.Opct.v.val/100:1,_=j.Lctn.v/4096;
if(x)_=1-_;k+=", "+CSS.yI(j.Clr.v,v)+" "+Math.round(_*100)+"%"}return h+"("+k+")"};CSS.aok=function(w,I,E,X,o,i){var h=I.hd,k=X?1:q.R.dA(E),x=Math.round(h.FontSize*k);
w.push("font-size: "+x+"px");var j=h.Tracking;if(!X&&j!=null&&j!=0)w.push("letter-spacing: "+Math.round(j*x/1e3)+"px");
if(!h.AutoLeading)w.push("line-height: "+Math.round(h.Leading*k)+"px");if(h.Strikethrough)w.push("text-decoration: line-through");
if(h.Underline)w.push("text-decoration: underline");var v=bQ.BL(h.FillColor);v=[v.o,v.P,v.L].map(Math.round);
w.push((X?"fill: ":"color: ")+(i?i:"#"+Q.mv(v[0]<<16|v[1]<<8|v[2])));var _=I.B0[h.Font].Name;if(_){var L=g6.Xd.ZW(_),U="",n=null,a=null;
if(L!=null&&_!=g6.BS(L))L=null;if(o&&L)U+="\""+_+"\", ";var T=_.toLowerCase();if(L){n=g6.fm(L)[0];if(L["OS/2"])a=L["OS/2"].usWeightClass}else{n=CSS.a0A(_);
if(T.indexOf("light")!=-1)a=300;else if(T.indexOf("medium")!=-1)a=500;else if(T.indexOf("black")!=-1||T.indexOf("extrabold")!=-1)a=800;
else if(T.indexOf("bold")!=-1)a="bold"}if(n!=null)U+="\""+n+"\"";if(a!=null)w.push("font-weight: "+a);
if(T.indexOf("italic")!=-1||T.indexOf("oblique")!=-1)w.push("font-style: italic");if(U)w.push("font-family: "+U)}var g=I.wo.Justification;
if(g!=null&&g!=0)if(X){}else w.push("text-align: "+["left","right","center"][g%3])};CSS.a0A=function(w){w=w.split("-")[0];
while(w.endsWith("MT")||w.endsWith("PS"))w=w.slice(0,w.length-2);var I=!0;for(var P=0;P<w.length;P++){var E=w.charAt(P);
if(!I&&E.toLowerCase()!=E){w=w.slice(0,P)+" "+w.slice(P);P++;I=!0}else I=!1}return w};function io(){}io.KR={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
io.PG=function(w,I){var E=Date.now(),X=w.split("\n"),o;for(var P=0;P<X.length;P++)if(X[P].trim()[0]=="#"){X[P]=""}w=X.join("\n");
try{o=acorn.parse(w)}catch(df){console.log(df);return}var i=JSON.parse(JSON.stringify(io.Db.E1));i.__return=!1;
i.__continue=!1;i.__break=!1;i.__throw=!1;i.__fs={};i.__window={};io.eval(o,I,i);var h=i.__fs;if(Object.keys(h).length!=0){var k=UZIP.encode(h);
jb.save(k,"output.zip")}};io.eval=function(w,I,E){var X=w.type;if(!1){}else if(X=="Program"||X=="BlockStatement"){var o=w.body;
for(var P=0;P<o.length;P++){var i=o[P].type;if(i=="FunctionDeclaration")E[o[P].id.name]=o[P]}for(var P=0;
P<o.length;P++){var i=o[P].type,h=io.eval(o[P],I,E);if(E.__continue){E.__continue=!1;return h}if(E.__return||E.__break||E.__throw)return h}}else if(X=="ReturnStatement"){E.__return=!0;
return w.argument?io.VH(w.argument,I,E):null}else if(X=="BreakStatement"){E.__break=!0}else if(X=="ContinueStatement"){E.__continue=!0}else if(X=="VariableDeclaration"){var k=w.declarations;
for(var P=0;P<k.length;P++)io.eval(k[P],I,E)}else if(X=="VariableDeclarator"){E[w.id.name]=w.init?io.VH(w.init,I,E):null}else if(X=="FunctionDeclaration"){E[w.id.name]=w}else if(X=="MemberExpression"){var x=io.VH(w.object,I,E),j=w.computed?io.VH(w.property,I,E):io.eval(w.property,I,E),h;
if(x.wL!=null)h=io.Db.Ik(x,j,I,E);else if(x==window&&io.KR[j]){}else h=x[j];return h}else if(X=="ArrayExpression"){var v=[],_=w.elements;
for(var P=0;P<_.length;P++)v.push(io.VH(_[P],I,E));return v}else if(X=="ObjectExpression"){var v={},_=w.properties;
for(var P=0;P<_.length;P++){var L=_[P],U=_[P].key.name?_[P].key.name:_[P].key.value;v[U]=io.VH(_[P].value,I,E)}return v}else if(X=="ExpressionStatement"){return io.eval(w.expression,I,E)}else if(X=="NewExpression"){var n=w.arguments,a=w.callee,T=a.type,g=a.name,D=[],v=null;
for(var P=0;P<n.length;P++)D.push(io.VH(n[P],I,E));if(g=="Array")v=new window[g];else if(T=="Identifier")v=io.Db.alo(g,D,I,E);
else throw"e";if(v==null)throw"new "+g;return v}else if(X=="CallExpression"){var n=w.arguments,a=w.callee,T=a.type,b={};
for(var N in E)b[N]=E[N];var D=[];for(var P=0;P<n.length;P++)D.push(io.VH(n[P],I,E));if(T=="Identifier"){var C=a.name,Z=E[C];
if(Z){if(Z.params){var S=Z.params;for(var P=0;P<S.length;P++)b[S[P].name]=D[P];return io.eval(Z.body,I,b)}else{return Z.apply(null,D)}}else if(io.Db.a5V.indexOf(C)!=-1)return io.Db.tn({wL:"Application"},C,D,I,E);
else if(window[C]==null)console.log("Unknown function "+C);else if(io.KR[C])alert(C+"() not available");
else{var u=window[C].apply(window,D);return u}}else if(T=="MemberExpression"){var x=io.VH(a.object,I,E),j=a.computed?io.VH(a.property,I,E):io.eval(a.property,I,E);
if(x==window&&io.KR[j])return;if(x.wL!=null)return io.Db.tn(x,j,D,I,E);else if(j=="sort"&&x[0]&&x[0].wL=="Layer"){return x.sort(function(s,z){return s.k.getName()>z.k.getName()?1:-1})}else return x[j].apply(x,D)}else if(T=="FunctionExpression"){return io.eval(a.body,I,E)}else console.log(w)}else if(X=="AssignmentExpression"){var p=w.operator,f=w.left,d=f.type,l=io.VH(f,I,E),A=io.VH(w.right,I,E),h=null;
if(!1){}else if(p=="=")h=A;else if(p=="+=")h=l+A;else if(p=="-=")h=l-A;else if(p=="*=")h=l*A;else if(p=="/=")h=l/A;
else if(p=="%=")h=l%A;else if(p=="&=")h=l&A;else if(p=="|=")h=l|A;else if(p=="&&=")h=l&&A;else if(p=="||=")h=l||A;
else console.log(w);if(d=="Identifier"){var B=f.name;if(E.hasOwnProperty(B))E[B]=h;else E.__window[B]=h}else if(d=="MemberExpression"){var e=io.eval(f.property,I,E),m=io.VH(f.object,I,E);
if(m.wL!=null)io.Db.awF(m,e,h,I,E);else m[e]=h}else console.log(w)}else if(X=="Identifier")return w.name;
else if(X=="Literal")return w.value;else if(X=="UpdateExpression"){var p=w.operator,$=w.argument.name,v=io.VH(w.argument,I,E),V=E;
if(V[$]==null)V=E.__window;if(!1){}else if(p=="++"){V[$]++;return w.prefix?V[$]:V[$]-1}else if(p=="--"){V[$]--;
return w.prefix?V[$]:V[$]+1}else console.log(w)}else if(X=="UnaryExpression"){var p=w.operator,H=io.VH(w.argument,I,E);
if(H.wL=="UnitValue"){if(p=="-")return-H.k;else return io.a4c(H.k,p)}else return io.a4c(H,p)}else if(X=="BinaryExpression"||X=="LogicalExpression"){var p=w.operator,f=io.VH(w.left,I,E),H=io.VH(w.right,I,E);
if(f==null||H==null)return io.dF(f,H,p);else if(f.wL=="UnitValue"&&H.wL=="UnitValue")return io.dF(f.k,H.k,p);
else if(f.wL=="UnitValue")return io.dF(f.k,H,p);else if(H.wL=="UnitValue"){if(p=="-")return-(f-H.k);
else return io.dF(f,H.k,p)}else return io.dF(f,H,p)}else if(X=="IfStatement"||X=="ConditionalExpression"){var F=io.VH(w.test,I,E);
if(F)return io.eval(w.consequent,I,E);else if(w.alternate)return io.eval(w.alternate,I,E)}else if(X=="ForInStatement"){io.eval(w.left,I,E);
var G=w.left.declarations[0].id.name,J=io.VH(w.right,I,E);for(var N in J){E[G]=N;var c=io.eval(w.body,I,E);
if(E.__break)break;if(E.__return)return c}E.__break=!1}else if(X=="ForStatement"){io.eval(w.init,I,E);
while(io.eval(w.test,I,E)){var c=io.eval(w.body,I,E);if(E.__break)break;if(E.__return)return c;io.eval(w.update,I,E)}E.__break=!1}else if(X=="DoWhileStatement"){do{var c=io.eval(w.body,I,E);
if(E.__break)break;if(E.__return)return c}while(io.eval(w.test,I,E));E.__break=!1}else if(X=="TryStatement"){io.eval(w.block,I,E);
if(E.__throw){var r=w.handler;E[r.param.name]=E.__throw;E.__throw=!1;io.eval(r.body,I,E);delete E[r.param.name]}}else if(X=="EmptyStatement"){}else console.log(w)};
io.dF=function(w,I,E){if(E=="+")return w+I;else if(E=="-")return w-I;else if(E=="*")return w*I;else if(E=="/")return w/I;
else if(E=="%")return w%I;else if(E=="^")return w^I;else if(E=="&")return w&I;else if(E=="&&")return w&&I;
else if(E=="|")return w|I;else if(E=="||")return w||I;else if(E=="<")return w<I;else if(E==">")return w>I;
else if(E=="=="){if(w.wL&&I.wL)return w.k==I.k;return w==I}else if(E=="===")return w===I;else if(E=="<=")return w<=I;
else if(E==">=")return w>=I;else if(E=="!=")return w!=I;else if(E=="!==")return w!==I;else if(E=="<<")return w<<I;
else if(E==">>")return w>>I;else console.log(E)};io.a4c=function(w,I){if(I=="-")return-w;else if(I=="!")return!w;
else if(I=="~")return~w;else if(I=="+")return w;else if(I=="typeof")return typeof w;else console.log(I,w)};
io.VH=function(w,I,E){var X=w.type;if(X=="Identifier")return io.a99(w.name,I,E);else return io.eval(w,I,E)};
io.a99=function(w,I,E){if(w=="undefined")return undefined;else if(E.hasOwnProperty(w))return E[w];else if(w=="app")return{wL:"Application"};
else if(w=="$")return{wL:"$"};else if(io.Db.a72.indexOf(w)!=-1)return io.Db.Ik({wL:"Application"},w,I,E);
else if(E.__window.hasOwnProperty(w))return E.__window[w];else if(window[w]&&!io.KR[w])return window[w];
else{E[w]=null;return null}};io.Db={};io.Db.alo=function(w,I,E,X){var o;if(w=="SolidColor")o={wL:w,k:[1,0,0,0]};
if(w=="RGBColor")o={wL:w,k:[1,0,0,0]};if(w=="Window")o={wL:w,k:new aI(I[0],I[1],I[2])};if(w=="ExportOptionsSaveForWeb")o={wL:w,k:{G$:"png",Cn:100}};
if(w=="JPEGSaveOptions")o={wL:w,k:{G$:"jpg",Cn:100}};if(w=="PDFSaveOptions")o={wL:w,k:{G$:"pdf",a0$:""}};
if(w=="File")o={wL:w,k:I[0]};if(w=="ActionReference")o={wL:w,k:[]};if(w=="ActionDescriptor")o={wL:w,k:{}};
if(w=="ActionList")o={wL:w,k:[]};if(w=="UnitValue")o={wL:w,k:I.length==0?0:parseFloat(I[0])};return o};
io.Db.a72="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
io.Db.a5V="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
io.Db.Ik=function(w,I,E,X){var o=E.I4,i=E.QN();if(!1){}else if(I=="typename"){if(w.wL=="Layer")return w.k.vD()?"LayerSet":"ArtLayer";
else return w.wL}else if(["Document","Layer"].indexOf(w.wL)!=-1&&["layers","artLayers","layerSets"].indexOf(I)!=-1){var h=i.root,k={wL:"Layers",ajE:I,k:[]};
if(w.wL=="Layer")h=i.root.qx(i.b.indexOf(w.k));if(h.children==null)return null;for(var P=0;P<h.children.length;
P++){var x=h.children[P].l,j=x.vD();if(j&&I=="artLayers"||!j&&I=="layerSets")continue;k.k.push({wL:"Layer",k:x})}k.k.reverse();
return k}else if(w.wL=="Documents"||w.wL=="Layers"||w.wL=="HistoryStates"||w.wL=="LayerComps"){if(!1){}else if(I=="length")return w.k.length;
else if(Number.isInteger(I))return w.k[I];else console.log(w.wL+": unknown property ",I)}else if(w.wL=="Application"){if(!1){}else if(I=="activeDocument")return{wL:"Document",k:E.QN()};
else if(I=="documents"){var k={wL:"Documents",k:[]};for(var P=0;P<E.oR.length;P++)k.k.push({wL:"Document",k:E.oR[P]});
return k}else if(I=="fonts")return{wL:"TextFonts"};else if(I=="preferences")return{wL:"Preferences"};
else if(I=="displayDialogs")return{wL:"DialogModes"};else if(I=="foregroundColor"||I=="backgroundColor"){var v=I[0]=="f"?o.Ht:o.Mw;
return{wL:"SolidColor",k:[1,(v>>>16&255)/255,(v>>>8&255)/255,(v>>>0&255)/255]}}else if(I=="UI")return{wL:"UI"};
else if(I=="version")return 30;else console.log(w,I)}else if(w.wL=="Document"){var i=w.k;if(!1){}else if(I=="activeLayer"){var x=i.b[i.g[0]];
return{wL:"Layer",k:x}}else if(I=="resolution")return i.nN;else if(I=="width")return i.q;else if(I=="height")return i.w;
else if(I=="name")return i.name;else if(I=="saved")return!i.bA();else if(I=="selection")return{wL:"Selection"};
else if(I=="activeHistoryState")return{wL:"HistoryState",qI:i.lZ};else if(I=="source")return i.Co;else if(I=="layerComps"){var _=i.ww.list.v,L=[];
for(var P=0;P<_.length;P++)L.push({wL:"LayerComp",k:P});return{wL:"LayerComps",k:L}}else if(I=="historyStates"){var U=[];
for(var P=0;P<i.history.length;P++)U.push({wL:"HistoryState",qI:P});return{wL:"HistoryStates",k:U}}else if(I=="mode")return 7;
else console.log(w,I)}else if(w.wL=="LayerComp"){if(I=="name")return i.ww.list.v[w.k].v.Nm.v;else throw I}else if(w.wL=="Layer"){var n={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},x=w.k;
if(!1){}else if(I=="visible")return x.TH();else if(I=="selected")return i.g.indexOf(i.b.indexOf(x))!=-1;
else if(I=="grouped")return x.ws;else if(n[I]!=null)return x.B2(n[I]);else if(I=="opacity")return x.opacity*100/255;
else if(I=="blendMode")return x.$B;else if(I=="name")return x.getName();else if(I=="textItem")return{wL:"TextItem",k:x};
else if(I=="bounds"){var a=q.R.eB(i,[i.b.indexOf(x)]);return io.Db.a6L(a,i)}else if(I=="parent"){var T=E.oR;
for(var P=0;P<T.length;P++)if(T[P].b.indexOf(x)!=-1)return{wL:"Document",k:T[P]}}else if(I=="kind"){var g=io.Db.Gf;
for(var P=0;P<g.length;P++)if(x.add[g[P]]!=null)return P;return 0}else if(I=="isBackgroundLayer")return x.add.lnsr="bgnd";
else console.log(w,I)}else if(w.wL=="Selection"){if(!1){}else if(I=="bounds"){if(i.n==null)X.__throw={message:"no selection"};
else return io.Db.a6L(i.n.rect,i)}else console.log(w,I)}else if(w.wL=="TextItem"){var D=w.k.add.TySh,b=D.Da,N=bQ.Of(b),C=D.F.dA(),Z=bQ.wg(b,0,Math.max(0,N.length-2));
if(I=="contents")return N.slice(0,N.length-1).replace(/\n/g,"\r");else if(I=="font")return Z.hd.Font!=null?Z.B0[Z.hd.Font].Name:null;
else if(I=="size")return io.Db.Nm(Z.hd.FontSize*C,i);else if(I=="leading")return io.Db.Nm(Z.hd.Leading*C,i);
else if(I=="tracking")return io.Db.Nm(Z.hd.Tracking);else if(I=="baselineShift")return io.Db.Nm(Z.hd.BaselineShift);
else if(I=="fauxBold")return Z.hd.FauxBold;else if(I=="fauxItalic")return Z.hd.FauxItalic;else if(I=="kind")return 1-bQ.rI(b);
else if(I=="useAutoLeading")return Z.wo.AutoLeading;else if(I=="hyphenation")return Z.wo.AutoHyphenate;
else if(I=="justification")return io.Db.Nm(Z.wo.Justification);else if(I=="color")return{wL:"SolidColor",k:Z.hd.FillColor.Values.slice(0)};
else if(I=="width"||I=="height"){var S=bQ.Ni(b),u=(S[2]-S[0])*C,p=(S[3]-S[1])*C;return io.Db.Nm(I=="width"?u:p,i)}else if(I=="position"){var f=D.F;
return io.Db.akG([f.N9,f.Zt],i)}else if(I=="horizontalScale"||I=="verticalScale"){var d=I[0].toUpperCase()+I.slice(1);
return Math.round(Z.hd[d]*100)}else if(I=="antiAliasMethod")bQ.Z7(D);else if(I=="totalTextStyle"){var k={};
for(var l=0;l<2;l++){var A=["Style","Paragraph"][l],B=b.EngineDict[A+"Run"].RunLengthArray,e=[],m=0;
for(var P=0;P<B.length;P++){var $=bQ.wg(b,m,Math.min(m+B[P],N.length-2));m+=B[P];e.push(l==0?$.hd:$.wo);
k.fontSet=$.B0}k[A]={runs:B,styles:e}}return JSON.stringify(k)}else if(I=="transform"){var f=D.F;return JSON.stringify([f.lV,f.L,f.I5,f.cA,f.N9,f.Zt])}else console.log(w,I)}else if(w.wL=="Preferences"){if(I=="rulerUnits")return o.yR.gM;
else console.log(w,I)}else if(w.wL=="SolidColor"){if(I=="rgb")return{wL:"RGBColor",k:w.k};else console.log(w,I)}else if(w.wL=="RGBColor"){var a=Math.round(255*w.k[1]),V=Math.round(255*w.k[2]),H=Math.round(255*w.k[3]);
if(!1){}else if(I=="red")return a;else if(I=="green")return V;else if(I=="blue")return H;else if(I=="hexValue")return"#"+Q.mv(a<<16|V<<8|H).toUpperCase();
else console.log(w,I)}else if(w.wL=="UnitValue"){if(I=="value")return w.k;else throw"e"}else if(w.wL=="ExportOptionsSaveForWeb"){if(I=="format")return w.k.G$;
else if(I=="PNG8"||I=="interlaced")return!1;else if(I=="quality")return w.k.Cn;else if(I=="transparency")return!0;
else throw I}else if(w.wL=="JPEGSaveOptions"||w.wL=="PDFSaveOptions"){return 0}else if(w.wL=="$"){if(I=="localize")return!1}else if(w.wL=="ActionList"){if(I=="count")return w.dy.length;
else throw I}else console.log(w,I)};io.Db.a6L=function(w,I){return io.Db.akG([w.x,w.y,w.x+w.q,w.y+w.w],I)};
io.Db.akG=function(w,I){var E=[];for(var P=0;P<w.length;P++)E.push(io.Db.Nm(w[P],I));return E};io.Db.acB=function(w){var I=[];
for(var P=0;P<w.length;P++)I.push(w[P].wL?w[P].k:w[P]);return I};io.Db.Nm=function(w,I){return{wL:"UnitValue",k:w}};
io.Db.af7=function(w,I){if(w.wL=="UnitValue")return w.k;return w};io.Db.awF=function(w,I,E,X,o){var i=new e9(W.E.s,!0),h=new e9(W.E.Z,!0),k=X.QN(),x=X.I4;
if(!1){}else if(w.wL=="Application"){if(!1){}else if(I=="activeDocument"){h.data={d:W.t.aR,gt:E.k};X.c(h)}else if(I=="displayDialogs"){}else if(I=="foregroundColor"||I=="backgroundColor"){var j=E.k,v=j[1]*255<<16|j[2]*255<<8|j[3]*255<<0;
h.data={d:W.t.e1,GT:ik.xa,ns:I=="foregroundColor"?0:1,k:v};X.c(h)}else console.log(w,I,E)}else if(w.wL=="Document"){var _=w.k;
if(!1){}else if(I=="name"){i.G=q.Qd;i.data={d:K.le,k:E,afD:!0,aw:_};k.oP=!0}else if(I=="source")_.Co=E;
else if(I=="activeLayer"){_.g=[_.b.indexOf(E.k)]}else if(I=="activeHistoryState"){i.G=q.b9;i.data={d:"h_itemchange",index:E.qI}}else console.log(w,I)}else if(w.wL=="Layer"){i.G=q.Qd;
var L={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},U=w.k,n=k.b.indexOf(U);
if(!1){}else if(I=="visible"){if(U.TH()!=E)i.data={d:K.v8,l:n}}else if(I=="opacity"){i.data={d:K.In,l:n,pW:Math.round(255*E/100)}}else if(I=="blendMode"){i.data={d:K.L$,l:n,pW:hH.H1.indexOf(E)}}else if(I=="name"){i.data={d:K.Ku,l:n,name:E}}else if(L[I]!=null){i.data={d:K.bU,l:n,pW:[[E],[L[I]]]}}else if(I=="kind"){i.data={d:K.d5,l:n,nC:io.Db.Gf[E]}}else if(I=="grouped"){i.data={d:K.pk,l:n,pW:E}}else console.log(w,I,E)}else if(w.wL=="TextItem"){i.G=q.Zn;
var U=w.k,a=U.add.TySh,T=JSON.parse(JSON.stringify(a.Da)),g=a.F.clone(),D=a.F.dA(),b=bQ.Of(T),C=bQ.wg(T,0,b.length-2),Z=!1;
if(!1){}else if(I=="contents"){bQ.tb(T,0,b.length-1);bQ.fZ(T,0,E.replace(/\r/g,"\n"))}else if(I=="size"){C.hd.FontSize=(E.k!=null?E.k:E)/D;
Z=!0}else if(I=="leading"){C.hd.Leading=(E.k!=null?E.k:E)/D;Z=!0}else if(I=="tracking"){C.hd.Tracking=E.k!=null?E.k:E;
Z=!0}else if(I=="baselineShift"){C.hd.BaselineShift=E.k!=null?E.k:E;Z=!0}else if(I=="fauxBold"){C.hd.FauxBold=E;
Z=!0}else if(I=="fauxItalic"){C.hd.FauxItalic=E;Z=!0}else if(I=="kind"){var S=bQ.rI(T);if(S==1&&E==1){var u=new g9(T,X.I4.vj).wo[0],p=u.lB[0].end,f=u.TY[p-1].end;
bQ.tb(T,0,b.length-1);bQ.fZ(T,0,b.slice(0,f-1))}if(S==E)bQ.Kv(T,1-E)}else if(I=="useAutoLeading"){C.wo.AutoLeading=E;
Z=!0}else if(I=="hyphenation"){C.wo.AutoHyphenate=E;Z=!0}else if(I=="justification"){C.wo.Justification=E;
Z=!0}else if(I=="font"){bQ.Ab(C,E);Z=!0}else if(I=="color"){C.hd.FillColor.Values=E.k.slice(0);Z=!0}else if(I=="width"||I=="height"){var d=bQ.Ni(T).slice(0),l=io.Db.af7(E);
if(I=="width")d[2]=Math.round(d[0]+l/D);else d[3]=Math.round(d[1]+l/D);bQ.Nq(T,d)}else if(I=="position"){g.N9=E[0];
g.Zt=E[1]}else if(I=="horizontalScale"||I=="verticalScale"){var A=I[0].toUpperCase()+I.slice(1);C.hd[A]=E/100;
Z=!0}else if(I=="antiAliasMethod")bQ.hw(a,E);else console.log(w,I,E);if(Z)bQ.JF(T,0,b.length-1,C);i.data={d:"newED",Kr:k.b.indexOf(U),Dz:T,F:g}}else if(w.wL=="Preferences"){if(!1){}else if(I=="rulerUnits"){var B=JSON.parse(JSON.stringify(x.yR));
B.gM=E;h.data={d:W.t.e1,GT:ik.nk,pW:B};X.c(h)}else console.log(w,I,E)}else if(w.wL=="SolidColor"){if(I=="rgb")w.k=E.k;
else throw I}else if(w.wL=="RGBColor"){if(!1){}else if(I=="red")w.k[1]=E/255;else if(I=="green")w.k[2]=E/255;
else if(I=="blue")w.k[3]=E/255;else if(I=="hexValue"){var e=Q.rr(E.slice(1));w.k[1]=(e>>>16&255)/255;
w.k[2]=(e>>>8&255)/255;w.k[3]=(e>>>0&255)/255}else console.log(w,I)}else if(w.wL=="ExportOptionsSaveForWeb"){if(I=="format")w.k.G$=E;
else if(I=="PNG8"||I=="transparency"||I=="interlaced"){}else if(I=="quality")w.k.Cn=E;else throw I}else if(w.wL=="JPEGSaveOptions"){if(I=="quality")w.k.Cn=Math.round(100*E/12)}else if(w.wL=="PDFSaveOptions"){if(I=="preset")w.k.a0$=E}else if(w.wL=="$"){if(I=="localize"){}}else console.log(w,I,E);
if(i.data!=null)X.c(i)};io.Db.tn=function(w,I,E,X,o){var i=w.wL,h=null,k=new e9(W.E.s,!0),x=new e9(W.E.a3,!0),j=new e9(W.E.Z,!0),v=X.QN(),_=X.oR;
if(!1){}else if(i=="Application"){if(!1){}else if(I=="charIDToTypeID"){var L=E[0].trim(),U={slct:"select",Dlt:"delete",Mk:"make"};
return U[L]?U[L]:L}else if(I=="stringIDToTypeID"){var n=E[0].trim(),U={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},a=U[n];
return a==null?n:a}else if(I=="typeIDToStringID"){return E[0].trim()}else if(I=="executeAction"){console.log(E);
var T;if(E[1]){T=E[1].k;T.classID=E[0]}var g={setd:"set"},D=g[E[0]];if(D==null)D=E[0];var b=cz.u6[E[0]];
if(b&&cz.ZI[b])D=cz.ZI[b];x.data={$g:D,Zc:T}}else if(I=="executeActionGet"){return{wL:"ActionDescriptor",k:{classID:"null",null:{t:"obj ",v:E[0].k}},dy:v.b[v.g[0]]}}else if(I=="doAction"){j.data={d:W.t.QJ,hT:[E[0],E[1]]}}else if(I=="bringToFront"){}else if(I=="open"){j.data={d:W.t.Vd,GT:{url:E[0]}};
if(E[2]&&_.length!=0)j.data.GT.NF=_.indexOf(v)}else if(I=="echoToOE"){j.data={d:W.t.pz,GT:E[0]}}else console.log(I)}else if(i=="LayerComp"){if(I=="apply"){k.G=q.wD;
k.data={d:"setLC",qI:v.ww.list.v[w.k].v.compID.v}}else throw I}else if(i=="Document"){var v=w.k;if(!1){}else if(I=="crop"){x.data=q.EV.a8l(E[0])}else if(I=="trim"){var C=[];
for(var P=0;P<4;P++)C.push(E[P+1]!=null?E[P+1]:!0);x.data=q.EV.nW(E[0]!=null?E[0]:0,C)}else if(I=="suspendHistory"){var Z=acorn.parse(E[1]);
io.eval(Z,X,o)}else if(I=="save"){j.data={d:W.t.De}}else if(I=="saveToOE"){j.data={d:W.t.De,OX:E}}else if(I=="rotateCanvas"){x.data=q.R.to(!0,E[0])}else if(I=="resizeImage"||I=="resizeCanvas"){var S=E[0],u=E[1];
if(typeof S!="number"){S=v.q*parseFloat(S.slice(0,S.length-1))/100;u=v.w*parseFloat(u.slice(0,u.length-1))/100}if(I=="resizeCanvas")x.data=q.EV.an7(Math.round(S),Math.round(u),E[2]);
else x.data=q.EV.ade(Math.round(S),Math.round(u),null,1)}else if(I=="paste"){j.data={d:W.t.SO,Ts:E.length!=0&&E[0],ne:!0}}else if(I=="close"){j.data={d:W.t.aS,zW:v}}else if(I=="exportDocument"||I=="saveAs"){var p=o.__fs,f=E[0].k.replace(":","").replace("~/",""),d=I=="exportDocument"?E[2].k:E[1].k,l=gt.mZ(v,d.G$,null,null,d.G$=="pdf"?null:[d.Cn],X.I4);
p[f]=new Uint8Array(l)}else if(I=="flatten"){x.data={$g:"flattenImage"}}else console.log(w,I,E)}else if(i=="Layer"){var A=w.k,B=v.b.indexOf(A);
if(!1){}else if(I=="copy"){io.Db.op(v,X,0);j.data={d:W.t.NA,WY:E[0],Lq:B,ne:!0};X.c(j);delete j.data;
io.Db.op(v,X,1)}else if(I=="clear"){io.Db.op(v,X,0);x.data={$g:"delete"};X.c(x);delete x.data;io.Db.op(v,X,1)}else if(I=="duplicate"){if(E.length==0){var e=v.g.slice(0);
k.data={d:K.Ss,l:B};k.G=q.Qd;X.c(k);k.data=null;h={wL:"Layer",k:v.b[v.g[0]]};v.g=e}else if(E[0].wL=="Document"){k.data={d:K.sc,b:v.I3(B),Mn:v,Pf:E[0].k};
k.G=q.Qd}}else if(I=="merge"||I=="remove"){k.data={d:I=="merge"?K.dN:K.Ii,l:B};k.G=q.Qd;if(I!="remove")h={wL:"Layer",k:v.b[v.g[0]]}}else if(I=="move"){k.data={d:K.Ic,source:B,target:v.b.indexOf(E[0].k),IE:E[1]!=3?.6:.3};
k.G=q.Qd}else if(I=="rasterize"){x.data={$g:"rasterizeLayer",Zc:{classID:"rasterizeLayer",null:gE.cZ("Lyr",!0)}}}else if(I=="rotate"){k.data={d:"rot",Wj:[2,5],k:-E[0]*Math.PI/180,nh:E[1],l:B};
k.G=q.Ai}else if(I=="resize"){k.data={d:"scl",Wj:[2,4],k:new a5(E[0]/100,E[1]/100),nh:E[2],l:B};k.G=q.Ai}else if(I=="translate"){var m=io.Db.acB(E);
k.data={d:"trsl",l:B,BY:m[0],bJ:m[1]};k.G=q.xE}else if(I=="link"){k.data={d:K.zY,an6:[B,v.b.indexOf(E[0].k)]};
k.G=q.Qd}else if(I=="invert"){k.G=q.dT;k.data={d:"start",_T:"nvrt"}}else if(I.startsWith("apply")&&gD.Z_[I.slice(5)]||I.startsWith("adjust")&&gD.Z_[I.slice(6)]){var $=I.startsWith("apply"),m=io.Db.acB(E),V=gD.Z_[I.slice($?5:6)];
x.data={$g:$?gD.ZI[V]:cz.ZI[V]};var T=gD.SX(V);if(T){v.g=[B];gD._$["g"+V](T,m);x.data.Zc=T}}else console.log(w,I,E)}else if(i=="Documents"){if(I=="getByName"){for(var P=0;
P<_.length;P++)if(_[P].name==E[0])return{wL:"Document",k:_[P]};return null}else if(I=="add"){var H=E[5];
if(H==null)H=1;x.data=hg.W$(E[0],E[1],E[2],E[3],["Wht","Trns","BckC"][H],!1)}else throw"e"}else if(i=="Layers"){if(I=="getByName"){for(var P=0;
P<w.k.length;P++)if(w.k[P].k.getName()==E[0]){h=w.k[P];break}if(h==null)o.__throw={message:"No layer with a name "+E[0]}}else if(I=="add"){k.data={d:w.ajE=="layerSets"?K.yu:K.FD};
k.G=q.Qd;X.c(k);k.data=null;h={wL:"Layer",k:v.b[v.g[0]]}}else console.log(w,I,E)}else if(w.wL=="Selection"){if(I=="select"){var F=E[0],G=[];
for(var P=0;P<F.length;P++)G.push(F[P][0],F[P][1]);x.data=q.mc.gA(G)}else if(I=="clear"){x.data={$g:"delete"}}else if(I=="selectAll"){x.data=q.mc.FG(!0)}else if(I=="invert"){x.data={$g:"inverse"}}else if(I=="copy"){j.data={d:W.t.NA}}else if(I=="deselect"){x.data=q.mc.FG()}else if(I=="fill"){var J=E[0].k;
J=Q.N.Ex({o:J[1]*255,P:J[2]*255,L:J[3]*255});x.data=q.Og._u("Clr",E[1],E[2]==null?1:E[2]/100,J)}else if(I=="translate"){var T={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:E[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:E[1]}}}}};
x.data={$g:"move",Zc:T}}else if(I=="smooth"){x.data=q.mc.aeC("smoothness",E[0],!1)}else console.log(w,I,E)}else if(w.wL=="Window"){if(I=="show"){j.data={d:W.t.GV,ei:w.k}}else throw"e"}else if(w.wL=="ActionReference"){if(I=="putProperty"){w.k.push({t:"prop",v:{classID:E[0],keyID:E[1]}})}else if(I=="putClass"){w.k.push({t:"Clss",v:{classID:E[0]}})}else if(I=="putEnumerated"){w.k.push({t:"Enmr",v:{classID:E[0],typeID:E[1],enum:E[2]}})}else if(I=="putName"){w.k.push({t:"name",v:{classID:E[0],val:E[1]}})}else console.log(I,E)}else if(w.wL=="ActionDescriptor"||w.wL=="ActionList"){if(I=="putReference"){w.k[E[0]]={t:"obj ",v:E[1].k}}else if(I=="putDouble"){w.k[E[0]]={t:"doub",v:E[1]}}else if(I=="putUnitDouble"){w.k[E[0]]={t:"UntF",v:{type:E[1],val:E[2]}}}else if(I=="putObject"){if(w.wL=="ActionList"){var c=E[1].k;
c.classID=E[0];w.k.push({t:"Objc",v:c})}else{var c=E[2].k;c.classID=E[1];w.k[E[0]]={t:"Objc",v:c}}}else if(I=="putList"){w.k[E[0]]={t:"VlLs",v:E[1].k}}else if(I=="putBoolean"){w.k[E[0]]={t:"bool",v:E[1]}}else if(I=="putInteger"){w.k[E[0]]={t:"long",v:E[1]}}else if(I=="putString"){w.k[E[0]]={t:"TEXT",v:E[1]}}else if(I=="putEnumerated"){var r={};
r[E[1]]=E[2];w.k[E[0]]={t:"enum",v:r}}else if(I=="hasKey"){var A=v.b[v.g[0]],L=E[0];if(L=="textKey")return A.add.TySh!=null;
var s=w.k.null.v;for(var P=0;P<s.length;P++){if(s[P].v.keyID==E[0]){if(L=="UsrM"){return A.pi()!=null}else throw E}}}else if(I=="getEnumerationValue"){if(E[0]=="layerSection")h="layerSectionContent";
else console.log(E)}else if(I=="getBoolean"){if(E[0]=="background")h=!1;else console.log(E)}else if(I=="getString"){if(E[0]=="name")h=w.dy.getName();
else if(E[0]=="textKey")h=bQ.Of(w.dy.Da);else console.log(w,E)}else if(I=="getObjectValue"){if(E[0]=="textKey"){h={wL:"ActionDescriptor",dy:w.dy.add.TySh}}else if(typeof E[0]=="number")h=w.dy[E[0]];
else throw E[0]}else if(I=="getList"){h={wL:"ActionList"};if(E[0]=="paragraphStyleRange")h.dy=w.dy.Da.EngineDict.ParagraphRun.RunArray;
else if(E[0]=="kerningRange")h.dy=[];else if(E[0]=="textStyleRange")h.dy=w.dy.Da.EngineDict.StyleRun.RunArray;
else throw E}else console.log(I,E)}else if(w.wL=="$"){if(I=="writeln"){console.log(E[0])}else throw I}else if(w.wL=="UI"){if(I=="scroll"||I=="scrollTo"){var z=E[0],Y=E[1],ax=v.u.T;
if(I=="scrollTo"){z=(-v.q/2+z)*ax+v.u.z.x;Y=(-v.w/2+Y)*ax+v.u.z.y}k.G=q.aB;k.data={d:"scroll",Dd:new a5(Math.round(z),Math.round(Y))}}else{var iW;
if(I=="zoomIn"||I=="zoomOut"){iW={d:"zoom",GC:I=="zoomIn"}}else if(I=="fitTheArea"){iW={d:"adapt",k:"fitscr"}}else if(I=="pixelToPixel"){iW={d:"adapt",k:"pixel"}}k.G=q.dc;
k.data=iW;if(I=="switchFullscreen"){var y=X.I4.sr,hm=document.fullscreenElement!=null==(y==2);j.data={d:W.t.vB,k:y==0?2:0,k1:hm}}}}else console.log(w,I,E);
if(k.data)X.c(k);if(x.data)X.c(x);if(j.data)X.c(j);return h};io.Db.op=function(w,I,E){var X=new e9(W.E.s,!0);
X.G=q.UE;var o=new e9(W.E.a3,!0);if(E==0){io.Db.akg=w.n;o.data=q.mc.FG(!0)}else{var i=io.Db.akg;if(i)X.data={d:"setsel",Wj:"Restore Selection",n:{rect:i.rect.clone(),channel:i.channel.slice(0)}};
else o.data=q.mc.FG()}I.c(X.data?X:o)};io.Db.akg=null;io.Db.E1={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
io.Db.E1.ColorBlendMode=io.Db.E1.BlendMode;io.Db.Gf="---- SoLd TySh SoCo GdFl PtFl".split(" ");function fT(){}fT.Jw={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
fT.E9={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
fT.aev=function(w,I){if(I==null)I={};var E=fT.E9,X=[],o=[],i="";for(var P=0;P<w.length;P++){var h=w[P],k=E[h[0]+""];
if(k&&I[k]==null)I[k]=h[1];else if(h[0]==12)o.push(h[1]);else if(h[0]==25)X.push(h[1]);else if(h[0]==55)i=h[1];
else if(h[0]==60)i+=";"+h[1]}if(i!=""&&I["exif:DateTimeOriginal"]==null)I["exif:DateTimeOriginal"]=i;
if(o.length!=0&&I["Iptc4xmpCore:SubjectCode"]==null)I["Iptc4xmpCore:SubjectCode"]=o.join(";");if(X.length!=0&&I["dc:Keywords"]==null)I["dc:Keywords"]=X.join(";");
return I};fT.aef=function(w){var I=fT.E9,E=[];for(var X in I)if(w[I[X]])E.push([parseInt(X),w[I[X]]]);
if(w["Iptc4xmpCore:SubjectCode"]){var o=w["Iptc4xmpCore:SubjectCode"].split(";");for(var P=0;P<o.length;
P++)E.push([12,o[P].trim()])}if(w["dc:Keywords"]){var o=w["dc:Keywords"].split(";");for(var P=0;P<o.length;
P++)E.push([25,o[P].trim()])}E.sort(function(i,h){return i[0]-h[0]});return E};fT.a1S=function(w,I){if(I==null)I={};
var E=new DOMParser,X=E.parseFromString(w,"image/svg+xml"),o=X.getElementsByTagName("rdf:Description")[0];
if(o==null)return I;var i=fT.Jw;for(var h in i){var k=i[h][2];if(k==null)continue;var x=o.getElementsByTagName(k)[0];
if(x==null)continue;var j=x.getElementsByTagName("rdf:li"),v=[];for(var P=0;P<j.length;P++)v.push(j[P].textContent);
I[h]=v.join("; ")}return I};fT.aeK=function(w){var I=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],E=fT.Jw;
for(var X in E){var o=w[X],i=E[X][2],h="Seq",k="";if(o==null||i==null)continue;if(i=="dc:title"||i=="dc:description"){h="Alt";
k=" xml:lang=\"x-default\""}if(i=="dc:subject")h="Bag";I.push("\t<"+i+"><rdf:"+h+">");var x=i=="dc:subject"?o.split(";").join(",").split(","):[o];
for(var P=0;P<x.length;P++)I.push("\t\t<rdf:li"+k+">"+x[P].trim()+"</rdf:li>");I.push("\t</rdf:"+h+"></"+i+">")}I.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return I.join("\n")};fT.aso=function(w){var I=[];for(var P=0;P<w.length;P++)I[P]=w[P][1]==0?0:w[P][0]/w[P][1];
return I};fT.arv=function(w){var I=[];for(var P=0;P<w.length;P++){var E=w[P],X=1;if(E!=Math.round(E)){X=1e3;
E=Math.round(E*X)}I[P]=[E,X]}return I};fT.jd=function(w,I){var E=fT.Jw;if(I==null)I={};for(var X in E){var o=E[X][1],i="t"+o;
if(o!=null&&w[i]!=null){var h=w[i];if(o==0)h=h.join(".");else if(o==2||o==4){var k=w["t"+(o-1)];if(k==null)k=[o==2?"N":"E"];
h=fT.aso(h).join(",")+k[0]}else if(o==42034)h=fT.aso(h).join(" ");else if(o==270||o==315){var x=h[0],j=new Uint8Array(x.length);
M.X5(j,0,x);h=M.YV(j)}else h=h[0];I[X]=h}}if(w.exifIFD)fT.jd(w.exifIFD,I);if(w.gpsiIFD)fT.jd(w.gpsiIFD,I);
return I};fT.VM=function(w,I,E){var X=fT.Jw,i=0,k=0;if(I==null)I={};var o={},h={};for(var x in X){if(w[x]==null||X[x][1]==null)continue;
var j=X[x][1],v="t"+j,_=I;if(x.startsWith("exif:")){_=o;i++;if(x.startsWith("exif:GPS")){_=h;k++}}var L=w[x];
if(j==0)L=new Uint8Array(L.split(".").map(parseFloat));else if(j==2||j==4){var U=L.length;_["t"+(j-1)]=[L.slice(L.length-1)];
L=fT.arv(L.split(",").map(parseFloat))}else if(j==42034)L=fT.arv(L.split(" ").map(parseFloat));else if(j==270||j==315){var n=M.VD(L);
L=[M.jz(n,0,n.length)]}else L=[L];_[v]=L}if(i!=0){I.exifIFD=o;I.t34665=[0]}if(k!=0){I.gpsiIFD=h;I.t34853=[0]}var a=new Date,T=[a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()];
for(var P=0;P<6;P++)T[P]=(T[P]+"").padStart(2,"0");I.t305=["Photopea Editor (www.photopea.com)"];if(E!=!0)I.t306=[T[0]+":"+T[1]+":"+T[2]+" "+T[3]+":"+T[4]+":"+T[5]];
return I};function cg(){}cg.fM=function(w){var I={ab1:",",ar:"\r\n",w3:"\""},E=[[""]],X,o,i,h,k;for(X=o=i=h=0;
i<w.length;i++){switch(k=w.charAt(i)){case I.w3:if(h&&w.charAt(i+1)==I.w3){E[X][o]+=I.w3;++i}else{h^=1}break;
case I.ab1:if(!h){E[X][++o]=""}else{E[X][o]+=k}break;case I.ar.charAt(0):if(!h&&(!I.ar.charAt(1)||I.ar.charAt(1)&&I.ar.charAt(1)==w.charAt(i+1))){E[++X]=[""];
E[X][o=0]="";if(I.ar.charAt(1)){++i}}else{E[X][o]+=k}break;default:E[X][o]+=k}}if(E[E.length-1].length<E[0].length)E.pop();
return E};var O={};O.auA=0;O.N6=function(){O.auA++;return O.auA};O.a9l="uint8";O.anu=function(){var w=O.arY();
if(w=="")return 0;if(w!=O.x1("_TXZRPB;d7@;")){var I=O.XV[ap.Xf][ap.dd],E=I.indexOf(String.fromCharCode(35)),X;
if(E==-1)return 0;try{X=JSON.parse(O.XV[ap.arF](I.slice(E+1)))}catch(df){return 0}var o=X[O.x1("bQ[ODL<E<M")];
if(o==null||o.length<<2!=64)return 0;var i=ap.B6(),h=parseInt(o.slice(3*4).split("").reverse().join(""),16)<<16;
if(h<i||o!=ap.afQ(h,w))return 0;return 2}return 1};O.arY=function(){var w=O.XV[O.qD("}$z{2*35")][O.x1("W[\\ZQAJ?")],I=String.fromCharCode(46),E=w.split(I);
if(E.length<2)return"";var X=E.pop();X=E.pop()+I+X;return X};O.atO=function(){if(O.XV[ap.auh][ap.a8t]){var w=new O.XV[ap.dL];
w[ap.$y](ap.a9Q,O.x1("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+O.arY());w[ap.xl]()}};O.On=function(){if(window.top!=window.self)return!1;
var w=navigator.userAgent.toLowerCase();if(w.indexOf("android")!=-1)return!1;if(w.indexOf("safari")!=-1&&w.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};O.pK=function(w){this.LZ=w;this.a2Z=O.S("img");this.Lv=O.S("canvas");
this.DH=null;this.tG="";this.vS=null;this.O_=new a5(0,0);this.fi=!0;O.rv(this.LZ,this.s9.bind(this))};
O.pK.prototype.tM=function(w,I){this.DH=w;if(I)this.tG=I;this.s9()};O.pK.prototype.Fx=function(w){this.fi=w;
this.s9()};O.pK.prototype.s9=function(w){if(w)this.O_=O.cz(w,this.LZ);var I=this.fi?this.DH:"auto",E=typeof I=="string";
if(!E){var X=O.V(),o=this.O_,i=I._b.q,h=I._b.w,k=typeof I.L9=="string",x=k?this.a2Z:this.Lv;if(k)x.setAttribute("src",I.L9);
else{x.width=i;x.height=h;var j=x.getContext("2d"),v=new ImageData(new Uint8ClampedArray(I.L9.buffer),i,h);
j.putImageData(v,0,0)}x.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(o.y-I.gH.y/X)+"px; left:"+(o.x-I.gH.x/X)+"px; width:"+i/X+"px; height:"+h/X+"px");
var _=this.vS;if(_==null||_!=x){if(_)this.LZ.removeChild(_);this.LZ.appendChild(x);this.vS=x}}else if(this.vS){this.LZ.removeChild(this.vS);
this.vS=null}this.LZ.setAttribute("style","cursor:"+(E?I:"none")+"; "+this.tG)};O.qk=function(w){return w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
O.k3=function(w,I){w.vw(df.get([12,41]).charAt(0)+":");I.vw(df.get([12,42]).charAt(0)+":")};O.S=function(w,I){var E=document.createElement(w);
if(I!=null)E.className=I;return E};O.wO=function(w){while(w.firstChild)w.removeChild(w.firstChild)};
O.vK=function(w,I){var E=w.className;E=E.split(" ");if(E.indexOf(I)==-1)E.push(I);w.className=E.join(" ")};
O.yo=function(w,I){var E=w.className;if(E=="")return;E=E.split(" ");if(E.indexOf(I)!=-1)E.splice(E.indexOf(I),1);
w.className=E.join(" ")};O.NJ=function(w){while(!0){if(w==document)return!0;if(w==null)return!1;w=w.parentNode}};
O.D2=function(w){w.appendChild(O.S("br"))};O.wU=function(w){w.appendChild(O.S("hr"))};O.Ju=function(w,I,E){var X=new es([1,12,1],E==null?!0:E,null,!0);
if(w)X.h("click",w.cf,w);if(I)I.appendChild(X.m);return X};O.XV=document;O.oc=function(w){var I=0;for(var P=0;
P<w;P++)I+=Math.random();return I/w<Math.PI/4};O.x1=function(w){var I="";if(!O.oc(28))w+="-3";for(var P=0;
P<w.length;P++){var E=w.charCodeAt(P);if(E<32||126<E)throw"e";I+=String.fromCharCode(32+(E-32+17+3*P)%95)}return I};
O.qD=function(w){var I="";if(!O.oc(28))w+="-1";for(var P=0;P<w.length;P++){var E=w.charCodeAt(P);E-=32;
E+=95e4;E-=17+3*P;E=E%95;I+=String.fromCharCode(32+E)}return I};O.bL=function(w){var I=Math.random();
O.a9l="uint"+(3+I);return new w};(function(){var w=window.PointerEvent,I=w?"pointer":"mouse",E=I+"down",X=I+"move",o=I+"up",i=!1;
O.KO=function(h,k){h.addEventListener(E,k,i);if(!w)h.addEventListener("touchstart",k,i)};O.rv=function(h,k){h.addEventListener(X,k,i);
if(!w)h.addEventListener("touchmove",k,i)};O.M$=function(h,k){h.addEventListener(o,k,i);if(!w)h.addEventListener("touchend",k,i)};
O.aqm=function(h,k){h.removeEventListener(E,k,i);if(!w)h.removeEventListener("touchstart",k,i)};O.Gk=function(h,k){h.removeEventListener(X,k,i);
if(!w)h.removeEventListener("touchmove",k,i)};O.$x=function(h,k){h.removeEventListener(o,k,i);if(!w)h.removeEventListener("touchend",k,i)}}());
O.aa=function(w){w.addEventListener("touchstart",O.Ja,!1);w.addEventListener("touchmove",O.Ja,!1);w.addEventListener("touchend",O.Ja,!1);
w.addEventListener("gesturestart",O.Ja,!1);w.addEventListener("gesturechange",O.Ja,!1);w.addEventListener("gestureend",O.Ja,!1)};
O.axo=function(w){var I=w.sourceCapabilities;if(I)return I.firesTouchEvents;return!1};O.c_=function(w,I,E,X){var o=O.V();
w.width=Math.floor(I*o);w.height=Math.floor(E*o);if(X)X.scale(o,o);O.vl(w)};O.vl=function(w){var I=O.V();
w.style.width=w.width/I+"px";w.style.height=w.height/I+"px"};O.Pd=function(w,I,E){w.setAttribute("style","width:"+I/O.V()+"px; height:"+E/O.V()+"px")};
O.cz=function(w,I){if(I==null)I=w.currentTarget;var E=I.getBoundingClientRect();if(w.touches)w=w.touches.item(0);
return{x:w.clientX-E.left,y:w.clientY-E.top}};O.V=function(){return window.devicePixelRatio||1};O.g5=function(w){w.addEventListener("keydown",O.aup,!1)};
O.aup=function(w){w.stopPropagation()};O.Ja=function(w){w.preventDefault()};O.x4=function(w){w.stopPropagation();
w.preventDefault()};O.UG=function(w,I,E){E=E?E:"";if(PIMG["__"+w]==null)E+=" gsicon";return"<img src=\""+PIMG[w]+"\" alt=\""+(I?I:"")+"\" class=\""+E+"\" />"};
O.de=function(w,I,E,X){var o=w.dataTransfer.getData("text/uri-list");if(o!=null&&o.startsWith("http")){var i=new e9(W.E.Z,!0);
i.data={d:W.t.Vd,GT:{url:o,Ol:!0,NF:E,zz:X}};I.c(i)}if(w.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var h=[],k=w.dataTransfer.items.length,x=w.dataTransfer.files;
for(var j of w.dataTransfer.items)j.getAsFileSystemHandle().then(function(v){h.push(v);if(h.length==k){var i=new e9(W.E.Z,!0);
i.data={d:W.t.Bj,data:x,NF:E,zz:X,awN:h};I.c(i)}})}else{var i=new e9(W.E.Z,!0);i.data={d:W.t.Bj,data:w.dataTransfer.files,NF:E,zz:X};
I.c(i)}};if(O.oc(27))O.XV=window;else O.XV=O.a2K;O.XV._cwY=O.XV[O.qD("t$&!'31")];var j3={};j3.av2=function(P){var w=j3.NH[P],I=document.documentElement.style,X=1;
I.setProperty("--base","#"+Q.mv(w["--base"]));I.setProperty("--bg-panel","#"+Q.mv(w["--bg-panel"]));
I.setProperty("--bg-canvas","#"+Q.mv(w["--bg-canvas"]));I.setProperty("--bg-input","#"+Q.mv(w["--bg-input"]));
I.setProperty("--bg-bbtn","#"+Q.mv(w["--bg-bbtn"]));I.setProperty("--bg-bbtnOver","#"+Q.mv(w["--bg-bbtnOver"]));
I.setProperty("--brdr","#"+Q.mv(w["--brdr"]));I.setProperty("--text-color","#"+Q.mv(w["--text-color"]));
I.setProperty("--brdrLgt","rgba(255,255,255,"+w["--brdrLgt"]+")");I.setProperty("--brdrDrk","rgba(  0,  0,  0,"+w["--brdrDrk"]+")");
I.setProperty("--alphaDark",""+w["--alphaDark"]);I.setProperty("--gs-invert",""+w["--gs-invert"]);I.setProperty("--accent","#"+Q.mv(w["--accent"]));
var E=w["--sh-clr"];I.setProperty("--sh-clr","rgba("+(E>>16)+","+(E>>8&255)+","+(E&255)+", 0.45)");I.setProperty("--sh-dy",""+w["--sh-dy"]+"px");
if(1<O.V()&&O.V()<1.5)X=1/O.V();I.setProperty("--img20",20*X+"px");I.setProperty("--img18",18*X+"px");
I.setProperty("--img15",15*X+"px");if(PIMG!=null){var o="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var P=0;P<o.length;P++){var i=o[P],h=i.split("/").pop(),k=PIMG["__"+i]==null?w["--gs-invert"]:"0";
I.setProperty("--icon_"+h,"url("+PIMG[i]+")");I.setProperty("--icon_"+h+"_invrt",k)}}var x=document.querySelector("meta[name=theme-color]");
if(x)x.setAttribute("content","#"+Q.mv(w["--base"]))};(function(){var w=3441398,I=3441398;j3.NH=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--sh-dy":1,"--accent":I},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--sh-dy":1,"--accent":I}]}());
function i5(){this.Ue={};this.Er={}}i5.prototype.adw=function(w){var I=this.Ue[w];if(I==null)return!1;
return I.length>0};i5.prototype.addEventListener=function(w,I){this.h(w,I,null)};i5.prototype.h=function(w,I,E){if(this.Ue[w]==null){this.Ue[w]=[];
this.Er[w]=[]}this.Ue[w].push(I);this.Er[w].push(E)};i5.prototype.removeEventListener=function(w,I){var E=this.Ue[w];
if(E==null)return;var X=E.indexOf(I);if(X<0)return;var o=this.Er[w];E.splice(X,1);o.splice(X,1)};i5.prototype.c=function(w){w.currentTarget=this;
if(w.target==null)w.target=this;var I=this.Ue[w.type];if(I==null)return;var E=this.Er[w.type];for(var P=0;
P<I.length;P++){if(E[P]==null)I[P](w);else I[P].call(E[P],w)}};var e9=function(w,I){if(!I)I=!1;this.type=w;
this.target=null;this.currentTarget=null;this.bubbles=I;this.G=null;this.IY=!1},W={E:{s:"0",Z:"1",a3:"1.5",r:"2",RR:"3",ali:"4"},t:{g1:"10",DI:"11",kS:"12",cB:"13",JN:"14",aeQ:"14.1",Vd:"15",vN:"16",h8:"17",bT:"18",De:"19",apM:"19.5",aoM:"20",aca:"20.5",a7s:"20.6",LO:"21",NA:"22",SO:"23",mB:"24",GV:"25",Ty:"26",aR:"27",dv:"28",a4U:"28.5",agn:"29",Bj:"30",en:"31",xv:"32",Jd:"33",LF:"34",e1:"35",auK:"35.5",Yo:"37",aiw:"38",XR:"39",Iw:"40",FN:"41",pz:"41.5",a1P:"42",PZ:"43",ats:"43.5",aS:"44",aiq:"45",Ux:"46",Ll:"47",oG:"48",QJ:"49",atW:"50",vB:"51"}};
function cu(){i5.call(this);this.parent=null;this.m=null;this.LQ=0;this.Ns=0}cu.prototype=new i5;cu.prototype.aiS=function(w){var eS=this;
while(eS!=null){if(eS==w)return!0;eS=eS.parent}return!1};cu.prototype.VE=function(){var w=this.m;return w.offsetWidth+w.clientLeft};
cu.prototype.ag0=function(){var w=this.m;return w.offsetHeight+w.clientTop};cu.prototype.update=function(w){};
cu.prototype.c=function(w){i5.prototype.c.call(this,w);if(w.bubbles&&this.parent!=null)this.parent.c(w)};
cu.prototype.f=function(){};cu.prototype.hi=function(w,I){};cu.prototype.RX=function(w){O.vK(this.m,"disabled")};
cu.prototype.GR=function(w){O.yo(this.m,"disabled")};cu.prototype.Fx=function(w){if(w)this.GR();else this.RX()};
function cH(w){cu.call(this);this.Yb=[];this.uV=!1;this.a0W=0;this.zr={x:0,y:0,WN:!1};this.il=w;this.arE=this.ME.bind(this);
this.YJ=this._S.bind(this);this.ae1=this.wz.bind(this);O.KO(w,this.arE);O.rv(w,this.YJ);w.addEventListener("wheel",this.US.bind(this),!1);
w.addEventListener("contextmenu",this.aeM.bind(this),!1);var I=this.a7S.bind(this);w.addEventListener("gesturestart",I,!1);
w.addEventListener("gesturechange",I,!1);w.addEventListener("gestureend",I,!1);O.aa(w)}cH.prototype=new cu;
cH.prototype.a7S=function(w){if(w.type=="gesturestart")this.ID=w.scale;if(w.type=="gesturechange"){var I=new e9("mouse",!0);
I.action="scroll";I.d2=!0;this.EK(w,I);var E=(this.ID-w.scale)/this.ID;I.Dd=new a5(0,100*E);this.ID=w.scale;
this.c(I)}};cH.prototype.AE=function(w){var I=-1,E=this.Yb;for(var P=0;P<E.length;P++)if(E[P].pointerId==w.pointerId)I=P;
return I};cH.fH=function(w){var I=w.pointerType,E=window.__kb;return I=="touch"&&E.Y(aW.adC)};cH.prototype.ME=function(w){if(cH.fH(w))return;
var I=this.AE(w);if(I!=-1)this.Yb[I]=w;else this.Yb.push(w);if(this.Yb.length==1){this.a0W=Date.now();
var E=w.button!=null&&w.button!=0?w.which==2?"idown":"rdown":"down",X=new e9("mouse",!0);X.action=E;
this.EK(w,X);this.c(X);O.Gk(this.il,this.YJ);O.rv(window,this.YJ);O.M$(window,this.ae1)}if(this.Yb.length==2){if(Date.now()-this.a0W<100){var X=new e9("mouse",!0);
X.action="cancellast";this.EK(w,X);this.c(X)}this.uV=!0}if(this.Yb.length==2)this.agm("multidown")};
cH.prototype._S=function(w){if(cH.fH(w))return;var I=this.AE(w);if(I!=-1)this.Yb[I]=w;if(this.Yb.length>1){this.agm("multimove")}if(this.uV)return;
if(this.Yb.length==1&&I==-1)return;var E=new e9("mouse",!0);E.action="move";this.EK(w,E);this.c(E)};
cH.prototype.wz=function(w){if(cH.fH(w))return;var I=this.Yb;I=this.Yb=[];if(I.length==0){var E=w.button!=null&&w.button>0?w.which==2?"iup":"rup":"up",X=new e9("mouse",!0);
X.action=E;this.EK(w,X);this.c(X);O.Gk(window,this.YJ);O.$x(window,this.ae1);O.rv(this.il,this.YJ);this.uV=!1}};
cH.prototype.US=function(w){w.preventDefault();if(w.deltaX==0&&w.deltaY==0)return;var I=new e9("mouse",!0);
I.action="scroll";I.d2=w.ctrlKey;this.EK(w,I);this.c(I)};cH.prototype.aeM=function(w){O.x4(w);if(O.axo(w)){var I=new e9("mouse",!0);
this.EK(w,I);I.action="rdown";this.c(I);I.action="rup";this.c(I)}};cH.prototype.agm=function(w){var I=this.Yb,E=O.V(),X=[];
for(var P=0;P<I.length;P++){var o=X[P]=O.cz(I[P],this.il);o.x*=E;o.y*=E}var i=new e9("mouse",!0);i.action=w;
i.es=X;if(I.length==2)this.c(i)};cH.prototype.EK=function(w,I,E){var X=this.Yb.length!=0;if(I.action!="up"){var o=O.V();
if(E==null)E=O.cz(w,this.il);this.zr=I.ce={x:o*E.x,y:o*E.y,WN:X};var i=O.cz(w,document.body);I.ce.SD=i.x;
I.ce.P4=i.y}else this.zr=I.ce={x:this.zr.x,y:this.zr.y,WN:X};I.ce.Nw=.5;if(w.pressure!=null&&w.pressure!=0)I.ce.Nw=w.pressure;
if(w.pointerType=="mouse")I.ce.Nw*=2;I.ce.awv=w.pointerType;if(w.deltaX!=null){var h=w.deltaMode==0?1:40;
I.Dd=new a5(w.deltaX*h,w.deltaY*h)}};function j$(w,I,E){cu.call(this);this.IJ=null;this.a0U=this.wz.bind(this);
this.a46=this.xL.bind(this);this.a1Z=this.a5S.bind(this);this.aqc=this.a88.bind(this);this.vo=[];this.zH=[];
this.pC=[];this.alW=[];this.m=O.S("div","contextpanel "+(E?"cp_dark":"cp_light"));this.m.addEventListener("contextmenu",O.Ja,!1);
this.zA=null;this.jX=0;this.IV=w;this.fS=I;this.Vb=[];for(var P=0;P<w.length;P++){var X=O.S("div","enab");
this.zH.push(X);this.m.appendChild(X);if(w[P].P6){X.innerHTML=O.UG(w[P].P6,null,"thumb")}else{var o=O.S("span","check");
this.alW.push(o);X.appendChild(o)}var i=O.S("span","label");i.textContent=df.get(w[P].name);X.appendChild(i);
this.pC.push(i);if(w[P].Lf)this.m.appendChild(O.S("hr"));if(w[P].SP||w[P].sub){var h=O.S("span","right");
X.appendChild(h);if(w[P].SP)h.textContent=aW.oA(w[P].SP);else if(w[P].sub)h.textContent="\u25B6"}X.addEventListener("click",this.a0U,!1);
X.addEventListener("mouseover",this.a46,!0);X.addEventListener("mouseout",this.a1Z,!0);if(w[P].sub){var k=new j$(w[P].sub,I?I[P].sub:null);
k.parent=this;this.Vb.push(k);k.h("select",this.arg,this)}else this.Vb.push(null)}}j$.prototype=new cu;
j$.prototype.aqg=function(w){O.wO(this.m);for(var P=0;P<w.length;P++)if(w[P]!=0&&w[P]!=null){this.m.appendChild(this.zH[P]);
if(w[P]!=1&&this.Vb[P])this.Vb[P].aqg(w[P])}};j$.prototype.f=function(){var w=this.IV;for(var P=0;P<w.length;
P++){if(w[P].title)this.zH[P].title=df.get(w[P].title);this.pC[P].textContent=df.get(w[P].name)+(w[P].qj?"...":"")}for(var P=0;
P<this.Vb.length;P++)if(this.Vb[P])this.Vb[P].f()};j$.prototype.update=function(w,I){var E=this.IV;for(var P=0;
P<E.length;P++){if(E[P].i){var X=E[P].i(w,I,P);if(X.i!=null)this.zH[P].className=X.i?"enab":"disab";
if(X.fX!=null)this.pC[P].textContent=X.fX;if(X.Cm!=null)this.alW[P].textContent=X.Cm?"\u2713":"";if(X.v!=null)this.fS[P]=X.v}}for(var P=0;
P<this.Vb.length;P++)if(this.Vb[P])this.Vb[P].update(w,I)};j$.prototype.RC=function(){return this.vo};
j$.prototype.wz=function(w){if(w.button!=0)return;var P=this.zH.indexOf(w.currentTarget);if(this.Vb[P]){this.jX=P;
this.a88()}else{if(this.fS){var I=this.fS[P],E=new e9(I.X,!0);E.G=I.G;E.data=I.v;this.c(E)}this.IJ=null;
this.vo=[P];this.c(new e9("select",!1));var E=new e9(W.E.Z,!0);E.data={d:W.t.cB};this.c(E)}};j$.prototype.xL=function(w){var P=this.zH.indexOf(w.currentTarget);
this.NB();this.jX=P;this.zA=setTimeout(this.aqc,300)};j$.prototype.a5S=function(w){this.NB()};j$.prototype.NB=function(){if(this.zA){clearTimeout(this.zA);
this.zA=null}};j$.prototype.a88=function(){this.NB();var P=this.jX;if(this.IJ)this.IJ.at8();if(this.Vb[P]==null)return;
this.IJ=this.Vb[P];var w=this.zH[P].getBoundingClientRect(),I=new e9(W.E.Z,!0);I.data={d:W.t.DI,E5:this.Vb[P],x:w.left+w.width+2,y:w.top};
this.c(I)};j$.prototype.at8=function(){for(var P=0;P<this.Vb.length;P++)if(this.Vb[P])this.Vb[P].at8();
var w=new e9(W.E.Z,!0);w.data={d:W.t.kS,E5:this};this.c(w)};j$.prototype.arg=function(w){var P=this.Vb.indexOf(w.target);
this.vo=[P].concat(w.target.RC());this.c(new e9("select",!1))};function em(w,I,E){cu.call(this);this.m=O.S("span","fitem cbox");
if(I==null)I=!0;if(E==null)E="flabel";var X="cb"+O.N6();this.zS=O.S("input","");this.zS.setAttribute("type","checkbox");
this.zS.setAttribute("id",X);this.m.appendChild(this.zS);this.XN=w;this.cv=O.S("label",E);if(I)this.cv.setAttribute("for",X);
this.m.appendChild(this.cv);this.f();this.zS.addEventListener("change",this.y3.bind(this),!1)}em.prototype=new cu;
em.prototype.ayf=function(){return this.XN};em.prototype.vw=function(w){this.cv.textContent=w};em.prototype.f=function(){var w=this.XN;
if(typeof w=="string"&&w.startsWith("<"))this.cv.innerHTML=w;else this.cv.textContent=df.get(w)};em.prototype.KX=function(){this.zS.checked=!0};
em.prototype.Am=function(){this.zS.checked=!1};em.prototype.uf=function(){return this.zS.checked};em.prototype.B=function(w){this.zS.checked=w};
em.prototype.Q=em.prototype.uf;em.prototype.y3=function(w){this.c(new e9(W.E.r,!1))};function gJ(w,I){cu.call(this);
this.XN=w;this.m=O.S("span","labelitem fitem"+(I?" spread":""));this.f()}gJ.prototype=new cu;gJ.prototype.B=function(w){this.m.textContent=w};
gJ.prototype.Q=function(){return this.m.textContent};gJ.prototype.GR=function(){this.m.removeAttribute("disabled")};
gJ.prototype.RX=function(){this.m.setAttribute("disabled","")};gJ.prototype.vw=function(w){this.m.textContent=w};
gJ.prototype.f=function(){this.m.textContent=df.get(this.XN)};gJ.prototype.ayf=function(){return this.XN};
function es(w,I,E,X,o){cu.call(this);this.No=!1;this.m=O.S("button","fitem"+(I?" spread":"")+(X?" bbtn":""));
this.XN=w;this.$H=E;this.f();var i=o&&window.PointerEvent?"pointerup":"click";this.m.addEventListener(i,this.el.bind(this),!1)}es.prototype=new cu;
es.prototype.f=function(){var w=this.m,I=this.XN,E=this.$H;if(typeof I=="string"&&(I.startsWith("<img")||I.startsWith("<svg")||I.startsWith("<span"))){if(!this.No){w.innerHTML=I;
w.setAttribute("style","padding:2px");this.No=!0}}else w.textContent=df.get(I);if(E){w.setAttribute("title",df.get(E))}};
es.prototype.aqw=function(w){this.m.setAttribute("title",w)};es.prototype.el=function(w){this.c(new e9("click",!1))};
es.prototype.KX=function(){O.vK(this.m,"bactive")};es.prototype.Am=function(){O.yo(this.m,"bactive")};
es.prototype.vw=function(w,I){if(w&&w!=this.XN){this.XN=w;this.No=!1}if(I)this.$H=I;this.f()};es.prototype.B=function(w){if(w)this.KX();
else this.Am()};es.prototype.uf=function(){return this.m.getAttribute("class").indexOf("bactive")!=-1};
es.prototype.Q=function(){return this.uf()};function aR(w,I,E,X,o){cu.call(this);var i=O.N6();this.m=O.S("span","fitem tinput");
if(w){this.XN=w;this.cv=O.S("label","flabel");this.m.appendChild(this.cv);this.cv.setAttribute("for",i);
this.f()}if(o){this.zS=O.S("span")}else if(X==null){this.zS=O.S("input");this.zS.setAttribute("type","text")}else this.zS=O.S("textarea","scrollable");
this.zS.setAttribute("id",i);if(E)this.zS.setAttribute("style","width:"+E+"em;"+(o?" display:inline-block; margin-left:6px;":""));
if(X)this.zS.setAttribute("rows",X);this.m.appendChild(this.zS);if(I){this.Qj=O.S("span");this.Qj.textContent=I;
this.Qj.style.marginLeft="2px";this.m.appendChild(this.Qj)}O.g5(this.zS);this.zS.addEventListener("change",this.y3.bind(this),!1);
this.zS.addEventListener("input",this.af2.bind(this),!1)}aR.prototype=new cu;aR.prototype.f=function(){if(this.XN)this.cv.textContent=df.get(this.XN)+":"};
aR.prototype.vw=function(w){this.cv.textContent=w};aR.prototype.B=function(w){var I=this.zS,E=w==null?"":w,X=I.tagName=="SPAN";
if(X){I.textContent=" "+E;if(this.Qj)I.appendChild(this.Qj)}else I.value=E};aR.prototype.afX=function(w){this.Qj.textContent=w};
aR.prototype.Q=function(){return this.zS.value};aR.prototype.Gg=function(){this.zS.select();this.zS.focus()};
aR.prototype.y3=function(w){this.c(new e9(W.E.r,!1))};aR.prototype.af2=function(w){this.c(new e9("input",!1))};
function eT(w,I,E,X,o,i,h,k,x){cu.call(this);if(o==null)o=0;this.m=O.S("span","fitem");var j=O.N6();
this.XN=w;this.$H=k;this.DH=0;this.o3=x;this.s1=I;this.vV=E;this.Gq=null;if(X instanceof Array){this.Gq=X;
X=X[0]}this.qy=X;this.yi=o;this.abh=i;this.ab=h;this.QF=0;this.cv=O.S("label","flabel");this.cv.setAttribute("style","cursor:col-resize;");
this.xp=O.S("input");this.xp.setAttribute("type","range");if(h){this.xp.min=0;this.xp.max=400}else{this.xp.min=I;
this.xp.max=E;if(o!=0)this.xp.step=(E-I)/200}this.zS=O.S("input");this.zS.setAttribute("type","text");
this.zS.setAttribute("id",j);this.Qj=O.S("span");this.Qj.textContent=X;O.g5(this.zS);this.zS.addEventListener("change",this.y3.bind(this),!1);
this.zS.addEventListener("keydown",this.$J.bind(this),!1);this.zS.addEventListener("keyup",this.gT.bind(this),!1);
this.zS.addEventListener("wheel",this.US.bind(this),!1);this.xp.addEventListener("input",this.y3.bind(this),!1);
if(x)this.xp.addEventListener("change",this.y3.bind(this),!1);this.xp.addEventListener("click",this.a1c.bind(this),!1);
this.ajh=this.an0.bind(this);this.awb=this.ahT.bind(this);this.a3S=this.ar4.bind(this);this.Ly=0;this.GF=0;
this.gX=!1;O.KO(this.cv,this.ajh);O.aa(this.cv)}eT.prototype=new cu;eT.prototype.U9=function(w){this.yi=w};
eT.prototype.vw=function(w){this.cv.style.display=w?"inherit":"none";if(w)this.cv.textContent=df.get(w)};
eT.prototype.f=function(){var eS=this.XN,w=this.$H;if(eS){if(typeof eS=="string"&&eS.startsWith("<"))this.cv.innerHTML=eS;
else this.cv.textContent=df.get(eS)+":"}if(w){w=df.get(w);if(eS)this.cv.setAttribute("title",w);this.zS.setAttribute("title",w)}};
eT.prototype.B=function(w,I){var E=this.s1==this.vV,o;if(!E&&this.s1>=0)w=Math.max(this.s1,w);if(this.yi==0)w=Math.round(w);
var X=this.qy;this.DH=w;this.zS.value=(this.yi!=0?w.toFixed(this.yi):w)+(this.abh&&X?(X.toLowerCase()==X.toUpperCase()?"":" ")+X:"");
if(-this.s1==this.vV)o=200+Math.sign(w)*200*Math.pow(Math.abs(w)/this.vV,1/2.7);else o=400*Math.pow((w-this.s1)/(this.vV-this.s1),1/2.7);
this.xp.value=this.ab?o:w;if(I)this.ZX()};eT.prototype.Q=function(){var w=this.DH;if(isNaN(w))w=0;return w};
eT.prototype.hz=function(){return this.qy};eT.prototype.y3=function(w){var I=0;if(w.currentTarget==this.zS){var E=w.target.value,X=0;
I=E==""?0:this.qy?parseFloat(E):eval(E);if(isNaN(I))I=0;while(X<E.length&&(E.charAt(X)=="."||48<=E.charCodeAt(X)&&E.charCodeAt(X)<=57))X++;
var o=E.slice(X).trim();if(this.Gq&&this.Gq.indexOf(o)!=-1)this.qy=o}else{if(Date.now()-this.QF<10)return;
I=parseFloat(w.target.value);if(this.ab){if(-this.s1==this.vV)I=Math.sign(I-200)*Math.pow(Math.abs(I-200)/200,2.7)*this.vV;
else I=this.s1+Math.pow(I/400,2.7)*(this.vV-this.s1);I=this.axZ(I)}}this.B(I);if(w.type=="input"&&this.o3)return;
this.ZX()};eT.prototype.ZX=function(){this.c(new e9(W.E.r))};eT.prototype.axZ=function(w){if(this.vV-this.s1>50&&w>10)w=Math.round(w);
return w};eT.prototype.$J=function(w){var I=0;if(aW.OE(w.code,aW.mg))I=1;if(aW.OE(w.code,aW.$I))I=-1;
if(I!=0)this.ar2(I,w.shiftKey)};eT.prototype.gT=function(w){var I=aW.OE(w.code,aW.K9),E=aW.OE(w.code,aW.yd);
if(I)this.B(this.Q());if(E||I)this.zS.blur()};eT.prototype.US=function(w){this.ar2(w.deltaY>0?-1:1,w.shiftKey)};
eT.prototype.ar2=function(w,I){var E=this.Q(),X=this.yi,o=w*(X==null||X==0||E>5?1:.1);if(I)o*=10;var i=E+o;
if(!this.ab&&this.vV!=this.s1)i=Math.min(this.vV,i);this.B(i);this.ZX()};eT.prototype.a1c=function(w){var I=Date.now()-this.QF;
this.QF=Date.now();if(I>200)return;var E=this.s1,X=this.vV,o=(E+X)/2;if(E<1&&X>1&&X<10)o=1;else if(E<90&&X>110)o=100;
else if(E<0&&X>0)o=0;this.B(o);this.ZX()};eT.prototype.an0=function(w){O.rv(document,this.awb);O.M$(document,this.a3S);
this.Ly=O.cz(w,document.body).x;this.GF=this.Q()};eT.prototype.ahT=function(w){O.x4(w);var I=this.s1==this.vV,E=O.cz(w,document.body).x,X=(E-this.Ly)*(I?1:1/120*(this.vV-this.s1)),o=this.GF+X;
if(I)o=Math.round(o);if(!I){if(!0){o=Math.max(this.s1,o);if(o==this.s1){this.Ly=E;this.GF=this.s1}}if(!this.ab){o=Math.min(this.vV,o);
if(o==this.vV){this.Ly=E;this.GF=this.vV}}o=this.axZ(o)}this.gX=!0;this.B(o);if(!this.o3)this.ZX()};
eT.prototype.ar4=function(w){if(!this.gX)this.zS.focus();this.gX=!1;if(this.o3)this.ZX();O.Gk(document,this.awb);
O.$x(document,this.a3S)};eT.prototype.Gg=function(){this.zS.select();this.zS.focus()};function ic(w,I,E,X,o,i,h,k,x,j){eT.call(this,w,I,E,X,o,!0,i,x,j);
O.vK(this.m,"rangedropinput");this.m.appendChild(this.cv);this.zS.setAttribute("style","width:"+(k?k:3.3)+"em");
this.m.appendChild(this.zS);this.aua=O.S("span","rangecontFloat");this.aua.appendChild(this.xp);this.QX=O.S("button");
this.QX.textContent="\u25BC";O.KO(this.QX,this.ay5.bind(this));if(h!=!0)this.m.appendChild(this.QX);
this.wW=new cu;this.wW.m=this.aua}ic.prototype=new eT;ic.prototype.ay5=function(w){if(O.NJ(this.wW.m))return;
w.stopPropagation();var I=this.m.getBoundingClientRect();this.xp.setAttribute("style","width:"+I.width+"px;");
var E=new e9(W.E.Z,!0);E.data={d:W.t.DI,E5:this.wW,x:I.left-10,y:I.top+I.height};this.c(E)};function kk(w,I,E,X,o,i){eT.call(this,w,I,E,X,o,!1,i);
this.m.appendChild(this.cv);var h=O.S("span");this.m.appendChild(h);h.appendChild(this.xp);this.m.appendChild(this.zS);
this.zS.setAttribute("style","width:3.3em");if(this.qy)this.m.appendChild(this.Qj)}kk.prototype=new eT;
function fO(w,I,E,X,o,i,h,k){eT.call(this,w,I,E,X,o,!0,i,null,h);O.vK(this.m,"trangeinput");this.m.appendChild(this.cv);
this.m.appendChild(this.zS);var x=O.S("span");if(k!=!0)this.m.appendChild(x);x.appendChild(this.xp);
this.xp.setAttribute("style","width:97%;")}fO.prototype=new eT;function b4(w,I,E,X){cu.call(this);if(!I)return;
if(E==null)E=!1;this.ZB=0;this.awd=E;this.XN=w;this.E9=null;this.au4=X;this.zm=[];var o="dd"+O.N6();
this.m=O.S("span","fitem ddmenu");if(w&&!E){this.cv=O.S("label","flabel");this.m.appendChild(this.cv);
this.cv.setAttribute("for",o)}this.rj=O.S("select");this.rj.setAttribute("id",o);this.m.appendChild(this.rj);
this.rj.addEventListener("change",this.y3.bind(this),!1);function i(h){var k=0;if(aW.OE(h.code,aW.mg))k=1;
if(aW.OE(h.code,aW.$I))k=-1;if(k!=0)h.stopPropagation()}this.rj.addEventListener("keydown",i,!1);this.rj.addEventListener("keyup",i,!1);
this.aN=[];this.h3=null;this.Zq(I,X);this.f()}b4.prototype=new cu;b4.prototype.vw=function(w){this.XN=w;
this.f()};b4.prototype.f=function(){if(this.XN!=null){var w=df.get(this.XN);if(this.awd)this.rj.setAttribute("title",w);
else this.cv.textContent=w+":"}if(this.h3)this.Zq(this.h3,this.au4);this.B(this.ZB)};b4.prototype.Q=function(){return this.ZB};
b4.prototype.Zq=function(w,I){O.wO(this.rj);var E=[],X=0;if(I){E.push(I[0]);for(var P=1;P<I.length;P++)E.push(E[P-1]+I[P])}this.h3=w;
this.E9=[];this.au4=I;for(var P=0;P<w.length;P++){var o=O.S("option");if(this.zm.indexOf(P)!=-1)o.setAttribute("disabled","");
o.textContent=df.get(w[P]);o.setAttribute("value",P);this.rj.appendChild(o);this.aN.push(o);this.E9.push(P+X);
if(E.indexOf(P+1)!=-1&&P!=w.length-1){var i=O.S("option");i.setAttribute("disabled","");i.textContent="";
this.rj.appendChild(i);X++}}};b4.prototype.at4=function(P){var w=this.zm,I=w.indexOf(P);if(I==-1)w.push(P);
this.f()};b4.prototype.acx=function(P){var w=this.zm,I=w.indexOf(P);if(I!=-1)w.splice(I,1);this.f()};
b4.prototype.B=function(w){this.ZB=w;this.rj.selectedIndex=this.E9[w]};b4.prototype.y3=function(w){this.ZB=this.E9.indexOf(this.rj.selectedIndex);
this.c(new e9(W.E.r,!1))};b4.prototype.Gg=function(){this.rj.focus()};function f$(w,I,E,X){cu.call(this);
if(!I)return;this.ZB=0;this.a6c=X;this.m=O.S("span","fitem bbmenu");this.cv=O.S("label","flabel");if(w){this.XN=w;
this.cv.textContent=w+":";this.m.appendChild(this.cv)}this.aN=[];this.z5=O.S("span");this.m.appendChild(this.z5);
this.h3=null;this.Zq(I,E);this.B(0)}f$.prototype=new cu;f$.prototype.vw=function(w){this.XN=w;this.f()};
f$.prototype.f=function(){var w=this.cv.parentNode!=null,I=this.m;if(this.XN!=null){if(!w){I.appendChild(this.cv);
I.appendChild(this.z5)}this.cv.textContent=df.get(this.XN)+": "}else if(w)I.removeChild(this.cv);for(var P=0;
P<this.aN.length;P++)this.aN[P].f()};f$.prototype.Q=function(){return this.ZB};f$.prototype.Zq=function(w,I){O.wO(this.z5);
this.aN=[];this.h3=w;for(var P=0;P<w.length;P++){var E=new es(w[P],!1,I?I[P]:null,this.a6c);E.h("click",this.y3,this);
this.z5.appendChild(E.m);this.aN.push(E)}this.f()};f$.prototype.B=function(w){this.ZB=w;for(var P=0;
P<this.aN.length;P++)this.aN[P].Am();this.aN[w].KX()};f$.prototype.y3=function(w){var P=this.aN.indexOf(w.target);
this.B(P);this.c(new e9(W.E.r,!1))};f$.Bk=function(w,I,E){if(I==null)I=16;var X=f$.Lv,o=X.getContext("2d"),i=I>>>1;
X.width=X.height=I;var h=[];for(var P=0;P<w.length;P++){if(w[P][0]=="-")h.push(w[P].slice(1));else if(w[P]=="checker"||w[P].startsWith("#")){if(w[P]=="checker"){o.fillStyle="white";
o.fillRect(0,0,I,I);o.fillStyle="#bbbbbb";o.fillRect(i,0,i,i);o.fillRect(0,i,i,i)}else if(w[P].startsWith("#")){o.fillStyle=w[P];
o.fillRect(0,0,I,I)}h.push("<img src=\""+X.toDataURL()+"\" />")}else h.push(O.UG(w[P],null,E?E:"autoscale"))}return h};
f$.Lv=O.S("canvas");function fY(w,I,E,X,o,i){cu.call(this);this.m=O.S("span","fitem mbox");this.asJ=E;
this.amV=o;if(w){this.XN=w;this.cv=O.S("label","flabel");this.m.appendChild(this.cv)}this.M4=I;this.y9=[];
for(var P=0;P<I.length;P++){var h=E?new es(I[P],!1,X?X[P]:null,!1,i):new em(I[P],!0,"");h.h(E?"click":W.E.r,this.y3,this);
this.y9.push(h);this.m.appendChild(h.m)}this.f()}fY.prototype=new cu;fY.prototype.B=function(w){for(var I=0;
I<this.M4.length;I++)this.y9[I].B(w[I])};fY.prototype.Q=function(){var w=[];for(var I=0;I<this.M4.length;
I++)w[I]=this.y9[I].Q();return w};fY.prototype.f=function(){if(this.XN)this.cv.innerHTML=df.get(this.XN)+": ";
var w=this.y9;for(var I=0;I<w.length;I++){w[I].f();if(I==w.length-1)w[I].m.style.marginRight="0px"}};
fY.prototype.y3=function(w){var P=this.y9.indexOf(w.currentTarget),I=this.y9[P];if(this.asJ)I.B(!I.Q());
if(this.amV){var E=I.Q();for(var P=0;P<this.y9.length;P++)this.y9[P].B(!1);I.B(E)}this.c(new e9(W.E.r,!1))};
function aC(w,I){cu.call(this);this.ui=[];this.g=[];this.awQ=w;this.kO=I;this.df=0;this.q1=null;this.O_=new a5(0,0);
if(I!=null){this.i9=new j$([{name:[6,37]},{name:[5,4]}]);this.i9.parent=this;this.i9.h("select",this.J0,this)}this.m=O.S("div","imageset scrollable");
this.m.addEventListener("contextmenu",O.Ja,!1)}aC.prototype=new cu;aC.prototype.f=function(){if(this.i9)this.i9.f()};
aC.prototype.J0=function(w){var P=this.i9.RC()[0],I=new e9(W.E.Z,!0),E={d:W.t.e1,GT:this.kO,HE:this.g.slice(0)};
if(P==0){var X=this.q1[1][this.g[0]];E.kl="rnm";I.data={d:W.t.GV,ei:"namewindow",di:X,HL:{X:W.E.Z,v:E}}}else{I.data=E;
E.kl="del"}this.c(I)};aC.prototype.a4p=function(){return this.df};aC.prototype.xy=function(w){this.df=w;
if(this.q1)this.xn()};aC.prototype.fg=function(w,I,E,X){this.q1=[w,I,E,X];this.xn()};aC.prototype.xn=function(){var w=this.q1,I=w[0],E=w[1],X=w[2],o=w[3];
this.ui=[];this.m.innerHTML="";var i=this.el.bind(this),h=this.df;if(h==0)O.vK(this.m,"imageset");else O.yo(this.m,"imageset");
for(var P=0;P<I.length;P++){var k=I[P],x=null;if(k==null){this.ui.push(null);continue}if(typeof k=="string"){x=O.S("img","image");
x.setAttribute("src",k)}else x=k;if(X)O.Pd(x,X,o);if(this.awQ)O.vK(x,"gsicon");if(h==0){}else{var j=O.S("div","listitem");
j.appendChild(x);var v=O.S("span");v.textContent=E?E[P]:"Item "+(P+1);v.setAttribute("style","margin-left:4px;");
j.appendChild(v);x=j}if(E)x.setAttribute("title",E[P]);x.addEventListener("mousedown",i,!1);this.ui.push(x);
this.m.appendChild(x)}};aC.prototype.el=function(w){if(this.kO==null)w.preventDefault();var I=this.ui.indexOf(w.currentTarget),E=window.__kb,X=this.g,o=X.length;
if(E.Y(aW.mG)){var i=Math.min(X[0],X[X.length-1],I),h=Math.max(X[0],X[X.length-1],I);X=[];for(var P=i;
P<=h;P++)X.push(P)}else if(E.Y(aW.iu)){var k=X.indexOf(I);if(k==-1)X.push(I);else X.splice(k,1)}else X=[I];
X.sort(function(_,L){return _-L});if(w.button==0||o==1)this.B(X);this.O_=O.cz(w,w.currentTarget);if(w.button==0)this.c(new e9(W.E.r));
if(w.button==2&&this.i9){var x=this.i9;x.update(null);var j=O.cz(w,document.body),v=new e9(W.E.Z,!0);
v.data={d:W.t.DI,E5:x,x:j.x,y:j.y+2};this.c(v)}};aC.prototype.Q=function(){return this.g.slice(0)};aC.prototype.aat=function(){var w=this.O_;
return new a5(w.x,w.y)};aC.prototype.B=function(w){this.g=w.slice(0);for(var P=0;P<this.ui.length;P++){var I=this.ui[P];
if(I==null)continue;if(w.indexOf(P)!=-1)O.vK(I,"selected");else O.yo(I,"selected")}};function k9(w,I,E,X,o,i,h){cu.call(this);
this.m=O.S("span","fitem "+E);this.Lp=new cu;this.Lp.m=O.S("div","floatcont");this.Lp.m.setAttribute("style","width: "+(X+1.5)+"em;");
this.Lp.parent=this;this.a5P=O.S("div");this.Lp.m.appendChild(this.a5P);this.aP=O.S("div");this.Lp.m.appendChild(this.aP);
if(w){this.XN=w;this.cv=O.S("label","flabel");this.m.appendChild(this.cv)}this.d=O.S("button",h?"nopadding":"");
this.d.setAttribute("style","position:relative;");var k=this.Sd.bind(this),x=this.hM.bind(this);O.KO(this.d,I?x:k);
this.m.appendChild(this.d);this.ds=O.S("img",h?"gsicon":"");this.d.appendChild(this.ds);if(I){var j=O.S("button");
j.textContent="\u25BC";O.KO(j,k);this.m.appendChild(j)}else{var v=O.S("span");v.textContent="\u25BC";
v.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(v)}var _=O.S("span");
this.aP.appendChild(_);_.setAttribute("style","display:inline-block;  vertical-align:top; width:"+X+"em;");
this.Es=new aC(h,i);_.appendChild(this.Es.m);this.Es.parent=this.Lp;this.Es.h(W.E.r,this.dr,this);this.Es.m.style.height=o+"em";
this.pF=O.S("button");this.pF.textContent="\u25BC";this.pF.setAttribute("style","padding:3px");O.KO(this.pF,this.C5.bind(this));
this.aP.appendChild(this.pF);var L=this.VB(),U=this.a96=i!=ik.uH&&i!=ik.EO?i:null,n=this.amC=i==null?!1:ik._f[i][4]!=0,a=i==null?"":ik._f[i][0].toUpperCase(),T=[];
if(U)T.push({name:[12,87]});T.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],Lf:!0});T.push({name:[[23,6],"."+(a=="ICC"?"icc .cube .look .3dl":a)]},{name:["VAR0 ."+a,[1,8]]},{name:[6,37]},{name:[5,4],Lf:L.length!=0});
for(var P=0;P<L.length;P++)T.push({name:L[P].split("/").pop()});this.an$=T;this.kO=i;this.GM=null;this.NR=!0;
this.bw=null}k9.prototype=new cu;k9.prototype.VB=function(){return[]};k9.prototype.hM=function(){};k9.prototype.f=function(){this.Es.f();
var w=this.XN;if(w)this.cv.textContent=df.get(w)+":"};k9.prototype.vw=function(w){this.cv.textContent=w};
k9.prototype.Kn=function(w){var I=this.kO,E=0;if(I==ik.V3){E=this.GM?this.GM.length:0;w=w.slice(0)}this.GM=w;
this.NR=!0;if(O.NJ(this.Es.m)||I==ik.rW)this.LA();if(I==ik.V3&&w.length-E==1&&O.NJ(this.m)){this.B(w[E]);
this.NR=!0;this.LA();this.Es.B([E]);this.c(new e9(W.E.r))}};k9.prototype.J0=function(w){var I=w.target.RC()[0];
if(this.a96==null)I++;var E=new e9(W.E.Z,!0);if(I==0){var X=this._Z();if(this.kO==ik.V3&&X[0].profile==null)return;
E.data={d:W.t.e1,kl:"add",GT:this.a96,VV:X}}else if(I==1)this.Es.xy(1-this.Es.a4p());else if(I<=5)this.Q$(I-2);
else{var o=this.VB();E.data={d:W.t.Vd,GT:{url:"rsrc/"+o[I-6]}}}if(E.data)this.c(E)};k9.prototype.Q$=function(w){var I=new e9(W.E.Z,!0),E=this.Es.Q(),X={d:W.t.e1,GT:this.kO,HE:E};
if(w>1&&E.length==0){alert("No items selected");return}if(w==0)I.data={d:W.t.vN};else if(w==1)I.data={d:W.t.Ux,a6k:this.kO,HE:E.length==0?null:E};
else if(w==2){var o=this.Es.q1[1][E[0]];X.kl="rnm";I.data={d:W.t.GV,ei:"namewindow",di:o,HL:{X:W.E.Z,v:X}}}else if(w==3){I.data=X;
X.kl="del"}this.c(I)};k9.prototype._Z=function(){return[this.Q()]};k9.prototype.C5=function(w){if(this.i9==null){this.i9=new j$(this.an$);
this.i9.parent=this.Lp;this.i9.h("select",this.J0,this)}if(O.NJ(this.i9.m))return;w.stopPropagation();
var I=this.i9;I.f();I.update(null);var E=w.currentTarget.getBoundingClientRect(),X=new e9(W.E.Z,!0);
X.data={d:W.t.DI,E5:I,x:E.left,y:E.top+E.height};this.c(X)};k9.prototype.Sd=function(w,I,E){if(O.NJ(this.Lp.m))return;
if(w)w.stopPropagation();this.LA();if(I==null){var X=this.d.getBoundingClientRect(),I=X.left,E=X.top+X.height}var o=new e9(W.E.Z,!0);
o.data={d:W.t.DI,E5:this.Lp,x:I,y:E,pt:!0};this.c(o)};k9.prototype.anR=function(w,I){this.Sd(null,w,I)};
function gk(){cu.call(this);this.m=O.S("div");this.DH=!1;this.bB=[new b4([12,19,1],[[13,1,7]].concat(cz.Sb)),new dy([17,1]),new dy([12,46])];
for(var P=0;P<3;P++){var w=this.bB[P];this.m.appendChild(w.m);w.h(W.E.r,this.JX,this)}this.f()}gk.prototype=new cu;
gk.prototype.f=function(){for(var P=0;P<3;P++)this.bB[P].f()};gk.prototype.Q=function(){return this.DH.slice(0)};
gk.prototype.B=function(w){this.DH=w.slice(0);var I=this.bB,E=I[0].Q();I[1].B(w.slice(E*8,E*8+4),E);
I[2].B(w.slice(E*8+4,E*8+8),E)};gk.prototype.JX=function(w){var I=this.bB,E=I.indexOf(w.currentTarget);
if(E==0)this.B(this.DH);else{var X=I[0].Q()*8+(E==1?0:4),o=I[E].Q();for(var P=0;P<4;P++)this.DH[X+P]=o[P];
this.c(new e9(W.E.r,!1))}};function dy(w){cu.call(this);this.m=O.S("div");this.U=O.S("canvas");this.rX=w;
this.DH=[0,20,200,255];this.JE=0;this.zN=-1;this.ad9=[];for(var P=0;P<5;P++){var I=O.S("span");I.setAttribute("style","display:inline-block;width:"+(P==0?8:P==2?7:2)+"em");
this.ad9.push(I);this.m.appendChild(I)}this.Vz=this.ME.bind(this);this.IN=this._S.bind(this);this.Yt=this.wz.bind(this);
O.aa(this.U);O.KO(this.U,this.Vz);this.m.appendChild(this.U);this.xn()}dy.prototype=new cu;dy.prototype.f=function(){this.xn()};
dy.prototype.B=function(w,I){this.DH=w;this.JE=I;this.xn()};dy.prototype.Q=function(){return this.DH.slice(0)};
dy.prototype.ME=function(w){var I=this.DH,E=O.cz(w,this.U),X=E.x-8,o=-1,i=1e9;for(var P=0;P<4;P++){var h=X-I[P],k=Math.abs(h);
if(k<8&&k<i&&((P&1)==0&&h<0||(P&1)==1&&h>0)){i=h;o=P}}if(o==-1)return;this.zN=o;this.Gj=window.__kb.Y(aW.$i)||I[(o>>>1)*2]!=I[(o>>>1)*2+1];
O.rv(window,this.IN);O.M$(window,this.Yt)};dy.prototype._S=function(w){var I=this.DH,E=this.zN,X=(E>>>1)*2,o=X+1,i=O.cz(w,this.U),h=Math.round(Math.max(0,Math.min(255,i.x-8)));
I[E]=h;if(this.Gj&&I[X]>=I[o])this.Gj=!1;if(!this.Gj)I[X]=I[o]=h;this.xn();this.c(new e9(W.E.r,!1))};
dy.prototype.wz=function(w){O.Gk(window,this.IN);O.$x(window,this.Yt)};dy.prototype.xn=function(){var w=this.U;
O.c_(w,255+16,16);var I=w.getContext("2d"),E=w.width,X=w.height,o=Math.round(255*O.V()),i=Math.round(8*O.V());
I.translate(i,0);var h=I.createLinearGradient(0,0,o,0);h.addColorStop(0,"black");h.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.JE]);
I.fillStyle=h;I.fillRect(0,0,o,i);var k=this.ad9,x=df.get(this.rX)+":";k[0].textContent=x;for(var P=0;
P<4;P++){var j=this.DH[P];k[1+P].textContent=j;var v=Math.round(j*O.V());I.beginPath();I.moveTo(v,i);
I.lineTo(v,i+i);I.lineTo(v+((P&1)==0?-1:1)*i,i+i);I.closePath();I.fillStyle=P<2?"#666666":"#cccccc";
I.fill();I.strokeStyle="black";I.stroke()}};function ia(w,I,E){cu.call(this);if(E==null)E=!1;this.k=[0,0,1];
this.a5U=I;this.ape=E;this.ahC=0;var X="ai"+O.N6();this.m=O.S("span","fitem angleinput");if(w){this.cv=O.S("label","flabel");
this.XN=w;this.m.appendChild(this.cv);this.cv.setAttribute("for",X)}this.Ae=E?44:20;this.U=O.S("canvas","gsicon");
this.vu=this.U.getContext("2d");O.aa(this.U);O.c_(this.U,this.Ae*2+1,this.Ae*2+1);this.vu.scale(O.V(),O.V());
this.m.appendChild(this.U);O.KO(this.U,this.Tu.bind(this));this.D7=this.Ka.bind(this);this.cQ=this.Ki.bind(this);
var o=this.y3.bind(this),i=O.S("div");i.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!E)this.m.appendChild(i);this.RU=[];for(var P=0;P<2;P++){var h=O.S("input");this.RU.push(h);h.setAttribute("type","text");
O.g5(h);if(P==0)h.setAttribute("id",X);h.addEventListener("change",o,!1);var k=O.S("span");k.textContent="\xB0";
if(P==0||I){i.appendChild(h);i.appendChild(k);O.D2(i)}}this.B(this.k)}ia.prototype=new cu;ia.prototype.f=function(){if(this.XN)this.cv.textContent=df.get(this.XN)+":"};
ia.prototype.vw=function(w){this.cv.textContent=w};ia.prototype.Q=function(){return this.k.slice(0)};
ia.prototype.B=function(w,I){var E=this.k;w=w.slice(0);if(w[0]==null)w[0]=E[0];if(w[1]==null)w[1]=E[1];
if(w[2]==null)w[2]=E[2];this.k=w;var X=w[0],o=w[1],i=w[2],h=this.a5U,k=this.ape,x=this.Ae*.85;if(!h)o=0;
this.RU[0].value=X;this.RU[1].value=o;var j=this.vu;j.clearRect(0,0,100,100);X=Math.PI*X/180;o=x*(90-o)/90;
var v=this.Ae+.5;j.save();j.translate(v,v);j.rotate(-X);j.strokeStyle="rgba(0,0,0,0.5)";j.beginPath();
j.ellipse(0,0,x,x*i,0,0,2*Math.PI);if(k){j.moveTo(0,-x*i);j.lineTo(0,x*i);j.moveTo(-o,0)}else j.moveTo(0,0);
j.lineTo(o,0);j.stroke();var _=this.Ae*.15;j.fillStyle="black";j.beginPath();if(k){j.arc(0,-x*i,_*.66,0,2*Math.PI);
j.arc(0,x*i,_*.66,0,2*Math.PI)}if(h){j.arc(o,0,_*.4,0,2*Math.PI)}else{j.moveTo(v-_,-_*.66);j.lineTo(v,0);
j.lineTo(v-_,_*.66)}j.fill();j.restore();if(I)this.y3()};ia.prototype.y3=function(w){var I=parseInt(this.RU[0].value);
if(isNaN(I))I=0;var E=parseInt(this.RU[1].value);if(isNaN(E))E=0;I=I%360;E=E%360;this.B([I,E]);this.c(new e9(W.E.r,!1))};
ia.prototype.Tu=function(w){O.rv(window,this.D7);O.M$(window,this.cQ);var I=O.cz(w,this.U),v=0,_=1e9;
I.x-=this.Ae;I.y-=this.Ae;var E=this.k,X=E[0]*Math.PI/180,o=(90-E[1])/90,i=E[2],h=this.Ae*.85,k=Math.sin(-X),x=Math.cos(-X),j=[new a5(x*h,k*h)];
if(this.ape)j.push(new a5(-k*h*i,x*h*i),new a5(k*h*i,-x*h*i));for(var P=0;P<j.length;P++){var L=a5.GZ(I,j[P]);
if(L<_){_=L;v=P}}this.ahC=v;if(v==0)this.Ka(w)};ia.prototype.Ka=function(w){var I=O.cz(w,this.U),E=this.ahC,X=[],o=I.x-this.Ae,i=I.y-this.Ae,h=this.Ae*.85;
if(E==0){var k=180*Math.atan2(-i,o)/Math.PI,x=90-90*Math.min(1,Math.sqrt(o*o+i*i)/h);if(w.shiftKey)k=Math.round(k/15)*15;
X=[Math.round(k),Math.round(x)]}else X=[null,null,Math.max(.01,Math.min(1,Math.sqrt(o*o+i*i)/h))];this.B(X);
this.c(new e9(W.E.r,!1))};ia.prototype.Ki=function(w){this.c(new e9(W.E.r,!1));O.Gk(window,this.D7);
O.$x(window,this.cQ)};function g0(w,I){cu.call(this);this.DH=0;this.vz=I;this.m=O.S("span","fitem angleinput");
if(w){this.cv=O.S("label","flabel");this.XN=w;this.m.appendChild(this.cv)}this.U=O.S("canvas","gsicon");
this.vu=this.U.getContext("2d");O.c_(this.U,I,I);this.m.appendChild(this.U);O.aa(this.U);O.KO(this.U,this.Tu.bind(this));
this.D7=this.Ka.bind(this);this.cQ=this.Ki.bind(this);this.B(0)}g0.prototype=new cu;g0.prototype.f=function(){if(this.XN)this.cv.textContent=df.get(this.XN)+":"};
g0.prototype.vw=function(w){this.cv.textContent=w};g0.prototype.Q=function(){return this.DH};g0.prototype.akk=function(w){var I=this.DH,E=Math.floor(I/3),X=I-E*3;
X=Math.max(0,Math.min(2,X+w.x));E=Math.max(0,Math.min(2,E+w.y));this.B(E*3+X)};g0.prototype.B=function(w){this.DH=w;
var I=this.U.width,E=Math.floor(w/3),X=w-3*E,o=(X+.5)*I/3,i=(E+.5)*I/3,h=this.vu,k=[.5,Math.round(I/3)+.5,Math.round(2*I/3)+.5,I-.5];
h.clearRect(0,0,I,I);var x=this.vz<30;h.setLineDash([]);h.strokeStyle=x?"rgba(0,0,0,0.5)":"#000000";
h.beginPath();for(var P=0;P<4;P++){var j=k[P];h.moveTo(j,0);h.lineTo(j,I);h.moveTo(0,j);h.lineTo(I,j)}h.stroke();
if(w==9)return;if(!x){h.setLineDash([1,2]);var v=I*.53,_=Math.max(0,Math.min(I-v,o-v/2)),L=Math.max(0,Math.min(I-v,i-v/2));
h.strokeRect(Math.round(_)+.5,Math.round(L)+.5,Math.round(v),Math.round(v))}h.fillStyle="#000000";h.beginPath();
h.arc(o,i,I/8,0,Math.PI*2);h.fill()};g0.prototype.Tu=function(w){O.rv(document.body,this.D7);O.M$(document.body,this.cQ);
this.Ka(w)};g0.prototype.Ka=function(w){var I=O.cz(w,this.U),E=Math.max(0,Math.min(2,Math.floor(I.x/(this.vz/3)))),X=Math.max(0,Math.min(2,Math.floor(I.y/(this.vz/3))));
this.B(X*3+E)};g0.prototype.Ki=function(w){this.c(new e9(W.E.r,!1));O.Gk(document.body,this.D7);O.$x(document.body,this.cQ)};
function j4(eS){cu.call(this);this.m=O.S("span","fitem cswatch");this.ax5=0;this.wq=[];this.AJ=[];var w=this.aib.bind(this);
for(var P=0;P<eS;P++){this.wq.push(0);var I=O.S("span","colorsample");I.addEventListener("click",w,!1);
this.AJ.push(I);this.m.appendChild(I)}var E=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],X=Math.min(eS,E.length);
for(var P=0;P<X;P++)this.wq[P]=E[P];this.Fm()}j4.prototype=new cu;j4.prototype.aib=function(w){this.ax5=this.AJ.indexOf(w.currentTarget);
this.c(new e9(W.E.r))};j4.prototype.Q=function(){return this.wq[this.ax5]};j4.prototype.B=function(w){var I=this.wq,E=I.indexOf(w);
if(E!=-1)I.splice(E,1);else I.pop();I.unshift(w);this.Fm()};j4.prototype.Fm=function(){for(var P=0;P<this.wq.length;
P++){this.AJ[P].setAttribute("style","background-color:#"+Q.mv(this.wq[P]))}};function fs(w){cu.call(this);
this.yf={o:0,P:0,L:0};this.ZL=w;this.m=O.S("span","fitem colorsample");this.m.addEventListener("click",this.pA.bind(this),!1)}fs.prototype=new cu;
fs.prototype.f=function(){};fs.prototype.pA=function(w){var I=this.yf;this.c(new e9("click"));var E=new e9(W.E.Z,!0);
E.data={d:W.t.GV,ei:"colorpicker",vA:I.o<<16|I.P<<8|I.L,EH:this.G7.bind(this),MC:this.ZL};this.c(E)};
fs.prototype.G7=function(w){this.xz(w);this.c(new e9(W.E.r))};fs.prototype.M6=function(){this.pA(null)};
fs.prototype.a1G=function(){var w=this.yf;return w.o<<16|w.P<<8|w.L};fs.prototype.Q=function(){return Q.N.Ex(this.yf)};
fs.prototype.xz=function(w){this.yf={o:w>>16&255,P:w>>8&255,L:w&255};this.a1j()};fs.prototype.B=function(w){this.yf=Q.N.BL(w);
this.a1j()};fs.prototype.a1j=function(){var w=this.yf,I=w.o,E=w.P,X=w.L,o=I<<16|E<<8|X;this.m.setAttribute("style","background-color:#"+Q.mv(o))};
function cA(){cu.call(this);this.jo=!1;this.yw=20;this.a59=10;this.uc=0;this.jo=!1;this.MX={o:255,P:0,L:0};
this.qA={o:0,P:0,L:0};this.m=O.S("canvas");this.xn();O.aa(this.m);O.KO(this.m,this.Vz.bind(this))}cA.prototype=new cu;
cA.prototype.a26=function(w){if(this.jo==w)return;this.jo=w;this.xn()};cA.prototype.f=function(){};cA.prototype.a6d=function(w,I){function E(X){return{o:X>>16&255,P:X>>8&255,L:X&255}}if(w!=null)this.MX=E(w);
if(I!=null)this.qA=E(I);this.xn()};cA.prototype.Vz=function(w){var I=O.cz(w,this.m),E=I.x*O.V(),X=I.y*O.V(),o=this.yw,i=this.a59,h=0;
if(E<i&&X<i){h=0}else if(E>o-i&&X>o-i){h=1}else if(E<i){h=2}else{h=3}this.M6(h)};cA.prototype.M6=function(w){var I=new e9(W.E.Z,!0);
if(w>1)I.data={d:W.t.e1,GT:ik.xa,ns:w};else{this.uc=w;var E=w==0?this.MX:this.qA;I.data={d:W.t.GV,ei:"colorpicker",vA:E.o<<16|E.P<<8|E.L,EH:this.G7.bind(this)}}this.c(I)};
cA.prototype.G7=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.e1,GT:ik.xa,ns:this.uc,k:w};this.c(I)};
cA.prototype.xn=function(){var w=this.m,I=w.getContext("2d"),E=O.V(),o="#aaaaaa",i=.62;O.c_(w,34,34);
w.setAttribute("style",w.getAttribute("style")+";cursor:pointer");var X=this.yw=w.width,h=this.a59=Math.round(X*i);
function k(n,a){var T=n.o,g=n.P,D=n.L;if(a)T=g=D=Math.round(Q.XP(T,g,D));var b=T<<16|g<<8|D;return"#"+Q.mv(b)}function x(I,n,a,T,g,D){I.beginPath();
if(T>=D*2&&g>=D*2){I.moveTo(n+D,a);I.lineTo(n+T-D,a);I.quadraticCurveTo(n+T,a,n+T,a+D);I.lineTo(n+T,a+g-D);
I.quadraticCurveTo(n+T,a+g,n+T-D,a+g);I.lineTo(n+D,a+g);I.quadraticCurveTo(n,a+g,n,a+g-D);I.lineTo(n,a+D);
I.quadraticCurveTo(n,a,n+D,a)}I.closePath()}function j(n,a,h,T,g){I.strokeStyle=g?g:"black";I.fillStyle=T;
x(I,n+.5,a+.5,h-1,h-1,h*.2);I.fill();I.stroke()}j(X-h,X-h,h,k(this.qA,this.jo));j(0,0,h,k(this.MX,this.jo));
var v=X-h,_=Math.round(v*i);j(X-_,v-_,_,"white",o);j(X-v,0,_,"black",o);I.save();I.fillStyle=o;I.translate(0,X);
I.rotate(-Math.PI/2);v=X-h;var L=Math.round(v*.28),U=Math.round(v*.25);for(var P=0;P<2;P++){I.fillRect(L,L,v-L,1);
I.beginPath();I.moveTo(v-U,L+.5-U);I.lineTo(v,L+.5);I.lineTo(v-U,L+.5+U);I.closePath();I.fill();I.transform(0,1,1,0,0,0)}I.restore()};
function ix(w){k9.call(this,w,!1,"brushbutton nopadding",19,10,ik.nz,!0);var I=this.a5P;O.vK(I,"flexrow");
var E=O.S("div");I.appendChild(E);var X=O.S("div");I.appendChild(X);X.setAttribute("style","margin-left:8px");
this.Q0=new ia(null,null,!0);this.Q0.h(W.E.r,this.A3,this);E.appendChild(this.Q0.m);this.SB=new fO([12,14,0],1,1e3," px",0,!0);
this.SB.h(W.E.r,this.A3,this);X.appendChild(this.SB.m);this.D1=new fO([12,17],0,100,"%");this.D1.h(W.E.r,this.A3,this);
X.appendChild(this.D1.m);this.oD=new fY(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.oD.h(W.E.r,this.A3,this);X.appendChild(this.oD.m)}ix.prototype=new k9;ix.prototype.VB=function(){var w=["pencil","trees"];
for(var P=0;P<w.length;P++)w[P]="brushes/"+w[P]+".abr";return w};ix.prototype.B=function(w,I,E){this.bw=JSON.parse(JSON.stringify(w));
var X=Math.floor(20*O.V()),o=Math.floor(36*O.V()),i=Math.floor(24*O.V()),h=cn.e6(w,I,E,X,i,o);this.ds.setAttribute("src",h);
O.Pd(this.ds,o,i);var k=w.Brsh.v;this.SB.B(k.Dmtr.v.val);if(k.Hrdn!=null){this.D1.GR();this.D1.B(k.Hrdn.v.val)}else this.D1.RX();
if(k.Angl!=null)this.Q0.B([k.Angl.v.val]);if(k.Rndn!=null)this.Q0.B([null,null,k.Rndn.v.val/100]);var x=[!1,!1];
if(w.opVr)x[0]=w.opVr.v.bVTy.v==2;if(w.szVr)x[1]=w.szVr.v.bVTy.v==2;this.oD.B(x)};ix.prototype._Z=function(){return{list:[{t:"Objc",v:this.Q()}],Ar:[],a6:[]}};
ix.prototype.Q=function(){return this.bw};ix.prototype.LA=function(){if(!this.NR)return;var w=[],I=[],E=this.GM,X=Math.floor(33*O.V()),o=Math.floor(40*O.V());
for(var P=0;P<E.list.length;P++){var i=E.list[P].v,h=cn.e6(i,E.Ar,E.a6,X,o);w.push(h);I.push(i.Nm.v.split("=").pop())}this.Es.fg(w,I,X,o);
this.NR=!1};ix.prototype.dr=function(w){var I=this.GM;this.B(I.list[this.Es.Q()[0]].v,I.Ar,I.a6);this.c(new e9(W.E.r))};
ix.prototype.f=function(){k9.prototype.f.call(this);this.Q0.f();this.SB.f();this.D1.f()};ix.prototype.A3=function(w){var I=this.GM,E=this.bw,X=E.Brsh.v;
X.Dmtr.v.val=this.SB.Q();if(X.Hrdn!=null)X.Hrdn.v.val=this.D1.Q();if(X.Angl!=null)X.Angl.v.val=this.Q0.Q()[0];
if(X.Rndn!=null)X.Rndn.v.val=Math.round(this.Q0.Q()[2]*100);if(w.target==this.oD){var o=this.oD.Q(),i=["opVr","szVr"],h=["usePaintDynamics","useTipDynamics"];
for(var P=0;P<2;P++){var k=i[P];if(E[k]==null)E[k]=JSON.parse(j8.Uz.gG[k]);E[k].v.bVTy.v=o[P]?2:0;if(o[P])E[h[P]].v=!0}j8.Uz.aw3(E)}this.B(E,I.Ar,I.a6);
this.c(new e9(W.E.r))};function iM(w){k9.call(this,w,!0,"contourbutton",17,10.5,ik.ti)}iM.prototype=new k9;
iM.prototype.dr=function(w){this.B(this.GM[w.target.Q()]);this.c(new e9(W.E.r))};iM.prototype.hM=function(w){var I=new e9(W.E.Z,!0);
I.data={d:W.t.GV,ei:"contoureditor",mz:this.bw,response:this.as5.bind(this)};this.c(I)};iM.prototype.as5=function(w){this.B(w);
this.c(new e9(W.E.r))};iM.prototype.LA=function(){if(!this.NR)return;var w=Math.floor(38*O.V()),I=Math.floor(38*O.V()),E=[],X=[],o=this.GM;
for(var P=0;P<o.length;P++){X.push(o[P].Nm?o[P].Nm.v:"");E.push(Q.sD.e6(o[P].Crv.v,w,I))}this.Es.fg(E,X,w,I);
this.NR=!1};iM.prototype.B=function(w){this.bw=JSON.parse(JSON.stringify(w));var I=this.bw.Crv.v;for(var P=0;
P<I.length;P++)if(I[P].v.Cnty==null)I[P].v.Cnty={t:"bool",v:!0};this.YY()};iM.prototype.YY=function(){var w=Math.floor(30*O.V()),I=Math.floor(30*O.V()),E=Q.sD.e6(this.bw.Crv.v,w,I);
this.ds.setAttribute("src",E);O.Pd(this.ds,w,I)};iM.prototype.Q=function(){return JSON.parse(JSON.stringify(this.bw))};
function iZ(w){cu.call(this);this.jE=null;this.m6=null;this.j$=null;this.k5=null;this.arV=[];this.awh=[];
this.m=O.S("span","fitem fillbutton");this.Lp=new cu;this.Lp.m=O.S("div","floatcont form");this.Lp.m.setAttribute("style","width: 21em;");
this.Lp.parent=this;this.kv=w;this.cv=this.cv=O.S("label","flabel");this.m.appendChild(this.cv);this.U=O.S("canvas");
this.vu=this.U.getContext("2d");this.a4T=null;this.m.appendChild(this.U);O.KO(this.U,this.Sd.bind(this));
this.m5=new f$([12,66],["","Color","Grad","Patt"]);this.Lp.m.appendChild(this.m5.m);this.m5.h(W.E.r,this.JX,this);
this.Lp.m.appendChild(O.S("hr"));this.awT=O.S("span");this.lo=new fs(!1);this.lo.parent=this.Lp;this.lo.h(W.E.r,this.JX,this);
this.FX=new j4(10);this.FX.h(W.E.r,this.JX,this);this.FY=O.S("div","marged hiline");this.FY.appendChild(this.lo.m);
O.D2(this.FY);this.FY.appendChild(this.FX.m);this.QC=new ew("GrFl",!0);this.QC.parent=this.Lp;this.QC.h(W.E.r,this.JX,this);
this.ub=O.S("div","marged hiline");var I="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var P=0;
P<I.length;P++){var E=this.QC.CX[I[P]].m;this.ub.appendChild(E)}this.C1=new ew("patternFill",!0);this.C1.parent=this.Lp;
this.C1.h(W.E.r,this.JX,this);this.f0=O.S("div","marged hiline");var I=["Ptrn","Angl","Scl","Algn","phase"];
for(var P=0;P<I.length;P++){var E=this.C1.CX[I[P]].m;this.f0.appendChild(E)}}iZ.prototype=new cu;iZ.prototype.eU=function(w,I){var E=aJ.Rt(w,I);
if(E!=null)this.FX.B(E);if(I==ik.cc){this.arV=[];this.awh=[];if(this.jE)this.B(this.j$,this.Q(),this.jE)}this.m6=w;
this.QC.eU(w,I);this.C1.eU(w,I)};iZ.prototype.f=function(){this.cv.textContent=df.get(this.kv)+": ";
this.m5.f();this.lo.f();this.QC.f();this.C1.f()};iZ.prototype.JX=function(w){var I=w.currentTarget;if(I==this.m5){var E=this.m5.Q(),X={BM:E,Pz:this.jE[E]};
if(E>0&&X.Pz==null)X.Pz=JSON.parse(JSON.stringify(hL.Bx[E-1]));if(this.jE)this.B(this.j$,X,this.jE)}if(I==this.FX)this.lo.xz(I.Q());
this.c(new e9(W.E.r,!1))};iZ.prototype.Sd=function(w){if(O.NJ(this.Lp.m))return;w.stopPropagation();
var I=this.U.getBoundingClientRect(),E=new e9(W.E.Z,!0);E.data={d:W.t.DI,E5:this.Lp,x:I.left,y:I.top+I.height+4};
this.c(E)};iZ.prototype.B=function(w,I,E){this.jE=E;this.j$=w;var X=[[13,1,0],[13,0],[12,37],[12,62]],o=this.arV,i=this.awh,h=!1,v;
for(var P=0;P<4;P++){var k={BM:P,Pz:E[P]},x=iZ.a1L(k);if(i[P]==x)continue;h=!0;var j=iZ.a9v(null,k,this.m6,this.j$,22,22,!1);
o[P]="<img width=\"22\" height=\"22\" src=\""+j+"\" />";i[P]=x}if(h)this.m5.Zq(o,X);this.m5.B(I.BM);
var x=iZ.a1L(I);if(x!=this.a4T)iZ.a9v(this.vu,I,this.m6,this.j$,30,23,!0);this.a4T=x;var _=I.BM;if(_==0){v=this.awT}if(_==1){this.lo.B(I.Pz.Clr.v);
v=this.FY}if(_==2){this.QC.update(w,I.Pz);v=this.ub}if(_==3){this.C1.update(w,I.Pz);v=this.f0}if(v!=this.k5){if(this.k5!=null){this.Lp.m.removeChild(this.k5)}this.Lp.m.appendChild(v);
this.k5=v}};iZ.prototype.Q=function(){var w={BM:this.m5.Q()};if(w.BM==1){w.Pz=JSON.parse(JSON.stringify(hL.Bx[0]));
w.Pz.Clr.v=this.lo.Q()}if(w.BM==2){w.Pz=this.QC.Q()}if(w.BM==3){w.Pz=this.C1.Q()}return w};iZ.a1L=function(w){var I=w.BM,E=w.Pz,X="empty";
if(I==1){X=Q.N.BL(E.Clr.v);X=X.o+","+X.P+","+X.L}if(I==2)X=JSON.stringify(E.Grad.v);if(I==3)X=E.Ptrn.v.Idnt.v;
return X};iZ.a9v=function(w,I,E,X,o,i,h){if(w==null)w=iZ.vu;var k=Math.floor(o*O.V()),x=Math.floor(i*O.V()),j=w.canvas,v;
j.width=k;j.height=x;O.Pd(j,k,x);var _=I.BM;if(_==0){w.fillStyle="#ffffff";w.fillRect(0,0,k,x);w.strokeStyle="#ff0000";
w.lineWidth=2;w.moveTo(0,0);w.lineTo(k,x);w.moveTo(0,x);w.lineTo(k,0);w.stroke()}if(_==1){var L=I.Pz.Clr.v;
L=Q.N.BL(L);w.fillStyle="#"+Q.mv(L.o<<16|L.P<<8|L.L);w.fillRect(0,0,k,x)}if(_==2){q.O5.e6(I.Pz.Grad.v,k,x,0,E.Ht,E.Mw,j)}if(_==3){var U=I.Pz.Ptrn.v,n;
if(X!=null)n=aQ.O9(U,X.add.Patt);if(n==null)n=aQ.O9(U,E.IK);gw.e6(n,k,x,j)}if(h){w.beginPath();w.strokeStyle="#000000";
w.fillStyle="#ffffff";w.lineWidth=2;var a=k*.7,T=Math.floor(x*.7),g=7*O.V();w.moveTo(a,T);w.lineTo(a+g,T);
w.lineTo(a+g/2,T+g/2);w.closePath();w.stroke();w.fill()}if(w==iZ.vu)return j.toDataURL()};iZ.vu=O.S("canvas").getContext("2d");
function gw(w){k9.call(this,w,!1,"patternbutton",18,10,ik.cc);this.aJ=null}gw.prototype=new k9;gw.prototype.dr=function(w){var I=this.GM[this.Es.Q()];
this.bw={classID:"Ptrn",Nm:{t:"TEXT",v:I.name},Idnt:{t:"TEXT",v:I.id}};this.c(new e9(W.E.r));this.YY()};
gw.prototype.LA=function(){if(!this.NR)return;var w=this.GM,I=Math.floor(34*O.V()),E=Math.floor(34*O.V()),X=[],o=[];
for(var P=0;P<w.length;P++){X.push(gw.e6(w[P],I,E));o.push(w[P].name)}this.Es.fg(X,o,I,E);this.NR=!1};
gw.prototype.B=function(w,I){if(this.bw&&w.Idnt.v==this.bw.Idnt.v)return;this.bw=JSON.parse(JSON.stringify(w));
this.YY(I)};gw.prototype.Q=function(){return JSON.parse(JSON.stringify(this.bw))};gw.prototype._Z=function(){return this.aJ?[this.aJ]:[]};
gw.prototype.YY=function(w){var I=Math.floor(50*O.V()),E=Math.floor(50*O.V()),X;if(w!=null)X=aQ.O9(this.bw,w.add.Patt);
if(X==null)X=aQ.O9(this.bw,this.GM);this.aJ=X;var o=gw.e6(X,I,E);this.ds.setAttribute("src",o);O.Pd(this.ds,I,E)};
gw.U=O.S("canvas","");gw.e6=function(w,I,E,X){if(X==null)X=gw.U;var o=X.getContext("2d");X.width=I;X.height=E;
if(w){var i=w.IZ[1],h=i.q,k=i.w,x=w.IZ[0],j=Math.min(I/h,E/k),v=j;if(v*h<2)v=2/h;var _=j;if(_*k<2)_=2/k;
var L=q.R.oI([x,i],new am(v,0,0,_,0,0),v>2),U=L.rect.q,n=L.rect.w,a=o.createImageData(U,n);Q.QM(L.buffer,a.data);
o.putImageData(a,Math.floor((I-U)/2),Math.floor((E-n)/2))}return X.toDataURL()};function ae(w,I,E){if(I==null)I=24.2;
if(E==null)E=17;k9.call(this,w,!1,"patternbutton",I,E,ik.uH);this.J5=""}ae.prototype=new k9;ae.prototype.dr=function(w){this.bw=JSON.parse(JSON.stringify(this.GM[0][this.Es.Q()[0]]));
this.c(new e9(W.E.r))};ae.prototype.LA=function(){var w=this.GM;if(w==null||!this.NR)return;var I=Math.floor(50*O.V()),E=Math.floor(50*O.V()),X=[],o=[];
for(var P=0;P<w[0].length;P++){X.push(ae.e6(this.GM[0][P].C$,I,E,this.GM[1]));o.push(w[0][P].nV.Nm.v.split("=").pop())}this.Es.fg(X,o,I,E);
this.NR=!1};ae.prototype.B=function(w,I,E,X){var o=JSON.stringify(w.C$)+","+E+","+X;if(this.J5!=o){this.J5=o;
this.bw=JSON.parse(JSON.stringify(w));this.YY(I,E,X)}};ae.prototype.Q=function(){return JSON.parse(JSON.stringify(this.bw))};
ae.prototype.YY=function(w,I,E){var X=Math.floor(68*O.V()),o=Math.floor(68*O.V()),i=ae.e6(this.bw.C$,X,o,w?w:this.GM[1],I,E);
this.ds.setAttribute("src",i);O.Pd(this.ds,X,o)};ae.e6=function(w,I,E,X,o,i){var h=new hg;h.q=I;h.w=E;
h.buffer=Q.$(I*E*4);h.add.Patt=X;h.Vh(o==null?90:o);h.rY(i==null?30:i);var k=new dC(0,0,Math.round(I*.5),Math.round(E*.5));
k.x=Math.round((I-k.q)/2);k.y=Math.round((E-k.w)/2);var x=h.XY();x.rect=k;x.buffer=Q.$(k.A()*4);Q.Ez(x.buffer,4284045657);
aQ.afi(w,x,.5*100);h.b.push(x);h.sI();h.M();var j=R.U7;R.U7=!1;h.vL();var v=h.sQ();R.U7=j;var _=gt.du(v.buffer,h.q,h.w);
return _};function gu(w){k9.call(this,null,!1,"tpresetbutton",18,24,ik.Q6,!0);O.yo(this.m,"fitem");this.Es.xy(1);
this.id=w;this.YY();this.d.style.overflow="hidden";this.Rj=new em([15,7,9]);this.Rj.B(!0);this.Rj.h(W.E.r,this.agS,this);
this.aP.appendChild(this.Rj.m)}gu.prototype=new k9;gu.prototype.akP=function(w){if(this.id==w)return;
this.id=w;this.Kn(this.GM)};gu.prototype.dr=function(w){var I=this.GM[this.Es.Q()],E=new e9(W.E.Z,!0);
E.data={d:W.t.e1,kl:"set",GT:ik.Q6,VV:I};this.c(E)};gu.prototype.f=function(){k9.prototype.f.call(this);
this.Rj.f()};gu.prototype.agS=function(){this.NR=!0;this.LA()};gu.prototype.LA=function(){if(!this.NR)return;
var w=Math.floor(16*O.V()),I=Math.floor(16*O.V()),E=[],X=[],o=this.GM,i=this.Rj.Q();for(var P=0;P<o.length;
P++){var h=q.ais(o[P]);if(!i||h==this.id){X.push(o[P][0]?o[P][0].split("=").pop():"");E.push(h==-1?"":PIMG[q.Jk[h][0]])}else{E.push(null);
X.push(null)}}this.Es.fg(E,X,w,I);this.NR=!1};gu.prototype.YY=function(){var w=this.ds;w.setAttribute("src",PIMG[q.Jk[this.id][0]]);
O.vK(w,"toolicon")};gu.prototype._Z=function(){return null};gu.R3={};gu.e6=function(w,I,E){var X=gu.vu,o=gu.R3,i=Q.mv(w.o<<16|w.P<<8|w.L);
if(o[i])return o[i];if(X==null){var h=O.S("canvas");X=gu.vu=h.getContext("2d")}var h=X.canvas;h.width=I;
h.height=E;X.fillStyle="#"+i;X.fillRect(0,0,I,E);var k=o[i]=h.toDataURL();return k};function gQ(w,I,E){cu.call(this);
this.m=O.S("span","fitem curveeditor");this.cn=null;this.akQ=0;this.JE="";this.mode=0;this.bj=w;this.a3E=I;
this.ajS=E;this.DU=null;this.Wl=null;this.avV=0;this.auH=0;this.AW=new a5;this.H2=this.Ka.bind(this);
this.qO=this.Ki.bind(this);this.vz=256;this.U=O.S("canvas");this.vu=this.U.getContext("2d");O.aa(this.U);
this.m.appendChild(this.U);this.hi(256,256);O.KO(this.U,this.Tu.bind(this));this.coords=O.S("div");this.coords.setAttribute("style","width:250px");
this.m.appendChild(this.coords);var X=this.vV=E?100:255,o=null;this.N3=new ic("X (in)",0,X,o,0,!1,!0);
this.pZ=new ic("Y (out)",0,X,o,0,!1,!0);this.UM=new em([19,3,0]);this.N3.h(W.E.r,this.sn,this);this.pZ.h(W.E.r,this.sn,this);
this.UM.h(W.E.r,this.sn,this);this.coords.appendChild(this.N3.m);if(E)this.coords.appendChild(this.UM.m);
this.coords.appendChild(this.pZ.m)}gQ.prototype=new cu;gQ.prototype.f=function(){this.UM.f();this.N3.f();
this.pZ.f()};gQ.prototype.hi=function(w,I){this.vz=Math.round(w);this.vu.resetTransform();O.c_(this.U,this.vz,this.vz,this.vu);
this.vu.scale(this.vz/256,this.vz/256);if(this.DU)this.qF()};gQ.prototype.sn=function(w){var P=this.adQ(),I=this.DU[P],E=255/this.vV;
I.v.Hrzn.v=this.N3.Q()*E;I.v.Vrtc.v=this.pZ.Q()*E;if(this.ajS)I.v.Cnty.v=this.UM.Q();this.DU.sort(function(X,o){return X.v.Hrzn.v-o.v.Hrzn.v});
this.qF();this.c(new e9(W.E.r))};gQ.prototype.B=function(w,P){var I=JSON.stringify(w);if(I==JSON.stringify(this.DU))return;
this.mode=w.length==256?1:0;this.DU=JSON.parse(I);if(P!=null)this.Wl=this.DU[P];this.qF()};gQ.prototype.NC=function(w,I,E){this.cn=w;
this.akQ=I;this.JE=E;this.qF()};gQ.prototype.Q=function(){return JSON.parse(JSON.stringify(this.DU))};
gQ.prototype.adQ=function(){return this.DU.indexOf(this.Wl)};gQ.prototype.Tu=function(w){var I=256/this.vz,E=O.cz(w,this.U);
E.x*=I;E.y*=I;var X=E.x,o=256-E.y;if(this.bj){var i=X;X=256-o;o=i}this.AW.eo(X,o);if(this.mode==0){var h=0,k=1e9,L;
for(var P=0;P<this.DU.length;P++){var x=this.DU[P].v,j=x.Hrzn.v-X,v=x.Vrtc.v-o,_=Math.sqrt(j*j+v*v);
if(_<k){k=_;h=P}}if(k<15)L=this.DU[h];else{L=Q.sD.DA(X,o,!0);this.DU.push(L);this.DU.sort(function(U,n){return U.v.Hrzn.v-n.v.Hrzn.v})}this.Wl=L;
this.auH=this.DU.slice(0)}O.rv(document.body,this.H2);O.M$(document.body,this.qO);this.Ka(w)};gQ.prototype.Ka=function(w){var I=256/this.vz,E=O.cz(w,this.U);
E.x*=I;E.y*=I;var X=E.x,o=256-E.y;if(this.bj){var i=X;X=256-o;o=i}if(this.mode==0){var h=this.DU,k=this.Wl,x=this.auH,j=x.indexOf(k),v=h.indexOf(k)!=-1,_=x.length-1,L=X;
if(j==0){L=Math.max(0,Math.min(x[1].v.Hrzn.v-1,X))}else if(j==_){L=Math.min(255,Math.max(x[_-1].v.Hrzn.v+1,X))}else{var U=X<0||X>255||o<0||o>255;
if(X<=x[j-1].v.Hrzn.v||X>=x[j+1].v.Hrzn.v)U=!0;if(!U&&!v)h.splice(j,0,k);if(U&&v)h.splice(j,1)}if(this.a3E&&(j==0||j==x.length-1)){}else k.v.Hrzn.v=Math.round(L);
k.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(o)))}else{X=Math.round(X);o=Math.round(o);X=Math.max(0,Math.min(255,X));
o=Math.max(0,Math.min(255,o));var n=this.AW.x,a=X,T=this.AW.y,g=o;if(X<this.AW.x){a=n;n=X;g=T;T=o}this.DU[X]=o;
if(n!=a)for(var D=n;D<=a;D++)this.DU[D]=Math.round(T+(D-n)*(g-T)/(a-n))}this.AW.eo(X,o);this.qF();this.c(new e9(W.E.r))};
gQ.prototype.Ki=function(w){O.Gk(document.body,this.H2);O.$x(document.body,this.qO);this.c(new e9(W.E.r))};
gQ.prototype.qF=function(){var w=this.vu,I=this.U;w.fillStyle="#ffffff";w.fillRect(0,0,256,256);var E=256/I.width;
if(this.cn){w.save();w.translate(0,256);w.scale(1,-1);bt.a45(w,this.cn,5700/this.akQ,this.JE);w.restore()}w.strokeStyle="#aaaaaa";
w.lineWidth=1*E;w.beginPath();for(var P=1;P<4;P++){var X=(Math.floor(64*P/E)+.5)*E;w.moveTo(0,X);w.lineTo(255,X);
w.moveTo(X,0);w.lineTo(X,255)}w.stroke();if(this.bj){w.save();w.transform(0,1,-1,0,256,0)}if(this.mode==0){var o=this.DU,i=Q.sD.X_(o,256);
w.strokeStyle="#000000";w.beginPath();w.moveTo(0,255.5-i[0]);for(var P=0;P<256;P++)w.lineTo(P,255.5-i[P]);
w.stroke();w.lineWidth=2*E;for(var P=0;P<o.length;P++){var h=o[P].v;w.fillStyle=this.Wl==o[P]?"#333":"#fff";
w.beginPath();w.moveTo(h.Hrzn.v,255.5-h.Vrtc.v);w.arc(h.Hrzn.v,255.5-h.Vrtc.v,5*E,0,2*Math.PI);w.stroke();
w.fill()}}else{var i=this.DU;w.strokeStyle="#000000";w.beginPath();w.moveTo(0,255.5-i[0]);for(var P=0;
P<256;P++)w.lineTo(P,255.5-i[P]);w.stroke()}if(this.bj)w.restore();var P=this.adQ();this.coords.className=P==-1?"disabled":"";
if(P==-1)return;var h=this.DU[P].v,k=255/this.vV;this.N3.B(Math.round(h.Hrzn.v/k));this.pZ.B(Math.round(h.Vrtc.v/k));
if(h.Cnty)this.UM.B(h.Cnty.v)};function bt(w,I){cu.call(this);this.m=O.S("span","");this.Tt=new b4([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.Tt.h(W.E.r,this.xn,this);this.m.appendChild(this.Tt.m);O.D2(this.m);var E=O.S("div");this.m.appendChild(E);
E.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.U=O.S("canvas");var X=this.U;
E.appendChild(X);X.width=Math.round(w*O.V());X.height=Math.round(100*O.V());O.Pd(X,X.width,X.height);
X.style.display="block";this.vu=X.getContext("2d");this.cn=null;this.Zj=0;this.ak9=null;this.ao5=[];
this.nX=[];var o=["Mean:","Pixels:"],i=this.m;for(var P=0;P<o.length;P++){var h=new gJ(o[P]);this.ao5.push(h);
if(I)i.appendChild(h.m);var k=new gJ("hi");this.nX.push(k);if(I)i.appendChild(k.m);O.D2(i)}}bt.prototype=new cu;
bt.prototype.f=function(){this.Tt.f()};bt.prototype.xy=function(w){this.Tt.B(w);this.xn()};bt.prototype.B=function(w,I){this.cn=w;
this.ak9=I;this.xn()};bt.prototype.xz=function(w){if(w==this.Zj)return;this.Zj=w;this.xn()};bt.prototype.xn=function(){if(this.cn==null)return;
var w=this.U,I=this.vu,E=this.cn,X=this.ak9,o=this.Tt.Q(),i=6e3/E[4],h="#"+Q.mv(this.Zj),k=bt.a45;w.width=w.width;
I.setTransform(w.width/256,0,0,-w.height/100,0,w.height);I.globalCompositeOperation="lighter";if(o==0)k(I,E[0],i/3,h);
else if(o<4)k(I,E[o],i,h);else{k(I,E[1],i,"#ff0000");k(I,E[2],i,"#00ff00");k(I,E[3],i,"#0000ff")}I.setTransform(1,0,0,1,0,0);
if(X!=null){if(o==4)o=0;var x=0;for(var P=0;P<256;P++)x+=P*E[o][P];if(o==0)x/=3;this.nX[0].B((x/X).toFixed(1)+"");
this.nX[1].B(X+"")}};bt.a45=function(w,I,E,X){w.beginPath();w.moveTo(0,0);for(var o=0;o<256;o++)w.lineTo(o,I[o]*E);
w.lineTo(256,0);w.closePath();w.fillStyle=X;w.fill()};function bp(w,I){cu.call(this);this.Yk={o:0,P:0,L:0};
if(Math.abs(w-256/O.V())<10)w=256/O.V();var E=this.m=O.S("div","flexrow"),X=this.adE=O.S("div");E.appendChild(X);
this.V$=new a5;this._1=new a5;this.D7=this.arG.bind(this);this.cQ=this.arX.bind(this);this.U=O.S("canvas","");
this.vu=this.U.getContext("2d");this.U.width=this.U.height=256;this.adI=this.vu.getImageData(0,0,256,256);
this.a3t=-1;this.adc="";O.aa(this.U);O.KO(this.U,this.ac5.bind(this));X.appendChild(this.U);this.ahX=this.aft.bind(this);
this.aqf=this.a5e.bind(this);this.nf=O.S("canvas","");this.$V=this.nf.getContext("2d");this.nf.width=20;
this.nf.height=256;this.a3n=this.$V.getImageData(0,0,20,256);bp.ae2(this.a3n.data,20,256);O.aa(this.nf);
O.KO(this.nf,this.ads.bind(this));E.appendChild(this.nf);this.U.setAttribute("style","width:"+w+"px; height:"+w+"px");
this.nf.setAttribute("style","width:16px; height:"+w+"px");this.Qx=new em("Web Colors\u2001");this.Qx.h(W.E.r,this.update,this);
this.W8=new em("CMYK gamut");this.W8.h(W.E.r,this.update,this);if(I){O.D2(X);X.appendChild(this.Qx.m);
X.appendChild(this.W8.m)}}bp.prototype=new cu;bp.prototype.hi=function(w,I){this.U.style.width=this.adE.style.width=w-16+"px"};
bp.prototype.B=function(w){if(this.Qx.Q()){var I=JSON.parse(JSON.stringify(w));bp.U2(I);var E=this.Q();
if(I.o==E.o&&I.P==E.P&&I.L==E.L)w=this.Yk}this.Yk=w;this.update()};bp.prototype.Q=function(){var w=JSON.parse(JSON.stringify(this.Yk));
if(this.Qx.Q())bp.U2(w);return w};bp.prototype.update=function(){var w=this.Yk,I=Q.h_(w.o,w.P,w.L);if(I.P$==0)I.Ls=this.V$.x/255;
if(I.Ls==0||I.P$==0)I.Ns=(255-this.Uz(this._1.y))/255;if(I.P$!=0)this.V$.x=I.Ls*255;this.V$.y=(1-I.P$)*255;
this._1.y=(1-I.Ns)*255;var E=this.adI,X=this.Qx.Q(),o=this.W8.Q(),i=X+","+o;if(Math.abs(I.Ns-this.a3t)>.002||this.adc!=i){this.a4r(E.data,256,256,I.Ns,X,o);
this.a3t=I.Ns;this.adc=i}var h=this.vu;h.putImageData(E,0,0);h.strokeStyle="#000000";h.beginPath();h.arc(this.V$.x+1,this.V$.y+1,5,0,2*Math.PI);
h.stroke();h.strokeStyle="#ffffff";h.beginPath();h.arc(this.V$.x,this.V$.y,5,0,2*Math.PI);h.stroke();
E=this.a3n;h=this.$V;h.putImageData(E,0,0);h.strokeStyle="#ffffff";h.beginPath();h.moveTo(0,this._1.y);
h.lineTo(20,this._1.y);h.lineWidth=2;h.stroke()};bp.U2=function(w){w.o=~~(.5+w.o*5)*.2;w.P=~~(.5+w.P*5)*.2;
w.L=~~(.5+w.L*5)*.2};bp.prototype.a4r=function(w,I,E,X,o,i){var h=1/I,k=1/E;for(var x=0;x<E;x++)for(var j=0;
j<I;j++){var v=Q.Ww(X,j*h,(E-x-1)*k);if(o)bp.U2(v);var P=x*I+j<<2;w[P+0]=~~(v.o*255);w[P+1]=~~(v.P*255);
w[P+2]=~~(v.L*255);w[P+3]=255}if(i){var _=w.slice(0),L=hg.j_[0],U=hg.j_[1];ICC.U.applyLUT(U,L,_,_);for(var P=0;
P<w.length;P+=4){var n=w[P]-_[P],a=w[P+1]-_[P+1],T=w[P+2]-_[P+2],g=n*n+a*a+T*T;if(g>300)w[P]=w[P+1]=w[P+2]=200}}};
bp.ae2=function(w,I,E,X,o){if(X==null)X=1;if(o==null)o=0;var i=new Uint32Array(w.buffer);for(var h=0;
h<E;h++){var k=Q.Ww((1+X*(1-h/E)+o)%1,1,1),x=255<<24|k.L*255<<16|k.P*255<<8|k.o*255;for(var j=0;j<I;
j++)i[h*I+j]=x}};bp.prototype.ac5=function(w){O.rv(window,this.D7);O.M$(window,this.cQ);this.arG(w)};
bp.prototype.arX=function(w){O.Gk(window,this.D7);O.$x(window,this.cQ)};bp.prototype.arG=function(w){var I=O.cz(w,this.U);
I.x=I.x*(256/parseFloat(this.U.style.width));I.y=I.y*(256/parseFloat(this.U.style.height));this.V$.eo(this.Uz(I.x),this.Uz(I.y));
this.ZX()};bp.prototype.ZX=function(){this.Yk=this.a32();this.c(new e9(W.E.r))};bp.prototype.a32=function(){var w=Q.Ww((255-this.Uz(this._1.y))/255,this.fs(this.V$.x/255),this.fs(1-this.V$.y/255));
return{o:w.o,P:w.P,L:w.L}};bp.prototype.ads=function(w){O.rv(window,this.ahX);O.M$(window,this.aqf);
this.aft(w)};bp.prototype.a5e=function(w){O.Gk(window,this.ahX);O.$x(window,this.aqf)};bp.prototype.aft=function(w){var I=O.cz(w,this.nf);
I.y=I.y*(256/parseFloat(this.nf.style.height));this._1.eo(this.Uz(I.x),this.Uz(I.y));this.ZX()};bp.prototype.Uz=function(w){return Math.max(0,Math.min(255,w))};
bp.prototype.fs=function(w){return Math.max(0,Math.min(1,w))};function fr(w,I,E,X){var o=f$.Bk(I,X);
f$.call(this,w,o,E)}fr.prototype=new f$;function b_(){cu.call(this);this.Ff=null;this.ju=new hF;this.ju.h(W.E.r,this.a38,this);
this.ju.parent=this;this.IR=new ic([12,14,0],1,150,"px",0,!0);this.IR.h(W.E.r,this.gv,this);this.IR.parent=this;
this.K5=new ic([16,0],.01,100,"px",2,!0,null,5);this.K5.h(W.E.r,this.gv,this);this.K5.parent=this;this.R_=new em("Auto");
this.R_.h(W.E.r,this.gv,this);this.aq=new ic([16,1],-500,5e3,"%",0,!0);this.aq.h(W.E.r,this.gv,this);
this.aq.parent=this;this.TU=new ic("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.TU.h(W.E.r,this.gv,this);
this.TU.parent=this;this.tZ=new ic("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.tZ.h(W.E.r,this.gv,this);
this.tZ.parent=this;this.lH=new ic([16,2],-10,10,"px");this.lH.h(W.E.r,this.gv,this);this.lH.parent=this;
this.IU=new fs(!0);this.IU.h(W.E.r,this.zF,this);this.IU.parent=this;this.Xo=new fs(!0);this.Xo.h(W.E.r,this.zF,this);
this.Xo.parent=this;this.iD=new fs(!0);this.iD.h(W.E.r,this.zF,this);this.iD.parent=this;this.bN=new fs(!0);
this.bN.h(W.E.r,this.zF,this);this.bN.parent=this;this.SN=new em([2,3]);this.SN.h(W.E.r,this.gv,this);
this.on=new em([14,9]);this.on.h(W.E.r,this.gv,this);this.Gp=new em([12,46]);this.Gp.h(W.E.r,this.gv,this);
this.Z5=new es("...",null,null,!0);this.Z5.m.style.marginLeft="-8px";O.KO(this.Z5.m,this.axH.bind(this));
this.Lp=new cu;var w=this.Lp.m=O.S("div","floatcont form"),o=100;this.Lp.parent=this;this.O8=new ic([12,41],1,20,"px",0,!0,!0);
this.O8.m.style.marginLeft="16px";this.O8.h(W.E.r,this.gv,this);this.O8.parent=this.Lp;w.appendChild(this.Xo.m);
w.appendChild(this.SN.m);O.D2(this.Lp.m);w.appendChild(this.iD.m);w.appendChild(this.on.m);w.appendChild(this.O8.m);
O.D2(this.Lp.m);w.appendChild(this.bN.m);w.appendChild(this.Gp.m);this.ON=new es("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.iS=new es("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.KV=new es("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.oy=new es("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Hv=new es("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.ni=new es("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.Ok=new es("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.Wn=new es("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var I=[this.ON,this.iS,this.KV,this.oy,this.Hv,this.ni,this.Ok,this.Wn];
for(var P=0;P<I.length;P++)I[P].h("click",this.acP,this);this.VS=new es("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.Vs=new es("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.C8=new es("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.aqv=new es("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aa2=new es("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.atg=new es("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.aa9=new es("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.hA=[this.VS,this.Vs,this.C8,this.aqv,this.aa2,this.atg,this.aa9];for(var P=0;P<this.hA.length;P++)this.hA[P].h("click",this.gv,this);
var E=["lind","rind","flind","bind","aind"],X=[];for(var P=0;P<5;P++)X.push("<img src=\""+PIMG["par/"+E[P]]+"\" class=\"autoscale gsicon\" /> ");
this.Jb=new ic(X[0],-o,o,"px");this.MD=new ic(X[1],-o,o,"px");this.Oh=new ic(X[2],-o,o,"px");this.xC=new ic(X[3],-o,o,"px");
this.P5=new ic(X[4],-o,o,"px");this.aZ=new f$([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);this.wv=new ic(["Auto VAR0",[16,0]],0,500,"%");
this.aO=[this.Jb,this.MD,this.Oh,this.xC,this.P5,this.aZ,this.wv];for(var P=0;P<this.aO.length;P++){var i=this.aO[P];
i.h(W.E.r,this.gv,this);i.parent=this}}b_.prototype=new cu;b_.prototype.axH=function(w){if(O.NJ(this.Lp.m))return;
w.stopPropagation();var I=this.Z5.m.getBoundingClientRect(),E=new e9(W.E.Z,!0);E.data={d:W.t.DI,E5:this.Lp,x:I.left,y:I.top+I.height+4};
this.c(E)};b_.prototype.f=function(){this.ju.f();this.IR.f();this.K5.f();this.aq.f();this.lH.f();this.TU.f();
this.tZ.f();this.SN.f();this.on.f();this.Gp.f();this.O8.f();for(var P=0;P<this.aO.length;P++)this.aO[P].f()};
b_.prototype.B=function(w,I,E){this.j8=JSON.parse(JSON.stringify(w));var X=this.j8,o=X.hd,i=X.wo;this.ON.B(o.FauxBold!=null?o.FauxBold:!1);
this.iS.B(o.FauxItalic!=null?o.FauxItalic:!1);this.KV.B(o.FontCaps==2);this.oy.B(o.FontCaps==1);this.ni.B(o.FontBaseline==1);
this.Hv.B(o.FontBaseline==2);this.Ok.B(o.Underline);this.Wn.B(o.Strikethrough);this.ju.B(o.Font==null?null:X.B0[o.Font].Name,I,E);
var h=o.FontSize==null?20:o.FontSize;this.IR.B(h);var k=o.Tracking;this.aq.B(k==null?0:k);this.O8.B(o._LineWidth!=null?o._LineWidth:1);
this.K5.B(o.Leading!=null&&o.Leading!=0?o.Leading:h);this.R_.B(o.AutoLeading);this.TU.B((o.VerticalScale!=null?o.VerticalScale:0)*100);
this.tZ.B((o.HorizontalScale!=null?o.HorizontalScale:0)*100);this.lH.B(o.BaselineShift!=null?o.BaselineShift:0);
this.SN.B(o.FillFlag!=null?o.FillFlag:!1);this.on.B(o.StrokeFlag!=null?o.StrokeFlag:!1);this.Gp.B(o._FillBackgroundFlag!=null?o._FillBackgroundFlag:!1);
this.OI(o.FillColor,this.IU);this.OI(o.FillColor,this.Xo);this.OI(o.StrokeColor,this.iD);this.OI(o._FillBackgroundColor,this.bN);
var x=i._Direction!=null?i._Direction:0,j=bQ.p3(i);for(var P=0;P<this.hA.length;P++)this.hA[P].B(j==P);
this.aZ.B(x);this.wv.B((i.AutoLeading!=null?i.AutoLeading:1.2)*100);this.Jb.B(i.StartIndent!=null?i.StartIndent:0);
this.MD.B(i.EndIndent!=null?i.EndIndent:0);this.Oh.B(i.FirstLineIndent!=null?i.FirstLineIndent:0);this.xC.B(i.SpaceBefore!=null?i.SpaceBefore:0);
this.P5.B(i.SpaceAfter!=null?i.SpaceAfter:0)};b_.prototype.OI=function(w,I){if(w){var E=bQ.BL(w);I.xz(Math.round(E.o)<<16|Math.round(E.P)<<8|Math.round(E.L))}else I.xz(0)};
b_.prototype.v2=function(){var w=new e9(W.E.Z,!0);w.data={d:W.t.e1,GT:ik.fr,j8:this.j8};this.c(w);var w=new e9(W.E.s,!0);
w.G=q.Zn;w.data={d:"updateStyles"};this.c(w)};b_.prototype.acP=function(w){var I=this.j8.hd,E=w.target,X=!E.uf();
if(E==this.ON)I.FauxBold=X;if(E==this.iS)I.FauxItalic=X;if(E==this.KV)I.FontCaps=X?2:0;if(E==this.oy)I.FontCaps=X?1:0;
if(E==this.ni)I.FontBaseline=X?1:0;if(E==this.Hv)I.FontBaseline=X?2:0;if(E==this.Ok)I.Underline=X;if(E==this.Wn)I.Strikethrough=X;
this.v2()};b_.prototype.gv=function(w){var I=this.j8.hd,E=this.j8.wo,X=w.target;if(X==this.aq){var o=this.aq.Q();
I.Tracking=o}if(X==this.K5){I.AutoLeading=!1;I.Leading=this.K5.Q()}if(X==this.R_){I.AutoLeading=this.R_.Q()}if(X==this.O8)I._LineWidth=X.Q();
if(X==this.IR)I.FontSize=X.Q();if(X==this.TU)I.VerticalScale=X.Q()/100;if(X==this.tZ)I.HorizontalScale=X.Q()/100;
if(X==this.lH)I.BaselineShift=X.Q();if(X==this.SN)I.FillFlag=X.Q();if(X==this.on)I.StrokeFlag=X.Q();
if(X==this.Gp)I._FillBackgroundFlag=X.Q();if(this.hA.indexOf(X)!=-1){E.Justification=bQ.p3(E,this.hA.indexOf(X))}if(X==this.Jb)E.StartIndent=X.Q();
if(X==this.MD)E.EndIndent=X.Q();if(X==this.Oh)E.FirstLineIndent=X.Q();if(X==this.xC)E.SpaceBefore=X.Q();
if(X==this.P5)E.SpaceAfter=X.Q();if(X==this.aZ)E._Direction=X.Q();if(X==this.wv)E.AutoLeading=X.Q()/100;
this.v2()};b_.prototype.a38=function(w){var I=this.j8,E=this.ju.Q(),X=-1;for(var P=0;P<I.B0.length;P++)if(I.B0[P].Name==E)X=P;
if(X==-1){X=I.B0.length;var o=JSON.parse(JSON.stringify(I.B0[0]));o.Name=E;I.B0.splice(X,0,o)}I.hd.Font=X;
this.v2()};b_.prototype.zF=function(w){var I=w.target,E=I.a1G(),X={Type:1,Values:[1,(E>>16&255)/255,(E>>8&255)/255,(E>>0&255)/255]};
for(var P=0;P<4;P++)X.Values[P]=Math.round(X.Values[P]*1e3)/1e3;var o=I==this.IU||I==this.Xo?0:I==this.iD?1:2;
this.j8.hd[["FillColor","StrokeColor","_FillBackgroundColor"][o]]=X;this.v2()};function hF(){cu.call(this);
this.m=O.S("span","fontinput");this.it=null;this.Cc=null;this.CL=null;this.QD="";this.ui={};this.Np=[];
this.LU={};this.adl={};this.iq=!1;this.Oa=O.S("button","fitem");this.Oa.setAttribute("style","width:9em;");
this.Oa.textContent="Family Name \u25BC";this.m.appendChild(this.Oa);O.KO(this.Oa,this.agG.bind(this));
this.Z0=new cu;this.Z0.parent=this;this.Z0.m=O.S("div","floatcont");this.x5=new iC(6.8);this.Z0.m.appendChild(this.x5.a9W());
this.x5.parent=this.Z0;this.x5.h(W.E.r,this.$F,this);var w=O.S("div","form");this.Z0.m.appendChild(w);
this.nQ=new es(O.UG("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.nQ.h("click",this.anU,this);
w.appendChild(this.nQ.m);this.f9=new aR([12,86],null,8.4);this.f9.h("input",this.lt,this);w.appendChild(this.f9.m);
var I=this.a63=new es([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);I.h("click",this.awA,this);
I.m.style.marginLeft="1.5em";I.m.style.marginRight="0";w.appendChild(I.m);this.Gd=O.S("span","fitem imageset scrollable");
this.Gd.style.height="30em";this.Z0.m.appendChild(this.Gd);this.Gd.addEventListener("scroll",this.awa.bind(this),!1);
this.Yd=O.S("button","fitem");this.Yd.setAttribute("style","width:7em;");this.Yd.textContent="SubFamily Name \u25BC";
this.m.appendChild(this.Yd);O.KO(this.Yd,this.agG.bind(this));this.sT=new cu;this.sT.parent=this;this.sT.m=O.S("div","floatcont");
this.ri=O.S("span","fitem imageset scrollable marged");this.sT.m.appendChild(this.ri);this.a7o=this.a5C.bind(this);
this.aeB=this.aiu.bind(this)}hF.prototype=new cu;hF.prototype.awa=function(w){var I=this.Gd.scrollTop,E=this.Np,X=Math.floor(I/27),o=Math.min(X+20,E.length);
for(var P=X;P<o;P++)this.aas(E[P])};hF.prototype.awA=function(){var w=new e9(W.E.Z,!0);w.data={d:W.t.vN,a7d:".otf,.ttf,.ttc"};
this.c(w)};hF.prototype.f=function(){this.x5.f();this.a63.f();this.nQ.vw(O.UG("tools/cshape",null,"autoscale"))};
hF.prototype.anU=function(w){this.nQ.B(!this.nQ.uf());this.$F()};hF.prototype.lt=function(w){this.QD=this.f9.Q().toLowerCase();
this.$F()};hF.prototype.agG=function(w){O.x4(w);var I=w.currentTarget,E=I.getBoundingClientRect(),X=I==this.Oa,o=X?this.Z0:this.sT;
if(O.NJ(o.m)){this.aq_(o);return}if(!X&&this.it.ZN()[this.CL]==null)return;var i=new e9(W.E.Z,!0);i.data={d:W.t.DI,E5:o,x:E.left,y:E.top+E.height};
this.c(i);if(X){this.$F(null,!0)}};hF.prototype.a5C=function(w){var I=w.currentTarget.firstChild.nextSibling.textContent;
if(w.target.tagName.toLowerCase()=="button"){var E=this.Cc.slice(0),X=E.indexOf(I);if(X==-1){E=E.slice(Math.max(0,E.length-29));
E.push(I)}else E.splice(X,1);var o=new e9(W.E.Z,!0);o.data={d:W.t.e1,GT:ik.pj,pW:E};this.c(o);this.iq=!0;
this.$F()}else{this.ahp(I,null)}};hF.prototype.aiu=function(w){this.ahp(null,w.currentTarget.firstChild.textContent)};
hF.prototype.ahp=function(w,I){var E=w==null?this.sT:this.Z0,X=this.it;if(w==null)w=X.ZN()[this.CL][0];
else{var o=X.Ax(w),i=X.ZN()[this.CL];I=g6.ih(o,i?i[1]:"regular")}var h=X.mJ(w,I)[2];this.B(h,X);this.c(new e9(W.E.r,!1));
this.aq_(E);this.$F()};hF.prototype.aq_=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.kS,E5:w};this.c(I)};
hF.prototype.Q=function(){return this.CL};hF.prototype.B=function(w,I,E){var X=this.it;if(w!=null)this.CL=w;
else w=this.CL;this.it=I;this.Cc=E;if(w!=null){var o=I.ZN()[w],i,h;if(o==null){i="- "+w;h="-------"}else{i=o[0];
h=o[1];var k=I.Ax(i);k.sort(g6.ack);this.ri.textContent="";for(var P=0;P<k.length;P++){var o=I.mJ(i,k[P]);
if(!this.x5.Z$(o))continue;var x=this.avD(o,!1);this.ri.appendChild(x)}}this.Oa.textContent=i.substring(0,15)+" \u25BC";
this.Oa.setAttribute("title",i+", \""+w+"\"");this.Yd.textContent=h.substring(0,10)+" \u25BC";this.Yd.setAttribute("title",h)}};
hF.prototype.$F=function(w,I){var E=this.it.ZN()[this.CL],X=this.Cc,o=this.it.uM();this.Np=[];for(var i in o){var h=X.indexOf(i)!=-1,k=this.it.Ax(i),x=!1;
for(var P=0;P<k.length;P++){var j=this.it.mJ(i,k[P]),v=!0;if(this.QD.length>0&&j[0].toLowerCase().indexOf(this.QD)==-1)v=!1;
else if(!this.x5.Z$(j))v=!1;else if(this.nQ.uf()&&!h)v=!1;if(v)x=!0}var _=this.ui[i];if(_==null){var L=g6.ih(o[i],"regular"),U=this.it.mJ(i,L),_=this.avD(U,!0);
this.ui[i]=_;this.Gd.appendChild(_);this.LU[i]="[true,false,false]"}if(x)this.Np.push(i);var n=E!=null&&E[0]==i;
this.adl[i]="["+x+","+n+","+h+"]";if(!I)this.aas(i)}if(E&&!this.iq){var a=this.ui[E[0]];this.Gd.scrollTop=a.offsetTop-210}this.awa();
this.iq=!1};hF.prototype.aas=function(w){var I=this.ui[w];if(I.firstChild==null){var E=this.it.uM(),X=g6.ih(E[w],"regular"),o=this.it.mJ(w,X);
this.auz(I,o,!0)}var i=this.LU[w],h=this.adl[w];if(i==h)return;var k=JSON.parse(i),x=JSON.parse(h);if(k[0]!=x[0]||k[1]!=x[1]){var j=x[0]?"":"display:none; ";
if(x[1])j+="background-color:rgba(0,0,0,0.13);";I.setAttribute("style",j)}if(k[2]!=x[2])I.firstChild.setAttribute("style","opacity: "+(x[2]?"1":"0.2"));
this.LU[w]=h};hF.prototype.avD=function(w,I){var E=O.S("div","fontitem");if(!I)this.auz(E,w,I);return E};
hF.prototype.auz=function(w,I,E){var X=I[E?0:1],o=E?this.a7o:this.aeB,x="";w.addEventListener("click",o,!1);
if(E)w.appendChild(O.S("button","star"));var i=O.S("span","label");i.setAttribute("title",X);i.textContent=X;
w.appendChild(i);var h=O.V(),k=1/h,j=g6.Ih*k,v=g6.bv*k;if(1<h&&h<1.5)x="width:"+j+"px; height:"+v+"px;";
var _=O.S("span","thumb gsicon");if(I.axp){x+="background: url("+I.axp+");";if(1<h&&h<1.5)x+="background-size: "+j+"px "+v+"px;"}else{var L=Math.ceil(FNTS.list.length/g6.cols),U=Math.floor(I.qI/L),n=I.qI%L,a=U*g6.Ih,T=n*g6.bv;
if(1<h&&h<1.5){x+="background-size: "+g6.cols*j+"px "+L*v+"px;";a*=k;T*=k}x+="background-position:-"+a+"px -"+T+"px;"}_.setAttribute("style",x);
w.appendChild(_)};function iC(w){cu.call(this);this.m=O.S("button","fitem bbtn");this.m.addEventListener("click",this.a07.bind(this),!1);
this.Lp=new cu;this.Lp.m=O.S("div","floatcont");this.Lp.parent=this;this.C6=O.S("div","flexrow");this.Lp.m.appendChild(this.C6);
this.m7=[];this.dK=[];var I=this.C6,E=O.S("div",""),X=O.S("div","");I.appendChild(E);I.appendChild(X);
this.in=[];for(var P=0;P<FNTS.cats.length;P++)this.in.push({name:FNTS.cats[P],index:P,OO:0});this.o1=new em([7,0]);
this.o1.B(!0);this.o1.h(W.E.r,this.a13,this);E.appendChild(this.o1.m);this.Za=O.S("div","vlist marged scrollable");
this.Za.setAttribute("style","width:10.3em; height:"+w+"em; ");E.appendChild(this.Za);this.QU=[];for(var P=0;
P<this.in.length;P++){var o=this.in[P],i=new em(o.name);this.QU.push(i);i.h(W.E.r,this.av8,this);i.B(!0);
this.Za.appendChild(i.m);this.m7.push(1)}this.acD=new em([7,0]);this.acD.h(W.E.r,this.aiX,this);this.Po=O.S("div","vlist marged scrollable");
this.Po.setAttribute("style","width:8.6em; height:"+(w+1.5)+"em; ");X.appendChild(this.Po);this.XL=[];
for(var P=0;P<FNTS.subsetNames.length;P++){var i=new em(FNTS.subsetNames[P]);this.XL.push(i);i.h(W.E.r,this.a6U,this);
i.B(!1);this.Po.appendChild(i.m);this.dK.push(i.Q()?1:0)}}iC.prototype=new cu;iC.prototype.app=function(w){var I=this.XL;
for(var P=0;P<I.length;P++){var E=(w>>>P&1)==1;this.dK[P]=E;I[P].B(E)}};iC.prototype.a9W=function(){return this.C6};
iC.prototype.f=function(){this.m.textContent=df.get([25,1,0])+" \u25BC";this.o1.f();this.acD.f()};iC.prototype.a07=function(w){var I=this.m.getBoundingClientRect(),E=new e9(W.E.Z,!0);
E.data={d:W.t.DI,E5:this.Lp,x:I.left,y:I.top+I.height,pt:!1};this.c(E)};iC.prototype.Z$=function(w){if(this.m7[w[4]]==0)return!1;
else for(var I=0;I<this.dK.length;I++)if(this.dK[I]==1&&(w[3]>>>I&1)==0)return!1;return!0};iC.prototype.a13=function(w){var I=w.target.Q(),E=this.QU,X=this.m7;
for(var P=0;P<E.length;P++){E[P].B(I);X[P]=I?1:0}this.c(new e9(W.E.r,!1))};iC.prototype.aiX=function(w){var I=w.target.Q(),E=this.XL,X=this.dK;
for(var P=0;P<E.length;P++){E[P].B(I);X[P]=I?1:0}this.c(new e9(W.E.r,!1))};iC.prototype.av8=function(w){var P=this.QU.indexOf(w.target),I=this.in[P].index;
this.m7[I]=1-this.m7[I];this.c(new e9(W.E.r,!1));this.arQ(this.QU,this.o1)};iC.prototype.a6U=function(w){var P=this.XL.indexOf(w.target);
this.dK[P]=1-this.dK[P];this.c(new e9(W.E.r,!1))};iC.prototype.arQ=function(w,I){var E=!0;for(var P=0;
P<w.length;P++)E=E&&w[P].Q();I.B(E)};function b2(w,I,E){k9.call(this,I,!0,"gradientbutton",18,10,ik.x6);
this.Ht=-1;this.Mw=-1;this.a43=null;this.a1d=w;this.ZL=E}b2.prototype=new k9;b2.prototype.dr=function(w){var I=this.GM;
this.B(I[this.Es.Q()]);this.c(new e9(W.E.r))};b2.prototype.hM=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.GV,ei:"gradienteditor",N:this.bw,EH:this.asA.bind(this),MC:this.ZL};
this.c(I)};b2.prototype.asA=function(w){this.B(w);this.c(new e9(W.E.r))};b2.prototype.LA=function(){if(!this.NR)return;
var w=Math.floor(36*O.V()),I=Math.floor(36*O.V()),E=[],X=[],o=this.GM;for(var P=0;P<o.length;P++){var i=o[P];
X.push(i.Nm?i.Nm.v.split("=").pop():"");var h=q.O5.e6(i,w,I,Math.PI/4,this.Ht,this.Mw);E.push(h)}this.Es.fg(E,X,w,I);
this.NR=!1};b2.prototype.y7=function(w,I){this.a35(this.bw,w,I)};b2.prototype.B=function(w){this.a35(w,this.Ht,this.Mw)};
b2.prototype.a35=function(w,I,E){this.Ht=I;this.Mw=E;if(w==null)return;var X=JSON.stringify(w),o=X+I+","+E;
if(o==this.a43)return;this.a43=o;this.bw=JSON.parse(X);var i=Math.floor(80*O.V()),h=Math.floor(16*O.V()),k=q.O5.e6(this.bw,i,h,0,this.Ht,this.Mw);
this.ds.setAttribute("src",k);O.Pd(this.ds,i,h)};b2.prototype.Q=function(){var w;if(this.a1d)w=q.O5.awH(this.bw,this.Ht,this.Mw);
else w=JSON.parse(JSON.stringify(this.bw));return w};function kj(w){k9.call(this,w,!1,"swatchbutton",16,8.75,ik.rW)}kj.prototype=new k9;
kj.prototype.dr=function(w){this.B(this.GM[w.target.Q()]);this.c(new e9(W.E.r))};kj.prototype.LA=function(){if(!this.NR)return;
var w=Date.now(),I=Math.floor(10*O.V()),E=Math.floor(10*O.V()),X=[],o=[],i=this.GM;for(var P=0;P<i.length;
P++){o.push(i[P].X9?i[P].X9.split("=").pop():"");X.push(kj.e6(i[P],I,E))}this.Es.fg(X,o,I,E);this.NR=!1};
kj.prototype.B=function(w){this.bw=JSON.parse(JSON.stringify(w));this.YY()};kj.prototype.YY=function(){var w=Math.floor(24*O.V()),I=Math.floor(20*O.V()),E=kj.e6(this.bw,w,I);
this.ds.setAttribute("src",E);O.Pd(this.ds,w,I)};kj.prototype.Q=function(){return JSON.parse(JSON.stringify(this.bw))};
kj.R3={};kj.e6=function(w,I,E){var X=kj.vu,o=kj.R3,i=Q.mv(w.o<<16|w.P<<8|w.L);if(o[i])return o[i];if(X==null){var h=O.S("canvas");
X=kj.vu=h.getContext("2d")}var h=X.canvas;h.width=I;h.height=E;X.fillStyle="#"+i;X.fillRect(0,0,I,E);
var k=o[i]=h.toDataURL();return k};function gz(w,I,E){cu.call(this);this.m=O.S(E?"div":"span");var X=this.RH=O.S("input");
this.RH.setAttribute("type","file");if(I)X.setAttribute("multiple","");this.RH.addEventListener("change",this.axG.bind(this),!1);
this.af5=this.api.bind(this);this.n2={};this.Iy=0;this.eH=w;var o=this.jT=new es(df.get(w)+" (0)",null,null,!0);
this.m.appendChild(o.m);o.addEventListener("click",function(i){X.click()});if(E){this.az=O.S("div","scrollable");
this.az.setAttribute("style","height:120px; width:100%; line-height:1.5em;");this.m.appendChild(this.az);
this.xn()}}gz.prototype=new cu;gz.prototype.B=function(w){};gz.prototype.Q=function(w){return this.n2};
gz.prototype.axG=function(w){var I=w.target.files;this.Iy=I.length;this.n2={};for(var P=0;P<I.length;
P++){var E=I[P],X=new FileReader;X.onload=this.af5;X.XN=E.name;X.readAsArrayBuffer(E)}this.jT.vw(df.get(this.eH)+" ("+I.length+")")};
gz.prototype.api=function(w){var I=this.n2[w.target.XN]=new Uint8Array(w.target.result);this.Iy--;if(this.Iy==0){if(this.az)this.xn();
this.c(new e9(W.E.r))}};gz.prototype.xn=function(){var w=this.az;O.wO(w);for(var I in this.n2){var E=O.S("div");
E.textContent=I;w.appendChild(E)}};function hc(w,I,E,X,o){if(w==null)w=!1;if(I==null)I=!1;if(E==null)E=!1;
cu.call(this);this.Ne=new a5;this.hp=new a5;this.ge=72;this.Jn=72;this.aK=!0;this.S$=!1;this.m=O.S("span");
this.BZ=new ic([12,41],0,0,null,0,!1,!0);this.m.appendChild(this.BZ.m);this.BZ.h(W.E.r,this.JX,this);
var i=["px","%"];if(w)i=i.concat(["mm","in"]);if(o){i=[[12,76,2],[12,76,6]];if(w)i=i.concat([[12,76,5],[12,76,3]])}this.rg=new b4(null,i);
this.m.appendChild(this.rg.m);O.D2(this.m);this.rg.h(W.E.r,this.JX,this);this.z3=new ic([12,42],0,0,null,0,!1,!0);
this.m.appendChild(this.z3.m);this.z3.h(W.E.r,this.JX,this);var h=new es("\u21F5",!1,null,!0);h.h("click",this.abT,this);
this.Is=new es("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.Is.h("click",this.JX,this);
this.Ag=new gJ("");this.Ag.m.style.margin="0";this.Ag.m.style.padding="0";if(I){this.m.appendChild(this.Is.m);
this.m.appendChild(this.Ag.m);this.Is.KX()}else this.m.appendChild(h.m);this.OV=new ic("DPI",0,0,null,3,!1,!0,4);
if(w&&X==null){O.D2(this.m);this.m.appendChild(this.OV.m)}this.OV.h(W.E.r,this.JX,this);this.M8=new em([12,23,1]);
this.M8.h(W.E.r,this.JX,this);if(E){O.D2(this.m);this.m.appendChild(this.M8.m)}O.D2(this.m)}hc.prototype=new cu;
hc.prototype.Gg=function(){this.BZ.Gg()};hc.prototype.aiV=function(w,I){this.aK=w;if(I!=null)this.S$=I;
if(!this.aK&&!this.S$&&this.rg.Q()==0){this.rg.B(3);this.La()}};hc.prototype.aia=function(w){this.Is.B(w)};
hc.prototype.f=function(){this.BZ.f();this.z3.f();this.OV.f();this.Is.f();this.M8.f();this.rg.f()};hc.prototype.abT=function(w){var I=this.hp.x;
this.hp.x=this.hp.y;this.hp.y=I;this.La();this.c(new e9(W.E.r,!1))};hc.prototype.JX=function(w){if(w.target==this.rg&&!this.aK&&!this.S$&&this.rg.Q()==0)this.rg.B(3);
if(w.target==this.rg||w.target==this.M8){this.La();return}if(w.target==this.Is)w.target.B(!w.target.Q());
var I=this.Ne,E=parseFloat(this.BZ.Q());if(isNaN(E))E=1;var X=parseFloat(this.z3.Q());if(isNaN(X))X=1;
var o=this.rg.Q();if(this.aK){var i=this.Jn;if(o==1){E=this.Ne.x*(E/100);X=this.Ne.y*(X/100)}var h=[1,1,25.4/i,1/i][o];
E/=h;X/=h;if(this.M8.Q()){E+=this.Ne.x;X+=this.Ne.y}if(w.target==this.OV){var k=this.OV.Q();if(!this.S$){var x=k/i;
E*=x;X*=x}i=k}if(this.Is.Q()){if(w.target==this.BZ)X=E*(I.y/I.x);else E=X*(I.x/I.y)}E=Math.max(Math.abs(E),1);
X=Math.max(Math.abs(X),1)}else{var i=this.ge;if(w.target==this.OV)i=this.OV.Q();else{if(this.Is.Q()){if(w.target==this.BZ)X=E*(I.y/I.x);
else E=X*(I.x/I.y)}var h=[1,1,25.4/i,1/i][o],j=E/(o==1?100:I.x*h);i=i/j}E=I.x;X=I.y}this.hp=new a5(Math.round(E),Math.round(X));
this.Jn=i;this.La();this.c(new e9(W.E.r,!1))};hc.prototype.a0c=function(P){this.rg.B(P);this.La()};hc.prototype.B=function(w,I,E){if(E!=!0)this.Ne=w.clone();
this.hp=w.clone();if(I!=null){this.ge=I;this.Jn=I}this.La()};hc.prototype.La=function(){var w=this.hp.x,I=this.hp.y,E=this.Jn,X=(w/I).toFixed(3);
while(X.charAt(X.length-1)=="0")X=X.substring(0,X.length-1);if(X.charAt(X.length-1)==".")X=X.substring(0,X.length-1);
var o="  "+X+" : 1",i=function(v,_){while(_!=0){var L=_;_=v%_;v=L}return v},h=i(w,I);if(Math.min(w,I)/h<10)o="  "+Math.round(w/h)+" : "+Math.round(I/h);
this.Ag.B(o);if(this.M8.Q()){w-=this.Ne.x;I-=this.Ne.y}var k=this.rg.Q();if(k==1){if(this.aK){w=100*w/this.Ne.x;
I=100*I/this.Ne.y}else{w=I=100*this.ge/this.Jn}}else{w=Math.round(w);I=Math.round(I)}var x=[1,1,25.4/E,1/E][k];
w*=x;I*=x;var j=k==1||k==3?2:0;this.BZ.U9(j);this.z3.U9(j);this.BZ.B(w);this.z3.B(I);this.OV.B(E)};hc.prototype.Q=function(){return this.hp.clone()};
hc.prototype.Xj=function(){return this.Jn};function cl(w,I,E){cu.call(this);var X=w==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.KT=w;this.an2=I;this.$W=1;this.D8=[1,1,0];var o=this.m=O.S("div","numlist"),i=this.Fg=[];for(var P=0;
P<4;P++){var h=new ic(X[P],0,0,null,2,!1,!0,4,null,E&&(P==0||P==2));h.h(W.E.r,this.JX,this);o.appendChild(h.m);
i[P]=h;if(P==1||P==3)O.D2(o)}i[4]=new em(w==0?[12,51]:[12,91,2]);i[4].B(!0);o.appendChild(i[4].m)}cl.prototype=new cu;
cl.prototype.f=function(){var w=this.Fg;for(var P=0;P<5;P++)w[P].f();if(this.KT==0)O.k3(w[0],w[2])};
cl.prototype.B=function(w,I,E){if(I)this.D8=I;I=this.D8;var X=E?w:this.KT==0?[w[2],w[0],w[3],w[1]]:[w[0],w[1],w[3],w[2]];
this.$W=X[0]/X[2];for(var P=0;P<4;P++){var o=this.Fg[P];o.U9(I[2]==0&&this.an2?0:2);o.B(Q.Ha.anQ(X[P],I[0],I[1],I[2]))}};
cl.prototype.Q=function(w){var I=[],E=this.D8;for(var P=0;P<4;P++){var X=Q.Ha.bY(this.Fg[P].Q(),E[0],E[1],E[2]);
I[P]=this.an2?Math.round(X):X}return w?I:this.KT==0?[I[1],I[3],I[0],I[2]]:[I[0],I[1],I[3],I[2]]};cl.prototype.JX=function(w){var I=this.KT,E=this.Fg.indexOf(w.currentTarget),X=this.Q(!0),o=this.Fg[4].Q();
if(I==0){X[0]=Math.max(1,X[0]);X[2]=Math.max(1,X[2]);if(o&&E==0)X[2]=X[0]/this.$W;if(o&&E==2)X[0]=X[2]*this.$W}if(I==1){X[E]=Math.max(0,X[E]);
if(o)for(var P=0;P<4;P++)X[P]=X[E]}this.B(X,null,!0);this.c(new e9(W.E.r,!1))};function a6(){cu.call(this);
this.SV=0;this.nX=[0,0,1,1,100,100];this.m=O.S("span","fitem");this.Ba=new b4(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.m.appendChild(this.Ba.m);this.Ba.h(W.E.r,this.JX,this);this.BZ=new ic("W",0,0,null,0,!1,!0);this.m.appendChild(this.BZ.m);
this.BZ.h(W.E.r,this.JX,this);this.z3=new ic("H",0,0,null,0,!1,!0);this.m.appendChild(this.z3.m);this.z3.h(W.E.r,this.JX,this);
this.B({U8:0,x:0,y:0})}a6.prototype=new cu;a6.prototype.f=function(){O.k3(this.BZ,this.z3);this.Ba.f()};
a6.prototype.JX=function(w){if(w.target==this.Ba){var I=this.Q(),E=this.nX;E[this.SV*2]=I.x;E[this.SV*2+1]=I.y;
this.SV=I.U8;this.B({U8:I.U8,x:E[I.U8*2],y:E[I.U8*2+1]})}if(this.BZ.Q()<1)this.BZ.B(1);if(this.z3.Q()<1)this.z3.B(1);
this.c(new e9(W.E.r,!1))};a6.prototype.B=function(w){this.Ba.B(w.U8);this.BZ.B(w.x);this.z3.B(w.y);if(w.U8==0){this.BZ.RX();
this.z3.RX()}else{this.BZ.GR();this.z3.GR()}};a6.prototype.Q=function(){return{U8:this.Ba.Q(),x:this.BZ.Q(),y:this.z3.Q()}};
function fG(w){cu.call(this);this.m=O.S("span","");this.axh=w;this.Zr=new kk("Off X",-100,100,w?"%":"px",0,!1);
this.pl=new kk("Off Y",-100,100,w?"%":"px",0,!1);this.Zr.h(W.E.r,this.JX,this);this.pl.h(W.E.r,this.JX,this);
this.m.appendChild(this.Zr.m);this.m.appendChild(this.pl.m)}fG.prototype=new cu;fG.prototype.f=function(){this.Zr.f();
this.pl.f()};fG.prototype.JX=function(w){this.c(new e9(W.E.r,!1))};fG.prototype.ahU=function(w){this.Zr.B(w.x);
this.pl.B(w.y)};fG.prototype.atZ=function(){return new a5(this.Zr.Q(),this.pl.Q())};fG.prototype.B=function(w,I){var E=w.Hrzn.v,X=w.Vrtc.v;
if(this.axh){E=E.val;X=X.val}this.Zr.B(E);this.pl.B(X);if(I==!0)this.JX()};fG.prototype.Q=function(){var w=this.Zr.Q(),I=this.pl.Q();
if(this.axh)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:w}},Vrtc:{t:"UntF",v:{type:"#Prc",val:I}}};
else return{classID:"Pnt",Hrzn:{v:w,t:"doub"},Vrtc:{v:I,t:"doub"}}};function dU(){cu.call(this);this.m=O.S("span","fitem strokebutton");
this.lA=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.Ut=JSON.parse(JSON.stringify(hL.Oq.default));
this.Ml=O.S("button");this.m.appendChild(this.Ml);O.KO(this.m,this.Sd.bind(this));var w=O.S("canvas","gsicon");
this.vu=w.getContext("2d");this.Ml.appendChild(w);var I=O.S("span");I.textContent=" \u25BC";this.Ml.appendChild(I);
this.Lp=new cu;this.Lp.parent=this;this.Lp.m=O.S("div","floatcont form");var E=this.Lp.m;E.setAttribute("style","width: 14em;");
this.ui=[new b4([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new f$([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new f$([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new aR([19,9,2])];
for(var P=0;P<this.ui.length;P++){var X=this.ui[P];E.appendChild(X.m);var o=P<4?W.E.r:"click";X.h(o,this.JX,this)}O.D2(E);
this.AJ=[];var i=this.NN.bind(this);this.Ut.strokeStyleLineWidth.v.val=3;for(var P=0;P<this.lA.length;
P++){var h=O.S("button","fitem");this.AJ.push(h);E.appendChild(h);h.addEventListener("click",i,!1);var w=O.S("canvas","gsicon"),k=w.getContext("2d");
h.appendChild(w);this.aqC(k,40,20,this.lA[P])}this.Ut.strokeStyleLineWidth.v.val=1}dU.prototype=new cu;
dU.prototype.Sd=function(w){if(O.NJ(this.Lp.m))return;w.stopPropagation();var I=this.Ml.getBoundingClientRect(),E=new e9(W.E.Z,!0);
E.data={d:W.t.DI,E5:this.Lp,x:I.left,y:I.top+I.height+4};this.c(E)};dU.prototype.JX=function(w){var I=this.ui,E=I.indexOf(w.target),X=[];
for(var P=0;P<4;P++)X.push(I[P].Q());this.Ut=this.a82(X);this.c(new e9(W.E.r,!1))};dU.prototype.NN=function(w){var I=this.AJ.indexOf(w.currentTarget);
this.B(this.a82(this.lA[I]));this.c(new e9(W.E.r,!1))};dU.prototype.a82=function(w){var I=JSON.parse(JSON.stringify(this.Ut)),E=w[0],X=w[1],o=w[2],i=w[3];
if(E!=null)I.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hL.Oq.hN[E];if(X!=null)I.strokeStyleLineCapType.v.strokeStyleLineCapType=hL.Oq.zL[X];
if(o!=null)I.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hL.Oq.join[o];var h=I.strokeStyleLineDashSet.v=[];
i=i.split(" ");while((i.length&1)!=0)i.pop();for(var P=0;P<i.length;P++)h.push({t:"UntF",v:{type:"#Nne",val:parseInt(i[P])}});
return I};dU.prototype.f=function(){for(var P=0;P<this.ui.length;P++)this.ui[P].f()};dU.prototype.B=function(w){this.Ut=JSON.parse(JSON.stringify(w));
var I=hL.Oq.hN.indexOf(w.strokeStyleLineAlignment.v.strokeStyleLineAlignment),E=hL.Oq.zL.indexOf(w.strokeStyleLineCapType.v.strokeStyleLineCapType),X=hL.Oq.join.indexOf(w.strokeStyleLineJoinType.v.strokeStyleLineJoinType),o=[],i=w.strokeStyleLineDashSet.v;
for(var h=0;h<i.length;h++)o.push(i[h].v.val);var k=this.ui;k[0].B(I);k[1].B(E);k[2].B(X);k[3].B(o.join(" "));
var x=[];for(var P=0;P<4;P++)x.push(k[P].Q());this.aqC(this.vu,40,16,x)};dU.prototype.Q=function(){return JSON.parse(JSON.stringify(this.Ut))};
dU.prototype.aqC=function(w,I,E,X){var o=X[0],i=X[1],h=X[2],k=X[3].split(" ").map(parseFloat);O.c_(w.canvas,I,E);
var x=Math.min(5,this.Ut.strokeStyleLineWidth.v.val);for(var P=0;P<k.length;P++)k[P]*=x;w.clearRect(0,0,I,E);
w.setLineDash(k);w.lineCap=["butt","round","square"][i];w.lineJoin=["miter","round","bevel"][h];w.lineWidth=x;
w.beginPath();w.moveTo(0,E/2);w.lineTo(I*2,E/2);w.stroke()};function iy(w){k9.call(this,w,!1,"contourbutton",34,16,ik.EO,!0);
this.f9=new aR([12,86],null,16);this.f9.h("input",this.lt,this);this.Lp.m.appendChild(this.f9.m);this.fE=null;
this.QD="";this.p_=null;this.B(fZ.SX())}iy.prototype=new k9;iy.prototype.f=function(){k9.prototype.f.call(this);
this.f9.f()};iy.prototype.dr=function(w){this.B(this.fE[w.target.Q()[0]]);this.c(new e9(W.E.r))};iy.prototype.lt=function(w){this.QD=this.f9.Q().toLowerCase();
this.a70()};iy.a1m=!1;iy.prototype.LA=function(){if(!this.NR)return;var w=this.GM;if(w==null||!iy.a1m){var I=new e9(W.E.Z,!0);
I.data={d:W.t.Vd,GT:{url:"rsrc/basic/fa_basic.csh"}};this.c(I);iy.a1m=!0}else{var E=Math.floor(38*O.V()),X=Math.floor(38*O.V());
this.p_=[];for(var P=0;P<w.length;P++)this.p_.push(iy.a3K(w[P],E,X));this.a70();this.NR=!1}};iy.prototype.a70=function(){var w=Math.floor(38*O.V()),I=Math.floor(38*O.V());
this.fE=[];var E=[],X=[],o=this.GM;for(var P=0;P<o.length;P++){if(o[P].MQ.toLowerCase().indexOf(this.QD)==-1)continue;
this.fE.push(o[P]);E.push(this.p_[P]);X.push(o[P].MQ)}this.Es.fg(E,X,w,I)};iy.prototype.B=function(w){this.bw=iy.clone(w);
this.YY()};iy.prototype.YY=function(){var w=Math.floor(23*O.V()),I=Math.floor(23*O.V()),E=iy.a3K(this.bw,w,I);
this.ds.setAttribute("src",E);O.Pd(this.ds,w,I)};iy.prototype.Q=function(){return iy.clone(this.bw)};
iy.clone=function(w){return{MQ:w.MQ,nV:w.nV,j:K.DN.ER(w.j),iM:w.iM.clone()}};iy.U=null;iy.KS=null;iy.a3K=function(w,I,E){var X=K.DN.ER(w.j),o=w.iM,i=Math.min(I/o.q,E/o.w)*.9,h=new am;
h.translate(-.5,-.5);h.scale(.95,.95);h.translate(.5,.5);h.scale(i*o.q,i*o.w);Q.O.yJ(X,h);var k=new K.DN;
k.j=X;var x=k.pi();x.rect.x=Math.floor((I-x.rect.q)/2);x.rect.y=Math.floor((E-x.rect.w)/2);var j=Q.$(x.rect.A()*4);
Q.lJ(x.channel,j,3);var v=iy;if(v.U==null)v.U=O.S("canvas");var _=v.U,L=_.getContext("2d");if(_.width!=I||_.height!=E||v.KS==null){_.width=I;
_.height=E;v.KS=L.createImageData(I,E)}var U=v.KS;U.data.fill(0);Q.D6(j,x.rect,U.data,new dC(0,0,I,E));
L.putImageData(U,0,0);return _.toDataURL()};function hV(w){k9.call(this,w,!1,"ICCButton",16,12,ik.V3,!0);
this.Es.xy(1)}hV.prototype=new k9;hV.prototype.VB=function(){var w="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var P=0;P<w.length;P++)w[P]="luts/"+w[P]+".CUBE";return w};hV.prototype.dr=function(w){this.B(this.GM[w.target.Q()]);
this.c(new e9(W.E.r))};hV.prototype.LA=function(){if(!this.NR)return;var w=Math.floor(1*O.V()),I=Math.floor(1*O.V()),E=[],X=[],o=this.GM;
for(var P=0;P<o.length;P++){var i=o[P].Nm.v.split("\\").pop().split("/").pop();X.push(i);E.push(hV.e6(o[P],w,I))}this.Es.fg(E,X,w,I);
this.NR=!1};hV.prototype.B=function(w){this.bw=JSON.parse(JSON.stringify(w));this.YY()};hV.e6=function(w,I,E){var X=O.S("canvas"),h="ICC / 3DL / look / cube";
X.width=I;X.height=E;var o=X.getContext("2d"),i=Math.floor(14*O.V());o.font=i+"px sans-serif";if(w.Nm)h=w.Nm.v.split("\\").pop().split("/").pop();
o.fillText(h,10,i);return X.toDataURL()};hV.prototype.YY=function(){var w=Math.floor(120*O.V()),I=Math.floor(20*O.V());
this.ds.setAttribute("src",hV.e6(this.bw,w,I));O.Pd(this.ds,w,I)};hV.prototype.Q=function(){return JSON.parse(JSON.stringify(this.bw))};
function ab(){cu.call(this);this.Yk=null;this.m=O.S("span","fitem");this.Nx=new iZ([14,9]);this.Hk=new ic(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.Wh=new dU;this.JO=[this.Nx,this.Hk,this.Wh];for(var P=0;P<this.JO.length;P++){var w=this.JO[P];
this.m.appendChild(w.m);w.parent=this;w.h(W.E.r,this.JX,this)}}ab.prototype=new cu;ab.prototype.f=function(){for(var P=0;
P<this.JO.length;P++)this.JO[P].f()};ab.prototype.eU=function(w,I){this.Nx.eU(w,I)};ab.prototype.JX=function(w){var I=this.Yk,E=this.Nx.Q(),X=E.BM;
I.strokeEnabled.v=X!=0;if(X!=0){I.strokeStyleContent.v=E.Pz;E.Pz.classID=hL.Oq.m9[X-1]}I.strokeStyleLineWidth.v.val=this.Hk.Q();
if(w.target==this.Wh)I=this.Wh.Q();this.Yk=I;this.c(new e9(W.E.r,!1))};ab.prototype.B=function(w,I,E){this.Yk=JSON.parse(JSON.stringify(I));
var X=I.strokeEnabled.v,o=I.strokeStyleContent.v,i=X?{BM:1+hL.Oq.m9.indexOf(o.classID),Pz:o}:{BM:0};
this.Nx.B(w,i,E);this.Hk.B(I.strokeStyleLineWidth.v.val);this.Wh.B(I)};ab.prototype.Q=function(){return JSON.parse(JSON.stringify(this.Yk))};
function hI(w){var I=[[18,0],[18,1],[18,2],[18,3]],E=f$.Bk(["set/front","set/union","set/difference","set/intersection"]);
f$.call(this,w?[12,36]:null,E,I)}hI.prototype=new f$;function hX(){cu.call(this);this.m=O.S("button","fitem bbtn");
O.KO(this.m,this.Sd.bind(this));this.Lp=new cu;this.Lp.m=O.S("div","floatcont form");this.Lp.m.setAttribute("style","max-width: 200px;");
this.Lp.parent=this;var w=fO;this.cd=[new em("Start"),new em("End"),new w([12,41],0,100,"px",null,!0,null,!0),new w([12,80,0],0,100,"px",null,!0,null,!0),new w("Concavity",-50,50,"%",null,null,null,!0)];
for(var P=0;P<this.cd.length;P++){var I=this.cd[P];I.parent=this;I.h(W.E.r,this.ZX,this);this.Lp.m.appendChild(I.m)}this.a4O=O.S("div");
this.Lp.m.appendChild(this.a4O)}hX.prototype=new cu;hX.prototype.B=function(w){for(var P=0;P<5;P++)this.cd[P].B(w[P]);
this.xn()};hX.prototype.Q=function(w){var I=[];for(var P=0;P<5;P++)I[P]=this.cd[P].Q();return I};hX.prototype.f=function(){this.m.textContent=df.get([12,93,4]);
for(var P=0;P<this.cd.length;P++)this.cd[P].f()};hX.prototype.ZX=function(w){this.c(new e9(W.E.r,!1));
this.xn()};hX.prototype.xn=function(w){var I=this.Q(),E=200,X=60;I[2]/=O.V();I[3]/=O.V();var o=Q.O.cw.l3(0,X/2,E,X/2,5,I),i=Q.O.u8(o);
this.a4O.innerHTML="<svg width=\""+E+"\" height=\""+X+"\" class=\"gsicon\">\t\t\t<path d=\""+i.bz+"\" />\t\t\t</svg>"};
hX.prototype.Sd=function(w){if(O.NJ(this.Lp.m))return;w.stopPropagation();var I=this.m.getBoundingClientRect(),E=new e9(W.E.Z,!0);
E.data={d:W.t.DI,E5:this.Lp,x:I.left,y:I.top+I.height,pt:!0};this.c(E)};function dA(){cu.call(this);
this.m=O.S("div");this.Fg=[];this.al6=[];var w=this.Xd=O.S("div"),I=O.S("h2");I.textContent="Create Teams";
w.appendChild(I);I.style.margin="26px 0 16px 0";var E=new es("More about Teams",!1,null,!0);I.appendChild(E.m);
E.m.style.float="right";E.h("click",this.a5c,this);this.ai=O.S("div");w.appendChild(this.ai);this.ana=new aR("Team Name",null,10);
w.appendChild(this.ana.m);var X=this.alw=new es("Create Team",null,null,!0);w.appendChild(X.m);X.h("click",this.ajU,this);
var I=O.S("h2");I.textContent="Join Teams";w.appendChild(I);I.style.margin="26px 0 16px 0";this.ia=O.S("div");
w.appendChild(this.ia);this.ajF=new aR("Team ID",null,10);w.appendChild(this.ajF.m);var X=new es("Join Team",null,null,!0);
w.appendChild(X.m);X.h("click",this.ajU,this);this.a6g;this.aww=this.tM.bind(this);this.a0k=this.asE.bind(this);
this.fD=!1;this.Xn();this.k4=null;this.ap0=""}dA.prototype=new cu;dA.prototype.a5c=function(w){var I=new e9(W.E.Z,!0);
I.data={d:W.t.Yo,link:"https://www.photopea.com/api/accounts#teams"};this.c(I)};dA.prototype.Xn=function(){clearTimeout(this.agC);
this.agC=setTimeout(this.a0k,this.k4?10:3e3)};dA.prototype.asE=function(){var w=bh.kg();if(document.hidden||!O.NJ(this.m)||w==null){this.Xn();
return}var I=bh.sf();if(this.k4==null&&I==null)return;bh.N1(this.k4?this.k4:I,this.aww);this.fD=!0;this.k4=null};
dA.prototype.arD=function(w){w.acc.update=!0;this.m.style.pointerEvents="none";this.m.style.opacity="0.5";
if(this.fD)this.k4=w;else{clearTimeout(this.agC);bh.N1(w,this.aww)}};dA.prototype.vq=function(w){var I=typeof w=="string"?this.a6g:this.Fg.indexOf(w.target),E=this.al6[I],X=E[0],o=bh.sf();
if(o==null)o={};var i=o.acc,h=i.tjoin,x=i.tstart;if(X=="leave"){h.splice(h.indexOf(E[1]),1)}if(X=="add"||X=="remove"||X=="delTeam"||X=="showRename"||X=="rename"){var j=-1,v=0;
for(var P=0;P<x.length;P++){v+=x[P][1].length;if(x[P][2]==E[1])j=P}var _=x[j];if(X=="add"){var L=bh.c9();
if(L[0]==0&&L[1][2]<=v){alert("You can have at most "+L[1][2]+" members in your Premium.");return}_[1].push(E[2])}if(X=="remove")_[1].splice(_[1].indexOf(E[2]),1);
if(X=="delTeam"){if(_[1].length!=0){alert("Remove members first.");return}x.splice(j,1)}if(X=="showRename"){var U=new e9(W.E.Z,!0);
U.data={d:W.t.GV,ei:"namewindow",di:_[0],qu:this.vq.bind(this)};this.c(U);this.a6g=I;E[0]="rename";return}if(X=="rename")_[0]=w}this.arD(o)};
dA.prototype.ajU=function(w){var I=this.alw==w.target,E=(I?this.ana:this.ajF).Q().trim();if(E==""){alert("The Team "+(I?"Name":"ID")+" is empty.");
return}if(!I){E=parseInt(E);if(isNaN(E)){alert("The ID must be a number");return}}var X=bh.sf();if(X==null)X={};
var o=X.acc;if(o==null)o=X.acc={};var i=o.tstart,h=o.tjoin;if(I){if(i==null)i=o.tstart=[];if(i.length>5){alert("You can have at most 5 teams");
return}i.push([E,[]])}else{if(i)for(var P=0;P<i.length;P++)if(i[P][2]==E){alert("You are the owner of this team");
return}if(h==null)h=o.tjoin=[];if(h.indexOf(E)!=-1){alert("You already asked to join this team.");return}o.tjoin.push(E)}o.update=!0;
this.arD(X)};dA.prototype.tM=function(){this.fD=!1;var w=bh.kg(),I=w!=null,E=this.Xd.parentNode!=null;
if(I!=E){O.wO(this.m);if(I)this.m.appendChild(this.Xd);else this.m.textContent="Log In to access Team Settings."}if(!I)return;
var X=bh.sf();if(X==null)X={};var o=X.acc;if(o==null)o={};var i=JSON.stringify(o)+"===="+JSON.stringify(w);
if(i!=this.ap0){this.ap0=i;var h=this.ai,k=this.ia;O.wO(h);O.wO(k);var x=this.Fg=[],j=this.al6=[],v=this.vq.bind(this);
function _(B,e){B.addEventListener("click",v);x.push(B);j.push(e)}function L(N,B){var S=O.S("div"),e="rgba(255,255,255,0.15)";
S.appendChild(n("ID: "+N[2],44,e));S.appendChild(n(N[0],160,null,!0));if(B){S.appendChild(n(N[1].length+" members",80,null,!0))}else{S.appendChild(n(N[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<N[1]*1e3)S.appendChild(n("Premium",80,"rgba(0,140,0,1)"))}var m=n("",120);S.appendChild(m);
m.setAttribute("style","float:right;text-align:right");if(B){var $=new es("Rename",null,null,!0);_($,["showRename",N[2]]);
m.appendChild($.m)}var $=new es(B?"Delete":"Leave",null,null,!0);_($,[B?"delTeam":"leave",N[2]]);m.appendChild($.m);
return S}function U(B,e,A){var S=O.S("div");S.style.paddingLeft="36px";S.appendChild(n(e?"\u2713":"...",8,e?"#229922":"#aa7700"));
S.appendChild(n(B[1],200));S.appendChild(n(B[2],240));var m=n("",120);S.appendChild(m);m.setAttribute("style","float:right;text-align:right");
var $=new es(e?"Remove":"Add",null,null,!0);_($,[e?"remove":"add",A,B[0]]);m.appendChild($.m);return S}function n(B,e,m,$){var V=O.S("span");
V.textContent=B;V.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+e+"px;  "+(m!=null?"background-color:"+m+";":"")+($?"font-weight:bold;":""));
return V}var a=o.tstart,T=o.tjoin,g=w.wantToJoin,D=w.inTeams;if(a)for(var b=0;b<a.length;b++){var N=a[b],C=g["t"+N[2]];
if(C==null)C=[];var Z={};for(var P=0;P<C.length;P++)Z["u"+C[P][0]]=C[P];var S=L(N,!0);h.appendChild(S);
S.style.marginTop="10px";for(var P=0;P<N[1].length;P++){var u=N[1][P],p=Z["u"+u];if(p==null)p=[u,"========","... user has left your team"];
delete Z["u"+u];var f=U(p,!0,N[2]);h.appendChild(f)}for(var d in Z){var p=Z[d],f=U(p,!1,N[2]);h.appendChild(f)}}if(T){var l={};
for(var P=0;P<D.length;P++)l["t"+D[P][2]]=D[P];for(var b=0;b<T.length;b++){var A=T[b],N=l["t"+A],S=L(N?N:["==========",-1,A],!1);
k.appendChild(S)}}this.c(new e9(W.E.r))}if(this.k4==null){this.m.style.pointerEvents="auto";this.m.style.opacity="1"}this.Xn()};
function bL(){cu.call(this);this.q1=[16,!0,!0];this.m=O.S("span","");this.bB=[new ic([12,24],0,255),new em([12,25,1]),new em([12,25,0])];
for(var P=0;P<3;P++){var w=this.bB[P];w.parent=this;w.B(this.q1[P]);this.m.appendChild(w.m);w.h(W.E.r,this.JX,this)}}bL.prototype=new cu;
bL.prototype.JX=function(){for(var P=0;P<3;P++)this.q1[P]=this.bB[P].Q();this.c(new e9(W.E.r,!1))};bL.prototype.B=function(w){this.q1=w.slice(0);
for(var P=0;P<3;P++)this.bB[P].B(w[P])};bL.prototype.Q=function(){return this.q1.slice(0)};bL.prototype.f=function(){for(var P=0;
P<3;P++)this.bB[P].f()};function dP(w,I){cu.call(this);if(I==null)I=!1;this.p_=[];this.Pp=Math.floor(120*O.V());
this.a4v=Math.floor(23*O.V());this.IX=0;this.Et=[];this.He=[];for(var E in Q.AG.type){if(E=="warpCustom"&&!I)continue;
this.Et.push(E);this.He.push(Q.AG.type[E])}this.m=O.S("span","fitem warpbutton");this.Lp=new cu;this.Lp.m=O.S("div","floatcont");
if(w){this.eH=w;this.cv=O.S("label","flabel");this.m.appendChild(this.cv)}this.d=O.S("button");this.m.appendChild(this.d);
O.KO(this.d,this.Sd.bind(this));this.AV=new aC(!0);this.Lp.m.appendChild(this.AV.m);this.AV.h(W.E.r,this.am6,this);
this.Lp.m.setAttribute("style","width:"+Math.floor(8+this.Pp/O.V())+"px;");this.f()}dP.prototype=new cu;
dP.prototype.vw=function(w){this.cv.textContent=w};dP.prototype.f=function(){if(this.eH)this.cv.innerHTML=df.get(this.eH)+":";
this.YY()};dP.akm={};dP.afT=function(w,I,E){var X=df.get(Q.AG.type[w]),o=X+"-"+w+"-"+I+"-"+E,i=dP.akm[o];
if(i)return i;var h=dP.vu;if(k==null){var k=O.S("canvas");h=dP.vu=k.getContext("2d")}var k=h.canvas;
if(k.width!=I||k.height!=E){k.width=I;k.height=E}h.font=Math.floor(13*O.V())+"px sans-serif";h.lineWidth=1;
h.strokeStyle="#000000";var x=Math.floor(16*O.V()),j=new dC(0,0,x,x);h.clearRect(0,0,k.width,k.height);
var v=Q.AG.AG(j,w,!0,.3,0,0),_=Q.p.sy(j);_.J.push("M","L","M","L");_.C.push(0,x/2,x,x/2);_.C.push(x/2,0,x/2,x);
_=Q.p.YN(_);_=Q.p.Z6(_,x/5);Q.SZ.F(v,_.C,j);Q.p.F(_.C,new am(1,0,0,1,Math.floor(8*O.V())+.5,Math.floor(3*O.V())+.5),_.C);
h.beginPath();Typr.U.pathToContext({cmds:_.J,crds:_.C},h);h.stroke();h.fillText(X,Math.floor(40*O.V()),Math.floor(16*O.V()));
i=dP.akm[o]=k.toDataURL();return i};dP.prototype.Sd=function(w){if(O.NJ(this.Lp.m))return;w.stopPropagation();
var I=this.Pp,E=this.a4v;for(var P=0;P<this.Et.length;P++)this.p_[P]=dP.afT(this.Et[P],I,E);this.AV.fg(this.p_,null,I,E);
var X=this.d.getBoundingClientRect(),o=new e9(W.E.Z,!0);o.data={d:W.t.DI,E5:this.Lp,x:X.left,y:X.top+X.height+4};
this.c(o)};dP.prototype.am6=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.kS,E5:this.Lp};this.c(I);
this.IX=w.target.Q()[0];this.YY();this.c(new e9(W.E.r))};dP.prototype.YY=function(){var w=this.Pp,I=this.a4v;
this.AV.B([this.IX]);this.d.innerHTML="<img src=\""+dP.afT(this.Et[this.IX],w,I)+"\" class=\"gsicon\" />";
O.Pd(this.d.firstChild,w,I)};dP.prototype.Q=function(){return this.Et[this.IX]};dP.prototype.B=function(w){this.IX=this.Et.indexOf(w);
this.YY()};function hb(w,I,E){cu.call(this);if(w==null)w=!1;if(I==null)I=!1;if(E==null)E=!1;this.ato=I;
this.AG=null;this.gZ=new dP([12,22],E);this.gZ.parent=this;this.gZ.h(W.E.r,this.v2,this);this.KI=new b4([22,0],[[22,4,0],[22,4,1]]);
this.KI.h(W.E.r,this.v2,this);var X=w?ic:fO;this.YG=new X([22,1],-100,100,"%");this.Mc=new X("Horizontal Distortion:",-100,100,"%");
this.mA=new X("Vertical Distortion:",-100,100,"%");this.YG.parent=this.Mc.parent=this.mA.parent=this;
this.YG.h(W.E.r,this.v2,this);this.Mc.h(W.E.r,this.v2,this);this.mA.h(W.E.r,this.v2,this)}hb.prototype=new cu;
hb.prototype.f=function(){this.gZ.f();this.KI.f();this.YG.f();var w=this.ato?1:100;this.Mc.vw(df.get([22,2]).substring(0,w)+":");
this.mA.vw(df.get([22,3]).substring(0,w)+":")};hb.prototype.v2=function(){var w=this.AG,I=this.gZ.Q(),E=w.warpStyle.v.warpStyle;
if(I=="warpCustom")Q.AG.qa(Q.AG.Sk(w),w);else delete w.customEnvelopeWarp;w.warpStyle.v.warpStyle=this.gZ.Q();
w.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.KI.Q()];w.warpValue.v=this.YG.Q();w.warpPerspective.v=this.Mc.Q();
w.warpPerspectiveOther.v=this.mA.Q();if(I=="warpNone"||I=="warpCustom"){w.warpValue.v=0;w.warpPerspective.v=0;
w.warpPerspectiveOther.v=0}else if(E=="warpNone"||E=="warpCustom")w.warpValue.v=50;this.c(new e9(W.E.r,!1));
this.B(w)};hb.prototype.Q=function(w){return JSON.parse(JSON.stringify(this.AG))};hb.prototype.B=function(w){this.AG=JSON.parse(JSON.stringify(w));
this.gZ.B(w.warpStyle.v.warpStyle);this.KI.B(w.warpRotate.v.Ornt=="Hrzn"?0:1);this.YG.B(w.warpValue.v);
this.Mc.B(w.warpPerspective.v);this.mA.B(w.warpPerspectiveOther.v);var I=w.warpStyle.v.warpStyle,E=I=="warpNone"||I=="warpCustom",X=[this.KI,this.YG,this.Mc,this.mA];
for(var P=0;P<X.length;P++)if(E)X[P].RX();else X[P].GR()};function hB(w){cu.call(this);this.m=O.S("div");
this.Rc=w;this.aE=null;this.O_=new a5(0,0);this.tG="position:relative;overflow:hidden;background-color:var(--bg-canvas);";
this.HN=null;this.nI=new O.pK(this.m);this.EC("grab");this.U=O.S("canvas","canv");this.m.appendChild(this.U);
this.vu=this.U.getContext("2d");this.ajM=null;this.mj=null;this.DS=null;this.SM=0;this.sb=0;this.bc=0;
this.asx=this.adh.bind(this);this.aeW=null;this.u=new bm({q:1,w:1});this.SH=null;this.rU=null;this.Yb=[];
this.a8L=0;this.zO=0;this.axu=this.ME.bind(this);this.ak0=this._S.bind(this);this.apI=this.wz.bind(this);
this.atJ=this.US.bind(this);this.atn=0;this.Pe=null;this.a48(this.U);this.BF(this)}hB.prototype=new cu;
hB.af_=function(w){var I=new aW(!0);if(w>=0)I.tf("Space");if(w>=1){I.tf("ControlLeft");if(w==2)I.tf("AltLeft")}return I};
hB.prototype.oH=function(w){var I=this.HN,E=null;if(w.Y(aW.gS)){E="grab";if(w.Y(aW.iu)){E="zoom-in";
if(w.Y(aW.$i))E="zoom-out"}}this.aE=E;if(E)I=E;this.nI.tM(I,this.tG);if(w.Y(aW.iu)){var X=0;if(w.Y(aW.w2))X=1;
if(w.Y(aW.Jz))X=-1;if(X!=0){this.bZ(new a5(this.U.width/2,this.U.height/2),X==1)}}};hB.prototype.EC=function(w){this.HN=w;
if(this.aE)return;this.nI.tM(w,this.tG)};hB.prototype.a48=function(w){O.KO(w,this.axu);O.aa(w);w.addEventListener("wheel",this.atJ,!1)};
hB.prototype.BF=function(w){w.h("viewchange",this.a1Y,this)};hB.prototype.a1Y=function(w){var I=this.u.T,E=w.currentTarget.IG();
this.u.T=E.T;this.u.z=E.z.clone();if(I!=E.T)this.JS();this.qF()};hB.prototype.IG=function(){return{T:this.u.T,z:this.u.z}};
hB.prototype.B=function(w,I){var E=w[0].WG;if(this.mj!=null&&this.mj[0].WG.ZQ(E)){}else{this.u.gt={q:E.q,w:E.w};
this.u.z=new a5(0,0);this.u.T=1}this.mj=w;this.JS();this.FL();this.SM=0;this.sb=0;this.bc=I==null?0:I;
this.adh()};hB.prototype.US=function(w){w.preventDefault();if(w.deltaY==0||Date.now()-this.atn<100)return;
var I=O.cz(w);I.x=O.V()*I.x;I.y=O.V()*I.y;this.atn=Date.now();this.bZ(I,w.deltaY<0)};hB.prototype.bZ=function(w,I){q.kr.BI(this.u,w,I);
this.adM()};hB.prototype.Xv=function(){var w=this.u,I=w.gt;this.u.T=q.kr.a4w(I.q,I.w,w.mz.q,w.mz.w);
this.adM()};hB.prototype.adM=function(){this.JS();this.c(new e9("viewchange"));this.c(new e9("zoom"))};
hB.prototype.JS=function(){this.DS=[];var w=this.u.T;if(this.mj==null)return;for(var P=0;P<this.mj.length;
P++){var I=this.mj[P],E=new Uint8Array(I.data),X;if(w>=1)X={Fr:E,rect:I.WG};else X=Q.axN(E,I.WG,w);this.DS.push(X)}};
hB.prototype.FL=function(){clearTimeout(this.aeW)};hB.prototype.qF=function(){if(this.mj==null||!O.NJ(this.U))return;
var w=this.ajM,I=this.U.width,E=this.U.height,n,a;if(w==null||w.width!=I||w.height!=E){w=this.ajM=this.vu.createImageData(I,E);
console.log("creating image data")}var X=this.mj[this.SM],o=this.DS[this.SM],i=this.u,h=i.gt,k=i.mz,x=k.q,j=k.w,v=h.q*i.T,_=h.w*i.T,L=Math.round((x-v)/2+i.z.x),U=Math.round((j-_)/2+i.z.y);
if(i.T<=1){a=o.rect.clone();a.x=L;a.y=U;v=a.q;_=a.w;n=o.Fr}else{var T=1/i.T,g=new dC(Math.floor((k.x-L)*T),Math.floor((k.y-U)*T),Math.ceil(k.q*T)+1,Math.ceil(k.w*T)+1),D=new dC(0,0,g.q*i.T,g.w*i.T);
D.x=g.x*i.T+L;D.y=g.y*i.T+U;if(i.GD==null||i.GD.length!=g.A()*4){i.GD=Q.$(g.A()*4)}if(i.At==null||i.At.length!=D.A()*4){i.At=Q.$(D.A()*4)}Q.Ez(i.GD,0);
Q.D6(o.Fr,o.rect,i.GD,g);Q.scale.Qs(i.GD,g.q,g.w,i.At,D.q,D.w,i.T);n=i.At;a=D}var b=new Uint8Array(w.data.buffer);
Q.VI(b,x,j,8,-L,-U);Q.e.gF("norm",n,a,b,k,k,1);var N=this.vu;N.setTransform(1,0,0,1,0,0);N.putImageData(w,0,0);
N.clearRect(L-1e3,U,1e3,_);N.clearRect(L+v,U,1e3,_);N.clearRect(L-1e3,U-1e3,v+2e3,1e3);N.clearRect(L-1e3,U+_,v+2e3,1e3);
var C=hB.awo(i.T,"#ffffff");N.putImageData(C,0,i.mz.w-C.height)};hB.atq="";hB.afK=null;hB.awo=function(w,I,E,X){if(E==null){E=0;
X=0}var o=E+" \xD7 "+X,i="z"+w+","+I+","+E+","+X;if(i==hB.atq)return hB.afK;var h=Math.round(50*O.V()),k=Math.round(18*O.V()),x=E==0?0:Math.round((o.length+2)*k*.35),j=O.S("canvas"),v=j.getContext("2d");
j.width=h+x;j.height=k;v.fillStyle="rgba(1,1,1,1)";v.fillRect(0,0,h,k);if(E!=0)v.fillRect(h+2,0,x,k);
v.font=Math.round(11*O.V())+"px monospace";v.fillStyle=I;var _=w*100;if(_<100)_=_.toFixed(2);else _=Math.round(_);
_=_+"%";var L=v.measureText(_).width;v.fillText(_,(h-L)/2,Math.round(k*.7));if(E!=0){var U=v.measureText(o).width;
v.fillText(o,h+(x-U)/2+1,Math.round(k*.7))}var n=v.getImageData(0,0,h+x,k);hB.atq=i;hB.afK=n;return n};
hB.prototype.adh=function(){var w=this.mj,I=w.length,E=this.SM,X=this.mj[E],o=(E+1)%I;this.qF();if(I!=1&&w[o].WG.ZQ(X.WG)){var i=X.e8?parseInt(X.e8.split(",").pop()):30;
if(i==0)i=16;if(o==0)this.sb++;if(this.bc==0||this.sb<this.bc)this.aeW=setTimeout(this.asx,i)}this.SM=o};
hB.prototype.hi=function(w,I){if(w<=0||I<=0)return;var E=Math.floor(w*O.V()),X=Math.floor(I*O.V());this.u.mz=new dC(0,0,E,X);
this.U.width=E;this.U.height=X;this.U.setAttribute("style","width:"+E/O.V()+"px; height:"+X/O.V()+"px; display:block;");
this.qF()};hB.prototype.AE=function(w){var I=-1,E=this.Yb;for(var P=0;P<E.length;P++)if(E[P].pointerId==w.pointerId)I=P;
return I};hB.prototype.ME=function(w){var I=this.AE(w),E=this.Yb;if(I!=-1)E[I]=w;else E.push(w);if(E.length==1){this.Pe=w.target;
O.rv(window,this.ak0);O.M$(window,this.apI);this.SH=O.cz(w,this.U);this.SH.x*=O.V();this.SH.y*=O.V();
this.O_=this.SH;this.rU=this.u.z.clone();if(this.Rc&&this.Pe==this.U&&!this.aE)this.c(new e9("mousedown"))}else this.a8L=this.zO=a5.GZ(O.cz(E[0],this.U),O.cz(E[1],this.U))};
hB.prototype._S=function(w){var I=this.AE(w),E=this.Yb;if(I!=-1)E[I]=w;var X=this.u,o=this.aE,i=this.mj[this.SM].WG.clone();
i.q*=X.T;i.w*=X.T;var h=O.cz(w,this.U);h.x*=O.V();h.y*=O.V();this.O_=h;if(this.Rc&&this.Pe==this.U&&!o)this.c(new e9("mousemove"));
else if((o=="grab"||o==null)&&(E.length>1||!X.mz.RP(i))){if(E.length>1){var x=O.cz(E[0],this.U),j=O.cz(E[1],this.U),v=new a5(O.V()*(x.x+j.x)/2,O.V()*(x.y+j.y)/2),_=a5.GZ(x,j),L=null;
if(_>this.zO+50){this.zO+=50;L=!0}if(_<this.zO-50){this.zO-=50;L=!1}if(L!=null)this.bZ(v,L);return}else{var U=h.x-this.SH.x,n=h.y-this.SH.y;
X.z.x=this.rU.x+Math.round(U);X.z.y=this.rU.y+Math.round(n)}this.c(new e9("viewchange"))}};hB.prototype.wz=function(w){var I=this.AE(w),E=this.Yb;
E.splice(I,1);if(E.length==0){O.Gk(window,this.ak0);O.$x(window,this.apI);var X=this.aE;if(w.detail>1){this.u.T=1;
this.u.z.eo(0,0);this.qF()}if(this.Rc&&this.Pe==this.U&&!this.aE)this.c(new e9("mouseup"));else{if(X=="zoom-in"||X=="zoom-out")this.bZ(this.O_,X=="zoom-in")}}else{var o=this.SH=O.cz(E[0],this.U);
o.x*=O.V();o.y*=O.V()}};hB.prototype.oz=function(){return this.u.sP(this.O_.x,this.O_.y)};function ij(){cu.call(this);
this.tz=null;this.yw=null;this.K8=null;this.AZ=null;this.aiN="";this.bI=[];this.Rg=0;this.GH=[];this.a5=0;
this.m6=null;var w=this.m=O.S("div",""),I=this.a76=O.S("div","form");I.setAttribute("style","line-height:0; margin-bottom:0.5em;");
w.appendChild(I);var E=this.eH=O.S("span");I.appendChild(E);E.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var X=this.ah$=new em([25,2,0]);X.B(!0);I.appendChild(X.m);X.h(W.E.r,this.Fm,this);var o=this.Xu=new em([25,2,1]);
o.B(!0);I.appendChild(o.m);o.h(W.E.r,this.Fm,this);var i=new gJ(" ");I.appendChild(i.m);var h=this.EY=new aR([25,1,1]);
I.appendChild(h.m);h.h(W.E.r,this.Fm,this);this.x5=new iC(14);this.x5.app(3);I.appendChild(this.x5.m);
this.x5.parent=this;this.x5.h(W.E.r,this.afh,this);var k=this.a5l=new es([25,1,2],null,null,!0);I.appendChild(k.m);
k.h("click",this.uP,this);var x=new es("?",null,null,!0);I.appendChild(x.m);x.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.a9y=this.avf.bind(this);this.Wa=O.S("div","svggallery scrollable");w.appendChild(this.Wa);this.Wa.addEventListener("scroll",this.a86.bind(this))}ij.prototype=new cu;
ij.prototype.eU=function(w){this.aqr=w};ij.prototype.f=function(){this.eH.textContent=df.get([25,0]);
this.x5.f();this.ah$.f();this.Xu.f();this.EY.f();this.a5l.f()};ij.prototype.hi=function(w,I){this.tz=new a5(w,I);
this.a76.setAttribute("style","width:"+w+"px");var E=this.a76.getBoundingClientRect();I-=E.height;this.Wa.setAttribute("style","width:"+w+"px; height:"+I+"px");
if(O.NJ(this.m))this.Fm()};ij.prototype.B=function(w){this.yw=w;this.Fm()};ij.prototype.a86=function(w){var I=this.Wa;
if(I.scrollTop+I.clientHeight+10>=I.scrollHeight){this.Fm(!0)}};ij.prototype.afh=function(w){this.K8=null;
this.Fm()};ij.prototype.avf=function(w){if(Date.now()-this.a5<2e3)return;this.a5=Date.now();this.Rg=this.GH.indexOf(w.currentTarget);
var I=this.W5(this.yw.x,this.yw.y);if(I[1]){var E=I[1].largeImageURL,X=new XMLHttpRequest;X.responseType="arraybuffer";
X.open("GET",E,!0);X.onload=this.asl.bind(this);X.send();return}this.ahj(I)};ij.prototype.asl=function(w){var I=w.target.response,E=gt.mq(I),X=gt.FB(E),o=X.CE(I),i=this.W5(this.yw.x,this.yw.y,[I,o[0].WG.q,o[0].WG.w]);
this.ahj(i)};ij.prototype.ahj=function(w){var I=w[0],E=gt.mq(I),X=gt.FB(E),o=new hg("template.psd");
X.CE(I,o);var i=new e9("tempready",!0);i.data={gt:o};this.c(i)};ij.prototype.uP=function(w){var I=w.target;
this.bI=[];this.K8=null;this.Fm()};ij.prototype.at1=function(w){var I=JSON.parse(w.target.response),E=this.AZ=I.hits;
for(var P=0;P<E.length;P++)if(E[P].user_id==6314823)E.splice(P,1);this.Fm()};ij.prototype.Fm=function(w){if(this.yw==null||this.tz==null||this.aqr==null)return;
if(this.tz.x<=0)return;var I=this.yw.x,E=this.yw.y;if(Math.min(I,E)<50)return;if(w!=!0){this.GH=[];O.wO(this.Wa);
this.Wa.scrollTop=0}if(this.GH.length>300)return;var X=Math.min(1,300/Math.max(I,E)),o=this.tz.clone();
o.x-=20;var i=Math.max(1,Math.floor(o.x/(I*X))),h=Math.max(1,Math.ceil(o.y/(E*X)));X=o.x/i/I;var k=i*h;
if(this.K8==null){var x=this.aqr.vj.ZN(),j=[];for(var v in x){var _=x[v],L=_[3];if(!this.x5.Z$(_))continue;
if(_[5]==null||_[5].slice(0,2)=="gf")continue;j.push(_)}if(j.length==0)j.push(x.DejaVuSans);var U=j.length;
for(var P=0;P<U*10;P++){var n=Math.floor(Math.random()*U),a=Math.floor(Math.random()*U),T=j[n];j[n]=j[a];
j[a]=T}j=j.slice(0,10);this.K8=j}var g=this.Xu.Q(),D=this.EY.Q().trim();this.EY.Fx(g);if(g&&(this.AZ==null||D!=this.aiN)){var b=new XMLHttpRequest,N="https://pixabay.com/api/?image_type=photo"+(D==""?"":"&q="+encodeURIComponent(D))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(D=="")N="plugins/gallery.json";b.open("GET",N,!0);b.onload=this.at1.bind(this);b.onerror=function(f){console.log(f.target.response)};
b.send();this.aiN=D;return}X*=(I*X-5)/(I*X);var C=this.GH.length;for(var P=0;P<k;P++){var Z=this.Rg=C+P;
if(this.bI[Z]==null)this.bI[Z]=Math.floor(Math.random()*4294967295);var S=this.W5(Math.round(I*X),Math.round(E*X)),u=S[0];
u=M.YV(new Uint8Array(u));var p=O.S("span");p.innerHTML=u;this.GH.push(p);this.Wa.appendChild(p);p.addEventListener("click",this.a9y,!1)}};
ij.prototype.W5=function(w,I,E){var X=this.Xu.Q(),o=this.ah$.Q(),i=X&&this.AZ.length!=0?this.AZ:null;
if(o&&!X)i=null;if(o&&X&&(this.Rg&1)==0)i=null;return i1.cw(w,I,this.bI[this.Rg],this.K8,E?E:i)};function fJ(){cu.call(this);
this.m=O.S("div");this.Xd=null;this.afr=null;this.M3=-1;this.iW={JPG:[{q8:new fO([12,52,0],0,100,"%",null,null,!0),LS:70},{q8:new em("attach metadata"),LS:!1}],TIFF:[{q8:new em("attach metadata"),LS:!1}],WEBP:[{q8:new fO([12,52,0],0,100,"%",null,null,!0),LS:70}],GIF:[{q8:new fO([12,52,0],0,100,"%",null,null,!0),LS:100},{q8:new em([12,23,3]),LS:!1}],PNG:[{q8:new fO([12,52,0],0,100,"%",null,null,!0),LS:100},{q8:new em("don't use palettes"),LS:!1}],PDF:[{q8:new aR([12,52,1]),LS:""},{q8:new fO([12,52,0],0,100,"%",null,null,!0),LS:100},{q8:new em("reverse pages"),LS:!1},{q8:new em("rasterize all"),LS:!1},{q8:new em("vectorize text"),LS:!1},{q8:new fO("Add Margin",0,5,"in",2),LS:0}],EMF:[{q8:new aR([12,52,1]),LS:""},{q8:new fO([12,52,0],0,100,"%",null,null,!0),LS:100},{q8:new em("reverse pages"),LS:!1},{q8:new em("rasterize all"),LS:!1},{q8:new em("vectorize text"),LS:!1},{q8:new fO("Add Margin",0,5,"in",2),LS:0}],SVG:[{q8:new em("add raster graphics"),LS:!0},{q8:new em("add hidden layers"),LS:!1},{q8:new em("vectorize text"),LS:!1},{q8:new em("rasterize text"),LS:!1},{q8:new em("minify"),LS:!1}],RAW:[{q8:new f$([12,72],["1","3","4"]),LS:2},{q8:new f$([12,34],["8 Bits","16 Bits"]),LS:0},{q8:new f$("Byte Order",["12-34","34-12"]),LS:0}],DDS:[{q8:new em("Add Mipmaps"),LS:!0},{q8:new em("Compression"),LS:!0}],anim:[{q8:new fO("Speed",10,800,"%",null,!0,!0),LS:100},{q8:new ic("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),LS:0},{q8:new em("reverse frames"),LS:!1},{q8:new em("boomerang"),LS:!1}],slcs:[{q8:new em([8,11,0]),LS:!0}],artb:[{q8:new em([1,16,1]),LS:!0}],hicc:[{q8:new em("convert to sRGB"),LS:!0}]};
for(var w in this.iW){var I=this.iW[w];for(var P=0;P<I.length;P++){I[P].q8.B(I[P].LS);I[P].q8.h(W.E.r,this.q4,this)}}}fJ.prototype=new cu;
fJ.prototype.asI=function(){this.M3=-1};fJ.prototype.f=function(){for(var w in this.iW)for(var P=0;P<this.iW[w].length;
P++)this.iW[w][P].q8.f()};fJ.prototype.q4=function(){this.Fm();this.c(new e9(W.E.r,!1))};fJ.prototype.Fm=function(){var w=this.Xd,I=w[0],E=w[1],X=w[2],o=w[3],i=w[4],h=this.iW[I];
if(h==null)h=[];else h=h.slice(0);if(E)h=h.concat(this.iW.anim);if(["GIF","PNG","JPG"].indexOf(I)!=-1&&X)h=h.concat(this.iW.slcs);
else if(["GIF","PNG","JPG"].indexOf(I)!=-1&&o)h=h.concat(this.iW.artb);if(i)h=h.concat(this.iW.hicc);
var k=w.join(",");if(k!=this.M3){this.M3=k;O.wO(this.m);for(var P=0;P<h.length;P++){if(I=="PDF"&&!o&&(P==0||P==2))continue;
this.m.appendChild(h[P].q8.m);O.D2(this.m)}}var x=this.afr=[];for(var P=0;P<h.length;P++)x.push(h[P].q8.Q())};
fJ.prototype.a7I=function(w,I,E,X,o){this.Xd=[w,I,E,X,o];this.Fm()};fJ.prototype.Q=function(){return this.afr.slice(0)};
function e$(){cu.call(this);this.m=O.S("span","fitem");this.DH=!1;this.lx=new es("No",!1,"Cancel");this.lU=new es("Yes",!1,"Confirm");
this.m.appendChild(this.lx.m);this.m.appendChild(this.lU.m);this.lx.h("click",this.sY,this);this.lU.h("click",this.sY,this);
this.f()}e$.prototype=new cu;e$.prototype.f=function(){this.lx.vw(O.UG("cross",null,"autoscale"));this.lU.vw(O.UG("checkmark",null,"autoscale"))};
e$.prototype.sY=function(w){this.DH=w.target==this.lU;this.c(new UIEvent("click"))};e$.prototype.Q=function(){return this.DH};
function e8(w){cu.call(this);this.m=O.S("span","fitem");this.aL=new es("\u25BC",null,"Auto Options",!0);
O.KO(this.aL.m,this.a8B.bind(this));this.m.appendChild(this.aL.m);this.Xe=new es("Auto",null,null,!0);
this.Xe.h("click",this.ZX,this);this.m.appendChild(this.Xe.m);this.cJ=new fY("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.cJ.h(W.E.r,this.ZX,this);this.cJ.B([!1,!1,!1,!0]);this.Lp=new cu;var I=this.Lp.m=O.S("div","floatcont form");
I.setAttribute("style","width: 250px;");this.Lp.parent=this;I.appendChild(this.cJ.m);this.TV=[];for(var P=0;
P<2;P++){var E=new ic((P==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);E.B(.1);E.h(W.E.r,this.ZX,this);
this.TV.push(E);I.appendChild(E.m)}}e8.prototype=new cu;e8.prototype.ZX=function(w){this.c(new e9(W.E.r,!1))};
e8.prototype.f=function(){};e8.prototype.Q=function(){return[this.cJ.Q().indexOf(!0),this.TV[0].Q(),this.TV[1].Q()]};
e8.prototype.a8B=function(w){if(O.NJ(this.Lp.m))return;w.stopPropagation();var I=this.aL.m.getBoundingClientRect(),E=new e9(W.E.Z,!0);
E.data={d:W.t.DI,E5:this.Lp,x:I.left,y:I.top+I.height+4};this.c(E)};function jc(){cu.call(this);var w=this.m=O.S("div","fitem");
this.L0=new b4([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.L0.h(W.E.r,this.JX,this);w.appendChild(this.L0.m);
this.rS=new fs(!1);this.rS.parent=this;this.rS.xz(16777215);this.rS.h(W.E.r,this.JX,this);w.appendChild(this.rS.m)}jc.prototype=new cu;
jc.prototype.f=function(){this.L0.f();this.rS.f()};jc.prototype.a6M=function(w){var I=[w.artboardBackgroundType.v-1];
if(w.Clr)I.push(w.Clr.v);this.B(I)};jc.prototype.a5K=function(){var w=this.Q();return{classID:"artboard",Clr:{t:"Objc",v:w[1]},artboardBackgroundType:{t:"long",v:w[0]+1}}};
jc.prototype.B=function(w){this.L0.B(w[0]);if(w[1])this.rS.B(w[1])};jc.prototype.Q=function(){return[this.L0.Q(),this.rS.Q()]};
jc.prototype.JX=function(w){if(w.target==this.rS)this.L0.B(3);this.c(new e9(W.E.r,!1))};function gB(w){cu.call(this);
this.oM=w;this.qX=0;this.a5x=!1;this.IT=w?new gB.xk:null;this.m=O.S("div","flexrow storageset");this.m.style.background="var(--bg-panel)";
this.K1=O.S("div");this.m.appendChild(this.K1);this.M5=O.S("div");this.m.appendChild(this.M5);this.AJ=[];
var I=Storage.list.length;if(w)I++;var E=this.PV.bind(this);for(var P=0;P<I;P++){var X=O.S("div");this.AJ.push(X);
this.K1.appendChild(X);X.addEventListener("click",E,!1)}this.PV(null,0)}gB.prototype=new cu;gB.az=[];
gB.dJ=function(w){gB.az.push(w);w.xn()};gB.Sc=function(){var w=gB.az;w.pop();w[w.length-1].xn()};gB.prototype.xn=function(){console.log(this.qX);
this.PV(null,this.qX)};gB.prototype.eU=function(w,I){if(!w.pV&&!this.a5x){var E=this.oM?2:1;for(var P=E;
P<this.AJ.length;P++)this.K1.removeChild(this.AJ[P]);this.a5x=!0;if(this.oM)this.IT.eU(w,I)}};gB.prototype.f=function(){if(this.oM)this.IT.f();
if(this.HP)this.HP.f()};gB.prototype.PV=function(w,I){var E=this.AJ,X;if(I==null)I=E.indexOf(w.currentTarget);
this.qX=I;for(var P=0;P<E.length;P++)O.yo(E[P],"active");O.vK(E[I],"active");if(this.oM)I--;O.wO(this.M5);
if(I==-1)X=this.IT;else X=Storage.TB(I);this.HP=X;X.parent=this;this.M5.appendChild(X.m);this.hi(this.LQ,this.Ns);
this.f()};gB.prototype.hi=function(w,I){this.LQ=w;this.Ns=I;var E=w<850,X=E?50:200,o=Storage.list;if(this.oM)o=[["Home",null,"strg/home"]].concat(o);
for(var P=0;P<o.length;P++){var i=this.AJ[P],h="padding: 8px "+(E?13:36)+"px; cursor:pointer;";i.setAttribute("style",h);
i.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[o[P][2]]+"\" /> "+(E?"":o[P][0])}this.m.style.width=w+"px";
this.m.style.height=I+"px";this.K1.style.width=X+"px";this.K1.style.paddingTop="32px";if(this.HP)this.HP.hi(w-X,I)};
gB.xk=function(){var w=this.m=O.S("div");w.style.background="var(--bg-canvas)";var I=this.Ca=O.S("div");
w.appendChild(I);var E=O.S("style");w.appendChild(E);E.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var P=0;P<2;P++){var X=O.S("div"),E="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";I.appendChild(X);
if(P==0)E+="padding: 12px 0px";if(P==1)E+="position:absolute;  bottom:0;";X.setAttribute("style",E);
var o=O.S("img");X.appendChild(o);o.setAttribute("src",PIMG[P==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(P==0)this.R5=o;else this.a5E=o;if(P==0)this.a4Y=X;else this.aiY=X}this.AJ=[];E="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var i=this.pO.bind(this);for(var P=0;P<3;P++){var h=O.S("span","bhover");this.AJ.push(h);h.setAttribute("style",E+"cursor:pointer; padding:12px;");
h.addEventListener("click",i,!1);I.appendChild(h)}O.D2(I);O.D2(I);var h=O.S("div");h.setAttribute("style",E+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
h.textContent="Drop any files here";I.appendChild(h);this.U=O.S("canvas");this.U.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.vu=this.U.getContext("2d");this.anC=Q.$(4);w.appendChild(this.U);var k=new Date().getDate(),x=new Date().getMonth();
if(x==11&&k>20||x==0&&k<10){var j=Math.random()<.5,v={o:255,P:255,L:255};if(!j){v=Q.Ww(Math.random(),Math.random()*.7,1);
v.o*=255;v.P*=255;v.L*=255}this.TF=[Math.round(1048575*Math.random()),j?.05:.02,Math.round(4+Math.random()*8),1,j?3:15,v,0,!0,j,j?1:.2,3];
this.aav=j?.1:.2;this.Di=this.Rq.bind(this);window.requestAnimationFrame(this.Di)}};gB.xk.prototype=new cu;
gB.xk.prototype.Rq=function(){window.requestAnimationFrame(this.Di);if(!O.NJ(this.m))return;var w=this.anC,I=this.U,E=this.vu,X=I.width,o=I.height;
this.TF[6]=Date.now()*.001*this.aav;Q.IP.Go(w,X,o,this.TF,!0);E.putImageData(new ImageData(new Uint8ClampedArray(w.buffer),X,o),0,0)};
gB.xk.prototype.pO=function(w){var P=this.AJ.indexOf(w.currentTarget),I=new e9(W.E.Z,!0);if(P==0)I.data={d:W.t.GV,ei:"newproject"};
if(P==1)I.data={d:W.t.vN};if(P==2)I.data={d:W.t.GV,ei:"res0"};this.c(I)};gB.xk.prototype.f=function(){var w=this.AJ,I=[[11,7],[1,6],["PSD VAR0",[25,0]]],E=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var P=0;P<w.length;P++)w[P].textContent=E[P]+"\u2000"+df.get(I[P]);var X="l"+"o"+"g"+"o",o=new Date;
if(o.getMonth()==3&&o.getDate()==1)X="lo"+"go_cuc"+"umber";this.R5.setAttribute("src",PIMG[X]);this.a5E.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
gB.xk.prototype.hi=function(w,I){var E=Math.min(I*1.5,Math.min(w,600));O.c_(this.U,w,E*.26);var X=this.U.width,o=this.U.height;
this.anC=Q.$(X*o*4);this.m.style.width=w+"px";this.m.style.height=I+"px";this.aiY.style.width=w+"px";
this.Ca.style.marginLeft=Math.max(0,Math.round((w+200-600)/2)-200)+"px";this.R5.style.width=E+"px";this.a5E.style.width=E+"px"};
gB.xk.prototype.eU=function(w,I){if(!w.pV)this.Ca.removeChild(this.AJ[2])};function Storage(w){cu.call(this);
var I=this.m=O.S("div","storage");O.g5(I);var E=this.a0x=O.S("style");I.appendChild(E);I.setAttribute("tabindex","0");
I.style.outline="none";I.addEventListener("keydown",this.ahF.bind(this),!1);this.VN=this.aly.bind(this);
var X=O.S("div");I.appendChild(X);var o=this.a94.bind(this);this.Qi=O.S("div","bar");X.appendChild(this.Qi);
this.me=O.S("div","fls scrollable");X.appendChild(this.me);this.Vn=O.S("div");X.appendChild(this.Vn);
this.Vn.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.f5=O.S("div","bar");this.f5.textContent="Name: ";var i=this.AU=O.S("input");i.setAttribute("type","text");
this.f5.appendChild(i);var h=this.NT=O.S("div","btn");h.textContent="Save";this.f5.appendChild(h);O.M$(h,o);
O.KO(this.me,this.VN);this.oa=0;this.Vp=w;this.Rr=O.S("div","btn");O.M$(this.Rr,this.Dg.bind(this));
this.dU=new j$([{name:[6,20]}]);this.dU.parent=this;this.CI=new j$([{name:[5,4]},{name:[6,37]}]);this.CI.parent=this;
this.dU.h("select",this.rj,this);this.CI.h("select",this.rj,this);this.me.addEventListener("contextmenu",this.VN);
this.ao6=O.S("span");this.g3=O.S("span");this.g3.setAttribute("style","position:absolute; right:0; top:5px;");
this.BT=[];this.J6=[];for(var P=0;P<3;P++){var k=O.S("div","btn");this.BT.push(k);this.ao6.appendChild(k);
O.M$(k,o);k.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][P]}for(var P=0;P<4;P++){var k=O.S("div","btn");
this.J6.push(k);this.g3.appendChild(k);O.M$(k,o)}window.addEventListener("message",this.aaU.bind(this),!1);
this.ago=!1;setInterval(this.aep.bind(this),300);this.No()}Storage.prototype=new cu;Storage.CS=!1;Storage.prototype.aep=function(){var w=O.NJ(this.m),I=this.ago;
if(w&&!I){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!w&&I){window.onpopstate=function(){};
history.go(-1)}this.ago=w};Storage.prototype.No=function(){if(this.NI)document.body.removeChild(this.NI);
this.co=[[]];this.Lh=0;this.aw9={"/":[]};this.UR="";this.$m=null;this.bB=[];this.gs=[];var w="code/storages/"+Storage.list[this.Vp][1],I=this.NI=O.S("iframe");
I.setAttribute("src",w);I.setAttribute("style","display:none");document.body.appendChild(I)};Storage.prototype.yy=function(){return this.aw9[this.aA()]};
Storage.prototype.b$=function(w){this.aw9[this.aA()]=w};Storage.TB=function(P){var w=Storage.wp[P];if(w==null)w=Storage.wp[P]=new Storage(P);
return w};Storage.wp=[];Storage.KT=0;Storage.apS="";Storage.xy=function(w,I){Storage.KT=w;Storage.apS=I;
var E=Storage.wp;for(var P=0;P<E.length;P++)if(E[P])E[P].xn()};Storage.MZ=0;Storage.fN=2;Storage.Ej=0;
Storage.list=[["This Device","deviceStorage.html","strg/tdevice"],["Google Drive","googledriveStorage.html","strg/gdrive"],["Shared Drives","googledriveStorage.html?sharedDrive=true","strg/gdrive"],["OneDrive","onedriveStorage.html","strg/onedrive"],["Dropbox","dropboxStorage.html","strg/dropbox"]];
Storage.a3l=function(w){for(var P=0;P<Storage.wp.length;P++){if(Storage.wp[P]&&Storage.wp[P].NI.contentWindow==w)return!0}return!1};
Storage.prototype.ahF=function(w){if(w.target.tagName=="INPUT")return;var I=aW;if(I.OE(w.code,I.Ur)&&this.aA().length!=0)this.ax8();
else if(w.ctrlKey){if(I.OE(w.code,I.t)){var E=[];this.b$(E);for(var P=0;P<this.$m.length;P++)E.push(P);
this.Ma()}if(I.OE(w.code,I.DM)){}if(I.OE(w.code,I.uB)){}}else if(I.OE(w.code,I.yd)){var X=this.yy();
if(X.length!=0)this.a6Y(X[0])}else if(I.OE(w.code,I.jY)){this.Lh=Math.max(this.Lh-1,0);this.Dg()}else{var o=0;
for(var P=65;P<=90;P++)if(w.code=="Key"+String.fromCharCode(P))o=P;if(o!=0){var i=String.fromCharCode(o).toLowerCase(),h=[],k=this.$m,x;
for(var P=0;P<k.length;P++)if(k[P][0][0].toLowerCase()==i)h.push(P);if(h.length==0)return;var X=this.yy();
if(X.length==0)x=h[0];else{var j=h.indexOf(X[0]);if(j==-1){x=h[0];for(var P=0;P<h.length;P++)if(h[P]>X[0]){x=h[P];
break}}else x=h[(j+1)%h.length]}this.b$([x]);this.Ma(!0)}}};Storage.prototype.hi=function(w,I){this.LQ=w;
this.Ns=I;this.m.style.width=w+"px";this.m.style.height=I+"px";var E=w-30,X=Math.floor(E/230),E=Math.floor(E/X)-70;
this.a0x.textContent=".storage .tile .name {  width:"+E+"px;  }";this.AU.style.width=w-140+"px";this.me.style.width=this.Qi.style.width=w-20+"px";
this.me.style.height=I-70-(Storage.KT==0?0:45)+"px"};Storage.prototype.Dg=function(){this.xl("show",this.aA())};
Storage.prototype.aA=function(w){var I=this.co[this.Lh],E="/"+I.join("/");if(w&&I.length!=0)E+="/";return E};
Storage.prototype.a94=function(w){var I=w.currentTarget,E=this.Lh,X=this.BT.indexOf(I),o=this.J6.indexOf(I);
if(X>=0&&!this.atk(X))return;if(X==0){this.Lh=Math.max(E-1,0);this.Dg()}if(X==1){this.Lh=Math.min(E+1,this.co.length-1);
this.Dg()}if(X==2){var i=this.co[E+1]=this.co[E].slice(0);i.pop();this.Lh++;this.co=this.co.slice(0,this.Lh+1);
this.Dg()}if(o==0){Storage.MZ=(Storage.MZ+1)%2;this.xn()}if(o==1){Storage.fN=(Storage.fN+1)%3;this.xn()}if(o==2){Storage.Ej=(Storage.Ej+1)%3;
this.xn()}if(o==3){this.xl("forget","")}if(I==this.NT){var h=this.AU.value.trim(),k=this.$m,x=-1;if(!h.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var P=0;P<k.length;P++)if(k[P][0]==h)x=P;if(x!=-1){this.amh("Do you really want to replace \""+h+"\"?",this.agT.bind(this))}else this.agT()}};
Storage.prototype.agT=function(){var w=this.AU.value.trim(),I=[this.Vp,this.aA(!0)+w];this.bR({d:W.t.a7s,Y8:I});
this.c(new e9("canclose",!0))};Storage.prototype.rj=function(w){var I=w.target.RC()[0];if(w.target==this.dU){var E=[df.get([6,20]),-1,0];
this.$m.push(E);this.xn();var P=this.$m.indexOf(E),X=this.bB[P].querySelector(".name");console.log(X);
var o=new eB.hG(X,function(h){this.bR({d:W.t.XR,cG:df.get([1,2])+" ..."});var k=this.aA(!0)+h+"/";console.log(k);
this.xl("save",k)}.bind(this),!0)}else{if(I==0)this.ax8();else{var P=this.yy()[0],i=this.$m[P],X=this.bB[P].querySelector(".name");
console.log(X);X.innerHTML=i[0];var o=new eB.hG(X,function(h){h=h.trim();var k=this.$m;for(var P=0;P<k.length;
P++)if(k[P][0]==h){alert("Item with such name already exists.");this.xn();return}var x=this.aA(!0)+i[0]+":"+h;
console.log(x);this.xl("rename",x)}.bind(this))}}};Storage.prototype.ax8=function(){var w=this.yy();
this.amh("Do you really want to delete "+(w.length==1?"\""+this.$m[w[0]][0]+"\"":"these files")+"?",this.ma.bind(this))};
Storage.prototype.amh=function(w,I){var E={d:W.t.GV,ei:"confirm",k:w,qu:I};this.bR(E)};Storage.prototype.ma=function(){this.bR({d:W.t.XR,cG:df.get([5,4])+" ..."});
this.gs=this.a0p();this.avB()};Storage.prototype.avB=function(){if(this.gs.length==0){this.bR({d:W.t.Iw,cG:df.get([5,4])+" ..."});
this.b$([]);this.Dg()}else this.xl("delete",this.gs.pop()[1])};Storage.prototype.a0p=function(){var w=[],I=this.aA(!0),E=this.yy();
for(var P=0;P<E.length;P++){var X=this.$m[E[P]];w.push([this.Vp,I+X[0]])}return w};Storage.prototype.xl=function(w,I){this.UR=w;
if(Storage.CS)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+w+"\", \"prm\": "+JSON.stringify(I)+"  }");
this.NI.contentWindow.postMessage("{\"code\": \""+w+"\", \"prm\": "+JSON.stringify(I)+"  }","*")};Storage.prototype.aaU=function(w){if(w.source!=this.NI.contentWindow)return;
if(typeof w.data=="string"){if(Storage.CS)console.log("==",Math.floor(Date.now()/1e3),w.data);var I=JSON.parse(w.data),E=I.code,X=I.prm;
if(E=="ready"){if(X)this.Dg();else{O.wO(this.Qi);O.wO(this.me);this.Qi.appendChild(this.Rr)}}else if(E!="0"){alert(X);
this.xn()}else if(this.UR=="show"){this.$m=X;this.xn()}else if(this.UR=="save"){this.bR({d:W.t.Iw,cG:df.get([1,2])+" ..."});
this.Dg()}else if(this.UR=="delete"){this.avB()}else if(this.UR=="forget"){this.No()}else if(this.UR=="rename"){this.Dg()}else throw E}else{if(Storage.CS)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.bR({d:W.t.aca,Y8:this.a0p()[0],T1:w.data});this.bR({d:W.t.Iw,cG:"Opening ..."})}};Storage.prototype.atk=function(P){if(P==0)return this.Lh>0;
if(P==1)return this.Lh<this.co.length-1;if(P==2)return this.aA()!="/"};Storage.prototype.xn=function(){var w=this.$m,I=Storage.fN,E=Storage.MZ,X=Storage.Ej;
if(w==null)return;w.sort(function(u,p){var f=u[1]==-1?1:5,d=p[1]==-1?1:5,l=0;if(Math.min(f,d)==1&&f!=d)return f-d;
else if(f==1||I==0)l=u[0].toLowerCase()<p[0].toLowerCase()?-1:1;else if(I==1)l=u[1]-p[1];else if(I==2)l=u[2]-p[2];
if(E==1)l=-l;return l});var o=this.me,i=this.Qi,h=this.co[this.Lh];O.wO(o);O.wO(i);this.bB=[];for(var P=0;
P<3;P++)if(this.atk(P))O.yo(this.BT[P],"disabled");else O.vK(this.BT[P],"disabled");i.appendChild(this.ao6);
i.appendChild(this.g3);var k=O.S("span");k.textContent="/";i.appendChild(k);for(var P=0;P<h.length;P++){var k=O.S("span");
k.textContent=h[P];i.appendChild(k);var k=O.S("span");k.textContent="/";i.appendChild(k)}var x=["tile","icon","litm"][X];
for(var P=0;P<w.length;P++){var j=w[P],v=j[1]==-1,_=v?"":eP.WH(j[1]),L=O.S("div","cont "+x);o.appendChild(L);
this.bB.push(L);L.setAttribute("title",j[0]+(v?"":"\nSize: "+_+"\nDate Modified: "+new Date(j[2]*1e3).toLocaleString().replaceAll(". ",".")));
var U=O.S("img");U.setAttribute("src",v?Storage.acO:j[3]?j[3]:Storage.fR);if(!v&&j[3])U.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var n=O.S("span","name"),a=j[0];if(x=="icon"&&a.length>30)a=a.slice(0,24)+".."+a.slice(a.length-5);n.textContent=a;
L.appendChild(U);L.appendChild(n);if(x!="icon"&&!v){if(x=="tile")O.D2(n);var T=O.S("span");T.textContent=_;
T.style.opacity="0.8";(x=="tile"?n:L).appendChild(T)}var g=j[0].split("."),D=(g.length==1?"":g.pop()).toUpperCase();
if(x!="litm"&&!v&&j[3]==null){var b=O.S("span","ext");b.textContent=D;var N=Storage.uC[D];b.style.backgroundColor=N?N:Storage.abe(D);
L.appendChild(b)}O.KO(L,this.VN);L.addEventListener("contextmenu",this.VN)}this.Ma();var C=this.f5.parentNode!=null,Z=Storage.KT,S=this.m;
if(C&&Z==0)S.removeChild(this.f5);if(!C&&Z==1)S.appendChild(this.f5);this.hi(this.LQ,this.Ns);this.f()};
Storage.prototype.Ma=function(w){var I=this.bB,E=this.$m,X=this.yy(),o=!1,i=0;for(var P=0;P<I.length;
P++){var h=E[P],k=h[1]==-1,x=I[P];if(Storage.KT==1&&!k&&!h[0].toLowerCase().endsWith(".psd"))x.style.display="none";
else x.style.display="auto";if(X.indexOf(P)==-1)O.yo(x,"active");else{if(k)o=!0;else i+=h[1];O.vK(x,"active");
if(w)x.scrollIntoView({block:"center",behavior:"smooth"})}}var j=o?"":eP.WH(i);this.Vn.textContent=X.length==0?"":X.length+" item"+(X.length==1?"":"s")+" selected\u2001"+j;
this.AU.value=X.length==1&&!o?E[X[0]][0]:Storage.apS};Storage.prototype.a6Y=function(P){var w=this.$m[P];
if(w[1]==-1){var I=this.co[this.Lh].slice(0);I.push(w[0]);this.Lh++;this.co[this.Lh]=I;this.co=this.co.slice(0,this.Lh+1);
this.b$([]);this.Dg()}else if(Storage.KT==0){this.bR({d:W.t.XR,cG:"Opening ..."});this.c(new e9("canclose",!0));
var E=this.aA(!0)+w[0];this.xl("load",E)}};Storage.prototype.f=function(){var w=Storage.fN,I=Storage.MZ,E=Storage.Ej;
this.J6[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][I];this.J6[1].textContent=df.get([[12,48],[12,14,0],"Date"][w]);
this.J6[2].textContent=df.get(["Tiles","Icons",[25,3,1]][E]);this.J6[3].textContent="\u2716";this.Rr.textContent=df.get([[23,6],Storage.list[this.Vp][0]])};
Storage.prototype.aly=function(w){this.bR({d:W.t.cB});if(w.button==3||w.button==4){if(Date.now()-this.acu>50){var I=this.Lh;
if(w.button==3)this.Lh=Math.max(I-1,0);else this.Lh=Math.min(I+1,this.co.length-1);this.Dg()}this.acu=Date.now();
return}w.stopPropagation();var P=this.bB.indexOf(w.currentTarget);if(w.type=="contextmenu"){if(this.$m==null)return;
w.preventDefault();var E=P==-1?this.dU:this.CI;E.parent=this;E.f();this.bR({d:W.t.DI,E5:E,x:w.clientX+4,y:w.clientY});
return}var X=this.yy(),o=X.indexOf(P);if(w.button!=0&&o!=-1)return;if(w.target==this.me)this.b$([]);
else{if(w.ctrlKey){if(o==-1)X.push(P);else X.splice(o,1)}else if(w.shiftKey&&X.length!=0){var i=X[0];
if(i<P){var h=P;P=i;i=h}X=[];this.b$(X);for(var k=P;k<=i;k++)X.push(k)}else{this.b$([P]);if(Date.now()-this.oa<300&&X.length!=0&&X[0]==P){this.a6Y(P);
this.oa=0}}}this.oa=Date.now();this.Ma()};Storage.prototype.bR=function(w){var I=new e9(W.E.Z,!0);I.data=w;
this.c(I)};Storage.prototype.anp=function(w,I){this.bR({d:W.t.XR,cG:df.get([1,2])+" ..."});this.xl("save",w);
if(Storage.CS)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");this.NI.contentWindow.postMessage(I,"*")};
Storage.uC={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.abe=function(w){w=w.toLowerCase();var I=0;
for(var P=0;P<w.length;P++)I+=w.charCodeAt(P)*613<<8*P;return"#"+Q.mv(I&16777215)};Storage.acO="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.fR="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function dv(w){cu.call(this);var I=this.m=O.S("div","form scrollable padded label12");this.Wk=w;this.hp=null;
var E=[],X=dv.in[w];this.t$=[];for(var o in X){var i=parseInt(o.slice(1)),h=i%10==0?"":"\u2800\u2800- ";
E.push(h+X[o]);this.t$.push(i)}this.io=[new aR("Name",null,30),new aR("Description",null,30,4),w==0?new aR("File"," www.Photopea.com#i...",17):new gz("File",!1,!1),new aR("Thumbnail URL","* Use Imgur.com etc.",17),new b4("Category",E),new em("Make Public"),new es("<< Back",null,null,!0),new es("Save",null,null,!0)];
if(w==0)this.io.push(new gJ("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new gJ("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(w==1)this.io.push(new gJ("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(w!=0)this.io.push(new gJ("Do not load any file to preserve the old version."));for(var P=0;P<this.io.length;
P++){var k=this.io[P];I.appendChild(k.m);k.parent=this;if(P!=4&&P!=6)O.D2(I);if(k instanceof es)k.h("click",this.af1,this)}}dv.prototype=new cu;
dv.prototype.af1=function(w){if(w.target==this.io[6]){this.c(new e9("back"));return}var I=this.io[3].Q().trim(),E=I.startsWith("http")&&(I.endsWith(".jpeg")||I.endsWith(".jpg")||I.endsWith(".png")||I.endsWith(".gif"));
if(!E){alert("Thumbnail URL is incorrect.");return}var X=new XMLHttpRequest,o="mirror.php?url="+encodeURIComponent(I);
X.open("GET",o);X.responseType="arraybuffer";X.onload=this.ayr.bind(this);X.send()};dv.prototype.ayr=function(w){var I=w.target.response,E=I.byteLength;
if(E>2e5&&gt.mq(I)!="gif"){alert("Thumbnail is too large ("+eP.WH(E)+"). Make it under 200 kB.");return}var X=this.io[2].Q(),o=Object.keys(X);
if(this.Wk!=0&&o.length!=0){console.log(X);jb.Xd.akI(X[o[0]].buffer,o[0],this.aj0.bind(this),"pp-resources");
return}this.aj0()};dv.prototype.aj0=function(w){var I=this.Wk,E="name desc file thmb catg publ".split(" "),X=this.hp;
for(var P=0;P<6;P++){if(I!=0&&P==2)continue;var o=this.io[P].Q();if(P<=3){o=o.trim();if(o.length==0){alert("One of values is empty.");
return}}if(P==2){var i=o.split("#i");if(i.length!=2||i[1].length!=8){alert("File ID is incorrect.");
return}o=i.pop()}if(P==4)o=this.t$[o];X[E[P]]=o}if(I!=0){if(w)X.file=w;else if(X.file==null){alert("Select a file from your computer.");
return}}if(X.utme.length==0)X.utme=""+Math.round(Date.now()/1e3);X.type=I;this.c(new e9("save"))};dv.prototype.f=function(){};
dv.prototype.B=function(w){var I=this.hp=JSON.parse(JSON.stringify(w)),E="name desc file thmb catg publ".split(" ");
for(var P=0;P<6;P++){var X=I[E[P]];if(X!=""&&P==2)X="https://photopea.com#i"+X;if(P==4)X=this.t$.indexOf(X);
if(P==5&&X==null)X=!0;this.io[P].B(X)}};dv.prototype.Q=function(){return JSON.parse(JSON.stringify(this.hp))};
dv.in=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function kg(w){cu.call(this);this.Id=w;this.m=O.S("div","");this.Cv=[];this.yK=null;this.ard=[]}kg.prototype=new cu;
kg.prototype._Y=function(w){};kg.prototype.Iq=function(){return!1};kg.prototype.hi=function(w,I){};kg.prototype.eU=function(w,I){};
kg.prototype.NC=function(w){};kg.prototype.B=function(w,I,E,X,o,i){var h=[],k=this.Cv,x=0,j=gD._$["s"+this.Id];
j?j(w,h,i):this.b3(w,h,i);for(var P=0;P<k.length;P++)if(!(k[P]instanceof gJ))k[P].B(h[x++]);if(w.RndS)this.yK=w.RndS.v};
kg.prototype.Q=function(){var w=gD.SX(this.Id),I=[],E=this.Cv,X=0;for(var P=0;P<E.length;P++)if(!(E[P]instanceof gJ))I[X++]=E[P].Q();
var o=gD._$["g"+this.Id];o?o(w,I):this.VA(w,I);if(w.RndS)w.RndS.v=this.yK;return w};kg.prototype.oH=function(w){};
kg.prototype.v2=function(w){if(w&&w.target instanceof es){this.yK=Math.floor(Math.random()*4294967295)}var I=this.ard;
for(var P=0;P<I.length;P+=2){var E=this.Cv[I[P]],X=this.Cv[I[P+1]],o=E.Q(),i=X.Q();if(w.target==E)X.B(Math.max(o,i));
else E.B(Math.min(o,i))}this.c(new e9(W.E.r))};kg.prototype.f=function(){for(var P=0;P<this.Cv.length;
P++)this.Cv[P].f();var w=this.a22;if(w)w.f()};kg.prototype.ba=function(w){O.vK(this.m,"form");var I=this.Cv;
for(var P=0;P<I.length;P++){var E=I[P];E.parent=this;E.h(W.E.r,this.v2,this);this.m.appendChild(E.m);
if(E instanceof em&&I[P+1]instanceof fs)continue;if(w&&w.indexOf(P)!=-1)O.wU(this.m);else O.D2(this.m)}var X=gD.SX(this.Id);
if(X.RndS){var o=this.a22=new es([25,1,2],null,null,!0);this.m.appendChild(o.m);o.h("click",this.v2,this)}};
kg.prototype.$c=function(){return!1};kg.prototype.PX=function(w,I,E,X,o){};kg.prototype.L_=function(w,I,E,X,o){};
kg.prototype.dj=function(w,I,E,X,o){};kg.prototype.VA=function(w,I){};kg.prototype.b3=function(w,I){};
kg.prototype.qm=function(w){var I=w.target.Q().indexOf(!0)!=-1,E=new e9(W.E.Z,!0);E.IY=!0;E.data={d:I?W.t.en:W.t.xv,G:q.RK};
this.c(E);E=new e9(W.E.s,!0);E.G=q.RK;E.IY=!0;E.data={d:"supertool",G:I?this:null};this.c(E)};kg.adj=function(w){w.$c=function(){return!0};
w.PX=function(I,E,X,o,i){this.nH=!0;this.a2y(I,i)};w.L_=function(I,E,X,o,i){if(!this.nH)return;this.a2y(I,i)};
w.dj=function(I,E,X,o,i){this.nH=!1};w.a2y=function(I,E){var X=new dC(0,0,I.q,I.w);if(I.n)X=I.n.rect;
var o=I.u.sP(E.x,E.y);o.x-=X.x;o.y-=X.y;function i(h,k){return Math.round(Math.max(0,Math.min(100,100*h/k)))}this.Cv[2].B(i(o.x,X.q));
this.Cv[3].B(i(o.y,X.w));this.v2()}};kg.Bokh=function(){kg.call(this,"Bokh");this.Cv=[new b4("Depth Map",["A","b"]),new fO("Focal Distance",0,255),new em([4,11]),new b4([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new fO([12,56],0,100),new fO([12,15],0,360),new fO([12,2],0,100),new fO([4,13],0,255),new fO([24,6],0,100),new f$([12,58],[[12,59,0],[12,59,1]]),new em([12,60])];
this.ba([5,7])};kg.Bokh.prototype=new kg;kg.Bokh.prototype.b3=function(w,I,E){var X=[[22,5,0],[6,5,3],[6,2]],o=w.BkDi.v.BtDi,i=w.BkDc,h=0;
if(o=="BeIn")h=0;else if(o=="BeIt"&&i.v.BtDc=="BeCt")h=1;else if(o=="BeIt"&&i.v.BtDc=="BeCm")h=2;else h=3+i.v;
for(var P=0;P<E[1].length;P++)X.push(E[1][P].name);this.Cv[0].Zq(X,[3]);I[0]=h;I[1]=w.BkDp.v;I[2]=w.BkDs.v;
I[3]=parseInt(w.BkIs.v.BtIs.slice(3))-3;I[4]=w.BkIb.v;I[5]=w.BkIr.v;I[6]=w.BkSb.v;I[7]=w.BkSt.v;I[8]=w.BkNa.v;
I[9]=w.BkNt.v.BtNt=="BeNu"?0:1;I[10]=w.BkNm.v};kg.Bokh.prototype.VA=function(w,I){var E;if(I[0]==0){E="BeIn";
delete w.BkDc}else if(I[0]<3){E="BeIt";w.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][I[0]-1]}}}else{E="BeIa";
w.BkDc={t:"long",v:I[0]-3}}w.BkDi.v.BtDi=E;w.BkDp.v=I[1];w.BkDs.v=I[2];w.BkIs.v.BtIs="BeS"+(3+I[3]);
w.BkIb.v=I[4];w.BkIr.v=I[5];w.BkSb.v=I[6];w.BkSt.v=I[7];w.BkNa.v=I[8];w.BkNt.v.BtNt=["BeNu","BeNg"][I[9]];
w.BkNm.v=I[10]};kg.oilPaint=function(){kg.call(this,"oilPaint");this.Cv=[new fO([12,56],.1,10,"px",!0),new fO("Cleanliness",0,10,"px",!0),new fO([12,38],.1,10,null,!0),new fO("Bristle Detail",0,10,null,!0),new em("Lighting"),new fO("Shine",0,10,null,!0),new ia([12,15])];
this.ba()};kg.oilPaint.prototype=new kg;kg.oilPaint.prototype.b3=function(w,I){var E="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var P=0;P<E.length;P++)I[P]=w[E[P]].v;I[6]=[w.LghD.v]};kg.oilPaint.prototype.VA=function(w,I){var E="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var P=0;P<E.length;P++)w[E[P]].v=I[P];w.LghD.v=I[6][0]};kg.TrcC=function(){kg.call(this,"TrcC");
this.Cv=[new fO("Level",0,255),new f$([12,69],[[19,4,1],[19,4,0]])];this.ba()};kg.TrcC.prototype=new kg;
kg.TrcC.prototype.b3=function(w,I){I[0]=w.Lvl.v;I[1]=["Lwr","Upr"].indexOf(w.Edg.v.CntE)};kg.TrcC.prototype.VA=function(w,I){w.Lvl.v=I[0];
w.Edg.v.CntE=["Lwr","Upr"][I[1]]};kg["Dfs "]=function(){kg.call(this,"Dfs ");this.Cv=[new f$([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.ba()};kg["Dfs "].prototype=new kg;kg["Dfs "].prototype.b3=function(w,I){I[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(w.Md.v.DfsM)};
kg["Dfs "].prototype.VA=function(w,I){w.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][I[0]]};kg.Embs=function(){kg.call(this,"Embs");
this.Cv=[new ia([12,15]),new fO([12,42],1,100,"px"),new fO([12,57],1,500,"%")];this.ba()};kg.Embs.prototype=new kg;
kg.Embs.prototype.b3=function(w,I){I[0]=[w.Angl.v];I[1]=w.Hght.v;I[2]=w.Amnt.v};kg.Embs.prototype.VA=function(w,I){w.Angl.v=I[0][0];
w.Hght.v=I[1];w.Amnt.v=I[2]};kg["Wnd "]=function(){kg.call(this,"Wnd ");this.Cv=[new f$([12,32],["Wind","Blast","Stagger"]),new f$([12,33],["From the Right","From the Left"])];
this.ba()};kg["Wnd "].prototype=new kg;kg["Wnd "].prototype.b3=function(w,I){I[0]=["Wnd","Blst","Stgr"].indexOf(w.WndM.v.WndM);
I[1]=["Left","Rght"].indexOf(w.Drct.v.Drct)};kg["Wnd "].prototype.VA=function(w,I){w.WndM.v.WndM=["Wnd","Blst","Stgr"][I[0]];
w.Drct.v.Drct=["Left","Rght"][I[1]]};kg.denoise=function(){kg.call(this,"denoise");this.Cv=[new fO([12,64],0,10),new fO([12,65],0,100,"%")];
this.ba()};kg.denoise.prototype=new kg;kg.denoise.prototype.b3=function(w,I){var E=w.channelDenoise.v[0].v;
I[0]=E.Amnt.v;I[1]=E.EdgF.v};kg.denoise.prototype.VA=function(w,I){var E=w.channelDenoise.v[0].v;E.Amnt.v=I[0];
E.EdgF.v=I[1]};kg.lightFilterGradient=function(){kg.call(this,"lightFilterGradient");this.Cv=[new fO([24,3,1],0,100,"px",1,!0),new fO([12,38],0,200,"%"),new em([4,11]),new fO("High",0,100,"%"),new fO("Medium",0,100,"%"),new fO("Low",0,100,"%")];
this.ba()};kg.lightFilterGradient.prototype=new kg;kg.lightFilterGradient.prototype.b3=function(w,I){I[0]=w.blur.v;
I[1]=w.textureScale.v*100;I[2]=w.Scl.v==-1;var E=w.Dtl.v;I[3]=E[0].v*100;I[4]=E[1].v*100;I[5]=E[2].v*100};
kg.lightFilterGradient.prototype.VA=function(w,I){w.blur.v=I[0];w.textureScale.v=I[1]/100;w.Scl.v=I[2]?-1:1;
var E=w.Dtl.v;E[0].v=I[3]/100;E[1].v=I[4]/100;E[2].v=I[5]/100};kg.Fbrs=function(){kg.call(this,"Fbrs");
this.Cv=[new fO("Variance",1,64),new fO([12,64],1,64)];this.ba()};kg.Fbrs.prototype=new kg;kg.Fbrs.prototype.b3=function(w,I){I[0]=w.Vrnc.v;
I[1]=w.Strg.v};kg.Fbrs.prototype.VA=function(w,I){w.Vrnc.v=I[0];w.Strg.v=I[1]};kg.LnsF=function(){kg.call(this,"LnsF");
this.Cv=[new fO([12,2],10,300,"%"),new f$([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new fO("Position X",0,100,"%"),new fO("Position Y",0,100,"%")];
this.ba()};kg.LnsF.prototype=new kg;kg.LnsF.prototype.b3=function(w,I){I[0]=w.Brgh.v;I[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(w.Lns.v.Lns);
var E=w.FlrC.v;I[2]=Math.round(E.Hrzn.v*100);I[3]=Math.round(E.Vrtc.v*100)};kg.LnsF.prototype.VA=function(w,I){w.Brgh.v=I[0];
w.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][I[1]];var E=w.FlrC.v;E.Hrzn.v=I[2]/100;E.Vrtc.v=I[3]/100};kg.adj(kg.LnsF.prototype);
kg.blendOptions=function(){kg.call(this,"blendOptions");this.Cv.push(new b4([12,19,0],hH.He,!1,hH.pc));
this.Cv.push(new fO([12,0],0,100,"%"));this.ba()};kg.blendOptions.prototype=new kg;kg.blendOptions.prototype.b3=function(w,I){I[0]=hH.zg.indexOf(w.Md.v.BlnM);
I[1]=w.Opct.v.val};kg.blendOptions.prototype.VA=function(w,I){w.Md.v.BlnM=hH.zg[I[0]];w.Opct.v.val=I[1]};
kg.LnCr=function(){kg.call(this,"LnCr");this.Cv=[new fO([12,57],-100,100),new fO([12,38],10,150,"%")];
this.ba()};kg.LnCr.prototype=new kg;kg.LnCr.prototype.b3=function(w,I){I[0]=w.LnIa.v;I[1]=w.LnSi.v};
kg.LnCr.prototype.VA=function(w,I){w.LnIa.v=I[0];w.LnSi.v=I[1]};kg.adaptCorrect=function(){kg.call(this,"adaptCorrect");
var w=kk;this.Cv=[new gJ([19,6,0]),new w([12,57],0,100,"%"),new w("Tone",0,100,"%"),new w([12,56],0,200,"px"),new gJ([19,6,2]),new w([12,57],0,100,"%"),new w("Tone",0,100,"%"),new w([12,56],0,200,"px"),new gJ([3]),new w([13,0],-100,100)];
this.ba([3,7])};kg.adaptCorrect.prototype=new kg;kg.adaptCorrect.prototype.b3=function(w,I){var E=w.sdwM.v;
I[0]=E.Amnt.v.val;I[1]=E.Wdth.v.val;I[2]=E.Rds.v;var E=w.hglM.v;I[3]=E.Amnt.v.val;I[4]=E.Wdth.v.val;
I[5]=E.Rds.v;I[6]=w.ClrC.v};kg.adaptCorrect.prototype.VA=function(w,I){var E=w.sdwM.v;E.Amnt.v.val=I[0];
E.Wdth.v.val=I[1];E.Rds.v=I[2];var E=w.hglM.v;E.Amnt.v.val=I[3];E.Wdth.v.val=I[4];E.Rds.v=I[5];w.ClrC.v=I[6]};
kg.Flam=function(){kg.call(this,"Flam");var w=this.Cv=[new b4([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new fO([12,80,0],20,1e3,"px"),new em("Randomize Length"),new fO([12,41],5,600,"px"),new fO([12,15],0,360,"\xB0"),new fO("Interval",10,200,"px"),new em("Adapt Interval for Loops"),new fs(!1),new b4([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new fO("Turbulent",0,100),new fO("Jag",0,100),new fO([12,0],0,100),new fO("Lines",2,30),new fO("Bottom",0,100),new b4([12,22],["Normal","Violent","Flat"]),new b4([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new em("Randomize Shape"),new fO("Random Seed",0,100)];
this.ba();var I=this.m;O.wO(I);var E=new f$(null,["Basic","Advanced"]);E.h(W.E.r,this.agQ,this);I.appendChild(E.m);
O.wU(I);var X=O.S("div"),o=O.S("div");this.a1V=[X,o];I.appendChild(X);for(var P=0;P<w.length;P++){(P<9?X:o).appendChild(w[P].m);
if(P==6)O.D2(X)}w[0].h(W.E.r,this.aaC,this);this.aaC()};kg.Flam.prototype=new kg;kg.Flam.prototype.aaC=function(w){var I=this.Cv,P=I[0].Q();
I[1].Fx(P!=0&&P!=5);I[2].Fx(P!=0&&P!=5);I[4].Fx(P!=0&&P!=5&&P!=1);I[5].Fx(P!=0&&P!=5);I[6].Fx(P!=0&&P!=5)};
kg.Flam.prototype.agQ=function(w){var P=w.target.Q(),I=this.a1V,E=this.m;E.removeChild(I[1-P]);E.appendChild(I[P])};
kg.boxblur=function(){kg.call(this,"boxblur");this.Cv=[new fO([12,56],1,200," px")];this.ba()};kg.boxblur.prototype=new kg;
kg.boxblur.prototype.b3=function(w,I){I[0]=w.Rds.v.val};kg.boxblur.prototype.VA=function(w,I){w.Rds.v.val=I[0]};
kg.GsnB=function(){kg.call(this,"GsnB");this.Cv=[new fO([12,56],.1,400,"px",1,!0)];this.ba()};kg.GsnB.prototype=new kg;
kg.Dila=function(){kg.call(this,"Dila");this.Cv=[new fO([11,12,1],0,20,"px",0),new fO([12,56],0,400,"px",0,!0)];
this.ba()};kg.Dila.prototype=new kg;kg.MtnB=function(){kg.call(this,"MtnB");this.Cv=[new ia([12,15]),new fO([12,28],1,100," px")];
this.ba()};kg.MtnB.prototype=new kg;kg.RdlB=function(){kg.call(this,"RdlB");this.Cv=[new fO([12,57],1,100),new f$([12,36],["Spin","Zoom"]),new fO("Position X",0,100,"%"),new fO("Position Y",0,100,"%")];
this.ba()};kg.RdlB.prototype=new kg;kg.RdlB.prototype.b3=function(w,I){I[0]=w.Amnt.v;I[1]=["Spn","Zm"].indexOf(w.BlrM.v.BlrM);
I[2]=w.Cntr.v.Hrzn.v*100;I[3]=w.Cntr.v.Vrtc.v*100};kg.RdlB.prototype.VA=function(w,I){w.Amnt.v=I[0];
w.BlrM.v.BlrM=["Spn","Zm"][I[1]];w.Cntr.v.Hrzn.v=I[2]/100;w.Cntr.v.Vrtc.v=I[3]/100};kg.adj(kg.RdlB.prototype);
kg.Dspl=function(){kg.call(this,"Dspl");this.Cv=[new b4([6,36,3],["a","b"]),new fO([22,4,0],-100,100,"px"),new fO([22,4,1],-100,100,"px"),new b4([24,18,0],[[24,18,3],[24,18,2]])];
this.ba()};kg.Dspl.prototype=new kg;kg.Dspl.prototype.b3=function(w,I,E){this.a3j=[];this.f$=[];var X=-1,o=E?E[0]:null;
if(o==null)o=this.aa0;else this.aa0=o;if(o)for(var P=0;P<o.length;P++){var i=o[P];this.a3j.push(i.Ov.trim());
this.f$.push(i.wl);if(i.wl==w.DspF.v.pth)X=P}this.Cv[0].Zq(this.a3j);I[0]=X==-1?0:X;I[1]=w.HrzS.v;I[2]=w.VrtS.v;
I[3]=["WrpA","RptE"].indexOf(w.UndA.v.UndA)};kg.Dspl.prototype.VA=function(w,I){if(this.f$.length==0)return;
w.DspF.v.pth=this.f$[I[0]];w.HrzS.v=I[1];w.VrtS.v=I[2];w.UndA.v.UndA=["WrpA","RptE"][I[3]]};kg.Pnch=function(){kg.call(this,"Pnch");
this.Cv=[new fO([12,57],-100,100,"%")];this.ba()};kg.Pnch.prototype=new kg;kg["Plr "]=function(){kg.call(this,"Plr ");
this.Cv=[new f$(null,["Rect to Polar","Polar to Rect"])];this.ba()};kg["Plr "].prototype=new kg;kg.Rple=function(){kg.call(this,"Rple");
this.Cv=[new fO([12,57],-999,999),new b4([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.ba()};kg.Rple.prototype=new kg;
kg["Shr "]=function(){kg.call(this,"Shr ");this.Cv=[new gQ(!0,!0),new b4([24,18,0],[[24,18,3],[24,18,2]])];
this.ba()};kg["Shr "].prototype=new kg;kg["Shr "].prototype.b3=function(w,I){var E=new am(0,255/127,255/127,0,-2,128),X=JSON.parse(JSON.stringify(w.ShrP.v));
Q.sD.F(X,E);I[0]=X;I[1]=["WrpA","RptE"].indexOf(w.UndA.v.UndA)};kg["Shr "].prototype.VA=function(w,I){var E=new am(0,255/127,255/127,0,-2,128);
E.ja();Q.sD.F(I[0],E);w.ShrP.v=I[0];w.ShrE.v=I[0].length-1;w.UndA.v.UndA=["WrpA","RptE"][I[1]]};kg.Sphr=function(){kg.call(this,"Sphr");
this.Cv=[new fO([12,57],-100,100),new b4([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.ba()};kg.Sphr.prototype=new kg;
kg.Sphr.prototype.b3=function(w,I){I[0]=w.Amnt.v;I[1]=["Nrml","HrzO","VrtO"].indexOf(w.SphM.v.SphM)};
kg.Sphr.prototype.VA=function(w,I){w.Amnt.v=I[0];w.SphM.v.SphM=["Nrml","HrzO","VrtO"][I[1]]};kg.Dthr=function(){kg.call(this,"Dthr");
this.Cv=[new b4("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.ba()};kg.Dthr.prototype=new kg;
kg.Dthr.prototype.b3=function(w,I){I[0]=w.Plte.v};kg.Dthr.prototype.VA=function(w,I){w.Plte.v=I[0]};
kg.Part=function(){kg.call(this,"Part");this.Cv=[new fO([15,5,1],0,100,"%"),new fO([12,14,0],1,50,"px"),new fO([12,34],0,100,"%"),new fO([12,2],10,1e3,"%"),new fs(!0),new fO("Time",0,1,null,3),new fO("Turbulence",0,100,"%"),new em("Blink"),new em("Fall")];
this.ba([4])};kg.Part.prototype=new kg;kg.Part.prototype.b3=function(w,I){I[0]=w.Cont.v;I[1]=w.Size.v;
I[2]=w.Dpth.v;I[3]=w.Brgh.v;I[4]=w.Clr.v;I[5]=w.Time.v;I[6]=w.Turb.v;I[7]=w.Blnk.v;I[8]=w.Fall.v};kg.Part.prototype.VA=function(w,I){w.Cont.v=I[0];
w.Size.v=I[1];w.Dpth.v=I[2];w.Brgh.v=I[3];w.Clr.v=I[4];w.Time.v=I[5];w.Turb.v=I[6];w.Blnk.v=I[7];w.Fall.v=I[8]};
kg.Twrl=function(){kg.call(this,"Twrl");this.Cv=[new fO([12,15],-999,999)];this.ba()};kg.Twrl.prototype=new kg;
kg.Wave=function(){kg.call(this,"Wave");this.ard=[1,2,3,4];this.Cv=[new fO("Number of Generators",1,100),new kk("Min Length",1,999),new kk("Max Length",1,999),new kk("Min Ampl.",1,999),new kk("Max Ampl.",1,999),new kk("Scale X",1,100,"%"),new kk("Scale Y",1,100,"%"),new f$([12,44],["Sine","Triangle",[12,93,3]]),new b4([24,18,0],[[24,18,3],[24,18,2]])];
this.ba()};kg.Wave.prototype=new kg;kg.ZgZg=function(){kg.call(this,"ZgZg");this.Cv=[new fO([12,57],-100,100),new fO("Ridges",0,20),new b4([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.ba()};kg.ZgZg.prototype=new kg;kg.surfaceBlur=function(){kg.call(this,"surfaceBlur");this.Cv=[new fO([12,56],1,200," px"),new fO([4,13],1,255," px")];
this.ba()};kg.surfaceBlur.prototype=new kg;kg.surfaceBlur.prototype.b3=function(w,I){I[0]=w.Rds.v.val;
I[1]=w.Thsh.v};kg.surfaceBlur.prototype.VA=function(w,I){w.Rds.v.val=I[0];w.Thsh.v=I[1]};kg.AdNs=function(){kg.call(this,"AdNs");
this.Cv=[new fO([12,57],0,200," %"),new b4([12,58],[[12,59,1],[12,59,0]]),new em([12,60])];this.ba()};
kg.AdNs.prototype=new kg;kg.DstS=function(){kg.call(this,"DstS");this.Cv=[new fO([12,56],1,200," px"),new fO([4,13],1,255," px")];
this.ba()};kg.DstS.prototype=new kg;kg["Mdn "]=function(){kg.call(this,"Mdn ");this.Cv=[new fO([12,56],1,200," px")];
this.ba()};kg["Mdn "].prototype=new kg;kg["Mdn "].prototype.b3=function(w,I){I[0]=w.Rds.v.val};kg["Mdn "].prototype.VA=function(w,I){w.Rds.v.val=I[0]};
kg.ClrH=function(){kg.call(this,"ClrH");this.Cv=[new fO([12,56],4,100," px")];for(var P=1;P<4;P++)this.Cv.push(new fO("Angle "+P,0,90," \xB0"));
this.ba()};kg.ClrH.prototype=new kg;kg.ClrH.prototype.b3=function(w,I){I[0]=w.Rds.v;for(var P=1;P<4;
P++)I[P]=w["Ang"+P].v};kg.ClrH.prototype.VA=function(w,I){w.Rds.v=I[0];for(var P=1;P<4;P++)w["Ang"+P].v=I[P]};
kg.ClrH.prototype.f=function(){var w=this.Cv;w[0].f();for(var P=1;P<4;P++)w[P].vw(df.get([12,15])+" "+P)};
kg.Crst=function(){kg.call(this,"Crst");this.Cv=[new fO([12,61],3,100," px")];this.ba()};kg.Crst.prototype=new kg;
kg.Crst.prototype.b3=function(w,I){I[0]=w.ClSz.v};kg.Crst.prototype.VA=function(w,I){w.ClSz.v=I[0]};
kg.Mztn=function(){kg.call(this,"Mztn");this.Cv.push(new b4([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.f$="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.ba()};kg.Mztn.prototype=new kg;
kg.Mztn.prototype.b3=function(w,I){I[0]=this.f$.indexOf(w.MztT.v.MztT)};kg.Mztn.prototype.VA=function(w,I){w.MztT.v.MztT=this.f$[I[0]]};
kg["Msc "]=function(){kg.call(this,"Msc ");this.Cv=[new fO([12,61],2,200," px")];this.ba()};kg["Msc "].prototype=new kg;
kg["Msc "].prototype.b3=function(w,I){I[0]=w.ClSz.v.val};kg["Msc "].prototype.VA=function(w,I){w.ClSz.v.val=I[0]};
kg.Pntl=function(){kg.call(this,"Pntl");this.Cv=[new fO([12,61],3,100," px")];this.ba()};kg.Pntl.prototype=new kg;
kg.Pntl.prototype.b3=function(w,I){I[0]=w.ClSz.v};kg.Pntl.prototype.VA=function(w,I){w.ClSz.v=I[0]};
kg.smartSharpen=function(){kg.call(this,"smartSharpen");this.Cv=[new fO([12,57],1,200,"%"),new fO([12,56],0,200,"px",1,!0)];
this.ba()};kg.smartSharpen.prototype=new kg;kg.smartSharpen.prototype.b3=function(w,I){I[0]=w.Amnt.v.val;
I[1]=w.Rds.v.val};kg.smartSharpen.prototype.VA=function(w,I){w.Amnt.v.val=I[0];w.Rds.v.val=I[1]};kg.UnsM=function(){kg.call(this,"UnsM");
this.Cv=[new fO([12,57],1,200," %"),new fO([12,56],.1,400,"px",1,!0),new fO([4,13],0,255," ")];this.ba()};
kg.UnsM.prototype=new kg;kg.HghP=function(){kg.call(this,"HghP");this.Cv=[new fO([12,56],.1,400,"px",1,!0)];
this.ba()};kg.HghP.prototype=new kg;kg.HsbP=function(){kg.call(this,"HsbP");this.Cv=[new f$("Input",["RGB","HSB","HSL"]),new f$("Output",["RGB","HSB","HSL"])];
this.ba()};kg.HsbP.prototype=new kg;kg["Mxm "]=function(){kg.call(this,"Mxm ");this.Cv=[new fO([12,56],.1,200," px",1,!0),new b4([12,76,1],[[12,93,3],"Circle"])];
this.ba()};kg["Mxm "].prototype=new kg;kg["Mnm "]=function(){kg.call(this,"Mnm ");this.Cv=[new fO([12,56],.1,200," px",1,!0),new b4([12,76,1],[[12,93,3],"Circle"])];
this.ba()};kg["Mnm "].prototype=new kg;kg.Ofst=function(){kg.call(this,"Ofst");this.Cv=[new fO([22,4,0],-1024,1024," px"),new fO([22,4,1],-1024,1024," px"),new b4([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.ba()};kg.Ofst.prototype=new kg;kg.Kale=function(){kg.call(this,"Kale");this.Cv=[new kk("Mirrors",2,20),new kk([12,15],0,360,"\xB0")];
this.ba()};kg.Kale.prototype=new kg;kg.Kale.prototype.b3=function(w,I){I[0]=w.Mirr.v;I[1]=w.MRot.v};
kg.Kale.prototype.VA=function(w,I){w.Mirr.v=I[0];w.MRot.v=I[1]};kg.Rept=function(){kg.call(this,"Rept");
this.Cv=[new kk([12,38],1,300," %"),new kk("Row Shift",-50,50," %"),new kk("Space X",-99,200," %"),new kk("Space Y",-99,200," %"),new em([4,16,2]),new ia([12,15])];
this.ba()};kg.Rept.prototype=new kg;kg.Rept.prototype.b3=function(w,I){I[0]=w.Scl.v.val;I[1]=w.Rsft.v.val;
I[2]=w.SpcX.v.val;I[3]=w.SpcY.v.val;I[4]=w.SpcC.v;I[5]=[w.Angl.v]};kg.Rept.prototype.VA=function(w,I){w.Scl.v.val=I[0];
w.Rsft.v.val=I[1];w.SpcX.v.val=I[2];w.SpcY.v.val=I[3];w.SpcC.v=I[4];w.Angl.v=I[5][0];return w};kg.Ctoa=function(){kg.call(this,"Ctoa");
this.Cv=[new gJ([13,0]),new fs(!0),new fO(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new fO(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.ba()};kg.Ctoa.prototype=new kg;kg.Ctoa.prototype.b3=function(w,I){I[0]=w.Clr.v;I[1]=w.Trsp.v.val;
I[2]=w.Opct.v.val};kg.Ctoa.prototype.VA=function(w,I){w.Clr.v=I[0];w.Trsp.v.val=I[1];w.Opct.v.val=I[2]};
kg.LqFy=function(){kg.call(this,"LqFy");this.rk=!1;this.mS=!1;this.zr=null;this.aq1=null;this.G=0;this.lg=-1;
this.a={G2:[[{G:{id:0,name:[24,1,0,1,0],y4:"liq/smudge"}}],[{G:{id:1,name:[24,1,0,1,1],y4:"liq/reconstruct"}}],[{G:{id:2,name:[24,1,0,1,2],y4:"liq/smooth"}}],[{G:{id:3,name:[24,1,0,1,3],y4:"liq/twirl"}}],[{G:{id:4,name:[24,1,0,1,4],y4:"liq/shrink"}}],[{G:{id:5,name:[24,1,0,1,5],y4:"liq/blow"}}],[{G:{id:6,name:[24,1,0,1,6],y4:"liq/pleft"}}],[{G:{id:7,name:"Hand",y4:"tools/hand"}}],[{G:{id:8,name:"Zoom In",y4:"zoomIn"}}],[{G:{id:9,name:"Zoom Out",y4:"zoomOut"}}]],keys:[]};
this.gu=new g7(this.a,!1);this.gu.et(0);this.gu.h(W.E.Z,this.aan,this);this.pg=j8.YU();this.R3=null;
this.ES=[];this.Gw=-1;this.pq=null;this.agY=null;this.aQ=null;this.Hy=null;this.Jv=null;var w=O.S("div","flexrow");
this.LZ=w;this.m.appendChild(w);w.appendChild(this.gu.m);this.view=new hB(!0);this.view.hi(100,100);
this.view.h("mousedown",this.ME,this);this.view.h("mousemove",this._S,this);this.view.h("mouseup",this.wz,this);
this.view.h("zoom",this.HH,this);w.appendChild(this.view.m);var I=O.S("div","form");w.appendChild(I);
this.tN=I;I.style.width="230px";this.y9=[new fO([12,14,0],0,1e3,null,!1,!0),new fO([12,74],0,100,null,!1,!1),new fO([12,84],0,100,null,!1,!1),new em([12,46]),new fO([12,0],0,100,null,!1,!1),new em([24,18,5])];
var E=this.pg.Brsh.v;E.Dmtr.v.val=100;var X=[100,50,100,!1,100,!0];for(var P=0;P<this.y9.length;P++){var o=this.y9[P];
o.B(X[P]);if(P==4)o.RX();o.h(W.E.r,this.apn,this);I.appendChild(o.m)}var i=this.a9C=new es([1,12,2],!0,null,!0);
i.h("click",this.uP,this);I.appendChild(i.m);this.a0t=this.s$.bind(this);this.Lw=new cu;this.Lw.m=O.S("div","floatcont");
this.hs=new es("Menu",!1,null,!0);var h=this.hs.m;h.setAttribute("style","position:absolute; right:13px; top:47px");
O.KO(h,this.adG.bind(this))};kg.LqFy.prototype=new kg;kg.LqFy.prototype.Iq=function(){return!0};kg.LqFy.prototype._Y=function(w){this.tN.appendChild(w)};
kg.LqFy.prototype.adG=function(w){if(O.NJ(this.Lw.m))return;w.stopPropagation();var I=this.hs.m.getBoundingClientRect();
this.Lw.m.appendChild(this.tN);var E=new e9(W.E.Z,!0);E.data={d:W.t.DI,E5:this.Lw,x:I.right+I.width-290,y:I.top+I.height};
this.c(E)};kg.LqFy.prototype.oH=function(w){this.rk=w.Y(aW.$i);var I=q.Og.Zu(this.pg,w);if(I!=null){this.pg=I;
this.HH();this.y9[0].B(I.Brsh.v.Dmtr.v.val)}else if(w.Y(aW.iu)&&w.Y(aW.lW)){var E=this.ES;if(w.Y(aW.mG)){if(this.Gw+1<E.length)this.Gw++}else if(this.Gw>0)this.Gw--;
this.R3.map=E[this.Gw].slice(0);this.xn(null)}else if(this.G<=6)this.view.oH(w);var X=this.G,o=-1,i=w.Y(aW.$i);
if(i&&this.lg==-1){if(X==0)o=1;if(X==4)o=5;if(X==5)o=4;if(o!=-1)this.lg=X}if(!i&&this.lg!=-1){o=this.lg;
this.lg=-1}if(o!=-1){this.G=o;this.gu.et(this.G)}};kg.LqFy.prototype.aan=function(w){if(w.data.d==W.t.en){var I=this.G=w.data.G;
this.gu.et(this.G);this.view.oH(I>6?hB.af_(I-7):new aW)}};kg.LqFy.prototype.apn=function(w){var I=w.currentTarget,P=this.y9.indexOf(I),E=this.pg.Brsh.v;
if(P==0){E.Dmtr.v.val=I.Q();this.HH()}this.y9[4].Fx(this.y9[3].Q());if(P>2)this.xn(null)};kg.LqFy.prototype.X8=function(){var w=this.ES;
this.Gw++;w[this.Gw]=this.R3.map.slice(0);while(w.length>this.Gw+1)w.pop();while(w.length>50){w=w.slice(1);
this.Gw--}};kg.LqFy.prototype.ME=function(w){this.zr=this.view.oz();this.aq1=new a5(0,0);this.mS=!0;
window.requestAnimationFrame(this.a0t)};kg.LqFy.prototype._S=function(w){var I=this.view.oz(),E=new a5(I.x-this.zr.x,I.y-this.zr.y);
if(this.G==0||this.G==6)this.amD(E);this.zr=I};kg.LqFy.prototype.wz=function(w){this.X8();this.mS=!1};
kg.LqFy.prototype.s$=function(w){if(this.G!=0&&this.G!=6)this.amD(new a5(0,0));if(this.mS)window.requestAnimationFrame(this.a0t)};
kg.LqFy.prototype.amD=function(w){var I=this.R3,E=I.LQ/this.pq.q,X=this.zr,o=this.pg.Brsh.v,i=o.Dmtr.v.val,h=Date.now(),k=I.LQ,x=I.Ns,j=Math.sqrt(w.x*w.x+w.y*w.y),v=Math.max(1,Math.ceil(j/2)),_=w.x/v,L=w.y/v,U=X.clone(),n=this.G,a=this.y9[1].Q()/100,T=this.y9[2].Q()/100,g=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],D=g[n*2],b=g[n*2+1],N=(1-a)*D+a*b,C=i*E/2;
for(var P=0;P<v;P++){var Z=[];U.x+=_;U.y+=L;Q.hJ.apw(I.map,k,x,n,U.x*E,U.y*E,C,a,T,_*E,L*E,Z,this.rk);
Q.hJ.ani(k,x,I.map,Z,2*N*T)}var S=new dC(0,0,k,x),u=new dC(X.x*E,X.y*E,0,0);u.Cs(i*E*.5,i*E*.5);var p=u.clone();
p.offset(w.x*E,w.y*E);u=u.jB(p);var f=new dC(u.x/E,u.y/E,u.q/E,u.w/E);f=Q.p.i1(f).LP(this.pq);this.y9[5].B(!0);
this.xn(f)};kg.LqFy.prototype.HH=function(){var w=cn.AB(this.pg,null,this.view.IG().T);this.view.EC(w)};
kg.LqFy.prototype.B=function(w,I,E,X,o){E=E.clone();if(I==null)return;if(!X.ZQ(E)){var i=E.jB(X),h=Q.$(i.A()*4);
Q.D6(I,E,h,i);I=h;E=i;var k=Q.$(i.A()*4);Q.D6(o,X,k,i);o=k}E.x=E.y=0;this.aQ=I;this.agY=o;this.Jv=I.slice(0);
this.Hy=I.slice(0);this.pq=E;this.R3=bl.fM(new Uint8Array(w.LqMe.v).buffer);var x=E.q,j=E.w;if(this.R3.LQ/x<.22){this.R3={LQ:Math.floor(x/4),Ns:Math.floor(j/4)};
this.R3.map=new Float32Array(this.R3.LQ*this.R3.Ns*2)}this.ES=[];this.Gw=-1;this.X8();this.xn(null);
this.view.Xv();this.HH()};kg.LqFy.prototype.Q=function(){var w=gD.SX("LqFy"),I=new Uint8Array(bl.Fo(this.R3)),E=[];
for(var P=0;P<I.length;P++)E.push(I[P]);w.LqMe.v=E;return w};kg.LqFy.prototype.hi=function(w,I){this.gu.hi(w,I);
var E=this.hs.m,X=this.tN;this.LZ.appendChild(X);this.LZ.appendChild(E);if(w>450&&w-I>200){X.style.marginLeft="1em";
this.LZ.removeChild(E);this.view.hi(w-238-45,I)}else{X.style.marginLeft="";this.LZ.removeChild(X);this.view.hi(w-40,I)}};
kg.LqFy.prototype.f=function(){this.gu.f();this.a9C.f();for(var P=0;P<this.y9.length;P++)this.y9[P].f()};
kg.LqFy.prototype.uP=function(){this.R3.map.fill(0);this.X8();this.xn(null)};kg.LqFy.prototype.xn=function(w){var I=this.pq,E=this.aQ,X=this.Jv,o=this.R3;
if(this.y9[5].Q())Q.hJ.vv(E,this.Hy,I.q,I.w,w,o.map,o.LQ,o.Ns,0);else this.Hy.set(E);if(this.y9[3].uf()){Q.D6(this.agY,I,X,I,w?w:I);
Q.e.gF("norm",this.Hy,I,X,I,w?w:I,this.y9[4].Q()/100)}else Q.QM(this.Hy,X);this.view.B([{WG:I,data:X.buffer}])};
kg.GEfc=function(){kg.call(this,"GEfc");this._D=0;this.Px=0;this.aQ=null;this.Jv=null;this.pq=null;this.m6=null;
this.hp=null;this._v=0;var w=O.S("div","flexrow");this.LZ=w;this.m.appendChild(w);this.view=new hB(null);
this.view.hi(100,100);w.appendChild(this.view.m);this.HC="";this.w$=270;var I=this.gr=O.S("div","form scrollable");
w.appendChild(I);I.setAttribute("style","width:"+this.w$+"px;  margin-left:10px");var E=this.g3=O.S("div","form");
w.appendChild(E);E.setAttribute("style","width:230px;  margin-left:1em");this.a4={};for(var X in c8.names){var o=new kg.GEfc.J7(X);
o.parent=this;this.a4[X]=o;o.h(W.E.r,this.a29,this)}this.zE=!0;this.hs=new es("Menu",null,null,!0);this.hs.h("click",this.a8Z,this);
w.appendChild(this.hs.m);this.J1=new es(">>",null,null,!0);this.J1.h("click",this.acE,this);E.appendChild(this.J1.m);
this.Fk=O.S("div");this.Fk.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
E.appendChild(this.Fk);this.ix=O.S("div");this.ix.style.minHeight="14em";this.ix.style.marginBottom="1em";
E.appendChild(this.ix);this.AO=O.S("div","lpbody scrollable");this.gf=O.S("div","lpfoot");E.appendChild(this.AO);
E.appendChild(this.gf);this.h("click",this.a4x,this);this.bb=[];d2.fJ([[5,3],[5,4]],this.bb,this.gf,this.jN.bind(this))};
kg.GEfc.prototype=new kg;kg.GEfc.prototype.Iq=function(){return!0};kg.GEfc.prototype._Y=function(w){this.Fk.appendChild(w)};
kg.GEfc.prototype.eU=function(w,I){this.m6=w};kg.GEfc.prototype.acE=function(w){var I=this.gr.style.display!="none";
this.gr.style.display=I?"none":"";this.J1.vw(I?"<<":">>");this.hi()};kg.GEfc.prototype.a8Z=function(w){this.zE=!this.zE;
this.hi()};kg.GEfc.prototype.hi=function(w,I){var E=this.gr.style.display!="none";if(w!=null){this._D=w;
this.Px=I;if(w<1e3&&E||w>=1e3&&!E){this.acE();E=!E}this.zE=w>600}else{w=this._D;I=this.Px}var X=this.zE?240+(E?this.w$+10:0):0;
if(O.NJ(this.g3)&&!this.zE){this.LZ.removeChild(this.gr);this.LZ.removeChild(this.g3)}if(!O.NJ(this.g3)&&this.zE){this.LZ.appendChild(this.gr);
this.LZ.appendChild(this.g3)}this.gr.style.height=I+"px";this.view.hi(w-X,I);this.AO.style.height=I-this.ix.getBoundingClientRect().height-96+"px";
this.hs.m.setAttribute("style","position:absolute; top:46px;  right:"+(X+16)+"px")};kg.GEfc.prototype.a53=function(){var w=gt.UJ.get("img/beach",!0)[0],I=w.WG,E=this.gr,X=Math.floor(O.V()*(this.w$-40)/3),o=~~(X*.7),i=new dC(0,0,X,o),h=Q.$(X*o*4),k=h.slice(0),x=Math.round(10*O.V()),j=new ImageData(new Uint8ClampedArray(k.buffer),X,o);
Q.D6(new Uint8Array(w.data),I,h,new dC(Math.round((I.q-X)/2),Math.round((I.w-o)/2),X,o));var v=O.S("canvas"),_=v.getContext("2d");
v.width=X;v.height=o+Math.round(x*1.5);_.font=x+"px sans-serif";this.Sa={};var L=this.ajR.bind(this);
for(var P=0;P<c8.in.length;P++){var U=c8.in[P],n=O.S("div");E.appendChild(n);n.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
n.textContent=df.get(U);for(var a in c8.names){var T=c8.names[a];if(T[0]!=P)continue;c8.$Z(a,{rect:i,buffer:h},c8.SX(a),{o:0,P:0,L:0},{o:255,P:255,L:255},{rect:i,buffer:k},{});
_.fillStyle="black";_.fillRect(0,0,500,500);_.putImageData(j,0,0);var g=df.get(T[1]);_.fillStyle="white";
_.fillText(g,(X-_.measureText(g).width)/2,o+Math.round(x*1.1));var D=O.S("div");E.appendChild(D);D.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
D.addEventListener("click",L,!1);var n=O.S("img");D.appendChild(n);n.setAttribute("src",v.toDataURL());
n.setAttribute("style","width:"+X/O.V()+"px; margin-bottom:0px;");this.Sa[a]=D}}};kg.GEfc.prototype.ajR=function(w){var I;
for(var E in this.Sa)if(this.Sa[E]==w.currentTarget)this.HC=E;this.a29()};kg.GEfc.prototype.jN=function(w){var I=d2.pp(this.bb,w),E=this.hp.GEfs.v,X=E[this._v].v;
if(I==0){E.push(JSON.parse(JSON.stringify(E[this._v])));this._v=E.length-1}else if(E.length>1){E.splice(this._v,1);
if(this._v==E.length)this._v--}this.qN();this.xn()};kg.GEfc.prototype.a29=function(w){var I=this.HC,E;
if(w==null)E=c8.SX(I);else E=this.a4[I].Q();this.hp.GEfs.v[this._v].v=E;this.qN();this.xn()};kg.GEfc.prototype.B=function(w,I,E,X,o){if(this.Sa==null)this.a53();
w=this.hp=JSON.parse(JSON.stringify(w));if(w.GEfs==null)w=this.hp={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:w}]}};
var i=w.GEfs.v;for(var P=0;P<i.length;P++)if(i[P].v.GELv==null)i[P].v.GELv={t:"bool",v:!0};this._v=i.length-1;
this.qN();E=E.clone();if(I==null)return;if(!X.ZQ(E)&&c8.d7(w).x!=0){var h=E.jB(X),k=Q.$(h.A()*4);Q.D6(I,E,k,h);
I=k;E=h}E.x=E.y=0;this.aQ=I;this.Jv=I.slice(0);this.pq=E;this.xn();this.view.Xv()};kg.GEfc.prototype.a4x=function(w){var I=w.data,P=I.qI,E=this.hp.GEfs.v;
if(I.tO){E[P].v.GELv.v=!E[P].v.GELv.v;this.xn()}else this._v=P;this.qN()};kg.GEfc.prototype.qN=function(){var w=this.hp.GEfs.v,I=w[this._v].v,E=I.GEfk.v.GEft,X=this.ix;
if(c8.names[E]==null){alert("Unsupported gallery filter");O.wO(X)}else{this.HC=E;for(var o in this.Sa)O.yo(this.Sa[o],"selected");
O.vK(this.Sa[E],"selected");var i=this.a4[E];i.B(I);if(X.firstChild!=i.m){O.wO(X);X.appendChild(i.m)}}var h=[];
for(var P=0;P<w.length;P++){var k=w[P].v,x=c8.names[k.GEfk.v.GEft],j=new b3(P,!0,!0,null,x?x[1]:"Filter",P==this._v,k.GELv.v);
j.parent=this;h.push(j.m)}O.wO(this.AO);h.reverse();for(var P=0;P<h.length;P++)this.AO.appendChild(h[P]);
this.hi()};kg.GEfc.prototype.Q=function(){return JSON.parse(JSON.stringify(this.hp))};kg.GEfc.prototype.xn=function(w){var I=this.pq,E=this.aQ,X=this.Jv,o=this.HC,i=this.hp,h=this.m6;
function k(x){return{o:x>>>16,P:x>>>8&255,L:x&255}}gD.$Z("GEfc",{rect:this.pq,buffer:this.aQ},i,k(h.Ht),k(h.Mw),{rect:this.pq,buffer:this.Jv},null);
this.view.B([{WG:I,data:X.buffer}])};kg.GEfc.prototype.f=function(){for(var w in this.a4)this.a4[w].f();
d2.BB(this.bb,["lrs/newlayer","lrs/bin"])};kg.GEfc.J7=function(w){cu.call(this);this.m9=w;this.m=O.S("div");
this.uA={};var I=c8.SX(w);for(var E in I){var X=null;if(E=="__name"||E=="classID"||E=="GEfk"||E=="GELv"||["FlRs"].indexOf(E)!=-1)continue;
else if(E=="EdgW")X=new fO("Edge Width",1,14);else if(E=="EdgB")X=new fO("Edge Brightness",0,w=="AccE"?50:20);
else if(E=="Smth")X=new fO([19,3,3],1,w=="Stmp"?50:15);else if(E=="ClSz")X=new fO([12,61],3,100);else if(E=="BrdT")X=new fO([7,9],1,20);
else if(E=="HghS")X=new fO([12,64],0,20);else if(E=="HlSz")X=new fO([12,14,0],1,15);else if(E=="Cntr")X=new fO([12,3,0],0,w=="WtrP"?100:50);
else if(E=="Shrp")X=new fO("Sharpness",0,40);else if(E=="SprR")X=new fO("Spray Radius",0,25);else if(E=="LgDr")X=new fO("Light/Dark Balance",0,w=="Stmp"?50:100);
else if(E=="Drkn")X=new fO("Darkness",1,50);else if(E=="Dstr")X=new fO("Distortion",0,20);else if(E=="Scln")X=new fO([12,38],50,200);
else if(E=="Rlf")X=new fO("Relief",0,w=="Ptch"||w=="NtPr"?25:50);else if(E=="ChAm")X=new fO("Thickness",1,7);
else if(E=="Pncl")X=new fO([19,2,5],1,30);else if(E=="StrP")X=new fO("Stroke Pressure",0,15);else if(E=="PprB")X=new fO("Paper Brightness",0,50);
else if(E=="BrsS")X=new fO("Brush Size",0,10);else if(E=="BrsD")X=new fO("Brush Detail",0,10);else if(E=="Txtr")X=new fO([12,67],1,3);
else if(E=="Grn")X=new fO("Grain",0,20);else if(E=="HghA")X=new fO("Highlight Area",0,20);else if(E=="Intn")X=new fO("Intensity",0,10);
else if(E=="Brgh")X=new fO("Glow Brightness",0,w=="WtrP"?100:50);else if(E=="StrS")X=new fO("Stroke Size",1,50);
else if(E=="StDt")X=new fO("Stroke Detail",1,3);else if(E=="Sftn")X=new fO("Softness",0,10);else if(E=="EdgT")X=new fO("Edge Thickness",0,10);
else if(E=="EdgI")X=new fO("Edge Intensity",0,10);else if(E=="Pstr")X=new fO("Posterization",0,6);else if(E=="Dfnt")X=new fO("Definition",0,25);
else if(E=="TxtC")X=new fO("Texture Coverage",0,50);else if(E=="ShdI")X=new fO("Shadow Intensity",0,10);
else if(E=="DrcB")X=new fO("Direction Balance",0,100);else if(E=="Strg")X=new fO([12,64],1,3);else if(E=="Blnc")X=new fO("Balance",0,10);
else if(E=="BlcI")X=new fO("Black Intensity",0,10);else if(E=="WhtI")X=new fO("White Intensity",0,10);
else if(E=="DrkI")X=new fO("Dark Intensity",0,50);else if(E=="LghI")X=new fO("Light Intensity",0,50);
else if(E=="StrW")X=new fO("Stroke Width",3,15);else if(E=="Grns")X=new fO("Graininess",0,w=="NtPr"?20:10);
else if(E=="GlwA")X=new fO("Glow Amount",0,20);else if(E=="ClrA")X=new fO("Clear Amount",0,20);else if(E=="ChrA")X=new fO("Charcoal Area",0,20);
else if(E=="ChlA")X=new fO("Chalk Area",0,20);else if(E=="FrgL")X=new fO("Foreground Level",1,15);else if(E=="BckL")X=new fO("Background Level",1,15);
else if(E=="WhtL")X=new fO("Background Level",0,50);else if(E=="BlcL")X=new fO("Foreground Level",0,50);
else if(E=="ImgB")X=new fO("Image Balance",0,50);else if(E=="Dnst")X=new fO([12,74],0,50);else if(E=="FbrL")X=new fO("Fiber Length",3,50);
else if(E=="CrcS")X=new fO("Crack Sapcing",2,100);else if(E=="CrcD")X=new fO("Crack Depth",0,10);else if(E=="CrcB")X=new fO("Crack Brightness",0,10);
else if(E=="TlSz")X=new fO("Tile Size",2,100);else if(E=="GrtW")X=new fO("Grout Width",1,15);else if(E=="LghG")X=new fO("Lighten Grout",0,10);
else if(E=="SqrS")X=new fO("Square Size",0,10);else if(E=="RplS")X=new fO("Ripple Size",1,15);else if(E=="RplM")X=new fO("Ripple Magnitude",0,20);
else if(E=="NmbL")X=new fO("Number of Levels",2,8);else if(E=="EdgS")X=new fO("Edge Simplicity",0,10);
else if(E=="EdgF")X=new fO("Edge Fidelity",1,3);else if(E=="Sz")X=w=="NGlw"?new fO("Glow Size",-24,24):new fO("Brush Size",1,50);
else if(E=="Dtl")X=w=="Chrc"?new fO("Detail",0,5):new fO("Detail",1,15);else if(E=="StrL")X=w=="InkO"?new fO("Stroke Length",1,50):new fO("Stroke Length",0,20);
else if(E=="TxtT")X=new b4([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(E=="BrsT")X=new b4("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(E=="Grnt")X=new b4("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(E=="SDir")X=new b4([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(E=="ScrT")X=new b4([12,62],["Circle","Dot",[10,35]]);
else if(E=="LghD"||E=="LghP")X=new b4("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(E=="Clr")X=new fs("Glow Color");else if(E=="InvT")X=new em([4,11]);else console.log(E);X.h(W.E.r,this.ZX,this);
X.parent=this;this.uA[E]=X;this.m.appendChild(X.m)}};kg.GEfc.J7.prototype=new cu;kg.GEfc.J7.prototype.ZX=function(w){this.c(new e9(W.E.r,!1))};
kg.GEfc.a75="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
kg.GEfc.J7.prototype.B=function(w){for(var I in this.uA){var E;if(kg.GEfc.a75.indexOf(I)!=-1)E=w[I].v;
else if(I=="TxtT")E=c8.uq.indexOf(w[I].v[I]);else if(I=="BrsT")E=c8.al7.indexOf(w[I].v[I]);else if(I=="LghD")E=c8.H7.indexOf(w[I].v[I]);
else if(I=="LghP")E=c8.XO.indexOf(w[I].v[I]);else if(I=="Grnt")E=c8._A.indexOf(w[I].v[I]);else if(I=="ScrT")E=c8.zT.indexOf(w[I].v[I]);
else if(I=="SDir")E=c8.Hb.indexOf(w[I].v.StrD);this.uA[I].B(E)}};kg.GEfc.J7.prototype.Q=function(){var w=c8.SX(this.m9);
for(var I in this.uA){var E=this.uA[I].Q();if(kg.GEfc.a75.indexOf(I)!=-1)w[I].v=E;else if(I=="TxtT")w[I].v[I]=c8.uq[E];
else if(I=="BrsT")w[I].v[I]=c8.al7[E];else if(I=="LghD")w[I].v[I]=c8.H7[E];else if(I=="LghP")w[I].v[I]=c8.XO[E];
else if(I=="Grnt")w[I].v[I]=c8._A[E];else if(I=="ScrT")w[I].v[I]=c8.zT[E];else if(I=="SDir")w[I].v.StrD=c8.Hb[E]}return w};
kg.GEfc.J7.prototype.f=function(){for(var w in this.uA)this.uA[w].f()};kg["Adobe Camera Raw Filter"]=function(w){kg.call(this,"Adobe Camera Raw Filter");
var I=this.m;this.a33=w;this.ki=null;this.DR=null;this.R5=null;O.vK(I,"flexrow");var E=O.S("div"),X=O.S("div","padded");
I.appendChild(E);I.appendChild(X);this.CG=new hB;E.appendChild(this.CG.m);this.cn=new bt(225);this.cn.xy(4);
X.appendChild(this.cn.m);this.ae=O.S("div");this.ae.setAttribute("style","width:18em;");X.appendChild(this.ae);
this.a9I=new gJ("Hi",!0);this.ae.appendChild(this.a9I.m);this.uA=[new fO("Temperature",-100,100),new fO("Tint",-100,100),new fO([4,3],-4,4,null,!0),new fO([12,3,0],-100,100)];
this.E9=["Temp","Tint","Ex12","Cr12"];for(var P=0;P<this.uA.length;P++){var o=this.uA[P];o.B(0);o.h(W.E.r,this.xn,this);
this.ae.appendChild(o.m);if(P==1)this.ae.appendChild(O.S("hr"))}};kg["Adobe Camera Raw Filter"].prototype=new kg;
kg["Adobe Camera Raw Filter"].prototype.Iq=function(){return!0};kg["Adobe Camera Raw Filter"].prototype._Y=function(w){this.ae.appendChild(w)};
kg["Adobe Camera Raw Filter"].prototype.eU=function(w,I){this.cn.xz(j3.NH[w.lF]["--text-color"])};kg["Adobe Camera Raw Filter"].prototype.B=function(w,I,E,X,o){this.hp=w;
var i=E.q,h=E.w,k=i*h;this.a9I.B(i+" x "+h+", "+(i*h/1e6).toFixed(1)+" MPx");this.pq=E;this.DR=new Float32Array(i*h*3);
this.R5=new Uint8Array(i*h*4);this.R5.fill(255);if(I instanceof Float32Array)this.ki=I;else{var x=this.ki=new Float32Array(i*h*3);
for(var P=0;P<k;P++){var j=P*3,v=P*4;x[j+0]=I[v+0]*(1/255);x[j+1]=I[v+1]*(1/255);x[j+2]=I[v+2]*(1/255)}}var _=this.E9;
for(var P=0;P<_.length;P++){var L=_[P];this.uA[P].B(w[L]?w[L].v:0)}this.xn(null,!0)};kg["Adobe Camera Raw Filter"].prototype.Q=function(w){if(w)return this.R5;
return JSON.parse(JSON.stringify(this.hp))};kg["Adobe Camera Raw Filter"].prototype.acs=function(){this.ki=null;
this.DR=null;this.R5=null};kg["Adobe Camera Raw Filter"].prototype.xn=function(w,I){var E=this.E9;for(var P=0;
P<E.length;P++){var X=E[P];this.hp[X]={t:X=="Ex12"?"doub":"long",v:this.uA[P].Q()}}var o=this.pq,i=o.A();
eD(this.ki,o.q,o.w,this.DR,this.hp,this.a33);var h=Date.now(),k=this.DR,x=this.R5;for(var P=0;P<i;P++){var j=P*3,v=P*4;
x[v+0]=~~(.5+k[j+0]*255);x[v+1]=~~(.5+k[j+1]*255);x[v+2]=~~(.5+k[j+2]*255)}console.log(Date.now()-h,"integer conversion");
h=Date.now();var _=Q.yB(x,Math.max(1,Math.floor(i/2e5)));this.cn.B(_);console.log(Date.now()-h,"histogram done");
h=Date.now();this.CG.B([{WG:o,data:x.buffer}]);if(I)this.CG.Xv()};kg["Adobe Camera Raw Filter"].prototype.hi=function(w,I){this.asK=w-248;
this.a7g=I;this.CG.hi(this.asK,this.a7g)};kg["Adobe Camera Raw Filter"].prototype.f=function(){for(var P=0;
P<this.uA.length;P++)this.uA[P].f()};kg.blnc=function(){kg.call(this);var w=this.m;this.DH=null;this.iL=new b4([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.iL.h(W.E.r,this.xn,this);w.appendChild(this.iL.m);this.ok=[];for(var P=0;P<3;P++){var I=new fO(cz.Sb[P],-100,100);
I.h(W.E.r,this.v2,this);this.ok.push(I);w.appendChild(I.m)}this.Zo=new em([13,4]);this.Zo.h(W.E.r,this.v2,this);
w.appendChild(this.Zo.m)};kg.blnc.prototype=new kg;kg.blnc.prototype.f=function(){this.iL.f();for(var P=0;
P<3;P++)this.ok[P].f();this.Zo.f()};kg.blnc.prototype.B=function(w){this.DH=JSON.parse(JSON.stringify(w));
this.xn()};kg.blnc.prototype.Q=function(w){var I=["ShdL","MdtL","HghL"],E=this.DH[I[this.iL.Q()]].v;
for(var P=0;P<3;P++)E[P].v=this.ok[P].Q();this.DH.PrsL.v=this.Zo.Q();return JSON.parse(JSON.stringify(this.DH))};
kg.blnc.prototype.xn=function(w){var I=["ShdL","MdtL","HghL"],E=this.DH[I[this.iL.Q()]].v;for(var P=0;
P<3;P++)this.ok[P].B(E[P].v);this.Zo.B(this.DH.PrsL.v)};kg.brit=function(){kg.call(this,"brit");this.Cv.push(new fO([12,2],-150,150,""));
this.Cv.push(new fO([12,3,0],-100,100,""));this.Cv.push(new em([12,3,1]));this.ba()};kg.brit.prototype=new kg;
kg.curv=function(){kg.call(this);this.value=null;this.li=null;this.m6=null;var w=this.m;this.jC=new b4("Preset",["basic","advanced"]);
this.jC.h(W.E.r,this.ap$,this);w.appendChild(this.jC.m);O.D2(w);this.BA=new b4([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.BA.h(W.E.r,this.qF,this);w.appendChild(this.BA.m);this.Ba=new b4(null,["Spline","Sketch"]);this.Ba.h(W.E.r,this.ap$,this);
w.appendChild(this.Ba.m);this.Xe=new e8;this.Xe.parent=this;this.Xe.h(W.E.r,this.G6,this);w.appendChild(this.Xe.m);
O.D2(w);this.dR=new gQ;this.dR.h(W.E.r,this.mX,this);w.appendChild(this.dR.m);this.Pq=null;this.ajT=0;
this.t8=0;O.D2(w);this.hK=new fY("Sample from image",f$.Bk(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.hK.h(W.E.r,this.qm,this);this.hK.m.style.marginRight="0";w.appendChild(this.hK.m)};kg.curv.prototype=new kg;
kg.curv.prototype.eU=function(w,I){if(I==ik.Vk||I==ik.Pv){var E=w.uL,X=["Default"];for(var P=0;P<E.length;
P++)X.push(E[P].presetFileName.v);X.push("Custom");this.jC.Zq(X,[1,E.length,1]);this.m6=w}};kg.curv.prototype.hi=function(w,I){this.dR.hi(w,I)};
kg.curv.prototype.f=function(){this.BA.f();this.dR.f()};kg.curv.prototype.Lt=function(){this.jC.B(this.m6.uL.length+1)};
kg.curv.prototype.ap$=function(w){if(w.target==this.jC){var I=this.jC.Q(),E=this.m6.uL,X;if(I==0)X=gD.SX("curv");
else if(I-1<E.length)X=JSON.parse(JSON.stringify(E[I-1]));else return;this.B(X);this.v2();return}this.Lt();
var o=k5.or(this.value,0),i=o.length==256?1:0,h=this.Ba.Q();if(i==h)return;var X=gD.SX("curv");if(h==1){var k=[];
for(var P=0;P<256;P++)k.push(P);k5.kK(X,0,k)}this.B(X);this.v2()};kg.curv.prototype.mX=function(){this.Lt();
k5.kK(this.value,this.BA.Q(),this.dR.Q());this.v2()};kg.curv.prototype.qF=function(){var w=this.BA.Q(),I=k5.or(this.value,w),E=I.length==256?1:0;
this.Ba.B(E);if(this.li)this.dR.NC(this.li[w],this.li[4]*[1,.33,.33,.33][w],["#ccc","#fcc","#cfc","#ccf"][w]);
this.dR.B(I)};kg.curv.prototype.$c=function(){return!0};kg.curv.prototype.PX=function(w,I,E,X,o){var i=this.value;
this.value=gD.SX("curv");this.v2();var h=q.Nz.rR(w,o,1),k=this.Pq=[h>>>16&255,h>>>8&255,h&255];this.ajT=o.y;
var x=this.hK.Q().indexOf(!0);if(x==0){var j=(k[0]+k[1]+k[2])/3,v=this.BA.Q(),_=k5.or(i,v),L=v==0?j:k[v-1],U=-1;
for(var P=0;P<_.length;P++)if(_[P].v.Hrzn.v==L)U=P;if(U==-1){var n=JSON.parse(JSON.stringify(_[0]));
n.v.Hrzn.v=L;n.v.Vrtc.v=L;_.push(n);_.sort(function(a,T){return a.v.Hrzn.v-T.v.Hrzn.v});k5.kK(i,v,_);
this.t8=_.indexOf(n)}else this.t8=U}this.B(i);this.v2()};kg.curv.prototype.L_=function(w,I,E,X,o){if(this.Pq==null)return;
if(this.hK.Q().indexOf(!0)==0){var i=this.value,h=this.BA.Q(),k=k5.or(i,h),x=k[this.t8];x.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(x.v.Hrzn.v+(this.ajT-o.y))));
k5.kK(i,h,k);this.B(i);this.v2()}};kg.curv.prototype.dj=function(w,I,E,X,o){var i=this.value,h=this.Pq,k=(h[0]+h[1]+h[2])/3,x=this.hK.Q().indexOf(!0)-1;
if(x<=-1){}else for(var P=0;P<3;P++){var j=k5.or(i,1+P);if(x==0)j[0].v.Hrzn.v=h[P];if(x==1){var v=Math.log(h[P]/255)/Math.log(k/255),_=Math.min(999,Math.max(10,Math.round(100*v)));
if(j.length==2)j.splice(1,0,JSON.parse(JSON.stringify(j[0])));j[1].v.Hrzn.v=127-Math.log(_/100)*127;
j[1].v.Vrtc.v=127}if(x==2)j[j.length-1].v.Hrzn.v=h[P];k5.kK(i,1+P,j)}this.B(i);this.v2();this.Lt();this.Pq=null};
kg.curv.prototype.B=function(w){this.value=w;this.qF()};kg.curv.prototype.NC=function(w){this.li=w;this.qF()};
kg.curv.prototype.Q=function(w){return JSON.parse(JSON.stringify(this.value))};kg.curv.prototype.G6=function(){var w=this.Xe.Q(),I=this.li,E=this.value,X=Q.E4(w,I);
for(var P=0;P<4;P++){var o=X[P][0],i=X[P][1],h=X[P][2],k=[Q.sD.DA(o,0,!0),Q.sD.DA(i,255,!0)];if(h!=null)k.splice(1,0,Q.sD.DA(128,h,!0));
k5.kK(E,P,k)}this.qF();this.v2()};kg.expA=function(){kg.call(this,"expA");this.Cv.push(new fO([12,5],-20,20,null,2,!0));
this.Cv.push(new fO([12,6],-.5,.5,null,2));this.Cv.push(new fO([12,7],.01,9.99,null,2,!0));this.ba()};
kg.expA.prototype=new kg;kg.expA.prototype.b3=function(w,I){I[0]=w.Exps.v;I[1]=w.Ofst?w.Ofst.v:0;I[2]=w.gammaCorrection?w.gammaCorrection.v:1};
kg.expA.prototype.VA=function(w,I){w.Exps={t:"doub",v:I[0]};w.Ofst={t:"doub",v:I[1]};w.gammaCorrection={t:"doub",v:I[2]}};
kg.grdm=function(){kg.call(this,"grdm");this.Cv.push(new b2(!0,null,!0));this.Cv.push(new em([12,23,0]));
this.ba()};kg.grdm.prototype=new kg;kg.grdm.prototype.b3=function(w,I){I[0]=w.Grad.v;I[1]=w.Rvrs?w.Rvrs.v:!1};
kg.grdm.prototype.VA=function(w,I){w.Grad.v=I[0];w.Rvrs={t:"bool",v:I[1]}};kg.grdm.prototype.eU=function(w,I){this.Cv[0].y7(w.Ht,w.Mw);
if(I==ik.Vk||I==ik.xa||I==ik.x6)this.Cv[0].Kn(w.pv)};kg.selc=function(){kg.call(this);var w=this.m;this.KG=[];
this.uz=null;this.iL=new b4([12,82],cz._g.concat([[13,1,8],[13,1,13],[13,1,10]]));this.iL.h(W.E.r,this.ZX,this);
w.appendChild(this.iL.m);O.D2(w);for(var P=0;P<4;P++){var I=new fO(cz.ala[P],-100,100,"%");I.h(W.E.r,this.ZX,this);
this.KG.push(I);w.appendChild(I.m)}this.M1=new em([13,3]);w.appendChild(this.M1.m);this.M1.h(W.E.r,this.ZX,this)};
kg.selc.prototype=new kg;kg.selc.prototype.f=function(){this.iL.f();this.M1.f();for(var P=0;P<4;P++)this.KG[P].f()};
kg.selc.prototype.B=function(w){this.uz=JSON.parse(JSON.stringify(w));this.xn()};kg.selc.prototype.Q=function(w){return JSON.parse(JSON.stringify(this.uz))};
kg.selc.prototype.ZX=function(w){if(w.target!=this.iL){var I=this.uz,E=[];for(var P=0;P<4;P++)E[P]=this.KG[P].Q();
jG.kK(I,this.iL.Q(),E);I.Mthd={t:"enum",v:{CrcM:this.M1.Q()?"Absl":"Rltv"}}}this.xn();this.v2()};kg.selc.prototype.xn=function(){var w=this.uz,I=jG.or(w,this.iL.Q());
for(var P=0;P<4;P++)this.KG[P].B(I[P]);this.M1.B(w.Mthd?w.Mthd.v.CrcM=="Absl":!1)};kg.blwh=function(){kg.call(this,"blwh");
this.Cv.push(new em([12,11]));this.Cv.push(new fs(!0));for(var P=0;P<6;P++)this.Cv.push(new fO(cz._g[P],-200,300));
this.ba()};kg.blwh.prototype=new kg;kg.blwh.prototype.b3=function(w,I){I[0]=w.useTint.v;I[1]=w.tintColor.v;
var E="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var P=0;P<6;P++)I[2+P]=w[E[P]].v};kg.blwh.prototype.VA=function(w,I){w.useTint.v=I[0];
w.tintColor.v=I[1];var E="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var P=0;P<6;P++)w[E[P]].v=I[2+P]};
kg.hue2=function(){kg.call(this);this.value=null;this.Zr=null;this.a1O=null;this.uG=[[0,0,0],[0,50,0]];
var w=this.m;this.hK=new fY(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.hK.h(W.E.r,this.apk,this);this.hK.h(W.E.r,this.qm,this);w.appendChild(this.hK.m);var I=this.Cv=[new b4([12,12],["Master"].concat(cz._g)),new fO([12,8],-180,180),new fO([12,9],-100,100),new fO([12,10],-100,100),new em([12,11])];
for(var P=0;P<I.length;P++){var E=I[P];E.h(W.E.r,P==0?this.qF:this.aic,this);w.appendChild(E.m)}this.iL=I[0];
this.SF=I[1];this.ND=I[2];this.Nd=I[3];this.iC=I[4];this.Mt=new fY("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.Mt.h(W.E.r,this.apk,this);this.Mt.h(W.E.r,this.qm,this);this.Mt.m.style.marginLeft="20px";w.appendChild(this.Mt.m);
this.SW=O.S("div");w.appendChild(this.SW);this.H2=this.Ka.bind(this);this.qO=this.Ki.bind(this);this.U=O.S("canvas");
this.vu=this.U.getContext("2d");this.zN=null;O.aa(this.U);O.c_(this.U,282,18);w.appendChild(this.U);
O.KO(this.U,this.Tu.bind(this))};kg.hue2.prototype=new kg;kg.hue2.prototype.hi=function(w,I){O.c_(this.U,Math.round(w),18);
if(this.value)this.qF()};kg.hue2.prototype.apk=function(w){var I=w.target.Q().indexOf(!0);if(I==-1)return;
if(w.target==this.hK)this.Mt.B([!1,!1,!1]);else this.hK.B([!1,!1,!1])};kg.hue2.prototype.Tu=function(w){if(this.iL.Q()==0||this.iC.Q())return;
var I=O.cz(w,this.U).x/(this.U.width/O.V()),i=1e6;function E(_,L,U){return _<L&&L<U||U<_&&(_<L||L<U)}var X=this.nK(),o=-1;
for(var P=0;P<4;P++){var h=Math.abs(I-(X[P]+P*1e-5));if(h<i){i=h;o=P}}if(i>.025){o=-1;var k=X[0],x=X[1],j=X[2],v=X[3];
if(E(k,I,x))o=4;if(E(x,I,j))o=5;if(E(j,I,v))o=6}if(o==-1)return;this.zN=o;O.rv(document.body,this.H2);
O.M$(document.body,this.qO)};kg.hue2.prototype.Ka=function(w){var I=O.cz(w,this.U).x/(this.U.width/O.V()),E=this.nK(),X=this.zN;
for(var P=1;P<4;P++)if(E[P]<E[P-1]){E[P]+=1}if(X<4){var o=1e6,i=0;for(var P=-20;P<20;P++){var h=Math.abs(E[X]-(I+P));
if(h<o){o=h;i=P}}I+=i;E[X]=I;for(var P=X+1;P<4;P++)if(E[P]<E[P-1]){E[P]=E[P-1]}for(var P=X-1;P>=0;P--)if(E[P]>E[P+1]){E[P]=E[P+1]}}else{var k=I-(E[X-4]+E[X-3])/2;
if(k<-.5)k+=1;if(X==4){E[0]+=k;E[1]+=k;E[2]=Math.max(E[1],E[2]);E[3]=Math.max(E[1],E[3])}if(X==5)for(var P=0;
P<4;P++)E[P]+=k;if(X==6){E[2]+=k;E[3]+=k;E[0]=Math.min(E[0],E[2]);E[1]=Math.min(E[1],E[2])}}for(var P=1;
P<4;P++)if(E[P]<E[P-1])throw"e";this.aao(E);this.qF();this.v2()};kg.hue2.prototype.Ki=function(w){O.Gk(document.body,this.H2);
O.$x(document.body,this.qO)};kg.hue2.prototype.f=function(){for(var P=0;P<this.Cv.length;P++)this.Cv[P].f()};
kg.hue2.prototype.aic=function(w){var I=this.value.Clrz.v=this.iC.Q();if(I)this.iL.B(0);if(w&&w.target==this.iC){var E=I?1:0;
this.uG[1-E]=hj.or(this.value,0);var X=this.uG[E];hj.kK(this.value,0,X);if(this.iL.Q()==0){this.SF.B(X[0]);
this.ND.B(X[1]);this.Nd.B(X[2])}}var o=this.iL.Q(),i=hj.or(this.value,o),X=o==0?i:i.ok;X[0]=this.SF.Q();
var h=this.ND.Q();X[1]=I?Math.max(0,h):h;X[2]=this.Nd.Q();hj.kK(this.value,o,i);this.qF();this.v2()};
kg.hue2.prototype.qF=function(){var w=this.iL.Q(),I=this.value.Clrz?this.value.Clrz.v:!1;this.iC.B(I);
this.iL.Fx(!I);this.Mt.Fx(!I&&w!=0);var E=hj.or(this.value,w),X=w==0?E:E.ok;this.SF.B(X[0]);this.ND.B(X[1]);
this.Nd.B(X[2]);var o=this.U.width,i=this.U.height,h=this.vu;h.clearRect(0,0,o,i);if(I||w==0){this.SW.innerHTML="";
return}var k=E.zX;this.SW.innerHTML=k[0]+"\xB0 / "+k[1]+"\xB0<span style=\"float:right\">"+k[2]+"\xB0 \\ "+k[3]+"\xB0</span>";
var x=Q.$(o*4);bp.ae2(x,1,o,-1,.5);var j=new ImageData(new Uint8ClampedArray(x.buffer),o,1),v=Math.round(i/4);
for(var P=0;P<v;P++)h.putImageData(j,0,P);function _(g,D,b){h.fillStyle=b;var N=v*2;if(g<=D)h.fillRect(g*o,N,(D-g)*o,v);
else{h.fillRect(0,N,D*o,v);h.fillRect(g*o,N,(1-g)*o,v)}}var L=this.nK();_(L[0],L[1],"#888888");_(L[1],L[2],"#cccccc");
_(L[2],L[3],"#888888");h.fillStyle="#ffffff";h.lineWidth=1;h.beginPath();var U=v+.5,n=4*v+.5;for(var P=0;
P<4;P++){var a=Math.floor(o*L[P])+.5,T=(P<2?-1:1)*v*(P==1||P==2?1:2);h.moveTo(a,U);h.lineTo(a,n);h.lineTo(a+T,n);
h.lineTo(a+T,v+v+.5);h.closePath()}h.fill();h.stroke()};kg.hue2.prototype.nK=function(){var w=this.iL.Q(),I=hj.or(this.value,w).zX;
for(var P=0;P<4;P++)I[P]=(1000.5+I[P]/360)%1;return I};kg.hue2.prototype.aao=function(w){var I=this.iL.Q(),E=hj.or(this.value,I);
for(var P=0;P<4;P++)E.zX[P]=Math.round(36e3+(w[P]-.5)*360)%360;hj.kK(this.value,I,E)};kg.hue2.prototype.$c=function(){return!0};
kg.hue2.prototype.amE=function(){var w=this.hK.Q().indexOf(!0),I=this.Mt.Q().indexOf(!0);return w!=-1?w:I!=-1?I+1:-1};
kg.hue2.prototype.PX=function(w,I,E,X,o){var i=this.amE();if(i==-1)return;var h=this.value;this.value=gD.SX("hue2");
this.v2();var k=q.Nz.rR(w,o,1);this.B(h);var x=[k>>>16&255,k>>>8&255,k&255],j=Q.h_(x[0]/255,x[1]/255,x[2]/255);
if(i==0){this.iL.B(1+Math.round(j.Ns*6)%6)}else{var v=this.nK(),_=.5+j.Ns,L=1/12,U=v[1],n=v[2];if(n<U){n++;
if(_<U&&_+1-n<U-_)_++}var a=U<=_&&_<=n;if(i==1){U=_-L/2;n=_+L/2}else if(i==2&&!a){U=Math.min(_,U);n=Math.max(_,n)}else if(i==3&&a){if(_-U<n-_)U=_;
else n=_}v=[U-L,U,n,n+L];this.aao(v)}this.v2();this.Zr=o.x;this.a1O=this.ND.Q()};kg.hue2.prototype.L_=function(w,I,E,X,o){var i=this.amE();
if(i==-1)return;if(i==0){if(this.Zr!=null){var h=o.x-this.Zr;h=Math.max(-100,Math.min(100,this.a1O+.5*h));
this.ND.B(h);this.aic()}}};kg.hue2.prototype.dj=function(w,I,E,X,o){this.Zr=null};kg.hue2.prototype.B=function(w){this.value=JSON.parse(JSON.stringify(w));
var I=this.value.Clrz?this.value.Clrz.v:!1;this.uG[I?1:0]=hj.or(this.value,0);this.qF()};kg.hue2.prototype.Q=function(w){return JSON.parse(JSON.stringify(this.value))};
kg.levl=function(){function w(){kg.call(this);this.value=null;this.li=null;this.l0=[new a5(0,0),new a5(0,0),new a5(0,0),new a5(0,0),new a5(0,0)];
this.Jq=-1;this.H2=this.Ka.bind(this);this.qO=this.Ki.bind(this);var I=this.m;this.BA=new b4([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.BA.h(W.E.r,this.qF,this);I.appendChild(this.BA.m);this.Xe=new e8;this.Xe.parent=this;this.Xe.h(W.E.r,this.G6,this);
I.appendChild(this.Xe.m);var E=O.S("div","");I.appendChild(E);var X=O.S("div","");I.appendChild(X);this.U=O.S("canvas");
E.appendChild(this.U);this.vu=this.U.getContext("2d");this.iY=new a5(256,120);this.U.setAttribute("style","display:block");
O.aa(this.U);O.KO(this.U,this.Tu.bind(this));this.nf=O.S("canvas","");X.appendChild(this.nf);this.$V=this.nf.getContext("2d");
this.WM=new a5(this.iY.x,40);this.nf.setAttribute("style","display:block");O.aa(this.nf);O.KO(this.nf,this.a3R.bind(this));
var o=this.W1=[];for(var P=0;P<5;P++){var i=new aR(null,null,3);o.push(i);i.h(W.E.r,this.ar$,this);(P<2||P==4?E:X).appendChild(i.m)}E.appendChild(o[1].m);
this.hK=new fY("Sample from image",f$.Bk(["#000000","#888888","#ffffff"]),!0,null,!0);this.hK.h(W.E.r,this.qm,this);
I.appendChild(this.hK.m);this.hi(250,100)}w.prototype=new kg;w.prototype.G6=function(){var I=this.Xe.Q(),E=this.li,X=this.value,o=Q.E4(I,E);
for(var P=0;P<4;P++){var i=o[P][0],h=o[P][1],k=o[P][2],x=[Q.sD.DA(i,0,!0),Q.sD.DA(h,255,!0)];if(k!=null)x.splice(1,0,Q.sD.DA(128,k,!0));
var j=[~~i,~~h,0,255,k==null?100:~~(100+.75*100*(k-128)/128)];fP.kK(X,P,j)}this.qF();this.v2()};w.prototype.hi=function(I,E){I+=6;
this.iY.x=this.WM.x=I;O.c_(this.U,I,this.iY.y,this.vu);O.c_(this.nf,I,this.WM.y,this.$V);var X=this.W1;
X[3].m.setAttribute("style","margin-left: "+(I-104)+"px");X[4].m.setAttribute("style","margin: 0 "+(I/2-74)+"px");
if(this.value)this.qF()};w.prototype.f=function(){this.BA.f()};w.prototype.ar$=function(I){var E=[];
for(var P=0;P<5;P++){var X=255,o=1;if(P==4){X=999;o=100}var i=parseFloat(this.W1[P].Q());E[P]=Math.max(0,Math.min(X,i*o))}fP.kK(this.value,this.BA.Q(),E);
this.qF();this.v2()};w.prototype.qF=function(I){var E=this.iY.x,X=this.iY.y,o=this.BA.Q(),i=this.vu;
i.clearRect(0,0,E,X);i.fillStyle="#cccccc";i.fillRect(8,8,E-16,X-16-8);if(this.li){var h=this.li[0].slice(0),n=0;
if(o==0){h.fill(0);var k=JSON.parse(JSON.stringify(this.value));fP.kK(k,0,[0,255,0,255,100]);var x=cz.S9("levl",k),j=[x.pu,x.uk,x._h];
for(var v=0;v<3;v++){var _=this.li[1+v],L=j[v];for(var P=0;P<256;P++)h[L[P]]+=_[P]}}var U=o==0?h:this.li[o];
for(var P=0;P<U.length;P++)n+=U[P];i.fillStyle="#333333";i.beginPath();i.moveTo(8,X-16);for(var P=0;
P<256;P++){var a=55*U[P]/n;i.lineTo(8+P/256*(E-16),Math.max(8,X-16-X*a))}i.lineTo(E-8,X-16);i.closePath();
i.fill()}var T=fP.or(this.value,o);for(var P=0;P<5;P++)this.W1[P].B(T[P]/(P==4?100:1));this.l0[0].eo(8+T[0]/255*(E-16),X-14);
this.l0[1].eo(8+T[1]/255*(E-16),X-14);var g=Math.log(T[4]/100)/Math.log(9.99);g=.5-g/2;this.l0[4].eo(this.l0[0].x+g*(this.l0[1].x-this.l0[0].x),X-14);
this.q2(i,this.l0[0],"#000000");this.q2(i,this.l0[1],"#ffffff");this.q2(i,this.l0[4],"#777777");var E=this.WM.x,X=this.WM.y;
i=this.$V;i.clearRect(0,0,E,X);var D=i.createLinearGradient(0,0,E-16,0);D.addColorStop(0,"black");D.addColorStop(1,"white");
i.fillStyle=D;i.fillRect(8,8,E-16,16);this.l0[2].eo(8+T[2]/255*(E-16),X-14);this.l0[3].eo(8+T[3]/255*(E-16),X-14);
this.q2(i,this.l0[2],"#000000");this.q2(i,this.l0[3],"#ffffff")};w.prototype.q2=function(I,E,X){I.fillStyle=X;
I.fillRect(E.x-5,E.y,10,10)};w.prototype.Tu=function(I){var E=O.cz(I,this.U),X=this.awm([0,1,4],E);if(X!=-1)this.Jq=X;
this.avl()};w.prototype.a3R=function(I){var E=O.cz(I,this.nf),X=this.awm([2,3],E);if(X!=-1)this.Jq=X;
this.avl()};w.prototype.awm=function(I,E){var X=-1,o=1e9;for(var P=0;P<I.length;P++){var i=Math.abs(this.l0[I[P]].x-E.x);
if(i<o){o=i;X=I[P]}}return o<16?X:-1};w.prototype.avl=function(I){if(this.Jq==-1)return;O.rv(document.body,this.H2);
O.M$(document.body,this.qO)};w.prototype.Ka=function(I){var E=fP.or(this.value,this.BA.Q()),X=O.cz(I,this.Jq==2&&this.Jq==3?this.nf:this.U),o=255*(X.x-8)/(this.iY.x-16);
o=Math.max(0,Math.min(255,o));if(this.Jq==0)o=Math.min(o,E[1]-2);if(this.Jq==1)o=Math.max(o,E[0]+2);
if(this.Jq!=4)E[this.Jq]=Math.round(o);else{var i=(o-E[0])/(E[1]-E[0]);i=1-2*i;i=Math.pow(9.99,i);E[4]=Math.min(999,Math.max(10,Math.round(i*100)))}fP.kK(this.value,this.BA.Q(),E);
this.qF();this.v2()};w.prototype.Ki=function(I){O.Gk(document.body,this.H2);O.$x(document.body,this.qO);
this.Jq=-1};w.prototype.$c=function(){return!0};w.prototype.dj=function(I,E,X,o,i){var h=this.value,k=this.hK.Q().indexOf(!0);
if(k==-1)return;this.value=gD.SX("levl");this.v2();var x=q.Nz.rR(I,i,1),j=[x>>>16&255,x>>>8&255,x&255];
for(var P=0;P<3;P++){var v=fP.or(h,1+P);if(k==0)v[0]=j[P];if(k==1){var _=Math.log(j[P]/255)/Math.log((j[0]+j[1]+j[2])*.333/255);
v[4]=Math.min(999,Math.max(10,Math.round(100*_)))}if(k==2)v[1]=j[P];fP.kK(h,1+P,v)}this.B(h);this.v2()};
w.prototype.B=function(I){this.value=I;this.qF()};w.prototype.NC=function(I){this.li=I;this.qF()};w.prototype.Q=function(I){return JSON.parse(JSON.stringify(this.value))};
return w}();kg.phfl=function(){kg.call(this,"phfl");this.Cv.push(new fs);this.Cv.push(new fO([12,74],0,100,"%"));
this.Cv.push(new em([13,4]));this.ba()};kg.phfl.prototype=new kg;kg.phfl.prototype.b3=function(w,I){I[0]=w.Clr.v;
I[1]=w.Dnst.v;I[2]=w.PrsL.v};kg.phfl.prototype.VA=function(w,I){var E=Q.N.BL(I[0]),X=w.Clr.v,o=Q.HX(E.o,E.P,E.L);
X.Lmnc.v=o.wb;X.A.v=o.lV;X.B.v=o.L;w.Dnst.v=I[1];w.PrsL.v=I[2]};kg.vibA=function(){kg.call(this,"vibA");
this.Cv.push(new fO([12,13],-100,100,null));this.Cv.push(new fO([12,9],-100,100,null));this.ba()};kg.vibA.prototype=new kg;
kg.vibA.prototype.b3=function(w,I){I[0]=w.vibrance?w.vibrance.v:0;I[1]=w.Strt?w.Strt.v:0};kg.vibA.prototype.VA=function(w,I){w.vibrance.v=I[0];
w.Strt.v=I[1]};kg.thrs=function(){kg.call(this,"thrs");this.Cv.push(new fO([4,13],1,255,null));this.ba()};
kg.thrs.prototype=new kg;kg.thrs.prototype.b3=function(w,I){I[0]=w.Lvl.v};kg.thrs.prototype.VA=function(w,I){w.Lvl.v=I[0]};
kg.mixr=function(){kg.call(this);var w=this.m;this.KG=[];this.uz=null;this.iL=new b4([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.iL.h(W.E.r,this.ZX,this);w.appendChild(this.iL.m);O.D2(w);this.R2=new em([12,60]);w.appendChild(this.R2.m);
this.R2.h(W.E.r,this.ZX,this);for(var P=0;P<4;P++){var I=new fO([[13,1,1],[13,1,4],[13,1,5],[13,2]][P],-200,200,"%");
I.h(W.E.r,this.ZX,this);this.KG.push(I);w.appendChild(I.m)}};kg.mixr.prototype=new kg;kg.mixr.prototype.f=function(){this.iL.f();
this.R2.f();for(var P=0;P<4;P++)this.KG[P].f()};kg.mixr.prototype.B=function(w){this.uz=JSON.parse(JSON.stringify(w));
this.xn()};kg.mixr.prototype.Q=function(w){return JSON.parse(JSON.stringify(this.uz))};kg.mixr.prototype.ZX=function(w){if(w.target!=this.iL){var I=cz.AP(this.uz);
if(w.target==this.R2){I.R2=this.R2.Q();if(I.R2)I.k=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else I.k=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var E=(I.R2?0:this.iL.Q())*5,P=this.KG.indexOf(w.target);
I.k[E+(P<3?P:4)]=w.target.Q()}this.uz=cz.aaV(I)}this.xn();this.v2()};kg.mixr.prototype.xn=function(){var w=cz.AP(this.uz);
this.R2.B(w.R2);var I=(w.R2?0:this.iL.Q())*5;for(var P=0;P<4;P++)this.KG[P].B(w.k[I+(P<3?P:4)])};kg.post=function(){kg.call(this,"post");
this.Cv.push(new fO([4,1],2,255,null));this.ba()};kg.post.prototype=new kg;kg.post.prototype.b3=function(w,I){I[0]=w.Lvls.v};
kg.post.prototype.VA=function(w,I){w.Lvls.v=I[0]};kg.clrL=function(){kg.call(this,"clrL");this.Cv.push(new hV("LUTs"));
this.ba()};kg.clrL.prototype=new kg;kg.clrL.prototype.b3=function(w,I){I[0]=w};kg.clrL.prototype.VA=function(w,I){var E=I[0];
for(var X in E)w[X]=E[X]};kg.clrL.prototype.eU=function(w,I){if(I==ik.Vk||I==ik.V3)this.Cv[0].Kn(w.aor)};
kg.rplc=function(){kg.call(this,"rplc");this.Cv.push(new fO([12,92],0,200));this.Cv.push(new fs);this.Cv.push(new fO([12,8],-180,180));
this.Cv.push(new fO([12,9],-100,100));this.Cv.push(new fO([12,10],-100,100));this.ba()};kg.rplc.prototype=new kg;
kg.rplc.prototype.b3=function(w,I){I[0]=w.Fzns.v;I[1]=w.Mxm.v;I[2]=w.H.v;I[3]=w.Strt.v;I[4]=w.Lght.v};
kg.rplc.prototype.VA=function(w,I){function E(o,i){i.Lmnc.v=o.wb;i.A.v=o.lV;i.B.v=o.L}w.Fzns.v=I[0];
w.H.v=I[2];w.Strt.v=I[3];w.Lght.v=I[4];var X=Q.N.BL(I[1]),o=Q.HX(X.o,X.P,X.L);E(o,w.Mnm.v);E(o,w.Mxm.v)};
kg.fade=function(){kg.call(this,"fade");this.Cv.push(new fO([12,0],0,100,"%"));this.Cv.push(new b4([12,19,0],hH.He,!1,hH.pc));
this.ba()};kg.fade.prototype=new kg;kg.fade.prototype.b3=function(w,I){I[0]=w.Opct.v.val;I[1]=hH.zg.indexOf(w.Md.v.BlnM)};
kg.fade.prototype.VA=function(w,I){w.Opct.v.val=I[0];w.Md.v.BlnM=hH.zg[I[1]]};kg.aply=function(){var w=hH.zg.concat(["Add","Sbtr"]);
w.splice(21,1);var I=hH.He.concat([[15,10,28],[15,10,21]]);I.splice(21,1);var E=hH.pc.slice(0);E[4]--;
function X(){kg.call(this,"aply");this.Cv.push(new b4([0,3],[]));this.Cv.push(new b4([12,4],["RGB"].concat(cz.Sb).concat(["Transparency"])));
this.Cv.push(new em([4,11]));this.Cv.push(new b4([12,19,0],I,!1,E));this.Cv.push(new fO([12,0],0,100,"%"));
this.Cv.push(new ic([12,38],1,2,null,2));this.Cv.push(new ic([12,6],-255,255));this.Cv.push(new em([13,5]));
this.ba([2]);this.DF=null}X.prototype=new kg;X.prototype.b3=function(o,i,h){if(h){var k=h[2].b,x=this.DF=[];
for(var P=0;P<k.length;P++){var j=k[P].getName();x.push(j.length<30?j:j.slice(0,27)+"...")}x.reverse();
this.Cv[0].Zq([[5,7]].concat(x),[1,x.length])}else var x=this.DF;o=o.With.v;var v=o.T.v;i[0]=v[1].t=="name"?1+x.indexOf(v[1].v.val):0;
i[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(v[0].v.enum);i[2]=o.Invr.v;var _=o.Clcl.v.Clcn;i[3]=w.indexOf(_);
i[4]=o.Opct.v.val;i[5]=o.Scl.v;i[6]=o.Ofst.v;i[7]=o.PrsT.v};X.prototype.VA=function(o,i){o=o.With.v;
var h=o.T.v;if(i[0]==0)h[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};else h[1]={t:"name",v:{classID:"Lyr",val:this.DF[i[0]-1]}};
h[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][i[1]];o.Invr.v=i[2];var k=o.Clcl.v.Clcn=w[i[3]];o.Opct.v.val=i[4];
o.Scl.v=i[5];o.Ofst.v=i[6];o.PrsT.v=i[7];var x=k=="Add"||k=="Sbtr";this.Cv[5].Fx(x);this.Cv[6].Fx(x)};
return X}();kg.matc=function(){var w,I,E=0;function X(){kg.call(this,"matc");this.Cv.push(new fO("Luminance",1,200));
this.Cv.push(new fO("Color Intensity",1,200));this.Cv.push(new fO([2,11],0,100,"%"));this.Cv.push(new em("Neutralize"));
this.Cv.push(new b4([12,70],[]));this.Cv.push(new b4([0,3],[]));this.ba([2])}function o(i,h){i.Cv[5].Zq([[5,7]].concat(h),[1,h.length])}X.prototype=new kg;
X.prototype.b3=function(i,h,k){E=0;h[0]=i.Lght.v;h[1]=i.ClrR.v;h[2]=i.Fade.v;h[3]=i.neutralizeColor?i.neutralizeColor.v:!1;
h[4]=h[5]=0;var x=i.Srce;if(x)x=x.v;if(k){w=[];I=[];var j=k[2],v=k[3];for(var P=0;P<v.length;P++){var _=v[P];
w.push(_.name);var L=_.b,U=[];I.push(U);for(var n=0;n<L.length;n++)U.push(L[n].getName());U.reverse()}this.Cv[4].Zq([[13,1,0]].concat(w),[1,w.length]);
var a=v.indexOf(j);if(x)a=w.indexOf(x[1].v.val);o(this,I[a])}if(x){var T=w.indexOf(x[1].v.val);h[3]=E=1+T;
if(x[0].t=="name")h[4]=1+I[T].indexOf(x[0].v.val)}};X.prototype.VA=function(i,h){i.Lght.v=h[0];i.ClrR.v=h[1];
i.Fade.v=h[2];i.neutralizeColor.v=h[3];if(h[4]==0){i.noReference={t:"bool",v:!0};delete i.Srce}else{if(h[4]!=E){E=h[4];
o(this,I[h[4]-1])}delete i.noReference;var k={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},x=I[h[4]-1];
if(h[5]!=0)k={t:"name",v:{classID:"Lyr",val:x[h[5]-1]}};i.Srce={t:"obj ",v:[k,{t:"name",v:{classID:"Dcmn",val:w[h[4]-1]}}]}}};
return X}();function a1(w,I){cu.call(this);if(w==null)return;this.id=I;this.Nk=w;this.BV=null;this.m=O.S("div","window "+I);
this.axc=null;this.UF=O.S("div","whead");this.a2F=O.S("span","wname");this.UF.appendChild(this.a2F);
this.m.appendChild(this.UF);this.Vz=this.aod.bind(this);this.IN=this.ae7.bind(this);this.Yt=this.axD.bind(this);
O.aa(this.UF);O.KO(this.UF,this.Vz);this.adu=O.S("span","cross gsicon");this.UF.appendChild(this.adu);
a1.prototype.f.call(this);O.M$(this.adu,this.ap3.bind(this));this.body=O.S("div","body");this.m.appendChild(this.body)}a1.prototype=new cu;
a1.prototype.wN=function(){return!1};a1.prototype.$c=function(){return!1};a1.prototype.f=function(){if(this.Nk==null)return;
this.a2F.textContent=df.get(this.Nk)};a1.prototype.PX=function(w,I,E,X,o){};a1.prototype.Rb=function(w,I,E,X,o){};
a1.prototype.L_=function(w,I,E,X,o){};a1.prototype.dj=function(w,I,E,X,o){};a1.prototype.UB=function(w,I,E,X,o){};
a1.prototype.oH=function(w,I,E,X){if(X.Y(aW.yd)&&this.cf)this.cf();if(X.Y(aW.iu)){var o=new e9(W.E.s);
o.IY=!0;q.kr.a5M(X,o);if(o.data)I.c(o)}};a1.prototype.Uo=function(w){return!1};a1.prototype.mV=function(w,I){return!0};
a1.prototype.tM=function(w,I,E,X){};a1.prototype.eU=function(w,I){};a1.prototype.GN=function(w,I){return null};
a1.prototype.a7A=function(w){return this.axc};a1.prototype.hi=function(){};a1.prototype.close=function(){this.c(new e9(W.E.RR))};
a1.prototype.aod=function(w){this.BV=O.cz(w,this.m);O.rv(window,this.IN);O.M$(window,this.Yt)};a1.prototype.ae7=function(w){var I=this.m.parentNode,E=O.cz(w,I),X=Math.round(E.x-this.BV.x),o=I.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(E.y-this.BV.y)));
this.axc=new a5(X,o);this.m.style.left=X+"px";this.m.style.top=o+"px"};a1.prototype.axD=function(w){O.Gk(window,this.IN);
O.$x(window,this.Yt)};a1.prototype.ap3=function(w){this.c(new e9("closebtn"));this.close()};function f8(){a1.call(this,"About Photopea","aboutpp");
var w=O.S("div","flexrow");this.body.appendChild(w);var I=this.a9w=O.S("img");w.appendChild(I);this.body.setAttribute("style","margin:0; padding:0");
var E=this.abv=O.S("div");E.innerHTML=f8.Ca;w.appendChild(E);var X=this.rX=O.S("span");X.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(X)}f8.prototype=new a1;f8.prototype.GN=function(w,I){return new a5(0,0)};f8.prototype.hi=function(w,I){var E=this.a9w,X=this.abv,o=this.rX,i=(w+I-42-42)/110;
i=Math.sqrt((w-42)*(I-42))/50;E.setAttribute("style","width:"+w/2+"px; height:"+I+"px; display:block; object-fit:cover;");
X.setAttribute("style","width:"+(w/2-42)+"px; height:"+(I-42)+"px; padding:20px; font-size:"+i+"px;");
o.setAttribute("style","position:absolute;  bottom:10px; right:"+(w/2+10)+"px")};f8.prototype.f=function(){};
f8.prototype.tM=function(w,I,E,X){this.a9w.setAttribute("src","promo/ivan_pp.webp")};f8.Ca="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function bk(){a1.call(this,[0,13,0],"account");this.ae=O.S("div","form scrollable");this.body.appendChild(this.ae);
this.body.style.padding="0";this.eV=[new bk.yT,new bk.Jh("::privacy.html"),new bk.Jh(bk.acf)];for(var P=0;
P<this.eV.length;P++)this.eV[P].parent=this;this.h("showpage",this.aco,this)}bk.prototype=new a1;bk.prototype.mV=function(w,I){var E=navigator.onLine;
if(!E)alert("Go online first");return E};bk.prototype.hi=function(w,I){this.ae.setAttribute("style","width:"+Math.min(w-40,740)+"px;  height:"+(I-38)+"px;  padding:1.5em;");
this.eV[0].hi(w,I)};bk.prototype.GN=function(w,I){return new a5(Math.max(0,Math.min(150,(w-740)/2)),Math.max(0,Math.min(100,(I-500)/2)))};
bk.prototype.aco=function(w){O.wO(this.ae);this.ae.scrollTop=0;this.ae.appendChild(this.eV[w.data.qI].m)};
bk.prototype.f=function(){a1.prototype.f.call(this);for(var P=0;P<this.eV.length;P++)this.eV[P].f()};
bk.prototype.tM=function(w,I,E){if(!navigator.onLine)return;O.wO(this.ae);var X=this.eV[0];this.ae.appendChild(X.m);
X.tM();this.f()};bk.prototype.eU=function(w,I){this.tM(null,null,null)};bk.yT=function(){cu.call(this);
this.m=O.S("div");var w=this.m,k,x,v="font-size:1.25em;",_="text-align:center;",U="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",n="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",a="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",g=12;
this._Q=O.S("div");w.appendChild(this._Q);this.o$=new es([0,11],!1,null,!0);this.o$.m.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.o$.h("click",this.$L,this);w.appendChild(this.o$.m);this._P=new es([0,13,1],!1,null,!0);this._P.h("click",this.ahm,this);
w.appendChild(this._P.m);this.Pl=new es("Business Terms",!1,null,!0);this.Pl.h("click",this.apq,this);
w.appendChild(this.Pl.m);var I=O.S("div");I.style.margin="20px 0";w.appendChild(I);var E=["Account Types","Go Premium","Team Settings","Distributors"],X=this.zH=[],o=this.a95=[],i=this.mz=O.S("div");
w.appendChild(i);for(var P=0;P<E.length;P++){var h=O.S("span");h.textContent=E[P];I.appendChild(h);X.push(h);
h.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
h.addEventListener("click",this.xc.bind(this));o.push(O.S("div"))}this.xc(0);var j=this.axY="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
w=o[0];var x=O.S("table"),L="style=\" "+_+v+" padding-bottom:20px;\"";x.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+a+">\t\t\t\t\t<div "+L+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+n+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+a+">\t\t\t\t\t<div "+L+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+n+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+n+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+n+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+n+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
w.appendChild(x);var h=new es("Go Premium");h.m.setAttribute("style",j+"padding:10px 0;");h.h("click",function(N){this.xc(1)},this);
x.children[0].children[1].children[1].appendChild(h.m);this.Od=O.S("div");w.appendChild(this.Od);w=o[1];
var T=this.auC=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.fG=[];for(var P=0;P<T.length;P++)this.fG.push(new es("Buy: $"+T[P][0],!1,null,!0));for(var P=0;
P<this.fG.length;P++){this.fG[P].h("click",this.alh,this)}this.CT=new es("...",!0);this.CT.m.setAttribute("style",j);
w.appendChild(this.CT.m);x=this.auy(4,["Single user",this.fG[0],this.fG[1],this.fG[2],"Team of 5",this.fG[3],this.fG[4],this.fG[5],"Team of 20",this.fG[6],this.fG[7],this.fG[8],"Team of 50",this.fG[9],this.fG[10],this.fG[11]]);
w.appendChild(x);this.a5J=new em("I accept",!0,"");w.appendChild(this.a5J.m);this.ku=new es([0,13,1],!1,null,!0);
this.ku.h("click",this.ahm,this);w.appendChild(this.ku.m);this.yP=new es("I have a key",!1,null,!0);
this.yP.m.setAttribute("style",j+" float:right; width:inherit;");this.yP.h("click",this.alh,this);w.appendChild(this.yP.m);
w=o[2];this.xT=new dA;this.xT.parent=this;this.xT.h(W.E.r,this.zi,this);w.appendChild(this.xT.m);w=o[3];
this.YF=new es("...",!0);this.YF.m.setAttribute("style",j);w.appendChild(this.YF.m);x=this.auy(3,["1000 views/mo",this.fG[g++],this.fG[g++],this.fG[g++],"5000 views/mo",this.fG[g++],this.fG[g++],this.fG[g++],"20000 views/mo",this.fG[g++],this.fG[g++],this.fG[g++]]);
w.appendChild(x);var D=O.S("p");D.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
w.appendChild(D);this.n3=new aR("Domain name (e.g. domain.com)",null,14);w.appendChild(this.n3.m);var b=new es("Save Domain Settings",!1,null,!0);
b.KX();w.appendChild(b.m);b.h("click",this.awB,this)};bk.yT.prototype=new cu;bk.yT.prototype.xc=function(w){var I=typeof w=="number"?w:this.zH.indexOf(w.target);
for(var P=0;P<4;P++)this.zH[P].style.opacity=.6;this.zH[I].style.opacity=1;O.wO(this.mz);this.mz.appendChild(this.a95[I])};
bk.yT.prototype.hi=function(w,I){var E=w<600?"d":" days",X=["30 days","90 days","365 days"];if(w<600)X=["30d","90d","365d"];
var o=this.auC;for(var P=0;P<o.length;P++){this.fG[P].vw("<span>"+X[P%3]+": <sup>$</sup><big><b>"+o[P][0]+"</b></big>"+"</span>");
this.fG[P].m.setAttribute("style",this.axY)}};bk.yT.prototype.ahm=function(w){var I=new e9("showpage",!0);
I.data={qI:1};this.c(I)};bk.yT.prototype.apq=function(w){var I=new e9("showpage",!0);I.data={qI:2};this.c(I)};
bk.yT.prototype.f=function(){this.o$.vw(bh.ZP()?df.get([0,11]):df.get([0,10]));this.ku.f();this._P.f();
this.Pl.f()};bk.yT.prototype.a5c=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.Yo,link:"https://www.photopea.com/api/accounts#"+(w.target==this.a3v?"teams":"distributors")};
this.c(I)};bk.yT.prototype.awX=function(w){var I=w.currentTarget==this.ayq;this.ayq.B(I);this.aru.B(!I)};
bk.yT.prototype.a7W=function(w){var I=this.ayq.Q(),E=this.a00.Q().trim().toLowerCase(),X=this.akn.value.trim().toLowerCase();
if(E.length>60){alert("Too long email address");return}if(X.length>600){alert("Too many team members");
return}X=X.split(",").join(" ").trim();X=X.replace(/\s+/g," ");if(X=="")X=[];else X=X.split(" ");var o=bh.sf();
if(o==null)o={};if(o.acc==null)o.acc={};o.acc.team={jin:I,ldr:E,mmb:X};bh.N1(o,this.zi.bind(this));alert("Saved!");
this.tM()};bk.yT.prototype.awB=function(w){var I=this.n3.Q().trim();if(!bh.ZP()){alert("You have to log in first.");
return}if(bh.B_()==0){alert("Order a distributor account first.");return}var E=bh.sf();if(E==null)E={};
if(E.acc==null)E.acc={};if(I=="")delete E.acc.dname;else E.acc.dname=I;bh.N1(E,this.zi.bind(this));alert("Saved!");
this.tM()};bk.yT.prototype.aiJ=function(w){var I=bh.kg(),P=this.NF,E=bh.sf();if(E==null)E={};if(E.acc==null)E.acc={};
E.acc.bto=w;bh.N1(E,function(){});var X=bk.asu(w.split("\n"),I.pmnts[P]);jb.save(X,"photopea_invoice.pdf")};
bk.yT.prototype.ahi=function(w){var I=bh.kg(),E=bh.sf(),X=E.acc?E.acc.bto:null;if(X==null)X=I.name+"\n"+I.email;
var P=-1,o=w.target.m.parentNode;while((o=o.previousSibling)!=null)P++;this.NF=P;var i=new e9(W.E.Z,!0);
i.data={d:W.t.GV,ei:"billto",di:X,qu:this.aiJ.bind(this)};this.c(i)};bk.yT.prototype.tM=function(){this._Q.innerHTML="";
O.wO(this.Od);if(bh.ZP()){var w=bh.kg(),I=w.pmnts;if(w==null)return;this._Q.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+w.name+"</span> "+w.email+" <br/>";
if(I){var E="<h2>Payments</h2>";for(var P=0;P<I.length;P++){var X=I[P],o=new Date(X[0]*1e3);E+="<div style=\"font-size:1.2em\">"+o.getDate()+". "+(o.getMonth()+1)+". "+o.getFullYear()+" - "+bk.as6(X)+"</div>"}this.Od.innerHTML=E;
for(var P=0;P<I.length;P++){var i=new es("Get Invoice",!1,null,!0);i.m.setAttribute("style","float:right");
i.h("click",this.ahi,this);this.Od.children[P+1].appendChild(i.m)}}}else{}var h=bh.ZP()&&bh.c9();this.CT.m.style.display=h?"block":"none";
if(h){var k,x,j=h;if(j[0]==0){k=bh.Yu(j[1])-Date.now()*(1/1e3);x=j[1][2]==1?"Single User":"Team Of "+j[1][2]}else{k=j[1][1]-Date.now()*(1/1e3);
x="Member of \""+j[1][0]+"\""}this.CT.vw("Premium active for "+Math.round(k/(60*60*24))+" more days! ("+x+")")}var v=bh.ZP()&&bh.B_()*1e3>Date.now();
this.YF.m.style.display=v?"block":"none";if(v){var k=bh.B_()-Date.now()/1e3;this.YF.vw("Distributor active for "+Math.round(k/(60*60*24))+" more days!")}var _=bh.sf();
this.xT.tM();if(_&&_.acc&&_.acc.dname)this.n3.B(_.acc.dname);else this.n3.B("")};bk.yT.prototype.auy=function(w,I){var E=O.S("table");
if(!0){var X="<table><tr>";for(var P=0;P<w;P++)X+="<th>"+I[P*4]+"</th>";X+="</tr></table>";E.innerHTML=X;
for(var P=0;P<3;P++){var o=O.S("tr"),i;E.appendChild(o);for(var h=0;h<w;h++){i=O.S("td");i.style.width=Math.round(100/w)+"%";
o.appendChild(i);i.appendChild(I[h*4+1+P].m)}}}return E};bk.yT.prototype.alh=function(w){var I=this.fG.indexOf(w.currentTarget),X=30,o=1;
if(!bh.ZP()){this.$L();return}if(this.a5J.Q()==!1&&I<12){alert("You must accept Terms of Service");return}var E=bh.ZP()&&bh.c9();
if(I!=-1){var i=this.auC[I];X=i[1];o=i[2]}if(E&&o<1e3){alert("You already have premium.");return}console.log(i,X,o);
if(I==-1){var h=prompt("Please enter your key");if(h!=null){bh.a9B(h,this.zi.bind(this));this.yv()}return}if(X==30&&o==1){var k=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!k)return}bh.order(X,o,this.zi.bind(this));this.yv()};bk.yT.prototype.zi=function(w){this.tM();this.yv()};
bk.yT.prototype.$L=function(w){if(bh.ZP()){bh.arM();this.yv();this.tM(null,null,null)}else bh.$L(this.asL.bind(this))};
bk.yT.prototype.asL=function(){var w=new e9(W.E.Z,!0);w.data={d:W.t.anv};this.c(w)};bk.yT.prototype.yv=function(){var w=new e9(W.E.Z,!0);
w.data={d:W.t.aiw};this.c(w)};bk.Jh=function(w){cu.call(this);this.m=O.S("div");var I=this.m,E=this.a65=new es([0,13,2],!1,null,!0),X;
E.h("click",this.aeu,this);I.appendChild(E.m);if(w.startsWith("::")){X=O.S("iframe");X.setAttribute("style","width:100%;height:1700px; background-color:white;");
X.setAttribute("src",w.slice(2))}else{X=O.S("div");X.innerHTML=w}I.appendChild(X)};bk.Jh.prototype=new cu;
bk.Jh.prototype.aeu=function(w){var I=new e9("showpage",!0);I.data={qI:0};this.c(I)};bk.Jh.prototype.f=function(){this.a65.f()};
bk.acf="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
bk.as6=function(w){return"Photopea "+(w[1]<1e3?"Premium":"Distributor")+" ("+w[1]+" days, "+w[2]+" user"+(w[2]==1?"":"s")+")"};
bk.asu=function(w,I){w=["Bill To:"].concat(w);var E=new ToPDF,X=595,o=842,i=40,h=18,k=12,x=500,j=100,v=400,a=0;
function _(f,d,l,A,B){U.font.Tf=B?"Helvetica-Bold":"Helvetica";U.ctm=[1,0,0,1,d,l];U.font.Tfs=A?A:k;
E.PutText(U,f,0)}function L(f,d,l,A){for(var P=0;P<f.length;P++){_(f[P],d,l-P*A,null,P==0)}}var U=UDOC.getState();
E.StartPage(0,0,X,o);_("INVOICE",X-i-140,o-i-30,30,!0);L(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],i,o-i-40,h);
var n=new Date(I[0]*1e3);L(["Date: "+n.getDate()+". "+(n.getMonth()+1)+". "+n.getFullYear(),"Transaction ID: "+I[4]],X-i-140,o-i-40-h*2,h);
var T=w.join("");for(var P=0;P<T.length;P++)a=Math.max(a,T.charCodeAt(P));if(a>256){var g=4,D=O.S("canvas"),b=D.getContext("2d"),N=0;
b.font=k*g+"px sans-serif";for(var P=0;P<w.length;P++)N=Math.max(N,b.measureText(w[P]).width);var C=Math.round(N)+20,Z=w.length*g*h+20;
D.width=C;D.height=Z;b.font=k*g+"px sans-serif";for(var P=0;P<w.length;P++){b.font=(P==0?"bold ":"")+k*g+"px sans-serif";
b.fillText(w[P],10,(P+1)*g*h)}document.body.appendChild(D);var S=new Uint8Array(b.getImageData(0,0,C,Z).data.buffer);
U.ctm=[C/g,0,0,Z/g,i-10/g,o-i-40-100-Z/g];E.PutImage(U,S,C,Z);U.ctm=[1,0,0,1,0,0]}else L(w,i,o-i-40-100,h);
U.colr=[.8,.8,.8];U.pth={cmds:["M","L","L","L","Z"],crds:[i,x,X-i,x,X-i,x-h,i,x-h]};E.Fill(U);U.colr=[0,0,0];
var u=[i,x,X-i,x,i,x-h,X-i,x-h,i,x-j,X-i,x-j,i,x,i,x-j,X-i,x,X-i,x-j,v,x,v,x-j],p=[];for(var P=0;P<u.length;
P+=4)p.push("M","L");U.pth={cmds:p,crds:u};E.Stroke(U);_("Order details",i+4,x-14);_(bk.as6(I),i+4,x-h-14);
_("TOTAL:",i+4,x-j-14,null,!0);_("Price",X-i-50,x-14);_(I[3]+" USD",X-i-60,x-h-14);_(I[3]+" USD",X-i-60,x-j-14,null,!0);
_("www.Photopea.com",i,i);_("support@photopea.com",X-i-130,i);E.ShowPage();E.Done();return E.buffer};
function hf(){a1.call(this,[11,14],"addguides");this.Ke;this.m6={yR:{gM:0}};this.WO=null;var w=O.S("div","form");
this.body.appendChild(w);this.z3=new aR([22,4,0],null,16);this.z3.h(W.E.r,this.Km,this);this.gE=new aR([22,4,1],null,16);
this.gE.h(W.E.r,this.Km,this);this._9=new b4(null,Q.Ha.Mu);this._9.h(W.E.r,this.Km,this);w.appendChild(this.z3.m);
w.appendChild(this._9.m);O.D2(w);w.appendChild(this.gE.m);this.lU=O.Ju(this,w);this.h("closebtn",this.T9,this)}hf.prototype=new a1;
hf.prototype.mV=function(w,I){return w!=null};hf.prototype.wN=function(){return!0};hf.prototype.f=function(){a1.prototype.f.call(this);
this.z3.f();this.gE.f();this._9.f();this.lU.f()};hf.prototype.eU=function(w,I){var E=w.yR.gM;this.m6.yR.gM=E;
this._9.B(E)};hf.prototype.tM=function(w,I){this.Ke=w;this.WO=JSON.stringify(w.b5());this.Fm()};hf.prototype.Fm=function(){var w=this.Ke,I=w.l2,E=function(X,o,w,i,h){var k=[];
for(var P=0;P<X.length;P++)if(X[P][0]==o)k.push(Q.Ha.Wo(X[P][1],w.nN,i,h));k.sort(function(x,j){return x-j});
return k.join(", ")};this.z3.B(E(I,0,w,this.m6,w.q));this.gE.B(E(I,1,w,this.m6,w.w))};hf.prototype.Km=function(w){if(w&&w.currentTarget==this._9)this.m6.yR.gM=this._9.Q();
else{var I=this.a6b(),E=this.Ke;E.yL(I);E.WV=!0}this.Fm()};hf.prototype.a6b=function(){var w=[],I=[];
for(var E=0;E<2;E++){var X=E==0?this.z3:this.gE,o=E==0?this.Ke.q:this.Ke.w,i=X.Q().replace(/,/g," ").replace(/  +/g," ").trim(),h=i==""?[]:i.split(" ");
for(var P=0;P<h.length;P++){w.push([E,Q.Ha.ax2(h[P],this.Ke.nN,this.m6,o)]);I.push(-1)}}return[w,I]};
hf.prototype.T9=function(w){var I=this.Ke;I.yL(JSON.parse(this.WO));I.WV=!0;this.Ke=null};hf.prototype.cf=function(w){this.Km(w);
var I=new e9(W.E.s,!0);I.G=q.xE;I.data={d:"gids",Ia:JSON.parse(this.WO),_t:this.Ke.b5()};this.Ke=null;
this.close();this.c(I)};function fx(w){a1.call(this,{pdfpres:"PDF Presentation"}[w],w);var I=O.S("div","form");
this.body.appendChild(I);I.setAttribute("style","width:300px");this.RH=new gz("Source Images",!0,!0);
I.appendChild(this.RH.m);this.xh=new b4([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
I.appendChild(this.xh.m);this.S0=new em("Order images by name");this.S0.B(!0);I.appendChild(this.S0.m);
var E=new es(["VAR0 PDF",[1,8]],!0,null,!0);E.h("click",this.Hr,this);I.appendChild(E.m)}fx.prototype=new a1;
fx.prototype.Hr=function(w){var I=this.RH.Q(),E=[],i=595,h=842,k=40;for(var X in I)E.push(X);if(E.length==0){alert("No images selected");
return}if(this.S0.Q())E.sort();var o=this.xh.Q(),x=new ToPDF,j=UDOC.getState();for(var P=0;P<E.length;
P++){var X=E[P],v=I[X],_=v[0]==255,L=gt.mq(v.buffer),U=gt.FB(L),n;if(L=="psd")n=cD.a5D(v.buffer)[0];
else if(U.RJ){alert(L.toUpperCase()+" can not be used.");continue}else n=U.CE(v.buffer)[0];var a=n.WG,T=new Uint8Array(n.data),g=a.q,D=a.w,b=[[595,842],[842,595],[595,595],[595,0]][o];
if(o==3)b[1]=Math.round(b[0]*D/g);var i=b[0],h=b[1],N=Math.min(i/g,h/D);x.StartPage(0,0,i,h);j.ctm=[g*N,0,0,D*N,(i-g*N)/2,(h-D*N)/2];
x.PutImage(j,_?v:T,g,D);x.ShowPage()}x.Done();jb.save(x.buffer,"file.pdf")};fx.prototype.f=function(){a1.prototype.f.call(this);
this.RH.f();this.xh.f();this.S0.f()};function e1(w){var I=gD.names[w];if(I==null)I=cz.names[w];if(w=="aply")I=[2,12];
if(w=="fade")I=[2,11];if(w=="matc")I=[4,18];if(w=="blendOptions")I=[14,10];a1.call(this,I,"afw_"+w);
this.qt=w;this.EA=null;this.AY=null;this.dR=new kg[w];this.dR.h(W.E.r,this.v2,this);this.dR.parent=this;
this.body.appendChild(this.dR.m);this.gc=new em([24,18,5]);this.gc.B(!0);this.gc.h(W.E.r,this.v2,this);
this.jk=new es([1,12,2],!0,null,!0);this.jk.h("click",this.uP,this);this.lU=O.Ju(this);if(this.e7())this.dR._Y(this.lU.m);
else{O.vK(this.dR.m,"form");O.vK(this.body,"flexrow");this.dR.m.setAttribute("style","width:312px");
var E=O.S("div");this.body.appendChild(E);E.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
E.appendChild(this.lU.m);E.appendChild(this.jk.m);E.appendChild(this.gc.m)}this.h("closebtn",this.NB,this)}e1.prototype=new a1;
e1.prototype.wN=function(){return!0};e1.prototype.e7=function(){return this.dR!=null&&this.dR.Iq()};
e1.prototype.GN=function(){return this.e7()?new a5(0,0):a1.prototype.GN()};e1.prototype.$c=function(){return this.dR.$c()};
e1.prototype.PX=function(w,I,E,X,o){this.dR.PX(w,I,E,X,o)};e1.prototype.L_=function(w,I,E,X,o){this.dR.L_(w,I,E,X,o)};
e1.prototype.dj=function(w,I,E,X,o){this.dR.dj(w,I,E,X,o)};e1.prototype.mV=function(w,I){if(this.qt=="fade")return e1.ad6(w);
return!0};e1.prototype.uP=function(w){this.dR.B(gD.SX(this.qt));this.v2()};e1.prototype.v2=function(w){this.au({d:"edit",P$:this.dR.Q(),q7:!this.gc.Q()})};
e1.prototype.NB=function(w){this.au({d:"cancel"})};e1.prototype.cf=function(w){if(!this.gc.Q()){this.gc.B(!0);
this.v2()}this.AY=this.dR.Q();if(this.e7())this.v2();this.au({d:"confirm"});this.close()};e1.prototype.f=function(){a1.prototype.f.call(this);
this.gc.f();if(this.dR)this.dR.f();this.lU.f()};e1.prototype.eU=function(w,I){if(this.dR)this.dR.eU(w,I)};
e1.prototype.oH=function(w,I,E,X){if(this.e7())this.dR.oH(X);else a1.prototype.oH.call(this,w,I,E,X)};
e1.prototype.tM=function(w,I,E,X){this.EA=I.EA;var o=w.add.lnk2?w.add.lnk2:[],i,h,k=new dC(0,0,w.q,w.w),x=w.b[w.g[0]],j=null;
i=x.buffer;h=x.rect;if(this.e7())j=w.sQ(w.g[0]-1);var v=gD.SX(this.qt),_=[o,w.K3,w,E];if(I.EA==null){this.dR.B(v,i,h,k,j,_);
if(cz.names[this.qt]){if(X.Y(aW.$i)&&this.AY)this.dR.B(this.AY);var L=q._0.getData(w),U=Q.yB(L[0].T1);
this.dR.NC(U)}}else{var n=!1,x=w.b[this.EA.l];if(x.r3()){var a=x.Em(w);i=a.buffer;h=a.rect;var T=x.add.SoLd.filterFX.v.filterFXList.v;
if(T[this.EA.index]){var g=T[this.EA.index].v;this.dR.B(this.qt=="blendOptions"?g.blendOptions.v:g.Fltr.v,i,h,k,j,_);
this.dR.NC(Q.yB(i));n=!0}}if(!n){this.dR.B(v,i,h,k,j,_);this.dR.NC(Q.yB(i))}}if(!this.e7()){this.v2();
var D=this.dR;if(D&&D.Cv&&D.Cv[0]&&D.Cv[0].Gg)D.Cv[0].Gg()}};e1.prototype.au=function(w){var I=new e9(W.E.s,!0);
w.qt=this.qt;w.EA=this.EA;I.data=w;I.G=gD.names[this.qt]||this.EA?q.Hl:q.dT;I.IY=!0;this.c(I)};e1.prototype.hi=function(w,I){if(!this.dR.Iq()){}else{this.body.style.padding="0";
this.dR.hi(w,I)}};e1.ad6=function(w){if(w==null)return!1;var I=w.fY();if(I==null||!(I.data instanceof Array)||I.data.length!=w.g.length)return!1;
for(var P=0;P<I.data.length;P++){var E=I.data[P];if(E.l<0&&w.K3[-1-E.l])return!0;if(E.l==null||w.b[E.l]==null||w.b[E.l].yA!=E.Tr)return!1;
if(w.g.indexOf(E.l)==-1)return!1}return!0};function cQ(){a1.call(this,[11,0],"camera");this.data=null;
this.Cg=new a5(1,1);this.axF=[];var w=O.S("div","form hbar");this.body.appendChild(w);this.ajC=new b4(null,[]);
this.zc=new b4([21,0],[[21,2],[21,1]]);w.appendChild(this.zc.m);this.SL=new b4(null,[]);this.SL.h(W.E.r,this.aaN,this);
w.appendChild(this.SL.m);this.RD=new es([11,0],!1,null,!0);this.RD.h("click",this.abz,this);w.appendChild(this.RD.m);
this.W4=new gJ("");w.appendChild(this.W4.m);this.stream=null;this._L=O.S("video","");this._L.setAttribute("autoplay","true");
this.body.appendChild(this._L);this.am0=this.a4i.bind(this);this.aqG=this.awj.bind(this);this.aoT=this.a9g.bind(this);
this.h("closebtn",this.a5u,this)}cQ.prototype=new a1;cQ.prototype.f=function(){a1.prototype.f.call(this);
this.zc.f();this.RD.f();this.hi(this.LQ,this.Ns)};cQ.prototype.sQ=function(){var w=this._L.videoWidth,I=this._L.videoHeight,E=O.S("canvas","");
E.width=w;E.height=I;var X=E.getContext("2d");X.drawImage(this._L,0,0,w,I);var o=X.getImageData(0,0,w,I);
return{WG:new dC(0,0,w,I),data:o.data.buffer}};cQ.prototype.abz=function(w){if(this.zc.Q()==0)this.agW();
else this.abG()};cQ.prototype.abG=function(){var w=this.sQ(),I={buffer:new Uint8Array(w.data),rect:w.WG},E=new e9(W.E.s,!0);
E.IY=!0;E.G=q.Qd;E.data={d:K.WF,W7:I};this.c(E);alert(df.get([21,4]))};cQ.prototype.agW=function(){var w=this.sQ(),I=gt.cV("camera",[w]),E=new e9(W.E.Z,!0);
E.data={d:W.t.aR,gt:I};this.c(E);alert(df.get([21,5]))};cQ.prototype.tM=function(w,I,E){navigator.mediaDevices.enumerateDevices().then(this.adD.bind(this))};
cQ.prototype.adD=function(w){var I=this.axF=[],E=[];for(var P=0;P<w.length;P++)if(w[P].kind=="videoinput"){I.push(w[P]);
E.push("Camera "+I.length)}this.SL.Zq(E);this.SL.B(0);this.aaN()};cQ.prototype.aaN=function(w){this.a5u();
var I={video:{deviceId:this.axF[this.SL.Q()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(I).then(this.am0).catch(this.aqG);
else navigator.webkitGetUserMedia(I,this.am0,this.aqG)};cQ.prototype.a4i=function(w){this.stream=w;this._L.srcObject=w;
this._L.addEventListener("loadedmetadata",this.aoT,!1)};cQ.prototype.a9g=function(w){this._L.play();
this.hi(this.LQ,this.Ns)};cQ.prototype.GN=function(w,I){return new a5(0,0)};cQ.prototype.hi=function(w,I){var E=this._L.videoWidth,X=this._L.videoHeight;
this.W4.B(E+" x "+X+" px");this.W4.m.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.Cg.eo(E,X);this.LQ=w;this.Ns=I;var o=w-28,i=I-28-30,h=this.Cg.x/this.Cg.y;if(o/i>h)o=i*h;else i=o/h;
this._L.setAttribute("style","display: block; width: "+Math.round(o)+"px; height:"+Math.round(i)+"px;")};
cQ.prototype.awj=function(w){console.log("error",w);alert(df.get([21,6]));this.close()};cQ.prototype.a5u=function(w){if(this.stream!=null){var I=this.stream.getTracks();
for(var P=0;P<I.length;P++)I[P].stop();this.stream=null}};function jD(){a1.call(this,[7,8],"crange");
this.Ke=null;this.Gn={wb:73,lV:4.45,L:4};this.A0={wb:73,lV:4.45,L:4};this.body.style.width="20em";this.KT=new b4([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.KT.h(W.E.r,this.a15,this);this.body.appendChild(this.KT.m);this.Ca=O.S("div","form");this.body.appendChild(this.Ca);
var w=this.axE=2,I=this.bB=[new fO([12,92],0,200),new f$([12,36],[[18,0],"\uFF0B","-"]),new fO([12,92],0,100,"%"),new ic("Min",0,255),new ic("Max",0,255)];
I[0].B(40);I[w].B(40);for(var P=0;P<I.length;P++){I[P].h(W.E.r,this.xn,this);I[P].parent=this}this.U=O.S("canvas");
this.body.appendChild(this.U);this.lU=O.Ju(this,this.body)}jD.prototype=new a1;jD.prototype.mV=function(w,I){return w!=null};
jD.prototype.$c=function(){return!0};jD.prototype.wN=function(){return!0};jD.prototype.a15=function(w){var I=this.KT.Q(),E=this.bB,X=this.Ca,o=0,i=E.length,h=this.axE;
if(I==0)i=h;else{o=h;E[o+1].B([0,100,190][I-1]);E[o+1].Fx(I!=1);E[o+2].B([60,150,255][I-1]);E[o+2].Fx(I!=3)}O.wO(X);
for(var P=o;P<i;P++){X.appendChild(E[P].m)}this.xn()};jD.prototype.f=function(){a1.prototype.f.call(this);
this.lU.f();this.KT.f();for(var P=0;P<this.bB.length;P++)this.bB[P].f()};jD.prototype.PX=function(w,I,E,X,o){var i=w.u.sP(o.x,o.y);
this.a7Q(i.x,i.y)};jD.prototype.a7Q=function(w,I){var E=Math.min,X=Math.max,o=this.Ke,i=X(0,E(o.q-1,Math.floor(w))),h=X(0,E(o.w-1,Math.floor(I))),k=o.sQ(),x=(h*o.q+i)*4,j=k[x],v=k[x+1],_=k[x+2],L=Q.HX(j,v,_),U=this.bB[1].Q(),n=this.Gn,a=this.A0;
if(U==0){this.Gn=JSON.parse(JSON.stringify(L));this.A0=L}else if(U==1){n.wb=E(n.wb,L.wb);n.lV=E(n.lV,L.lV);
n.L=E(n.L,L.L);a.wb=X(a.wb,L.wb);a.lV=X(a.lV,L.lV);a.L=X(a.L,L.L)}else if(U==2){var T=(n.wb+a.wb)/2,g=(n.lV+a.lV)/2,D=(n.L+a.L)/2;
if(L.wb<T)n.wb=X(n.wb,L.wb+10);else a.wb=E(a.wb,L.wb-10);if(L.lV<g)n.lV=X(n.lV,L.lV+1);else a.lV=E(a.lV,L.lV-1);
if(L.L<D)n.L=X(n.L,L.L+1);else a.L=E(a.L,L.L-1)}this.xn()};jD.prototype.cf=function(w){var I=this.KT.Q(),E=this.bB,X={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(I==0){var o=this.Gn,i=this.A0;X.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:o.wb},A:{t:"doub",v:o.lV},B:{t:"doub",v:o.L}}};
X.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:i.wb},A:{t:"doub",v:i.lV},B:{t:"doub",v:i.L}}};X.Fzns={t:"long",v:E[0].Q()}}else{I--;
var h=["shadows","midtones","highlights"][I];X.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][I]}};if(0<I)X[h+"LowerLimit"]={t:"long",v:E[3].Q()};
if(I<2)X[h+"UpperLimit"]={t:"long",v:E[4].Q()};X[h+"Fuzziness"]={t:"long",v:E[2].Q()}}this.close();var k=new e9(W.E.a3,!0);
k.data={$g:"colorRange",Zc:X};this.c(k)};jD.prototype.tM=function(w,I){this.Ke=w;this.a7Q(0,0);this.a15()};
jD.prototype.xn=function(){var w=this.Ke,I=this.KT.Q(),E=this.Gn,X=this.A0,o=this.bB,i=o[0].Q()/200,h=!1;
if(I>0){E=o[3].Q();X=o[4].Q();if(E>=X)E=X-1;h=!0;i=o[2].Q()/100}var k=q.mc.Zb(w,E,X,i,h),x=k.rect,j=k.channel,v=this.U,_=v.getContext("2d"),L=Math.floor(230*O.V()),U=Math.floor(L*(x.w/x.q));
v.width=L;v.height=U;O.Pd(v,L,U);var n=Q.$(j.length*4);Q.Ez(n,4294967295);for(var P=0;P<3;P++)Q.lJ(j,n,P);
var a=q.R.oI([n,x],new am(L/x.q,0,0,U/x.w,0,0)),T=a.rect,g=new ImageData(new Uint8ClampedArray(a.buffer.buffer),T.q,T.w);
_.putImageData(g,0,0)};function h7(){a1.call(this,[12,76,1],"createshape");this.q1=null;var w=O.S("div","form");
w.setAttribute("style","width:20em");this.body.appendChild(w);this.BZ=new ic([12,41],0,0,null,0,!1,!0);
w.appendChild(this.BZ.m);O.D2(w);this.z3=new ic([12,42],0,0,null,0,!1,!0);w.appendChild(this.z3.m);O.D2(w);
this.Yw=new em([19,5,3]);w.appendChild(this.Yw.m);this.BZ.B(100);this.z3.B(100);this.lU=O.Ju(this,w)}h7.prototype=new a1;
h7.prototype.cf=function(w){this.q1.a58(this.q1.a7u,this.BZ.Q(),this.z3.Q(),this.Yw.Q());this.close()};
h7.prototype.f=function(){if(this.q1)this.Nk=df.get([5,3])+": "+df.get(this.q1.abc);a1.prototype.f.call(this);
this.lU.f();this.BZ.f();this.z3.f();this.Yw.f()};h7.prototype.tM=function(w,I){this.q1=I;this.f();this.BZ.Gg()};
function aw(){a1.call(this,[11,1],"colorpicker");this.$U=null;this.Yk=null;this.XW=null;this.NW=!1;this.ZL=!1;
var w=O.S("div","flexrow"),i,h;this.body.appendChild(w);this.L6=new bp(256,!0);this.L6.h(W.E.r,this.ky,this);
w.appendChild(this.L6.m);var I=O.S("div","form");I.setAttribute("style","width:14.5em; margin-left:1em;");
w.appendChild(I);this.akr=O.S("div","full");I.appendChild(this.akr);this.aaL=O.S("div","full");I.appendChild(this.aaL);
var E=O.S("div","flexrow");I.appendChild(E);var X=O.S("div"),o=O.S("div");E.appendChild(X);E.appendChild(o);
i=["R","G","B"];h=X;this.wi=[];for(var P=0;P<3;P++){var k=new ic(i[P],0,255,null,0,!1,!0);this.wi.push(k);
k.h(W.E.r,this.af0,this);h.appendChild(k.m)}i=["H","S","B"];h=o;this.Jm=[];for(var P=0;P<3;P++){var x=0,j=360,v="\xB0";
if(P!=0){j=100;v="%"}var k=new ic(i[P],x,j,v,0,!1,!0);this.Jm.push(k);k.h(W.E.r,this.aaK,this);h.appendChild(k.m)}this.z3=new aR("Hex",null,6);
this.z3.h(W.E.r,this.h$,this);I.appendChild(this.z3.m);this.gi=O.S("input","fitem");this.gi.setAttribute("type","color");
this.gi.setAttribute("style","width:50px");this.gi.addEventListener("change",this.h$.bind(this),!1);
I.appendChild(this.gi);this.sG=new j4(9);this.sG.h(W.E.r,this.h$,this);I.appendChild(this.sG.m);this.lU=O.Ju(this,I);
this.h("closebtn",this.NB,this);this.d8=!1}aw.prototype=new a1;aw.prototype.$c=function(){return!0};
aw.prototype.GN=function(w,I){return new a5(Math.max(0,Math.min(150,(w-484)/2)),Math.max(0,Math.min(150,(I-316)/2)))};
aw.prototype.hi=function(w,I){this.L6.hi(Math.min(256,w-226),I)};aw.prototype.f=function(w,I){a1.prototype.f.call(this);
for(var P=0;P<3;P++){this.wi[P].f();this.Jm[P].f()}this.lU.f()};aw.prototype.ky=function(w){this.Yk=this.L6.Q();
this.update()};aw.prototype.PX=function(w,I,E,X,o){this.d8=!0;this.a5X(w,o)};aw.prototype.L_=function(w,I,E,X,o){if(!this.d8)return;
this.a5X(w,o)};aw.prototype.dj=function(w,I,E,X,o){this.d8=!1};aw.prototype.a5X=function(w,I){var E=q.Nz.rR(w,I,1),X=E&255,o=E>>8&255,i=E>>16&255;
this.Yk={o:i/255,P:o/255,L:X/255};this.update()};aw.prototype.af0=function(w){var I=this.wi,E=this.Uz(parseInt(I[0].Q())),X=this.Uz(parseInt(I[1].Q())),o=this.Uz(parseInt(I[2].Q()));
this.Yk={o:E/255,P:X/255,L:o/255};this.update()};aw.prototype.aaK=function(w){var I=this.Jm,E=this.fs(parseInt(I[0].Q())/360),X=this.fs(parseInt(I[1].Q())/100),o=this.fs(parseInt(I[2].Q())/100);
this.Yk=Q.Ww(E,X,o);this.update()};aw.prototype.h$=function(w){var I;if(w.currentTarget==this.sG)I=this.sG.Q();
else{I=w.currentTarget==this.z3?this.z3.Q():this.gi.value;if(I.charAt(0)=="#")I=I.slice(1);if(I.length==3)I=I[0]+I[0]+I[1]+I[1]+I[2]+I[2];
I=Q.rr(I)}this.Yk={o:(I>>16&255)/255,P:(I>>8&255)/255,L:(I&255)/255};this.update()};aw.prototype.$q=function(w){var I=w.o,E=w.P,X=w.L;
return Math.round(I*255)<<16|Math.round(E*255)<<8|Math.round(X*255)};aw.prototype.cf=function(w){this.a9L();
var I=this.$q(this.Yk);this.XW(I);this.close();this.ZL=!1;this.Yk=null};aw.prototype.NB=function(w){this.a9L();
if(this.NW)this.XW(this.$q(this.$U));this.ZL=!1;this.Yk=null};aw.prototype.a9L=function(w){var I=new e9(W.E.Z,!0);
I.data={d:W.t.aeQ};this.c(I)};aw.prototype.eU=function(w,I){var E=aJ.Rt(w,I);if(E!=null)this.sG.B(E);
if(I!=ik.xa)return;if(this.Yk!=null){this.Yk={o:(E>>16&255)/255,P:(E>>8&255)/255,L:(E>>0&255)/255};this.update()}};
aw.prototype.tM=function(w,I){var E=I.vA,X={o:(E>>16&255)/255,P:(E>>8&255)/255,L:(E>>0&255)/255};if(this.Yk==null){var o=new e9(W.E.Z,!0);
o.data={d:W.t.JN,sL:"crosshair",push:!0};this.c(o);this.d8=!1;this.XW=I.EH;this.NW=!1;this.ZL=I.MC;this.$U=JSON.parse(JSON.stringify(X));
this.aaL.setAttribute("style","height:3em;background-color:#"+Q.mv(E)+";")}this.Yk=X;this.update()};
aw.prototype.update=function(){var w=this.Yk,I=this.$q(w),E=this.wi;E[0].B(Math.round(w.o*255));E[1].B(Math.round(w.P*255));
E[2].B(Math.round(w.L*255));this.z3.B(Q.mv(I));this.gi.value="#"+Q.mv(I);this.akr.setAttribute("style","height:3em;background-color:#"+Q.mv(I)+";");
var X=Q.h_(w.o,w.P,w.L);E=this.Jm;E[0].B(Math.round(X.Ns*360));E[1].B(Math.round(X.Ls*100));E[2].B(Math.round(X.P$*100));
this.L6.B(w);if(this.ZL){this.XW(this.$q(this.Yk));this.NW=!0}};aw.prototype.Uz=function(w){return Math.max(0,Math.min(255,w))};
aw.prototype.fs=function(w){return Math.max(0,Math.min(1,w))};function cF(){a1.call(this,[11,2],"contoureditor");
this.a9Y=null;this.sW=null;this.response=null;this.NG=O.S("div","cell");this.body.appendChild(this.NG);
this.QR=O.S("div","cell padded");this.body.appendChild(this.QR);var w=O.S("div","bordered padded vmargin");
this.NG.appendChild(w);this.dR=new gQ(null,null,!0);this.dR.h(W.E.r,this.mX,this);w.appendChild(this.dR.m);
this.lU=O.Ju(this,this.QR);this.h("closebtn",this.x4,this)}cF.prototype=new a1;cF.prototype.cf=function(){this.close()};
cF.prototype.f=function(){a1.prototype.f.call(this);this.lU.f();this.dR.f()};cF.prototype.mX=function(w){this.sW.Crv.v=this.dR.Q();
this.response(this.sW)};cF.prototype.x4=function(w){this.response(this.a9Y)};cF.prototype.tM=function(w,I){this.a9Y=JSON.parse(JSON.stringify(I.mz));
this.sW=I.mz;this.response=I.response;this.dR.B(this.sW.Crv.v)};function eo(){a1.call(this,[11,3],"csize");
this.lc=0;this.ae=O.S("div","form");this.ae.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.ae);
this.CD=new hc(!0,!0,!0,!0,!0);this.CD.aia(!1);this.ae.appendChild(this.CD.m);this.lp=new f$("Align with",[[8,7],[12,6]]);
this.lp.h(W.E.r,this.apO,this);this.L2=new g0([12,23,2],41);this.ae.appendChild(this.L2.m);this.L2.B(4);
this.x0=new fG(!1);this.x0.ahU(new a5(0,0));this.lU=O.Ju(this,this.body)}eo.prototype=new a1;eo.prototype.mV=function(w,I){return w!=null};
eo.prototype.wN=function(){return!0};eo.prototype.Uo=function(w){return[aW.U6,aW.w6,aW.mg,aW.$I].indexOf(w)!=-1};
eo.prototype.oH=function(w,I,E,X){if(X.Y(aW.yd))this.cf();this.L2.akk(X.Ys())};eo.prototype.apO=function(){var w=[this.L2.m,this.x0.m];
this.ae.removeChild(w[this.lc]);this.lc=this.lp.Q();this.ae.appendChild(w[this.lc])};eo.prototype.f=function(){a1.prototype.f.call(this);
this.CD.f();this.lp.f();this.L2.f();this.x0.f();this.lU.f()};eo.prototype.cf=function(w){var I=this.CD.Q(),E=I.x,X=I.y,o=new e9(W.E.a3,!0);
o.data=q.EV.an7(E,X,this.L2.Q());this.close();this.c(o)};eo.prototype.tM=function(w,I){this.CD.B(new a5(w.q,w.w),w.nN);
this.CD.Gg()};function iG(){a1.call(this,[11,4],"duplinto");this.zW=null;this.jF=null;this.HU=null;var w=O.S("div","form");
w.setAttribute("style","max-width:26em");this.body.appendChild(w);this.MV=new b4([12,43],["abc","def"]);
this.MV.h(W.E.r,this.ZX,this);w.appendChild(this.MV.m);O.D2(w);this.lK=new b4([1,16,0],["abc","def"]);
this.lK.h(W.E.r,this.ZX,this);w.appendChild(this.lK.m);O.D2(w);this.k2=new aR([12,48],null,14);w.appendChild(this.k2.m);
this.lU=O.Ju(this,w)}iG.prototype=new a1;iG.prototype.wN=function(){return!0};iG.prototype.f=function(){a1.prototype.f.call(this);
this.lU.f();this.MV.f();this.k2.f()};iG.prototype.ZX=function(w){if(w&&w.target==this.lK)return;var I=this.MV.Q(),E=this.jF[I],X=this.zW,o=E!=null&&E.add.artd!=null;
for(var P=0;P<X.g.length;P++)if(X.b[X.g[P]].add.artb)o=!1;this.k2.Fx(I==this.jF.length);this.lK.Fx(o);
if(o){var i=E.root.children,h=[],k=this.HU=[];for(var P=0;P<i.length;P++){var x=i[P].l;if(x.add.artb)h.push(x.getName());
k.push(i[P].index)}this.lK.Zq(h);this.lK.B(0)}else this.HU=null};iG.prototype.tM=function(w,I,E){this.zW=w;
this.jF=E;this.k2.B(w.g.length==0?"Layer":w.b[w.g[0]].getName());var X=[];for(var P=0;P<E.length;P++){var o=E[P].name;
X.push(o.length<30?o:o.slice(0,27)+"...")}X.push([11,7]);this.MV.Zq(X);this.MV.B(E.indexOf(w));this.ZX(null)};
iG.prototype.cf=function(w){var I=this.MV.Q();if(I==this.jF.length){var E=new hg(this.k2.Q()+".psd"),X=this.zW.q,o=this.zW.w,i=this.zW.Ze();
if(i!=-1){var h=this.zW.b[i].Z9();X=h.q;o=h.w}E.q=X;E.w=o;E.buffer=Q.$(E.q*E.w*4);var k=E.XY();k.G_("Background");
E.DO([k]);var x=new e9(W.E.Z,!0);x.IY=!0;x.data={d:W.t.aR,gt:E};this.c(x)}var j=this.zW.I3(null,this.zW!=this.jF[I]),x=new e9(W.E.s,!0);
x.data={d:K.sc,b:j,Mn:this.zW,Pf:this.jF[I]};if(this.HU)x.data.qH=this.HU[this.lK.Q()];x.G=q.Qd;x.IY=!0;
this.c(x);this.close()};function fM(){a1.call(this,[1,9],"eassets");this.m6=null;this.yX=null;var w=O.S("div","form");
w.setAttribute("style","width:32em");this.body.appendChild(w);this.cG=O.S("span");w.appendChild(this.cG);
O.D2(w);this.m3=[new em("Only layers / folders, whose name starts with \"-e-\""),new em("Remove parts outside the canvas"),new em("Trim transparent parts")];
for(var P=0;P<3;P++){var I=this.m3[P];I.B(!0);I.h(W.E.r,this.Fm,this);w.appendChild(I.m);O.D2(w)}this.$a=new fY([12,14,0],["1x","2x","3x","4x"]);
this.$a.B([!0,!1,!1,!1]);w.appendChild(this.$a.m);O.wU(w);this.kf=["PNG","JPG","SVG","TIFF","TGA"];this.Sf=new b4([12,50],this.kf);
this.Sf.h(W.E.r,this.a06,this);w.appendChild(this.Sf.m);this.k8=new fJ;w.appendChild(this.k8.m);this.lU=new es([1,9],!0,null,!0);
this.lU.h("click",this.cf,this);w.appendChild(this.lU.m);this.h("closebtn",this.cq,this)}fM.prototype=new a1;
fM.prototype.a06=function(w){this.k8.a7I(this.kf[this.Sf.Q()],!1,!1,!1,this.yX.bx()!=null)};fM.prototype.cq=function(w){this.yX=null};
fM.prototype.f=function(){a1.prototype.f.call(this);this.Sf.f();this.$a.f();this.lU.f();this.k8.f()};
fM.prototype.tM=function(w,I,E){this.yX=w;this.Fm()};fM.prototype.Fm=function(w){var I=this.a5W(),E="- - - "+I.length+" exportable layers";
this.cG.textContent=E;this.a06(null)};fM.prototype.a5W=function(){var w=this.m3[0].Q(),I=[],E=this.yX;
for(var P=0;P<E.b.length;P++){var X=E.b[P],o=X.getName();if(!w&&!X.vD()&&!X.rect.qo()||o.startsWith("-e"))I.push(P)}return I};
fM.prototype.eU=function(w,I){this.m6=w};fM.prototype.cf=function(w){var I=this.yX,E=[this.kf[this.Sf.Q()]],X=[this.k8.Q()],o=this.$a.Q(),i={},h={},k=this.a5W();
if(k.length==0){alert("No layers to export.");return}var x=[this.m3[1].Q(),this.m3[2].Q()];for(var P=0;
P<k.length;P++){var j=k[P],v=I.b[j],_=v.getName();if(h[_]!=null){h[_]++;_+=" "+h[_]}else h[_]=1;var L=v.TH();
v.Wz(!0);for(var U=0;U<o.length;U++){if(!o[U])continue;var a=U+1,T=q.Q8.a0O(I,E,a,this.m6,j,X,x);for(var g=0;
g<E.length;g++){var D=E[g],b=_.slice(_.startsWith("-e-")?3:0)+(a==1?"":"@"+a+"x")+"."+D.toLowerCase();
if(T[g])i[b]=new Uint8Array(T[g])}}v.Wz(L)}var N=UZIP.encode(i),C=new e9(W.E.Z,!0);C.data={d:W.t.Ty,data:N,name:"assets.zip"};
this.c(C)};function bU(){a1.call(this,"Export Color Lookup Tables","exlut");this.m6=null;this.yX=null;
var w=O.S("div","form");w.setAttribute("style","width:20em");this.body.appendChild(w);this.m3=[new ic("Grid Points",1,256),new f$([12,50],[".CUBE"])];
var I=[16,0];for(var P=0;P<this.m3.length;P++){var E=this.m3[P];E.B(I[P]);E.parent=this;E.h(W.E.r,this.Fm,this);
w.appendChild(E.m);O.D2(w)}this.lU=O.Ju(this,w);this.h("closebtn",this.cq,this)}bU.prototype=new a1;
bU.prototype.mV=function(w,I){if(Math.min(w.q,w.w)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(w.b.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};bU.prototype.cq=function(w){this.yX=null};bU.prototype.eU=function(w,I){this.m6=w};
bU.prototype.tM=function(w,I,E){this.yX=w};bU.prototype.cf=function(){var w=this.yX,I=this.m3[0].Q(),E=[],X=new dC(0,0,w.q,w.w),o=Q.$(I*I*4),i=o.slice(0),h=new dC(w.q-I>>>1,w.w-I>>>1,I,I),k=w.b[0],x=k.buffer,j=k.rect;
k.rect=h;k.buffer=o;for(var v=0;v<I;v++){this.aga(I,v,o);k.M(h);w.M(h);var _=w.sQ();Q.D6(_,X,i,h);for(var L=0;
L<I;L++)for(var U=0;U<I;U++){var n=L*I+U<<2;E.push(i[n]/255,i[n+1]/255,i[n+2]/255)}}var a=a8.ae_(E,I,w.name);
jb.save(a,w.name.split(".")[0]+".CUBE");k.buffer=x;k.rect=j;k.M();w.M()};bU.prototype.aga=function(w,I,E){var X=255/(w-1),o=Math.round(I*X);
for(var i=0;i<w;i++)for(var h=0;h<w;h++){var k=i*w+h<<2;E[k]=Math.round(h*X);E[k+1]=Math.round(i*X);
E[k+2]=o;E[k+3]=255}};bU.prototype.f=function(){a1.prototype.f.call(this);for(var P=0;P<this.m3.length;
P++)this.m3[P].f();this.lU.f()};function hK(){a1.call(this,[1,14],"finfo");this.nw=null;this.R3=null;
this.uU=null;this.ae=O.S("div","form scrollable label12");this.ae.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.ae);var w=O.S("div","form");this.body.appendChild(w);this.Vo=new b4(null,["Hello"]);
w.appendChild(this.Vo.m);this.a7Z=new es("Add Parameter",!1,null,!0);w.appendChild(this.a7Z.m);this.a7Z.h("click",this.L0,this);
this.NT=new es("=== S A V E ===",!1,null,!0);w.appendChild(this.NT.m);this.NT.h("click",this.I2,this);
this.anY=""}hK.prototype=new a1;hK.prototype.GN=function(w,I){return w<450||I<450?new a5(0,0):new a5(150,100)};
hK.prototype.L0=function(w){if(this.uU.length==0)return;var I=this.uU[this.Vo.Q()],E=this.En();E[I]=fT.Jw[I][0];
this.$M(E);this.R3[I].m.scrollIntoView();this.R3[I].Gg()};hK.prototype.uK=function(w){var I=this.En();
delete I[w.currentTarget.alv];this.$M(I)};hK.prototype.I2=function(w){var I=this.En(),E=this.nw,X=!0;
for(var o in E)if(JSON.stringify(E[o])!=JSON.stringify(I[o]))X=!1;for(var o in I)if(JSON.stringify(E[o])!=JSON.stringify(I[o]))X=!1;
if(X)return;var i=new e9(W.E.s,!0);i.G=q.Qd;i.data={d:K.Qk,pf:I};this.c(i);this.nw=I;this.$M(I)};hK.a27=function(w){function I(o){var i=o.toLowerCase();
return o==i}var E=w.split(":").pop();for(var X=1;X<E.length-1;X++){if(E[X]==E[X].toUpperCase()&&(I(E[X+1])||I(E[X-1]))){E=E.slice(0,X)+" "+E.slice(X);
X++}}return E};hK.prototype.tM=function(w,I){this.nw=w.cl;this.$M(w.cl)};hK.prototype.$M=function(w){var I=this.ae,o=0;
O.wO(I);var E=this.R3={},X=["tiff","exif","exif:GPS"],i=this.uU=[],h=[];for(var k in fT.Jw){var x=hK.a27(k),j=0,v=15,_=null;
if(w[k]==null){if(fT.Jw[k].length!=1||k=="photoshop:Credit"||k=="photoshop:Source"){i.push(k);h.push(x)}continue}for(var P=0;
P<X.length;P++)if(k.startsWith(X[P]))j=P;if(j!=o){O.wU(I);o=j}if(k=="tiff:ImageDescription"||k=="dc:Keywords"){v=18.5;
_=3}var L=new aR(x,null,v,_);E[k]=L;var U=w[k];if(U instanceof Array)U=U[1]==0?"---":U[0]+"/"+U[1];var n=new es("\u2716",null,df.get([5,4]));
I.appendChild(n.m);n.h("click",this.uK,this);n.alv=k;L.B(U);I.appendChild(L.m);O.D2(I);if(k=="exif:GPSLongitude"&&w["exif:GPSLatitude"]){this.anY=hK.a3F(w["exif:GPSLatitude"])+","+hK.a3F(w["exif:GPSLongitude"]);
var a=new es("Show on map",!1,null,!0);I.appendChild(a.m);O.D2(I);a.h("click",this.adP,this)}}this.Vo.Zq(h);
this.Vo.B(0)};hK.prototype.En=function(){var w=this.R3,I=fT.Jw,E={};for(var X in I){var o=I[X][0],i=typeof o;
if(o==null||w[X]==null)continue;var h=w[X].Q(),k="The value of \""+hK.a27(X)+"\" must ";if(i=="number"){h=parseFloat(h);
if(isNaN(h)){alert(k+"be a number.");h=o}}else if(o instanceof Array&&o.length==2){if(h.indexOf("/")==-1){alert(k+"be a fraction.");
h=o.slice(0)}else{h=h.split("/").map(parseFloat);if(isNaN(h[0])||isNaN(h[1])){h=o.slice(0)}}}E[X]=h}return E};
hK.a3F=function(w){var I=w.length,E=w.slice(0,I-1).split(",").map(parseFloat),X=w.slice(I-1),o=E[0]+E[1]/60+E[2]/3600;
if(X!="N"&&X!="E")o=-o;return o};hK.prototype.adP=function(w){window.open("https://maps.google.com?q="+this.anY,"Map")};
function iO(){a1.call(this,[11,5],"gradienteditor");this.$U=null;this.Yk=null;this.hZ=null;this.XW=null;
this.NW=!1;this.ZL=!1;this.AH=null;this.vh=null;this.XF=-1;this.T0=-1;this.QF=0;this.H2=this.Ka.bind(this);
this.qO=this.Ki.bind(this);this.U=O.S("canvas");this.vu=this.U.getContext("2d");this.U.setAttribute("style","display:block");
this.Vx=null;O.aa(this.U);O.KO(this.U,this.Tu.bind(this));this.Wx=O.S("div","form");this.ai=O.S("div");
this.vF=O.S("div","form");this.ia=O.S("div");this.Wk=new b4([12,44],[[15,10,0],[24,6]]);this.Wk.h(W.E.r,this.h2,this);
this.body.appendChild(this.Wk.m);O.wU(this.body);var w=this.Wx;this.g_=new ic([19,3,3],0,100,"%");this.g_.h(W.E.r,this.h2,this);
this.g_.parent=this;w.appendChild(this.g_.m);O.D2(w);this.O3=new gJ([12,0]);w.appendChild(this.O3.m);
this.FH=O.S("div","bordered padded noalign");w.appendChild(this.FH);this.j9=new ic([12,0],0,100,"%");
this.j9.parent=this;this.j9.h(W.E.r,this.h2,this);this.FH.appendChild(this.j9.m);this.oi=new ic([12,40],0,100,"%");
this.oi.parent=this;this.oi.h(W.E.r,this.h2,this);this.FH.appendChild(this.oi.m);this.wc=new es([5,4],!1,null,!0);
this.wc.h("click",this.anf,this);this.FH.appendChild(this.wc.m);w.appendChild(this.ai);this.aah=new gJ([13,0]);
w.appendChild(this.aah.m);this.Hz=O.S("div","bordered padded noalign");w.appendChild(this.Hz);this.Dv=new b4([12,44],[[12,45],[12,46],[12,47]]);
this.Dv.h(W.E.r,this.h2,this);this.Hz.appendChild(this.Dv.m);this.qC=new fs(!0);this.qC.parent=this;
this.qC.h(W.E.r,this.h2,this);this.Hz.appendChild(this.qC.m);this.Du=new ic([12,40],0,100,"%");this.Du.parent=this;
this.Du.h(W.E.r,this.h2,this);this.Hz.appendChild(this.Du.m);this.Ro=new es([5,4],!1,null,!0);this.Ro.h("click",this.amN,this);
this.Hz.appendChild(this.Ro.m);var w=this.vF;this.ZO=new ic("Roughness",0,100,"%");this.ZO.h(W.E.r,this.h2,this);
this.ZO.parent=this;w.appendChild(this.ZO.m);w.appendChild(this.ia);this.H_=new es([25,1,2],!1,null,!0);
this.H_.h("click",this.h2,this);w.appendChild(this.H_.m);this.lU=O.Ju(this);this.h("closebtn",this.NB,this)}iO.prototype=new a1;
iO.prototype.NB=function(w){if(this.NW)this.XW(this.$U)};iO.prototype.f=function(){a1.prototype.f.call(this);
this.lU.f();this.g_.f();this.O3.f();this.aah.f();this.wc.f();this.Ro.f();this.j9.f();this.oi.f();this.Dv.f();
this.Du.f();this.H_.f()};iO.prototype.eU=function(w,I){this.hZ=w};iO.prototype.tM=function(w,I){this.Yk=JSON.parse(JSON.stringify(I.N));
this.$U=JSON.parse(JSON.stringify(I.N));this.AH=this.vh=null;this.XW=I.EH;this.NW=!1;this.ZL=I.MC;this.qF();
this.oL()};iO.prototype.cf=function(w){var I=this.Yk;this.XW(I);this.close()};iO.prototype.Uo=function(w){return w==aW.Ur||w==aW.jY};
iO.prototype.oH=function(w,I,E,X){if(X.Y(aW.Ur)||X.Y(aW.jY)){if(this.vh)this.anf();if(this.AH)this.amN()}};
iO.prototype.anf=function(w){var I=this.Yk.Trns.v;if(this.vh==null||I.length==1)return;I.splice(I.indexOf(this.vh),1);
this.vh=null;this.qF();this.oL()};iO.prototype.amN=function(w){var I=this.Yk.Clrs.v;if(this.AH==null||I.length==1)return;
I.splice(I.indexOf(this.AH),1);this.AH=null;this.qF();this.oL()};iO.prototype.qF=function(){var w=this.U,I=this.vu,E=O.V();
w.width=Math.floor(410*E);w.height=Math.floor(70*E);O.Pd(w,w.width,w.height);w.style.marginTop="8px";
this.Vx=new dC(0,0,Math.floor(380*E),Math.floor(32*E));this.Vx.x=Math.floor((w.width-this.Vx.q)/2);this.Vx.y=Math.floor((w.height-this.Vx.w)/2);
var X=this.Vx,o=X.q,i=X.w,h=X.x,k=X.y,x=new dC(0,0,o,i),j=I.getImageData(0,0,o,i),v=new Uint8Array(j.data.buffer);
Q.VI(v,o,i,8);var _=Q.$(o*i*4);Q.N.gV(this.Yk,_,x,[1/o,0,0,1/i],o/2,i/2,!1,0,this.hZ.Ht,this.hZ.Mw);
Q.e.gF("norm",_,X,v,X,X,1);I.clearRect(0,0,w.width,w.height);I.putImageData(j,h,k);var L=this.Yk;if(L.Clrs){var U=L.Trns.v,n=L.Clrs.v,a=Q.N.Ap(n,this.hZ.Ht,this.hZ.Mw),T=Math.round(6*O.V()),g=Math.round(14*O.V()),D=this.vh?this.vh.v:null,b=this.AH?this.AH.v:null;
for(var P=0;P<U.length;P++){var N=U[P].v,C=Math.round(255-255*N.Opct.v.val/100);if((N==D||U[P-1]&&U[P-1].v==D||P==this.T0)&&P!=0){I.fillStyle="#000000";
I.fillRect(h-3+o*(U[P-1].v.Lctn.v+(N.Lctn.v-U[P-1].v.Lctn.v)*N.Mdpn.v/100)/4096,k-6-2,6,6)}if(N==D){I.fillStyle="#ffffff";
I.fillRect(h-T+o*(N.Lctn.v/4096)-2,k-2-g-2,2*T+4,g+4)}I.fillStyle="rgb("+C+","+C+","+C+")";I.fillRect(h-T+o*(N.Lctn.v/4096),k-2-g,2*T,g)}for(var P=0;
P<n.length;P++){var Z=n[P].v,S=a[P];if((Z==b||n[P-1]&&n[P-1].v==b||P==this.XF)&&P!=0){I.fillStyle="#000000";
I.fillRect(h-3+o*(n[P-1].v.Lctn.v+(Z.Lctn.v-n[P-1].v.Lctn.v)*Z.Mdpn.v/100)/4096,k+i+2,6,6)}if(Z==b){I.fillStyle="#ffffff";
I.fillRect(h-T+o*(Z.Lctn.v/4096)-2,k+i+2-2,2*T+4,g+4)}I.fillStyle="rgb("+Math.round(S.o)+", "+Math.round(S.P)+","+Math.round(S.L)+")";
I.fillRect(h-T+o*(Z.Lctn.v/4096),k+i+2,2*T,g)}}if(this.ZL){this.XW(this.Yk);this.NW=!0}};iO.prototype.oL=function(){var w=this.Yk,I=w.Clrs?0:1;
this.Wk.B(I);if(O.NJ(this.Wx))this.body.removeChild(this.Wx);if(O.NJ(this.vF))this.body.removeChild(this.vF);
(I==0?this.ai:this.ia).appendChild(this.U);if(I==0){this.body.appendChild(this.Wx);this.g_.B(Math.round(100*w.Intr.v/4096));
var E=w.Trns.v,X=w.Clrs.v,o=this.vh!=null,i=this.T0!=-1;this.j9.Fx(o);this.oi.Fx(o||i);this.wc.Fx(o);
if(o){this.FH.setAttribute("style","");var h=this.vh.v;this.oi.B(Math.round(100*h.Lctn.v/4096));this.j9.B(h.Opct.v.val)}if(i)this.oi.B(E[this.T0].v.Mdpn.v);
var o=this.AH!=null,i=this.XF!=-1;this.Dv.Fx(o);this.qC.Fx(o);this.Du.Fx(o||i);this.Ro.Fx(o);if(o){this.Hz.setAttribute("style","");
var k=this.AH.v;this.Du.B(Math.round(100*k.Lctn.v/4096));var x=k.Type.v.Clry;this.Dv.B(["FrgC","BckC","UsrS"].indexOf(x));
if(x=="FrgC")this.qC.xz(this.hZ.Ht);if(x=="BckC")this.qC.xz(this.hZ.Mw);if(x=="UsrS")this.qC.B(k.Clr.v)}if(i)this.Du.B(X[this.XF].v.Mdpn.v)}else{this.body.appendChild(this.vF);
this.ZO.B(Math.round(100*w.Smth.v/4096))}this.body.appendChild(this.lU.m)};iO.prototype.h2=function(w){var I=this.Yk,E=I.Clrs?0:1;
if(w.target==this.Wk){var X=E==0?JSON.parse(hL.My.aie).v:gD.SX("grdm").Grad.v;this.Yk=X;this.oL();this.qF();
return}if(E==0){I.Intr.v=Math.round(4096*this.g_.Q()/100);var o=I.Trns.v,i=I.Clrs.v;if(this.vh!=null){var h=this.vh.v;
h.Lctn.v=Math.round(4096*(this.oi.Q()/100));h.Opct.v.val=this.j9.Q()}if(this.AH!=null){var k=this.AH.v;
k.Lctn.v=Math.round(4096*(this.Du.Q()/100));if(w.target==this.qC)this.Dv.B(2);var x=this.Dv.Q();k.Type.v.Clry=["FrgC","BckC","UsrS"][x];
if(x==2)k.Clr={t:"Objc",v:this.qC.Q()};else if(k.Clr)delete k.Clr}if(this.T0!=-1)o[this.T0].v.Mdpn.v=this.oi.Q();
if(this.XF!=-1)i[this.XF].v.Mdpn.v=this.Du.Q()}else{I.Smth.v=Math.round(4096*this.ZO.Q()/100);if(w.target==this.H_)I.RndS.v=Math.floor(Math.random()*4294967295)}this.qF()};
iO.prototype.Tu=function(w){var I=O.cz(w,this.U),E=this.Vx,X=(I.x*O.V()-E.x)/E.q,o=(I.y*O.V()-E.y)/E.w,i=this.Yk.Trns.v,h=this.Yk.Clrs.v,k=null,x=null,j=-1,v=-1;
if(o<1)for(var P=0;P<i.length;P++){var _=i[P].v;if(Math.abs(_.Lctn.v/4096-X)<.02)k=i[P];if(P>0)if(Math.abs((i[P-1].v.Lctn.v+(_.Lctn.v-i[P-1].v.Lctn.v)*_.Mdpn.v/100)/4096-X)<.01)j=P}if(o>0)for(var P=0;
P<h.length;P++){var L=h[P].v;if(Math.abs(L.Lctn.v/4096-X)<.02)x=h[P];if(P>0)if(Math.abs((h[P-1].v.Lctn.v+(L.Lctn.v-h[P-1].v.Lctn.v)*L.Mdpn.v/100)/4096-X)<.01)v=P}if(x==null&&k==null&&j==-1&&v==-1){if(o<0){var _={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
_.v.Lctn.v=Math.round(X*4096);i.push(_);i.sort(this.cP);k=_}if(o>1){var h=this.Yk.Clrs.v,U=Q.N.Ap(h,this.hZ.Ht,this.hZ.Mw),n=Q.N.VH(this.Yk,U,X),L={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:Q.N.Ex({o:n&255,P:n>>8&255,L:n>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
L.v.Lctn.v=Math.round(X*4096);h.push(L);h.sort(this.cP);x=L}}if(x!=null)v=-1;if(k!=null)j=-1;if(x!=null||k!=null||j>-1||v>-1){this.vh=k;
this.AH=x;this.T0=j;this.XF=v;this.oL();this.qF();O.rv(window,this.H2);O.M$(window,this.qO)}};iO.prototype.Ka=function(w){var I=O.cz(w,this.U),E=this.Vx,X=(I.x*O.V()-E.x)/E.q,o=(I.y*O.V()-E.y)/E.w;
X=Math.max(0,Math.min(1,X));var i=this.Yk.Trns.v,h=this.Yk.Clrs.v;if(this.vh!=null){var k=this.vh.v;
k.Lctn.v=Math.round(4096*X);var x=i.indexOf(this.vh);if(x!=-1&&o<-1&&i.length>1)i.splice(x,1);if(x==-1&&o>-1)i.push(this.vh);
i.sort(this.cP)}if(this.AH!=null){var j=this.AH.v;j.Lctn.v=Math.round(4096*X);var v=h.indexOf(this.AH);
if(v!=-1&&o>2&&h.length>1)h.splice(v,1);if(v==-1&&o<2)h.push(this.AH);h.sort(this.cP)}if(this.T0>-1){var k=i[this.T0].v;
k.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(X*4096-i[this.T0-1].v.Lctn.v)/(k.Lctn.v-i[this.T0-1].v.Lctn.v))))}if(this.XF>-1){var j=h[this.XF].v;
j.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(X*4096-h[this.XF-1].v.Lctn.v)/(j.Lctn.v-h[this.XF-1].v.Lctn.v))))}if(this.vh!=null||this.AH!=null||this.T0>-1||this.XF>-1){this.oL();
this.qF()}};iO.prototype.Ki=function(w){O.Gk(window,this.H2);O.$x(window,this.qO);if(Date.now()-this.QF<300){if(this.XF!=-1||this.T0!=-1){var I=(this.XF!=-1?this.Yk.Clrs.v[this.XF]:this.Yk.Trns.v[this.T0]).v;
I.Mdpn.v=50;this.oL();this.qF()}else if(this.AH!=null)this.qC.M6()}this.QF=Date.now()};iO.prototype.cP=function(w,I){return w.v.Lctn.v-I.v.Lctn.v};
function cZ(){a1.call(this,[11,10],"isize");this.ae=O.S("div","form");this.ae.setAttribute("style","width:20em");
this.body.appendChild(this.ae);this.CD=new hc(!0,!0,null,null,!0);this.ae.appendChild(this.CD.m);this.BX=new em([12,25,3]);
this.BX.B(!0);this.ae.appendChild(this.BX.m);this.BX.h(W.E.r,this.acN,this);this.Ba=new b4([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.Ba.B(1);this.ae.appendChild(this.Ba.m);this.lU=O.Ju(this,this.body)}cZ.prototype=new a1;cZ.prototype.mV=function(w,I){return w!=null};
cZ.prototype.wN=function(){return!0};cZ.prototype.acN=function(w){var I=this.BX.Q(),E=this.CD,X=this.Ba;
if(I)X.GR();else X.RX();E.aiV(I)};cZ.prototype.f=function(){a1.prototype.f.call(this);this.BX.f();this.lU.f();
this.Ba.f();this.CD.f()};cZ.prototype.cf=function(w){this.close();var I=this.CD.Q(),E=I.x,X=I.y,o=this.Ba.Q();
if(!this.BX.Q())o=null;var i=new e9(W.E.a3,!0);i.data=q.EV.ade(E,X,this.CD.Xj(),o);this.c(i)};cZ.prototype.tM=function(w,I){this.CD.B(new a5(w.q,w.w),w.nN);
this.CD.Gg()};function i$(){a1.call(this,"Import RAW","importraw");var w=O.S("div","flexrow"),I=O.S("div");
I.setAttribute("style","margin-bottom: 1em");this.body.appendChild(w);this.body.appendChild(I);var E=O.S("div","form");
E.setAttribute("style","width:18em");w.appendChild(E);var X=O.S("div","form");X.setAttribute("style","width:15em");
w.appendChild(X);this.q1=null;this.AU=null;this.ds=null;this.ye=null;this.a9b=[];var o=[];for(var P=0;
P<i$.vI.length;P++)o.push(i$.vI[P]+" Bits");var i=this.cd=[new hc(!0,null,null,!0),new ic([12,72],1,8),new em("Last one is Transparency"),new f$([12,34],o),new f$("Byte Order",["12-34","34-12"]),new b4("Guesses",[])];
for(var P=0;P<i.length;P++){var h=i[P];h.parent=this;h.h(W.E.r,P==5?this.ap9:this.ZX,this);var k=P==0?E:P==5?I:X;
k.appendChild(h.m)}this.U=O.S("canvas");this.vu=this.U.getContext("2d");this.body.appendChild(this.U);
this.lU=O.Ju(this,this.body)}i$.prototype=new a1;i$.prototype.f=function(){a1.prototype.f.call(this);
var w=this.cd;this.lU.f();for(var P=0;P<w.length;P++)w[P].f()};i$.prototype.cf=function(w){this.close();
var I=this.cd[0].Q(),E=gt.cV(this.AU,[{data:this.ds,WG:new dC(0,0,I.x,I.y)}]);if(this.ye)E.K3=this.ye;
var X=new e9(W.E.Z,!0);X.data={d:!0?W.t.aR:W.t.dv,gt:E};this.c(X)};i$.vI=[8,16];i$.prototype.tM=function(w,I){this.q1=new Uint8Array(I.Sh);
this.AU=I.Ov;var E=this.q1.length,X=[1,3,4],o=0,i=0,h=1,k=1,x=this.a9b=[];for(var j=0;j<3;j++){for(var v=0;
v<2;v++){var _=i$.vI[v],L=X[j],U=L*_,n=Math.round(E*8/U);if(n!=E*8/U)continue;for(var a=0;a<=4e3;a++)for(var T=0;
T<=4e3;T++)if(a*T==n){var g=0;if(a==T)g+=64;if(Math.round(a/100)==a/100&&Math.round(T/100)==T/100)g+=32;
if(Math.round(a/10)==a/10&&Math.round(T/10)==T/10)g+=16;if(Math.round(a/2)==a/2&&Math.round(T/2)==T/2)g+=8;
x.push([a,T,L,_,g])}}}var D=function(Z,S){if(S[4]!=Z[4])return S[4]-Z[4];var u=Math.max(Z[0],Z[1])/Math.min(Z[0],Z[1]),p=Math.max(S[0],S[1])/Math.min(S[0],S[1]);
if(u!=p)return u-p;return S[0]-Z[0]};x.sort(D);var b=this.cd,N=[];for(var P=0;P<x.length;P++){var C=x[P];
N.push(C[0]+" x "+C[1]+", "+C[2]+"ch, "+C[3]+"-bit")}b[5].Zq(N);b[5].B(0);this.ap9(null)};i$.prototype.ap9=function(w){var I=this.cd,E=this.a9b[this.cd[5].Q()];
I[0].B(new a5(E[0],E[1]),72);I[1].B(E[2]);I[3].B(i$.vI.indexOf(E[3]));this.ZX()};i$.prototype.ZX=function(w){var I=this.cd,E=I[0].Q(),X=E.x,o=E.y,i=i$.vI[I[3].Q()],h=this.q1;
if(i==16&&I[4].Q()==1){h=h.slice(0);for(var P=0;P<h.length;P+=2){var k=h[P];h[P]=h[P+1];h[P+1]=k}}var x=this.ds=this.CE(h,X,o,I[1].Q(),i,I[2].Q()),j=this.U,v=this.vu,_=[x,new dC(0,0,X,o)];
Q.RQ(_);for(var P=0;P<_.length;P+=2)if(_[P+1].w<300){x=_[P];X=_[P+1].q;o=_[P+1].w;break}j.width=X;j.height=o;
O.Pd(j,X,o);var L=new ImageData(new Uint8ClampedArray(x.buffer),X,o);v.putImageData(L,0,0)};i$.prototype.CE=function(w,I,E,X,o,i){this.ye=null;
var h=[],k=I*E;for(var x=0;x<X;x++){var j=Q.$(k);h.push(j);if(o==8)for(var P=0;P<k;P++)j[P]=w[P*X+x];
else if(o==16)for(var P=0;P<k;P++)j[P]=Math.round((w[(P*X+x)*2]<<8|w[(P*X+x)*2+1])*(255/65535))}var v=Q.$(k*4);
new Uint32Array(v.buffer).fill(4278190080);if(i){Q.lJ(h.pop(),v,3);X--}if(X==0){}else if(X==1)Q.SU(h[0],v);
else{Q.lJ(h[0],v,0);Q.lJ(h[1],v,1);if(X>2){Q.lJ(h[2],v,2);if(X>3){this.ye=[];for(var P=3;P<X;P++){var _=new K._x;
_.name="Alpha "+(P-2);_.rect=new dC(0,0,I,E);_.channel=h[P];this.ye.push(_)}}}}return v};function ew(w,I,E){cu.call(this);
this.m=O.S("div","");this.zg=w;this.CX=null;this.wy=I==null?!1:I;this.A2=null;this.uI=E;this.Bg=[];this.Y5=[];
this.ej=[];this.ui=[];this.xr=0;this.CX=this.ai8(ew.ui[w]);this.ba();this.RT=null;this.atp;this.ak2}ew.prototype=new cu;
ew.prototype.PX=function(w,I,E,X,o){this.RT=o;this.atp=JSON.parse(JSON.stringify(this.A2));if(this.CX.lagl)this.ak2=this.CX.lagl.Q()[0]};
ew.prototype.L_=function(w,I,E,X,o){var i=this.RT,h=this.zg,k=this.atp;if(i==null)return;var x=(o.x-i.x)/w.u.T,j=(o.y-i.y)/w.u.T;
if(h=="GrFl"){var v=JSON.parse(JSON.stringify(k.Ofst.v));v.Hrzn.v.val+=x*.5;v.Vrtc.v.val+=j*.5;this.CX.Ofst.B(v,!0)}if(h=="patternFill"){var v=JSON.parse(JSON.stringify(k.phase.v));
v.Hrzn.v+=x;v.Vrtc.v+=j;this.CX.phase.B(v,!0)}if(h=="DrSh"||h=="IrSh"||h=="ChFX"){var _=k.Dstn.v.val,L=this.ak2*Math.PI/180,U=-Math.cos(L)*_+x,n=Math.sin(L)*_+j;
this.CX.Dstn.B(Math.sqrt(U*U+n*n),!0);this.CX.lagl.B([Math.atan2(n,-U)*180/Math.PI],!0)}};ew.prototype.dj=function(w,I,E,X,o){this.RT=null};
ew.prototype.aty=function(){for(var P=0;P<this.ui.length;P++){O.yo(this.ui[P],"selected");if(this.ej[P]instanceof em)this.ej[P].B(!1)}};
ew.prototype.atS=function(w){var I=this.aw8.bind(this);for(var P=0;P<this.ej.length;P++){var E=O.S("div","listitem");
this.ui.push(E);if(P>0)E.textContent="\u2003";E.appendChild(this.ej[P].m);if(hL.ask.indexOf(this.zg)!=-1){var X=new es("+");
X.KX();X.m.style.float="right";E.appendChild(X.m);var o=new es("\u2B0D");o.KX();o.m.style.float="right";
o.m.style["margin-right"]="2px";E.appendChild(o.m)}E.addEventListener("click",I,!1);w.appendChild(E)}};
ew.xQ=function(w,I){var E=I.getBoundingClientRect();return(w.clientY-E.top)/E.height};ew.prototype.aw8=function(w){var I=w.target.tagName.toLowerCase();
if(I=="input"){return}if(I=="button"){var E=new e9(W.E.s,!0),X=w.target.textContent=="+",o=X?0:ew.xQ(w,w.target)<.5?-1:1;
if(X)E.data={d:"st_dupsingle",l:this.parent.data.l,je:this.uI};else E.data={d:"st_movsingle",l:this.parent.data.l,je:this.uI,awJ:o};
E.G=q.QP;E.IY=!0;this.c(E);E=new e9("redrawall",!0);E.data={awJ:o};this.c(E);return}O.x4(w);this.r2();
this.xr=this.ui.indexOf(w.currentTarget);this.c(new e9("showme"))};ew.prototype.r2=function(){if(this.CX.enab&&this.CX.enab.Q()==!1)this.au({Ik:"enab",k:!0})};
ew.prototype.als=function(){var w=this.ui[this.xr];if(w)O.vK(w,"selected");return this.Y5[this.xr]};
ew.prototype.ai8=function(w){var I={};for(var P=0;P<w.length;P++){var E=w[P],X=null;if(E=="----")X={m:O.S("hr")};
if(E=="\n")X={m:O.S("br")};if(E=="blOptions")X=new gJ([14,10]);if(E=="brst")X=new fY([12,72],["R","G","B"]);
if(E=="knko")X=new b4("Knockout",[[13,1,0],"Shallow","Deep"]);if(E=="enab")X=new em(hL.names[hL.order.indexOf(this.zg)]);
if(E=="lrMd"||E=="Md")X=new b4([12,19,0],hH.He,!1,hH.pc);if(E=="Opct")X=new kk([12,0],0,100,"%");if(E=="iOpa")X=new kk([12,26],0,100,"%");
if(E=="blIf")X=new gk;if(E=="ShdN")X=new kk([12,68],0,100,"%");if(E=="lagl"||E=="Angl")X=new ia([12,15],this.zg=="ebbl");
if(E=="uglg")X=new em([12,27]);if(E=="Dstn")X=new kk([12,28],0,200,"px");if(E=="Ckmt")X=new kk([12,29],0,100,"%");
if(E=="blur")X=new kk([12,14,0],0,200,"px");if(E=="TrnS"||E=="MpgS")X=new iM([12,21]);if(E=="Nose")X=new kk([12,30],0,100,"%");
if(E=="layerConceals")X=new em([12,31]);if(E=="AntA"||E=="antialiasGloss")X=new em([12,25,1]);if(E=="GlwT")X=new b4([12,32],hL.Ac.names);
if(E=="glwS")X=new b4([12,70],hL.Ac.ah5);if(E=="Inpr")X=new kk([12,12],1,100,"%");if(E=="bvlS")X=new b4([12,22],hL.Kg.style);
if(E=="bvlT")X=new b4([12,32],hL.Kg.a1H);if(E=="bvlD")X=new b4(null,hL.Kg.dir);if(E=="srgR")X=new kk([12,34],0,1e3,"%");
if(E=="Sftn")X=new kk([12,35],0,20,"px");if(E=="Lald")X=I.lagl;if(E=="hglM"||E=="sdwM")X=new b4([12,36],hH.He,!1,hH.pc);
if(E=="hglC"||E=="sdwC")X=new fs;if(E=="hglO"||E=="sdwO")X=new kk([12,0],0,100,"%");if(E=="Invr"||E=="InvT")X=new em([4,11]);
if(E=="Sz")X=new kk([12,14,0],1,200,"px");if(E=="Styl")X=new b4([12,40],hL.stroke.names);if(E=="PntT")X=new b4([12,66],hL.stroke.aoB);
if(E=="Clr")X=new fs(!0);if(E=="Grad"){X=new b2(!0,[12,37],!0);X.B(JSON.parse(hL.My.a4q).v)}if(E=="Rvrs")X=new em([12,23,0]);
if(E=="Dthr")X=new em([12,23,3]);if(E=="Type")X=new b4([12,22],hL.N.names.slice(0,this.zg=="FrFX"?6:5));
if(E=="Ptrn")X=new gw([12,62]);if(E=="Scl")X=new kk([12,38],5,500,"%",0,!0);if(E=="Algn")X=new em([12,39]);
if(E=="Ofst")X=new fG(!0);if(E=="phase")X=new fG(!1);if(E=="useShape")X=new em([12,21]);if(E=="useTexture")X=new em([12,67]);
if(E=="textureDepth")X=new kk([12,34],-300,300,"%");var o=E=="----"||E=="\n"?E+P:E;if(X!=null)I[o]=X}return I};
ew.prototype.a3f=function(w){var I=this.Y5[this.xr];for(var P=0;P<w.length;P++){var E=this.CX[w[P]];
if(E&&I.contains(E.m))I.removeChild(E.m)}};ew.prototype.a7B=function(w){var I=this.Y5[this.xr];for(var P=0;
P<w.length;P++){var E=this.CX[w[P]];if(E&&!I.contains(E.m))I.appendChild(E.m)}};ew.prototype.eU=function(w,I){if(this.CX==null)return;
var E=I==ik.Vk;if(this.CX.Grad){this.CX.Grad.y7(w.Ht,w.Mw);if(E||I==ik.xa||I==ik.x6)this.CX.Grad.Kn(w.pv)}if(this.CX.Ptrn){if(E||I==ik.cc)this.CX.Ptrn.Kn(w.IK)}if(this.CX.TrnS){if(E||I==ik.ti)this.CX.TrnS.Kn(w.Hj)}if(this.CX.MpgS){if(E||I==ik.ti)this.CX.MpgS.Kn(w.Hj)}};
ew.prototype.f=function(){for(var P=0;P<this.Bg.length;P++)this.Bg[P].f();for(var w in this.CX)if(this.CX[w]instanceof cu)this.CX[w].f()};
ew.prototype.ba=function(){for(var w in this.CX){var I=this.CX[w];I.parent=this;if(I instanceof cu)I.h(W.E.r,this.arz,this);
if(this.Y5.length==0||w=="useShape"||w=="useTexture"){var E=new gJ(I.ayf()),X=O.S("div","bordered padded");
if(this.wy==!1){X.appendChild(E.m);X.appendChild(O.S("hr",""))}this.Bg.push(E);this.Y5.push(X);this.ej.push(I)}else this.Y5[this.Y5.length-1].appendChild(I.m)}};
ew.prototype.update=function(w,I){if(this.CX==null)return;this.A2=JSON.parse(JSON.stringify(I));for(var E in I){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(E)!=-1)this.CX[E].B(I[E].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(E)!=-1){this.CX[E].B(I[E].v,w)}if(["Md","hglM","sdwM"].indexOf(E)!=-1)this.CX[E].B(hH.zg.indexOf(I[E].v.BlnM));
if(E=="lrMd"){var X=(I.vD?[[15,10,27]]:[]).concat(hH.He),o=(I.vD?[1]:[]).concat(hH.pc);this.CX[E].Zq(X,o);
this.CX[E].B(I[E].v)}if(E=="Angl")this.CX[E].B([I[E].v.val]);if(E=="lagl"){var i=I.uglg&&I.uglg.v?w.T7():I.lagl.v.val;
this.CX[E].B([i])}if(E=="Lald"){var i=I.uglg&&I.uglg.v?w.vx():I.Lald.v.val;this.CX[E].B([null,i])}if(E=="Type")this.CX[E].B(hL.N.types.indexOf(I.Type.v.GrdT));
if(E=="Styl")this.CX[E].B(hL.stroke.types.indexOf(I.Styl.v.FStl));if(E=="PntT"){var h=hL.stroke.be.indexOf(I.PntT.v.FrFl);
this.CX[E].B(h);if(!this.wy){this.a3f(hL.y8.concat(hL.qT.concat(hL.BK)));this.a7B([hL.y8,hL.qT,hL.BK][h])}}if(E=="GlwT")this.CX[E].B(hL.Ac.types.indexOf(I.GlwT.v.BETE));
if(E=="glwS")this.CX[E].B(hL.Ac.aoy.indexOf(I.glwS.v.IGSr));if(E=="bvlS")this.CX[E].B(hL.Kg.types.indexOf(I.bvlS.v.BESl));
if(E=="bvlT")this.CX[E].B(hL.Kg.a8w.indexOf(I.bvlT.v.bvlT));if(E=="bvlD")this.CX[E].B(["In","Out"].indexOf(I.bvlD.v.BESs))}};
ew.prototype.arz=function(w){for(var I in this.CX){if(this.CX[I]!=w.target)continue;var E=null,X=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(I)!=-1)E={type:"#Prc",val:w.target.Q()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(I)!=-1)E={type:"#Pxl",val:w.target.Q()};if(["Angl","lagl"].indexOf(I)!=-1)E={type:"#Ang",val:w.target.Q()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(I)!=-1)E=w.target.Q();
if(["Md","hglM","sdwM"].indexOf(I)!=-1)E={BlnM:hH.zg[w.target.Q()]};if(I=="uglg"){E=w.target.Q();X=!0}if(I=="PntT"){E={FrFl:hL.stroke.be[w.target.Q()]};
X=!0}if(I=="Lald")E={type:"#Ang",val:w.target.Q()[1]};if(I=="Type")E={GrdT:hL.N.types[w.target.Q()]};
if(I=="Styl")E={FStl:hL.stroke.types[w.target.Q()]};if(I=="GlwT")E={BETE:hL.Ac.types[w.target.Q()]};
if(I=="glwS")E={IGSr:hL.Ac.aoy[w.target.Q()]};if(I=="bvlS")E={BESl:hL.Kg.types[w.target.Q()]};if(I=="bvlT")E={bvlT:hL.Kg.a8w[w.target.Q()]};
if(I=="bvlD")E={BESs:["In","Out"][w.target.Q()]};this.au({Ik:I,k:E});if(X){if(this.wy)this.update(null,this.A2);
else{var o=this.parent,i=o.gt,h=this.uI,k=i.b[o.data.l].add.lmfx[hL.JR[h[0]]].v[h[1]].v;this.update(i,k)}}}};
ew.prototype.au=function(w){if(this.A2&&this.A2[w.Ik])this.A2[w.Ik].v=w.k;if(this.wy){this.c(new e9(W.E.r))}else{w.d="changeprop";
w.l=this.parent.data.l;w.qI=this.uI;var I=new e9(W.E.s,!0);I.data=w;I.G=q.QP;I.IY=!0;this.c(I);this.c(new e9("afterchange",!0))}};
ew.prototype.Q=function(){return JSON.parse(JSON.stringify(this.A2))};ew.ui={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(hL.y8),GrFl:["enab","Md","Opct"].concat(hL.qT),patternFill:["enab","Md","Opct"].concat(hL.BK),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(hL.y8.concat(hL.qT.concat(hL.BK)))};
function gi(){a1.call(this,[11,6],"layerstyle");this.arL=-1;this.data={};this.gt=null;this.m6=null;this.n0=[];
this.LJ=[];O.vK(this.body,"flexrow");this.NG=O.S("div","bordered");this.NG.setAttribute("style","min-width:13em;");
this.body.appendChild(this.NG);this.yr=O.S("div","");this.yr.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.yr);this.QR=O.S("div","form");this.QR.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.QR);this.lU=O.Ju(this,this.QR);this.n$=new es([12,87],!0,null,!0);this.n$.h("click",this.anr,this);
this.QR.appendChild(this.n$.m);this.TD=new ae;this.TD.parent=this;this.TD.h(W.E.r,this.aaQ,this);this.QR.appendChild(this.TD.m);
this.h("closebtn",this.NB,this);this.h("redrawall",this.a1v,this)}gi.prototype=new a1;gi.prototype.wN=function(){return!0};
gi.prototype.$c=function(){return!0};gi.prototype.PX=function(w,I,E,X,o){var i=this.e5();if(i)i.PX(w,I,E,X,o)};
gi.prototype.L_=function(w,I,E,X,o){var i=this.e5();if(i)i.L_(w,I,E,X,o)};gi.prototype.dj=function(w,I,E,X,o){var i=this.e5();
if(i)i.dj(w,I,E,X,o)};gi.prototype.e5=function(w){if(w==null)w=this.data.index;return w==null?null:w==0?this.n0[0]:this.LJ[w[0]][w[1]]};
gi.prototype.aaQ=function(w){var I=this.TD.Q();this.au({d:"setstl",k:I.C$});this.a1v(null)};gi.prototype.anr=function(w){var I=this.gt,E=this.data.l;
if(E==null)E=I.g[0];var X=this.gt.b[E],o=aQ.a0i(X),i=new e9(W.E.Z,!0);i.data={d:W.t.e1,kl:"add",GT:ik.uH,VV:[JSON.parse(JSON.stringify(o))]};
this.c(i)};gi.prototype.a0I=function(w){this.data.index=w.currentTarget.uI;this.Ad(w.currentTarget.uI)};
gi.prototype.a1v=function(w){this.tM(this.gt,this.data)};gi.prototype.Ad=function(w,I){O.wO(this.yr);
for(var P=0;P<this.n0.length;P++)this.n0[P].aty();var E=this.e5(w);this.yr.appendChild(E.als());if(I)E.r2();
var X=this.gt;if(X){var o=X.b[this.data.l];this.n0[0].update(X,q.GA.g0(X,o));var i=o.add.lmfx;if(i==null)return;
for(var P=0;P<hL.order.length;P++){var h=i[hL.JR[P]].v;for(var k=0;k<h.length;k++)this.LJ[P][k].update(X,h[k].v)}}if(I)E.r2()};
gi.prototype.f=function(){a1.prototype.f.call(this);this.n$.f();this.TD.f();this.lU.f();for(var P=0;
P<this.n0.length;P++)this.n0[P].f()};gi.prototype.tM=function(w,I){var E=I.l==null;this.data.l=I.l;this.data.index=I.index;
I=this.data;this.gt=w;if(E)I.l=w.g.length==0?w.b.length-1:w.g[0];O.wO(this.NG);var X=w.b[I.l].add.lmfx;
this.lh();this.n0=[new ew("bops",!1,0)];this.LJ=[];for(var P=0;P<hL.order.length;P++){this.LJ.push([]);
var o=X==null?[]:X[hL.JR[P]].v;for(var i=0;i<o.length;i++){var h=new ew(hL.order[P],!1,[P,i]);this.n0.push(h);
this.LJ[P].push(h)}if(o.length==0){var h=new ew(hL.order[P],!1,[P,0]);this.n0.push(h);this.LJ[P].push(h)}}this.f();
this.a3w(this.m6,ik.Vk);for(var P=0;P<this.n0.length;P++){this.n0[P].parent=this;this.n0[P].atS(this.NG);
this.n0[P].h("showme",this.a0I,this)}if(I.index==null||I.index==0||!E&&X[hL.JR[I.index[0]]].v.length==0){this.Ad(0)}else this.Ad(I.index,E);
this.h("afterchange",this.lh,this)};gi.prototype.lh=function(w){var I=this.gt,E=this.data.l;if(E==null)E=I.g[0];
var X=this.gt.b[E],o=aQ.a0i(X);this.TD.B(o,I.add.Patt?I.add.Patt:[],I.T7(),I.vx())};gi.prototype.eU=function(w,I){this.m6=w;
this.a3w(w,I);if(I==ik.uH||I==ik.Vk){this.TD.Kn([w.OG,w.IK])}if(I==ik.EO){}};gi.prototype.a3w=function(w,I){for(var P=0;
P<this.n0.length;P++)this.n0[P].eU(w,I)};gi.prototype.NB=function(w){this.au({d:"cancel"})};gi.prototype.cf=function(w){this.au({d:"confirm"});
this.close()};gi.prototype.au=function(w){w.l=this.data.l;var I=new e9(W.E.s,!0);I.data=w;I.G=q.QP;I.IY=!0;
this.c(I);this.lh()};gi.z0=function(w){var I=[{name:[14,10],Lf:!0}];for(var P=0;P<hL.names.length;P++)I.push({name:hL.names[P]});
if(w){I[I.length-1].Lf=!0;I.push({name:"Scale Effects",i:function(E){return{i:E!=null&&E.g.length!=0&&E.b[E.g[0]].z_()}}});
I.push({name:["VAR0 VAR1",[12,49],[9,1]],i:function(E){return{i:E!=null&&E.g.length!=0&&E.b[E.g[0]].add.lmfx!=null}}})}return I};
gi.sR=function(w){var I=[{X:W.E.Z,v:{d:W.t.GV,ei:"layerstyle"}}];for(var P=0;P<hL.names.length;P++)I.push({X:W.E.Z,v:{d:W.t.GV,ei:"layerstyle",index:[P,0]}});
if(w){I.push({X:W.E.Z,v:{d:W.t.GV,ei:"scaleeffects",di:100,HL:{X:W.E.s,G:q.QP,v:{d:"scaleeffects"}}}});
var E={classID:"Mk",null:gE.cZ("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
I.push({X:W.E.a3,v:{$g:"make",Zc:E}})}return I};gi.auq=function(w){var I=[];if(w)I.push({name:[6,48,0,0],qj:!0},{name:[6,48,0,1],qj:!0},{name:[6,48,0,2],qj:!0,Lf:!0});
for(var E in cz.names)I.push({name:cz.names[E],Lf:cz.a6h.indexOf(E)!=-1,qj:kg[E]!=null});return I};gi.zC=function(w){var I=[];
if(w){I.push({X:W.E.s,G:q.jh,v:{d:"newfill",Vq:0}});for(var P=1;P<3;P++)I.push({X:W.E.a3,v:q.II._u(P)})}for(var E in cz.names){var X=gD.SX(E);
if(X==null)X={};for(var o in cz.ra)if(cz.ra[o]==E)X.classID=o;var i={$g:"make",Zc:{classID:"Mk",null:gE.cZ("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:X}}}}};
I.push({X:W.E.a3,v:i})}return I};function gn(){a1.call(this,"Merge Channels","mergechannels");this.$b=null;
var w=O.S("div","form");this.body.appendChild(w);this.cd=[];for(var P=0;P<3;P++){var I=new b4(cz.Sb[P],[]);
this.cd.push(I);w.appendChild(I.m);O.D2(w)}this.lU=O.Ju(this,w)}gn.prototype=new a1;gn.prototype.f=function(){a1.prototype.f.call(this);
this.lU.f();for(var P=0;P<3;P++)this.cd[P].f()};gn.prototype.tM=function(w,I,E,X){this.$b=E;var o=[];
for(var P=0;P<E.length;P++)o.push(E[P].name);for(var P=0;P<3;P++){var i=this.cd[P];i.Zq(o);i.B(Math.min(P,E.length-1))}};
gn.prototype.cf=function(w){var I=this.$b,E=I[0],X=new e9(W.E.a3,!0);X.data=hg.W$(E.q,E.w,E.nN,"Merged Document","Wht",!1);
this.c(X);var o=[];for(var P=0;P<3;P++)o.push(I[this.cd[P].Q()].sQ());var E=I[I.length-1],i=E.b[0],h=i.buffer;
for(var P=0;P<h.length;P+=4){h[P]=o[0][P];h[P+1]=o[1][P];h[P+2]=o[2][P]}i.M();E.M();this.close()};function da(){a1.call(this,[1,10],"script");
var w=O.S("div","form");w.setAttribute("style","width:44em");this.body.appendChild(w);this.m6=null;this.AJ=[];
this.ak=[];this.acZ;var I=this.NT=new es([1,2],!1,null,!0);I.h("click",this.I2,this);w.appendChild(I.m);
var E=new es("JS Reference",!1,null,!0);E.h("click",this.a5F,this);w.appendChild(E.m);w.appendChild(new gJ("Demos:").m);
this.a7N=[];var X=da.mD;for(var P=0;P<X.length;P++){var o=new es(X[P].u$,!1,null,!0);this.a7N.push(o);
w.appendChild(o.m);o.h("click",this.a8a,this)}this.W2=O.S("textarea");O.g5(this.W2);this.W2.setAttribute("rows",16);
this.W2.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");w.appendChild(this.W2);
var i=new es("Run",!0,null,!0);i.h("click",this.cf,this);w.appendChild(i.m);this.OS=O.S("div");w.appendChild(this.OS)}da.prototype=new a1;
da.prototype.f=function(){this.NT.f()};da.prototype.I2=function(){var w=this.acZ;if(w==null)w="script.jsx";
var I=new e9(W.E.Z,!0);I.data={d:W.t.GV,ei:"namewindow",di:w.slice(0,w.length-4),qu:this.a2s.bind(this)};
this.c(I)};da.prototype.a2s=function(w){var I=this.W2.value,E=M.VD(I),X=new e9(W.E.Z,!0);X.data={d:W.t.Ll,Sh:E.buffer,gm:w+".jsx",aqd:!0};
this.c(X)};da.prototype.a6n=function(w){var P=this.AJ.indexOf(w.target),I=this.acZ=this.ak[P],E=this.m6.PB.nS[I],X=new Uint8Array(E),o=M.YV(X,0,X.length);
this.W2.value=o};da.prototype.tM=function(w,I,E){this.W2.value=da.mD[0].z7;this.adS()};da.prototype.adS=function(){var w=this.m6.PB,I=this.OS;
O.wO(I);this.AJ=[];this.ak=[];I.textContent="Saved scripts: ";for(var E in w.nS){if(E.endsWith(".jsx")){var X=new es(E,!1,null,!0);
this.AJ.push(X);this.ak.push(E);X.h("click",this.a6n,this);I.appendChild(X.m)}}};da.prototype.eU=function(w,I){this.m6=w;
if(I==ik.kn)this.adS()};da.prototype.a5F=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.Yo,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.c(I)};da.prototype.cf=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.FN,Pb:this.W2.value};this.c(I)};
da.prototype.a8a=function(w){var I=this.a7N.indexOf(w.currentTarget);this.W2.value=da.mD[I].z7};da.mD=[{u$:"Hello",z7:"\nalert(\"Hello Photopea!\");\n"},{u$:"Process Layers",z7:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{u$:"Clone Layers",z7:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function bD(){a1.call(this,[11,7],"newproject");this.data=null;this.$b=null;var w=O.S("div","flexrow");
this.Ca=w;this.body.appendChild(w);var I=O.S("div","form");this.ae=I;w.appendChild(I);this.k2=new aR([12,48],null,10);
I.appendChild(this.k2.m);O.D2(I);this.CD=new hc(!0,null,null,null,!0);this.CD.B(new a5(1280,720),72);
this.CD.aiV(!0,!0);this.CD.h(W.E.r,this.xY,this);I.appendChild(this.CD.m);this.d3=new jc;this.d3.parent=this;
I.appendChild(this.d3.m);this.DJ=new es("\u02C5",null,[0,14],!0);this.DJ.h("click",this.C5,this);I.appendChild(this.DJ.m);
var E=this.aci=O.S("span");I.appendChild(E);E.style.display="none";this.anZ=new b4([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
E.appendChild(this.anZ.m);this.wx=new em([1,16,1]);E.appendChild(this.wx.m);this.lU=new es([12,49],!0,null,!0);
this.lU.h("click",this.cf,this);I.appendChild(this.lU.m);var X=bD.q1,o=[];for(var P=0;P<X.length;P++)o.push(X[P].name);
this.e0=new f$(null,o);this.e0.h(W.E.r,this.a6l,this);I.appendChild(this.e0.m);this.e0.m.style["margin-top"]="1em";
this.sK=new aC(!0);this.sK.h(W.E.r,this.a7b,this);I.appendChild(this.sK.m);this.a6l();this.pQ=new ij;
this.pQ.parent=this;this.pQ.m.setAttribute("style","margin-left:1em");this.pQ.h("tempready",this.am7,this)}bD.prototype=new a1;
bD.prototype.C5=function(w){var I=this.aci,E=I.style.display!="none";I.style.display=E?"none":"";this.DJ.vw(E?"\u02C5":"\u02C4");
this.hi(this.LQ,this.Ns)};bD.prototype.eU=function(w,I){this.pQ.eU(w)};bD.prototype.GN=function(w,I){return new a5(Math.max(0,Math.min(70,(w-690)/2)),w>I?Math.max(0,Math.min(50,(I-400)/2)):0)};
bD.prototype.hi=function(w,I){this.LQ=w;this.Ns=I;this.ae.setAttribute("style","width:"+Math.min(w-24,338)+"px");
this.sK.m.style.height=I-248-(this.aci.style.display=="none"?0:28)+"px";var E=this.pQ.m,X=E.parentNode;
if(w<500){if(X!=null)this.Ca.removeChild(E)}else{if(X==null)this.Ca.appendChild(E);this.pQ.hi(w-378,I-28)}};
bD.prototype.xY=function(){this.pQ.B(this.CD.Q())};bD.prototype.a7b=function(w){var I=this.sK.Q()[0],E=bD.q1[this.e0.Q()].ok[I],X=E[4];
if(X==0)X=72;var o=E[1],i=E[2],h=["px","%","mm","in"].indexOf(E[3]),k=[1,1,25.4/X,1/X][h];o/=k;i/=k;
this.CD.B(new a5(Math.round(o),Math.round(i)),X);this.CD.a0c(h);this.xY()};bD.prototype.a6l=function(w){var I=bD.q1[this.e0.Q()].ok,E=[],X=[],o=Math.round(106*O.V()),i=Math.round(106*O.V()),h=0;
for(var P=0;P<I.length;P++)h=Math.max(h,I[P][1],I[P][2]);for(var P=0;P<I.length;P++){var k=I[P],x=k[1]+" x "+k[2]+" "+k[3];
if(k[3]=="in")x=(k[1]*25.4).toFixed(0)+" x "+(k[2]*25.4).toFixed(0)+" mm";if(k[3]=="mm")x=(k[1]/25.4).toFixed(1)+" x "+(k[2]/25.4).toFixed(1)+" in";
if(k[4])x=x+" @ "+k[4]+" ppi";X.push(x);E.push(bD.e6(k,o,i,h))}this.sK.fg(E,X,o,i)};bD.e6=function(w,I,E,X){var o=O.S("canvas",""),i=o.getContext("2d");
o.width=I;o.height=E;var h=Math.round(I/8),k=Math.floor(11*O.V()),x=w[1],j=w[2];i.fillStyle="#000000";
i.font=Math.round(k*.9)+"px \"Open Sans\", Sans-Serif";var v=x+" x "+j+" "+w[3],_=i.measureText(v);i.fillText(v,Math.round((I-_.width)/2),E-Math.round(h/2));
if(w[0]!=null){i.font="bold "+k+"px \"Open Sans\", Sans-Serif";var v=w[0],_=i.measureText(v);i.fillText(v,Math.round((I-_.width)/2),E-Math.round(h/2)-Math.round(k*1.3))}E-=Math.round(2.5*k);
var L=Math.min((I-h)/x,(E-h)/j);L*=.5+.5*(Math.max(x,j)/X);var U=(I-x*L)/2,n=(E-j*L)/2;i.strokeRect(Math.round(U)+.5,Math.round(n)+.5,Math.round(x*L),Math.round(j*L));
return o.toDataURL()};bD.prototype.f=function(){a1.prototype.f.call(this);this.CD.f();this.k2.f();this.d3.f();
this.lU.f();this.k2.B(df.get([11,7]));this.e0.f();this.wx.f();this.DJ.f();this.pQ.f()};bD.prototype.cf=function(w){var I=this.CD.Q(),E=I.x,X=I.y;
this.close();var o=this.d3.Q(),i=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.anZ.Q()],h=new e9(W.E.a3,!0);
h.data=hg.W$(E,X,this.CD.Xj(),this.k2.Q(),["Wht","Blck","Trns","Clr"][o[0]],this.wx.Q(),o[1],i);this.c(h);
this.a4s()};bD.prototype.am7=function(w){var I=w.data.gt;I.nN=this.CD.Xj();var E=new e9(W.E.Z,!0);E.data={d:W.t.aR,gt:I};
this.c(E);this.close();this.a4s()};bD.prototype.a4s=function(){var w=this.$b[this.$b.length-1],I=this.data.apx;
if(I)gR.Yz(function(){var E=new XMLHttpRequest,X="https://www.googleapis.com/drive/v3/files?"+gR.gC();
E.open("POST",X,!0);E.setRequestHeader("Content-Type","application/json");E.addEventListener("load",function(o){var i=JSON.parse(o.target.response);
w.FP={file:i,V8:"psd"};alert(w.name+" created in Google Drive")});E.send(JSON.stringify({name:w.name,a0J:[I]}))})};
bD.prototype.tM=function(w,I,E,X){this.$b=E;if(w!=null&&w.n!=null){var o=new dC(0,0,w.q,w.w).LP(w.n.rect);
this.CD.B(new a5(o.q,o.w))}this.data=I;this.xY();if(O.On())jb.aa6(this.ae9.bind(this))};bD.prototype.ae9=function(w){if(w=="granted")jb.fq(this,this.avM.bind(this))};
bD.prototype.avM=function(w,I){this.CD.B(new a5(I.q,I.w))};bD.q1=[{name:"Social",ok:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],ok:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],ok:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],ok:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],ok:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],ok:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",ok:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function fb(w,I,E){a1.call(this,I,"sel_"+w);this.d=w;var X=O.S("div","form");this.body.appendChild(X);
this.k2=new ic(I,0,255,null,0,!1,!0);X.appendChild(this.k2.m);this.k2.B(1);var o=O.S("span");o.textContent=E;
X.appendChild(o);O.D2(X);this.avk=new em("Apply at canvas bounds");if(w!="border")X.appendChild(this.avk.m);
this.lU=O.Ju(this,X)}fb.prototype=new a1;fb.prototype.mV=function(w,I){if(w==null)return;if(w.n==null)alert("No selection!");
return w.n!=null};fb.prototype.cf=function(w){var I=new e9(W.E.a3,!0);I.data=q.mc.aeC(this.d,this.k2.Q(),this.avk.Q());
I.IY=!0;this.c(I);this.close()};fb.prototype.f=function(){a1.prototype.f.call(this);this.lU.f();if(this.k2)this.k2.f()};
fb.prototype.tM=function(w,I){};function f3(w,I,E,X,o,i){a1.call(this,E,I);this.av5=i;this.ZL=o;this.q1=null;
this.ae=O.S("div","form");this.body.appendChild(this.ae);this.k2=w==0?new aR(E,null,10):w==1?new kk(E,0,500,X,1):new aR(E,null,24,5);
this.k2.h(W.E.r,this.q4,this);this.ae.appendChild(this.k2.m);this.lU=O.Ju(this,this.ae);this.h("closebtn",this.NB,this)}f3.prototype=new a1;
f3.prototype.GN=function(w,I){return new a5(Math.max(0,Math.min(150,(w-250)/2)),Math.max(0,Math.min(150,(I-120)/2)))};
f3.prototype.wN=function(){return this.av5};f3.prototype.q4=function(w){var I=this.k2.Q();if(this.ZL)this.zB(I)};
f3.prototype.NB=function(w){if(this.ZL)this.zB("cancel")};f3.prototype.cf=function(w){if(this.ZL)this.zB("confirm");
else this.zB(this.k2.Q());this.close()};f3.prototype.zB=function(w){if(this.q1.qu)this.q1.qu(w);else if(this.q1.HL){var I=this.q1.HL,E=new e9(I.X,!0);
E.G=I.G;E.data=I.v;E.data.k=w;E.IY=!0;this.c(E)}};f3.prototype.f=function(){a1.prototype.f.call(this);
this.lU.f();if(this.k2)this.k2.f()};f3.prototype.tM=function(w,I){this.q1=I;this.k2.B(I.di);this.k2.Gg();
this.q4(null)};function g$(){a1.call(this,[1,5],"open_from_url");this.NF=null;var w=O.S("div","form");
this.body.appendChild(w);this.f8=new aR("URL",null,22);w.appendChild(this.f8.m);O.D2(w);this.v1=new f$([21,0],[[21,2],[21,1]]);
w.appendChild(this.v1.m);this.lU=O.Ju(this,w)}g$.prototype=new a1;g$.prototype.f=function(){a1.prototype.f.call(this);
this.lU.f();this.v1.f()};g$.prototype.tM=function(w,I,E){this.f8.Gg();this.NF=null;if(w&&E.indexOf(w)!=-1)this.NF=E.indexOf(w)};
g$.prototype.cf=function(w){var I=new e9(W.E.Z,!0),E=this.f8.Q();I.data={d:W.t.Vd,GT:{url:E,Ol:!0,NF:this.v1.Q()==1?this.NF:null}};
this.c(I);this.close()};function dW(){a1.call(this,[12,79],"preferences");this.m6=null;var w=O.S("div","form");
this.body.appendChild(w);this.ui=[new em([8,2]),new em([8,4]),new b4([12,80,3],[[12,93,3],[12,80,4]]),new kk([12,80,5],1,100,null,2),new b4(null,Q.Ha.Mu),new b4([12,80,6],Q.Ha.Mu),new em("Remind me to save")];
for(var P=0;P<this.ui.length;P++){var I=this.ui[P];w.appendChild(I.m);if(P!=3)O.D2(w);I.h(W.E.r,this.Km,this)}}dW.prototype=new a1;
dW.prototype.f=function(){a1.prototype.f.call(this);for(var P=0;P<this.ui.length;P++)this.ui[P].f()};
dW.prototype.tM=function(w,I,E){};dW.prototype.eU=function(w,I){this.m6=w;this.ui[0].B(w.yR.l2);this.ui[1].B(w.yR.jm);
this.ui[2].B(w.yR.Un);this.ui[3].B(w.yR.gR);this.ui[4].B(w.yR.Js);this.ui[5].B(w.yR.gM);this.ui[6].B(w.km==1)};
dW.prototype.Km=function(w){var I=this.ui;if(w.target==I[6])this.m6.km=1-this.m6.km;var E=JSON.parse(JSON.stringify(this.m6.yR));
E.l2=I[0].Q();E.jm=I[1].Q();E.Un=I[2].Q();E.gR=I[3].Q();E.Js=I[4].Q();E.gM=I[5].Q();if(E.Js!=4)E.gR=Math.round(E.gR);
var X=new e9(W.E.Z,!0);X.data={d:W.t.e1,GT:ik.nk,pW:E};this.c(X)};function eP(){a1.call(this,[11,8],"saveforweb");
this.ank="";this.h("closebtn",function(){this.Td.FL()},this);this.gt=null;this.A4=null;this.atu=null;
this.m6=null;O.vK(this.body,"flexrow");this.body.style.padding="0";var w=O.S("div"),I=O.S("div");this.body.appendChild(w);
this.body.appendChild(I);this.Hz=O.S("div","imgcont");w.appendChild(this.Hz);this.Td=new hB;this.Td.hi(512,512);
this.S3=O.S("div");this.S3.setAttribute("style","display:inline-box; padding: 3px 0 5px 8px; height:20px;");
w.appendChild(this.S3);var E=this.ae=O.S("div","form cell");E.setAttribute("style","width:195px; padding:9px 13px;");
I.appendChild(E);this.OB=new b4([12,50],gt.dw());E.appendChild(this.OB.m);this.OB.h(W.E.r,this.Fm,this);
O.D2(E);this.XN=new aR([12,48],".www",7.7);E.appendChild(this.XN.m);O.D2(E);this.CD=new hc(!0,!0,!1,!0);
this.CD.h(W.E.r,this.Fm,this);E.appendChild(this.CD.m);this.k8=new fJ;this.k8.h(W.E.r,this.Fm,this);
E.appendChild(this.k8.m);this.Ob=new es([1,2],!0,null,!0);this.Ob.h("click",this.cf,this);E.appendChild(this.Ob.m)}eP.prototype=new a1;
eP.prototype.mV=function(w,I){return w!=null};eP.prototype.f=function(){a1.prototype.f.call(this);this.CD.f();
this.XN.f();this.OB.f();this.k8.f();this.Ob.f()};eP.prototype.cf=function(w){var I=this.XN.Q().trim(),E=gt.dw()[this.OB.Q()],X=E=="JPG"||E=="PNG"||E=="GIF",o=gt.FB(E),i="."+E.toLowerCase(),h=this.A4,k=I+i,x=this.gt,j=x.V7,v=this.k8.Q();
if(x.bx())v.pop();if(j.length!=0&&X&&v.pop()){var _="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",L=[],U={},n=new dC(0,0,x.q,x.w),a=x.sQ();
for(var P=0;P<j.length;P++)L.push(q.Yq.b7(j,P));L.reverse();var T=Q.rect.qJ([0,0,x.q,x.w],L);for(var P=0;
P<T.length;P++){var g=T[P],D=new dC(g[0],g[1],g[2]-g[0],g[3]-g[1]),b=g.length==5?j[g[4]].v:null,N=Q.$(D.A()*4);
Q.D6(a,n,N,D);var C="img/img"+(P+1)+i;U[C]=new Uint8Array(o.v6([[N.buffer,0]],D.q,D.w,v));_+="<div style=\"background-image:url('"+C+"'); left:"+D.x+"px; top:"+D.y+"px; width:"+D.q+"px; height:"+D.w+"px\">";
if(b&&b.url.v!="")_+="\n\t<a href=\""+b.url.v+"\" target=\""+b.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
_+="</div>\n"}_+="</body>\n</html>\n";var Z=Q.$(Math.round(_.length*1.5)),S=M.OA(_,Z,0);U["index.html"]=Z.slice(0,S);
h=UZIP.encode(U);k=I+".zip"}else if(x.add.artd&&x.add.artd.Cnt.v>1&&X&&v.pop()){var U={},n=new dC(0,0,x.q,x.w),a=x.sQ(),u=x.root.children;
for(var P=0;P<u.length;P++){var p=u[P].l;if(p.add.artb==null||!p.TH())continue;var f=p.Z9(),d=Q.$(f.A()*4);
Q.D6(a,n,d,f);U[p.getName()+i]=new Uint8Array(o.v6([[d.buffer,0]],f.q,f.w,v))}h=UZIP.encode(U);k=I+".zip"}if(x.GO)jb.EN("act=1&id="+x.GO);
var l=new e9(W.E.Z,!0);l.data={d:W.t.Ty,data:h,name:k};this.c(l);this.Td.FL();this.close();var A=ap.x1("3UMe\\ORYBB@EVG9* 08{\"\",-913-yXs^]Y\\Mm^UHKR3.8F6&+*.y1oo{%qm{m^Xo_SNLU]NA97N-7*B32*'##\"*WlprjhZS.k9XHSPYXt41:=36@;y*2$tn&womykcpZPIWP^IHH8]");
l.data={d:W.t.GV,ei:ap.j5,k:A,qu:function(){}};if(this.m6.pV&&!bh.c9()&&Math.random()<.05)this.c(l)};
eP.prototype.tM=function(w,I){if(I.G$!=null)this.OB.B(I.G$);this.gt=w;var E=this.gt.name,X=E.lastIndexOf("."),E=X==-1?E:E.slice(0,X);
this.XN.B(E);var o=w.q+","+w.w;if(o!=this.ank){this.ank=o;this.CD.B(new a5(w.q,w.w),w.nN)}this.k8.asI();
if(I.ai4){this.CD.a0c(3);this.k8.iW.PDF[2].q8.B(!0)}this.Fm(null,!0)};eP.prototype.a7k=function(w,I){return w<I&&w<660};
eP.prototype.GN=function(w,I){return this.a7k(w,I)?new a5(0,0):new a5(Math.max(0,Math.min(150,(w-770)/2)),Math.max(0,Math.min(150,(I-590)/2)))};
eP.prototype.hi=function(w,I,E){this.LQ=w;this.Ns=I;if(this.gt==null)return;var X=this.Ob.m,o=this.a7k(w,I),i,h,_="<span style=\"width:",L="display:inline-block; text-align:right;\">";
if(o){var k=this.ae.getBoundingClientRect().height;i=w;h=I-k-27;O.yo(this.body,"flexrow");O.yo(X,"spread")}else{i=Math.min(512,w-195-2*13);
h=Math.min(512,I-24);O.vK(this.body,"flexrow");O.vK(X,"spread")}this.ae.style.width=(o?w:195)+"px";var x=gt.dw()[this.OB.Q()],j=gt.FB(x);
if(j.RJ||j.q7)this.Hz.firstChild.setAttribute("style","display:block; width:"+i+"px; height:"+h+"px;");
else this.Td.hi(i,h);var v=this.A4.byteLength,U=x+":"+_+64+"px;"+L+eP.WH(v)+"</span>";if(i>200)U+=_+90+"px; opacity:"+.5+";"+L+v.toLocaleString()+" B</span>";
this.S3.innerHTML=U;X.style.float=o?"right":"";X.style.marginRight=o?"13px":"";if(o)this.S3.appendChild(X);
else this.ae.appendChild(X);if(E)setTimeout(function(){this.hi(this.LQ,this.Ns)}.bind(this),20)};eP.WH=function(w){var I=w.toString(2),E=0;
while(E+10<I.length)E+=10;var X=(w/Math.pow(2,E)).toFixed(1);if(X.endsWith(".0"))X=X.slice(0,-2);var o="B KB MB GB TB PB".split(" ")[Math.floor(E/10)];
return X+" "+o};eP.prototype.eU=function(w,I){this.m6=w};eP.prototype.Fm=function(w,I){var E=this.gt,X=this.CD.Q(),o=X.x,i=X.y,h=this.OB.Q(),k=gt.dw()[h],T="";
this.XN.afX("."+k.toLowerCase());var x=gt.Mx(E)[0].length,j=["GIF","PNG","WEBP"].indexOf(k)!=-1&&x>1;
if(j&&I&&(x>4&&o*i>1024*1024||o*i*x>800*800*50)){var v=1;while(Math.max(o>>>v,i>>>v)>800)v++;var _=window.confirm("Your animation is large ("+o+" x "+i+" px). Press \"OK\" to scale it to "+(100>>>v)+"%. Press \"Cancel\" to keep the size.");
if(_){this.CD.B(new a5(o>>>v,i>>>v),null,!0);o=o>>>v;i=i>>>v}}var L=E.add.artd,U=L!=null&&L.Cnt.v>1,n=E.bx();
this.k8.a7I(k,j,E.V7.length!=0,U,n!=null);var a=this.k8.Q();this.A4=gt.mZ(E,k,o,i,a,this.m6);if(this.A4==null){this.gt=null;
return}O.wO(this.Hz);this.Td.FL();var g=gt.FB(k);if(g.q7){this.Hz.innerHTML="<div></div>";T+="width:0px"}else if(g.RJ){var D=o,b=i,N;
if(k=="PDF"){N=URL.createObjectURL(new Blob([this.A4],{type:"application/pdf"}))}else{N=URL.createObjectURL(new Blob([this.A4],{type:"image/svg+xml"}))}this.Hz.innerHTML="<iframe src=\""+N+"\"></iframe>"}else{var C=this.atu=g.CE(this.A4),Z=C[0],S=Z.WG,D=S.q,b=S.w;
if(Z.VU){var u=ICC.R(Z.VU.buffer),p=17,f=ICC.U.sampleLUT(u,p);for(var P=0;P<C.length;P++){var d=new Uint8Array(C[P].data);
ICC.U.applyLUT(f,p,d,d)}}this.Td.B(C,C.length>1?a[a.length-3]:0);this.Hz.appendChild(this.Td.m);T="background: rgba(0,0,0,0);"}this.Hz.setAttribute("style","display:block; background-size:"+16/O.V()+"px;"+T);
this.hi(this.LQ,this.Ns,I)};function ja(){a1.call(this,[11,13],"shortcuts");var w=this.Ca=O.S("div","scrollable");
w.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(w);
this.ajL()}ja.prototype=new a1;ja.prototype.f=function(){a1.prototype.f.call(this);this.ajL()};ja.prototype.ajL=function(){var w="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",I="",E=aW,X=E.iu,o=E.mG,i=E.$i;
I+="<h2 style=\"margin-top:0;\">Main Menu</h2>";I+=w;I+=this.fj([[0,0],"---",[1,0],[X,E.WS],[1,2],[X,E.ao],[1,3],[o,X,E.ao],[1,8],[i,o,X,E.ao],[0,1],"---",[2,0],[o,X,E.lW],[2,1],[X,E.lW],[5,0],[X,E.tc],[5,1],[X,E.DM],[5,2],[X,E.uB],[2,2],"Delete",[2,3],[i,E.jY],[10,16],[i,X,E.Nu],[12,79],[X,E.Q2],[3],"---",[4,1],[X,E.wb],[4,2],[X,E.UK],[4,5],[X,E.gh],[4,11],[X,E.PR],[0,3],"---",[6,13],[o,X,E.wk],[6,49,0],[X,E.BN],[6,6,0],[i,X,E.vP],[6,9],[X,E.vP],[6,10],[X,E.E],[0,5],"---",[7,0],[X,E.t],[7,1],[X,E.MB],[7,2],[o,X,E.PR],[0,7],"---",[8,0],[X,E.w2],[8,1],[X,E.Jz],[8,3],[X,E.MP],[8,2],[X,E.Dx],[8,4],[X,E.od],[11,13],"?"]);
I+="</div>";I+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";I+=w;I+=this.fj(["Vertical scroll","Wheel","Horizontal scroll",[X,"Wheel"],"Zooming",[i,"Wheel"]]);
I+="</div>";I+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
I+=w;I+=this.fj([[10,11],[X],[10,7],"Space",[10,17],[X,E.gS]]);I+="</div>";I+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
I+=w;var h=ja.a,k=[];for(var P=0;P<h.length;P+=3)if(h[P+1])k.push(h[P],h[P+1]);k=k.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[X,E.Il]]);
I+=this.fj(k);I+="</div>";this.Ca.innerHTML=I};ja.prototype.fj=function(w){var I="",E=!0;for(var P=0;
P<w.length;P+=2){var X=w[P],o=aW.oA(w[P+1]);if(o==null){E=!1;continue}var i=O.qk(df.get(X));if(o=="---"){if(!E)I+="<br/>";
I+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+i+"</div>"}else I+="<div>"+i+" <span style=\"float:right; font-weight:bold;\">"+o+"</span> </div>";
E=!1}return I};ja.a=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function cR(){a1.call(this,[8,11,1],"soptions");this.hp=null;var w=O.S("div","form");w.style.width="20em";
this.body.appendChild(w);this.XH={Nm:[12,48],url:"URL",null:[12,71]};this.ui={};for(var I in this.XH){var E=new aR(this.XH[I],null,15);
this.ui[I]=E;w.appendChild(E.m)}this.lU=O.Ju(this,w)}cR.prototype=new a1;cR.prototype.tM=function(w,I,E){var X=I.k;
this.hp=JSON.stringify(X);for(var o in this.XH){if(X[o])this.ui[o].B(X[o].v)}};cR.prototype.cf=function(w){var I=JSON.parse(this.hp);
for(var E in this.XH){var X=this.ui[E].Q();I[E]={t:"TEXT",v:X}}var o=new e9(W.E.s,!0);o.G=q.Bd;o.data=I;
o.IY=!0;this.c(o);this.close()};cR.prototype.f=function(){a1.prototype.f.call(this);this.lU.f()};function ib(){a1.call(this,[2,3],"fill");
this.m6=null;this.Ke=null;var w=O.S("div","form padded");w.style.width="22em";this.body.appendChild(w);
this.Nh="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.m5=new b4([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.m5.h(W.E.r,this.aaO,this);w.appendChild(this.m5.m);this.Hz=O.S("span");w.appendChild(this.Hz);this.LK=new fs;
this.LK.parent=this;this.LK.xz(0);this.a6=new gw;this.a6.parent=this;this.MA=new b4([12,19,0],hH.He,!1,hH.pc);
w.appendChild(this.MA.m);this.Aq=new kk([12,0],0,100,"%",0,!1);this.Aq.B(100);w.appendChild(this.Aq.m);
this.nq=new em([13,5]);this.nq.B(!1);w.appendChild(this.nq.m);this.lU=O.Ju(this,this.body)}ib.prototype=new a1;
ib.prototype.mV=function(w,I){return w!=null};ib.prototype.wN=function(){return!0};ib.prototype.aaO=function(){var w=this.m5.Q(),I=this.LK.m,E=this.a6.m,X=this.Hz;
if(w==2)X.appendChild(I);else if(X.contains(I))X.removeChild(I);if(w==7)X.appendChild(E);else if(X.contains(E))X.removeChild(E)};
ib.prototype.f=function(){a1.prototype.f.call(this);this.m5.f();this.MA.f();this.Aq.f();this.nq.f();
this.lU.f()};ib.prototype.cf=function(w){if(!this.Ke.p8())return;var I=new e9(W.E.a3,!0),E=this.m5.Q();
I.data=q.Og._u(this.Nh[E],hH.H1[this.MA.Q()],this.Aq.Q()/100,this.LK.Q(),this.nq.Q(),this.a6.Q());this.close();
this.c(I)};ib.prototype.tM=function(w,I){this.Ke=w};ib.prototype.eU=function(w,I){this.m6=w;if(I==ik.Vk||I==ik.cc){this.a6.Kn(w.IK);
this.a6.B({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function jA(){a1.call(this,[14,9],"stroke");this.m6=null;this.ae=O.S("div","form");this.ae.setAttribute("style","width:24em");
this.body.appendChild(this.ae);this.Wh=new ew("FrFX",!0);this.Wh.parent=this;var w=["Sz","Styl","Md","Opct"].concat(hL.y8);
for(var P=0;P<w.length;P++){var I=this.Wh.CX[w[P]].m;this.ae.appendChild(I)}this.Ef=!1;this.lU=O.Ju(this,this.body)}jA.prototype=new a1;
jA.prototype.mV=function(w,I){return w!=null};jA.prototype.wN=function(){return!0};jA.prototype.f=function(){a1.prototype.f.call(this);
this.lU.f();this.Wh.f()};jA.prototype.cf=function(w){var I=new e9(W.E.s,!0);I.G=q.Kx;I.data={d:"stroke",a8K:this.Wh.Q()};
this.close();this.c(I)};jA.prototype.tM=function(w,I){if(!this.Ef){var E=hL.zd[hL.order.indexOf("FrFX")];
E=JSON.parse(E);this.Wh.update(w,E);this.Ef=!0}var E=this.Wh.Q(),X=this.m6.Ht;E.Clr.v=Q.N.Ex({o:X>>16&255,P:X>>8&255,L:X&255});
this.Wh.update(w,E)};jA.prototype.eU=function(w,I){this.m6=w};function il(){a1.call(this,[11,9],"textwarp");
this.ui=new hb;this.ui.h(W.E.r,this.v2,this);this.ui.parent=this;this.ae=O.S("div","form");this.ae.setAttribute("style","width:20em");
this.body.appendChild(this.ae);this.ae.appendChild(this.ui.gZ.m);this.ae.appendChild(this.ui.KI.m);this.ae.appendChild(this.ui.YG.m);
this.ae.appendChild(this.ui.Mc.m);this.ae.appendChild(this.ui.mA.m);this.lU=O.Ju(this,this.ae);this.h("closebtn",this.NB,this)}il.prototype=new a1;
il.prototype.wN=function(){return!0};il.prototype.f=function(){a1.prototype.f.call(this);this.lU.f();
this.ui.f()};il.prototype.v2=function(w){var I=this.ui.Q();this.zB({d:"warp",AG:I})};il.prototype.zB=function(w){var I=new e9(W.E.s,!0);
I.G=q.Zn;I.data=w;I.IY=!0;this.c(I)};il.prototype.NB=function(w){this.zB({d:"warpCancel"})};il.prototype.cf=function(w){this.zB({d:"warpConfirm"});
this.close()};il.prototype.tM=function(w,I){var E=w.b[w.g[0]];this.ui.B(E.add.TySh.gl)};function hn(){a1.call(this,[11,12,0],"trim");
var w=this.ae=O.S("div","form");this.ae.setAttribute("style","width:22em");this.body.appendChild(this.ae);
var I=new gJ("Color To Trim:");w.appendChild(I.m);this.KT=new fY(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.KT.B([!0]);this.ae.appendChild(this.KT.m);var I=new gJ("Sides:");w.appendChild(I.m);this.wS=new fY(null,["Top","Left","Bottom","Right"]);
this.wS.B([!0,!0,!0,!0]);this.ae.appendChild(this.wS.m);this.lU=O.Ju(this,this.body)}hn.prototype=new a1;
hn.prototype.mV=function(w,I){return w!=null};hn.prototype.wN=function(){return!0};hn.prototype.f=function(){a1.prototype.f.call(this);
this.KT.f();this.wS.f();this.lU.f()};hn.prototype.cf=function(w){var I=this.KT.Q().indexOf(!0),E=this.wS.Q(),X=new e9(W.E.a3,!0);
X.data=q.EV.nW(I,E);this.close();this.c(X)};function c$(){a1.call(this,"Raw Photopea","rawpea");this.ds=null;
this.bf=null;this.body.style.padding="0";var w=this.ET=new kg["Adobe Camera Raw Filter"](!0),I="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(w.m);this.lU=new es([1,0],!0,null,!0);this.lU.h("click",this.cf,this);this.R9=new es(I+" JPG",!0,null,!0);
this.R9.h("click",this.aoc,this);this.R9.m.style.marginTop="6px";w._Y(this.lU.m);w._Y(this.R9.m)}c$.prototype=new a1;
c$.prototype.GN=function(){return new a5(0,0)};c$.prototype.hi=function(w,I){this.ET.hi(w,I)};c$.prototype.f=function(){a1.prototype.f.call(this);
this.ET.f()};c$.prototype.aoc=function(w){var I=this.ds,E=this.bf,X=gt.FB("JPG").v6([[this.ET.Q(!0).buffer]],E.kZ,E.ik,[85]),o=new e9(W.E.Z,!0);
o.data={d:W.t.Ty,data:X,name:"photo.jpg"};this.c(o)};c$.prototype.cf=function(w){var I=this.ds,E=this.bf,X=fT.jd(I),I={WG:new dC(0,0,E.kZ,E.ik),data:this.ET.Q(!0).buffer,cl:X},o=gt.cV("Raw Photo",[I]),i=new e9(W.E.Z,!0);
i.data={d:W.t.aR,gt:o};this.c(i);this.Eq();this.close()};c$.prototype.Eq=function(){this.ds=null;this.bf=null;
this.ET.acs()};c$.prototype.tM=function(w,I,E,X){this.ds=I.L9;var o=this.bf=Q.raw.a2U(this.ds),i=Q.raw.a2O(I.L9),h=jI.t6(i);
Q.raw.Bz(o.Fr,o.Fr,I.L9,[h.Y$,h.ry]);var k=gD.SX("Adobe Camera Raw Filter");this.ET.B(k,o.Fr,new dC(0,0,o.kZ,o.ik))};
function ch(w){a1.call(this,w?[11,11,0]:[11,11,1],w?"vbitmap":"rcolors");this.q1=null;this.r$=null;this.AN=null;
this.XZ=null;this.lR=null;this.apV=null;this.yX=null;this.cd="";this.B8=w;this.JU=this.qF.bind(this);
this.gn=!1;this.body.style.padding="0";this.ae=O.S("div","form hbar padded");this.body.appendChild(this.ae);
var I=this.RU={cnum:new ic([12,82],2,50,null),nois:new em([12,81]),mode:new b4(null,["Cartoon","Photo"]),segm:new em("Segmentize"),poly:new em("Polygon"),merg:new em("Merge colors"),polE:new ic("Roughness",2,30,null),dthr:new em([12,23,3]),ok:O.Ju(this,null,!1)},i=16;
for(var E in I){var X=I[E];X.parent=this;if(E!="ok")X.h(W.E.r,this.qF,this)}var o=this.Rp=O.S("div","flexrow");
this.body.appendChild(o);o.setAttribute("style","background-color:var(--bg-canvas)");this.jU=new hB;
this.jU.h("viewchange",this.QI,this);this.kB=new hB;this.U=O.S("canvas");this.U.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.vu=this.U.getContext("2d");var h=Q.$(16*16*4);Q.VI(h,i,i,8);this.A5=Q.scale.Ho(h,i,i);this.jU.a48(this.U);
this.jU.BF(this.kB);this.kB.BF(this.jU);o.appendChild(this.jU.m);if(w)o.appendChild(this.U);else o.appendChild(this.kB.m)}ch.prototype=new a1;
ch.prototype.GN=function(){return new a5(0,0)};ch.prototype.wN=function(){return!0};ch.prototype.hi=function(w,I){this.LQ=w;
this.Ns=I;I=I-44;if(w<600)I-=29;if(this.q1==null)return;var E=this.q1.WG,X=az.aac(w,I,E.q,E.w);if(X==1)I-=3;
if(X==0){w=Math.floor(w/2);O.vK(this.Rp,"flexrow")}else{I=Math.floor(I/2);O.yo(this.Rp,"flexrow")}O.c_(this.U,w,I);
this.jU.hi(w,I);if(this.B8)this.QI();else this.kB.hi(w,I)};ch.prototype.oH=function(w,I,E,X){this.jU.oH(X)};
ch.prototype.f=function(){a1.prototype.f.call(this);for(var w in this.RU)this.RU[w].f()};ch.prototype.tM=function(w,I){this.yX=w;
this.lR=null;var E=w.b[w.g[0]],X=Q.wE.d9(E.buffer.buffer,E.rect.q,E.rect.w).a3b,o=X/((E.rect.q-2)*(E.rect.w-2)),i=this.RU;
i.cnum.B(20);i.nois.B(o<.75);i.mode.B(o<.75?1:0);i.segm.B(!1);i.poly.B(!1);i.merg.B(!0);i.polE.B(1);
i.dthr.B(!1);var h=E.rect.clone();h.x=h.y=0;this.q1={WG:h,data:E.buffer.buffer.slice(0)};this.r$=null;
this.hi(this.LQ,this.Ns);this.jU.B([this.q1]);this.jU.Xv();this.gn=!0;setTimeout(this.JU,20)};ch.prototype.qF=function(){var w=!0,I=Date.now(),E=this.q1,X=this.RU,o=X.cnum.Q(),i=X.nois.Q(),h=X.mode.Q(),k=X.segm.Q(),x=X.poly.Q(),j=X.merg.Q(),v=X.polE.Q(),p=null;
if(h==0)k=x=!1;var _=X.dthr.Q(),L=["cnum","nois","mode"];if(h==1){L.push("segm");if(this.B8){L.push("poly");
if(x)L.push("polE")}}if(this.B8)L.push("merg");else L.push("dthr");L.push("ok");O.wO(this.ae);for(var P=0;
P<L.length;P++)this.ae.appendChild(X[L[P]].m);if(w)console.log("---------------------------------------");
var U=i||k,n=i+","+k;if(U&&(this.r$==null||this.cd!=n)){this.cd=n;var a=new Uint8Array(E.data),T=E.WG.q,g=E.WG.w;
if(i){if(this.lR==null){this.lR=a.slice(0);Q.rc.g9(this.lR,this.lR,T,g,15,Q.rc.Xm,[35]);if(w){console.log("denoise",Date.now()-I);
I=Date.now()}}a=this.lR.slice(0)}else a=a.slice(0);if(k){var D=Q.wE.$Y(a,T,g,40,10),b=D.Q2,N=new Uint8Array(b*4);
for(var P=0;P<b;P++){var C=P*4,Z=P*6,S=1/D.m2[Z+5];N[C]=D.m2[Z]*S;N[C+1]=D.m2[Z+1]*S;N[C+2]=D.m2[Z+2]*S}for(var P=0;
P<a.length;P+=4){var u=D.HE[P>>>2]*4;a[P]=N[u];a[P+1]=N[u+1];a[P+2]=N[u+2]}if(w){console.log("segm",Date.now()-I);
I=Date.now()}}this.r$={WG:E.WG.clone(),data:a.buffer}}if(U)E=this.r$;var a=new Uint8Array(E.data),T=E.WG.q,g=E.WG.w;
for(var P=0;P<a.length;P+=4){if(a[P+3]<10)a[P]=a[P+1]=a[P+2]=a[P+3]=0}if(h==0){p=Q.wE.a4L(a,T,g,o,U?.1:2e-4);
if(w){console.log("quantize",Date.now()-I);I=Date.now()}}if(h!=0||p&&p.y_.length<2){p=c8.a9K(a.buffer,o,T,g)}if(this.B8){var f=p.HE.slice(0);
for(var P=0;P<f.length;P++)f[P]++;var d=new Uint8Array((T+2)*(g+2));Q.b_(f,new dC(1,1,T,g),d,new dC(0,0,T+2,g+2));
if(!x){var l=Math.round((T+2)*(g+2)/1e4),A=a3.n5(d.slice(0),T+2,g+2,Math.min(12,l)),B=a3.cm(A);if(w){console.log("trace smooth",Date.now()-I);
I=Date.now()}}else{var B=Q.p.nG(d,T+2,g+2,v,w)}var e=B.length,m=new am(1,0,0,1,-1,-1);for(var P=0;P<e;
P++)Q.p.F(B[P].path.C,m,B[P].path.C);this.XZ=B;this.AN=p;for(var P=0;P<e;P++){var $=B[P];for(var V=P+1;
V<e;V++){var H=B[V];if(H.parent==P&&p.y_[H.color-1].est.q[3]<.05){var F=H.path.J.slice(1);F.reverse();
F=["M"].concat(F);var G=[],A=H.path.C.length;for(var J=0;J<A;J+=2){G[J]=H.path.C[A-2-J];G[J+1]=H.path.C[A-2-J+1]}Q.p.concat($.path,{C:G,J:F})}}}if(w){console.log("finding holes",Date.now()-I);
I=Date.now()}for(var P=0;P<B.length;P++){var c=B[P];if(c.parent!=-1){var r=B[c.parent];c.parent=r;if(r.hY==null)r.hY=[];
r.hY.push(c)}c.depth=c.parent==-1?0:c.parent.depth+1}if(j){function s(hC,ax){var j5={},ed=0,jn=0;for(var P=0;
P<hC.length;P++){var y=hC[P].color,J="c"+y;if(y==ax)throw y;if(j5[J]==null)j5[J]=0;j5[J]++;if(j5[J]>ed){ed=j5[J];
jn=y}}return jn}var z=[],Y=[],ax=-1,iW=!0;for(var P=0;P<B.length;P++)if(B[P].parent==-1)Y.push(B[P]);
while(Y.length!=0){var y=s(Y,ax);ax=y;for(var P=0;P<Y.length;P++)if(Y[P].color==y){var hm=Y[P];z.push(hm);
Y.splice(P,1);P--;if(hm.hY)for(var V=0;V<hm.hY.length;V++){Y.push(hm.hY[V]);if(hm.hY[V].color!=y)iW=!1}}}if(iW)B=z;
else{var t=[];for(var cT=0;cT<500;cT++){var c4=[],A=t[cT-1];t.push(c4);for(var P=0;P<B.length;P++){var c=B[P],r=c.parent;
if(cT==0&&r==-1||cT!=0&&A.indexOf(r)!=-1){c4.push(c);B.splice(P,1);P--}}c4.sort(function(hC,j5){return hC.color-j5.color});
if(B.length==0)break}for(var P=0;P<t.length;P++)B=B.concat(t[P])}}else{var z=[],kv=[];while(B.length!=0){kv.push(B.shift());
while(kv.length!=0){var iL=kv.pop();z.push(iL);if(iL.hY)for(var P=0;P<iL.hY.length;P++){var c=iL.hY[P];
B.splice(B.indexOf(c),1);kv.push(c)}}}B=z}this.XZ=B;for(var P=0;P<B.length;P++){var $=B[P],cr=p.y_[$.color-1].est.q;
if(cr[3]<=.05){B.splice(P,1);P--;continue}}for(var P=1;P<B.length;P++){var ga=B[P-1],$=B[P];if(ga.color==$.color&&(j||ga.parent==$.parent&&ga.depth>=2)){Q.p.concat(ga.path,$.path);
B.splice(P,1);P--;continue}}if(w){console.log("reordering layers",Date.now()-I,e,B.length);I=Date.now()}this.QI()}else{var iq=new Uint32Array(T*g),ei=T*g;
if(_){var hw=[];for(var P=0;P<p.y_.length;P++)hw.push(p.y_[P].est.rgba);var u=Q.$(T*g);UPNG.encode.dither(new Uint8Array(E.data),T,g,hw,new Uint8Array(iq.buffer),u)}else{for(var P=0;
P<ei;P++){var y=p.y_[p.HE[P]];iq[P]=y.est.rgba}}this.apV=new Uint8Array(iq.buffer);this.kB.B([{WG:E.WG,data:iq.buffer}]);
if(this.gn){this.kB.Xv();this.gn=!1}}};ch.prototype.QI=function(w){if(this.XZ==null)return;var I=this.q1.WG.q,E=this.q1.WG.w,X=this.XZ,o=this.AN.y_,i=this.U,h=this.vu,k=this.jU.IG();
h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,i.width,i.height);h.translate(i.width/2,i.height/2);h.scale(k.T,k.T);
h.translate(k.z.x/k.T-I/2,k.z.y/k.T-E/2);h.scale(1/k.T,1/k.T);h.fillStyle=this.A5;h.fillRect(0,0,I*k.T,E*k.T);
h.scale(k.T,k.T);var x=[];for(var P=0;P<o.length;P++){var j=o[P].est.q;x.push({o:Math.round(255*j[0]),P:Math.round(255*j[1]),L:Math.round(255*j[2]),lV:Math.round(255*j[3])})}for(var P=0;
P<X.length;P++){var v=X[P],j=x[v.color-1];if(j.lV==0)continue;h.fillStyle="rgba("+j.o+","+j.P+","+j.L+","+j.lV/255+")";
h.beginPath();Typr.U.pathToContext({crds:v.path.C,cmds:v.path.J},h);h.fill()}};ch.prototype.cf=function(w){var I=this.yX,E=I.g[0],X=I.b[E],o=new e9(W.E.s,!0);
o.IY=!0;o.G=q.Qd;if(this.B8){var i=this.XZ,h=i.length==1,k=I.b.slice(0,E);if(!h)k.push(I.Rf());for(var P=0;
P<i.length;P++){var x=i[P],j=this.AN.y_[x.color-1].est.q;Q.p.F(x.path.C,new am(1,0,0,1,X.rect.x,X.rect.y),x.path.C);
var v=I.XY();v.G_("Path "+P);k.push(v);v.opacity=Math.round(j[3]*255);v.Bo|=16;v.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.Ex({o:255*j[0],P:255*j[1],L:255*j[2]})}};
v.add.vmsk=new K.DN;v.add.vstk=JSON.parse(JSON.stringify(hL.Oq.default));v.add.vmsk.j=Q.p.PY(x.path,!1);
v.add.vogk=[];v.QQ();v.kH(I)}var _=k[k.length-1];if(!h){var v=I.XY();v.G_(X.getName());v.add.lsct=gs.Y_;
v.$B="pass";v.Bo=24;k.push(v);_=v}var L=X.add.lmfx;if(L)_.add.lmfx=JSON.parse(JSON.stringify(L));for(var P=E+1;
P<I.b.length;P++)k.push(I.b[P]);o.data={d:K.VK,gz:k,bo:[E+i.length+(h?-1:1)],Wj:[11,11,0]}}else{var k=I.b.slice(0),v=I.XY();
v.G_(X.getName());k.splice(I.g[0]+1,0,v);v.rect=X.rect.clone();v.buffer=this.apV;v.M();o.data={d:K.VK,gz:k,bo:[I.g[0]+1],Wj:[11,11,1]}}this.c(o);
this.close()};function az(w){a1.call(this,[[7,11],[7,13]][w],["redge","magiccut"][w]);this.KT=w;this.q1={};
this.Y0=null;this.Ff=null;this.yX=null;this.Ds=null;this.YK=null;this.body.style.padding="0";this.ES=[];
this.Gw=-1;this.ae=O.S("div","form hbar padded");this.body.appendChild(this.ae);this.KN=new ix;this.KN.parent=this;
this.KN.h(W.E.r,this.HH,this);this.ae.appendChild(this.KN.m);var I=w==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
I=I.concat("tools/hand","zoomIn","zoomOut");var E=w==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.rB=new fr(null,I,E,28);this.rB.h(W.E.r,this.oH,this);this.ae.appendChild(this.rB.m);this.Wp=new ic([7,9],0,50,null);
this.Wp.parent=this;this.Wp.h(W.E.r,[this.ap5,this.qF][w],this);this.ae.appendChild(this.Wp.m);var X=this.ajn=new es([2,2],!1,null,!0);
X.h("click",this.Eq,this);this.ae.appendChild(X.m);var o=this.M5=O.S("span","form");this.ae.appendChild(o);
var i=this.a8O=new es([12,90],!1,null,!0);i.h("click",function(x){alert(w==0?df.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
o.appendChild(i.m);var h=new es("Tutorial",!1,null,!0);h.h("click",this.alp,this);o.appendChild(h.m);
this.pP=new fr([12,46],["checker","#ffffff","#000000"]);this.pP.h(W.E.r,this.amo,this);o.appendChild(this.pP.m);
this.TN=new b4(null,[[6,13],[6,2],[17,2]]);o.appendChild(this.TN.m);this.lU=O.Ju(this,o,!1);var k=this.Rp=O.S("div","flexrow");
this.body.appendChild(k);this.H5=new hB(!0);this.bs=new hB;this.H5.BF(this.bs);this.bs.BF(this.H5);this.H5.h("mousedown",this.ME,this);
this.H5.h("mousemove",this._S,this);this.H5.h("mouseup",this.wz,this);this.H5.h("zoom",this.HH,this);
this.bs.h("zoom",this.HH,this);k.appendChild(this.H5.m);k.appendChild(this.bs.m)}az.prototype=new a1;
az.prototype.mV=function(w,I){var E=w!=null&&!w.b[w.g[0]].rect.qo();if(!E)alert("The layer is empty.");
return E};az.prototype.GN=function(){return new a5(0,0)};az.prototype.wN=function(){return!0};az.prototype.hi=function(w,I){this.LQ=w;
this.Ns=I;I=I-12-33;if(w<900){this.M5.setAttribute("style","display:block;  text-align:right;");I-=29}else{this.M5.setAttribute("style","position:absolute;  right:0px")}this.pP.vw(w<440?null:[12,46]);
this.Wp.vw(w<470?null:[7,9]);var E=this.q1.rect;if(E){var X=az.aac(w,I,E.q,E.w);if(X==0){w=Math.floor(w/2);
O.vK(this.Rp,"flexrow")}else{I=Math.floor(I/2);O.yo(this.Rp,"flexrow")}this.H5.hi(w,I);this.bs.hi(w,I)}};
az.aac=function(w,I,E,X){var o=w/2,i=I/2,h=Math.min(o/E,I/X),k=Math.min(w/E,i/X);return h>k?0:1};az.prototype.f=function(){a1.prototype.f.call(this);
this.KN.f();this.Wp.f();this.lU.f();this.pP.f();this.TN.f();this.ajn.f();this.a8O.f()};az.prototype.alp=function(w){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.KT],"_blank")};
az.prototype.eU=function(w,I){this.Ff=w;if(I==ik.nz||I==ik.Vk){this.KN.Kn(w.uO);this.KN.B(j8.YU(),w.uO.Ar,w.uO.a6)}};
az.prototype.oH=function(w,I,E,X){var o=this.rB.Q();if(X==null){this.H5.oH(hB.af_(o-3));return}this.Ds=X;
var i=q.Og.Zu(this.KN.Q(),X);if(i!=null){this.KN.B(i);this.HH()}else if(X.Y(aW.iu)&&X.Y(aW.lW)){var h=this.ES,k=0;
if(X.Y(aW.mG)){if(this.Gw+1<h.length)k=1}else if(this.Gw>0)k=-1;if(k!=0){this.Gw+=k;var x=this.Gw,j=this.q1;
if(k==1)Q.D6(h[x][2],h[x][0],j.Ow,j.rect);else Q.D6(h[x+1][1],h[x+1][0],j.Ow,j.rect);j.UQ=j.rect;this.qF()}}else if(o<3)this.H5.oH(X)};
az.prototype.X8=function(w){var I=this.q1,E=this.ES,X=Q.$(w.A()*4);Q.D6(I.Zy,I.rect,X,w);I.Zy=null;var o=Q.$(w.A()*4);
Q.D6(I.Ow,I.rect,o,w);this.Gw++;E[this.Gw]=[w.clone(),X,o];while(E.length>this.Gw+1)E.pop();while(E.length>50){E=E.slice(1);
this.Gw--}};az.prototype.HH=function(){var w=this.Ff,I=cn.AB(this.KN.Q(),w.uO.Ar,this.H5.IG().T);this.H5.EC(I)};
az.prototype.ME=function(w){var I=this.Ff,E=this.q1,X=this.Ds,o=this.KN.Q(),i=this.H5.oz(),h=[16777215,8421504,0][this.rB.Q()];
this.Y0=new cn(o,I.uO.Ar,I.uO.a6,{j9:1,Hn:!0},h,I.Mw,E.rect);E.Zy=E.Ow.slice(0);if(X!=null&&X.Y(aW.mG)&&this.YK){this.Y0.moveTo(this.YK.x,this.YK.y);
this.Y0.lineTo(i.x,i.y)}else this.Y0.moveTo(i.x,i.y);this.axf()};az.prototype._S=function(w){var I=this.q1,E=this.H5.oz();
this.Y0.lineTo(E.x,E.y);this.axf()};az.prototype.wz=function(w){this.YK=this.H5.oz();this.X8(this.Y0.Iz());
this.qF()};az.prototype.axf=function(){var w=this.q1,I=this.Y0,E=I.kT();if(E.qo())return;w.UQ=E;Q.e.gF("norm",I.d_(),I.eB(),w.Ow,w.rect,E,1);
this.atz()};az.prototype.Eq=function(w){var I=this.q1;I.Zy=I.Ow.slice(0);I.UQ=I.rect;Q.Ez(I.Ow,[4278190080,4292730333][this.KT]);
this.X8(I.rect);this.qF()};az.prototype.tM=function(w,I){this.yX=w;var E=w.b[w.g[0]],X=E.rect.clone(),o=X.q,i=X.w;
this.Wp.B(this.KT==0?3:o*i<3e6?3:0);this.rB.B(w.n==null?0:1);this.Wp.RX();if(this.KT==0&&w.n!=null||this.KT==1)this.Wp.GR();
var h=this.KT,k=Q.$(X.A()),x=new Float32Array(X.A());if(h==0&&w.n){Q.b_(w.n.channel,w.n.rect,k,X);var j=Q.$(X.A());
for(var v=0;v<i;v++)for(var _=0;_<o;_++){var P=v*o+_,L=k[P];if(_>0&&k[P-1]!=L||_<o-1&&k[P+1]!=L||v>0&&k[P-o]!=L||v<i-1&&k[P+o]!=L)j[P]=255}Q.style.ZZ(j,x,o,i)}else x.fill(1e9);
X.x=X.y=0;this.q1={rect:X,Fr:E.buffer,KC:k,ms:x,h6:Q.$(X.A()*4),f_:Q.$(X.A()*4),Ow:Q.$(X.A()*4),Zy:null,w_:null,UQ:X,a0_:{}};
if(h==0)this.ap5();else{this.q1.a0_=q.JM.a6s(w);var U=this.q1.Ow;Q.Ez(U,4287137928);var n=Q.v0.getSelection(E.buffer,o,i),a=Math.round(o/60),T=Math.round(.7*i);
for(var v=0;v<i;v++)for(var _=0;_<o;_++){var g=(v*o+_)*4,D=n[g>>>2];D=D>128?255:128;if(v<a||v<T&&(_<a||_>o-1-a))D=0;
U[g]=U[g+1]=U[g+2]=D}this.qF()}this.ES=[1];this.Gw=0;var b=this.KN.Q();b.Brsh.v.Dmtr.v.val=Math.round(X.q/(h==0?10:20));
this.KN.B(b);this.HH();this.hi(this.LQ,this.Ns);this.H5.Xv()};az.prototype.ap5=function(){var w=this.q1,I=w.rect.A(),E=this.Wp.Q(),X=w.KC.slice(0);
for(var P=0;P<I;P++)if(w.ms[P]<E)X[P]=128;Q.Ez(w.Ow,4294967295);Q.lJ(X,w.Ow,0);Q.lJ(X,w.Ow,1);Q.lJ(X,w.Ow,2);
w.UQ=w.rect;this.qF()};az.prototype.qF=function(){var w=this.q1,o,k,x=0,j=0,v=0;this.atz();var I=w.rect,E=I.q,X=I.w,i=Q.$(I.A()),h=w.Fr;
Q.qe(w.Ow,i,0);for(var P=0;P<i.length;P++){if(h[(P<<2)+3]!=255)continue;var _=i[P];if(_==0)x++;else if(_==255)j++;
else v++}if(x*j*v!=0){if(this.KT==0)k=Q.lu.lu(I,h,i);else{var L=this.rB.Q();for(var U=1;U<X;U++)for(var n=1;
n<E;n++){var P=U*E+n,a=i[P],T=i[P-1];if(a==0&&T==255||a==255&&T==0){o="The Red and Green should never touch! Erase it with Grey.";
break}}var g=Date.now(),D=this.q1.a0_;Q.QM(i,D.Rd);q.JM.Jp(D,!0);var b=Math.ceil(this.Wp.Q()/2);if(b==0){k=h.slice(0);
Q.lJ(D.n,k,3)}else{var N=D.n.slice(0),C=D.n.slice(0);for(var Z=0;Z<b;Z++){for(var U=1;U<X-1;U++)for(var n=1;
n<E-1;n++){var P=U*I.q+n,S=N[P];if(N[P-E]!=S||N[P-1]!=S||N[P+1]!=S||N[P+E]!=S)C[P]=128;else C[P]=S}var u=N;
N=C;C=u}k=Q.lu.lu(I,h,N,20,!1)}}}else{k=h.slice(0);Q.lJ(i,k,3)}for(var P=3;P<k.length;P+=4)if(k[P]>h[P])k[P]=h[P];
if(I.ZQ(w.rect))w.w_=k;else Q.D6(k,I,w.w_,w.rect);this.amo();if(o)alert(o,4e3)};az.prototype.atz=function(w){var I=this.q1,E=I.UQ;
Q.D6(I.Fr,I.rect,I.h6,I.rect,E,!0);var X=I.Ow;if(this.KT==1){var o=new Uint32Array(256);o[0]=4278190335;
o[255]=4278255360;var i=I.rect.A();X=X.slice(0);var h=new Uint32Array(X.buffer);for(var P=0;P<i;P+=2){h[P]=o[h[P]&255];
h[P+1]=o[h[P+1]&255]}}Q.e.gF("norm",X,I.rect,I.h6,I.rect,E,.3);this.H5.B([{WG:I.rect,data:I.h6.buffer}])};
az.prototype.amo=function(w){var I=this.q1;Q.Ez(I.f_,[0,4294967295,4278190080][this.pP.Q()]);Q.e.gF("norm",I.w_,I.rect,I.f_,I.rect,I.rect,1);
this.bs.B([{WG:I.rect,data:I.f_.buffer}])};az.prototype.cf=function(w){var I=this.yX,E=this.q1,X=this.TN.Q(),o=I.b[I.g[0]],i=new e9(W.E.s,!0);
i.IY=!0;var h=o.rect.clone();if(X==0&&o.TH()||X!=0&&!o.TH()){i.G=q.Qd;i.data={d:K.v8,l:I.g[0]};this.c(i)}if(I.n!=null){i.G=q.UE;
i.data={d:"fromAction",Le:q.mc.FG()};this.c(i)}if(X==0){var k=I.b.slice(0),x=I.XY();x.G_(o.getName());
k.splice(I.g[0]+1,0,x);x.rect=h;x.buffer=E.w_;x.M();i.G=q.Qd;i.data={d:K.VK,gz:k,bo:[I.g[0]+1],Wj:[7,11]};
this.c(i)}if(X==1){var j=o.pi();i.G=q.Qd;i.data={d:K.qh,awG:!0};this.c(i);var v=o.pi();v.channel=Q.$(h.A());
v.rect=h;v.color=0;v.$o=!0;Q.qe(E.w_,v.channel,3);if(j){var _=v.og(j);v.rect=_.rect;v.channel=_.channel;
v.color=_.color}v.G1();o.kH()}if(X==2){var L={rect:h,channel:Q.$(h.A())};Q.qe(E.w_,L.channel,3);i.G=q.UE;
i.data={d:"setsel",n:L,Wj:this.Nk};this.c(i)}this.close()};function fU(){a1.call(this,[1,13],"locstor");
this.m6=null;this.Et=[];var w=this.body,I=O.S("p");I.textContent="These files are loaded every time you start Photopea.";
w.appendChild(I);this.aae=0;this.re=O.S("span");w.appendChild(this.re);this.re.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var E=O.S("span","form");w.appendChild(E);this.uK=new es([5,4],!1,null,!0);this.uK.h("click",this.ma,this);
E.appendChild(this.uK.m);this.as7=new es("Get all as ZIP",!1,null,!0);this.as7.h("click",this.I2,this);
E.appendChild(this.as7.m);this.Cw=new aC(!0);this.Cw.parent=this;this.Cw.xy(1);w.appendChild(this.Cw.m);
this.Cw.m.setAttribute("style","width: 40em; height: 25em")}fU.prototype=new a1;fU.prototype.f=function(){a1.prototype.f.call(this);
this.re.textContent=df.get([13,2])+": "+eP.WH(this.aae);this.uK.f()};fU.prototype.eU=function(w,I){this.m6=w;
if(I==ik.kn)this.tM()};fU.prototype.tM=function(w,I){var E=this.m6.PB.nS,x=0;this.Et=[];for(var X in E)this.Et.push(X);
this.Et.sort(function(v,_){v=v.split(".");_=_.split(".");return v[1]==_[1]?v[0]<_[0]?-1:1:v[1]<_[1]?-1:1});
var o=Math.floor(100*O.V()),i=Math.floor(16*O.V()),h=[],k=[];for(var P=0;P<this.Et.length;P++){var X=this.Et[P],j=fU.e6(X,E[X],o,i);
h.push(j);k.push(X);x+=E[X].byteLength}this.Cw.fg(h,k,o,i);this.aae=x;this.f()};fU.prototype.ma=function(w){var I=this.Cw.Q();
if(I.length==0){alert("Select a file first.");return}this.Cw.B([]);var E=this.m6.PB.nS;for(var P=0;P<I.length;
P++)delete E[this.Et[I[P]]];var X=new e9(W.E.Z,!0);X.data={d:W.t.e1,GT:ik.kn};this.c(X)};fU.prototype.I2=function(w){var I=this.m6.PB.nS,E={};
for(var X in I)E[X]=new Uint8Array(I[X]);var o=UZIP.encode(E);jb.save(o,"resources.zip")};fU.e6=function(w,I,E,X){var o=O.S("canvas"),k=0;
o.width=E;o.height=X;var i=o.getContext("2d"),h=w.split(".").pop().toLowerCase();for(var P=0;P<h.length;
P++)k+=h.charCodeAt(P)*613<<8*P;i.fillStyle="#"+Q.mv(k&16777215);i.fillRect(0,0,20,X);var x=Math.floor(14*O.V());
i.fillStyle="#000000";i.font="bold "+x+"px sans-serif";var j=(X-x)/2,v=eP.WH(I.byteLength),_=i.measureText(v);
i.fillText(v,E-12-_.width,X-j);return o.toDataURL()};function fn(){a1.call(this,[1,15],"pmanager");this.m6=null;
this.Tt=new b4([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.Tt.h(W.E.r,this.tM,this);
this.body.appendChild(this.Tt.m);var w=O.S("div","flexrow");this.body.appendChild(w);var I=this.a4$=O.S("div");
w.appendChild(I);var E=O.S("div","form");w.appendChild(E);E.setAttribute("style","width:140px; margin-left:12px");
this.a8n=[ik.nz,ik.x6,ik.cc,ik.uH,ik.EO,ik.ti];this.AJ=[new ix,new b2,new gw,new ae,new iy,new iM];for(var P=0;
P<this.AJ.length;P++)this.AJ[P].parent=this;this.K1=[];for(var P=0;P<4;P++){var X=new es("Hello",!0,null,!0);
X.h("click",this.vq,this);this.K1.push(X);E.appendChild(X.m)}this.tM()}fn.prototype=new a1;fn.prototype.Uo=function(w){return w==aW.Ur||w==aW.jY};
fn.prototype.vq=function(w){var P=this.K1.indexOf(w.target);this.AJ[this.Tt.Q()].Q$(P)};fn.prototype.f=function(){a1.prototype.f.call(this);
this.Tt.f();for(var P=0;P<this.AJ.length;P++)this.AJ[P].f();var w=this.K1,I=this.Tt.Q(),E=ik._f[this.a8n[I]],X=E[0].toUpperCase();
w[0].vw([[23,6],"."+X]);w[1].vw(["VAR0 ."+X,[1,8]]);w[2].vw([6,37]);w[3].vw([5,4])};fn.prototype.eU=function(w,I){this.m6=w;
this.tM()};fn.prototype.tM=function(w,I){if(!O.NJ(this.m))return;this.f();O.wO(this.a4$);this.a4$.appendChild(this.AJ[this.Tt.Q()].aP);
var E=this.AJ,X=this.m6;if(X==null)return;E[0].Kn(X.uO);E[1].y7(X.Ht,X.Mw);E[1].Kn(X.pv);E[2].Kn(X.IK);
E[3].Kn([X.OG,X.IK]);E[4].Kn(X.V9);E[5].Kn(X.Hj)};function aI(w,I,E){a1.call(this,I,"cwindow");this.av4=new a5(E[0],E[1]-33);
this.ae=O.S("div","form");this.ae.setAttribute("style","width:"+(E[2]-E[0])+"px; height:"+(E[3]-E[1])+"px");
this.body.appendChild(this.ae)}aI.prototype=new a1;aI.prototype.GN=function(w,I){return this.av4.clone()};
function ig(w){var I=ig.a2e(w);a1.call(this,I,"res"+w);var E=this.amP.bind(this);window.addEventListener("message",function(o){if(typeof o.data=="string"&&o.data.startsWith("--et ")){console.log(o.data);
var i=this.am1=o.data.slice(5).split(",");i[0]=parseFloat(i[0]);bh.W3(i[0],i[1],E)}}.bind(this));this.XN=I;
this.Wk=w;this.aw0=null;this.Wa=null;this.V2=0;this.yE=null;this.ap=null;this.am1=null;this.m6=null;
this.body.setAttribute("style","padding:0");this.Cp=new es("",null,null,!0);this.body.appendChild(this.Cp.m);
this.Cp.h("click",this._l,this);this.Cp.m.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.sN=O.S("span","form");this.body.appendChild(this.sN);this.sN.setAttribute("style","position:absolute; margin-top: -31px;  margin-left:270px");
this.K1=[];for(var P=0;P<9;P++){var X=new es(ig.a2e(P));this.K1.push(X);if(P==w)X.B(!0);this.sN.appendChild(X.m);
X.h("click",this.amt,this)}this.ol=new es([5,3],null,null,!0);this.ol.h("click",this.afm,this);this.a02=new es("Upload Current Document as a Template",null,null,!0);
this.a02.h("click",this.a8g,this);this.Q_=new aR("Creator / Brand name");this.Ob=new es([1,2],null,null,!0);
this.Ob.h("click",this.am_,this);this.O1=O.S("iframe","scrollable");this.O1.setAttribute("style","border:none; margin:0; padding:0;");
this.Xp=O.S("div","form scrollable padded");this.dR=new dv(w);this.dR.h("back",this.Eq,this);this.dR.h("save",this.auV,this);
this.body.appendChild(this.O1)}ig.prototype=new a1;ig.a2e=function(w){var I;if(w==0)I=[25,0];else if(w==1)I="Plugins";
else for(var E in ik._f)if(ik._f[E][4]==w)I=ik._f[E][3];return I};ig.prototype.amt=function(w){this.close();
var P=this.K1.indexOf(w.target),I=new e9(W.E.Z,!0);I.data={d:W.t.GV,ei:"res"+P};this.c(I)};ig.prototype.amP=function(w){this._l();
this.ap=JSON.parse(w.target.response);this.V4()};ig.prototype.am_=function(w){var I=bh.sf();if(I.tpl==null)I.tpl={};
I.tpl.brnd=this.Q_.Q().trim();bh.N1(I,function(){alert("Saved.")})};ig.prototype.GN=function(w,I){return new a5(0,0)};
ig.prototype.hi=function(w,I){this.LQ=w;this.Ns=I;this.Ke=null;I=I-4;w=w;var E=this.Xp;E.style.width=w-12+"px";
E.style.height=I-12+"px";var E=this.dR.m;E.style.width=w-12+"px";E.style.height=I-12+"px";var E=this.O1;
E.style.width=w+"px";E.style.height=I+"px";this.si()};ig.prototype.eU=function(w,I){this.m6=w};ig.prototype.f=function(){a1.prototype.f.call(this);
for(var P=0;P<this.K1.length;P++)this.K1[P].f();this.ol.f()};ig.prototype.tM=function(w,I,E,X){this.Ke=w;
this._l(null,!1)};ig.prototype._l=function(w,I){var E=I!=null?I:O.NJ(this.O1);if(E){if(!bh.ZP()){alert("You need to log in first!");
return}var X=bh.sf();this.Wa=X.tpl?X.tpl.list:[];this.Q_.B(X.tpl&&X.tpl.brnd?X.tpl.brnd:bh.kg().name);
this.si()}else{this.O1.setAttribute("src","");this.O1.setAttribute("src","templates/?type="+this.Wk+"&rsrc="+this.m6.VV.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(E?this.Xp:this.O1);var o=df.get(this.XN);this.Cp.vw(E?"All "+o:"Add "+o)};ig.prototype.si=function(){var w=df.get(this.XN),I=this.Wa,E=this.Wk,k=450;
if(I==null)return;var X=this.Xp;O.wO(X);var o=O.S("h1");X.appendChild(o);o.textContent="Share your "+w+" with the world!";
var i=O.S("ul");X.appendChild(i);var h=O.S("li");i.appendChild(h);h.textContent="By publishing your "+w+", you agree to let others use them for all kinds of purposes, even commercially.";
var h=O.S("li");if(E==0)i.appendChild(h);h.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
X.appendChild(this.ol.m);if(E==0)X.appendChild(this.a02.m);O.D2(X);X.appendChild(this.Q_.m);X.appendChild(this.Ob.m);
O.D2(X);k=(this.LQ-20)/Math.max(1,Math.floor(this.LQ/k))-42;var x="display:inline-block; width:"+k+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var P=I.length-1;P>=0;P--){var j=I[P];if(j.type==null)j.type=0;if(j.type!=E)continue;var v=O.S("div");
X.appendChild(v);v.setAttribute("style",x);var _=O.S("img");v.appendChild(_);_.setAttribute("src",j.thmb);
_.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var L=O.S("h3");v.appendChild(L);L.textContent=j.name;L.setAttribute("style","margin:0 0 10px 0");var U=O.S("p");
v.appendChild(U);U.textContent=j.desc;U.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var n=0;n<2;n++){var a=new es(n==0?"Edit":"Delete",null,null,!0);a.amw=P;a.V4=n==0;a.h("click",this.a1T,this);
v.appendChild(a.m)}}};ig.prototype.a8g=function(w){if(this.Ke==null){alert("No document opened.");return}var I=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!I)return;var E=new e9(W.E.Z,!0);E.data={d:W.t.bT,G$:"psd",nb:this.a5t.bind(this)};this.c(E)};ig.prototype.a5t=function(w){this.axa=w;
var I=new e9(W.E.Z,!0);I.data={d:W.t.bT,G$:"jpg",nb:this.aoR.bind(this),a7C:1400};this.c(I)};ig.prototype.aoR=function(w){this.yE={type:0,catg:0,desc:"",file:this.axa,name:this.Ke.name.split(".")[0],thmb:w,publ:!0,utme:""};
this.V4()};ig.prototype.afm=function(w){this.yE={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.V4()};ig.prototype.a1T=function(w){this.V2=w.target.amw;if(!w.target.V4){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.Wa.splice(this.V2,1);this.I2();this.si();return}this.V4()};ig.prototype.V4=function(){if(O.NJ(this.Xp))this.body.removeChild(this.Xp);
this.body.appendChild(this.dR.m);var w=this.yE?this.yE:this.ap?this.ap:this.Wa[this.V2];if(w.type==null)w.type=0;
this.dR.B(w)};ig.prototype.auV=function(w){var I=this.dR.Q();if(this.yE)this.Wa.push(I);else if(this.ap){var E=this.am1;
bh.W3(E[0],E[1],this.Eq.bind(this),JSON.stringify(I));return}else this.Wa[this.V2]=I;this.I2();this.Eq()};
ig.prototype.Eq=function(){var w=this.ap;this.yE=null;this.ap=null;this.body.removeChild(this.dR.m);
this.body.appendChild(this.Xp);this.si();if(w)this._l()};ig.prototype.I2=function(){var w=bh.sf();if(this.Wa.length==0)delete w.tpl;
else w.tpl={list:JSON.parse(JSON.stringify(this.Wa))};bh.N1(w,function(){alert("Saved.")})};function eZ(){a1.call(this,"Make Selection","makesel");
this.m6=null;var w=O.S("div","form");this.body.appendChild(w);this.TX=new em([12,25,1]);this.TX.B(!0);
w.appendChild(this.TX.m);O.D2(w);this.TP=new hI(!0);w.appendChild(this.TP.m);this.lU=O.Ju(this,this.body)}eZ.prototype=new a1;
eZ.prototype.f=function(){a1.prototype.f.call(this);this.TP.f();this.TX.f();this.lU.f()};eZ.prototype.cf=function(w){var I=new e9(W.E.s,!0);
I.G=q.UE;I.data={d:"frompath",hT:[null,0,this.TP.Q(),this.TX.Q()]};this.close();this.c(I)};function cS(){a1.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");
this.Ke=null;this.My=null;this._i=null;var w=this.alZ=O.S("div","form");w.setAttribute("style","width:20em");
this.body.appendChild(w);this.s3=new f$([12,50],["PSD","PSB"]);this.s3.h(W.E.r,this.Fm,this);w.appendChild(this.s3.m);
O.wU(w);var I=new gJ("Minify the file");w.appendChild(I.m);O.D2(w);var E=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.Mm=[];for(var P=0;P<E.length;P++){var X=new em(E[P]);this.Mm.push(X);w.appendChild(X.m);X.h(W.E.r,this.Fm,this)}O.wU(w);
this.Kk=new gJ("aa.psd");this.Pn=new gJ("10 kB");w.appendChild(this.Pn.m);this.ae$=new gJ("1000 B");
w.appendChild(this.ae$.m);this.lU=new es([1,2],!0,null,!0);this.lU.h("click",this.cf,this);w.appendChild(this.lU.m);
this.ro=new es(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.ro.h("click",this.cf,this);w.appendChild(this.ro.m);
this.h("closebtn",this.NB,this)}cS.prototype=new a1;cS.prototype.tM=function(w,I,E,X){var o=O.NJ(this.ro.m),i=w.FP!=null&&w.FP.V8=="psd";
if(i&&!o)this.alZ.appendChild(this.ro.m);if(!i&&o)this.alZ.removeChild(this.ro.m);for(var P=0;P<this.Mm.length;
P++)this.Mm[P].B(!1);this.Ke=w;this.Fm()};cS.prototype.cf=function(w){if(w.target==this.lU)jb.save(this.My,this._i);
else{if(this.Mm[3].Q()){alert("You should not save a ZIP as a PSD to Google Drive.");return}fc.akX(this.Ke,this.My)}};
cS.prototype.NB=function(){this.Ke=null;this.My=null};cS.prototype.Fm=function(){var w=this.Ke,I=[!1,!1,!1,!1];
for(var P=0;P<3;P++)I[P]=this.Mm[P].Q();var E=this.Mm[3].Q(),X=I[3]=this.s3.Q()==1,o=w.name.slice(0,w.name.length-3),i=this.My=gt.FB("PSD").v6(w,0,0,I),eS=this._i=o+"ps"+(X?"b":"d");
if(E){var h={};h[eS]=new Uint8Array(i);i=this.My=UZIP.encode(h);eS=this._i=o+"zip"}this.Kk.B(eS);this.Pn.B(eP.WH(i.byteLength));
this.Pn.m.style["font-size"]="2em";this.ae$.B(" \u2001 "+i.byteLength+" B");this.lU.vw(df.get([1,2])+" \""+eS+"\"")};
cS.prototype.f=function(){a1.prototype.f.call(this);this.s3.f();this.lU.f();this.ro.f()};function jp(){a1.call(this,"Confirm","confirm");
this.qu=null;var w=O.S("div","form");this.body.appendChild(w);this.k2=O.S("div");this.k2.textContent="Hello";
w.appendChild(this.k2);this.lU=O.Ju(this,w);w.appendChild(this.lU.m)}jp.prototype=new a1;jp.prototype.cf=function(w){this.qu();
this.close()};jp.prototype.tM=function(w,I){this.k2.textContent=I.k;this.qu=I.qu;this.lU.m.focus()};
jp.prototype.GN=function(w,I){return new a5(Math.max(0,(w-500)/2),Math.max(0,Math.min(60,(I-100)/2)))};
jp.prototype.hi=function(w,I){this.k2.style.width=w-30+"px"};function jx(){a1.call(this,[1,16,2],"newartb");
this.KT=0;this.Cx=null;var w=O.S("div","form");w.style.width="260px";this.body.appendChild(w);this.Cw=new hc;
w.appendChild(this.Cw.m);this.lU=O.Ju(this,w)}jx.prototype=new a1;jx.prototype.mV=function(w,I){return w!=null};
jx.prototype.cf=function(w){var I=this.Cw.Q();this.Cx.q=I.x;this.Cx.w=I.y;var E=new e9(W.E.s,!0);E.G=q.rF;
E.data={a0Y:this.Cx,Yr:this.KT};this.c(E);this.close()};jx.prototype.f=function(){a1.prototype.f.call(this);
this.Cw.f();this.lU.f()};jx.prototype.tM=function(w,I){this.KT=I.Yr;var E=new dC(0,0,w.q,w.w);if(w.g.length!=0){var X=w.b[w.g[0]];
if(X.add.artb){E=X.Z9();E.x+=E.q+100}if(I.Yr==1)E=q.R.eB(w)}this.Cx=E;this.Cw.B(new a5(E.q,E.w))};function at(){a1.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.cS=null;this.h("closebtn",this.T9,this);this.h("canclose",this.T9,this)}at.prototype=new a1;
at.prototype.eU=function(w,I){if(this.cS)this.cS.eU(w,I)};at.prototype.GN=function(w,I){return new a5(Math.max(0,Math.min(150,(w-980)/2)),Math.max(0,Math.min(150,(I-590)/2)))};
at.prototype.hi=function(w,I){this.LQ=w;this.Ns=I;w=Math.min(w,980);I=Math.min(I,590);if(this.cS)this.cS.hi(w,I)};
at.prototype.f=function(){a1.prototype.f.call(this);if(this.cS)this.cS.f()};at.prototype.tM=function(w,I,E,X){this.Nk=I.Yr==0?"Open from Storage":"Save to Storage";
this.f();if(this.cS==null){this.cS=new gB;this.cS.parent=this;this.body.appendChild(this.cS.m);this.f();
this.hi(this.LQ,this.Ns)}Storage.xy(I.Yr,w?w.name:"");gB.dJ(this.cS)};at.prototype.T9=function(w){Storage.xy(0);
gB.Sc();if(w.type=="canclose")this.close()};function f9(){a1.call(this,"Variables","varsdats");var w=this.ae=O.S("div","form");
w.setAttribute("style","width:300px");this.body.appendChild(w);this.Ke=null;this.Ko=0;this.n1=new f$(null,["Variables","Data Sets"]);
this.n1.h(W.E.r,this.agV,this);this.Yp=new f9.Ws;this.ow=new f9.wF;this.ow.h("activate",this.ss,this);
this.rX=new gJ([1,8]);var I=this.gf=O.S("div");I.appendChild(this.ow.vf.m);I.appendChild(this.rX.m);
this.Qc=new es("PNGs",!1,null,!0);this.Qc.h("click",this.Hr,this);I.appendChild(this.Qc.m);this.apg=new es("JPGs",!1,null,!0);
this.apg.h("click",this.Hr,this);I.appendChild(this.apg.m);this.lU=O.Ju(this,I)}f9.prototype=new a1;
f9.prototype.agV=function(w){var I=this.n1.Q(),E=this.ae;O.wO(E);E.appendChild(this.n1.m);E.appendChild(I==0?this.Yp.m:this.ow.m);
E.appendChild(this.gf)};f9.prototype.cf=function(w){var I=new e9(W.E.s,!0);I.G=q.Qd;I.data={d:K.Gb,k:JSON.stringify([this.Yp.Q(),this.ow.Q()])};
this.c(I);this.close()};f9.prototype.f=function(){a1.prototype.f.call(this);this.lU.f();this.rX.f()};
f9.prototype.tM=function(w,I){this.Ke=w;if(w==null)return;this.Yp.tM(w,I);this.ow.tM(w,I);this.n1.B(0);
this.agV();this.Ko=0};f9.prototype.Hr=function(w){var I=this.Yp.Q(),E=this.ow.Q();if(I.length==0){alert("There are no variables.");
return}if(E.length==0){alert("There are no data sets.");return}var X=gt.a8o(this.Ke,I,E,this.ow.ary(),w.target==this.Qc?"PNG":"JPG",this);
if(X!=null)jb.save(X,"images.zip")};f9.prototype.ss=function(w){var I=this.ow.g,E=this.Yp.Q(),X=this.ow.Q();
if(E.length==0){alert("There are no variables.");return}if(X.length==0){alert("There are no data sets.");
return}this.acw();this.Ko+=gt.M_(this.Ke,this,E,X,this.ow.ary(),I)};f9.prototype.acw=function(){var w=new e9(W.E.s,!0);
w.G=q.b9;w.data={d:"h_stepbck"};while(this.Ko>0){this.c(w);this.Ko--}};f9.wF=function(){cu.call(this);
this.r_=null;this.q5=[];this.g=0;var w=this.m=O.S("div","form");this.OS=O.S("div","scrollable");this.OS.setAttribute("style","overflow:scroll;  height:234px;");
w.appendChild(this.OS);this.S_=new gz("Import a CSV file");w.appendChild(this.S_.m);this.S_.h(W.E.r,this.ame,this);
this.vf=new gz("Source Images",!0);w.appendChild(this.vf.m)};f9.wF.prototype=new cu;f9.wF.prototype.ame=function(w){var I=this.S_.Q();
for(var E in I){I=I[E];break}this.r_=cg.fM(M.YV(I));this.xn()};f9.wF.prototype.ary=function(){return this.vf.Q()};
f9.wF.prototype.tM=function(w,I){var E=this.r_=JSON.parse(JSON.stringify(w.p2));this.xn()};f9.wF.prototype.Q=function(){return this.r_};
f9.wF.prototype.xn=function(){var w=this.NN.bind(this),I=this.r_,X="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.q5=[];var E=O.S("table");E.setAttribute("style","border-collapse: collapse;");for(var P=0;P<I.length;
P++){var o=O.S("tr"),i=I[P],h=P==0?"th":"td";E.appendChild(o);var k=O.S(h);o.appendChild(k);k.setAttribute("style",X+"cursor:pointer;");
if(P!=0)k.textContent="\u2713";this.q5.push(k);k.addEventListener("click",w,!1);for(var x=0;x<i.length;
x++){var k=O.S(h);k.textContent=i[x];o.appendChild(k);k.setAttribute("style",X);k.setAttribute("title",i[x])}}O.wO(this.OS);
this.OS.appendChild(E)};f9.wF.prototype.NN=function(w){this.g=this.q5.indexOf(w.currentTarget);this.c(new e9("activate"))};
f9.Ws=function(){cu.call(this);var w=this.m=O.S("div","form marged");this.JT=null;this.$r=[];this.ak=[];
this.bH=null;this.cI=new b4([0,3],[]);this.cI.h(W.E.r,this.aex,this);w.appendChild(this.cI.m);this.Wq=[];
var I=["Visibility","Text Content","Pixel Content"];for(var P=0;P<I.length;P++){O.wU(w);var E=new em(I[P]);
E.h(W.E.r,this.ZX,this);w.appendChild(E.m);O.D2(w);var X=new aR("Variable Name");X.h(W.E.r,this.ZX,this);
w.appendChild(X.m);this.Wq.push(E,X)}};f9.Ws.prototype=new cu;f9.Ws.prototype.ZX=function(w){var I=this.cI.Q(),E=this.bH[I],X=this.$r[I],o=this.JT["l"+E],i=this.Wq;
if(o==null)this.JT["l"+E]=o=[];while(o.length!=0)o.pop();for(var P=0;P<3;P++){var h=i[2*P+1].Q();if(!i[2*P].Q())continue;
var k={varName:h,trait:["visibility","textcontent","fileref"][P]};o.push(k);if(P==2){k.align="center";
k.clip="false";k.placementMethod="fit";k.valign="middle"}}if(o.length==0)delete this.JT["l"+E];this.tM()};
f9.Ws.prototype.aex=function(w){var I=this.cI.Q(),E=this.bH[I],X=this.$r[I],o=this.JT["l"+E],i=this.Wq;
if(o==null)o=[];for(var P=0;P<3;P++){var h=P==0||P==1&&X==0||P==2&&X==1;i[2*P].Fx(h);i[2*P].B(!1);i[2*P+1].Fx(h);
i[2*P+1].B("")}for(var P=0;P<o.length;P++){var k=o[P],x=k.trait,j=["visibility","textcontent","fileref"].indexOf(x);
i[j*2].B(!0);i[j*2+1].B(k.varName)}};f9.Ws.prototype.tM=function(w,I){if(w){var E=JSON.parse(JSON.stringify(w.Ot)),X=this.JT={};
for(var P=0;P<E.length;P++){var o=E[P],i=o.docRef;i="l"+i.slice(4,i.length-2);if(X[i]==null)X[i]=[];
X[i].push(o)}this.bH=[];this.$r=[];this.ak=[];for(var P=w.b.length-1;P>=0;P--){var h=w.b[P],i=h.add.lyid;
if(h.getName()=="</Layer group>")continue;this.bH.push(i);this.$r.push(h.add.TySh?0:1);this.ak.push(h.getName())}}var k=[],x=this.ak;
for(var P=0;P<x.length;P++){k.push(x[P]+(this.JT["l"+this.bH[P]]?" *":""))}var j=this.cI.Q();this.cI.Zq(k);
this.cI.B(j);this.aex()};f9.Ws.prototype.Q=function(){var w=this.JT,I=[];for(var E in w){var X=w[E];
for(var o=0;o<X.length;o++){X[o].docRef="id('"+E.slice(1)+"')";I.push(X[o])}}return I};function eB(w,I,E,X){cu.call(this);
this.name=w;this.ahA=E;this.Xq=X;this.Pm=O.S("div","");this.Pm.setAttribute("draggable","true");this.Hi=O.S("div","pbody");
this.rN=new es("",!1,"");this.rN.parent=this;this.a4e=O.S("span","cross gsicon");this.kv=O.S("span","label");
var o=this.afu.bind(this);this.Pm.addEventListener("mousedown",this.atB.bind(this),!1);this.Pm.addEventListener("contextmenu",o,!1);
this.rN.m.addEventListener("contextmenu",o,!1);this.a4e.addEventListener("mousedown",this.cq.bind(this),!1);
this.Pm.appendChild(this.kv);if(I)this.Pm.appendChild(this.a4e);this.ZB=!1;this.kv.textContent=w}eB.prototype=new cu;
eB.prototype.E2=function(){return null};eB.prototype.f=function(){var w=df.get(this.name),I=this.LQ==0?22:Math.round(2+this.LQ/50),E=w.length>I;
this.kv.textContent=E?w.slice(0,I-2):w;if(E)for(var X=0;X<2;X++){var o=O.S("span");o.textContent=w.charAt(I-2+X);
o.setAttribute("style","opacity:"+(.6-X*.4));this.kv.appendChild(o)}var i=w.split(" "),h=i.length==2?i[0].substring(0,2)+i[1][0]:w.substring(0,3);
if(h.charCodeAt(0)>=11776)h=h.substring(0,1);var k=this.ahA;if(k==null)this.rN.vw(h,w);else{var x;if(k.startsWith("---"))x="<img src=\""+PIMG[k.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(k.startsWith("==="))x="<img src=\""+k.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(k.indexOf("\"")==-1)x="<img src=\""+k+"\" alt=\""+O.qk(w).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.rN.vw(x,w)}};eB.prototype.enable=function(){this.Hi.className="pbody"};eB.prototype.disable=function(){this.Hi.className="pbody disabled"};
eB.prototype.eU=function(w,I){};eB.prototype.tM=function(w,I,E){};eB.prototype.hk=function(w){};eB.prototype.hi=function(w,I){};
eB.prototype._m=function(w){this.name=w;this.f()};eB.prototype.j3=function(){};eB.prototype.atB=function(w){if(w.button==0)this.c(new e9("select",!1))};
eB.prototype.afu=function(w){O.x4(w);if(this.Xq!=null&&isNaN(this.Xq))return;var I=O.cz(w,document.body),E=this.wh;
if(E==null){E=this.wh=new j$([{name:[1,12,0]}]);this.wh.h("select",this.cq,this)}E.update(null);E.f();
E.parent=this;var X=new e9(W.E.Z,!0);X.data={d:W.t.DI,E5:E,x:I.x+1,y:I.y+1};this.c(X)};eB.prototype.jf=function(){this.cq({})};
eB.prototype.cq=function(w){if(w.stopPropagation)w.stopPropagation();if(this.Xq!=null&&!isNaN(this.Xq)){var I=new e9(W.E.Z,!0);
I.data={d:W.t.kS,E5:this.wh};this.c(I);I.data={d:W.t.e1,GT:ik.AF,k:parseFloat(this.Xq),kl:"del"};this.c(I)}else if(this.aea())this.c(new e9(W.E.RR,!1))};
eB.prototype.aea=function(w){return!0};eB.prototype.PX=function(w,I,E,X,o){};eB.prototype.L_=function(w,I,E,X,o){};
eB.prototype.dj=function(w,I,E,X,o){};eB.hG=function(w,I,E){if(w.childElementCount!=0)return;var X=w.textContent;
this.gT=this.atF.bind(this);this.avG=this.akE.bind(this);this.lY=I;this.alG=E;this.il=w;this.anS=X;var o=O.S("input","");
o.setAttribute("type","text");o.setAttribute("size","10");o.setAttribute("value",X);O.wO(w);w.appendChild(o);
o.select();o.focus();O.g5(w);w.addEventListener("keyup",this.gT,!1);document.body.addEventListener("mousedown",this.avG,!1)};
eB.hG.prototype.atF=function(w){var I=aW.OE,E=I(w.code,aW.yd);if(I(w.code,aW.K9)||E)this.amG(E)};eB.hG.prototype.akE=function(w){var I=w.target;
if(I.tagName&&I.tagName.toLowerCase()=="input")return;this.amG(!0)};eB.hG.prototype.amG=function(w){var I=this.il,E=I.firstChild.value;
I.removeEventListener("keyup",this.gT);document.body.removeEventListener("mousedown",this.avG);if(this.alG||w&&E!=""&&E!=this.anS){this.lY(E)}else{O.wO(I);
I.textContent=this.anS}};eB.MP={b9:"0",aeH:"1",Qd:"2",afG:"3",aiW:"4",Vt:"5",CSS:"6",nz:"7",aam:"8",arC:"9",awP:"10",a5o:"11",asn:"12",xa:"13",Q6:"14",a0h:"15",as1:"16",NV:"17",aeD:"18",aqb:"19",aa3:"20",uH:"21",a2v:"22"};
function iv(){eB.call(this,[9,9],!1,"---panels/actions",eB.MP.a5o);this.m6=null;this.pX=[0,0]}iv.prototype=new eB("");
iv.prototype.No=function(){if(!O.NJ(this.Hi)||this.Xd)return;this.Xd=O.S("div","padded scrollable");
this.Xd.setAttribute("style","width:260px;  height:260px");this.Hi.appendChild(this.Xd);this.h(W.E.r,this.q4,this);
this.gf=O.S("div","lpfoot");this.Hi.appendChild(this.gf);this.AJ=[];var w="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",I="</svg>",E=w+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+I,X=w+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+I;
this.ah4=w+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+I;this.a7$=w+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+I;
var o=[this.ah4,X,"lrs/folder","lrs/newlayer","lrs/bin",E],i=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var P=0;P<o.length;P++){var h=o[P];if(1<P&&P!=o.length-1)h="<img src=\""+PIMG[o[P]]+"\" class=\"miniscale gsicon\" />";
var k=new es(h,!1,i[P]);k.h("click",this.ahV,this);this.gf.appendChild(k.m);this.AJ.push(k)}this.xn()};
iv.prototype.f=function(){eB.prototype.f.call(this);if(this.Xd==null)return;for(var P=0;P<this.AJ.length;
P++)this.AJ[P].f()};iv.prototype.ahV=function(w){var P=this.AJ.indexOf(w.currentTarget),I=this.pX,E=this.m6,X=E.r9;
if(P==0){var o,i=E.P9;if(X.length==0){alert("Create an Action Set first.");return}if(I.length<2){alert("Select a target action first.");
return}if(i==null){o=this.a7$;i=this.pX}else{o=this.ah4;i=null}this.AJ[0].vw(o);E.P9=i}else if(P==1)this.apu();
else if(P==2||P==3){var h={Wj:"Action Set "+X.length,mz:[],exp:!0};if(P==2||X.length==0){I=[X.length];
X.push(h)}if(P==3){var k=X[I[0]].mz;I=[I[0],k.length];k.push({Wj:"Action "+k.length,color:0,mz:[],ayk:!1,shift:!1,exp:!0,qI:k.length})}this.pX=I;
this.xn()}else if(P==4){var x;if(I.length==1)x=X;else if(I.length==2)x=X[I[0]].mz;else x=X[I[0]].mz[I[1]].mz;
var j=I.length-1;x.splice(I[j],1);if(x.length==0)I.pop();else while(I[j]>=x.length)I[j]--;if(I.length==0)I.push(0);
this.xn()}else if(P==5){if(X.length==0){alert("No Actions Present.");return}var v=new e9(W.E.Z,!0);v.data={d:W.t.Ux,a6k:ik.s,je:I[0]};
this.c(v)}};iv.prototype.q4=function(w){var I=this.m6.r9,E=w.data.d,X=w.data.ff;if(E=="sel")this.pX=X;
if(E=="fold"){if(X.length==1)I[X[0]].exp=!I[X[0]].exp;else I[X[0]].mz[X[1]].exp=!I[X[0]].mz[X[1]].exp}if(E=="enab"){var o=I[X[0]].mz[X[1]].mz[X[2]];
o.i=!o.i}if(E=="nchange"){if(X.length==1)I[X[0]].Wj=w.data.aD;else I[X[0]].mz[X[1]].Wj=w.data.aD}this.xn()};
iv.prototype.tM=iv.prototype.j3=function(){this.No()};iv.prototype.eU=function(w,I){this.m6=w;if(this.Xd==null)return;
if(I==ik.s||I==ik.Vk)this.xn()};iv.prototype.xn=function(){if(this.m6==null)return;O.wO(this.Xd);var w=this.m6.r9;
if(w.length==0)return;var I=JSON.stringify(this.pX);for(var P=0;P<w.length;P++){var E=w[P],X=new iv.S4([P],I,E.exp,E.Wj.split("=").pop());
X.parent=this;this.Xd.appendChild(X.m);if(!E.exp)continue;for(var o=0;o<E.mz.length;o++){var i=E.mz[o],X=new iv.S4([P,o],I,i.exp,i.Wj.split("=").pop());
X.parent=this;this.Xd.appendChild(X.m);if(!i.exp)continue;for(var h=0;h<i.mz.length;h++){var k=i.mz[h],X=new iv.S4([P,o,h],I,null,df.get(gE.a6R(k)),k.i);
X.parent=this;this.Xd.appendChild(X.m)}}}};iv.prototype.apu=function(){var w=this.m6.r9,I=this.pX;if(w.length==0){alert("No Actions Present");
return}if(I.length==1){alert("Select an Action first");return}if(this.m6.P9!=null){alert("You can not apply actions while recording actions");
return}if(I.length==1)I.push(0);var E=w[I[0]],X=E.mz[I[1]],o=new e9(W.E.Z,!0);o.data={d:W.t.QJ,hT:[X.Wj,E.Wj]};
this.c(o)};iv.S4=function(w,I,E,X,o){cu.call(this);this.ff=w;var i=this.ff.length-1;this.m=O.S("div","layeritem"+(JSON.stringify(w)==I?" selected":""));
this.UF=O.S("div","head");this.m.appendChild(this.UF);this.UF.setAttribute("style","height:24px");this.LX=O.S("div","headL");
this.UF.appendChild(this.LX);if(i!=0){var h=O.S("div");h.style.width=i*20+"px";this.LX.appendChild(h)}if(E!=null){var k=this.ab8=O.S("div",E?"open":"closed");
this.LX.appendChild(k)}else{var x=this.amp=O.S("div","cmark");x.setAttribute("style","background-size:12px 12px; opacity:"+(o?1:.3));
this.LX.appendChild(x)}if(i==0){var j=O.S("div","folder");this.LX.appendChild(j)}var v=this.kv=O.S("div","label");
v.textContent=X;this.LX.appendChild(v);this.m.addEventListener("mouseup",this.ss.bind(this),!1)};iv.S4.prototype=new cu;
iv.S4.prototype.ss=function(w){if(w.detail==1&&w.target.tagName.toLowerCase()!="input"){var I="sel";
if(w.target==this.ab8)I="fold";if(w.target==this.amp)I="enab";var E=new e9(W.E.r,!0);E.data={d:I,ff:this.ff};
this.c(E)}else if(this.ff.length<3)var X=new eB.hG(this.kv,this.lY.bind(this))};iv.S4.prototype.lY=function(w){var I=new e9(W.E.r,!0);
I.data={d:"nchange",aD:w,ff:this.ff};this.c(I)};function bM(){eB.call(this,[3],!1,"---lrs/adj",eB.MP.aeD)}bM.prototype=new eB("");
bM.prototype.No=function(){if(!O.NJ(this.Hi)||this.AJ)return;this.Hi.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.AJ=[];var P=0;for(var w in cz.names){var I=new es("<img src=\""+PIMG["adj/"+w]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,cz.names[w]);
I.h("click",this.aow,this);this.AJ.push(I);this.Hi.appendChild(I.m);if(P==4||P==10)O.D2(this.Hi);P++}this.f()};
bM.prototype.tM=function(){this.No()};bM.prototype.j3=function(){this.No()};bM.prototype.f=function(){eB.prototype.f.call(this);
if(this.AJ==null)return;for(var P=0;P<this.AJ.length;P++)this.AJ[P].f()};bM.prototype.aow=function(w){var I=this.AJ.indexOf(w.target),E=gi.zC()[I],X=new e9(E.X,!0);
X.data=E.v;this.c(X)};function h$(){eB.call(this,[12,22],!1,null,eB.MP.uH);this.Xd=O.S("div","padded");
this.m6=null;this.Hi.appendChild(this.Xd);this.TD=new ae(null,17.7,10);this.TD.parent=this;this.TD.h(W.E.r,this.JX,this);
this.Xd.appendChild(this.TD.aP)}h$.prototype=new eB("");h$.prototype.JX=function(w){var I=this.TD.Q(),E=new e9(W.E.s,!0);
E.data={d:"setstl",k:I.C$};E.G=q.QP;this.c(E);E.data={d:"confirm"};this.c(E)};h$.prototype.eU=function(w,I){this.m6=w;
this.xn()};h$.prototype.xn=function(){var w=this.m6,I=w.OG;this.TD.Kn([I,w.IK])};h$.prototype.tM=function(){this.xn()};
h$.prototype.j3=function(){this.xn()};var eJ=function(){function w(){eB.call(this,[9,3],!1,"---panels/brush",eB.MP.nz);
this.Cl=null;this.m6=null}w.prototype=new eB("");w.prototype.No=function(){var X=O.S("div","");this.Hi.appendChild(X);
this.NG=O.S("div","bordered cell");this.NG.setAttribute("style","width:10em; height:28.5em;");X.appendChild(this.NG);
this.ui=[];this.mM=null;this.om=[];var o=this.aoK.bind(this);this.n0=[new I("basic"),new I("useTipDynamics"),new I("useScatter"),new I("useColorDynamics"),new I("usePaintDynamics")];
for(var P=0;P<this.n0.length;P++){var i=O.S("div","listitem"),h=this.n0[P],x=null;h.parent=this;h.h("brushchange",this.a5A,this);
var k=h.FE;if(P==0){this.mM=new gJ(k);i.appendChild(this.mM.m)}else{x=new em(k,!1);x.h(W.E.r,this.a9H,this);
i.appendChild(x.m)}this.om.push(x);this.NG.appendChild(i);this.ui.push(i);i.addEventListener("click",o,!1)}this.yr=O.S("div","cell padded");
X.appendChild(this.yr);this.setItem(0);this.U=O.S("canvas");this.U.height=10;X.appendChild(this.U);this.vu=this.U.getContext("2d");
this.qF()};w.prototype.hi=function(X,o){if(this.LQ==X)return;this.LQ=X;this.Ns=o;this.qF()};w.prototype.j3=function(){if(!O.NJ(this.Hi))return;
if(this.NG){this.qF();return}this.No();this.f();this.eU(this.m6,ik.Vk)};w.prototype.f=function(){eB.prototype.f.call(this);
if(this.NG==null)return;this.mM.f();for(var P=1;P<this.om.length;P++)this.om[P].f();for(var P=0;P<this.n0.length;
P++)this.n0[P].f()};w.prototype.a5A=function(X){var o=this.n0.indexOf(X.currentTarget),i=JSON.parse(JSON.stringify(this.n0[o].Cl)),h=new e9(W.E.Z,!0);
h.data={d:W.t.e1,GT:ik.ZH,Cl:i};this.c(h)};w.prototype.a9H=function(X){this.apr(this.om.indexOf(X.currentTarget),X.currentTarget.uf())};
w.prototype.aoK=function(X){var P=this.ui.indexOf(X.currentTarget);if(X.target.tagName.toLowerCase()=="input")return;
if(this.om[P]&&!this.om[P].uf()){this.om[P].KX();this.apr(P,!0)}this.setItem(P)};w.prototype.apr=function(X,o){this.n0[X].alU(o)};
w.prototype.setItem=function(X){for(var P=0;P<this.n0.length;P++)this.ui[P].className="listitem";if(this.yr.firstChild)this.yr.removeChild(this.yr.firstChild);
this.ui[X].className="listitem selected";this.yr.appendChild(this.n0[X].m)};w.prototype.eU=function(X,o){this.m6=X;
if(this.NG==null)return;for(var P=0;P<this.n0.length;P++)this.n0[P].eU(X,o);if(o==ik.ZH||o==ik.Vk){this.Cl=X.uO.Yc;
this.qF()}if(o==ik.xa)this.qF()};w.prototype.qF=function(){if(this.Cl)this.enable();else{this.disable();
return}if(!O.NJ(this.Hi))return;var X=this.m6;for(var P=0;P<this.n0.length;P++){this.n0[P].B(this.Cl);
if(this.om[P])this.om[P].B(this.n0[P].uf())}var o=JSON.parse(JSON.stringify(this.Cl));o.Brsh.v.Dmtr.v.val=Math.min(o.Brsh.v.Dmtr.v.val,50);
O.c_(this.U,this.LQ,80);var i=new dC(0,0,this.U.width,this.U.height),h=this.m6.uO,k=new cn(o,h?h.Ar:null,h?h.a6:null,{j9:1},X.Ht,X.Mw,i,null,0),x=i.w/2,j=i.q-x*2;
k.moveTo(x,x);for(var P=0;P<=j;P+=10)k.lineTo(x+P,x+20*Math.sin(2*Math.PI*P/j));k.finish();var v=this.vu.createImageData(i.q,i.w);
Q.D6(k.d_(),k.eB(),v.data,i);this.vu.putImageData(v,0,0)};function I(X){cu.call(this);this.m=O.S("div");
this.Cl=null;var o=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(X);
this.FE=[[15,0],[15,1],[15,2],[15,3],"Transfer"][o];this.KT=X;this.CX={};this.a9J=null;var i=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy minimumDiameter angleDynamics.jitter angleDynamics.bVTy roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],["opVr.jitter","opVr.bVTy","prVr.jitter","prVr.bVTy"]][o];
for(var P=0;P<i.length;P++){var h=i[P],k;if(h=="--br"){k=new ix;this.m.appendChild(k.aP.firstChild)}else if(h=="Brsh.Dmtr")k=new fO([12,14,0],1,1e3," px",0,!0);
else if(h=="Brsh.Angl")k=new fO([12,15],0,359," \xB0");else if(h=="Brsh.Rndn")k=new fO([12,16],0,100," %");
else if(h=="Brsh.Hrdn")k=new fO([12,17],0,100," %");else if(h=="Brsh.Spcn")k=new fO([12,18],1,300," %");
else if(h=="szVr.jitter")k=new fO([15,4,0],0,100,"%");else if(h=="minimumDiameter")k=new fO([15,4,1],0,100,"%");
else if(h=="angleDynamics.jitter")k=new fO([15,4,2],0,100,"%");else if(h=="angleDynamics.bVTy")k=new b4("Control",["Off","Direction"]);
else if(h=="szVr.bVTy")k=new b4("Control",["Off","Pen Pressure"]);else if(h=="opVr.bVTy")k=new b4("Control",["Off","Pen Pressure"]);
else if(h=="prVr.bVTy")k=new b4("Control",["Off","Pen Pressure"]);else if(h=="roundnessDynamics.jitter")k=new fO([15,4,3],0,100,"%");
else if(h=="minimumRoundness")k=new fO([15,4,4],1,100,"%");else if(h=="scatterDynamics.jitter")k=new fO([15,5,0],0,1e3," %");
else if(h=="Cnt")k=new fO([15,5,1],1,20);else if(h=="countDynamics.jitter")k=new fO([15,5,2],0,100," %");
else if(h=="clVr.jitter")k=new fO([15,6,0],0,100," %");else if(h=="H")k=new fO([15,6,1],0,100," %");
else if(h=="Strt")k=new fO([15,6,2],0,100," %");else if(h=="Brgh")k=new fO([15,6,3],0,100," %");else if(h=="opVr.jitter")k=new fO("Opacity Jitter",0,100," %");
else if(h=="prVr.jitter")k=new fO("Flow Jitter",0,100," %");else throw h;this.CX[h]=k;k.parent=this;
k.h(W.E.r,this.ZX,this)}}I.prototype=new cu;I.prototype.a4k=function(){this.c(new e9("brushchange"))};
I.prototype.B=function(X){this.Cl=JSON.parse(JSON.stringify(X));this.m.className=this.uf()?"":"disabled";
this.qF()};I.prototype.f=function(){for(var X in this.CX)this.CX[X].f()};I.prototype.uf=function(){return!0};
I.prototype.eU=function(X,o){if(o==ik.nz||o==ik.Vk){var i=this.CX["--br"];if(i)i.Kn(X.uO)}};I.prototype.ZX=function(X){var o=X.target,i=this.CX,h;
for(var k in i)if(i[k]==o)h=k;if(h=="--br"){var x=new e9(W.E.Z,!0);x.data={d:W.t.e1,GT:ik.ZH,Cl:o.Q()};
this.c(x)}else{var j=E(this.Cl,h),_=o.Q();if(j){if(h.endsWith("bVTy")){j.v=_==0?0:h.startsWith("angleDynamics")?6:2}else if(h=="Cnt")j.v=_;
else j.v.val=_;this.a4k()}}};I.prototype.qF=function(){var X=this.Cl,o=X.Brsh.v.classID,i=this.CX,h=o!=this.a9J;
this.a9J=o;if(h){O.wO(this.m);for(var k in i){if(o!="computedBrush"&&o!="sampledBrush"&&k=="Brsh.Rndn")continue;
if(o!="computedBrush"&&k=="Brsh.Hrdn")continue;var x=i[k],j=x.m;if(k=="--br"){j=x.Es.m;j.style.width="auto"}this.m.appendChild(j)}}for(var k in i){if(k=="--br")continue;
var _=E(X,k),L;if(_){if(k.endsWith("bVTy"))L=_.v==0?0:1;else if(k=="Cnt")L=_.v;else L=_.v.val;i[k].B(L)}}};
I.prototype.uf=function(){var X=this.KT;return X=="basic"?!0:this.Cl[X].v};I.prototype.alU=function(X){var o=this.KT;
if(o=="basic")return;this.Cl[o].v=X;j8.Uz.aw3(this.Cl);this.a4k()};function E(X,o){var i=o.split(".");
X=X[i[0]];for(var P=1;P<i.length;P++){if(X==null)return X;X=X.v[i[P]]}return X}return w}();function cL(){eB.call(this,[9,0],!1,"---panels/history",eB.MP.b9);
this.Hi.setAttribute("style","min-width:200px;");this.LZ=O.S("div","hpbody scrollable");this.LZ.style.height="160px";
this.Hi.appendChild(this.LZ);this.aqX=-1;this.eu=[];this.dQ="";this.m0=new j$([{name:"Clear History"}],[{X:W.E.s,G:q.b9,v:{d:"h_clear"}}])}cL.prototype=new eB("");
cL.prototype.E2=function(){return this.m0};cL.prototype.tM=function(w){if(w==null){O.wO(this.LZ);this.dQ="";
return}O.wO(this.LZ);var I=0;for(var P=0;P<w.history.length;P++)if(P<=w.lZ&&!w.history[P].ul)I=P;for(var P=0;
P<w.history.length;P++){var E=w.history[P];if(E.ul)continue;var X=new go(E,P,I);X.parent=this;this.LZ.appendChild(X.m);
this.eu.push(X)}if(w.lZ==w.history.length-1)this.j3()};cL.prototype.j3=function(){this.LZ.scrollTop=this.LZ.scrollHeight};
cL.prototype.f=function(){eB.prototype.f.call(this);for(var P=0;P<this.eu.length;P++)this.eu[P].f()};
function go(w,P,I){cu.call(this);this.index=P;this.m=O.S("div",P==I?"listitem selected":"listitem");
this.XN=w.name;this.f();if(P>I)this.m.style.opacity=.4;this.m.addEventListener("click",this.PX.bind(this),!1)}go.prototype=new cu;
go.prototype.f=function(){this.m.textContent=df.get(this.XN)};go.prototype.PX=function(w){if(this.index==this.parent.aqX)return;
this.au({d:"h_itemchange",index:this.index})};go.prototype.au=function(w){var I=new e9(W.E.s,!0);I.data=w;
I.G=q.b9;this.c(I)};function hJ(){eB.call(this,[9,10],!1,"---panels/histogram",eB.MP.aiW);var w=O.S("div","padded");
this.Hi.appendChild(w);this.cn=new bt(256,!0);w.appendChild(this.cn.m);this.Ke=null}hJ.prototype=new eB("");
hJ.prototype.tM=function(w){this.Ke=w;this.xn()};hJ.prototype.xn=function(){var w=this.Ke;if(!O.NJ(this.Hi))return;
if(w==null||w.g.length==0){this.cn.B(Q.yB(Q.$(4)));return}var I=w.sQ(),E=new dC(0,0,w.q,w.w),X=E.A();
if(w.n){var o=w.n.rect,i=Q.$(o.A()*4);Q.D6(I,E,i,o);Q.sC(w.n.channel,i);I=i;E=o;var h=w.n.channel;X=0;
for(var P=0;P<h.length;P++)X+=h[P];X=Math.round(X/255)}var k=Q.yB(I);k[0][255]+=3*(X-k[5]);for(var P=1;
P<4;P++)k[P][255]+=X-k[5];this.cn.B(k,X)};hJ.prototype.eU=function(w,I){this.cn.xz(j3.NH[w.lF]["--text-color"])};
hJ.prototype.f=function(){eB.prototype.f.call(this);this.cn.f()};hJ.prototype.j3=function(){this.xn()};
function aJ(){eB.call(this,[9,8],!1,"---adj/clrL",eB.MP.aeH);this.Xd=O.S("div","padded");this.Hi.appendChild(this.Xd);
this.NS=new j4(10);this.Xd.appendChild(this.NS.m);this.dV=new kj;this.dV.parent=this;this.Xd.appendChild(this.dV.aP);
this.dV.aP.style.marginTop="6px";this.NS.h(W.E.r,this.atH,this);this.dV.h(W.E.r,this.atH,this)}aJ.prototype=new eB("");
aJ.prototype.atH=function(w){var I;if(w.target==this.NS)I=this.NS.Q();else{var E=this.dV.Q();I=Math.round(E.o)<<16|Math.round(E.P)<<8|Math.round(E.L)}var X=new e9(W.E.Z,!0);
X.data={d:W.t.e1,GT:ik.xa,ns:0,k:I};this.c(X)};aJ.Rt=function(w,I){var E=I==ik.Vk,X=w.sk,o=w.y6,i=o.strokeStyleContent.v,h=null;
if((I==ik.hy||E)&&X.BM==1){h=Q.N.BL(X.Pz.Clr.v);h=h.o<<16|h.P<<8|h.L}if((I==ik.Vc||E)&&o.strokeEnabled.v&&i.classID=="solidColorLayer"){h=Q.N.BL(i.Clr.v);
h=h.o<<16|h.P<<8|h.L}if(I==ik.xa||E)h=w.Ht;return h};aJ.prototype.eU=function(w,I){var E=w.Ht,X=I==ik.Vk,o=aJ.Rt(w,I);
if(o!=null){this.NS.B(o);this.dV.B({o:o>>>16&255,P:o>>>8&255,L:o>>>0&255,X9:"Color #"+Q.mv(o)})}if(I==ik.rW||X){var i=w.auZ;
this.dV.Kn(i)}};function d2(){eB.call(this,[12,72],!1,"---adj/mixr",eB.MP.as1);this.Vj=null;this.j$=null;
this.LZ=O.S("div","lpbody scrollable");this.LZ.style.marginTop="4px";this.gf=O.S("div","lpfoot");this.Hi.appendChild(this.LZ);
this.Hi.appendChild(this.gf);this.HO=[];this.h("click",this.bG,this);this.bb=[];d2.fJ([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.bb,this.gf,this.jN.bind(this),this.nj.bind(this));
this.m0=new j$([{name:"Merge Channels",qj:!0}],[{X:W.E.Z,v:{d:W.t.GV,ei:"mergechannels"}}])}d2.prototype=new eB("");
d2.prototype.E2=function(){return this.m0};d2.fJ=function(w,I,E,X,o){for(var P=0;P<w.length;P++){var i=new es("W",!1,w[P]);
I.push(i);O.KO(i.m,X);E.appendChild(i.m);var h=i.m;h.addEventListener("drop",o,!1);h.addEventListener("dragover",function(k){k.preventDefault()},!1);
h.addEventListener("dragenter",O.x4,!1)}};d2.pp=function(w,I){for(var P=0;P<w.length;P++)if(w[P].m==I.currentTarget)return P};
d2.prototype.jN=function(w){var I=d2.pp(this.bb,w);if(I==0)this.c(b3.IW(!0,null,w));else{I--;var E=new e9(W.E.a3,!0),X={classID:"null"};
if(I==0)X.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(I==1)X.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else X.null=gE.cZ("Chnl",!0);E.data={$g:["duplicate","make","delete"][I],Zc:X};this.c(E)}};d2.prototype.nj=function(w){var I=d2.pp(this.bb,w);
if(I==2){var E=new e9(W.E.a3,!0),X={classID:"null"};X.null=gE.cZ("Chnl",!0);E.data={$g:"duplicate",Zc:X};
this.c(E)}else this.jN(w)};d2.prototype.A6=function(P){var w=this.HO,I=w[P];if(I==null){var E=O.S("canvas");
I=E.getContext("2d");w.push(I)}return I};d2.prototype.bG=function(w){var I=this.Vj.slice(0),E=w.data.qI,X=I[0]+I[1]+I[2],o=this.j$;
if(-5<E&&E<0){var i=-E-1;if(w.data.tO){if(i==0)I=X==3?[0,0,0]:[1,1,1];else{if(I[i-1]==0)I[i-1]=1;else if(!0)I[i-1]=0}}else{if(i==0)I=[1,1,1];
else{I=[0,0,0];I[i-1]=1}o.Y1=[]}var h=new e9(W.E.s,!0);h.G=q.aB;h.data={d:"setcls",wL:I};this.c(h);return}if(-1<E){var k=o.b[E],x=k.yA==1?k.pi():k.Em(o).D;
if(w.data.tO)x.ag=!x.ag;else{for(var P=0;P<o.K3.length;P++)o.K3[P].ag=!1;o.Y1=[]}}else{var j=-E-5,x=o.K3[j];
if(w.data.tO)x.ag=!x.ag;else{for(var P=0;P<o.K3.length;P++)o.K3[P].ag=!1;x.ag=!0;o.Y1=[j]}}o.WV=o.oP=!0};
d2.prototype.j3=function(){this.Fm()};d2.prototype.tM=function(w){this.j$=w;this.Fm()};d2.prototype.Fm=function(){var w=this.j$,I=this.LZ,U=4;
O.wO(I);if(w==null||!O.NJ(I))return;var E=w.q,X=w.w,o=new dC(0,0,E,X),i=this.Vj=w.u.wL.slice(0),h=i[0]+i[1]+i[2],k=Math.round(34*O.V()),x=k;
if(E>X)x=Math.round(x*X/E);else k=Math.round(k*E/X);var j=["RGB"].concat(cz.Sb);for(var P=0;P<4;P++){var v=this.A6(P);
Q.P6._5(v,k,x,o,w.sQ(),o,!1,P==0?null:P-1);var _=P==0?h==3:i[P-1]==1,L=new b3(-1-P,!0,!0,v,j[P],_,_);
L.parent=this;I.appendChild(L.m);O.vl(v.canvas)}for(var P=0;P<w.g.length;P++){var n=w.b[w.g[P]],a=n.yA;
if(a!=1&&a!=3)continue;var T=a==1?n.pi():n.Em(w).D,v=this.A6(U+P);U++;Q.P6.zG(v,k,x,o,T);var L=new b3(w.g[P],!0,!0,v,n.getName()+(a==1?"":" Filter")+" Mask",!0,T.ag);
L.parent=this;I.appendChild(L.m);O.vl(v.canvas)}for(var P=0;P<w.K3.length;P++){var T=w.K3[P],v=this.A6(U+P);
Q.P6.zG(v,k,x,o,T);var L=new b3(-5-P,!0,T.name=="Quick Mask",v,T.name,w.Y1.indexOf(P)!=-1,T.ag,q.Qd,{d:K.wR,ns:"rnm",qI:P});
L.parent=this;I.appendChild(L.m);O.vl(v.canvas)}};d2.prototype.hi=function(w,I){this.LZ.style.height=I-30-4+"px";
this.LZ.style.width=w+"px"};d2.prototype.f=function(){eB.prototype.f.call(this);this.Fm();d2.BB(this.bb,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
d2.BB=function(w,I){var I=f$.Bk(I,null,"miniscale");for(var P=0;P<w.length;P++)w[P].vw(I[P])};function b3(w,I,E,X,o,i,h,k,x){cu.call(this);
this.m=O.S("div","layeritem");this.a3q=w;this.af9=I;this.vu=X;this.aof=k;this.aet=x;this.UF=O.S("div",i?"head selected":"head");
this.UF.setAttribute("style","height: "+40+"px");var j=O.S("div","headL"),v=O.S("div","headR"),_=15;
this.m.appendChild(this.UF);this.UF.appendChild(j);this.UF.appendChild(v);this.BJ=O.S("div","eye");if(1<O.V()&&O.V()<1.5)_=_/O.V();
this.BJ.setAttribute("style","background-size: "+_+"px "+_+"px;");this.BJ.style.opacity=h?1:.2;if(I)j.appendChild(this.BJ);
this.HS=O.S("div","thumb");if(X)this.HS.appendChild(X.canvas);j.appendChild(this.HS);this.HJ=O.S("div","label");
if(E)this.HJ.style.fontStyle="italic";this.HJ.textContent=df.get(o);j.appendChild(this.HJ);var L=this.UF;
L.setAttribute("draggable","true");L.addEventListener("dragstart",function(U){U.dataTransfer.setData("Text","")},!1);
O.KO(this.UF,this.adT.bind(this));if(!E)this.UF.addEventListener("mouseup",this.a3e.bind(this),!1)}b3.prototype=new cu;
b3.prototype.lY=function(w){var I=new e9(W.E.s,!0);I.G=this.aof;I.data=this.aet;I.data.name=w;this.c(I)};
b3.prototype.adT=function(w){var I=w.ctrlKey||w.metaKey,E=this.a3q;if(I&&w.target==this.vu.canvas){this.c(b3.IW(this.af9,E,w))}else{var X=new e9("click",!0);
X.data={qI:E,tO:w.target==this.BJ,d2:I};this.c(X)}};b3.prototype.a3e=function(w){if(w.detail==2&&w.target==this.HJ){var I=new eB.hG(this.HJ,this.lY.bind(this))}};
b3.IW=function(w,I,E){var X=0;if(E.shiftKey)X++;if(E.altKey)X+=2;var o=new e9(W.E.s,!0);o.G=q.UE;if(w){if(-5<I&&I<0){o=new e9(W.E.a3,!0);
o.data=q.mc.auf(X,["RGB","Rd","Grn","Bl"][-1-I])}else o.data={d:"fromchannel",hT:[I,0,X]}}else o.data={d:"frompath",hT:[I,0,X]};
return o};function j1(){eB.call(this,[8,9],!1,"---panels/paths",eB.MP.NV);this.Vj=null;this.j$=null;
this.LZ=O.S("div","lpbody scrollable");this.LZ.style.marginTop="4px";this.gf=O.S("div","lpfoot");this.Hi.appendChild(this.LZ);
this.Hi.appendChild(this.gf);this.Hi.addEventListener("click",this.ahc.bind(this),!1);this.HO=[];this.h("click",this.bG,this);
this.bb=[];d2.fJ(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.bb,this.gf,this.jN.bind(this),this.nj.bind(this))}j1.prototype=new eB("");
j1.prototype.jN=function(w,I){var E=d2.pp(this.bb,w),X;if(E<2){X=new e9(W.E.a3,!0);X.data=q.zs.L1(E)}else if(E==2)X=b3.IW(!1,null,w);
else if(E==3){X=new e9(W.E.a3,!0);X.data={$g:"make",Zc:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(E>3){var X=new e9(W.E.s,!0);
X.G=q.kQ;X.data={d:"pathedit",ns:["new","del"][E-4],aaE:I}}this.c(X)};j1.prototype.nj=function(w){this.jN(w,!0)};
j1.prototype.A6=function(P){var w=this.HO,I=w[P];if(I==null){var E=O.S("canvas");I=E.getContext("2d");
w.push(I)}return I};j1.prototype.ahc=function(w){if(w.target==this.LZ){var I=this.j$;I.c0=[];I.ko=[];
I.oP=!0;I.WV=!0}};j1.prototype.bG=function(w){var I=w.data.qI,E=this.j$,X=w.data.d2,o=0,i,h;if(I<0){o=-1-I;
i=E.c0;h=E.ko}else{var k=E.cm()[0];for(var P=0;P<k.length;P++){var x=k[P].qI;if(x==I)break;if(x>=0)o++}i=E.ko;
h=E.c0}if(X){var j=i.indexOf(o);if(j==-1)i.push(o);else i.splice(j,1)}else{while(i.length!=0)i.pop();
while(h.length!=0)h.pop();i.push(o)}E.oP=!0;E.WV=!0};j1.prototype.j3=function(){this.Fm()};j1.prototype.tM=function(w){this.j$=w;
this.Fm()};j1.prototype.Fm=function(){var w=this.j$,I=this.LZ;O.wO(I);if(w==null||!O.NJ(I))return;var E=w.q,X=w.w,o=new dC(0,0,E,X),i=this.Vj=w.u.wL.slice(0),h=i[0]+i[1]+i[2],k=Math.round(34*O.V()),x=k;
if(E>X)x=Math.round(x*X/E);else k=Math.round(k*E/X);var j=w.cm(),v=j[0];for(var P=0;P<v.length;P++){var _=v[P],L=this.A6(P);
Q.P6.a9f(L,k,x,o,_.add.vmsk);var U=new b3(_.qI,!1,_.qI>=0,L,_.name,j[1].indexOf(P)!=-1,!1,q.kQ,{d:"pathedit",ns:"rnm",qI:_.qI});
U.parent=this;I.appendChild(U.m);O.vl(L.canvas)}};j1.prototype.hi=function(w,I){this.LZ.style.height=I-30-4+"px";
this.LZ.style.width=w+"px"};j1.prototype.f=function(){eB.prototype.f.call(this);this.Fm();d2.BB(this.bb,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function b6(w){eB.call(this,[9,w?4:5],!1,"---panels/"+(w?"character":"paragraph"),w?eB.MP.arC:eB.MP.awP);
this.Hi.setAttribute("style","min-width:240px;");this.aif=w;this.db=null;this.m6=null}b6.prototype=new eB("");
b6.prototype.No=function(){this.db=new b_;var w=this.db,I=this.Hi;w.parent=this;if(this.aif){var E=O.S("div","marged");
I.appendChild(E);E.appendChild(w.ju.m);I.appendChild(O.S("hr"));var X=O.S("div","marged");I.appendChild(X);
X.appendChild(w.IR.m);X.appendChild(w.aq.m);var o=O.S("div","marged");I.appendChild(o);o.appendChild(w.K5.m);
o.appendChild(w.R_.m);I.appendChild(O.S("hr"));var i=O.S("div","marged");I.appendChild(i);i.appendChild(w.TU.m);
i.appendChild(w.tZ.m);var h=O.S("div","marged");I.appendChild(h);h.appendChild(w.lH.m);h.appendChild(w.IU.m);
h.appendChild(w.Z5.m);I.appendChild(O.S("hr"));var k=O.S("div","marged");I.appendChild(k);k.appendChild(w.ON.m);
k.appendChild(w.iS.m);k.appendChild(w.KV.m);k.appendChild(w.oy.m);k.appendChild(w.ni.m);k.appendChild(w.Hv.m);
k.appendChild(w.Ok.m);k.appendChild(w.Wn.m)}else{var E=O.S("div","marged");I.appendChild(E);E.appendChild(w.VS.m);
E.appendChild(w.C8.m);E.appendChild(w.Vs.m);E.appendChild(w.aqv.m);E.appendChild(w.atg.m);E.appendChild(w.aa2.m);
E.appendChild(w.aa9.m);I.appendChild(O.S("hr"));var X=O.S("div","marged");I.appendChild(X);X.appendChild(w.Jb.m);
X.appendChild(w.MD.m);X.appendChild(w.Oh.m);I.appendChild(O.S("hr"));var o=O.S("div","marged");I.appendChild(o);
o.appendChild(w.xC.m);o.appendChild(w.P5.m);o.appendChild(w.wv.m);o.appendChild(w.aZ.m)}};b6.prototype.j3=function(){if(!O.NJ(this.Hi))return;
if(this.db==null){this.No();var w=this.m6;if(w)this.db.B(w.j8,w.vj,w.Gh);this.db.f()}};b6.prototype.f=function(){eB.prototype.f.call(this);
if(this.db)this.db.f()};b6.prototype.eU=function(w,I){this.m6=w;if(I!=ik.Vk&&I!=ik.fr&&I!=ik.HV&&I!=ik.pj)return;
if(this.db)this.db.B(w.j8,w.vj,w.Gh)};function c_(){eB.call(this,[9,13],!1,"---panels/glyphs",eB.MP.aqb);
this.m6=null}c_.prototype=new eB("");c_.prototype.No=function(){this.db=new b_;this.db.parent=this;this.agj=null;
this.amr=null;this.Uv=null;this.au2=null;this.Dq=Math.round(290*O.V());this.mb=45;this.a0Z=4;this.ay4=this.xn.bind(this);
this.aij=0;this.da=new b4(null,["Hi","Hello"]);this.da.h(W.E.r,this.xn,this);var w=this.s1=new es("-",null,null,!0);
w.h("click",this.a0F,this);var I=this.a5d=new es("+",null,null,!0);I.h("click",this.a0F,this);this.Es=new aC(!1);
this.Es.h(W.E.r,this.pA,this);this.Es.m.style.height=250+"px";var E=this.f2=O.S("div","form padded");
this.Hi.appendChild(E);E.appendChild(this.db.ju.m);O.D2(E);E.appendChild(this.da.m);E.appendChild(w.m);
E.appendChild(I.m);this.Hi.appendChild(this.Es.m)};c_.prototype.hi=function(w,I){if(this.LQ==w||this.db==null)return;
this.LQ=w;this.Dq=Math.floor((w-13)*O.V());this.f2.setAttribute("style","width:"+this.Dq/O.V()+"px;");
this.Es.m.style.height=I-73+"px";this.xn()};c_.prototype.pA=function(w){var I=this.avu(),E=Math.round(this.Dq/I);
I/=O.V();var X=this.Es.Q()[0]*E*this.a0Z,o=this.Es.aat();X+=Math.floor(o.y/I)*E;X+=Math.floor(o.x/I);
var i=this.Uv[this.da.Q()];if(X>=i.length)return;var h=i[X],k=this.au2[h],x=new e9(W.E.s,!0);x.G=q.Zn;
if(k.xo.length==0)x.data={d:"insertGlyph",k:X+1};else x.data={d:"insertText",k:String.fromCodePoint(k.xo[0])};
this.c(x)};c_.prototype.a0F=function(w){var I=1.2;if(w.target==this.s1){if(this.mb>20)this.mb/=I}else{if(this.mb<100)this.mb*=I}this.xn()};
c_.prototype.j3=function(){this.eU(this.m6)};c_.prototype.eU=function(w,I){this.m6=w;if(!O.NJ(this.Hi))return;
if(this.db==null)this.No();this.db.B(w.j8,w.vj,w.Gh);var E=w.j8,X=E.hd.Font,x=0;if(X==null)return;var o=E.B0[X].Name;
if(this.agj==o)return;var X=w.vj.ZW(o);if(X==null)return;var i=X.maxp.numGlyphs,h=this.au2=new Array(i);
for(var P=0;P<i;P++)h[P]={xo:[]};var k=Date.now(),j=new Uint8Array(1048575);for(var P=0;P<1048575;P++){var v=Typr.U.codeToGlyph(X,P);
if(v!=0&&v<i){j[P]=1;if(h[v].xo.length==0)x++;h[v].xo.push(P)}}var _=c_.in,L=[];for(var P=0;P<_.length;
P++)L.push([]);for(var v=1;v<i;v++){L[0].push(v);var U=h[v].xo[0];if(U==null){continue}for(var n=1;n<_.length;
n++){var a=_[n].w8;for(var P=0;P<a.length;P+=2)if(a[P]<=U&&U<=a[P+1]){L[n].push(v);break}}}this.Uv=L;
var T=[];for(var P=0;P<_.length;P++)T.push(_[P].u$+" ("+L[P].length+")");var g=this.da.Q();this.da.Zq(T);
this.da.B(g);this.agj=o;this.amr=X;this.xn()};c_.prototype.avu=function(w){var I=Math.floor(this.Dq/this.mb);
return Math.floor(this.Dq/I)};c_.prototype.xn=function(w){if(!O.NJ(this.Hi)||this.Uv==null)return;var I=this.Uv[this.da.Q()],E=I.length,X=this.amr,o=Typr.U,i=this.avu(),h=i,k=h*.8,x=h*.8/X.head.unitsPerEm,j=[],v=Math.floor(this.Dq/i),_=Math.ceil(E/v),L=this.a0Z,U=Date.now();
for(var n=0;n<_;n+=L){var a=O.S("canvas"),T=a.getContext("2d");a.width=i*v;a.height=h*L;T.strokeStyle="rgba(0,0,0,0.3)";
T.fillStyle="white";T.fillRect(0,0,v*i,h*L);for(var g=0;g<L;g++){for(var D=0;D<v;D++){var P=I[(n+g)*v+D];
if(P==null)break;var b=o.glyphToPath(X,P),N=Q.p.zK(b.crds);if(!N.qo()){T.fillStyle="#252525";T.beginPath();
var C=D*i+(i-N.q*x)*.5-N.x*x,Z=g*h+k;T.translate(C,Z);T.scale(x,-x);o.pathToContext(b,T);T.scale(1/x,-1/x);
T.translate(-C,-Z);T.fill()}}}T.beginPath();for(var D=0;D<v;D++){var S=D*i+i+.5;T.moveTo(S,0);T.lineTo(S,h*L)}for(var g=0;
g<L;g++){var u=g*h+h+.5;T.moveTo(0,u);T.lineTo(v*i,u)}T.stroke();j.push(a)}this.Es.fg(j,null,i*v,h*L)};
c_.in=[{u$:"All Glyphs"},{u$:"Basic Latin, Latin 1",w8:[0,127,128,143]},{u$:"Latin Extended-A",w8:[256,383]},{u$:"Latin Extended-B",w8:[384,591]},{u$:"Punctuations",w8:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{u$:"Greek",w8:[880,1023]},{u$:"Cyrillic",w8:[1024,1279]},{u$:"Hebrew",w8:[1424,1535]},{u$:"Arabic",w8:[1536,1791]},{u$:"Emoji",w8:[9728,10095,127744,129535]}];
function dD(){eB.call(this,[13,0],!1,null,eB.MP.xa);this.HW=0;this.ajW=0;this.m6=null}dD.prototype=new eB("");
dD.prototype.No=function(){if(!O.NJ(this.Hi)||this.ft)return;var w=O.S("div","flexrow padded");this.Hi.appendChild(w);
var I=O.S("div");w.appendChild(I);this.ft=[];for(var P=0;P<2;P++){var E=new fs;this.ft.push(E);E.h("click",this.a0G,this);
I.appendChild(E.m)}this.L6=new bp(192);console.log("hsb picker");this.L6.h(W.E.r,this.ky,this);this.YX=new cA;
this.YX.parent=this;w.appendChild(this.L6.m);this.eU(this.m6,ik.Vk)};dD.prototype.a0G=function(w){var I=w.currentTarget,E=this.ft.indexOf(I);
if(E==this.HW){this.YX.M6(E)}else{this.HW=E;this.xn()}};dD.prototype.ky=function(w){var I=this.L6.Q();
this.L6.B(I);var E=Math.round(I.o*255)<<16|Math.round(I.P*255)<<8|Math.round(I.L*255),X=new e9(W.E.Z,!0);
X.data={d:W.t.e1,GT:ik.xa,ns:this.HW,k:E};this.c(X);this.ajW=Date.now()};dD.prototype.xn=function(){if(this.YX==null)return;
var w=this.m6,I=this.HW,E=[w.Ht,w.Mw];for(var P=0;P<2;P++){var X=this.ft[P],o=X.m.style;X.xz(E[P]);if(P==I)o.filter="drop-shadow(0 0 1px #000000)"}var i=E[I];
if(Date.now()-this.ajW>100)this.L6.B({o:(i>>>16)/255,P:(i>>>8&255)/255,L:(i&255)/255})};dD.prototype.eU=function(w,I){this.m6=w;
if(this.YX==null)return;if(I==ik.Vk||I==ik.xa){this.YX.a6d(w.Ht,w.Mw);this.xn()}};dD.prototype.tM=function(){this.No()};
dD.prototype.j3=function(){this.No();this.xn()};function iz(){eB.call(this,"CSS",!1,"---panels/css",eB.MP.CSS);
this.Ke=null;var w=O.S("div","padded");this.Hi.appendChild(w);this.W2=O.S("textarea");O.g5(this.W2);
w.appendChild(this.W2)}iz.prototype=new eB("");iz.prototype.hi=function(w,I){if(this.LQ==w)return;this.LQ=w;
this.W2.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(w-10)+"px; height:"+(I-10)+"px")};
iz.prototype.tM=function(w){this.Ke=w;this.xn()};iz.prototype.eU=function(w,I){if(I==ik.HV)this.xn()};
iz.prototype.xn=function(){var w=this.Ke;if(w==null||w.g.length==0)return;if(!O.NJ(this.Hi))return;var I=w.b[w.g[0]],E=CSS.a3O(I,w);
if(E.length!=0)this.W2.value=E.join(";\n")+";";else this.W2.value=""};iz.prototype.j3=function(){this.xn()};
function aF(){eB.call(this,[9,6],!1,"---panels/info",eB.MP.afG);this.Hi.setAttribute("style","min-width:240px;");
this.Ke=null;this.m6=null;var w=O.S("div","marged row");this.Hi.appendChild(w);var I=O.S("div","cell");
I.setAttribute("style","width:10em");w.appendChild(I);var E=O.S("div","cell");E.setAttribute("style","width:10em");
w.appendChild(E);this.a2a=[];for(var P=0;P<4;P++){var X=new gJ("");this.a2a.push(X);I.appendChild(X.m);
O.D2(I)}this.Hi.appendChild(O.S("hr",""));var o=O.S("div","marged row");this.Hi.appendChild(o);var I=O.S("div","cell");
I.setAttribute("style","width:10em");var E=O.S("div","cell");E.setAttribute("style","width:10em");o.appendChild(I);
o.appendChild(E);this.N3=new gJ("");I.appendChild(this.N3.m);O.D2(I);this.pZ=new gJ("");I.appendChild(this.pZ.m);
this.BZ=new gJ("");E.appendChild(this.BZ.m);O.D2(E);this.z3=new gJ("");E.appendChild(this.z3.m);this.N3.B("X: 100 px");
this.pZ.B("Y: 100 px");this.BZ.B("W: 0");this.z3.B("H: 0")}aF.prototype=new eB("");aF.prototype.L_=function(w,I,E,X,o){if(!O.NJ(this.Hi)||w==null)return;
var i=w.u.sP(o.x,o.y),h=new a5(Math.floor(i.x),Math.floor(i.y));if(!o.WN){var k=0,x=0,j=0,v=0,_=this.a2a;
if(!o.WN&&!w.axL()&&new dC(0,0,w.q-1,w.w-1).sF(h)){var L=w.sQ(),P=w.q*h.y+h.x<<2;k=L[P+0];x=L[P+1];j=L[P+2];
v=L[P+3]}_[0].B("R: "+k);_[1].B("G: "+x);_[2].B("B: "+j);_[3].B("A: "+v)}this.N3.B("X: "+Q.Ha.Wo(h.x,w.nN,E,w.q));
this.pZ.B("Y: "+Q.Ha.Wo(h.y,w.nN,E,w.w));this.j4()};aF.prototype.j4=function(){var w=this.Ke,I=this.m6,E=0,X=0;
if(w&&I){if(w.u.Ep){E=w.u.Ep.q;X=w.u.Ep.w}else if(w.n){E=w.n.rect.q;X=w.n.rect.w}E=Q.Ha.Wo(Math.abs(E),w.nN,I,w.q);
X=Q.Ha.Wo(Math.abs(X),w.nN,I,w.w)}this.BZ.B(df.get([12,41]).charAt(0)+": "+E);this.z3.B(df.get([12,42]).charAt(0)+": "+X)};
aF.prototype.f=function(){eB.prototype.f.call(this);this.j4()};aF.prototype.tM=function(w,I,E){this.Ke=w;
this.m6=E;this.j4()};function a$(){eB.call(this,[9,1],!1,"---panels/layers",eB.MP.Qd);this.lE=null;this.RM=[];
this.gt=null;this.jF=null;this.UF=O.S("div","lphead");this.LZ=O.S("div","lpbody scrollable");this.LZ.addEventListener("scroll",this.aub.bind(this),!1);
this.gf=O.S("div","lpfoot");var w=this.axK=O.S("span");w.setAttribute("style","display:inline-block; height:26px");
this.UF.appendChild(w);this.Pr=new b4(null,hH.He,!1,hH.pc);this.Pr.h(W.E.r,this.a7m,this);this.UF.appendChild(this.Pr.m);
this.jO=new ic([12,0],0,100,"%",0);this.jO.h(W.E.r,this.ags,this);this.jO.parent=this;this.UF.appendChild(this.jO.m);
this.DZ=new fY([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.DZ.h(W.E.r,this.ayo,this);this.UF.appendChild(this.DZ.m);this.so=new ic([12,26],0,100,"%",0);this.so.h(W.E.r,this.ab0,this);
this.so.parent=this;this.UF.appendChild(this.so.m);this.bb=[];this.fJ();this.Hi.appendChild(this.UF);
this.Hi.appendChild(this.LZ);this.LZ.addEventListener("dragover",function(E){E.preventDefault()},!1);
this.LZ.addEventListener("dragenter",O.x4,!1);this.LZ.addEventListener("drop",this.a6H.bind(this),!1);
this.Hi.appendChild(this.gf);this.Hi.addEventListener("contextmenu",O.x4,!1);this.h("rclick",this.awY,this);
var I=function(E,X,P){return{Cm:this.p9[P]==1}}.bind(this);this.afE=new j$([{name:[0,6],i:I},{name:[14,10],i:I},{name:[6,57,2],i:I,Lf:!0},{name:"Long-tap as a right click",i:I,Lf:!0},{name:"\u2796 Preview Size"},{name:"\u2795 Preview Size"}]);
this.afE.h("select",this.amA,this);this.p9=[0,1,1,0];this.amA()}a$.prototype=new eB("");a$.prototype.yz=function(){if(this.a9x)return;
var w=gi.z0(!0),I=gi.sR(!0);this.a9x=new j$(w,I);var w=[{name:[14,10]},{name:[14,11],Lf:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Lf:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",i:function(E){return{i:E.b[E.g[0]].add.SoLd!=null}},Lf:!0},{name:[6,8],i:a$.agR},{name:[6,34],i:function(E){var X=E.b[E.g[0]];
return{i:X.add.lmfx!=null&&!X.vD()}}},{name:[6,40],Lf:!0,i:function(E){var X=E.b[E.g[0]];return{i:X.add.TySh!=null}}},{name:"",Lf:!0,i:function(E){var X=E.b[E.g[0]],o=X.add.TySh,i=o?o.Da:null;
return{i:o!=null&&i.Curve==null,fX:df.get(o&&bQ.rI(i)==0?[16,3,1]:[16,3,0])}}},a$.aeX(!1),{name:[11,6],Lf:!0,sub:[{name:[5,1],i:function(E){var X=E.b[E.g[0]];
return{i:X.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],i:function(E){var X=E.b[E.g[0]];return{i:X.add.lmfx!=null}}}]},{name:[6,12,0],i:function(E){var X=E==null?0:E.g.length;
return{i:X!=0&&(X!=1||E.g[0]!=0),fX:df.get(X>1||X==1&&E.b[E.g[0]].vD()?[6,12,0]:[6,10])}}},{name:[6,12,1],Lf:!0},{name:[13,0],sub:function(){var E=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],X=[];
for(var P=0;P<E.length;P++)X.push({name:E[P]});return X}()}],I=[{X:W.E.Z,v:{d:W.t.GV,ei:"layerstyle"}},{X:W.E.s,G:q.UE,v:{d:"fromlayer",hT:[null,0,0]}},{X:W.E.s,G:q.Qd,v:{d:K.Ss}},{X:W.E.Z,v:{d:W.t.GV,ei:"duplinto"}},{X:W.E.s,G:q.Qd,v:{d:K.Ii}},{X:W.E.a3,v:{$g:"newPlacedLayer"}},{X:W.E.s,G:q.Qd,v:{d:K.pn}},{X:W.E.a3,v:{$g:"rasterizeLayer",Zc:{classID:"rasterizeLayer",null:gE.cZ("Lyr",!0)}}},{X:W.E.s,G:q.Qd,v:{d:K.lv}},{X:W.E.s,G:q.Qd,v:{d:K.a0q}},{X:W.E.s,G:q.Zn,v:{d:"switchPntPrgr"}},{X:W.E.s,G:q.Qd,v:{d:K.pk}},{sub:[{X:W.E.s,G:q.QP,v:{d:"st_copy"}},{X:W.E.s,G:q.QP,v:{d:"st_paste"}},{X:W.E.s,G:q.QP,v:{d:"st_clear"}}]},{X:W.E.a3,v:{$g:"mergeLayersNew",Zc:{__name:"Merge Layers",classID:"Mrg2"}}},{X:W.E.a3,v:{$g:"flattenImage"}},{sub:function(){var E=[];
for(var P=0;P<8;P++)E.push({X:W.E.s,G:q.Qd,v:{d:K.Eu,aby:P}});return E}()}];this.yr=new j$(w,I);var w=[{name:[6,45],i:function(E){var X=E.b[E.g[0]];
return{i:X.Em(E).D==null}}},{name:[6,47]}],I=[{X:W.E.s,G:q.Qd,v:{d:K.s5}},{X:W.E.s,G:q.Qd,v:{d:K.j6}}];
this.a0g=new j$(w,I);var w=[{name:"enab/disab",i:function(E){return{fX:df.get(E.b[E.g[0]].pi().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],i:function(E){return{i:E.p8(!1,!0)}}}],I=[{X:W.E.s,G:q.Qd,v:{d:K.$X}},{X:W.E.s,G:q.Qd,v:{d:K.iX}},{X:W.E.s,G:q.Qd,v:{d:K.YQ}}];
this.ax9=new j$(w,I);var w=[{name:"enab/disab",i:function(E){return{fX:df.get(E.b[E.g[0]].Em(E).D.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],I=[{X:W.E.s,G:q.Qd,v:{d:K.A$}},{X:W.E.s,G:q.Qd,v:{d:K.i6}}];
this.acv=new j$(w,I);var w=[{name:"enab/disab",i:function(E){return{fX:df.get(E.b[E.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],I=[{X:W.E.s,G:q.Qd,v:{d:K.j0}},{X:W.E.s,G:q.Qd,v:{d:K.wP}},{X:W.E.s,G:q.Qd,v:{d:K.h7}}];
this.a74=new j$(w,I);this.axB=new j$(gi.auq(!0),gi.zC(!0));this.a7J=new j$(gi.z0(),gi.sR())};a$.prototype.aub=function(w){var I=this.LZ.scrollTop-600;
for(var P=0;P<this.RM.length;P++){var E=this.RM[P],X=E.pl;if(I<E.pl)E.ael();if(E.pl>I+this.Ns+600)break}};
a$.prototype.E2=function(){return this.afE};a$.prototype.amA=function(w){var I=this.p9;if(w){var E=w.target.RC(),P=E[0];
if(P<4)I[P]=1-I[P];else{if(P==4&&bG.Lx-10>=10)bG.Lx-=10;if(P==5&&bG.Lx+10<=200)bG.Lx+=10;if(this.gt)this.gt.cW=!0}}if(I[0]==1)this.ae8();
var X=[[{m:this.axK}],[this.Pr,this.jO],[this.DZ,this.so]];for(var P=0;P<3;P++)for(var o=0;o<X[P].length;
o++)X[P][o].m.style.display=I[P]==1?"inline-block":"none";this.hi(this.LQ,this.Ns)};a$.prototype.atd=function(){var w=this.fe;
if(w==null)return!1;if(w.Q()){var I=this.X1.Q(),E=this.fh[I].Q();if(I==0)return E.indexOf(!0)!=-1;if(I==1)return E!=""}return!1};
a$.aeX=function(w){var I=function(X){var o=X!=null&&X.g.length!=0&&X.b[X.g[0]].ws;return{Cm:o,i:X!=null&&X.EJ(X.g[0]),v:{X:W.E.a3,v:{$g:o?"ungroup":"groupEvent",Zc:{classID:o?"Ungr":"GrpL",null:gE.cZ("Lyr",!0)}}}}},E={name:[6,6,0],Lf:!0,i:I};
if(w)E.SP=[aW.$i,aW.iu,aW.vP];return E};a$.agR=function(w,I){if(w)for(var P=0;P<w.g.length;P++){var E=w.b[w.g[P]];
if(E.add.TySh||E.add.SoLd||E.add.SoCo||E.add.GdFl||E.add.PtFl)return{i:!0}}return{i:!1}};a$.prototype.a6H=function(w){O.x4(w);
var I=w.dataTransfer.getData("Text"),E=1,X=0;if(I==""){O.de(w,this,this.jF.indexOf(this.gt),X+(E>.5?0:1))}else if(I!="--panel"){var I=JSON.parse(I),o=I.Vq;
if(o=="l")this.au({d:K.Ic,source:I.je,target:X,IE:E})}};a$.prototype.awY=function(w){var I=this.gt,E=w.data,o;
if(I.g.indexOf(E.l)==-1){var X={d:K.L4,l:w.target.il.index,js:E.yA};this.au(X)}if(I.g.indexOf(E.l)==-1)return;
this.yz();if(E.yA==1){o=this.ax9}else if(E.yA==2){o=this.a74}else if(E.yA==3){o=this.acv}else if(E.yA==4){o=this.a0g}else if(E.yA==5){o=this.a9x}else{o=this.yr}o.f();
o.update(I);o.parent=this;var i=new e9(W.E.Z,!0);i.data={d:W.t.DI,E5:o,x:E.m1.x+1,y:E.m1.y+1};this.c(i)};
a$.prototype.f=function(){eB.prototype.f.call(this);this.Pr.f();this.jO.f();this.DZ.f();this.so.f();
if(this.fe){this.fe.f();this.fh[0].f()}if(this.gt)this.tM(this.gt);var w="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var P=0;P<this.bb.length;P++){var I=this.bb[P];I.vw(O.UG(w[P],null,"miniscale"));if(P==1||P==2){I.m.style.position="relative";
var E=O.S("img","gsicon");E.setAttribute("src",PIMG["tools/corner"]);E.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
I.m.appendChild(E)}}};a$.prototype.tM=function(w,I){if(w&&!w.cW)return;if(w==null)O.vK(this.Hi,"disabled");
else O.yo(this.Hi,"disabled");this.gt=w;this.jF=I;if(this.lE!=null){O.wO(this.LZ);this.lE=null;this.RM=[]}if(w==null)return;
var E=!1;for(var P=0;P<w.K3.length;P++)if(w.K3[P].ag)E=!0;this.lE=new gS(w.root,this,w,{vA:0,Yg:!1},{a60:E,afA:this.atd()},this.RM,0,new dC(0,0,w.q,w.w));
if(w.g.length==0||w.b[w.g[0]]==null)O.vK(this.UF,"disabled");else{O.yo(this.UF,"disabled");if(w.g.length==1&&w._G){var X=w.g[0];
for(var P=0;P<this.RM.length;P++){var o=this.RM[P];if(o.il.index==X&&o.UF.scrollIntoView)o.UF.scrollIntoView({block:"nearest"})}}var i=w.b[w.g[0]];
if(i.vD()){this.Pr.Zq([[15,10,27]].concat(hH.He),[1].concat(hH.pc));var h=hH.H1.indexOf(i.$B);this.Pr.B(h+1)}else{this.Pr.Zq(hH.He,hH.pc);
var h=hH.H1.indexOf(i.$B);this.Pr.B(h)}this.jO.B(Math.round(100*i.opacity/255));this.DZ.B([i.B2(0),i.B2(1),i.B2(2),i.B2(31)]);
var k=w.ex();this.Pr.Fx(!k);this.so.Fx(!k);this.jO.Fx(!k);this.DZ.Fx(!(k&&!i.B2(31)));this.so.B(Math.round(100*(i.add.iOpa!=null?i.add.iOpa/255:1)))}this.aub(null)};
a$.prototype.hi=function(w,I){this.LQ=w;this.Ns=I;var E=this.UF.getBoundingClientRect().height;if(55<E&&E<56)E=60.2;
var X=I-(E+30);this.LZ.style.height=X+"px";this.LZ.style.width=w+"px"};a$.prototype.a7m=function(w){this.au({d:K.L$,pW:this.Pr.Q()})};
a$.prototype.ags=function(w){this.au({d:K.In,pW:Math.round(255*this.jO.Q()/100)})};a$.prototype.ayo=function(w){this.au({d:K.bU,pW:[this.DZ.Q(),[0,1,2,31]]})};
a$.prototype.ab0=function(w){this.au({d:K.cO,pW:Math.round(255*this.so.Q()/100)})};a$.prototype.pS=function(w){if(w.target==this.X1)this.ae8();
var I=this.fe.Q();if(I)O.yo(this.aM,"disabled");else O.vK(this.aM,"disabled");this.f();this.gt.cW=!0;
this.tM(this.gt);this.gt.cW=!1};a$.prototype.ae8=function(){var w=this.aM;if(w==null){var I=this.axK,E=this.fe=new em([0,6]);
E.h(W.E.r,this.pS,this);I.appendChild(E.m);w=this.aM=O.S("span","disabled");I.appendChild(w);this.X1=new b4(null,["Kind",[12,48]],!1,[]);
this.X1.h(W.E.r,this.pS,this);var X=this.fh=[new fY(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new aR(null,null,8)];
X[0].h(W.E.r,this.pS,this);X[1].h("input",this.pS,this)}O.wO(w);w.appendChild(this.X1.m);w.appendChild(this.fh[this.X1.Q()].m)};
a$.prototype.agZ=function(w){this.yz();this.aj4(w,this.axB)};a$.prototype.ajp=function(w){this.yz();
this.aj4(w,this.a7J)};a$.prototype.aj4=function(w,I){var E=w.currentTarget;if(O.NJ(I.m))return;w.stopPropagation();
var X=E.getBoundingClientRect();I.f();I.update(this.gt);I.parent=this;var o=new e9(W.E.Z,!0);o.data={d:W.t.DI,E5:I,x:X.left,y:X.top,aum:!0};
this.c(o)};a$.prototype.ayp=function(w){this.au({d:K.avv})};a$.prototype.awp=function(w){this.au({d:this.gt.g.length>1?K.jK:K.yu})};
a$.prototype.a4K=function(w){this.au({d:K.FD})};a$.prototype.ag6=function(w){var I=this.gt;if(I.g.length==0)return;
var E=I.b[I.g[0]],X=E.yA;this.au({d:X<=0?E.Fq?K.wP:K.Ii:X==3?K.i6:K.iX})};a$.prototype.aq2=function(w){this.au({d:K.zY})};
a$.prototype.au=function(w){var I=new e9(W.E.s,!0);I.data=w;I.G=q.Qd;this.c(I)};a$.prototype.fJ=function(){var w=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],I=[this.aq2,this.ajp,this.agZ,this.ayp,this.awp,this.a4K,this.ag6],E=this.a5m.bind(this);
for(var P=0;P<w.length;P++){var X=new es("W",!1,w[P]);this.bb.push(X);O.KO(X.m,I[P].bind(this));this.gf.appendChild(X.m);
if(P>=w.length-3){var o=X.m;o.addEventListener("drop",E,!1);o.addEventListener("dragover",function(i){i.preventDefault()},!1);
o.addEventListener("dragenter",O.x4,!1)}}};a$.prototype.a5m=function(w){O.x4(w);var I=0,E=this.bb;while(E[I].m!=w.currentTarget)I++;
E[I].Am();var X=w.dataTransfer.getData("Text");if(X=="")return;var X=JSON.parse(X);if(X.Vq=="l"){var o={d:[K.jK,K.Ss,K.Ii][I-4]};
if(this.gt.g.indexOf(X.je)==-1)o.l=X.je;this.au(o)}if(I!=6)return;if(X.Vq=="sm"||X.Vq=="s"){var i=new e9(W.E.s,!0);
i.G=q.QP;i.data={d:X.Vq=="sm"?"st_clear":"st_delsingle",l:X.je,je:X.eF};this.c(i)}if(X.Vq=="fm"||X.Vq=="f"){this.au({d:X.Vq=="fm"?K.j6:K.RY,src:X.je,eF:X.eF})}if(X.Vq=="m"||X.Vq=="vm"){this.au({d:X.Vq=="m"?K.iX:K.wP,l:X.je})}};
function gS(w,I,E,X,o,i,h,k){cu.call(this);this.parent=I;this.pl=h;this.il=w;i.push(this);this.yX=E;
this.Rz=X;var x=I.LZ,j=w.l,v=E.g.indexOf(w.index)!=-1,n=null;this.UF=O.S("div",v?"head selected":"head");
if(j.add.artb!=null){O.vK(this.UF,"artb");k=j.Z9()}var _=this.a3i=j.vD()?26:Math.floor(10+j.ajI/O.V()),L="height: "+_+"px;";
if(v&&o.a60)L+="background-color:rgba(255,50,50,0.4);";this.UF.setAttribute("style",L);this.CG=k;var U=this.a0T=this.acy.bind(this),a=o.afA&&!this.aqq();
if(!a){if(w.depth!=0){x.appendChild(this.UF);h+=_}if(j.z_()||j.r3())if(j.e_()){n=this.axe=O.S("div","lpineck");
x.appendChild(n);if(j.z_()){n.addEventListener("contextmenu",U,!1);var T=new a$.J3(df.get([12,1]),"sm","layerstyle",w.depth,0,null);
h+=21;T.parent=this;n.appendChild(T.m);var g=j.add.lmfx,D=g.masterFXSwitch.v;T.Wz(D);for(var P=0;P<hL.order.length;
P++){var b=g[hL.JR[P]].v;if(b.length==0)continue;for(var N=0;N<b.length;N++){var T=new a$.J3(df.get(hL.names[P]),"s","layerstyle",w.depth,1,[P,N]);
h+=21;T.Wz(D&&b[N].v.enab.v);T.parent=this;n.appendChild(T.m)}}}if(j.r3()){var C=j.Em(E).D;if(C)this.OF=O.S("div","thumb");
var T=new a$.J3(df.get([12,55]),"fm",null,w.depth,0,-1,C?this.OF:null);T.parent=this;n.appendChild(T.m);
this.ayw=T.m;this.ayw.addEventListener("contextmenu",U,!1);var g=j.add.SoLd.filterFX.v,Z=g.filterFXList.v,D=g.enab.v;
T.Wz(D);for(var P=Z.length-1;P>=0;P--){var S=Z[P].v,u=gD.N6(S);if(cz.u6[u])u=cz.u6[u];var p=S.Nm.v;if(gD.names[u])p=df.get(gD.names[u]);
if(cz.names[u])p=df.get(cz.names[u]);var f="afw_"+u,T=new a$.J3(p,"f",f,w.depth,1,P);T.Wz(D&&S.enab.v);
T.parent=this;n.appendChild(T.m)}}}}var d=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],l=j.add.lclr==null?0:d[j.add.lclr];
if(l==0)l=X.vA;this.aig=l;if(j.vD()&&(j.add.lsct==gs.Y_||o.afA)){var A={vA:l,Yg:X.Yg||j.B2(31)};for(var P=w.children.length-1;
P>=0;P--){var B=new gS(w.children[P],I,E,A,o,i,h,k);h=B.a0n}}this.a0n=h}gS.prototype=new cu;gS.prototype.ael=function(){if(this.Hh)return;
var w=this.il,I=w.l,E=this.yX,X=this.Rz,_=!0,l=!1;w.e6(E,this.CG,!0);var o=O.S("div","headL"),i=O.S("div","headR");
this.UF.appendChild(o);this.UF.appendChild(i);var h=this.UF;h.setAttribute("draggable","true");h.addEventListener("dragstart",this.GK.bind(this),!1);
h.addEventListener("drop",this.wW.bind(this),!1);h.addEventListener("dragover",this.sA.bind(this),!1);
h.addEventListener("dragenter",O.x4,!1);h.addEventListener("dragleave",this.KK.bind(this),!1);var k=[],x=[null,null,null,null],j=I.TH(),v=w;
while(v.parent){v=v.parent;j=j&&v.l.TH()}if(I.ws){for(var P=w.index-1;P>=0;P--){var L=E.b[P];if(!L.ws){_=L.TH();
break}}}var U=I.TH()?j&&_?2:1:0;this.Hh=O.S("div");var n=O.S("div",U==0?"sqr":"eye");this.Hh.appendChild(n);
n.style.opacity=[.12,.33,1][U];var a=O.S("div","space");this.HJ=O.S("div","label");this.HJ.setAttribute("style","max-width:calc(100% - "+(96+w.depth*20)+"px); margin-top:"+(this.a3i-19)/2+"px;");
this.HJ.textContent=I.getName();this.ip=O.S("div","lock");this.abx=O.S("div","lrfx");this.QY=O.S("div","arfx");
var T=this.a0T,g=this.ahB.bind(this);this.UF.addEventListener("click",g,!1);this.UF.addEventListener("contextmenu",T,!1);
var D=this.aig,b=[D>>16,D>>8&255,D&255];for(var P=0;P<3;P++){b[P]=Math.round(.5*b[P]+.5*220)}this.Hh.setAttribute("style","background-color:rgba("+b.join(",")+","+(D==0?0:1)+");");
var N=this.afV.bind(this);this.Hh.addEventListener("mousedown",N,!1);this.Hh.addEventListener("mouseover",N,!1);
this.QY.addEventListener("click",this.auO.bind(this),!1);k[0]=this.Hh;k[1]=a;k[10]=this.HJ;if(I.vD()){var C=O.S("div","arrow"),Z=O.S("div","folder");
this.nO(Z);C.addEventListener("click",this.ahP.bind(this),!1);k[2]=C;k[3]=Z;C.className=I.add.lsct==gs.Y_?"open":"closed"}else{this.HS=O.S("div","thumb");
k[5]=this.HS;gS._C(this.HS,I.OH);this.nO(this.HS);if(cz.get(I.add))O.vK(I.OH.canvas,"gsicon")}var S=I.pi();
if(S){this.ir=O.S("div","chain");this.DL=O.S("div","thumb");gS._C(this.DL,I.Tf,!0);this.ir.style.opacity=S.Rh?1:0;
this.ir.addEventListener("click",this.ahL.bind(this),!1)}var u=I.us()&&I.add.vmsk;if(I.add.vmsk&&!u){this.GS=O.S("div","chain");
this.VL=O.S("div","thumb");gS._C(this.VL,I.rO,!0);this.GS.style.opacity=I.add.vmsk.Rh?1:0;this.GS.addEventListener("click",this.arn.bind(this),!1)}if(I.r3()&&I.e_()&&I.Em(E).D){gS._C(this.OF,I.i4,!1);
this.nO(this.OF);this.OF.addEventListener("click",g,!1);this.OF.addEventListener("contextmenu",T,!1)}if(w.index==E.g[0]){var p=I.yA,f;
if(p<=0)f=this.HS;else if(p==1)f=this.DL;else if(p==3)f=this.OF;if(f)f.className="thumb active";if(I.Fq&&this.VL)this.VL.className="thumb active"}a.setAttribute("style","width:"+Math.max(0,w.depth-1)*18+"px");
var d=I.add.lspf!=null&&I.add.lspf!=0||X.Yg;this.ip.style.opacity=I.B2(31)?1:.5;k[4]=I.ws?O.S("div","clipp"):null;
k[6]=S?this.ir:null;k[7]=S?this.DL:null;k[8]=I.add.vmsk&&!u?this.GS:null;k[9]=I.add.vmsk&&!u?this.VL:null;
var A=I.hm,B=E.g;if(A!=0)for(var P=0;P<B.length;P++)if(E.b[B[P]].hm==A){l=!0;break}if(l){x[0]=O.S("div",I.iI?"link":"linkX");
x[0].addEventListener("click",this.a5Y.bind(this),!1)}x[1]=d?this.ip:null;x[2]=I.z_()?this.abx:null;
x[3]=I.z_()||I.r3()?this.QY:null;this.QY.className=I.e_()?"arfx open  gsicon":"arfx closed  gsicon";
var e=k;for(var P=0;P<e.length;P++)if(e[P])o.appendChild(e[P]);e=x;for(var P=0;P<e.length;P++)if(e[P])i.appendChild(e[P])};
gS._C=function(w,I,E){var X=I.canvas;O.vl(X);if(E)w.setAttribute("draggable","true");w.appendChild(X);
X.setAttribute("style",X.getAttribute("style")+"; pointer-events:none")};gS.prototype.nO=function(w){O.KO(w,function(I){if(this.parent.p9[3]==0)return;
O.Ja(I);O.M$(document.body,function(){clearTimeout(this.aj8)}.bind(this));this.aj8=setTimeout(function(){var E=new e9("rclick",!0);
E.data={l:this.il.index,yA:this.yA(I),m1:O.cz(I,document.body)};this.c(E)}.bind(this),600)}.bind(this))};
gS.xQ=function(w,I){var E=I.getBoundingClientRect();return(w.clientY-E.top)/E.height};gS.prototype.GK=function(w){w.stopPropagation();
var I=w.target==this.DL?"m":w.target==this.VL?"vm":"l";w.dataTransfer.setData("Text",JSON.stringify({Vq:I,je:this.il.index}))};
gS.prototype.KK=function(w){O.x4(w);this.uW()};gS.prototype.wW=function(w){O.x4(w);this.uW();var I=w.dataTransfer.getData("Text"),E=this.parent.gt,X=gS.xQ(w,this.UF),o=this.il.index;
if(X>.8){var i=!0,h=E.root.qx(o);while(h.parent!=null){var k=h.parent,x=k.children;if(x.indexOf(h)!=0)i=!1;
h=h.parent}if(i){o=0;X=1}}if(I==""){O.de(w,this,this.parent.jF.indexOf(E),o+(X>.5?0:1))}else if(I!="--panel"){var I=JSON.parse(I),j=I.Vq;
if(j=="l")this.au({d:K.Ic,source:I.je,target:o,IE:X});else if(j=="m"||j=="vm")this.au({d:j=="m"?K.ak7:K._J,src:I.je,aw:o});
else gS.a9m(w,I,this)}};gS.a9m=function(w,I,E,X){var o=I.Vq,i=E.il.index,h=I.je;if(o=="s"||o=="sm")E.au({d:K.g6,src:h,aw:i,eF:I.eF});
if(o=="f"||o=="fm")E.au({d:K.ai$,src:h,aw:i,eF:I.eF,a9:X==null?0:X})};gS.prototype.sA=function(w){O.x4(w);
var I=gS.xQ(w,this.UF),E=this.il.l.vD()&&.5<I&&I<.8;this.uW();var X="inset 0 "+(E?0:I>.5?-3:3)+"px "+(E?"5px black":"0 rgba(0,0,0,0.5)");
this.UF.style.boxShadow=X};gS.prototype.uW=function(w){this.UF.style.boxShadow=""};gS.aoh=-1;gS.nv=!1;
gS.a9i=function(w){gS.nv=!1;document.body.removeEventListener("mouseup",gS.a9i)};gS.prototype.afV=function(w){if(w.button!=0)return;
if(w.type=="mousedown"){gS.nv=!0;document.body.addEventListener("mouseup",gS.a9i,!1)}if(w.type=="mouseover"&&(!gS.nv||gS.aoh==this.il.index))return;
O.x4(w);this.au({d:K.v8,l:this.il.index});gS.aoh=this.il.index};gS.prototype.ahP=function(w){O.x4(w);
this.au({d:K.anz,l:this.il.index})};gS.prototype.ahL=function(w){this.au({d:K.nP,l:this.il.index})};
gS.prototype.arn=function(w){this.au({d:K.Vg,l:this.il.index})};gS.a5=0;gS.prototype.lY=function(w){this.au({d:K.Ku,l:this.il.index,name:w})};
gS.prototype.auO=function(w){this.au({d:K.a0C,l:this.il.index})};gS.prototype.a5Y=function(w){this.au({d:K.jH,l:this.il.index})};
gS.prototype.acy=function(w){if(w.button!=2&&!O.axo(w))return;var I=this.yA(w);if(I!=3&&w.currentTarget==this.ayw)I=4;
if(w.target==this.abx||w.currentTarget==this.axe)I=5;var E=new e9("rclick",!0);E.data={l:this.il.index,yA:I,m1:O.cz(w,document.body)};
this.c(E)};gS.prototype.yA=function(w){var I=w.target,E=I;return E==this.VL?2:E==this.DL?1:E==this.HS?0:E==this.OF?3:-1};
gS.prototype.ahB=function(w){var I=w.target,L;if(I==this.Hh.firstChild||I==this.QY||I==this.ir||I==this.GS||I.tagName&&I.tagName.toLowerCase()=="input")return;
var E=this.yA(w),X=this.parent.gt,o=this.il.index,i=X.b[o];if(I==this.ip){this.au({d:K.bU,l:o,pW:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(I==this.HJ){var h=gS.a5;gS.a5=Date.now();if(Date.now()-h<300){this.UF.setAttribute("draggable","false");
var k=new eB.hG(this.HJ,this.lY.bind(this))}else this.au({d:K.L4,l:o,js:E,NM:!0});return}if(w.button==0&&w.detail==2){if(I==this.HJ)return;
var x=new e9(W.E.s,!0),j=new e9(W.E.Z,!0),v=new e9(W.E.a3,!0);if(E==0&&i.add.SoCo){var _=Q.N.BL(i.add.SoCo.Clr.v);
j.data={d:W.t.GV,ei:"colorpicker",vA:_.o<<16|_.P<<8|_.L,EH:function(a){var T=Q.N.Ex({L:a&255,P:a>>>8&255,o:a>>16&255});
T={classID:"null",Clr:{t:"Objc",v:T}};var g=new e9(W.E.s,!0);g.G=q.Qd;g.data={d:K.SI,ZF:[o],tw:!0,k:{BM:1,Pz:T}};
this.c(g)}.bind(this),MC:!0}}else if(E==0&&(cz.get(i.add)||i.add.SoCo||i.add.GdFl||i.add.PtFl))j.data={d:W.t.mB,ei:eB.MP.Vt};
else if(E!=0&&E!=-1)j.data={d:W.t.mB,ei:eB.MP.Vt};else if(E==0&&i.add.SoLd)v.data={$g:"placedLayerEditContents",Zc:{classID:"placedLayerEditContents"}};
else if(E==0&&i.add.TySh){x.G=q.Zn;x.data={d:"editCurr",PH:o}}else j.data={d:W.t.GV,ei:"layerstyle",l:o};
this.c(v.data?v:j.data?j:x);return}if(w.button!=0)return;if(E==1||E==3){var U=E==3?i.Em(X).D:i.pi();
L=U.ag?X.u.wL.join("")=="111"?1:2:0}var n={d:K.L4,l:o,js:E,a77:L,NM:!0};this.au(n)};gS.prototype.au=function(w){var I=new e9(W.E.s,!0);
I.data=w;I.G=q.Qd;this.c(I)};gS.prototype.aqq=function(){var w=this.il.l,I=w.add,E=this.parent.X1.Q(),X=this.parent.fh[E].Q();
if(E==0){if(X[0]&&I.SoLd==null&&I.TySh==null&&w.N$())return!0;if(X[1]&&cz.get(I)!=null)return!0;if(X[2]&&I.TySh!=null)return!0;
if(X[3]&&I.vstk!=null)return!0;if(X[4]&&I.SoLd!=null)return!0;return!1}if(E==1)return w.getName().toLowerCase().indexOf(X.toLowerCase())!=-1};
a$.J3=function(w,I,E,X,o,i,h){cu.call(this);this.a8V=I;this.Vy=E;this.index=i;this.m=O.S("div","styleitem");
this.UF=O.S("div","head");this.alM=null;if(I=="f"){var k=this.alM=O.S("div","headR");k.textContent="\u2699";
this.UF.appendChild(k)}this.Hh=O.S("div","eye gsicon");this.HJ=O.S("div","label");this.m.appendChild(this.UF);
this.UF.appendChild(this.Hh);if(h){this.DL=h;this.UF.appendChild(h);this.UF.setAttribute("style","height: "+(26/O.V()+10)+"px")}this.HJ.innerHTML=w;
this.m.setAttribute("style","margin-left: "+(24+X*16+o*22)+"px");this.UF.appendChild(this.HJ);this.Hh.addEventListener("click",this.atL.bind(this),!1);
var x=this.m;x.setAttribute("draggable","true");x.addEventListener("dragstart",this.GK.bind(this),!1);
if(!0){x.addEventListener("drop",this.wW.bind(this),!1);x.addEventListener("dragover",this.sA.bind(this),!1);
x.addEventListener("dragenter",O.x4,!1);x.addEventListener("dragleave",this.KK.bind(this),!1)}this.m.addEventListener("click",this.dj.bind(this),!1)};
a$.J3.prototype=new cu;a$.J3.prototype.GK=function(w){w.stopPropagation();w.dataTransfer.setData("Text",JSON.stringify({Vq:this.a8V,je:this.parent.il.index,eF:this.index}))};
a$.J3.prototype.KK=function(w){O.x4(w);this.uW()};a$.J3.prototype.wW=function(w){O.x4(w);this.uW();var I=w.dataTransfer.getData("Text");
if(I=="")return;var I=JSON.parse(I);gS.a9m(w,I,this.parent,this.index+(gS.xQ(w,this.UF)>.5?0:1))};a$.J3.prototype.sA=function(w){O.x4(w);
var I=gS.xQ(w,this.UF)>.5;this.uW();var E="border-"+(I?"bottom":"top");this.UF.style[E]="0.2em solid rgba(0,0,0,0.5)"};
a$.J3.prototype.uW=function(w){this.UF.style.border="none"};a$.J3.prototype.Wz=function(w){this.Hh.style.opacity=w?1:.2};
a$.J3.prototype.dj=function(w){if(w.target==this.Hh)return;var I=this.parent.il.index;if(w.detail!=1&&this.Vy!=null){var I=this.parent.il.index,E=new e9(W.E.Z,!0);
if(this.Vy.indexOf("afw_")==0){var X=this.Vy.slice(4),o=kg[X]||gD.a[X],i=w.target==this.alM;if(!i&&!o)return;
E.data=q.jc.am4(i?"blendOptions":X,{l:I,index:this.index})}else E.data={d:W.t.GV,ei:this.Vy,l:I,index:this.index};
this.c(E)}else{if(w.target.className!="thumb")this.parent.au({d:K.L4,l:I,js:0})}};a$.J3.prototype.atL=function(w){var I={fm:K.MU,f:K.jl,sm:K.gU,s:K.$R}[this.a8V];
this.parent.au({d:I,l:this.parent.il.index,index:this.index})};function d6(){eB.call(this,"Guide Guy",!1,"---panels/guideguy",eB.MP.a0h);
this.Ke=null;this.Tt=new b4(null,Q.Ha.Mu)}d6.prototype=new eB("");d6.prototype.No=function(){this.y9=[];
var w=O.S("div","form padded");this.Hi.appendChild(w);w.setAttribute("style","width:200px");this.Hi.appendChild(w);
var I=O.S("canvas"),E=I.getContext("2d");I.width=I.height=160;var X=[32,0,16,160,0,32,160,16,0,112,160,16],o="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),i=[0,0,0,0,0,0,0,0,0,0];
w.appendChild(this.Tt.m);for(var P=0;P<10;P++){E.clearRect(0,0,160,160);E.setTransform(1,0,0,1,80,80);
E.rotate((P&3)*Math.PI/2);E.translate(-80,-80);E.fillStyle="rgba(0,0,0,0.3)";if(P<4){for(var h=0;h<12;
h+=4){E.fillStyle=h==0?"#000000":"rgba(0,0,0,0.3)";E.fillRect(X[h],X[h+1],X[h+2],X[h+3])}}else if(P<6){var k=8*6;
E.fillRect(0,0,k,160);E.fillRect(8*7,0,k,160);E.fillStyle="#000000";E.fillRect(8*14,0,k,160)}else if(P<8){E.fillRect(0,0,16,160);
E.fillRect(160-16,0,16,160);E.fillRect(32,0,160-64,160);E.fillStyle="#000000";E.fillRect(32,80-8,160-64,8*1)}else{E.fillRect(0,0,8*7,160);
E.fillRect(8*13,0,160,160);E.fillStyle="#000000";E.fillRect(8*7,80-8,8*6,8*1)}var x="<img src=\""+I.toDataURL()+"\" class=\"autoscale gsicon\" /> ",j=new ic(x,0,200,null,P==4||P==5?0:2,null,null,4,o[P]);
j.parent=this;j.h(W.E.r,this.a9P,this);j.B(i[P]);j.f();this.y9.push(j);w.appendChild(j.m)}var v=[[11,14],[11,15,0]];
this.AJ=[];for(var P=0;P<v.length;P++){var _=new es(v[P],!0,null,!0);this.AJ.push(_);_.h("click",this.vq,this);
w.appendChild(_.m)}for(var P=0;P<6;P++){E.setTransform(1,0,0,1,80,80);E.rotate(Math.floor(P/3)*Math.PI/2);
E.translate(-80,-80);E.clearRect(0,0,160,160);E.fillStyle="rgba(0,0,0,0.3)";E.fillRect(0,0,160,160);
E.clearRect(16,16,128,128);E.fillStyle="#000000";var L=P%3;E.fillRect([0,9,18][L]*8,0,16,160);var x="<img src=\""+I.toDataURL()+"\" class=\"autoscale gsicon\" /> ",_=new es(x,!1,null,!1);
this.AJ.push(_);_.h("click",this.vq,this);w.appendChild(_.m)}};d6.prototype.f=function(){eB.prototype.f.call(this);
this.Tt.f();if(this.y9==null)return;for(var P=0;P<this.AJ.length;P++)this.AJ[P].f()};d6.prototype.a9P=function(w){var I=this.y9,E=I.indexOf(w.target),X=Math.floor(E/2),o=E&1,i=[];
for(var P=0;P<4;P++)i.push(I[2*P+o].Q());var h=-1;if(X==2&&i[2]!=0&&i[3]!=0&&i[4]!=0)h=4;if(X==3&&i[3]!=0&&i[2]!=0&&i[4]!=0)h=4;
if(X==4&&i[4]!=0&&i[2]!=0&&i[3]!=0)h=3;if(h!=-1)I[2*h+o].B(0)};d6.prototype.vq=function(w){var I=this.Ke,E=this.AJ.indexOf(w.target),X=[[],[]];
if(I==null)return;var o=I.n?I.n.rect:new dC(0,0,I.q,I.w),i=o.q,h=o.w;if(E==0){var k=[[],[]],x=this.Tt.Q();
for(var P=0;P<this.y9.length;P++){var j=this.y9[P].Q();j=Q.Ha.bY(j,I.nN,I.q,x);k[P&1].push(j)}var v=[d6.a3T(k[0],o.x,o.x+i),d6.a3T(k[1],o.y,o.y+h)];
X=d6.aoq(v);q.Q8.lN(X,I.b5())}else if(E==1){}else{E-=2;var _=Math.floor(E/3),v=[[],[]];v[_].push([o.x,o.x+i/2,o.x+i,o.y,o.y+h/2,o.y+h][E]);
X=d6.aoq(v);q.Q8.lN(X,I.b5())}this.ahn(X)};d6.aoq=function(w){var I=[],E=[];for(var X=0;X<2;X++)for(var P=0;
P<w[X].length;P++){I.push([X,w[X][P]]);E.push(-1)}return[I,E]};d6.prototype.aln=function(w){var I=this.ax3.indexOf(w.target)};
d6.prototype.ahn=function(w){var I=new e9(W.E.s,!0);I.G=q.xE;I.data={d:"gids",_t:w};this.c(I)};d6.a3T=function(w,I,E){var X=[],o=w[2],i=w[3],h=w[4],k=0;
if(o==0)k++;if(i==0)k++;if(h==0)k++;if(k>1&&o==0&&i==0){if(w[0]!=0)X.push(I+w[0]);if(w[1]!=0)X.push(E-w[1]);
return X}var x=E-I-w[0]-w[1];if(o==0){if(h==0){o=Math.floor(x/i);h=(x-o*i)/(o-1)}else{o=1;while(i*o+h*(o-1)+i+h<=x)o++}}else if(o!=0&&i!=0){if(o*i>x)o=Math.floor(x/i);
h=(x-o*i)/(o-1)}X.push(I+w[0],E-w[1]);var i=(x-h*(o-1))/o;for(var P=1;P<o;P++){if(h==0)X.push(I+w[0]+P*i);
else X.push(I+w[0]+P*i+(P-1)*h,I+w[0]+P*i+P*h)}return X};d6.prototype.tM=function(w,I,E){this.Ke=w};
d6.prototype.j3=function(){if(O.NJ(this.Hi)&&this.y9==null)this.No();this.f()};d6.prototype.eU=function(w){this.Tt.B(w.yR.gM)};
function fX(){eB.call(this,[9,2],!1,"---panels/properties",eB.MP.Vt);this.a2p=null;this.yX=null;this.m6=null;
this.agu=-1;this.Xd=null}fX.prototype=new eB("");fX.prototype.hi=function(w,I){this.LQ=w;this.Ns=I;w=w-16;
I=I-12;var E=this.Xd;if(E){E.style.width=w+"px";E.style.height=I+"px";for(var P=0;P<3;P++)this.td[P].hi(w-12,I)}};
fX.prototype.No=function(){this.Xd=O.S("div","padded scrollable");this.Hi.appendChild(this.Xd);var w=O.S("span");
this.Xd.appendChild(w);this.hF=[new es([0,3]),new es([12,73]),new es([12,91,0])];for(var P=0;P<this.hF.length;
P++){var I=this.hF[P];I.h("click",this.awV,this);w.appendChild(I.m);if(P==2)I.m.style.marginRight="0"}this.Xd.appendChild(O.S("hr"));
this.zu=new fX.cT;this.zu.parent=this;this.Ew=new fX._O;this.Ew.parent=this;this.gk=new fX.ut;this.gk.parent=this;
this.td=[this.zu,this.Ew,this.gk];this.Xd.appendChild(this.zu.m);this.hi(this.LQ,this.Ns)};fX.prototype.awV=function(w){var P=this.hF.indexOf(w.currentTarget);
this.GB(P);this.abd(P==1?this.Ew.nE:-1)};fX.prototype.GB=function(w){for(var P=0;P<3;P++){this.hF[P].Am();
var I=this.td[P].m;if(I.parentNode==this.Xd&&P!=w)this.Xd.removeChild(I);if(I.parentNode!=this.Xd&&P==w)this.Xd.appendChild(I)}this.hF[w].KX()};
fX.prototype.abd=function(w){var I=this.yX.g[0],E=this.yX.b[I],X=w+1;if(w==1&&E.Fq)return;var o=new e9(W.E.s,!0);
o.G=q.Qd;if(w!=1&&E.Fq){o.data={d:K.L4,l:I,js:2};this.c(o)}o.data={d:K.L4,l:I,js:X};this.c(o)};fX.prototype.f=function(){eB.prototype.f.call(this);
if(this.Xd==null)return;this.tM(this.yX);for(var P=0;P<3;P++){this.hF[P].f();this.td[P].f()}};fX.prototype.j3=function(){if(!O.NJ(this.Hi))return;
if(this.Xd==null){this.No();this.eU(this.m6,ik.Vk);this.tM(this.a2p);this.f()}};fX.prototype.tM=function(w){this.a2p=w;
if(this.Xd==null)return;this.zu.tM(w);this.Ew.tM(w);this.gk.tM(w);if(w==null||w.g.length==0||w.b[w.g[0]]==null){O.vK(this.Hi,"disabled");
this.yX=null;return}else O.yo(this.Hi,"disabled");var I=w.g[0],E=w.b[I],X=w.cm(),o=X[0],i=X[1];if(i.length!=0){var h=o[i[0]],k=h.add.vogk,x=!1;
if(k)for(var P=0;P<k.length;P++){var j=k[P].v;if(!Q.GJ.An(j))continue;x=!0;I=h.qI}}I+=","+x;if(w!=this.yX||this.agu!=I){this.yX=w;
this.agu=I;if(x)this.GB(2);else if(E.yA<1&&!E.Fq||cz.get(E.add))this.GB(0);else this.GB(1)}this.hF[1].Fx(this.Ew.nE!=-1);
this.hF[2].Fx(x)};fX.prototype.eU=function(w,I){this.m6=w;if(this.zu)this.zu.eU(w,I);if(this.gk)this.gk.eU(w,I)};
fX.cT=function(){cu.call(this);this.m=O.S("div","form");this.aiM=new gJ("Hello");this.jk=new es([1,12,2],null,null,!0);
this.jk.m.style.apZ="right";this.jk.h("click",this.uP,this);this.m.appendChild(this.aiM.m);this.m.appendChild(this.jk.m);
this.YZ=null;this.g4=null;this.yX=null;this.m6=null;this.agz=-1;this.afz=null;this.tA=null;this.KN=new cl(0,!0,!0);
this.KN.parent=this;this.KN.h(W.E.r,this.a9r,this);this.m.appendChild(this.KN.m);this.lo=new fs(!0);
this.lo.parent=this;this.lo.h(W.E.r,this.asg,this);this.FY=O.S("div","marged hiline");this.FY.appendChild(this.lo.m);
this.QC=new ew("GrFl",!0);this.QC.parent=this;this.QC.h(W.E.r,this.aou,this);this.ub=O.S("div","marged hiline");
var w="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var P=0;P<w.length;P++){var I=this.QC.CX[w[P]].m;
this.ub.appendChild(I)}this.C1=new ew("patternFill",!0);this.C1.parent=this;this.C1.h(W.E.r,this.a51,this);
this.f0=O.S("div","marged hiline");var w=["Ptrn","Angl","Scl","Algn","phase"];for(var P=0;P<w.length;
P++){var I=this.C1.CX[w[P]].m;this.f0.appendChild(I)}this.Ft={};for(var E in cz.names){if(kg[E]==null)continue;
this.Ft[E]=new kg[E];this.Ft[E].h(W.E.r,this.asc,this);this.Ft[E].parent=this}var X=this.ant=O.S("div","marged hiline");
this.hW=new cl(0,!0);X.appendChild(this.hW.m);this.hW.h(W.E.r,this.sj,this);this.ava=null;this.rS=new jc;
this.rS.parent=this;this.rS.h(W.E.r,this.sj,this);X.appendChild(this.rS.m)};fX.cT.prototype=new cu;fX.cT.prototype.a9r=function(w){var I=this.KN.Q(),E=this.tA,X=new dC(I[0],I[1],I[2],I[3]);
if(X.ZQ(E))return;this.tA=X;var o=new e9(W.E.s,!0);if(E.q==X.q&&E.w==X.w){o.G=q.xE;o.data={d:"trsl",BY:X.x-E.x,bJ:X.y-E.y}}else{o.G=q.Ai;
o.data={d:"scl",Wj:[2,4],k:new a5(X.q/E.q,X.w/E.w),nh:0}}this.c(o)};fX.cT.prototype.hi=function(w,I){var E=this.Ft;
for(var X in E)E[X].hi(w,I)};fX.cT.prototype.uP=function(w){var I=this.yX,E=I.b[I.g[0]],X=cz.get(E.add);
this.g4.B(gD.SX(X));this.asc()};fX.cT.prototype.f=function(){for(var w in this.Ft)this.Ft[w].f();this.QC.f();
this.C1.f();this.rS.f();this.hW.f();this.jk.f();this.KN.f()};fX.cT.prototype.sj=function(w){var I=new e9(W.E.s,!0),E=this.hW.Q(),X=this.ava;
if(w.target==this.hW&&E[2]==X[2]&&E[3]==X[3]){I.G=q.xE;I.data={d:"trsl",BY:E[0]-X[0],bJ:E[1]-X[1]}}else{var o=K.Ug(new dC(E[0],E[1],E[2],E[3])),i=this.rS.a5K();
i.artboardRect={t:"Objc",v:o};I.G=q.Qd;I.data={d:K.zw,$k:i}}this.c(I)};fX.cT.prototype.asg=function(w){var I=this.yX,E=I.g[0];
if(I.b[E].add.SoCo==null)return;var X=JSON.parse(JSON.stringify(I.b[E].add.SoCo));X.Clr.v=this.lo.Q();
this.mo({BM:1,Pz:X})};fX.cT.prototype.aou=function(w){var I=this.yX,E=I.g[0];if(I.b[E].add.GdFl==null)return;
this.mo({BM:2,Pz:this.QC.Q()})};fX.cT.prototype.a51=function(w){this.mo({BM:3,Pz:this.C1.Q()})};fX.cT.prototype.mo=function(w){this.agB(q.Qd,{d:K.SI,ZF:[this.yX.g[0]],tw:!0,k:w})};
fX.cT.prototype.asc=function(w){this.agB(q.dT,{d:"edit_layer",k:this.g4.Q()})};fX.cT.prototype.agB=function(w,I){var E=new e9(W.E.s,!0);
E.G=w;E.data=I;this.c(E)};fX.cT.prototype.tM=function(w,I){var E=df.get([0,3]),X=!1,o=!1,i=null;this.yX=w;
if(w&&w.b.length>0&&w.g.length!=0&&w.b[w.g[0]]){var h=w.b[w.g[0]],k=cz.get(h.add);if(k!=null&&this.Ft[k]!=null){i=this.Ft[k].m;
this.g4=this.Ft[k];this.Ft[k].B(JSON.parse(JSON.stringify(h.add[k])));if(w.g[0]!=this.agz){var x=w.sQ(w.g[0]-1);
this.afz=Q.yB(x)}this.Ft[k].NC(this.afz);E=df.get(cz.names[k]);X=!0}if(k==null&&h.add.artb==null){var j=this.tA=Q.p.i1(q.R.eB(w));
o=!j.qo();this.KN.B([j.x,j.y,j.q,j.w],[w.nN,w.q,this.m6.yR.gM])}if(h.add.SoCo){i=this.FY;this.lo.B(h.add.SoCo.Clr.v);
E=df.get([6,48,0,0])}if(h.add.GdFl){i=this.ub;this.QC.update(w,h.add.GdFl);E=df.get([6,48,0,1])}if(h.add.PtFl){i=this.f0;
this.C1.update(w,h.add.PtFl);E=df.get([6,48,0,2])}if(h.add.artb){var v=h.add.artb,_=h.Z9();i=this.ant;
this.rS.a6M(v);var L=this.ava=[_.x,_.y,_.q,_.w];this.hW.B(L,[w.nN,w.q,this.m6.yR.gM]);E=df.get([1,16,0])}this.agz=w.g[0]}if(i!=this.YZ){if(this.YZ)this.m.removeChild(this.YZ);
if(i!=null)this.m.appendChild(i);this.YZ=i}this.aiM.B(E);this.jk.m.style.display=X?"":"none";this.KN.m.style.display=o?"":"none"};
fX.cT.prototype.eU=function(w,I){this.m6=w;this.QC.eU(w,I);this.C1.eU(w,I);if(I==ik.nk)this.tM(this.yX,w);
for(var E in this.Ft)this.Ft[E].eU(w,I)};fX._O=function(){cu.call(this);this.m=O.S("div","form");this.yX=null;
this.nE=0;var w=O.S("span","fitem");this.m.appendChild(w);this.hF=[new es([6,2]),new es([6,3]),new es([6,50])];
for(var P=0;P<this.hF.length;P++){var I=this.hF[P];I.h("click",this.arO,this);w.appendChild(I.m)}this.N0=new fO([12,74],0,255);
this.N0.h(W.E.r,this.ZX,this);this.m.appendChild(this.N0.m);this.yD=new fO([7,6],0,500,"px",2,!0);this.yD.h(W.E.r,this.ZX,this);
this.m.appendChild(this.yD.m);this.Xh=new es([4,11],null,null,!0);this.Xh.h("click",this.aoA,this)};
fX._O.prototype=new cu;fX._O.prototype.aoA=function(){var w=new e9(W.E.s,!0);w.G=q.dT;w.data={d:"start",_T:"nvrt"};
this.c(w)};fX._O.prototype.ZX=function(w){var I=this.N0.Q(),E=this.yD.Q(),X=new e9(W.E.s,!0);X.G=q.Qd;
X.data={d:K.n4,Fu:this.yX.g[0],hp:{tB:this.nE,N0:I,yD:E}};this.c(X)};fX._O.prototype.f=function(){for(var P=0;
P<this.hF.length;P++)this.hF[P].f();this.N0.f();this.yD.f();this.Xh.f()};fX._O.prototype.tM=function(w){this.yX=w;
this.Fm()};fX._O.prototype.arO=function(w){this.Fm(this.hF.indexOf(w.currentTarget));this.parent.abd(this.nE)};
fX._O.prototype.Fm=function(w){var I=this.yX,E=this.hF;for(var P=0;P<3;P++){var X=E[P];X.Am();X.RX()}if(I==null||I.b.length==0||I.g.length==0||I.b[I.g[0]]==null)return;
var o=-1,i=I.b[I.g[0]];if(i.r3()&&i.Em(I).D!=null){E[2].GR();o=2}if(i.add.vmsk){E[1].GR();o=1}if(i.pi()){E[0].GR();
o=0}if(w!=null)o=w;else if(i.Fq)o=1;else if(i.yA==3)o=2;else if(i.yA==1)o=0;this.nE=o;if(o==-1){this.N0.RX();
this.yD.RX();return}var h=i.xG(o);this.N0.GR();this.yD.GR();this.N0.B(h.N0);this.yD.B(h.yD);E[o].KX();
var k=this.Xh.m;if(o==0)this.m.appendChild(k);else if(k.parentNode==this.m)this.m.removeChild(k)};fX.ut=function(){cu.call(this);
this.m=O.S("div","form");this.Ke=null;this.m6=null;this.NS=-1;this.KN=new cl(0,!1);this.jM=new fO([12,15],-180,180,"\xB0",2);
this.jj=new cl(1,!0);this.cC=new fO([12,94,0],0,100,null,2);this.UT=new fO([12,78],3,30);this.Dj=new es(["\u279C  ",[12,76,0]],null,null,!0);
this.KN.h(W.E.r,this.Gc,this);this.jM.h(W.E.r,this.Gc,this);this.jj.h(W.E.r,this.Gc,this);this.cC.h(W.E.r,this.Gc,this);
this.UT.h(W.E.r,this.Gc,this);this.Dj.h("click",this.Gc,this)};fX.ut.prototype=new cu;fX.ut.prototype.f=function(){this.KN.f();
this.jM.f();this.jj.f();this.cC.f();this.UT.f()};fX.ut.prototype.Gc=function(w){var I=this.Ke,E=Q.GJ.TZ(I),X=w.target.Q(),o=[this.KN,this.jM,this.jj,this.cC,this.UT,this.Dj].indexOf(w.target);
if(o==0){var i=[];i[0]=X[0];i[1]=X[1];i[2]=i[0]+X[2];i[3]=i[1]+X[3];X=i}if(o==1)X=X*Math.PI/180;var h={0:1,1:2,2:3,3:3,4:4}[o];
E[h]=X;var k=new e9(W.E.s,!0);k.G=q.Qd;k.data={d:K.u7,k:E,aeo:o==5};this.c(k)};fX.ut.prototype.tM=function(w){var I=this.m;
this.Ke=w;if(w==null)return;var E=this.m6,X=[w.nN,w.q,E.yR.gM],o=Q.GJ.TZ(w),i=o[0],h=o[1];if(h==null)return;
var k=i!=this.NS;this.NS=i;if(k)O.wO(I);if(k)I.appendChild(this.KN.m);if(k)I.appendChild(this.jM.m);
this.KN.B([h[0],h[1],h[2]-h[0],h[3]-h[1]],X);this.jM.B(o[2]*180/Math.PI);if(i==2){if(k)I.appendChild(this.jj.m);
var x=o[3];this.jj.B(x,X)}if(i==7||i==8){if(k)I.appendChild(this.cC.m);this.cC.B(o[3])}if(i==8){if(k)I.appendChild(this.UT.m);
this.UT.B(o[4])}I.appendChild(this.Dj.m)};fX.ut.prototype.eU=function(w,I){this.m6=w;this.tM(this.Ke)};
function c1(w){eB.call(this,w.name,!0);this.gt=w;this.Ff=null;this.mK=document.createElement("canvas");
this.dz=this.mK.getContext("2d");this.GQ=document.createElement("canvas");this.mz=this.GQ.getContext("2d");
var I=16,E=Q.$(16*16*4);Q.VI(E,I,I,8);this.A5=Q.scale.Ho(E,I,I);this.oF=new cH(this.Hi);this.oF.parent=this;
this.Yh=0;this.arb="";this.QA=4}c1.prototype=new eB;c1.prototype.aea=function(){if(this.gt.bA())return window.confirm(df.get([22,6,3])+" "+this.gt.name+". "+df.get([22,6,4]));
return!0};c1.prototype.eU=function(w,I){this.Ff=w};c1.prototype.tM=function(w){this.j3();this.xn()};
c1.prototype.hi=function(w,I){if(w<=0||I<=0)return;this.LQ=w;this.Ns=I;var E=this.gt,X=O.V();E.u.mz.q=Math.floor(w*X);
E.u.mz.w=Math.floor(I*X);O.c_(this.GQ,w,I);O.c_(this.mK,w,I);O.c_(R.wH(),w,I);if(E.u.T==0)E.u.T=q.kr.a4w(E.q,E.w,w*X,I*X);
this.xn()};c1.prototype.j3=function(){var w=this.Hi.firstChild;if(!R.U7&&w==R.wH()||R.U7&&w==this.GQ)this.Hi.removeChild(w);
var I=R.U7?R.wH():this.GQ;if(!O.NJ(I))this.Hi.appendChild(I)};c1.prototype.xn=function(){if(R.U7!=this.QA){this.Yh=0;
this.arb=""}this.QA=R.U7;if(this.Ff==null)return;if(R.U7)this.ane();else this.JU();var w=this.gt;this.Yh=w.u.T;
this.arb=JSON.stringify(w.u.wL)};c1.prototype.ane=function(){if(R.U7&&c1.k6==null){var w=c1.k6=[],I=[0,2,8,32,128];
for(var P=0;P<5;P++)w[P]=[new c1.Sy(!1,I[P],!1),new c1.Sy(!0,I[P],!1)];w.push([new c1.Sy(!1,0,!0),new c1.Sy(!0,0,!0)])}var E=this.gt,_,n=0,C,Z;
if(E.Sx==null)return;var X=E.u,o=X.mz.q,i=X.mz.w,h=R.vu;this.mz.clearRect(0,0,o,i);var k=this.agX(E);
if(X.YI==null)X.YI=new R.hV(o,i);if(k)X.YI.set(this.GQ);else{R.yS(X.YI);R.Q9(1)}var x=X.o_(0,0),j=new am;
j.scale(o,i);j.concat(X.rz(!0));j.scale(1/E.q,1/E.w);var v=[j.lV,j.L,0,j.I5,j.cA,0,j.N9,j.Zt,1];if(c1.apL==null)c1.apL=new Float32Array(4*1024);
var L=[0,0,0,0],U=c1.apL;if(E.add.artd){U.fill(0);L=c1.cU(E);var a=E.q,T=E.w,N=0;for(var P=0;P<E.b.length;
P++){var g=E.b[P],D=g.add.artb;if(D==null||!g.TH())continue;var b=g.Z9();U[n]=b.x/a;U[n+1]=b.y/T;U[n+2]=b.q/a;
U[n+3]=b.w/T;n+=4;if(n==U.length)break}if(n>2*4)N++;if(n>8*4)N++;if(n>32*4)N++;_=c1.k6[N+1];U=new Float32Array(U.buffer,0,[2,8,32,128][N]*4)}else _=c1.k6[E.Qb?5:0];
var S=E.iT();if(S==null)_=_[0];else{_=_[1];Z=S[E.add.fcmy==1?6:4];C=S[2]}R.VG(o,i);R.Q9(0);R.VG(o,i);
_.qP();_.qf(X.YI.q3,E.Sx.q3,new Float32Array(v),new Float32Array([o/8,i/8,x.x/o,x.y/i]),E.q,E.w,1/E.u.T,o,i,new Float32Array(L),U,new Float32Array(Q.vU.KQ(Q.vU.ZR(X.wL))),Z,C);
h.drawArrays(h.TRIANGLES,0,6)};c1.cU=function(w){return[0,0,0,0]};c1.a16=function(w){var I=Q.N.BL(w.v),E=[I.o/255,I.P/255,I.L/255,1];
for(var P=0;P<4;P++)E[P]=Math.min(1,E[P]);return E};c1.H3=function(w,I){var E=w[2]*255;if(R.U7)E=I?0:Math.max(1,E);
return"rgba("+w[0]*255+","+w[1]*255+","+E+","+w[3]+")"};c1.kC=function(w){if(R.U7)for(var P=0;P<w.length;
P+=4){if(w[P+2]==0)w[P+2]=3}};c1.prototype.JU=function(){var w=this.gt;if(w.buffer==null)return;var I=w.u,E=I.mz,X=E.q,o=E.w,i=new dC(0,0,w.q,w.w);
this.dz.clearRect(0,0,X,o);this.mz.clearRect(0,0,X,o);var h=I.rz(!0),k=h.clone();k.ja();if(w.add.artd==null){this.mz.save();
var x=k.kG(new a5(0,0));k.translate(-x.x,-x.y);this.mz.translate(Math.round(x.x),Math.round(x.y));this.mz.fillStyle=this.A5;
if(w.Qb)this.mz.fillRect(-5e3,-5e3,2e4,2e4);else{this.mC(Q.p.sy(i),k,this.mz);this.mz.fill()}this.mz.restore()}else{this.mz.fillStyle=c1.H3(c1.cU(w));
this.mz.fillRect(0,0,X,o);this.mz.save();this.mz.setTransform(k.lV,k.L,k.I5,k.cA,k.N9,k.Zt);var j=w.root.children;
for(var P=0;P<j.length;P++){var v=j[P].l;if(v.add.artb==null||!v.TH())continue;var _=v.Z9(),L=v.Ld();
if(L!=0)continue;this.mz.fillStyle=this.A5;this.mz.save();this.mz.scale(1/I.T,1/I.T);this.mz.fillRect(I.T*_.x,I.T*_.y,_.q*I.T,_.w*I.T);
this.mz.restore()}this.mz.restore()}if(I.WL.length!=E.A()){I.WL=Q.$(E.A());I.jv=Q.$(E.A()*4)}I.jv.fill(0);
Q.scale.HK(w.buffer,i,h,I.jv,E,w.Qb);var U=w.iT();if(U)ICC.U.applyLUT(U[w.add.fcmy==1?5:3],U[2],I.jv,I.jv);
if(I.wL[0]+I.wL[1]+I.wL[2]!=3)Q.vU.NU(I.jv,I.jv,Q.vU.ZR(I.wL));this.dz.putImageData(new ImageData(new Uint8ClampedArray(I.jv.buffer),E.q,E.w),0,0);
this.mz.drawImage(this.mK,0,0);this.mz.getImageData(0,0,1,1);this.agX(w)};c1.prototype.agX=function(w){var I=w.u,E=I.wL[0]+I.wL[1]+I.wL[2],X=!1,o=[];
for(var P=0;P<w.g.length;P++){var i=w.b[w.g[P]];if(i==null)continue;var h=i.yA;if(h!=1&&h!=3)continue;
var k=h==1?i.pi():i.Em(w).D;if(k.ag)o.push(k)}for(var P=0;P<w.K3.length;P++)if(w.K3[P].ag)o.push(w.K3[P]);
for(var P=0;P<o.length;P++){var k=o[P];this.ahE(k,I,o.length==1&&E==0?2:1,k.color,k.vA);X=!0}var x=this.Ff;
X=this.asj(w,this.mz,I)||X;if(w.n&&x.x3&&x.yR.bt){this.ahE(w.n,I,0,0,null);X=!0}return X};c1.prototype.ahE=function(w,I,E,X,o){var i=0;
if(o)i=Math.round(o.L)<<16|Math.round(o.P)<<8|Math.round(o.o);var h=I.rz(!0),k=I.mz,x=new dC(0,0,I.gt.q,I.gt.w);
if(I.WL.length!=k.A()){I.WL=Q.$(k.A());I.jv=Q.$(k.A()*4)}I.WL.fill(X);I.jv.fill(0);var j=w.channel,v=w.rect;
Q.scale.F(j,v,h,I.WL,k);if(E==0){var _=new Uint32Array([4278190080,4294967295]);c1.kC(new Uint8Array(_.buffer));
Q.n.aeP(I.WL,I.jv,k,_,O.V()>1.9)}else{Q.n.a5N(I.WL,I.jv,k,E,i);c1.kC(I.jv)}var L=new ImageData(new Uint8ClampedArray(I.jv.buffer),k.q,k.w);
this.dz.putImageData(L,0,0);this.mz.save();if(E!=0){var U=new dC(0,0,x.q,x.w),n=h.clone();n.ja();this.mC(Q.p.sy(U),n,this.mz);
this.mz.clip()}this.mz.drawImage(this.mK,0,0);this.mz.restore()};c1.prototype.asj=function(w,I,E){var X=w.I.KJ!=null||w.I.vC!=null||w.I.gy!=null||w.I.v5.length!=0||w.I.E8.length!=0,o=this.Ff,i=o.yR,h=j3.NH[o.lF],k=Math.round(12*O.V()),x=k/w.u.T,j=E.rz(!0);
j.ja();I.save();I.setTransform(j.lV,j.L,j.I5,j.cA,j.N9,j.Zt);if(w.add.artd){var v=c1.cU(w)[0];v=v<.5?v+.5:v-.5;
v=""+Math.round(v*255).toString(16);while(v.length<2)v="0"+v;I.fillStyle="#"+v+v+v;I.font=x+"px sans-serif";
for(var P=0;P<w.b.length;P++){var _=w.b[P];if(_.add.artb==null||!_.TH())continue;var L=_.Z9();I.fillText(_.getName(),L.x+2,L.y-x*.7);
X=!0}}function U(ay){return ay==1||ay==2||ay==4||ay==5}var a=c1.H3([.1,.5,1,1]),T=c1.H3([1,1,1,1]);if(o.x3&&i.c1){I.fillStyle=I.strokeStyle=a;
I.lineWidth=1.5/E.T;var g=w.cm(),D=g[0],b=g[1];for(var N=0;N<b.length;N++){var _=D[b[N]],C=_.add.vmsk,Z=C.j,S=Q.p.x7(Z);
this.mC(S,null,I);I.stroke();X=!0;var u=3*O.V()/E.T,p=Z.length-3;for(var P=0;P<C.A8.length;P++){var f=Q.O.Tj(Z,C.A8[P]);
if(f==null)continue;var d=f.x,l=f.y;I.beginPath();var A=P==0;if(C.kW)A=!A;if(A){I.moveTo(d-u,l-u);I.lineTo(d+u,l+u);
I.moveTo(d-u,l+u);I.lineTo(d+u,l-u);I.stroke()}else{I.arc(d,l,u*1,0,2*Math.PI);I.fill()}X=!0}if(w.g.length!=1)continue;
var B=-1;for(var P=0;P<Z.length;P++){if(Z[P].type>5)continue;if(Z[P].type==0||Z[P].type==3){if(Z[P].KP!=-1)B++;
continue}if(C.g.indexOf(B)!=-1){var d=Z[P].H.x,l=Z[P].H.y;I.fillRect(d-u*.8,l-u*.8,2*u*.8,2*u*.8)}if(C.pa.indexOf(P)!=-1){var e=Z[P],m=[e.H];
I.beginPath();I.moveTo(e.DX.x,e.DX.y);I.lineTo(e.H.x,e.H.y);I.lineTo(e.kk.x,e.kk.y);var $=Z[P-1],V=Z[P+1];
if($&&U($.type)&&C.pa.indexOf(P-1)==-1){I.moveTo($.H.x,$.H.y);I.lineTo($.kk.x,$.kk.y);m.push($.kk)}if(V&&U(V.type)&&C.pa.indexOf(P+1)==-1){I.moveTo(V.H.x,V.H.y);
I.lineTo(V.DX.x,V.DX.y);m.push(V.DX)}I.stroke();if(!e.H.ZQ(e.DX))m.push(e.DX);if(!e.H.ZQ(e.kk))m.push(e.kk);
for(var H=0;H<m.length;H++){var f=m[H],d=f.x,l=f.y;if(H==0&&(e.type==2||e.type==5))I.fillRect(d-1.2*u,l-1.2*u,2.4*u,2.4*u);
else{I.beginPath();I.arc(d,l,u*1.2,0,2*Math.PI);I.fill();if(H!=0)I.fillStyle=T;I.beginPath();I.arc(d,l,u*.8,0,2*Math.PI);
I.fill();I.fillStyle=a}}}X=!0}}}I.lineWidth=1/E.T;if(w.I.fW){I.fillStyle=I.strokeStyle=a;var V={C:[],J:[]},F=c1.aqQ;
if(F==null){F=c1.aqQ={C:[1,0],J:["M"]};for(var P=1;P<30;P++){var G=Math.PI*2*P/30;F.C.push(Math.cos(G),Math.sin(G));
F.J.push("L")}F.J.push("Z","M","L","M","L");F.C.push(-.5,0,.5,0,0,-.5,0,.5)}for(var P=0;P<w.I.fW.length;
P++){var $=q.xu.apy(w.I.fW[P],E),J=new am($[0],0,0,$[0],$[1],$[2]);Q.p.concat(V,F,J)}this.mC(V,null,I);
I.stroke();X=!0}var c=new am(1,0,0,1,.5/E.T,.5/E.T);if(w.Qb){I.fillStyle=I.strokeStyle=a;var V={C:[0,0,w.q,0,w.q,w.w,0,w.w],J:["M","L","L","L","Z"]};
this.mC(V,c,I);I.stroke();X=!0}if(w.I.vo){I.fillStyle=I.strokeStyle=c1.H3([0,0,0,.5]);this.mC(w.I.vo,null,I,!0);
I.fill("evenodd")}I.fillStyle=I.strokeStyle=c1.H3([0,0,0,1],!0);if(w.I.KJ){this.mC(w.I.KJ,null,I);I.fill()}if(w.I.vC){this.mC(w.I.vC,c,I);
I.stroke()}for(var r in w.I.M0)if(w.I.M0[r].vC){this.mC(w.I.M0[r].vC,null,I);I.stroke();X=!0}I.beginPath();
var u=(4*O.V()+.5)/E.T,s=w.I.jS;for(var P=0;P<s.length;P+=2){X=!0;var d=s[P],l=s[P+1];I.rect(d-u,l-u,2*u,2*u)}I.stroke();
var s=w.I.aq4;I.beginPath();var u=4*O.V()/E.T;for(var P=0;P<s.length;P+=2){X=!0;var d=s[P],l=s[P+1];
I.moveTo(d+u,l);I.arc(d,l,u,0,2*Math.PI)}I.fill();var s=w.I.cK;I.fillStyle=c1.H3([1,1,1,1]);I.beginPath();
var u=6*O.V()/E.T;for(var P=0;P<s.length;P+=2){X=!0;var d=s[P],l=s[P+1];I.moveTo(d+u,l);I.arc(d,l,u,0,2*Math.PI)}I.fill();
var u=4*O.V()/E.T;for(var P=0;P<s.length;P+=2){X=!0;var d=s[P],l=s[P+1];I.fillStyle=c1.H3(w.I.A_.indexOf(P>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);
I.beginPath();I.moveTo(d+u,l);I.arc(d,l,u,0,2*Math.PI);I.fill()}if(w.I.v5.length!=0){for(var P=0;P<w.I.v5.length;
P++){var z=w.I.v5[P],Y=z[1];I.putImageData(new ImageData(new Uint8ClampedArray(z[0].buffer),Y.q,Y.w),Y.x,Y.y)}}var ax=.5/E.T;
I.lineWidth=1/E.T;if(w.I.ms){X=!0;var iW=w.I.ms,y=iW.D5,S={J:[],C:[]};for(var P=0;P<iW.RG.length;P++)Q.p.concat(S,Q.p.sy(iW.RG[P]));
S.C=S.C.concat(y);for(var P=0;P<y.length;P+=4){S.J.push("M","L")}for(var P=0;P<S.C.length;P++){S.C[P]+=ax}I.strokeStyle=c1.H3([.9,.2,.2,1]);
this.mC(S,null,I);I.stroke();var hm=O.V(),t=2/E.T;I.font=x*.9+"px sans-serif";for(var P=0;P<y.length;
P+=4){var d=y[P],l=y[P+1],cT=y[P+2],c4=y[P+3],kv=Math.sqrt((c4-l)*(c4-l)+(cT-d)*(cT-d));kv=Q.Ha.Wo(kv,w.nN,o,l==c4?w.q:w.w);
var iL=new a5((d+cT)/2,(l+c4)/2);I.fillStyle=c1.H3([.9,.2,.2,1]);var cr=I.measureText(kv).width;I.fillRect(iL.x-cr/2-t*hm,iL.y-3.5*t*hm,cr+2*t*hm,7*t*hm);
I.fillStyle=c1.H3([1,1,1,1]);I.save();I.translate(iL.x-cr/2,iL.y+2*t*hm);I.scale(.1,.1);I.font=x*9+"px sans-serif";
I.fillText(kv,0,0);I.restore()}}if(o.x3){if(i.jm){var ga=Q.Ha.bY(i.gR,w.nN,w.q,i.Js),iq=ga;if(i.Js==4)iq*=w.w/w.q;
this.VI(w,I,ga,iq,1,i.Un);X=!0}if(i.Aj&&w.u.T>7){this.VI(w,I,1,1,.5,i.Un);X=!0}if(i.l2){var ei=w.b5(),hw=w.Ze(),hC=Math.max(w.u.mz.q,w.u.mz.w)/w.u.T;
hC=Math.max(Math.max(w.q,w.w)*2,hC);I.beginPath();I.strokeStyle=c1.H3([0,1,1,1]);for(var P=0;P<ei[0].length;
P++){var j5=ei[0][P],ed=ei[1][P];if(ed!=-1&&ed!=hw)continue;var jn=E.o_(j5[1],j5[1]),fj=E.sP(Math.floor(jn.x)+.5,Math.floor(jn.y)+.5);
if(j5[0]==0){var di=fj.x;I.moveTo(di,-hC);I.lineTo(di,hC)}else{var b1=fj.x;I.moveTo(-hC,b1);I.lineTo(hC,b1)}X=!0}I.stroke()}var dI=w.V7;
if(i.V7&&dI.length!=0){I.font=x*.8+"px sans-serif";var h2=[],de=[];for(var P=0;P<dI.length;P++){var ds=q.Yq.b7(dI,P);
h2.push(ds);if(w.DP.indexOf(P)!=-1)de.push(ds)}h2.reverse();var jO=Date.now();h2=Q.rect.qJ([0,0,w.q,w.w],h2);
for(var H=0;H<2;H++)for(var P=0;P<h2.length;P++){var gy=h2[P],B=gy[4],fV=B!=null?dI[B]:null;if(fV&&H==0||fV==null&&H==1)continue;
var d=Math.round(gy[0]),l=Math.round(gy[1]),cT=Math.round(gy[2]),c4=Math.round(gy[3]);I.strokeStyle=I.fillStyle=c1.H3(fV?[0,.7,.7,1]:[.8,.8,.8,1]);
I.strokeRect(d+ax,l+ax,cT-d,c4-l);var hl=P+1,im=I.measureText(hl),cr=im.width;I.fillRect(d,l,cr+x/2,x);
I.fillStyle=c1.H3([1,1,1,1]);I.fillText(hl,d+x/4,l+x*.8)}var t=2/w.u.T,eA=2*t;for(var P=0;P<de.length;
P++){var gy=de[P],d=Math.round(gy[0]),l=Math.round(gy[1]),cT=Math.round(gy[2]),c4=Math.round(gy[3]);
I.strokeStyle=I.fillStyle=c1.H3([1,.6,0,1]);I.strokeRect(d+ax,l+ax,cT-d,c4-l);var hy=[d,l,cT,l,cT,c4,d,c4];
for(var dm=0;dm<hy.length;dm+=2){var di=hy[dm],b1=hy[dm+1],hA=hy[dm+2&7],j2=hy[dm+3&7];I.fillRect(di-t,b1-t,eA,eA);
I.fillRect(Math.round((di+hA)/2)-t,Math.round((b1+j2)/2)-t,eA,eA)}}X=!0}var dQ=w.add.Anno;if(dQ&&dQ.length!=0)for(var P=0;
P<dQ.length;P++){var aS=dQ[P],eh=aS[2],di=aS[0]-ax,b1=aS[1]-ax,eA=30/E.oS,h_=.4*eA,h6=.6*eA;I.beginPath();
I.moveTo(di,b1+h6);I.lineTo(di,b1);I.lineTo(di+eA,b1);I.lineTo(di+eA,b1+eA);I.lineTo(di+h_,b1+eA);I.closePath();
I.lineTo(di+h_,b1+h6);I.lineTo(di+h_,b1+eA);if(P==w.u.GY){I.lineWidth*=5;I.strokeStyle=c1.H3([0,0,0,.5]);
I.stroke();I.lineWidth/=5}I.fillStyle=c1.H3([eh.o/255,eh.P/255,eh.L/255,1]);I.fill();I.strokeStyle=c1.H3([0,0,0,1]);
I.stroke()}}I.strokeStyle=c1.H3([1,0,0,1]);if(w.I.gy){this.mC(w.I.gy,c,I);I.stroke()}I.restore();if(o.KY){if(w.u.oC==null||w.u.oC.width!=w.u.mz.q||w.u.QS.height!=w.u.mz.w){w.u.oC=I.createImageData(w.u.mz.q,Q.Ha.R1);
w.u.QS=I.createImageData(Q.Ha.R1,w.u.mz.w)}var h=j3.NH[o.lF],gT=0,b8=0,hP=w.q,b5=w.w;if(w.Ze()!=-1){var L=w.b[w.Ze()].Z9();
gT=L.x;b8=L.y;hP=L.q;b5=L.w}gT*=E.T;b8*=E.T;var E=w.u,ar=[1,w.nN,w.nN/2.54,w.nN/25.4,hP/100][i.gM],cG=E.T*w.q/2,bd=E.T*w.w/2,aZ=[E.T*ar,new a5(E.z.x+(gT+cG*ar-cG),E.z.y+(b8+bd*ar-bd))];
if(i.gM==4)ar*=b5/hP;var gl=[E.T*ar,new a5(E.z.x+(gT+cG*ar-cG),E.z.y+(b8+bd*ar-bd))],ci=this.oF.zr;Q.Ha.au5(E,h["--text-color"],h["--bg-input"],Math.floor(ci.x),Math.floor(ci.y),aZ,gl);
var a7=hB.awo(E.T,c1.H3([1,1,1,1]),w.q,w.w);c1.kC(w.u.QS.data);c1.kC(w.u.oC.data);I.putImageData(w.u.QS,0,0);
I.putImageData(w.u.oC,0,0);I.putImageData(a7,0,w.u.mz.w-a7.height)}if(w.I.E8.length!=0){for(var P=0;
P<w.I.E8.length;P++){var z=w.I.E8[P],Y=z[1];I.putImageData(new ImageData(new Uint8ClampedArray(z[0].buffer),Y.q,Y.w),Y.x,Y.y)}}return X||o.KY};
c1.prototype.VI=function(w,I,E,X,o,i){while(E*w.u.T<4){E*=2;X*=2}var h=w.q,k=w.w,x=.5/w.u.T;I.strokeStyle=c1.H3([.5,.5,.5,o],!0);
I.save();I.rect(0,0,h,k);I.clip();I.beginPath();for(var j=0;j<=h;j+=E){I.moveTo(j+x,0);I.lineTo(j+x,k)}if(i==0){for(var v=0;
v<=k;v+=X){I.moveTo(0,v+x);I.lineTo(h,v+x)}}else{X*=Math.sqrt(4/3);var _=X*Math.floor(h/X),L=h*(X/(2*E));
for(var v=-_;v<=k+_;v+=X){I.moveTo(0,v);I.lineTo(h,v-L);I.moveTo(0,v);I.lineTo(h,v+L)}}I.stroke();I.restore()};
c1.prototype.mC=function(w,I,E,X){E.beginPath();if(X)E.rect(-1e5,-1e5,1e6,1e6);var o=Q.p.clone(w);if(I)Q.p.F(o.C,I,o.C);
Typr.U.pathToContext({cmds:o.J,crds:o.C},E)};c1.Sy=function(w,I,E){R.UI.call(this);var X=I!=0,o=E?"true":"in01(sCoord)",i="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(w?"uniform sampler2D lut;  uniform float N;  "+R.hu.EQ:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(X?"uniform vec4 bgClr;  uniform vec4 ars["+I+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+R.hu.H0+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(E?"-floor(sCoord)":"")+"); \t\t\t\t"+(w?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(X?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+I+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+o+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+o+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",h="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.ba(i,h)};c1.Sy.prototype=new R.UI;c1.Sy.prototype.qf=function(w,I,E,X,o,i,h,k,x,j,v,_,L,U){this.PW("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var n=R.vu,a=this.gh;n.uniformMatrix3fv(a.tmat,!1,E);n.uniform4fv(a.gsize,X);n.uniform3f(a.contSizeZoom,o,i,h);
n.uniform2f(a.cnvSize,k,x);n.uniformMatrix4fv(a.ctrn,!1,_);if(this.aoF){n.uniform4fv(a.ars,v);n.uniform4fv(a.bgClr,j)}n.uniform1i(a.source,0);
n.uniform1i(a.target,1);n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,w);n.activeTexture(n.TEXTURE1);
n.bindTexture(n.TEXTURE_2D,I);if(L){n.uniform1f(a.N,U);n.uniform1i(a.lut,2);n.activeTexture(n.TEXTURE2);
n.bindTexture(n.TEXTURE_2D,L.q3);var T=n.LINEAR;n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,T);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,T)}n.activeTexture(n.TEXTURE0)};function aB(){eB.call(this,[9,7],!1,"---panels/layercomps",eB.MP.aam);
this.Hi.setAttribute("style","min-width:240px;");this.yX=null;this.dI=-1;this.RM=[];this.LZ=O.S("div","scrollable");
this.LZ.style.height="160px";this.Hi.appendChild(this.LZ);this.gf=O.S("div","lpfoot");this.Hi.appendChild(this.gf);
this.AJ=[];var w=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],I=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var P=0;P<w.length;P++){var E=w[P];if(P>0)E="<img src=\""+PIMG[w[P]]+"\" class=\"miniscale gsicon\" />";
var X=new es(E,!1,I[P]);X.h("click",this.a93,this);this.gf.appendChild(X.m);this.AJ.push(X)}}aB.prototype=new eB("");
aB.prototype.hi=function(w,I){this.Hi.setAttribute("style","width:"+(w-2)+"px;");this.LZ.style.height=I-28+"px"};
aB.prototype.au=function(w){var I=new e9(W.E.s,!0);I.data=w;I.G=q.wD;this.c(I)};aB.ako="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
aB.prototype.a93=function(w){var P=this.AJ.indexOf(w.currentTarget)-1;if(P==-1){var I=new e9(W.E.Z,!0);
I.data={d:W.t.FN,Pb:aB.ako};this.c(I);return}if(P!=1)if(this.dI==-1)return;this.au({d:["updLC","addLC","delLC"][P],qI:this.dI});
if(P==2)this.dI=-1};aB.prototype.f=function(){eB.prototype.f.call(this);for(var P=0;P<this.AJ.length;
P++)this.AJ[P].f()};aB.prototype.tM=function(w){if(w==null)O.vK(this.Hi,"disabled");else O.yo(this.Hi,"disabled");
this.yX=w;O.wO(this.LZ);if(w==null)return;var I=w.ww.lastAppliedComp?w.ww.lastAppliedComp.v:0,E=w.ww.list.v.slice(0);
E.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var P=0;P<E.length;
P++){var X=E[P].v,o=new hs(X.Nm.v,X.compID.v,X.capturedInfo.v,I,this.dI);o.h("activate",this.ss,this);
o.parent=this;this.LZ.appendChild(o.m);this.RM.push(o)}};aB.prototype.ss=function(w){this.dI=w.currentTarget.qI;
this.tM(this.yX)};function hs(w,P,I,E,X){cu.call(this);this.qI=P;this.m=O.S("div","head listitem"+(P==X?" selected":""));
var o=P==E,i=new es(o?"\u2713":"\u2014");if(o)i.KX();this.m.appendChild(i.m);i.h("click",this.WW,this);
var h=this.kv=O.S("span");h.textContent=w;this.m.appendChild(h);this.AJ=[];if(P!=0){this.m.addEventListener("mouseup",this.ss.bind(this),!1);
this.axO=O.S("span","headR");this.m.appendChild(this.axO);var k=["lrs/eye","pos","lrs/fx"],x=["Visibility","Position","Appearance"];
for(var j=0;j<k.length;j++){var v=new es("<img src=\""+PIMG[k[j]]+"\" class=\"autoscale gsicon\" />",!1,x[j]);
if((I>>j&1)==0)v.m.setAttribute("style","opacity:0.3");v.h("click",this.aqL,this);this.axO.appendChild(v.m);
this.AJ.push(v)}}}hs.prototype=new cu;hs.prototype.ss=function(w){if(w.target!=this.kv&&w.target!=this.m)return;
if(w.detail==1)this.c(new e9("activate",!1));else{var I=new eB.hG(this.kv,this.lY.bind(this))}};hs.prototype.aqL=function(w){var P=this.AJ.indexOf(w.currentTarget);
this.au({d:"editLC",a4G:P,qI:this.qI})};hs.prototype.lY=function(w){this.au({d:"editLC",aD:w,qI:this.qI})};
hs.prototype.WW=function(w){this.au({d:"setLC",qI:this.qI})};hs.prototype.au=function(w){var I=new e9(W.E.s,!0);
I.data=w;I.G=q.wD;this.c(I)};function kn(){eB.call(this,[9,11],!1,"---panels/navigator",eB.MP.asn);var w=O.S("div","padded");
w.setAttribute("style","min-width:15em");this.Hi.appendChild(w);var I=O.S("div");w.appendChild(I);I.setAttribute("style","cursor:grab;");
this.U=O.S("canvas");this.U.width=100;I.appendChild(this.U);O.aa(this.U);O.KO(this.U,this.Vz.bind(this));
this.gQ=new kk(null,2,6400,"%",null,!0);this.gQ.h(W.E.r,this.a57,this);w.appendChild(this.gQ.m);this.ao4=this.IN.bind(this);
this.a0b=this.Yt.bind(this);this.Ke=null;this.FZ=null;this.nH=!1}kn.prototype=new eB("");kn.prototype.hi=function(w,I){this.xn()};
kn.prototype.a57=function(w){var I=this.gQ.Q(),E=this.Ke,X=I/100;if(.8<X&&X<1.2)X=1;else if(1.8<X)X=Math.round(X);
var o=new e9(W.E.s,!0);o.G=q.dc;o.data={d:"zoom",T:X};this.c(o)};kn.prototype.Vz=function(w){var I=this.Ke;
if(I==null)return;this.nH=!0;O.rv(window,this.ao4);O.M$(window,this.a0b)};kn.prototype.IN=function(w){var I=O.cz(w,this.U),E=this.Ke,X=this.U.width,o=this.U.height,i=(I.x*O.V()-X/2)/X,h=(I.y*O.V()-o/2)/o,k=O.V()*E.u.T,x=Math.round(-E.u.T*E.q*i),j=Math.round(-E.u.T*E.w*h);
q.yF.RE(E,x,j)};kn.prototype.Yt=function(w){O.Gk(window,this.ao4);O.$x(window,this.a0b);this.nH=!1};
kn.prototype.tM=function(w){if(w==null&&this.Ke!=null)this.U.width=100;this.Ke=w;this.xn()};kn.prototype.a8x=function(){var w=300*O.V(),I=0,E=this.Ke,X=[E.sQ(),new dC(0,0,E.q,E.w)];
Q.RQ(X);while(Math.max(X[I+1].q,X[I+1].w)>w){I+=2}this.FZ=X.slice(I)};kn.prototype.xn=function(){var w=this.Ke;
if(w==null||w.u.T==0)return;var I=w.u;if(!O.NJ(this.Hi))return;this.gQ.B(I.T*100);if(!this.nH)this.a8x();
var E=this.FZ[0],X=this.FZ[1],o=X.q,i=X.w,h=this.U;h.width=o;h.height=i;O.Pd(h,o,i);var k=h.getContext("2d"),x=k.createImageData(o,i);
Q.QM(E,x.data);k.putImageData(x,0,0);var j=I.mz,v=I.sP(j.x,j.y),_=I.sP(j.x+j.q,j.y+j.w),L=o/w.q;k.scale(L,L);
k.lineWidth=4/L;k.strokeStyle="#ff0000";k.strokeRect(v.x,v.y,_.x-v.x,_.y-v.y)};kn.prototype.eU=function(w,I){};
kn.prototype.j3=function(){this.xn()};function bH(w,I){eB.call(this,w.name,!1,w.icon,I);this.as8=w}bH.prototype=new eB("");
bH.prototype.No=function(){var w=this.Hi,I=this.as8;if(!O.NJ(w)||this.VX)return;var E=this.VX=O.S("iframe");
E.setAttribute("src",I.url);this.Hi.appendChild(E)};bH.prototype.j3=bH.prototype.tM=function(){this.No()};
bH.prototype.hk=function(w){if(O.NJ(this.VX))this.VX.contentWindow.postMessage(w,"*")};bH.prototype.hi=function(w,I){if(this.VX==null)return;
this.VX.setAttribute("style","width:"+w+"px; height:"+I+"px")};function jz(){eB.call(this,[9,12],!1,"---panels/tpreset",eB.MP.Q6);
this.m6=null;this.$f=new gu(q.nz);this.$f.parent=this;var w=O.S("div","padded");w.setAttribute("style","width:20em");
this.Hi.appendChild(w);w.appendChild(this.$f.aP)}jz.prototype=new eB("");jz.prototype.j3=function(){this.$f.Kn(this.m6.w7)};
jz.prototype.eU=function(w,I){this.m6=w;if(I==ik.Vk||I==ik.Q6)this.$f.Kn(w.w7)};jz.prototype.hi=function(w,I){this.$f.akP(this.m6.OZ)};
jz.prototype.f=function(){eB.prototype.f.call(this);this.$f.f()};var fA=function(){var w=[],I=null,E=null,X=null,o=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function i(){eB.call(this,"Memory",!1,null,eB.MP.aa3);var L=O.S("div","padded");this.Hi.appendChild(L);
E=new es(["<< VAR0",[0,13,2]],!1,null,!0);E.addEventListener("click",function(U){w.pop();k()});L.appendChild(E.m);
I=O.S("div","scrollable");I.setAttribute("style","width:20em;  height:26em; margin-top:8px;");L.appendChild(I)}i.prototype=new eB("");
i.prototype.tM=function(L,U,n){X=U;this.j3()};i.prototype.j3=function(){E.Fx(!1);if(!O.NJ(I))return;
var L={gm:"Total:",CJ:[]};for(var P=0;P<X.length;P++)L.CJ.push(j(X[P]));_(L);w=[L];k()};i.prototype.f=function(){eB.prototype.f.call(this);
E.f()};function h(L){var U=L.currentTarget,P=0;while((U=U.previousSibling)!=null)P++;w.push(w[w.length-1].CJ[P-1]);
k()}function k(){E.Fx(w.length>1);var L=w[w.length-1];O.wO(I);x(L,I,0);L.CJ.sort(function(U,n){return n.Ky[0]-U.Ky[0]});
for(var P=0;P<L.CJ.length;P++)x(L.CJ[P],I,1)}function x(L,U,n){var a=eP.WH,T=n!=0&&L.CJ,g="margin-left:"+n*10+"px; margin-bottom:8px; padding:3px 5px;";
if(T)g+="cursor:pointer;";if(L.Vq!=null)g+="background-color:rgba("+o[L.Vq].join(",")+",0.2);";var D=O.S("div");
U.appendChild(D);D.setAttribute("style",g);D.innerHTML=O.qk(L.gm)+"<br />"+"RAM: <b>"+a(L.Ky[0])+"</b>\u2001GPU: <b>"+a(L.Ky[1])+"</b>";
if(T)D.addEventListener("click",h,!1)}function j(L){var U={gm:L.name,CJ:[],Vq:0},n=R.U7?1:0,a=1-n,T={gm:"Final Image",Ky:[L.q*L.w*4,n*L.q*L.w*4],Vq:2};
U.CJ.push(T);for(var P=0;P<L.b.length;P++){var g=v(L.b[P]);if(g.CJ.length!=0)U.CJ.push(g)}var D=L.add.lnk2;
if(D)for(var P=0;P<D.length;P++){var g=D[P],b={gm:g.Ov,CJ:[],Vq:4},N=0;b.CJ.push({gm:"Raw file",Ky:[g.raw.length,0]});
if(g.lG)for(var C=0;C<g.lG.length;C+=2)N+=g.lG[C].length;if(N!=0)b.CJ.push({gm:"Decoded pixels",Ky:[N,0]});
_(b);U.CJ.push(b)}_(U);return U}function v(L){var U={gm:L.getName(),CJ:[],Vq:1},n=R.U7?1:0,a=1-n,T=L.rect.A();
if(T!=0)U.CJ.push({gm:"Layer pixels",Ky:[T*4,n*T*4]});if(L.add.lmfx&&L.Nu.OG.type){var g=L.Nu.OG.type,C=0;
for(var D in g){var b=0;for(var N=0;N<g[D].length;N++)if(D=="ebbl"){if(g[D][N].Jt)b+=g[D][N].Jt.ze.A();
if(g[D][N].Z8)b+=g[D][N].Z8.ze.A();if(g[D][N].NL)b+=g[D][N].NL.ze.A();if(g[D][N].QT)b+=g[D][N].QT.ze.A()}else b+=g[D][N].ze.A();
if(b!=0)U.CJ.push({gm:df.get(hL.names[hL.order.indexOf(D)]),Ky:[a*b*4,n*b*4],Vq:3})}if(L.Nu.h6)C+=T;
if(L.Nu.f_)C+=T;if(L.Nu.$j)C+=T;if(L.Nu.$j)C+=T;if(L.Nu.Rs)C+=T;if(L.Nu.pm)C+=T;var Z=L.Nu._3?L.Nu._3.length:0;
if(C+Z!=0)U.CJ.push({gm:"Additional Blending Data",Ky:[a*C*4+Z,n*C*4]})}var S=L.pi(),u=S?S.rect.A():0;
if(u!=0){U.CJ.push({gm:"Raster Mask",Ky:[u,0]})}var S=L.add.vmsk,u=S&&S.Zk?S.Zk.rect.A():0;if(u!=0){U.CJ.push({gm:"Vector Mask",Ky:[u,0]})}_(U);
return U}function _(L){L.Ky=[0,0];for(var P=0;P<L.CJ.length;P++){L.Ky[0]+=L.CJ[P].Ky[0];L.Ky[1]+=L.CJ[P].Ky[1]}}return i}();
function iR(){eB.call(this,[9,14],!1,"---panels/notes",eB.MP.a2v);this.Hi.setAttribute("style","min-width:240px;");
var w=O.S("div","padded");this.Hi.appendChild(w);this.C0=new aR("Author");w.appendChild(this.C0.m);this.W2=O.S("textarea");
O.g5(this.W2);w.appendChild(this.W2);var I=new es("<<",null,null,!0);w.appendChild(I.m);this.a6a=I;var E=new es(">>",null,null,!0);
w.appendChild(E.m);I.h("click",this.CF,this);E.h("click",this.CF,this);var X=this.aew=new gJ("");w.appendChild(X.m)}iR.prototype=new eB("");
iR.prototype.CF=function(w){var I=w.target==this.a6a?-1:1,E=this.Ke,X=E.add.Anno;if(X==null)return;var o=X.length,i=E.u.GY;
E.u.GY=(i+I+o)%o;E.oP=!0;this.xn()};iR.prototype.xn=function(){var w=this.Ke;if(w==null)return;var I=w.add.Anno;
if(I==null||I.length==0)return;var E=w.u.GY,X=I[E];this.W2.value=X[4];this.aew.B(E+1+" / "+I.length);
this.C0.B(X[3])};iR.prototype.hi=function(w,I){if(this.LQ==w)return;this.LQ=w;I=Math.min(I,200);this.W2.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(w-10)+"px; height:"+(I-66)+"px")};
iR.prototype.tM=function(w,I,E){this.Ke=w;this.xn()};function gK(){cu.call(this);this.G=0;this.y4=null;
this.m=O.S("div","toolconf");this.$f=null;this.vm=null;this.body=new O.S("div","body")}gK.prototype=new cu;
gK.prototype.ad4=function(w,I){this.G=w;this.y4=I;if(q.Jk[w]){var E=this.$f=new gu(w);this.m.appendChild(E.m);
E.parent=this}else{this.vm=O.S("div");this.m.appendChild(this.vm)}this.m.appendChild(this.body);this.f()};
gK.prototype.anj=function(w,I){};gK.prototype.aqO=function(w){};gK.prototype.eU=function(w,I){if(I==ik.Vk||I==ik.Q6)if(this.$f)this.$f.Kn(w.w7)};
gK.prototype.v7=function(w){};gK.prototype.f=function(){if(this.$f)this.$f.f();else this.vm.innerHTML=O.UG(this.y4,null,"toolicon");
this.jr()};gK.prototype.jr=function(){};function iK(){gK.call(this);this.rS=new jc;this.rS.h(W.E.r,this.sj,this);
this.body.appendChild(this.rS.m)}iK.prototype=new gK;iK.prototype.jr=function(){this.rS.f()};iK.prototype.sj=function(w){var I=new e9(W.E.Z,!0);
I.data={d:W.t.Jd,G:this.G,GT:this.rS.a5K()};this.c(I)};iK.prototype.v7=function(w){this.rS.a6M(w.iw)};
function d7(w){gK.call(this);if(w==null)return;this.m6=null;this.y9={};if(w.indexOf("brush")!=-1&&w.indexOf("prsr")==-1)w.push("prsr");
for(var P=0;P<w.length;P++){var I=w[P],E=null;if(I=="brush"){E=new ix}if(I=="bmode"){E=new b4([12,19,0],hH.He,!1,hH.pc)}if(I=="bmode0"){E=new b4([12,19,0],hH.He.slice(23),!1)}if(I=="emode"){E=new b4([12,36],[[9,3],[10,38]])}if(I=="opacity"){E=new ic([12,0],0,100,"%");
E.B(100)}if(I=="flow"){E=new ic([12,63],0,100,"%");E.B(100)}if(I=="smth"){E=new ic([19,3,0],0,100,"%");
E.B(0)}if(I=="samp"){E=new b4([12,36],[[12,25,4],[12,25,5],[12,46]])}if(I=="wconf"){E=new bL;E.B([40,!0,!0])}if(I=="sall"){E=new em([12,25,2])}if(I=="strn"){E=new ic([12,64],1,100,"%");
E.B(50)}if(I=="smode"){E=new b4([12,36],[[19,7,0],[19,7,1]]);E.B(1)}if(I=="pdetail"){E=new em([12,65]);
E.KX()}if(I=="rng"){E=new b4([12,12],[[19,6,0],[19,6,1],[19,6,2]]);E.B(1)}if(I=="expo"){E=new ic([12,5],0,100,"%");
E.B(50)}if(I=="algnd"){E=new em([12,75]);E.B(!1)}if(I=="sfrom"){E=new b4([12,70],[[17,1],[17,3],[17,0]])}if(I=="alt"){E=new fY(null,["Alt"],!0,["Select Source"])}if(I=="qsmode"){E=new f$([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(I=="redge"){E=new es([7,11],!1,null,!0)}if(I=="setop"){E=new hI}if(I=="patch"){E=new f$(null,[[12,70],[12,71]])}if(I=="prsr"){E=this.y9.brush.oD}this.body.appendChild(E.m);
if(I=="prsr")continue;E.parent=this;this.y9[I]=E;if(I=="brush")E.h(W.E.r,this.aeg,this);else if(I=="redge")E.h("click",this.U0,this);
else E.h(W.E.r,this.Re,this)}}d7.prototype=new gK;d7.prototype.anj=function(w,I){w=w[1];var E=this.y9;
if(w.Md)E.bmode.B(hH.zg.indexOf(w.Md.v.BlnM));if(w.Opct)E.opacity.B(w.Opct.v);if(w.flow)E.flow.B(w.flow.v);
if(w.Brsh)E.brush.B(w,I.uO.Ar,I.uO.a6);if(w.FrgC){var X=Q.N.BL(w.FrgC.v),o=new e9(W.E.Z,!0);o.data={d:W.t.e1,GT:ik.xa,ns:0,k:X.o<<16|X.P<<8|X.L};
this.c(o)}this.aeg();this.Re()};d7.prototype.aqO=function(){if(q.Jk[this.G]==null)return null;var w=this.y9,I=JSON.parse(JSON.stringify(w.brush.Q()));
I.classID=q.Jk[this.G][1][0];if(w.bmode)I.Md={t:"enum",v:{BlnM:hH.zg[w.bmode.Q()]}};if(w.opacity)I.Opct={t:"long",v:w.opacity.Q()};
if(w.flow)I.flow={t:"long",v:w.flow.Q()};var E=this.m6.Ht;E={o:E>>>16,P:E>>>8&255,L:E&255};I.FrgC={t:"Objc",v:Q.N.Ex(E)};
return["Brush Preset "+I.Brsh.v.Dmtr.v.val,I]};d7.prototype.U0=function(){var w=new e9(W.E.Z,!0);w.data={d:W.t.GV,ei:"redge"};
this.c(w)};d7.prototype.jr=function(){for(var w in this.y9)this.y9[w].f()};d7.prototype.v7=function(w){if(w.acL=="showBrushOpts"){this.y9.brush.anR(w.m1.x,w.m1.y)}for(var I in w.nl){var E=w.nl[I];
if(I!="qsmode")E*=100;if(this.y9[I])this.y9[I].B(E)}};d7.prototype.eU=function(w,I){gK.prototype.eU.call(this,w,I);
this.m6=w;var E=this.y9.brush;if(E==null)return;if(I==ik.Vk||I==ik.nz)E.Kn(w.uO);if(I==ik.ZH){E.B(w.uO.Yc,w.uO.Ar,w.uO.a6)}};
d7.prototype.aeg=function(){var w=new e9(W.E.Z,!0);w.data={d:W.t.e1,GT:ik.ZH,Cl:this.y9.brush.Q()};this.c(w)};
d7.prototype.Re=function(){var w=new e9(W.E.Z,!0);w.data={d:W.t.Jd,G:this.G};for(var I in this.y9){if(I=="brush"||I=="redge")continue;
var E=this.y9[I].Q();if(["opacity","flow","smth","strn","expo"].indexOf(I)!=-1)w.data[I]=E/100;else if(I=="bmode")w.data.bmode=hH.H1[E];
else if(I=="bmode0")w.data.bmode=hH.H1[23+E];else w.data[I]=E}this.c(w)};function er(w,I){gK.call(this);
if(w)return;this.y9={};for(var P=0;P<I.length;P++){var E=I[P],X=null;if(E=="binop")X=new hI;if(E=="feat"){X=new ic([7,6],0,100,"px");
X.B(0)}if(E=="redge")X=new es([7,11],!1,null,!0);if(E=="wconf")X=new bL;if(E=="cstr")X=new a6;if(E=="anta"){X=new em([12,25,1]);
X.B(!0)}if(E=="sall")X=new em([12,25,2]);if(E=="redge")X.h("click",this.U0,this);else X.h(W.E.r,this.Re,this);
X.parent=this;this.body.appendChild(X.m);this.y9[E]=X}}er.prototype=new gK;er.prototype.v7=function(w){if(w.oK!=null)this.y9.binop.B(w.oK);
else if(w.pb){for(var I in w.pb)if(this.y9[I])this.y9[I].B(w.pb[I])}else{var E=er.cx;if(E==null){var X=dL.ab2(!0);
E=er.cx=new j$(X.items,X.pL)}E.f();E.parent=this;E.update(w.ii,w.Ff);var o=new e9(W.E.Z,!0);o.data={d:W.t.DI,E5:E,x:w.PD.SD+2,y:w.PD.P4+1};
this.c(o)}};er.prototype.jr=function(){for(var w in this.y9)this.y9[w].f()};er.prototype.U0=function(){var w=new e9(W.E.Z,!0);
w.data={d:W.t.GV,ei:"redge"};this.c(w)};er.prototype.Re=function(){var w=new e9(W.E.Z,!0);w.data={d:W.t.Jd,G:this.G,pb:{}};
for(var I in this.y9)w.data.pb[I]=this.y9[I].Q();this.c(w)};function dj(){d7.call(this,["brush","strn"])}dj.prototype=new d7;
function ih(){d7.call(this,"brush bmode opacity flow smth prsr".split(" "))}ih.prototype=new d7;function ke(){d7.call(this,["brush","bmode0","samp","wconf"])}ke.prototype=new d7;
function ek(){d7.call(this,["brush"])}ek.prototype=new d7;function jV(){d7.call(this,["brush","bmode","opacity","smth","prsr"])}jV.prototype=new d7;
function bu(){d7.call(this,["brush","rng","expo"])}bu.prototype=new d7;function jY(){d7.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}jY.prototype=new d7;
function f6(w){gK.call(this);if(w==null)return;var I=O.S("span","fitem");this.body.appendChild(I);var E=[[17,0],[17,1],[11,12,0],[17,2]];
this.hF=[];for(var P=0;P<E.length;P++){var X=new es(E[P],!1,null,!0);this.hF.push(X);X.h("click",this.a8y,this);
if(!w||P==1)I.appendChild(X.m)}this.XG=new a6;this.XG.h(W.E.r,this.ash,this);if(!w)this.body.appendChild(this.XG.m);
this.NP=new es([15,7,6],!1,null,!0);this.NP.h("click",this.a8y,this);if(!w)this.body.appendChild(this.NP.m);
this.Ti=new em([15,7,10]);this.Ti.h(W.E.r,this.ash,this);if(!w)this.body.appendChild(this.Ti.m);this.Bb=new e$;
this.Bb.h("click",this.sY,this)}f6.prototype=new gK;f6.prototype.jr=function(){this.Bb.f();for(var P=0;
P<this.hF.length;P++)this.hF[P].f();this.XG.f();this.Ti.f();this.NP.f()};f6.prototype.v7=function(w){var I=this.Bb.m;
if(w.Fc)this.body.appendChild(I);else if(this.body.contains(I))this.body.removeChild(I);if(w.XG)this.XG.B(w.XG)};
f6.prototype.sY=function(w){var I={d:W.t.Jd,G:this.G,jt:this.Bb.Q()?"commit":"cancel"},E=new e9(W.E.Z,!0);
E.data=I;this.c(E)};f6.prototype.a8y=function(w){w.target.m.blur();var I={d:W.t.Jd,G:this.G,jt:"cropby",anJ:this.hF.indexOf(w.target)};
if(w.target==this.NP)I.jt="straighten";var E=new e9(W.E.Z,!0);E.data=I;this.c(E)};f6.prototype.ash=function(w){var I={d:W.t.Jd,G:this.G,jt:"config",xS:{J5:this.XG.Q(),JB:this.Ti.Q()},a7D:w.target==this.XG},E=new e9(W.E.Z,!0);
E.data=I;this.c(E)};function cW(){f6.call(this,!1)}cW.prototype=new f6;function iJ(){f6.call(this,!0)}iJ.prototype=new f6;
function iS(){d7.call(this,["brush","rng","expo"])}iS.prototype=new d7;function ev(){d7.call(this,"brush emode opacity flow smth prsr".split(" "))}ev.prototype=new d7;
function hE(){d7.call(this,["brush","samp","wconf"])}hE.prototype=new d7;function eg(){er.call(this,!1,["binop","feat","anta","redge","cstr"])}eg.prototype=new er(!0);
function ee(){gK.call(this);var w=this.y9=[new b4([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new b4([12,70],[[17,1],[17,3],[17,0]]),new em([12,20,1]),new em([8,0])];
w[1].B(2);w[2].B(!0);for(var P=0;P<w.length;P++){var I=w[P];I.h(W.E.r,this.Re,this);this.body.appendChild(I.m)}}ee.prototype=new gK;
ee.prototype.Re=function(w){var I=this.y9,E=[];for(var P=0;P<I.length;P++)E[P]=I[P].Q();var X=new e9(W.E.Z,!0);
X.data={d:W.t.Jd,G:this.G,pb:E};this.c(X)};ee.prototype.jr=function(){for(var P=0;P<this.y9.length;P++)this.y9[P].f()};
function iI(){gK.call(this);this.T4=new b2(!1);this.T4.parent=this;this.T4.h(W.E.r,this.ZX,this);this.body.appendChild(this.T4.m);
this.T4.B(JSON.parse(hL.My.axk).v);this.J9=new b4(null,hL.N.names.slice(0,5));this.J9.h(W.E.r,this.ZX,this);
this.body.appendChild(this.J9.m);this.lP=new b4([12,19,0],hH.He,null,hH.pc);this.lP.h(W.E.r,this.ZX,this);
this.body.appendChild(this.lP.m);this.O3=new ic([12,0],0,100,"%");this.O3.parent=this;this.O3.h(W.E.r,this.ZX,this);
this.body.appendChild(this.O3.m);this.O3.B(100);this.Se=new em([12,23,0]);this.Se.h(W.E.r,this.ZX,this);
this.body.appendChild(this.Se.m);this.oj=new em([12,23,3]);this.oj.h(W.E.r,this.ZX,this);this.body.appendChild(this.oj.m)}iI.prototype=new gK;
iI.prototype.jr=function(){this.J9.f();this.lP.f();this.O3.f();this.Se.f();this.oj.f()};iI.prototype.eU=function(w,I){gK.prototype.eU.call(this,w,I);
var E=I==ik.xa;this.T4.y7(w.Ht,w.Mw);if(E||I==ik.x6||I==ik.Vk)this.T4.Kn(w.pv)};iI.prototype.ZX=function(){var w=new e9(W.E.Z,!0);
w.data={d:W.t.Jd,G:this.G};w.data.GT={N:this.T4.Q(),C$:hL.N.types[this.J9.Q()],kW:this.Se.uf(),a4b:this.oj.uf(),a1h:hH.H1[this.lP.Q()],j9:this.O3.Q()/100};
this.c(w)};function eq(){gK.call(this)}eq.prototype=new gK;function b9(){gK.call(this);var w=O.S("span","fitem");
this.body.appendChild(w);this.RV=[new ic([12,15],-180,180,"\xB0"),new es([1,12,2],null,null,!0)];for(var P=0;
P<this.RV.length;P++){var I=this.RV[P];I.parent=this;w.appendChild(I.m);I.h(P==1?"click":W.E.r,this.q4,this)}}b9.prototype=new gK;
b9.prototype.jr=function(){for(var P=0;P<this.RV.length;P++)this.RV[P].f()};b9.prototype.v7=function(w){this.RV[0].B(w.ll*180/Math.PI)};
b9.prototype.q4=function(w){var I=this.RV.indexOf(w.target),E=new e9(W.E.Z,!0);E.data={d:W.t.Jd,G:this.G,ll:I==1?0:w.target.Q()*Math.PI/180};
this.c(E)};function ep(){d7.call(this,["brush","algnd","sfrom","alt"])}ep.prototype=new d7;function co(){gK.call(this);
this.uE=new b_;this.uE.parent=this;this.body.appendChild(this.uE.ju.m);this.body.appendChild(this.uE.IR.m);
this.body.appendChild(this.uE.IU.m);this.body.appendChild(this.uE.Z5.m);var w=O.S("span","fitem");this.body.appendChild(w);
w.appendChild(this.uE.VS.m);w.appendChild(this.uE.C8.m);w.appendChild(this.uE.Vs.m);this.xX=new b4("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.xX.h(W.E.r,this.sY,this);this.body.appendChild(this.xX.m);this.rG=new es([11,9],!1,null,!0);this.rG.h("click",this.a3z,this);
this.body.appendChild(this.rG.m);this.Bb=new e$;this.Bb.h("click",this.sY,this)}co.prototype=new gK;
co.prototype.jr=function(){this.Bb.f();this.uE.f();this.rG.f()};co.prototype.a3z=function(w){var I={d:W.t.Jd,G:this.G,jt:"showwarp"},E=new e9(W.E.Z,!0);
E.data=I;this.c(E)};co.prototype.v7=function(w){if(w.jt=="showactive")this.body.appendChild(this.Bb.m);
if(w.jt=="hideactive")this.body.removeChild(this.Bb.m);if(w.jt=="changeAA")this.xX.B(w.pW)};co.prototype.eU=function(w,I){gK.prototype.eU.call(this,w,I);
if(I!=ik.Vk&&I!=ik.fr&&I!=ik.HV&&I!=ik.pj)return;this.uE.B(w.j8,w.vj,w.Gh)};co.prototype.sY=function(w){var I={d:W.t.Jd,G:this.G,jt:this.Bb.Q()?"commit":"cancel"};
if(w.target==this.xX){I.jt="changeAA";I.pW=this.xX.Q()}var E=new e9(W.E.Z,!0);E.data=I;this.c(E)};function e6(){er.call(this,!1,["binop","feat","anta","redge"])}e6.prototype=new er(!0);
function kb(){gK.call(this);var w=[],E="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.xJ=new em([12,85]);this.xJ.h(W.E.r,this.Re,this);w.push(this.xJ.m);this.ZD=new em([20,1]);this.ZD.h(W.E.r,this.Re,this);
w.push(this.ZD.m);this.QK=new em([12,83]);this.QK.h(W.E.r,this.Re,this);w.push(this.QK.m);var I=O.S("span","fitem");
w.push(I);this.ahv=new b4("Scale for exported files",["1x","2x","3x","4x"],!0);I.appendChild(this.ahv.m);
this.jb=new es(E+" PNG",!1,"Save selected layers as PNG",!0);I.appendChild(this.jb.m);this.jb.h("click",this.dS,this);
this.anw=new es(E+" SVG",!1,"Save selected layers as SVG",!0);I.appendChild(this.anw.m);this.anw.h("click",this.dS,this);
var X=O.S("span","fitem");w.push(X);var o=O.S("span","fitem");w.push(o);this.AJ=[];for(var P=0;P<8;P++){var i=P==3||P==7?[20,4,6]:[20,4,P<3?P:P-1],h=new es("Hi",!1,i);
(P<4?X:o).appendChild(h.m);h.h("click",this.dS,this);this.AJ.push(h)}for(var P=0;P<w.length;P++)this.body.appendChild(w[P]);
this.aqx=w}kb.prototype=new gK;kb.prototype.v7=function(w){var I=w.iw,E=w.au_;this.xJ.B(I.qR);this.ZD.B(I.a7);
this.QK.B(I.ms);if(E){O.wO(this.body);for(var P=0;P<E.length;P++)if(E[P]==1&&this.aqx[P])this.body.appendChild(this.aqx[P])}};
kb.prototype.dS=function(w){var I=this.AJ.indexOf(w.target),E;if(I==-1){E=new e9(W.E.Z,!0);E.data={d:W.t.Jd,G:this.G,ns:w.target==this.jb?"getPNG":"getSVG",E$:this.ahv.Q()+1}}else{E=new e9(W.E.s,!0);
E.G=q.xE;E.data={d:"algn",k:I}}this.c(E)};kb.prototype.Re=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.Jd,G:this.G,ns:"prms",qR:this.xJ.uf(),a7:this.ZD.uf(),ms:this.QK.uf()};
this.c(I)};kb.prototype.jr=function(){this.xJ.f();this.ZD.f();this.QK.f();var w="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var P=0;P<8;P++){this.AJ[P].vw(O.UG("align/"+w[P],null,"autoscale"))}};function cU(){er.call(this,!1,["binop","feat","redge","wconf","sall"])}cU.prototype=new er(!0);
function cx(){d7.call(this,["setop","patch"])}cx.prototype=new d7;function aY(){d7.call(this,["setop"])}aY.prototype=new d7;
function jS(){d7.call(this,["bmode","opacity","wconf","sall"])}jS.prototype=new d7;function cX(){er.call(this,!1,["binop","feat","anta","redge"])}cX.prototype=new er(!0);
function fk(){er.call(this,!1,["binop","feat","anta","redge"])}fk.prototype=new er(!0);function eG(){er.call(this,!1,["binop","feat","redge","cstr"])}eG.prototype=new er(!0);
function a0(){gK.call(this);this.m6=null;this.Rz=null;this.M4=[new aR("X",null,3.2,null,!0),new aR("Y",null,3.2,null,!0),new aR("W",null,3.2,null,!0),new aR("H",null,3.2,null,!0),new aR([12,15],"\xB0",3.7,null,!0),new aR(["VAR0 1",[12,80,0]],null,3.5,null,!0),new aR(["VAR0 2",[12,80,0]],null,3.5,null,!0),new es([15,7,6],!1,null,!0),new es([2,2],!1,null,!0)];
for(var P=0;P<this.M4.length;P++){var w=this.M4[P];this.body.appendChild(w.m);if(P>6)w.h("click",this.OK,this)}this.$N=0}a0.prototype=new gK;
a0.prototype.OK=function(w){var I=this.M4.indexOf(w.target)==7,E=new e9(W.E.s,!0);if(I){if(this.$N==0)return;
E.G=q.Ai;E.data={d:"rot",Wj:[2,5],k:-this.$N}}else{E.G=q.$u;for(var P=0;P<6;P++)this.M4[P].B(null)}this.c(E)};
a0.prototype.v7=function(w){function I(k,x,j){var v=Math.sqrt(Math.pow(x.x-k.x,2)+Math.pow(x.y-k.y,2)),_=Math.sqrt(Math.pow(x.x-j.x,2)+Math.pow(x.y-j.y,2)),L=Math.sqrt(Math.pow(j.x-k.x,2)+Math.pow(j.y-k.y,2));
return Math.acos((_*_+v*v-L*L)/(2*_*v))}if(w==null)return;this.Rz=w;var E=w.a8m,X=w.Iu,o=X.x-E.x,i=X.y-E.y;
this.$N=-Math.atan2(i,o);if(w.hR)this.$N=I(X,E,w.hR);var h=this.M4;h[0].B(this.DD(w,E.x));h[1].B(this.DD(w,E.y));
h[2].B(this.DD(w,o));h[3].B(this.DD(w,i));h[4].B((this.$N*180/Math.PI).toFixed(2));h[5].B(this.DD(w,a5.GZ(E,X)));
if(w.hR){h[6].B(this.DD(w,a5.GZ(E,w.hR)))}else h[6].B("")};a0.prototype.DD=function(w,I){var E=Q.Ha.Wo(I,w.nN,this.m6,w.apj,!1);
return parseFloat(E).toFixed(2)};a0.prototype.eU=function(w,I){this.m6=w;this.v7(this.Rz)};a0.prototype.jr=function(){var w=this.M4;
for(var P=0;P<w.length;P++)w[P].f();O.k3(w[2],w[3])};function bI(){d7.call(this,["brush","strn","pdetail"])}bI.prototype=new d7;
function kw(){d7.call(this,["brush","sfrom"]);this.adp=[];var w=[[7,12]];for(var P=0;P<w.length;P++){var I=new es(w[P],!1,null,!0);
this.adp.push(I);I.parent=this;this.body.appendChild(I.m);I.h("click",this.a9T,this)}}kw.prototype=new d7;
kw.prototype.a9T=function(w){var I=this.adp.indexOf(w.currentTarget),E=new e9(W.E.a3,!0);E.data=q.Og._u("contentAware");
this.c(E)};function dz(){d7.call(this,["brush","strn"])}dz.prototype=new d7;function cC(){d7.call(this,["brush","flow","smode"])}cC.prototype=new d7;
function f_(){gK.call(this);this.ja=!1;var w=O.S("span","fitem");this.body.appendChild(w);this.O0=new f$(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
w.appendChild(this.O0.m);this.O0.h(W.E.r,this.Re,this);this.mF=new es([20,2]);this.body.appendChild(this.mF.m);
this.mF.h("click",this.atD,this);this.sq=new es([20,3]);this.body.appendChild(this.sq.m);this.sq.h("click",this.atD,this)}f_.prototype=new gK;
f_.prototype.jr=function(){this.mF.f();this.sq.f()};f_.prototype.Re=function(){var w={d:W.t.Jd,G:this.G,GC:this.O0.Q()==0},I=new e9(W.E.Z,!0);
I.data=w;this.c(I)};f_.prototype.v7=function(w){if(this.ja!=w.ja)this.O0.B(1-this.O0.Q());this.ja=w.ja};
f_.prototype.atD=function(w){var I=new e9(W.E.s,!0);I.G=q.dc;I.data={d:"adapt",k:w.target==this.mF?"pixel":"fitscr"};
this.c(I)};function jf(w,I){gK.call(this);if(w==null)return;this.cd=w;this.RU={};this.a9_=I;for(var P=0;
P<w.length;P++){var E=w[P],X=null;if(E=="tmode"){X=new b4(null,[[12,76,1],[12,76,0],[12,76,2]]);X.B(0);
if(I)X.at4(2)}if(E=="make"){X=new f$("Make",[[17,2],[12,76,1]],null,!0)}if(E=="anta"){X=new em([12,25,1]);
X.B(!0)}if(E=="binop"){X=new b4(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(E=="pshape")X=new b4(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(E=="shape")X=new iy([12,76,1]);if(E=="crad"){X=new ic([12,94,0],0,50,"px");X.B(0)}if(E=="cstr"){X=new a6}if(E=="irad"){X=new ic([12,94,1],0,100,"%");
X.B(40)}if(E=="length"){X=new ic([12,80,0],4,40);X.B(4)}if(E=="sides"){X=new ic([12,78],3,30);X.B(5)}if(E=="width"){X=new ic([12,41],1,100,"px");
X.B(5)}if(E=="tolr"){X=new ic([12,24],0,100);X.B(5)}if(E=="fstyle"){X=new iZ([12,26])}if(E=="sstyle"){X=new ab}if(E=="psnap"){X=new em([8,10])}if(E=="crnr"){X=new es("\u2312",!1,[12,94,0],!0)}if(E=="aopts"){X=new hX;
X.B([!1,!1,50,60,0])}X.parent=this;this.body.appendChild(X.m);this.RU[E]=X;X.h(E=="crnr"?"click":W.E.r,this.Re,this)}}jf.prototype=new gK;
jf.prototype.v7=function(w){if(w.oK!=null)this.RU.binop.B(w.oK);else if(w.ns=="vals")for(var I in w.asa)this.RU[I].B(w.asa[I]);
else{var E=jf.cx;if(E==null)E=jf.cx=new j$([{name:"Remove Anchor Point",i:function(o){var i=o?o.cm():null;
return{i:o&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.pa.length!=0}}},{name:"Remove Path",i:function(o){var i=o?o.cm():null;
return{i:o&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.g.length!=0}},Lf:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{X:W.E.s,G:q.bl,v:{d:"remove",JD:!0}},{X:W.E.s,G:q.kQ,v:{d:"remove"}},{X:W.E.Z,v:{d:W.t.GV,ei:"makesel"}},{X:W.E.a3,v:q.zs.L1(0)},{X:W.E.a3,v:q.zs.L1(1)}]);
E.parent=this;E.update(w.ii,w.Ff);var X=new e9(W.E.Z,!0);X.data={d:W.t.DI,E5:E,x:w.PD.SD+2,y:w.PD.P4+1};
this.c(X)}};jf.prototype.au8=function(P){return null};jf.prototype.jr=function(){for(var w in this.RU){this.RU[w].f()}};
jf.prototype.Re=function(w){var I=new e9(W.E.Z,!0),E=this.RU;if(w.target==E.crnr){I=new e9(W.E.s,!0);
I.G=q.bl;I.data={d:"crnr"}}else if(w.target==E.make){var P=w.target.Q();console.log(P);if(P==0)I.data={d:W.t.GV,ei:"makesel"};
else{I=new e9(W.E.s,!0);I.G=q.jh;I.data={d:"newfill",Vq:0}}}else if(w.target==E.fstyle){I.data={d:W.t.e1,GT:ik.hy,k:E.fstyle.Q()}}else if(w.target==E.sstyle){I.data={d:W.t.e1,GT:ik.Vc,k:E.sstyle.Q()}}else if(w.target==E.tmode){I.data={d:W.t.e1,GT:ik.P7,k:E.tmode.Q()}}else{if(E.pshape)this.I1();
I.data={d:W.t.Jd,G:this.G};for(var X in E)I.data[X]=E[X].Q()}this.c(I)};jf.prototype.I1=function(){var w=this.RU,I=w.tmode.Q(),E=w.pshape?this.au8(w.pshape.Q()):this.cd,X;
if(I==0)X=["anta","make"];if(I==1)X=["anta","fstyle","sstyle"];if(I==2)X=["make","binop","fstyle","sstyle"];
var o=w.binop;if(o){var i=o.Q();if(I==0){o.acx(0)}else{o.at4(0);if(i==0){o.B(1);this.Re({target:o})}}}O.wO(this.body);
for(var P=0;P<E.length;P++){var h=E[P];if(X.indexOf(h)!=-1)continue;this.body.appendChild(w[h].m)}};
jf.prototype.eU=function(w,I){gK.prototype.eU.call(this,w,I);var E=this.RU.fstyle,X=this.RU.sstyle,o=this.RU.tmode;
if(E)E.eU(w,I);if(X)X.eU(w,I);if(I==ik.Vk||I==ik.EO)if(w.V9.length!=0&&this.RU.shape){this.RU.shape.Kn(w.V9)}if(I==ik.Vk||I==ik.hy)if(E)E.B(null,w.sk,w.a6S);
if(I==ik.Vk||I==ik.Vc)if(X)X.B(null,w.y6,w.arI);if(I==ik.Vk||I==ik.P7){var i=w.GP;if(this.a9_&&i==2)i=0;
if(o){o.B(i);this.I1()}}};function br(){jf.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}br.prototype=new jf;
function jL(){jf.call(this,"tmode make anta fstyle sstyle binop".split(" "))}jL.prototype=new jf;function hD(){jf.call(this,["fstyle","sstyle"]);
this.ah_=null;this.alf=null;this.anx=null;this.FF=new b4([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.nH=new es("\u25BC");this.nH.KX();this.if=new es("\u25B2");this.if.KX();this.Bl=[this.FF,this.nH,this.if];
for(var P=0;P<this.Bl.length;P++){var w=this.Bl[P];this.body.appendChild(w.m);w.parent=this;w.h(P==0?W.E.r:"click",this.JX,this)}}hD.prototype=new jf;
hD.prototype.v7=function(w){if(w.jt=="main"){var I=this.Bl,E=w.S7;if(E){this.alf=E.clone();this.anx=JSON.stringify(w.GJ);
var X=E.g.slice(0),o=X.length;for(var P=0;P<X.length;P++)X[P]++;X.sort(function(x,j){return x-j});I[0].GR();
I[1].Fx(o!=0);I[2].Fx(o!=0);I[0].vw(o==0?"No Paths":o==1?"Path "+X[0]:"Paths "+X.slice(0,3).join(",")+(o>3?"..":""));
if(o!=0){var i=E.g[0],h=Q.O.ny(E.j,i),k=E.j[h];this.FF.B([3,0,1,2][k.KP])}}else for(var P=0;P<I.length;
P++)I[P].RX()}else jf.prototype.v7.call(this,w)};hD.prototype.jr=function(){jf.prototype.jr.call(this);
this.FF.f()};hD.prototype.JX=function(w){if(w.target==this.FF||w.target==this.nH||w.target==this.if){var I={},E=this.alf,X=E.j,o=E.g,i=Q.O.RZ(X),h=JSON.parse(this.anx);
o.sort(function(D,b){return D-b});if(w.target==this.FF){var k=this.FF.Q();if(k<4)for(var P=0;P<o.length;
P++)X[Q.O.ny(X,o[P])].KP=[1,2,3,0][k];else{if(i<=1)return;E.j=Q.O.B9(X);E.g=E.j.length==2?[]:[0];E.pa=[];
h=[Q.GJ.xd()]}}else{var x=w.target==this.nH?-1:1,j=[];for(var P=0;P<i;P++){var v=Q.O.ny(X,P),_=v+1+X[v].length;
j.push(X.slice(v,_))}var L=o.slice(0);for(var P=0;P<o.length;P++)L[P]=Math.max(P,Math.min(i-1-(o.length-1-P),L[P]+x));
if(o.join(",")==L.join(","))return;var U=JSON.parse(JSON.stringify(h));for(var P=0;P<o.length;P++){var n=x==-1?P:o.length-1-P,v=o[n],_=L[n];
if(v!=_){var a=j[v];j[v]=j[_];j[_]=a;a=U[v];U[v]=U[_];U[_]=a}}var T=X.slice(0,2);for(var P=0;P<j.length;
P++)T=T.concat(j[P]);E.j=T;E.g=L;h=U}I.S7=E;I.GJ=h;var g=new e9(W.E.Z,!0);g.data={d:W.t.Jd,G:this.G,hT:I};
this.c(g)}};function d3(){jf.call(this,["fstyle","sstyle","crnr","psnap"])}d3.prototype=new jf;function jh(){jf.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}jh.prototype=new jf;
function be(){jf.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}be.prototype=new jf;
function iN(){jf.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.RU.aopts.B([!1,!0,50,60,0])}iN.prototype=new jf;iN.prototype.au8=function(P){var w=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(w[P])};function hq(){jf.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}hq.prototype=new jf;
function cK(){jf.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}cK.prototype=new jf;
function bK(){er.call(this,!1,["binop","feat","redge"])}bK.prototype=new er(!0);function ag(){d7.call(this,["brush","qsmode","redge"])}ag.prototype=new d7;
function bT(){gK.call(this);var w=this.jT=new es([8,11,3],null,null,!0);w.h("click",this.JX,this);this.body.appendChild(w.m)}bT.prototype=new gK;
bT.prototype.JX=function(w){var I=new e9(W.E.a3,!0);I.data={$g:"make",Zc:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.c(I)};bT.prototype.jr=function(w){this.jT.f()};function aU(){gK.call(this);var w=this.aqt=[new es("\u25BC",null,null,!0),new es("\u25B2",null,null,!0),new es([5,4],null,null,!0)];
for(var P=0;P<3;P++){var I=w[P];this.body.appendChild(I.m);I.h("click",this.JX,this)}}aU.prototype=new gK;
aU.prototype.JX=function(w){var I=this.aqt.indexOf(w.target),E=new e9(W.E.s,!0);E.G=q.Bd;E.data={d:I==2?"delete":"reorder",dir:I==0?-1:1};
this.c(E)};aU.prototype.f=function(){gK.prototype.f.call(this);for(var P=0;P<3;P++)this.aqt[P].f()};
function hz(w,I){gK.call(this);if(window.Typr==null||w)return;this.a1_=I;this.ke=null;this.alK=O.S("span","");
this.a2V=O.S("span","");var E=1;this.d0={nh:new g0(null,24),N3:new ic("X",0,0,"px",0,!1,!0,4),pZ:new ic("Y",0,0,"px",0,!1,!0,4),BZ:new ic("W",0,0,["%","px"],2,!1,!0,5),Qu:new es("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),z3:new ic("H",0,0,["%","px"],2,!1,!0,5),aqj:new ic("\u2221",0,0,"\xB0",E,!1,!0),av$:new ic("\u25B1 H",-85,85,"\xB0",E,!1,!0),aaW:new ic("\u25B1 V",-85,85,"\xB0",E,!1,!0),Ba:new b4(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.d0.Ba.B(1);this.d0.Qu.B(!0);for(var X in this.d0){var o=this.d0[X];if(I&&(o==this.d0.aqj||o==this.d0.av$||o==this.d0.aaW||o==this.d0.Ba)){}else this.alK.appendChild(o.m);
var i=o==this.d0.Qu?"click":W.E.r;o.h(i,this.agJ,this)}this.cR=new hb(!0,!0,!0);this.cR.h(W.E.r,this.apB,this);
this.cR.parent=this;var h=this.a2V,k=this.cR;h.appendChild(k.gZ.m);h.appendChild(k.KI.m);h.appendChild(k.YG.m);
h.appendChild(k.Mc.m);h.appendChild(k.mA.m);this.rG=new es([11,9]);this.rG.h("click",this.av9,this);
this.Bb=new e$;this.Bb.h("click",this.sY,this)}hz.prototype=new gK;hz.prototype.v7=function(w){if(w.PD){var I=hz,E=this.cx;
if(E==null)E=this.cx=new j$(I.auX(),I.axC(this.G));E.f();E.parent=this;E.update(w.ii,w.Ff);var X=new e9(W.E.Z,!0);
X.data={d:W.t.DI,E5:E,x:w.PD.SD+2,y:w.PD.P4+1};this.c(X);return}O.wO(this.body);this.ke=w;if(w.d0){var o=w.d0._b,i=w.d0.Ea.clone(),h=Math.atan2(-i.L,i.lV),k=new am;
k.rotate(-h);i.concat(k);var x=this.d0;x.nh.B(w.d0.fo);x.N3.B(w.d0.gH.x);x.pZ.B(w.d0.gH.y);x.BZ.B(i.lV*(x.BZ.hz()=="%"?100:o.q));
x.z3.B(i.cA*(x.z3.hz()=="%"?100:o.w));x.aqj.B(-h*180/Math.PI);x.av$.B(Math.atan(i.I5)*180/Math.PI);x.aaW.B(0*180/Math.PI);
this.body.appendChild(this.alK);this.rG.Am()}if(w.yV){this.cR.B(w.yV);this.body.appendChild(this.a2V);
this.rG.KX()}this.body.appendChild(this.Bb.m);if(w.a9Z&&!this.a1_)this.body.appendChild(this.rG.m)};
hz.prototype.agJ=function(w){var I=this.d0,E=this.ke.d0._b;if(w.target==I.Qu)I.Qu.B(!I.Qu.Q());if(I.Qu.uf()){var X=I.z3,o=I.BZ,i=E.w,h=E.q;
if(w.target==I.BZ){X=I.BZ;o=I.z3;i=E.q;h=E.w}var k=X.Q()/(X.hz()=="%"?100:i);k*=o.hz()=="%"?100:h;o.B(k)}var x=[];
for(var j in I)if(I[j]!=I.Qu&&I[j]!=I.nh){var k=I[j].Q();if((I[j]==I.BZ||I[j]==I.z3)&&k==0){k=.1;I[j].B(k)}if(I[j]==I.BZ&&I[j].hz()=="px")k/=E.q/100;
if(I[j]==I.z3&&I[j].hz()=="px")k/=E.w/100;x.push(k)}var v=new a5(x[0],x[1]);if(w.target==I.nh){this.qn({jt:"ctyp",fo:I.nh.Q()})}else if(w.target==I.N3||w.target==I.pZ){this.qn({jt:"cen",gH:v})}else{var _=this.ke.d0.Ea.clone(),L=_.clone(),U=Math.atan2(-_.L,_.lV);
L.translate(-v.x,-v.y);L.rotate(-U);var n=new am(L.lV,L.L,L.I5,L.cA,0,0);n.ja();L.concat(n);L.concat(new am(x[2]/100,Math.tan(x[6]*Math.PI/180),Math.tan(x[5]*Math.PI/180),x[3]/100,0,0));
L.rotate(-x[4]*Math.PI/180);L.translate(v.x,v.y);this.ke.d0.Ea=L;this.qn({jt:"trn",d0:L,JH:this.d0.Ba.Q()})}};
hz.prototype.apB=function(w){this.qn({jt:"wrp",yV:this.cR.Q()})};hz.prototype.av9=function(w){this.qn({jt:"switchWarp"})};
hz.prototype.sY=function(w){this.qn({jt:this.Bb.Q()?"commit":"cancel"})};hz.prototype.qn=function(w){w.d=W.t.Jd;
w.G=this.G;var I=new e9(W.E.Z,!0);I.data=w;this.c(I)};hz.prototype.jr=function(){var w=this.d0;for(var I in w)w[I].f();
O.k3(w.BZ,w.z3);this.Bb.f();this.cR.f();this.rG.f()};hz.auX=function(){var w=function(I){var E=!0;if(I==null||I.g.length==0)E=!1;
else{var X=I.g;for(var P=0;P<X.length;P++){if(I.b[X[P]].add.TySh)E=!1}}return{i:E}};return[{name:[5,9],SP:"Shift+Alt+Ctrl + T",Lf:!0},{name:[12,38]},{name:[2,5]},{name:[24,4],i:w},{name:[2,9],i:w},{name:[11,9],i:function(I){if(I==null||I.g.length!=1)return{i:!1};
var E=I.b[I.g[0]];return{i:E.add.TySh==null&&!E.vD()}},Lf:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
hz.axC=function(w){if(w==null)w=q.Ai;return[{X:W.E.s,G:w,v:{d:"again"}},{X:W.E.Z,v:{d:W.t.en,G:w,iw:{Yr:3}}},{X:W.E.Z,v:{d:W.t.en,G:w,iw:{Yr:4}}},{X:W.E.Z,v:{d:W.t.en,G:w,iw:{Yr:2}}},{X:W.E.Z,v:{d:W.t.en,G:w,iw:{Yr:1}}},{X:W.E.Z,v:{d:W.t.en,G:w,iw:{Yr:-1}}},{X:W.E.s,G:w,v:{d:"rot",Wj:[2,5],k:-Math.PI/2}},{X:W.E.s,G:w,v:{d:"rot",Wj:[2,5],k:-3*Math.PI/2}},{X:W.E.s,G:w,v:{d:"rot",Wj:[2,5],k:Math.PI}},{X:W.E.s,G:w,v:{d:"scl",Wj:[[2,6],[22,4,2]],k:new a5(-1,1)}},{X:W.E.s,G:w,v:{d:"scl",Wj:[[2,6],[22,4,3]],k:new a5(1,-1)}}]};
function jQ(){hz.call(this)}jQ.prototype=new hz(!0);function ha(){hz.call(this)}ha.prototype=new hz(!0);
function dJ(){hz.call(this,!1,!0)}dJ.prototype=new hz(!0);function iH(){gK.call(this);var w=this.cd=[new b4([12,36],["Rigid",[15,10,0],[24,4]]),new b4([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new ic([7,4],0,100,"px"),new em("Show Mesh"),new es("\u25BC",null,null,!0),new es("\u25B2",null,null,!0)];
for(var P=0;P<w.length;P++){var I=w[P];I.parent=this;this.body.appendChild(I.m);I.h(P<4?W.E.r:"click",this.a1n,this)}this.Bb=new e$;
this.Bb.h("click",this.sY,this);this.body.appendChild(this.Bb.m)}iH.prototype=new gK;iH.prototype.jr=function(){var w=this.cd;
for(var P=0;P<4;P++)w[P].f();this.Bb.f()};iH.prototype.v7=function(w){var w=w.GT;for(var P=0;P<4;P++)this.cd[P].B(w[P])};
iH.prototype.a1n=function(w){var I=[];for(var P=0;P<4;P++)I[P]=this.cd[P].Q();var E=this.cd.indexOf(w.target);
if(E<4)this.qn({jt:"prm",GT:I});else this.qn({jt:"moveDepth",alx:E==5})};iH.prototype.sY=function(w){this.qn({jt:this.Bb.Q()?"commit":"cancel"})};
iH.prototype.qn=function(w){w.d=W.t.Jd;w.G=this.G;var I=new e9(W.E.Z,!0);I.data=w;this.c(I)};function eu(){cu.call(this);
this.m=O.S("div","cmanager");window.alert=function(X,o){this.aks(X,o);console.log("Alert: "+X)}.bind(this);
window.onblur=function(X){var o=this;o.ZK()}.bind(this);this.LQ=0;this.Ns=0;this.bX=[];this.d1={};this.q6=O.S("div","alertcont");
this.m.appendChild(this.q6);this.amH=O.S("div","alertcont");this.m.appendChild(this.amH);this.Gi=O.S("div","alertcont");
this.amc=0;this.im=-1;this.a5v=null;this.bB=null;var w=this.a8A=O.S("div","alertpanel");w.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.Gi.appendChild(w);var I=this.zS=O.S("input");I.setAttribute("type","text");O.g5(I);I.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
I.addEventListener("input",this.ax$.bind(this),!1);I.addEventListener("keydown",this.a5Q.bind(this),!1);
w.appendChild(I);var E=this.agd=O.S("div","contextpanel scrollable");E.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
E.addEventListener("click",this.ase.bind(this),!1);w.appendChild(E);O.KO(document.body,this.agg.bind(this))}eu.prototype=new cu;
eu.prototype.Lc=function(){if(O.NJ(this.Gi))this.m.removeChild(this.Gi)};eu.prototype.arZ=function(w,I){var E=this.a5v=[],X=I.a6z;
for(var P=0;P<dL.data.length;P++){var o=dL.data[P],i=[df.get(o.name)],h=[P];eu.avo(o.items,i,h,E,w,I,X==null?null:X[P]==null?0:X[P])}var k=ja.a;
for(var P=0;P<k.length;P+=3){if(I.$v&&I.$v.indexOf(k[P+2])==-1)continue;E.push([["Tools",df.get(k[P])],[-1,k[P+2]],k[P+1]])}this.m.appendChild(this.Gi);
var x=this.zS;x.focus();x.select();this.xn()};eu.prototype.ax$=function(w){this.im=-1;this.xn()};eu.prototype.xn=function(){var w=this.zS.value.toLowerCase().trim().replace(/  +/g," "),I=this.a5v,E=[],X=[],o=w.split(" ");
if(w!="")for(var P=0;P<I.length;P++){var i=I[P][0],h=[],k=0;for(var x=0;x<i.length;x++)h[x]=-1;for(var j=0;
j<o.length;j++)for(var x=0;x<i.length;x++){var v=i[x].toLowerCase().indexOf(o[j]);if(v!=-1){h[x]=[v,v+o[j].length];
k++;break}}if(k==o.length){E.push(I[P]);X.push(h)}}var _=[],L=this.agd;O.wO(L);for(var P=0;P<E.length;
P++){var U=E[P],n=U[0],v=X[P],a="enab",g="";if(P==this.im)a+=" active";var T=O.S("div",a);_.push(T);
L.appendChild(T);for(var x=0;x<n.length;x++){var D=v[x],b=o[x],N=n[x];if(D!=-1)N=N.slice(0,D[0])+"<span style=\"color:black\">"+N.slice(D[0],D[1])+"</span>"+N.slice(D[1]);
g+=N;if(x<n.length-1)g+=" \uFE65 "}if(U[2]&&(typeof U[2]!="string"||U[2].length==1))g+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+aW.oA(U[2])+"</span>";
T.innerHTML=g}this.bB=[E,_]};eu.prototype.a5Q=function(w){var I=aW.OE,E=w.code;if(I(E,aW.K9))this.Lc();
var X=I(E,aW.mg),o=I(E,aW.$I),i=I(E,aW.yd);if(X||o){this.im=Math.max(0,Math.min(this.bB[0].length-1,this.im+(X?-1:1)));
this.xn()}if(i&&this.im!=-1)this.apJ(this.im)};eu.avo=function(w,I,E,X,o,i,h){if(typeof h=="number"){if(h==0)return;
if(h==1)h=null}for(var P=0;P<w.length;P++){if(h!=null&&(h[P]==0||h[P]==null))continue;var k=w[P],x=I.slice(0),j=E.slice(0),v=df.get(k.name);
if(k.i){var _=k.i(o,i,P);if(_.fX)v=_.fX;if(_.i==!1)continue}x.push(v);j.push(P);if(k.sub)eu.avo(k.sub,x,j,X,o,i,h?h[P]:null);
else X.push([x,j,k.SP])}};eu.prototype.ase=function(w){var I=w.target;if(I.tagName.toLowerCase()=="span")I=I.parentNode;
var E=this.bB[1].indexOf(I);if(E!=-1)this.apJ(E)};eu.prototype.apJ=function(w){var I=this.bB[0][w][1];
if(I[0]==-1){var E=new e9(W.E.Z,!0);E.data={d:W.t.en,G:I[1]};this.c(E)}else{var X=dL.data[I[0]].pL[I[1]];
for(var P=2;P<I.length;P++)X=X.sub[I[P]];var o=new e9(X.X,!0);o.G=X.G;o.data=X.v;this.c(o)}this.Lc()};
eu.prototype.hi=function(w,I){this.LQ=w;this.Ns=I;this.agd.style["max-height"]=I-120+"px"};eu.prototype.a25=function(w){var I=O.S("div","alertpanel");
I.textContent=df.get(w);this.q6.appendChild(I);this.d1[JSON.stringify(w)]=I};eu.prototype.aaI=function(w){var I=this.d1[JSON.stringify(w)];
this.q6.removeChild(I);delete this.d1[JSON.stringify(w)]};eu.prototype.aks=function(w,I){var E=this.amH;
for(var P=0;P<E.children.length;P++)if(E.children[P].textContent==w)return;var X=O.S("div","alertpanel tpanel");
X.textContent=w;X.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");E.appendChild(X);if(I==null)I=1500;
var o=I,i=Math.max(Date.now()+o,this.amc+o);setTimeout(function(){X.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){E.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},i-Date.now()-30);
setTimeout(function(){E.removeChild(E.firstChild);E.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},i-Date.now());
this.amc=i};eu.prototype.agg=function(w){var I=this.bX;for(var P=I.length-1;P>=0;P--){var E=I[P],X=w.target;
while(X!=null){if(X==E.m){this.ZK(E);return}X=X.parentNode}}this.ZK();var o=w.target;while(o!=this.Gi&&o!=document.body)o=o.parentNode;
if(o!=this.Gi)this.Lc()};eu.prototype.ZK=function(w){var I=this.bX;for(var P=0;P<I.length;P++){if(w&&w.aiS(I[P]))continue;
var E=I[P].m;E.style.height="auto";O.yo(E,"scrollable");this.m.removeChild(E);I.splice(P,1);P--}};eu.prototype.avr=function(w){this.ZK(w.E5);
var I=w.E5,E=I.m;if(this.bX.indexOf(I)!=-1)return;this.bX.push(I);this.m.appendChild(I.m);var X=this.LQ,o=this.Ns,i=w.x,h=w.y,k=this.m.getBoundingClientRect(),x=I instanceof j$,j=-1,v=o-2;
if(x||w.pt){var _=I.VE(),L=I.ag0();if(x)_=Math.min(_,200);var U=X-_-2,n=o-L-2;if(h<n)j=2;else if(i<U)j=1;
else if(0<h-L-2)j=0;else j=3;if(w.aum)j=0;if(w.acV)j=2;if(j==2){i=Math.min(i,U)}else if(j==1){h=Math.min(h,n)}else if(j==0){h=h-L-2;
i=Math.min(i,U);v=w.y}else if(j==3){i=i-_-2;h=Math.min(h,n)}}h=Math.max(2,h);var top=Math.round(h-k.y+this.m.offsetTop);
E.style.position="absolute";E.style["z-index"]=10;if(h+I.ag0()>v){E.style.height=v-h+"px";O.vK(E,"scrollable");
if(j==3)i-=10}E.style.left=Math.round(i)+"px";E.style.top=top+"px"};eu.prototype.adW=function(w){var I=w.E5,E=this.bX.indexOf(I);
if(E==-1)return;this.bX.splice(E,1);var X=I.m;this.m.removeChild(I.m)};eu.prototype.Fv=function(){var w=this.bX;
return w.length==0?null:w[w.length-1]};eu.prototype.ay7=function(){this.adW({E5:this.Fv()})};function bE(){cu.call(this);
this.m=O.S("div","confbar")}bE.prototype=new cu;bE.prototype.adt=function(w){w.parent=this;O.wO(this.m);
this.m.appendChild(w.m)};function jb(w){cu.call(this);jb.Xd=this;jb.FI=w;this.m6=null;this.UD=O.S("input","");
this.UD.setAttribute("type","file");this.UD.setAttribute("multiple","");this.UD.addEventListener("change",function(I){this.Lu(I.target.files,null,this.uw,null);
this.uw=null}.bind(this),!1);document.body.appendChild(this.UD);this.UD.setAttribute("style","display:none");
this.ai_=[];this.IA=!1;this.ad1=[];this.I6=!1;this.aj9={};this.uw=null}jb.prototype=new cu;jb.FI=null;
jb.K4=function(w){try{var I={};I[w.type]=w;navigator.clipboard.write([new ClipboardItem(I)])}catch(df){console.error(df,df.message)}};
jb.fq=function(w,I){navigator.clipboard.read().then(function(E){for(var P=0;P<E.length;P++){try{var X=E[P],o={},i=0,h=0;
for(var k=0;k<X.types.length;k++){var x=X.types[k];i++;X.getType(x).then(function(j){var v=x;new Response(j).arrayBuffer().then(function(_){o[this.Vq]=_;
h++;if(h==i)jb.acK(o,w,I)}.bind({Vq:this.Vq}))}.bind({Vq:x}))}}catch(df){console.error(df,df.message)}}}).catch(function(E){alert("Clipboard error: ("+E.message+")")})};
jb.aa6=function(w){navigator.permissions.query({name:"clipboard-read"}).then(function(I){w(I.state)})};
jb.acK=function(w,I,E){var X=["text/plain","image/png","text/html","text/plain"];for(var o in w)console.log(o,o.startsWith("text")?M.YV(new Uint8Array(w[o])).slice(0,100)+"...":w[o]);
for(var i=0;i<X.length;i++){var h=X[i],k=w[h];if(k==null)continue;if(h=="image/png"){jb.FI({name:"image.png"},k,I,E);
return}if(h=="text/plain"){var x=M.YV(new Uint8Array(k));if(i==0)if(!x.startsWith("<!--")&&!x.startsWith("<svg"))continue;
var j=new e9(W.E.Z,!0);j.data={d:W.t.atW,k:x};I.c(j);return}if(h=="text/html"){var x=M.YV(new Uint8Array(k)),v=x.indexOf("src=\"");
if(v!=-1&&x.slice(v+5,v+9)!="http"){var _=v+10;while(x[_]!="\"")_++;var L=x.slice(v+5,_);jb.FI({name:"chart.png"},gt.fF(L).buffer,I,E);
return}}}};jb.prototype.CN=function(w){if(w==null)w=[23,5];var I=JSON.stringify(w),E=this.aj9;if(E[I]==null)E[I]=0;
if(E[I]==0){var X=new e9(W.E.Z,!0);X.data={d:W.t.XR,cG:w};this.c(X)}E[I]++};jb.prototype.Gv=function(w){if(w==null)w=[23,5];
var I=JSON.stringify(w),E=this.aj9;if(E[I]==null)E[I]=0;E[I]--;if(E[I]==0){var X=new e9(W.E.Z,!0);X.data={d:W.t.Iw,cG:w};
this.c(X)}};jb.prototype.ap7=function(w,I){this.uw=w;var E=window.showOpenFilePicker;if(E&&window.self==window.top){var X=this;
E({multiple:!0}).then(function(h){var k=[];function x(j){k.push(j);if(k.length==h.length){X.Lu(k,null,X.uw,null,h);
X.uw=null}else h[k.length].getFile().then(x)}h[k.length].getFile().then(x)});return}var o=this.UD;if(I)o.setAttribute("accept",I);
else o.removeAttribute("accept");var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
o.dispatchEvent(i)};jb.prototype.Jy=function(w){if(w.url.indexOf("photopea.com#i")!=-1||w.url.indexOf("photopea.com/#i")!=-1){this.ck(w.url.split("#i").pop());
return}this.ai_.push(w);this.amK()};jb.prototype.amK=function(){var w=this.ai_;if(w.length==0||this.IA)return;
this.IA=!0;var I=w.shift();this.CN();if(I.kl==null)I.kl={};var E=new XMLHttpRequest;E.fR=I;var X=I.url;
if(I.Ol&&!X.startsWith("data:image"))X="mirror.php?url="+encodeURIComponent(X);E.open("GET",X);if(I.MW)for(var o in I.MW)E.setRequestHeader(o,I.MW[o]);
E.responseType="arraybuffer";E.onload=this.auc.bind(this);E.send()};jb.prototype.Lu=function(w,I,E,X,o){for(var P=0;
P<w.length;P++){this.CN();var i=w[P],h=new FileReader;h.fR=i;h.fR.NF=E;h.fR.zz=X;h.a89=I;if(o)h.fR.Tz=o[P];
h.onload=this.auc.bind(this);h.onerror=function(k){this.Gv()}.bind(this);this.ad1.push([h,i])}this.UD.value=null;
this.asm()};jb.prototype.asm=function(){var w=this.ad1;if(w.length==0||this.I6)return;this.I6=!0;var I=w.shift();
I[0].readAsArrayBuffer(I[1])};jb.prototype.a2H=function(w,I,E){this.CN("Saving ...");this.m6=I;setTimeout(E.bind({zW:w,caller:this}),50)};
jb.fd=function(w){var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=new Uint8Array(w),X=E.length,o=X%3,i=X-o,h=[],k=0,x=0,j=0;
for(var P=0;P<i;P+=3){k=E[P];x=E[P+1];j=E[P+2];h.push(I[k>>2]+I[(k&3)<<4|x>>4]+I[(x&15)<<2|j>>6]+I[j&63])}if(o==1){k=E[i];
h.push(I[k>>2]+I[(k&3)<<4]+"==")}if(o==2){k=E[i];x=E[i+1];h.push(I[k>>2]+I[(k&3)<<4|x>>4]+I[(x&15)<<2]+"=")}var v=h.join("");
return v};jb.aot=function(w,I){var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=new Uint8Array(64),k=0,x=0,j=0,_=0;
for(var P=0;P<64;P++)X[P]=E.charCodeAt(P);var o=new Uint8Array(w),i=I%3,h=I-i,v=new Uint8Array(Math.floor(I/3)*4+(i==0?0:4));
for(var P=0;P<h;P+=3){k=o[P];x=o[P+1];j=o[P+2];v[_]=X[k>>>2];v[_+1]=X[(k&3)<<4|x>>>4];v[_+2]=X[(x&15)<<2|j>>>6];
v[_+3]=X[j&63];_+=4}if(i==1){k=o[h];v[_]=X[k>>2];v[_+1]=X[(k&3)<<4];v[_+2]=61;v[_+3]=61}if(i==2){k=o[h];
x=o[h+1];v[_]=X[k>>2];v[_+1]=X[(k&3)<<4|x>>4];v[_+2]=X[(x&15)<<2];v[_+3]=61}return v};jb.prototype.auc=function(w){var I,E=w.target.fR;
if(w.target instanceof XMLHttpRequest)I=w.target.response;else I=w.target.result;jb.FI(E,I,this,w.target.a89);
this.Gv();if(w.target instanceof XMLHttpRequest){this.IA=!1;this.amK()}else{this.I6=!1;this.asm()}};
jb.a1z=function(w,I){var E=new XMLHttpRequest;E.open("POST","https://api.imgur.com/3/image",!0);E.nb=I;
E.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");E.setRequestHeader("Content-type","application/x-www-form-urlencoded");
E.setRequestHeader("Accept","application/json");E.addEventListener("load",jb.axs);E.send("type=base64&image="+encodeURIComponent(jb.fd(w)));
alert("Saving to Imgur ...",4e3)};jb.axs=function(w){var I=JSON.parse(w.target.response);if(I.success){if(w.target.nb)w.target.nb(I.data.link);
else window.open(I.data.link,"Imgur")}};jb.prototype.ck=function(w,I,E){this.CN();var X=new XMLHttpRequest;
X.responseType="arraybuffer";X.open("GET","https://f000.backblazeb2.com/file/"+(E?"pp-resources":"psdshared")+"/"+w);
X.onload=this.aqJ.bind(this);X.send();X.Rz=[Date.now(),w,I?w:null,E]};jb.prototype.aqJ=function(w){var I=w.target.Rz,E=new Uint8Array(w.target.response);
console.log(E.length+" B,",Date.now()-I[0]+" ms");for(var P=0;P<E.length;P++)E[P]=255-E[P];E=pako.inflateRaw(E);
var X=JSON.parse(M.YV(E,0,2e3));jb.FI({name:X.name,GO:I[2]},E.slice(2e3).buffer,this);this.Gv();if(!I[3])jb.EN("act=0&id="+I[1])};
jb.prototype.akI=function(w,I,E,X){if(!(w instanceof ArrayBuffer))throw"e";w=new Uint8Array(w);var o=new Uint8Array(w.length+2e3),L="";
for(var P=0;P<2e3;P++)o[P]=32;M.OA(JSON.stringify({name:I}),o,0);o.set(w,2e3);w=o;w=pako.deflateRaw(w);
for(var P=0;P<w.length;P++)w[P]=255-w[P];w=w.buffer;var i=w.byteLength,h=eP.WH(i),k=~~(609e5/2),x=~~(209e5/2);
if(i>k){confirm("Your file is "+h+". Our limit is "+eP.WH(k)+". Delete some layers and try again.");
return}if(i>x){var j=confirm("Your file is quite large ("+h+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!j)return}var v=sha1(w),_=[];for(var P=0;P<20;P++){var U=parseInt(v.slice(P*2,P*2+2),16);_.push(U);
L+=String.fromCharCode(U)}var n=btoa(L).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(jb.axU(n,X)){console.log("file already exists");
if(E)E(n);else window.open("https://www.photopea.com#i"+n);return}this.CN("Publishing ...");var a=new XMLHttpRequest;
a.Rz=[w,v,n,E,X];a.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+n+"&size="+i+"&bname="+X);
a.onload=this.abB.bind(this);a.send()};jb.axU=function(w,I){try{var E=new XMLHttpRequest;E.open("HEAD","https://f000.backblazeb2.com/file/"+I+"/"+w,!1);
E.send();if(E.status==200)return!0}catch(df){return!1}return!1};jb.prototype.abB=function(w){console.log(w.target.response);
var I=JSON.parse(w.target.response),E=w.target.Rz,X=new XMLHttpRequest;X.open("POST",I.uploadUrl);X.setRequestHeader("Authorization",I.authorizationToken);
X.setRequestHeader("X-Bz-File-Name",E[2]);X.setRequestHeader("Content-Type","b2/x-auto");X.setRequestHeader("X-Bz-Content-Sha1",E[1]);
X.send(new Blob([E[0]]));X.onload=this.auv.bind({Dw:this,Rz:E})};jb.prototype.auv=function(w){this.Dw.Gv("Publishing ...");
if(this.Rz[3])this.Rz[3](this.Rz[2]);else window.open("https://www.photopea.com#i"+this.Rz[2]);if(this.Rz[4]=="psdshared")jb.EN("act=2&id="+this.Rz[2]+"&fileId="+JSON.parse(w.target.response).fileId)};
jb.EN=function(w){var I=new XMLHttpRequest;I.open("GET","/papi/img/update.php?"+w+"&rnd="+Math.random());
I.send()};jb.save=function(w,I){var E=new Uint8Array(w),X=document.createElement("a");if(typeof X.download=="string"){var o=new Blob([E]),i=window.URL.createObjectURL(o);
X.href=i;X.download=I;document.body.appendChild(X);X.click();document.body.removeChild(X)}else{var h="data:application/octet-stream;base64,"+jb.fd(w);
window.open(h)}};function e2(){this.size=16;this.data=Q.$(16)}e2.prototype.gj=function(w,I){if(w+I<=this.size)return;
var E=this.size;while(w+I>this.size)this.size*=2;var X=Q.$(this.size);for(var P=0;P<E;P++)X[P]=this.data[P];
this.data=X};var fc={};fc.z2=function(w,I,E){var X=I.split(":"),o=X[0],i=null;if(X.length==2){if(o=="jpg")i=[Math.round(100*parseFloat(X[1]))];
if(o=="webp")i=[Math.round(100*parseFloat(X[1])),100,0,!1,!1];if(o=="psd")i=[!0,!0];if(o=="svg")i=X[1].split(",").map(function(k){return k=="true"})}var h=gt.mZ(w,o.toUpperCase(),null,null,i,E);
return h};fc.aoN=function(w,I,E){var X=w.sQ(),o=I[0];return fc.z2(w,o,E)};fc.aaA=function(){var w=this.zW,I=this.caller,E=w.kl.xw,X=E.formats,o,i;
w.sQ();var h=Date.now();if(E.version==1){var k=[],x=0,v=0;for(var P=0;P<X.length;P++){var j=fc.z2(w,X[P],I.m6);
k.push(j);x+=j.byteLength}o=new Uint8Array(2e3+x);var _="{ \"source\": "+JSON.stringify(w.Co)+", \"versions\": [\n";
for(var P=0;P<X.length;P++){var L=new Uint8Array(k[P]);_+="\t{\"format\": \""+X[P].split(":")[0]+"\", \"start\": "+v+", \"size\": "+L.length+" }"+(P+1<X.length?", ":"")+"\n";
o.set(L,2e3+v);v+=k[P].byteLength}_+="] }";var U=M.OA(_,o,0);for(var P=U;P<2e3;P++)o[P]=32;i="application/octet-stream"}else{var n=new e2,a=0,T="",g=encodeURIComponent;
T="p="+g("{ \"source\": "+JSON.stringify(w.Co)+", \"versions\": [");M.u0(n,a,T);a+=T.length;for(var P=0;
P<X.length;P++){T=g(" {\"format\": \""+X[P].split(":")[0]+"\", \"data\": \"");M.u0(n,a,T);a+=T.length;
var j=fc.z2(w,X[P],I.m6),D=jb.aot(j,j.byteLength),U=D.length;n.gj(a,U);for(var b=0;b<U;b++){n.gj(a,3);
var N=D[b];if(N==43){n.data[a]=37;n.data[a+1]=50;n.data[a+2]=66;a+=3}else if(N==47){n.data[a]=37;n.data[a+1]=50;
n.data[a+2]=70;a+=3}else if(N==61){n.data[a]=37;n.data[a+1]=51;n.data[a+2]=68;a+=3}else{n.data[a]=N;
a++}}T=g("\" }"+(P+1<X.length?", ":""));M.u0(n,a,T);a+=T.length}T=g("] }");M.u0(n,a,T);a+=T.length;o=n.data.slice(0,a);
i="application/x-www-form-urlencoded"}var C=new XMLHttpRequest;C.open("POST",E.url,!0);if(i)C.setRequestHeader("Content-Type",i);
C.addEventListener("load",fc.atN.bind(this));C.send(new Blob([o.buffer]))};fc.atN=function(w){this.caller.Gv("Saving ...");
var I=w.target.response;if(I.charAt(0)=="{"){I=JSON.parse(I);if(I.newSource)this.zW.Co=I.newSource;if(I.message)alert(I.message,2e3);
if(I.script){var E=new e9(W.E.Z,!0);E.data={d:W.t.FN,Pb:I.script};this.caller.c(E)}}else alert("Saved. Response: "+I,1500)};
fc.arh=function(w){var I=w.Y8,E=I[1].split(".").pop(),X=fc.z2(w,E),o=Storage.TB(I[0]);o.anp(I[1],X)};
fc.akX=function(w,I){var E=w.FP.V8;if(I==null)I=fc.z2(w,E);gR.Yz(function(){var X=new XMLHttpRequest,o="https://www.googleapis.com/upload/drive/v3/files/"+w.FP.file.id+"?uploadType=media"+"&"+gR.gC();
X.open("PATCH",o,!0);X.addEventListener("load",function(i){var h=JSON.parse(i.target.response);alert(h.name+" updated")});
X.send(I);alert("Saving \""+w.FP.file.name+"\" to Google Drive ...")})};fc.FI=function(w,I,E,X){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)fc.ah9(w,I,E,X);
else{try{fc.ah9(w,I,E,X)}catch(df){if(df=="low_ram"){}else{var o="Error. Please, send your file to support@photopea.com and we will solve it.";
if(gt.mq(I)=="eps")o="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(o,1e4)}}}};fc.ah9=function(w,I,E,X){var o;if(w.name){var i=w.name.lastIndexOf(".");o=i==-1?i:w.name.slice(0,i)}else{if(w.url.substring(0,5)=="data:"||w.url.indexOf("googleapis")!=-1)o="image";
else o=w.url.substring(w.url.lastIndexOf("/")+1).split(".")[0];o=o.slice(0,50)}var h=w.name?w.name:w.url,k=new Uint8Array(I),x=gt.mq(I),j=window.gtag;
if(Math.random()<.25&&j&&x!=null&&gt.FB(x))j("event",x,{event_category:"Formats"});if(x==null)x=M.jz(k,0,4);
if(h&&h.toLowerCase().endsWith(".raw")){var v=new e9(W.E.Z,!0);v.data={d:W.t.GV,ei:"importraw",Sh:I,Ov:h.split("/").pop()};
E.c(v);return}else if(x=="json"){var _="";for(var P=0;P<k.length;P++)_+=String.fromCharCode(k[P]);_=decodeURIComponent(escape(_));
var L=JSON.parse(_);if(L.name&&L.url){var v=new e9(W.E.Z,!0);v.data={d:W.t.a4U,k:L};E.c(v)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(L)}return}if(x=="html"){var _=M.YV(k,0,k.length),U=new DOMParser,n=U.parseFromString(_,"text/html"),a=n.getElementsByTagName("meta");
for(var P=0;P<a.length;P++){var T=a[P],g=T.getAttribute("property"),D=T.getAttribute("content"),b=null;
if(g=="og:image")b=D;if(g==null&&D&&D.startsWith("0;url=/imgres?")){var C=D.slice(14).split("&");for(var Z=0;
Z<C.length;Z++)if(C[Z].startsWith("imgurl"))b=decodeURIComponent(C[Z].slice(7))}if(b==null)continue;
var v=new e9(W.E.Z,!0);v.data={d:W.t.Vd,GT:{url:b,Ol:!0,NF:w.NF}};E.c(v)}return}if(gt.FB(x)){var S,u,p=gt.FB(x);
if(w.NF!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(x)!=-1){var v=new e9(W.E.Z,!0);v.data={d:W.t.dv,target:w.NF,PH:w.zz,gt:I,FE:o};
E.c(v);return}var f=[o,p,x,w,E,X,I];if(p.RJ){S=new hg(o+(x=="psd"?"":"-"+x)+".psd");p.CE(I,S,fc.z4,f)}else{u=p.CE(I,null,fc.z4,f,E)}if(p.$T!=!0)fc.z4(S,u,f);
else E.CN();return}var d=new e9(W.E.Z,!0);d.data={d:W.t.Ll,Sh:I,gm:w.name};var l=w instanceof File&&w.aeF!=!0,v=new e9(W.E.Z,!0);
v.data={d:W.t.e1,kl:"add",GT:null,VV:null,a52:w.aeF};if(x=="zip"){var A=Date.now(),B=UZIP.parse(I),e="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var m in B){var $=!1;for(var P=0;P<e.length;P++)if(m.toLowerCase().endsWith("."+e[P]))$=!0;if(m.startsWith("__MACOSX/")||B[m].length==0)$=!0;
if($)continue;var V=m.split("/").pop();fc.FI({name:V},B[m].buffer,E,X)}}else if(x=="jsx"||h&&h.toLowerCase().endsWith(".jsx")){var _=M.YV(new Uint8Array(I));
v.data={d:W.t.FN,Pb:_};E.c(v)}else if(x=="otf"){if(l)E.c(d);var H=Typr.parse(I);v.data.GT=ik.HV;for(var P=0;
P<H.length;P++){v.data.VV=H[P];E.c(v)}}else if(x=="asl"){if(l)E.c(d);var H=gL.fM(I);v.data.GT=ik.cc;
v.data.VV=H.TW;E.c(v);v.data.GT=ik.uH;v.data.VV=H.$z;E.c(v)}else if(x=="tpl"){if(l)E.c(d);var H=c9.fM(I);
v.data.GT=ik.nz;v.data.VV={Ar:H.Ar,a6:H.a6,list:[]};E.c(v);if(H.aiU.length!=0){v.data.GT=ik.EO;v.data.VV=H.aiU;
E.c(v)}if(H.$z.length!=0){v.data.GT=ik.uH;v.data.VV=H.$z;E.c(v)}v.data.GT=ik.Q6;v.data.VV=H.list;E.c(v)}else{var F="";
for(var G in ik._f)if(ik._f[G][0]==x)F=G;if(F!=""){if(l)E.c(d);v.data.VV=ik._f[F][2].fM(I,h);v.data.GT=F;
E.c(v)}else alert("Unknown file format: "+JSON.stringify(x))}};fc.z4=function(w,I,E){var X=E[0],o=E[1],i=E[2],h=E[3],k=E[4],x=E[5],j=E[6];
if(o.$T)k.Gv();if(!o.RJ){if(I.length==0)return;if(I[0].t33421||I[0].t50706){Q.raw.normalize(I[0],j);
console.log(I[0]);var v=new e9(W.E.Z,!0);v.data={d:W.t.GV,ei:"rawpea",L9:I[0]};k.c(v);return}if(x){x(new Uint8Array(I[0].data),I[0].WG);
return}w=gt.cV(X,I)}w.GO=h.GO;w.qM=i;w.kl=h.kl;w.Co=h.url;w.Gt=h.Gt;w.FP=h.FP;w.Tz=h.Tz;w.Y8=h.Y8;if(w.FP)w.FP.V8=i;
if(w.b.length!=0){var v=new e9(W.E.Z,!0);v.data={d:h.NF==null?W.t.aR:W.t.dv,target:h.NF,PH:h.zz,gt:w};
k.c(v)}};function i8(w){cu.call(this);this.n6=i8.n6++;this.TO=w;this.auJ=this.ah1.bind(this);this.aue=this.ag4.bind(this);
this.auE=this.Lw.bind(this);this.ahI=this.alO.bind(this);this.a7R=this.ayg.bind(this);this.a91=this.a8G.bind(this);
this.XM=0;this.a2M=0;this.aom=0;this.m=O.S("div","panelblock");this.Dy=O.S("div","block");this.ov=O.S("div","collapsed");
this.m.appendChild(this.Dy);this.ZB=-1;this.Wv=!0;this.a_=O.S("div","panelhead");this.Dy.appendChild(this.a_);
this.S8(this.a_);this.AC=new es("\u2261");this.AC.m.setAttribute("style","position:absolute; right:0;");
this.AC.h("click",this.amv,this);this.LZ=O.S("div","body");this.Dy.appendChild(this.LZ);this.ui=[];this.zp=null;
this.GX=null}i8.n6=0;i8.prototype=new cu;i8.Zg=26.1;i8.prototype.amv=function(w){var I=this.ui[this.ZB].E2(),E=w.currentTarget.m.getBoundingClientRect();
I.f();I.update();I.parent=this;var X=new e9(W.E.Z,!0);X.data={d:W.t.DI,E5:I,x:E.left,y:E.top+E.height+2};
this.c(X)};i8.prototype.FO=function(w){var I=this.Dy,E=this.a_,X=this.LZ;if(O.NJ(E))I.removeChild(E);
if(O.NJ(X))I.removeChild(X);if(w==0)I.appendChild(E);I.appendChild(X);this.aom=w};i8.x4=function(w){w.stopPropagation();
w.preventDefault()};i8.prototype.ah1=function(w){var I=w.dataTransfer.types;if(I[1]!=null&&I[1]!=this.n6+"")return;
i8.x4(w);var eS=w.currentTarget;if(w.target==eS)O.vK(eS,"highlight")};i8.prototype.ag4=function(w){i8.x4(w);
var eS=w.currentTarget;if(w.target==eS)O.yo(eS,"highlight")};i8.prototype.S8=function(w){w.addEventListener("dragenter",this.auJ,!1);
w.addEventListener("dragleave",this.aue,!1);w.addEventListener("dragover",i8.x4,!1);w.addEventListener("drop",this.auE,!1);
w.addEventListener("dragstart",function(I){I.dataTransfer.setData("Text","--panel");I.dataTransfer.setData(this.n6+"","")}.bind(this),!1)};
i8.prototype.Lw=function(w){this.aue(w);var I=null,eS=w.currentTarget,E=this.a49(eS);if(eS==this.LZ&&this.ZB!=-1)I=this.ZB;
else if(eS==this.a_)I=null;else if(E!=-1)I=E;var X=w.dataTransfer.getData("Text");if(X==""||X.startsWith("http"))O.de(w,this,I);
else if(X=="--panel"){var o=O.cz(w,eS),i=this.ui,h=i.slice(0),P=this.ZB,k=E==-1?i.length:o.x<eS.getBoundingClientRect().width/2?E:E+1;
if(P==k||P+1==k||eS==this.LZ)return;var x=P<k?k-1:k,j=i[P];i.splice(P,1);i.splice(x,0,j);O.wO(this.a_);
for(var v=0;v<i.length;v++)this.a_.appendChild(i[v].Pm);this.wd(x);var _=[];for(var P=0;P<i.length;P++)_[P]=h.indexOf(i[P]);
var L=new e9("shuffleItems",!1);L.data={a9s:_};this.c(L)}else if(I!=null&&this instanceof hh){var L=new e9(W.E.Z,!0);
L.data={d:W.t.aiq,apW:I};this.c(L)}};i8.prototype.Lj=function(){return null};i8.prototype.aoC=function(){if(this.Lj()){this.a_.style.padding="0px";
this.GX=this.Lj();this.LZ.appendChild(this.GX);this.nI.Fx(!1);var w=new e9(W.E.Z,!0);w.data={d:W.t.vB,k:1};
this.c(w)}};i8.prototype.ajw=function(){if(this.GX){this.a_.style.padding="";this.LZ.removeChild(this.GX);
this.GX=null;this.nI.Fx(!0);var w=new e9(W.E.Z,!0);w.data={d:W.t.vB,k:0};this.c(w)}};i8.prototype.a49=function(w){var I=this.ui;
for(var P=0;P<I.length;P++)if(I[P].Pm==w)return P;return-1};i8.prototype.Xk=function(){for(var P=0;P<this.ui.length;
P++)this.ui[P].rN.Am()};i8.prototype.CB=function(){return this.ZB};i8.prototype.gD=function(){if(this.Wv)return;
this.Wv=!0;this.m.removeChild(this.ov);this.m.appendChild(this.Dy)};i8.prototype.collapse=function(){if(!this.Wv)return;
this.Wv=!1;this.m.appendChild(this.ov);this.m.removeChild(this.Dy)};i8.prototype.a4C=function(){return i8.Zg+this.LZ.getBoundingClientRect().height};
i8.prototype.hi=function(w,I){this.a_.style.maxWidth=w+"px";var E=0;if(this.aom==0){E=this.a_.getBoundingClientRect().height+1;
E=Math.max(E,i8.Zg)}if(this.ZB!=-1)this.ui[this.ZB].hi(w,I-E);return I-E};i8.prototype.eU=function(w,I){if(this.ZB!=-1)this.ui[this.ZB].eU(w,I)};
i8.prototype.tM=function(w,I,E){this.ui[this.ZB].tM(w,I,E)};i8.prototype.Hs=function(w){this.ajw();if(this.ui.indexOf(w)!=-1){this.wd(this.ui.indexOf(w));
return}w.parent=this;this.ui.push(w);this.a_.appendChild(w.Pm);w.Pm.addEventListener("mouseover",this.ahI,!1);
this.S8(w.Pm);this.ov.appendChild(w.rN.m);w.rN.h("click",this.akd,this);w.h("select",this.afa,this);
w.h(W.E.RR,this.aps,this);this.wd(this.ui.length-1)};i8.prototype.alO=function(w){if(w.buttons==0)return;
var I=w.currentTarget,E=I,P=0;while((E=E.previousSibling)!=null)P++;this.a2M=P;I.addEventListener("mouseout",this.a7R,!1);
this.XM=setTimeout(this.a91,700)};i8.prototype.ayg=function(w){var I=w.currentTarget,E=I,P=0;while((E=E.previousSibling)!=null)P++;
I.removeEventListener("mouseout",this.a7R);clearTimeout(this.XM)};i8.prototype.a8G=function(w){this.c(new e9(W.E.ali,!1))};
i8.prototype.acT=function(w){return this.a2M};i8.prototype.vQ=function(P){var w=new e9(W.E.RR,!1);w.data={Ji:P};
this.c(w);var I=this.ui[P];this.ui.splice(P,1);this.a_.removeChild(I.Pm);this.ov.removeChild(I.rN.m);
I.Pm.className="";I.rN.removeEventListener("click",this.akd,this);I.rN.Am();I.removeEventListener("activate",this.afa);
I.removeEventListener(W.E.RR,this.aps);var E=this.ZB;if(P<E)E--;else if(P==E&&P==this.ui.length)E--;
this.wd(E);if(this.ui.length==0)this.aoC()};i8.prototype.a2i=function(){return this.ui.length};i8.prototype.jf=function(){if(this.ui.length!=0)this.ui[this.ZB].jf()};
i8.prototype.wd=function(w,I){if(I==null)I=!0;for(var P=0;P<this.ui.length;P++)this.ui[P].Pm.className="";
if(this.zp)this.LZ.removeChild(this.zp);this.zp=null;this.ZB=w;if(w==-1)return;var E=this.ui[this.ZB];
this.zp=E.Hi;this.LZ.appendChild(E.Hi);E.Pm.className="active";if(!this.Wv){this.c(new e9("showFloat"));
this.ui[w].rN.KX()}if(I)this.c(new e9(W.E.r,!1));E.j3();var X=this.AC.m;if(X.parentNode)this.a_.removeChild(X);
if(E.E2())this.a_.appendChild(X);var o=new e9(W.E.Z,!0);o.data={d:W.t.g1};this.c(o)};i8.prototype.afa=function(w){if(this.TO&&!this.TO.ac4())return;
var P=this.ui.indexOf(w.currentTarget);this.wd(P)};i8.prototype.aps=function(w){if(this.TO&&!this.TO.ac4())return;
var P=this.ui.indexOf(w.currentTarget);this.vQ(P)};i8.prototype.akd=function(w){var I=this.ui.indexOf(w.currentTarget.parent);
if(this.ui[I].rN.uf())this.c(new e9("hideFloat"));else this.wd(I)};i8.prototype.ar8=function(w){this.c(w)};
function hh(w){i8.call(this,w);this.LQ=0;this.Ns=0;O.M$(this.a_,this.ama.bind(this));this.F$=0;this.a36=this.acp.bind(this);
this.S8(this.LZ);this.Uj=["default;"];this.nI=new O.pK(this.LZ);this.hr=new gB(!0);this.hr.parent=this;
this.fU=this.hr.m;gB.dJ(this.hr)}hh.prototype=new i8;hh.prototype.ama=function(w){if(w.target!=this.a_)return;
var I=this.F$;this.F$=Date.now();if(Date.now()-I>300)return;var E=new e9(W.E.Z,!0);E.data={d:W.t.GV,ei:"newproject"};
this.c(E)};hh.prototype.EC=function(w,I){if(I)this.Uj.push(w);else{var E=this.Uj.length-1;if(this.Uj[E]==w)return;
this.Uj[E]=w}this.s9()};hh.prototype.acn=function(){this.Uj.pop();this.s9()};hh.prototype.s9=function(){var w=this.Uj[this.Uj.length-1];
this.nI.tM(w,this.tG)};hh.prototype.eU=function(w,I){i8.prototype.eU.call(this,w,I);this.hr.eU(w,I);
if(!w.pV){}};hh.prototype.f=function(){i8.prototype.f.call(this);this.hr.f()};hh.prototype.tM=function(w,I){for(var P=0;
P<I.length;P++){var E=I[P];this.ui[P]._m(E.name+(E.bA()?" *":""))}i8.prototype.tM.call(this,w,I)};hh.prototype.Lj=function(){return this.fU};
hh.prototype.hi=function(w,I){if(this.ui.length==0)I+=i8.Zg-1;this.LQ=w;this.Ns=I;I=i8.prototype.hi.call(this,w,I);
this.tG="height:"+I+"px; width:"+w+"px; overflow:hidden; position:relative;";this.s9();this.hr.hi(w,I)};
hh.prototype.Hs=function(w){i8.prototype.Hs.call(this,w);w.Pm.addEventListener("click",this.a36,!1)};
hh.prototype.vQ=function(P){var w=this.ui[P];O.$x(w.Pm,this.a36);i8.prototype.vQ.call(this,P)};hh.prototype.acp=function(w){var I=this.F$;
this.F$=Date.now();if(Date.now()-I>300)return;var E=this.a49(w.currentTarget),X=this.ui[E].gt.name,o=new e9(W.E.Z,!0),i={X:W.E.s,G:q.Qd,v:{d:K.le}};
o.data={d:W.t.GV,ei:"namewindow",di:X.slice(0,X.length-4),HL:i};this.c(o)};function au(w){cu.call(this);
if(w)return;j3.av2(1);this.m=O.S("div","flexrow app");this.i$=O.S("div");this.m.appendChild(this.i$);
setTimeout(function(){var E=window.hideCap;if(E)E()},25e3);this.Ie=new aW;window.addEventListener("blur",function(E){this.Ie.reset()}.bind(this),!1);
window.addEventListener("resize",this._E.bind(this),!1);var I=this.i$;this.iz=new jU;this.iz.parent=this;
I.appendChild(this.iz.m);this.rC=new eu;this.rC.parent=this;I.appendChild(this.rC.m);this.$A=new gF(!0);
this.$A.parent=this;I.appendChild(this.$A.m);this.h(W.E.Z,this.r7,this);this.Di=this.Rq.bind(this);window.requestAnimationFrame(this.Di)}au.prototype=new cu;
au.prototype.Rq=function(w){this.s$();window.requestAnimationFrame(this.Di)};au.prototype.f=function(){};
au.prototype._E=function(w){var I=window.innerWidth,E=window.innerHeight;this.hi(I,E)};au.prototype.hi=function(w,I){this.rC.hi(w,I);
this.iz.hi(w,I)};au.prototype.r7=function(w){var I=w.data.d;if(I==W.t.DI)this.rC.avr(w.data);if(I==W.t.kS)this.rC.adW(w.data);
if(I==W.t.XR)this.rC.a25(w.data.cG);if(I==W.t.Iw)this.rC.aaI(w.data.cG);if(I==W.t.cB)this.rC.ZK()};function ao(){au.call(this);
this.zr={x:0,y:0,WN:!1};this.Mg=!1;this.yQ=!1;this.a$=null;this.aoH=0;this.a0d=!1;this.Ta=0;window.onmessage=function(T){if(Storage.a3l(T.source))return;
if(T.data instanceof ArrayBuffer){var g=gt.mq(T.data),D=gt.FB(g);jb.FI({url:"file"},T.data,this);if(D==null)this.nY()}else if(T.data instanceof Object||T.data.startsWith("{")||T.data.startsWith("amp-")||T.data.startsWith("0=goog")||T.data.startsWith("3PCoo")){}else if(T.data.startsWith("--ur ")){var b=T.data.split(" ").pop(),p=null;
b=b.length==0?[]:b.split(",");console.log(b);var N=this.I4.VV,C=new e9(W.E.Z,!0);C.data={d:W.t.e1,GT:ik.TM,pW:b};
this.c(C);var Z=b,S=N;if(S.length>Z.length){var u=S;S=Z;Z=u}for(var P=0;P<Z.length;P++)if(S.indexOf(Z[P])==-1)p=Z[P];
jb.EN("act=3&id="+p+"&dif="+(Z==b?1:-1));alert((Z==b?"Resource added.":"Resource removed.")+" "+p)}else if(T.data.startsWith("--ot ")){this.iz.Fv().close();
this.NK.ck(T.data.split(" ").pop(),!0)}else if(T.data.startsWith("--et ")){}else{var C=new e9(W.E.Z,!0);
C.data={d:W.t.FN,Pb:T.data};this.c(C);this.nY()}}.bind(this);window.onbeforeunload=function(T){for(var P=0;
P<this.oR.length;P++)if(this.oR[P].bA())return this.oR[P].name}.bind(this);window.setInterval(function(){var T=this.QN();
if(T==null)return;var g=(Date.now()-T.Q7)/6e4;if(this.I4.km==1&&T.lZ!=T.eq&&g>60){var D="You haven't saved your work ("+T.name+") for "+Math.round(g)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",b=new e9(W.E.Z);
b.data={d:W.t.GV,ei:"confirm"};b.data.k=D;b.data.qu=function(){var b=new e9(W.E.Z);b.data={d:W.t.De};
this.c(b)}.bind(this);this.c(b)}}.bind(this),30*60*1e3);var w=this,k="",x="";if(window.indexedDB&&(!ku.m4()||document.hasStorageAccess==null)){var I={gj:window.indexedDB.open("pp",1)};
I.gj.onupgradeneeded=function(T){var g=T.target.result,D=g.createObjectStore("rsrc",{keyPath:"k"})};
I.gj.onsuccess=function(T){var g=w.I4.PB.QO=T.target.result,D=g.transaction(["rsrc"],"readwrite").objectStore("rsrc"),b=D.get("fs0");
b.onsuccess=function(T){if(T.target.result){var N=w.I4.PB.nS=T.target.result.fset;for(var C in N){if(!C.endsWith(".jsx"))jb.FI({url:C,aeF:!0},N[C],w)}}}}}var E=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],X=O.XV[ap.ph][ap.xR];
for(var P=0;P<E.length;P++){var o=O.qD(E[P]);if(X.indexOf(o)!=-1){var i=O.XV[ap.ph][ap.LZ],h=O.qD("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
O.wO(i);i[ap.a7t]=h;return}}this.a={aj6:[{G:q.dc,u2:!1,SP:[aW.aak,aW.gS]},{G:q.aB,u2:!1,SP:[aW.gS]},{G:q.Bd,u2:!0,SP:[aW.iu],WZ:[q.iH]},{G:q.iH,u2:!0,SP:[aW.iu],WZ:[q.Bd]},{G:q.bl,u2:!0,SP:[aW.iu],WZ:[q.kQ,q.Dn,q.H8]},{G:q.kQ,u2:!0,SP:[aW.iu],WZ:[q.bl,q.jh,q.eS,q.I0,q.AX,q.CM]},{G:q.xE,u2:!0,SP:[aW.iu]}],G2:[[{G:new q.Q8,mH:kb},{G:new q.xu,mH:iK}],[{G:new q.LR,mH:eG},{G:new q.Um,mH:eg}],[{G:new q.ed,mH:e6},{G:new q.d$,mH:cX},{G:new q.fl,mH:fk}],[{G:new q.Ib,mH:cU},{G:new q.JM,mH:ag},{G:new q.UC,mH:bK}],[{G:new q.a1K,mH:cW},{G:new q.abi,mH:iJ},{G:new q.Yq,mH:bT},{G:new q.Ec,mH:aU}],[{G:new q.Nz,mH:ee},{G:new q.Yi,mH:a0}],[{G:new q.UH,mH:kw},{G:new q.$d,mH:ep},{G:new q.GI,mH:cx},{G:new q.aw1,mH:aY},{G:new q.LC,mH:ek}],[{G:new q.zZ,mH:ih},{G:new q.Nb,mH:jV},{G:new q.Ng,mH:ke}],[{G:new q.fP,mH:jY}],[{G:new q.X7,mH:ev},{G:new q.lD,mH:hE}],[{G:new q.O5,mH:iI},{G:new q.Qo,mH:jS}],[{G:new q._n,mH:dj},{G:new q.at,mH:bI},{G:new q.r8,mH:dz}],[{G:new q.Oi,mH:iS},{G:new q.sx,mH:bu},{G:new q.Nr,mH:cC}],[{G:new q.qZ,mH:co},{G:new q.adX,mH:co}],[{G:new q.EF(0),mH:br},{G:new q.BP,mH:jL},{G:new q.EF(1),mH:br}],[{G:new q.bu,mH:hD},{G:new q.EM,mH:d3}],[{G:new q.Rect,mH:jh},{G:new q.z9,mH:be},{G:new q.Qa,mH:hq},{G:new q._2,mH:iN},{G:new q.tI,mH:cK}],[{G:new q.yF,mH:eq},{G:new q.pM,mH:b9}],[{G:new q.kr,mH:f_}]],RN:[],keys:[aW.uB,aW.UK,aW.wb,aW.aW,aW.DM,aW.PR,aW.BN,aW.R8,aW.ao,aW.E,aW.vP,null,aW.WS,aW.Nu,aW.yq,aW.t,aW.gh,aW.jJ,aW.lW],PS:[{G:new q.alj,mH:jQ},{G:new q.asp,mH:ha},{G:new q.abn,mH:dJ},{G:new q.Nz(!0),mH:ee},{G:new q.Yx,mH:iH}],PU:[{G:new q.AD},{G:new q.History},{G:new q.mP},{G:new q.GA},{G:new q._0},{G:new q.jc}],map:{},$Q:null,rT:null,zD:null};
for(var P=0;P<this.a.G2.length;P++){var j=this.a.G2[P];if(j=="---")continue;var v=this.a.keys[P];for(var _=0;
_<j.length;_++){this.a.map[j[_].G.id]=j[_];j[_].c4=P;j[_].a2d=_;var L=df.get(j[_].G.name);x+="<li>"+j[_].G.id+": "+L+"</li>";
k+="\t"+JSON.stringify(j[_].G.name)+", "+(v?"\""+v.u$+"\"":"null")+", "+j[_].G.id+", // "+L+"\n"}this.a.RN[P]=0}for(var P=0;
P<this.a.PS.length;P++)this.a.map[this.a.PS[P].G.id]=this.a.PS[P];for(var P=0;P<this.a.PU.length;P++)this.a.map[this.a.PU[P].G.id]=this.a.PU[P];
this.I4={a2D:!1,OZ:null,sr:0,uO:{a6:[],Ar:[],list:[],Yc:null},w7:[],aor:[],pv:[],Hj:[],uL:[],IK:[],auZ:[],akJ:[],uL:[],V9:[fZ.SX()],OG:[],r9:[],P9:null,GP:0,sk:{BM:1,Pz:JSON.parse(JSON.stringify(hL.Bx[0]))},y6:JSON.parse(JSON.stringify(hL.Oq.default)),a6S:[null].concat(hL.Bx),arI:[null].concat(hL.Bx),vj:new g6(function(T){var g=new e9(W.E.Z,!0);
g.data={d:W.t.Vd,GT:{url:"rsrc/fonts/"+T}};this.c(g)}.bind(this)),j8:{B0:[],hd:null,wo:null},font:null,Gh:[],VV:[],atK:{},Ht:16711680,Mw:0,KY:!1,x3:!0,yR:{l2:!0,jm:!1,bt:!0,c1:!0,Aj:!0,V7:!0,gR:20,Js:0,Un:0,gM:0},xx:!0,X3:[!0,!0,!1,!0,!0],n0:[0,1,2,3,5,6,7,9,10,16,17,100],lF:1,kc:!0,aU:{},pV:!0,ada:!1,compact:!1,km:1,fU:!0,d6:null,PB:{acH:!1,a1E:!1,nS:{},QO:null},ass:0,acb:null,W7:null,afw:null,DW:null};
this.ao8={_b:new dC,hl:new a5};this.I4.j8=bQ.akp();this.rd=new dL;this.N4=new bE;this.gu=new g7(this.a,!0);
this.cj=new bX;this.b0=new hh(this);this.Mv=O.S("div");this.aX=!1;this.lQ=this.aoY.bind(this);O.vK(this.b0.m,"mainblock");
this.$A.parent=this.rd.parent=this.N4.parent=this.gu.parent=this.cj.parent=this.b0.parent=this;this.b0.h(W.E.r,this.yH,this);
this.b0.h(W.E.RR,this.acF,this);this.b0.h("shuffleItems",this.arS,this);this.b0.h(W.E.ali,this.ajJ,this);
this.h("mouse",this.a2m,this);this.h(W.E.s,this.Q$,this);this.h(W.E.a3,this.alq,this);document.body.addEventListener("keydown",this.$J.bind(this),!1);
window.addEventListener("keyup",this.gT.bind(this),!1);window.addEventListener("paste",this.aql.bind(this),!1);
window.addEventListener("copy",this.a84.bind(this),!1);window.addEventListener("wheel",function(T){if(T.ctrlKey)T.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(T){if(window.innerWidth>400)T.preventDefault();
this.I4.d6=T}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(T){if(T.arU){console.log("Service worker installing")}else if(T.ao$){console.log("Service worker installed")}else if(T.active){console.log("Service worker active")}}).catch(function(T){console.log("Registration failed with "+T)})}this.ay=0;
this.oR=[];this.NK=new jb(fc.FI);this.NK.parent=this;var U=this.i$,n=this._Q=O.S("div");n.appendChild(this.rd.m);
n.appendChild(this.N4.m);this.$A.aeR(n);var a=this.a3A=O.S("div","flexrow");U.appendChild(a);a.appendChild(this.gu.m);
a.appendChild(this.b0.m);a.appendChild(this.cj.m);this.NK.Jy({url:"rsrc/basic/basic.zip"});this.et(q.xE);
bh.ba(this.a5f.bind(this))}ao.prototype=new au(!0);ao.prototype.nY=function(w){var I=new e9(W.E.Z);I.data={d:W.t.pz,GT:w?w:"done"};
this.c(I)};ao.prototype.a5f=function(){O.XV[ap.kb](this.afU.bind(this),Math.pow(Math.PI,8)+O.XV[ap.a2C][ap.aol]()*1e4);
var w=bh.sf();if(w!=null&&w.globals!=null)this.eP(w.globals);else{this.a0d=!0;var I=navigator.languages;
if(I&&I.length!=0){var E=I[0];df.FU(E,this.lQ)}}if(!this.tr()){var X=O.anu();if(X==0)this.ada=!0;if(X==2)this.I4.pV=!1;
if(X!=1&&Math.random()<.002)O.atO()}if(!ku.m4()||!this.I4.pV){this.asQ();this.p6()}else{var o=O.bL(O.XV[ap.dL]);
o[ap.he](ap.Op,this.ark.bind(this));o[ap.$y](O.x1("61="),O.x1("_MYOqDLGJa;A:6"));o[ap.xl]()}this.Mg=!0;
this.nY()};ao.prototype.ark=function(w){var I=JSON.parse(w.target[ap.XW]),E=O.XV[ap.t_][ap.a1i]()/1e3,X=O.XV[ap.ph][ap.xR],o=!1;
for(var i in I)if(i.indexOf(".")!=-1&&X.indexOf(i)!=-1&&parseInt(I[i])>E)o=!0;if(o)this.I4.pV=!1;this.asQ();
this.p6()};ao.prototype.p6=function(w){this.yQ=!0;if(!this.I4.fU)this.b0.fU=null;else if(this.oR.length==0)this.b0.aoC();
this.tu(ik.Vk);this.f();this._E();this.cj.tM(this.QN(),this.oR,this.I4)};ao.prototype.eP=function(w){var I=this.I4;
if(w.fcolor!=null)I.Ht=w.fcolor;if(w.bcolor!=null)I.Mw=w.bcolor;if(w.rulers!=null)I.KY=w.rulers;if(w.extras!=null)I.x3=w.extras;
if(w.favFam!=null)I.Gh=w.favFam;if(w.rsrc!=null)I.VV=w.rsrc;if(w.font!=null)I.j8.B0[0].Name=w.font;if(w.panels!=null)I.n0=w.panels;
if(w.as!=null)I.km=w.as;if(w.eparams){var E=w.eparams,X=I.yR;if(E.guides!=null)X.l2=E.guides;if(E.grid!=null)X.jm=E.grid;
if(E.gsize!=null)X.gR=E.gsize;if(E.gunits!=null)X.Js=E.gunits;if(E.gtype!=null)X.Un=E.gtype;if(E.runits!=null)X.gM=E.runits;
if(E.sels!=null)X.bt=E.sels;if(E.paths!=null)X.c1=E.paths;if(E.pgrid!=null)X.Aj=E.pgrid;if(E.slices!=null)X.V7=E.slices}if(w.lang!=null)df.FU(w.lang,this.lQ);
if(w.theme!=null)I.lF=w.theme;if(w.topt||I.gK){var o=w.topt?w.topt:{},i=I.gK?I.gK:{};for(var h in this.a.map){if(h>=100)continue;
var k="t"+h;if(o[k]||i[k])this.a.map[h].G.UX(o[k],i[k],this)}}};ao.prototype.asQ=function(){if(this.I4.a2D)return;
this.I4.a2D=!0;var w=null,I=window.location.href,E=I.indexOf("="),X=I.indexOf("#");if(E!=-1)w=I.substring(I.indexOf("?")+1,E);
if(X!=-1&&X!=I.length-1){w="p";E=X}if(X!=-1&&I[X+1]=="i"){this.NK.ck(I.slice(X+2))}else if(X!=-1&&I[X+1]=="t"){this.NK.ck(I.slice(X+2).split("").reverse().join(""),!0)}else if(w=="p"||w=="state"){var o=I.substring(E+1,I.length);
o=JSON.parse(decodeURI(o));if(w=="p"){if(o.script=="alert(73)")this.I4.pV=!1;if(o.script)g9.atC(this);
if(o.server)this.a$=o.server;if(o.resources)for(var P=0;P<o.resources.length;P++)this.NK.Jy({url:o.resources[P]});
if(o.files)for(var P=0;P<o.files.length;P++)this.NK.Jy({url:o.files[P],kl:{xw:o.server,a7z:o.script}});
var i=o.environment;if(i==null)i={};if(i.plugins!=null)this.cj.a9n(i.plugins);if(i.localsave!=null)this.I4.kc=i.localsave;
if(i.customIO!=null)this.I4.aU=i.customIO;if(i.vmode!=null){var h=i.vmode;if(h==1)this.I4.compact=!0;
if(h==2)this.FO(1)}if(i.intro!=null)this.I4.fU=i.intro;if(i.menus!=null)this.I4.a6z=i.menus;if(i.tmnu!=null)this.I4.gK=i.tmnu;
if(i.panels!=null)this.I4.n0=i.panels;if(i.showtools!=null){var k=i.showtools,x=k.indexOf(this.I4.OZ);
this.I4.$v=k;if(x==-1)this.et(k[0])}if(i.phrases!=null)df.aai(i.phrases);if(i.autosave!=null){this.I4.km=0;
window.setInterval(function(){var _=new e9(W.E.Z);_.data={d:W.t.De};this.c(_)}.bind(this),i.autosave*1e3)}if(i.icons!=null){for(var j in i.icons)if(i.icons[j].indexOf("\"")==-1){if((j==ap.a87||j==ap.a9h)&&this.I4.pV)continue;
PIMG[j]=i.icons[j];PIMG["__"+j]=!0}}this.eP(i);if(o.files==null&&o.script){io.PG(o.script,this);this.nY()}}else if(w=="state"){var v=this.NK;
if(o.action=="create"){var _=new e9(W.E.Z);_.data={d:W.t.GV,ei:"newproject",apx:o.folderId};this.c(_)}if(o.action=="open"){for(var P=0;
P<o.ids.length;P++)gR.Yz(function(){var U="https://www.googleapis.com/drive/v3/files/"+this.a3s,n=new XMLHttpRequest;
n.open("GET",U);n.setRequestHeader("Authorization",gR.CK());n.send();n.onload=function(a){var T=JSON.parse(a.target.response);
v.Jy({url:U+"?alt=media",name:T.name,FP:{file:T,V8:""},MW:{Authorization:gR.CK()}})}}.bind({a3s:o.ids[P]}));
alert("Loading files from Google Drive ...")}}}else{var L=window.launchQueue;if(L){var v=this.NK;L.setConsumer(function(U){var n=U.files;
console.log(n);for(var P=0;P<n.length;P++){var a=n[P];a.getFile().then(function(T){v.Lu([T],null,null,null,[a])})}})}}};
ao.prototype.f=function(){var w=document.getElementById("cap");if(w){var I=!1,E=w.getElementsByTagName("h1")[0],i=0,k=0,x=0;
E.textContent=I?"Photopea":df.get([0,17,0]);var X=w.getElementsByTagName("p"),o=O.qk(df.get([0,17,1])),h=["PSD","XCF","Sketch","XD","CDR"];
for(var P=0;P<h.length;P++)o=o.replace(h[P],"<b>"+h[P]+"</b>");if(!I)o+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
X[0].innerHTML=o;o=df.get([0,17,2])+" "+df.get([0,17,3]);for(var P=0;P<o.length;P++){var j=o[P];if(j=="<")k++;
if(j==">")x++}if(!I&&k*x==9){var v=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var P=0;P<3;P++){var _=o.indexOf("<",i),L=o.indexOf(">",i),U=o.slice(0,_)+"<a href=\""+v[P]+"\" target=\"_blank\">"+o.slice(_+1,L)+"</a>";
i=U.length;o=U+o.slice(L+1)}X[1].innerHTML=o}else X[1].innerHTML=df.get([0,17,2])}var n=document.getElementById("sponsors");
if(n)n.textContent=df.get([0,17,4]);this.$A.f();this.rd.f();this.cj.f();this.gu.f();this.iz.f();this.b0.f();
for(var a in this.a.map)if(this.a.map[a].hZ)this.a.map[a].hZ.f()};ao.prototype.tr=function(){return 4<O.XV[ap.Xf][ap.dd][ap.amT](ap.x1("'$!|"))};
ao.prototype.hi=function(w,I){w=Math.floor(w);I=Math.floor(I);var E=O.x1("WUMK&AM"),X=ap.zg,o=O.XV[ap.ph],i=Math.max(w,window.screen.width),h=Math.max(I,window.screen.height),_=0;
if(this.E_==null)this.E_=Math.min(i,h)<500||i<750?0:i<1600?1:2;var k=this.E_,x=!this.yQ||this.tr()||!this.I4.pV||bh.c9()||k==0;
if(!x&&ku.m4()){if(this.adz==null)this.adz=Math.random()<.5;x=this.adz}if(x){if(k!=0&&O.XV[E]&&this.yQ)O.XV[E]()}else{if(k==0)I-=60;
else w-=k==1?180:320}au.prototype.hi.call(this,w,I);if(x&&this.aX){this.m[ap.AQ](this.Mv);O.wO(this.Mv);
this.aX=!1}if(!x&&!this.aX){var j=function(n){if(Math.random()<.002){bh.event(ku.hD()?"gota_0":"gota_1")}this.al8(w,I);
var a=k==0?o[ap.LZ]:this.m;a.appendChild(this.Mv);this.Mv[ap.Fi](X,O.x1("_MMJLNDfKCAg")+(k==0?10:10)+O.x1("_d$ebOS?I:==Ba-+# }$M"));
this.Mv[X][O.x1("_MMJLND&<:E")]=(k==0?0:19)+O.x1("_d");this.Mv[X][O.x1("i5WJHX")]=k==0?0:1}.bind(this);
function v(){ku.a9A(j)}setTimeout(v,2300);this.aX=!0}if(O.NJ(this.rd.m))_+=31;if(O.NJ(this.N4.m))_+=32;
this.$A.aaa=this.I4.pV&&this.yQ;this.$A.hi(w,_);var L=I-_,U=O.x1("_d");this.Mv[X][ap.agU]=(k==0?100>>>1:I-11)+U;
this.Mv[X][ap.lf]=(k==0?w:6*Math.pow(10,2))+U;if(O.NJ(this.gu.m))this.gu.hi(w,L);this.cj.hi(w,L);this.b0.hi(w-this.gu.VE()-this.cj.VE(),L)};
ao.prototype.al8=function(w,I){var E=function(){var X=new e9(W.E.Z);X.data={d:W.t.GV,ei:"account"};this.c(X)}.bind(this);
ku.amJ(w,I,this.Mv,E,this.E_)};ao.prototype.a84=function(w){console.log("systemCopy")};ao.prototype.aql=function(w){if(O.On())return;
console.log("systemPaste");if(!w.clipboardData)return;var I=w.target.tagName.toLowerCase(),E=w.clipboardData.items;
if(E==null)return;var X=this.a7c.bind(this);for(var P=0;P<E.length;P++){var o=E[P],i=o.getAsFile();if(o.type.indexOf("text")!=-1){o.getAsString(this.acI.bind(this))}if(o.type.indexOf("image")!=-1){if(i.size==this.I4.ass)return;
this.I4.ass=i.size;if(i){i.name="image.png";this.NK.Lu([i],X)}}}};ao.prototype.acI=function(w){if(w.startsWith("http")){if(w==this.I4.aih)return;
this.I4.aih=w;var I=new e9(W.E.Z,!0);I.data={d:W.t.Vd,GT:{url:w,Ol:!0}};this.c(I)}};ao.prototype.a7c=function(w,I){var E={buffer:w,rect:I},X=this.I4;
if(O.On()){var o=this.ao8,i=o._b;if(i.q==I.q&&i.w==I.w){E.rect=i;E.hl=o.hl}}else{if(X.W7){var h=new e9(W.E.s,!0);
h.G=q.b9;h.data={d:"h_stepbck"};this.c(h)}}X.W7=E;var h=new e9(W.E.Z,!0);h.data={d:W.t.SO,aoE:!0};this.c(h)};
ao.prototype.a9t=function(){if(this.iz.Fv()!=null)alert(df.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
ao.prototype.Q$=function(w){var I=this.QN();if(I==null){alert(df.get([15,7,7]));return}var E=w.G==q.aB||w.G==q.dc;
if(this.iz.wN()&&w.IY!=!0&&!E){this.a9t();return}var X=this.a,o=this.I4.OZ,i=w.G;if(i==q.Zn&&o==q.c3)i=q.c3;
if(o!=i&&X.map[o].G.wN()&&!E&&!(o==q.Ig&&i==q.Hl)){console.log("disabling",o);X.map[o].G.disable(I,this,this.I4,this.Ie)}var h=this.a.map[i].G;
h.Q$(w.data,this,I,this.Ie,this.I4)};ao.prototype.alq=function(w){var I=this.I4;if(w.data.v$!=!0)gE.atM({$g:w.data.$g,Zc:w.data.Zc},this,I,this.QN());
var E=I.P9,X=I.r9;if(E==null)return;var o={amU:!1,my:"Step",aqH:0,i:!0,exp:!1,$g:w.data.$g};if(E[2]==null)E[2]=X[E[0]].mz[E[1]].mz.length-1;
if(w.data.Zc)o.Zc=w.data.Zc;X[E[0]].mz[E[1]].mz.splice(E[2]+1,0,o);E[2]++;this.tu(ik.s)};ao.prototype.r7=function(w){if(this.ada){w.data=0;
return w.type}au.prototype.r7.call(this,w);var I=w.data.d;if(I==W.t.QJ)gE.adn(this.QN(),this.I4.r9,w.data.hT[0],w.data.hT[1],this);
if(I==W.t.aiq){this.ajb(w.data.apW)}if(I==W.t.aiw){this.f();this._E()}if(I==W.t.g1)this._E();if(I==W.t.a1P)if(this.I4.d6){this.I4.d6.prompt();
this.I4.d6=null}if(I==W.t.JN)this.b0.EC(w.data.sL,w.data.push);if(I==W.t.aeQ)this.b0.acn();if(I==W.t.ats)this.yH(null,w.data.dir);
if(I==W.t.aS)this.b0.vQ(this.oR.indexOf(w.data.zW));if(I==W.t.vB){if(w.data.k1&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(w.data.k!=null)this.FO(w.data.k)}if(I==W.t.auK){if(w.data.WN)this.Ie.tf(w.data.a8E);
else this.Ie.pr(w.data.a8E);this.oH(w.data.WN?"down":"up")}if(I==W.t.a4U){var E=w.data.k;this.cj.a9n([E]);
this.f()}if(I==W.t.PZ){var X=this.QN(),o=X.sQ().slice(0),i=X.b[X.g[0]],h=new dC(0,0,X.q,X.w),k=hg.Mz()+"-d71c-11e5-b1ae-a548a96e5f9f",x=new e9(W.E.Z,!0);
if(w.data.GT==0){var j={name:X.name.split(".")[0],id:k,IZ:[o,h]};x.data={d:W.t.e1,kl:"add",GT:ik.cc,VV:[j]};
this.c(x)}if(w.data.GT==1){var v=Q.$(h.A()*4);Q.Ez(v,4294967295);Q.e.gF("norm",o,h,v,h,h,1);var _=Q.$(h.A());
Q.V0(v,_);Q.ja(_);var L=Q.dM(_,h);if(L.qo())L=h;var U=Q.$(L.A());Q.b_(_,h,U,L);var n=Q.$(L.A()*4);Q.lJ(U,n,3);
var a={_b:L,id:k,IZ:[n,L]},T=j8.YU(k),g=T.Brsh.v;g.Dmtr.v.val=L.q;g.Spcn.v.val=10;x.data={d:W.t.e1,kl:"add",GT:ik.nz,VV:{list:[{t:"Objc",v:T}],Ar:[a],a6:[]}};
this.c(x);x.data={d:W.t.e1,GT:ik.ZH,Cl:T};this.c(x)}if(w.data.GT==2){var D=X.cm(),b=D[0][D[1][0]],C={MQ:i.getName(),nV:k,j:b.add.vmsk.clone().j},Z=Q.O.sM(C.j),S=new am(Z.q,0,0,Z.w,Z.x,Z.y);
S.ja();Q.O.yJ(C.j,S);Z.x=Z.y=0;C.iM=Z.clone();x.data={d:W.t.e1,kl:"add",GT:ik.EO,VV:[C]};this.c(x)}}if(I==W.t.Vd)this.NK.Jy(w.data.GT);
if(I==W.t.vN){var u=w.data.ab3;if(u!=!0&&this.ud("open"))return;this.NK.ap7(u?this.b0.CB():null,w.data.a7d)}if(I==W.t.Ux){var p=w.data.a6k,f=w.data.HE,d=this.WI(p);
if(f){var l=p==ik.nz,A=[];for(var P=0;P<f.length;P++)A.push((l?d.list:d)[f[P]]);d=l?{a6:d.a6,Ar:d.Ar,list:A}:A}if(p==ik.uH){var h=new hg;
for(var P=0;P<d.length;P++){var B=d[P].C$.Lefx;if(B)aQ.a1r(B,h,this.I4.IK)}d={TW:h.add.Patt?h.add.Patt:[],$z:d}}if(p==ik.Q6){var e=this.I4.uO;
d={Ar:[],a6:[],list:d};console.log(d)}if(p==ik.s)d=d[w.data.je];var m=ik._f[p],o=m[2].hI(d);jb.save(o,m[1]+"."+m[0])}if(I==W.t.Ll){var $=this.I4.PB,V=w.data.aqd;
if($.QO&&!$.acH&&!V){$.a1E=window.confirm("Load \""+w.data.gm+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
$.acH=!0}if(($.a1E||V)&&$.QO){$.nS[w.data.gm]=w.data.Sh;var x=new e9(W.E.Z);x.data={d:W.t.e1,GT:ik.kn};
this.c(x)}}if(I==W.t.apM){var X=this.QN(),G="<!DOCTYPE HTML>";if(X==null)return;var H=gt.du(X.sQ().buffer,X.q,X.w),F=window.open();
G+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";G+="<body><img src=\""+H+"\" /></body>";
G+="</html>";F.document.write(G)}if(I==W.t.bT){if(this.ud("publishOnline"))return;var J=w.data.G$!="psd",X=this.QN();
if(X==null)return;if(!J&&X.GO)return;var c="Your picture will be published at "+(J?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!J)c+=" We guarantee 6 months of storage (or more, if your file is opened often).";var r=w.data.nb?!0:confirm(c);
if(r){if(!J){var x=new e9(W.E.s,!0);x.G=q.Qd;x.data={d:K.cN};this.c(x);var s=new dC(0,0,X.q,X.w);for(var P=0;
P<X.b.length;P++){var i=X.b[P];if(i.rect.qo()||i.vD()||i.pi()||i.qW()||i.us()||i.add.TySh||i.add.vmsk||i.add.SoLd)continue;
var z=s.LP(i.rect);if(!z.ZQ(i.rect)&&!z.qo()){var Y=Q.$(z.A()*4);Q.D6(i.buffer,i.rect,Y,z);i.buffer=Y;
i.rect=z}if(!Q.rl(i.buffer,i.rect.q,i.rect.w))continue;var ax=i.TH(),iW=i.opacity,y=i.$B,hm=i.ws;i.Wz(!0);
i.opacity=255;i.$B="norm";X.g=[P];x.data={d:K.nJ,G$:"jpg"};this.c(x);var t=X.b[P];i.Wz(ax);t.Wz(ax);
i.opacity=t.opacity=iW;i.$B=t.$B=y,i.ws=t.ws=hm}}if(X.Pw){X.vL()}var cT=X.q,c4=X.w,kv=w.data.a7C,iL;
if(kv)while(Math.max(cT,c4)>kv){cT=cT>>>1;c4=c4>>>1}console.log(cT,c4);if(w.data.G$=="psd")iL=gt.mZ(X,"psd",0,0,[!0,!0,!0]);
else if(w.data.G$=="png")iL=gt.mZ(X,"png",cT,c4);else{var cr=gt.mZ(X,"png",cT,c4),ga=gt.mZ(X,"jpg",cT,c4);
iL=cr.byteLength<ga.byteLength?cr:ga}if(J)jb.a1z(iL,w.data.nb);else this.NK.akI(iL,X.name,w.data.nb,"psdshared")}}if(I==W.t.De){var X=this.QN(),iq=!1;
if(X==null)return;if(X.Pw){X.vL()}if(w.data.OX){if(!this.fy(X,w.data.OX))return;var o=fc.aoN(X,w.data.OX,this.I4);
this.nY(o);iq=!0}else if(X.Gt){if(this.oR.indexOf(X.Gt.Mn)!=-1){var o=new Uint8Array(gt.FB("PSD").v6(X,null,null,[!0,!1])),x=new e9(W.E.s,!0);
x.data={d:K.ZM,gt:X.Gt.Mn,data:o,id:X.Gt.ad8,Ov:X.name};x.G=q.Qd;this.c(x);alert("Smart Object updated")}iq=!0}else if(this.ud("save")){iq=!0}else if(X.FP){fc.akX(X);
iq=!0}else if(X.Y8){fc.arh(X);iq=!0}else if(X.kl&&X.kl.xw){if(!this.fy(X,X.kl.xw.formats))return;this.NK.a2H(X,this.I4,fc.aaA);
iq=!0}else if(X.Tz&&"psd jpg png gif webp svg bmp".split(" ").indexOf(X.qM)!=-1){this.aq8();return}if(iq){X.eq=X.lZ;
X.Q7=Date.now();X.WV=!0}else{var x=new e9(W.E.Z,!0);x.data={d:W.t.h8};this.c(x)}}if(I==W.t.h8){if(!this.I4.kc){alert("function is disabled");
return}if(this.ud("saveAsPSD"))return;var X=this.QN();if(X==null||X.GO)return;if(!this.fy(X))return;
var x=new e9(W.E.s,!0);x.data={d:K.cN};x.G=q.Qd;this.c(x);if(X.b.length>8e3&&!confirm("Your document has "+X.b.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var ei={P$:[]};X.root.a5Z([],ei);var hw=ei.P$;if(hw.length>11&&!confirm("One layer is nested "+(hw.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+hw.join(" \uD83E\uDC1A ")+"."))return;
var hC=window.showSaveFilePicker;if(window.parent!=window)hC=null;if(hC&&!w.data.a4F){var j5={suggestedName:X.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
hC(j5).then(function(w){X.Tz=w;X.name=w.name;X.oP=!0;X.qM="psd";this.aq8()}.bind(this));return}var ed=window.gtag;
if(X.YC()&&ed)ed("event",X.qM+":"+O.qD(bh.c9()?"\"'|('61":"w'| "),{event_category:"Formats"});if(X.Pw){X.vL()}if(w.data.a4F){var o=X.qM=="psd"?gt.FB("PSD").v6(X):fc.z2(X,X.qM,this.I4);
this.a8s(o,X,this)}else{var o=gt.FB("PSD").v6(X);jb.save(o,X.name);X.eq=X.lZ;X.Q7=Date.now();X.WV=!0}}if(I==W.t.Yo)window.open(w.data.link,"_blank");
if(I==W.t.aoM){if(this.iz.wN()){this.a9t();return}var X=this.QN(),i=X.b[X.g[0]],E=X.Df(i.add.SoLd.Idnt.v);
for(var P=0;P<this.oR.length;P++){var jn=this.oR[P].Gt;if(jn!=null&&jn.ad8==E.wl&&jn.Mn==X){this.b0.wd(P);
return}}jb.FI({name:E.Ov,Gt:{ad8:i.add.SoLd.Idnt.v,Mn:X}},E.raw.buffer,this)}if(I==W.t.aca){console.log(w.data);
jb.FI({name:w.data.Y8[1].split("/").pop(),Y8:w.data.Y8},w.data.T1,this)}if(I==W.t.a7s){var X=this.QN();
X.Y8=w.data.Y8;X.name=X.Y8[1].split("/").pop();var x=new e9(W.E.Z);x.data={d:W.t.De};this.c(x)}if(I==W.t.LO){this.a5p()}if(I==W.t.NA){this.ae5(w.data.WY,w.data.Lq,w.data.ne)}if(I==W.t.SO){this.anh(w.data.aoE,w.data.Ts,w.data.ne)}if(I==W.t.atW){var fj=w.data.k;
if(fj.startsWith("vcb;")){var di=JSON.parse(fj.slice(4));di[0]=fZ.Xz(di[0]);var x=new e9(W.E.s,!0);x.G=q.kQ;
x.data={d:"append",Wj:"Paste Paths",a2q:di};this.c(x)}else if(fj.startsWith("lrs;")){var b1=fj.split(";"),dI=this.oR[parseInt(b1[1])];
if(dI==null)return;var h2=this.QN(),de=dI.g;dI.g=JSON.parse(b1[2]);var ds=dI.I3(null,dI!=h2),x=new e9(W.E.s,!0);
x.data={d:K.sc,b:ds,Mn:dI,Pf:h2};x.G=q.Qd;this.c(x);dI.g=de}else if(fj.startsWith("<!--")||fj.startsWith("<svg")){var jO=M.VD(fj),gy=gt.FB("svg"),h=new hg("image.psd");
gy.CE(jO.buffer,h);if(this.oR.length!=0){var fV=h.b;if(fV.length==3&&fV[0].getName()=="</Layer group>"&&fV[2].vD())fV=[fV[1]];
var x=new e9(W.E.s,!0);x.G=q.Qd;x.data={d:K.sc,b:fV,Mn:h,Pf:this.QN()};this.c(x)}else this.ac0(h)}}if(I==W.t.FN){io.PG(w.data.Pb,this)}if(I==W.t.pz){if(window.parent!=window)window.parent.postMessage(w.data.GT,"*");
this.cj.hk(w.data.GT)}if(I==W.t.mB){var hl=parseFloat(w.data.ei);if(this.I4.n0.indexOf(hl)==-1){var x=new e9(W.E.Z,!0);
x.data={d:W.t.e1,GT:ik.AF,k:hl,kl:"add"};this.c(x)}this.cj.akw(w.data.ei)}if(I==W.t.oG){this.rC.arZ(this.QN(),this.I4)}if(I==W.t.GV){var im="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var P=0;P<im.length;P+=2)if(w.data.ei==im[P]&&this.ud(im[P+1]))return;if(!this.I4.kc&&w.data.window=="saveforweb"){alert("function is disabled");
return}this.iz.aro(w.data.ei,this.QN(),w.data,this.oR,this.Ie)}if(I==W.t.Ty)jb.save(w.data.data,w.data.name);
if(I==W.t.aR){if(!this.iz.wN()||w.IY)this.ac0(w.data.gt)}if(I==W.t.dv){this.b0.wd(w.data.target);var x=new e9(W.E.s,!0);
x.data={d:K.ar_,gt:w.data.gt,FE:w.data.FE,PH:w.data.PH};x.G=q.Qd;this.c(x);this.et(q.Ai)}if(I==W.t.agn){R.U7=!R.U7;
if(this.oR.length>0)this.QN().M()}if(I==W.t.anv){var eA=bh.sf();if(eA!=null&&eA.globals!=null)this.eP(eA.globals);
this.p6()}if(I==W.t.Bj){this.NK.Lu(w.data.data,null,w.data.NF,w.data.zz,w.data.awN)}if(I==W.t.en){var hy=this.pR();
if(!this.iz.Fv()!=null)this.et(w.data.G,w.data.iw);var dm=this.pR();if(dm!=hy&&w.data.a4a)dm.PX(this.QN(),this,this.I4,this.Ie,this.zr)}if(I==W.t.xv){if(this.a.$Q)this.et(this.a.$Q)}if(I==W.t.Jd){var hA=this.a.map[w.data.G].G,X=this.QN();
hA.NE(w.data,this,X,this.Ie,this.I4);if(X)X.cW=!0;this.avN()}if(I==W.t.LF){var j2=this.a.map[w.data.G];
this.abX(j2);j2.hZ.v7(w.data)}if(I==W.t.e1){var X=this.QN(),dQ=w.data.GT,aS=w.data.VV,eh=this.I4;if(w.data.kl=="set"){var dm=q.ais(aS);
if(eh.OZ!=dm)this.et(dm);this.a.map[dm].hZ.anj(aS,eh)}if(w.data.kl=="add"){var m=ik._f[dQ];if(dQ==ik.AF){eh.n0.push(w.data.k);
eh.n0.sort(function(gV,jv){return gV-jv})}else if(m==null){if(aS)eh.vj.aqn(aS,w.data.a52)}else{var h_=this.WI(dQ);
if(dQ==ik.nz){h_.Ar=h_.Ar.concat(aS.Ar);h_.a6=h_.a6.concat(aS.a6);h_=h_.list;aS=aS.list}if(dQ==ik.uH&&X){for(var P=0;
P<aS.length;P++){var B=aS[P].C$.Lefx;if(B)aQ.acR(B,X,eh.IK)}}if(dQ==ik.Q6&&aS==null){var h=this.a.map[eh.OZ].hZ.aqO();
if(h==null)return;aS=[h]}for(var P=0;P<aS.length;P++)h_.push(aS[P]);if(dQ==ik.EO){var h6={};for(var P=0;
P<h_.length;P++){var gT=h_[P].MQ;while(h6[gT]!=null)gT=h_[P].MQ=gT+"X";h6[gT]=!0}}if(w.data.a52!=!0)if(h_.length!=aS.length||dQ==ik.rW||dQ==ik.uH||dQ==ik.Pv||dQ==ik.s)alert(df.get(m[3])+" "+df.get([23,1])+".")}}if(w.data.kl=="del"){if(dQ==ik.AF){eh.n0.splice(eh.n0.indexOf(w.data.k),1)}else{var m=ik._f[dQ],f=w.data.HE,h_=this.WI(dQ);
if(dQ==ik.nz)h_=h_.list;for(var P=0;P<f.length;P++)h_[f[P]]=null;for(var P=0;P<h_.length;P++)if(h_[P]==null){h_.splice(P,1);
P--}alert(df.get(m[3])+" deleted.")}}if(w.data.kl=="rnm"){var m=ik._f[dQ],h_=this.WI(dQ);if(dQ==ik.nz)h_=h_.list;
if(h_[w.data.HE[0]]==null)return;m[2]._m(h_[w.data.HE[0]],w.data.k)}if(dQ==ik.hy){var b8=w.data.k;eh.sk=b8;
eh.a6S[b8.BM]=b8.Pz}if(dQ==ik.Vc){var b8=w.data.k;eh.y6=JSON.parse(JSON.stringify(b8));var b5=b8.strokeEnabled.v,ar=b8.strokeStyleContent.v,cG=b5?{BM:1+hL.Oq.m9.indexOf(ar.classID),Pz:ar}:{BM:0};
eh.arI[cG.BM]=cG.Pz}if(dQ==ik.P7){eh.GP=w.data.k}if(dQ==ik.fr){eh.j8=w.data.j8}if(dQ==ik.ZH){var Y=JSON.parse(JSON.stringify(w.data.Cl)),bd=Y.useBrushSize;
if(bd&&bd.v){Y.Brsh.v.Dmtr.v.val=eh.uO.Yc.Brsh.v.Dmtr.v.val;bd.v=!1}eh.uO.Yc=Y}if(dQ==ik.pj){eh.Gh=w.data.pW}if(dQ==ik.TM){eh.VV=w.data.pW}if(dQ==ik.xa){var aZ,gl="Clrs";
if(w.data.ns<2){var ci=w.data.k,a7=w.data.ns==0,ay=Q.N.Ex({o:ci>>>16,P:ci>>>8&255,L:ci&255});if(a7)eh.Ht=ci;
else eh.Mw=ci;gl=a7?"FrgC":"BckC";aZ={$g:"set",Zc:{__name:"Set",classID:"setd",T:{t:"Objc",v:ay}}}}if(w.data.ns==2){var it=eh.Ht;
eh.Ht=eh.Mw;eh.Mw=it;aZ={$g:"exchange",Zc:{__name:"Exchange",classID:"Exch"}}}if(w.data.ns==3){eh.Ht=0;
eh.Mw=16777215;if(X!=null&&X.g.length!=0&&X.b[X.g[0]].yA==1){var it=eh.Ht;eh.Ht=eh.Mw;eh.Mw=it}aZ={$g:"reset",Zc:{__name:"Reset",classID:"Rset"}}}if(aZ){aZ.Zc.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:gl}}]};
var j2=this.pR();j2.Dw=this;j2.track(aZ)}}if(dQ==ik.wC){eh.KY=!eh.KY;this._E()}if(dQ==ik.wB){eh.x3=!eh.x3;
this._E()}var h1=eh.yR;if(dQ==ik.SA){h1.bt=!h1.bt;this._E()}if(dQ==ik.NV){h1.c1=!h1.c1;this._E()}if(dQ==ik.Mk){h1.l2=!h1.l2;
this._E()}if(dQ==ik.sw){h1.jm=!h1.jm;this._E()}if(dQ==ik.s6){h1.Aj=!h1.Aj;this._E()}if(dQ==ik._H){h1.V7=!h1.V7;
this._E()}if(dQ==ik.nk){eh.yR=w.data.pW;this._E()}if(dQ==ik.aoX){eh.xx=!eh.xx;this._E()}if(dQ==ik.cr){eh.X3[w.data.nD]=!eh.X3[w.data.nD];
this._E()}if(dQ==ik.BC){df.tl(w.data.lang,this.lQ)}if(dQ==ik.aF){eh.lF=w.data.lF;this.f()}if(dQ==ik.kn&&eh.PB.QO){var hM=eh.PB.QO.transaction(["rsrc"],"readwrite").objectStore("rsrc"),dn=hM.put({k:"fs0",fset:eh.PB.nS});
dn.onerror=function(w){console.log(w);alert("Storing failed. Browser says: "+w.target.error.message,7e3)}}this.tu(dQ)}};
ao.prototype.aq8=function(){var w=new e9(W.E.Z,!0);w.data={d:W.t.XR,cG:"Saving ..."};this.c(w);setTimeout(function(){var w=new e9(W.E.Z,!0);
w.data={d:W.t.h8,a4F:!0};this.c(w)}.bind(this),20)};ao.prototype.a8s=function(w,I){I.Tz.createWritable().then(function(E){E.write(w);
return E}).then(function(E){return E.close()}).then(function(E){I.eq=I.lZ;I.Q7=Date.now();I.WV=!0;var X=new e9(W.E.Z,!0);
X.data={d:W.t.Iw,cG:"Saving ..."};this.c(X)}.bind(this)).catch(function(E){var X=new e9(W.E.Z,!0);X.data={d:W.t.Iw,cG:"Saving ..."};
this.c(X)}.bind(this))};ao.prototype.afy=function(){var w=this.I4,I=w.VV,E=w.atK;for(var P=0;P<I.length;
P++){var X=I[P];if(E[X])continue;E[X]=!0;this.NK.ck(X,!1,!0)}};ao.prototype.aoY=function(){this.f();
this._E()};ao.prototype.ud=function(w){var I=this.I4.aU[w];if(I){var E=new e9(W.E.Z,!0);E.data={d:W.t.FN,Pb:I};
this.c(E)}return I!=null};ao.prototype.fy=function(w,I){var E=!0,h=15;if(I){E=!1;for(var P=0;P<I.length;
P++)if(I[P].startsWith(O.x1("__M")))E=!0}var X=w.YC()||w.Gt&&w.Gt.Mn.YC();if(this.tr())X=!1;var o=new O.XV[ap.t_],i=(o[O.qD("xy,b-66:")]()&1)*60+o[O.x1("VQ]3LNRN<G")]();
if(X&&!bh.c9()&&i>h&&E){var k=O.XV[O.qD("}$z{2*35")][O.qD("y'|!")],x=O.x1("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
x+="\n\n"+O.x1("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-i+120)+O.x1("nYRTXTBMd");
if(k.indexOf(O.qD("\"|'/-1)(W0?@"))==-1)x=df.get([0,11+6,3+2]);O.XV._cwY(x);return!1}return!0};ao.prototype.WI=function(w){var I=this.I4,E=[ik.nz,ik.x6,ik.ti,ik.Pv,ik.cc,ik.EO,ik.uH,ik.rW,ik.s,ik.Q6,ik.V3],X=[I.uO,I.pv,I.Hj,I.uL,I.IK,I.V9,I.OG,I.auZ,I.r9,I.w7,I.aor];
return X[E.indexOf(w)]};ao.prototype.a5p=function(){var w=this.ae5(),I=this.QN();if(I==null||I.g.length==0)return;
var E=I.b[I.g[0]],X=new e9(W.E.s);if(w==1){X.G=q.kQ;X.data={d:"remove",Wj:"Cut Paths"}}else{X=new e9(W.E.a3);
X.data={$g:"delete"}}this.c(X)};ao.prototype.ae5=function(w,I,E){if(w==null)w=!1;var X=this.I4;console.log("doCopy",w,I);
var o=this.QN();if(o==null||o.g.length==0)return;var i=o.b[I==null?o.g[0]:I],h=o.cm(),k=h[0],x=h[1],j=k[x[0]];
if(!w&&j!=null&&j.add.vmsk.g.length!=0){var v=q.zs.rq(j.add.vmsk,j.add.vogk);if(O.On()){v[0]=fZ.aoP(v[0]);
var _="vcb;"+JSON.stringify(v);jb.K4(new Blob([_],{type:"text/plain"}))}else X.DW=v;return 1}else if(o.n==null){if(O.On()){var _="lrs;"+this.oR.indexOf(o)+";"+JSON.stringify(o.g);
jb.K4(new Blob([_],{type:"text/plain"}))}}else{var L,U;if(w){var n=new dC(0,0,o.q,o.w);U=n.LP(o.n.rect);
L=Q.$(U.A()*4);Q.D6(o.sQ(),n,L,U);Q.HQ(o.n.channel,o.n.rect,L,U)}else if(o.Y1.length!=0){U=o.n.rect.clone();
L=Q.$(U.A()*4);var a=o.K3[o.Y1[0]],T=a.SQ(U);Q.SU(T,L);Q.lJ(o.n.channel,L,3)}else{var g=i.yb(o,o.n);
if(g==null){alert("Copied area is empty");return}L=g.T1;U=g.rect}var D=o.u.wL,b=D[0]+D[1]+D[2];if(b==1){var N=D.indexOf(1);
for(var P=0;P<L.length;P+=4)L[P]=L[P+1]=L[P+2]=L[P+N]}var C=new a5(o.q,o.w);if(O.On()&&E!=!0){var Z=gt.FB("PNG").apK(L.buffer,U.q,U.w);
jb.K4(new Blob([new Uint8Array(Z)],{type:"image/png"}));this.ao8={_b:U,hl:C}}else X.W7={buffer:L,rect:U,hl:C};
X.acb=U.clone();X.DW=null}};ao.prototype.anh=function(w,I,E){if(I)this.a7H=!0;console.log("doPaste");
var X=this.I4,o=X.W7,x;if(this.oR.length==0){if(!w&&O.On()){jb.fq(this,null);return}if(o){var i=gt.cV("image.psd",[{data:o.buffer.buffer,WG:o.rect}]),h=new e9(W.E.Z);
h.data={d:W.t.aR,gt:i};this.c(h)}return}var i=this.QN(),k=i.b[i.g.length==0?i.b.length-1:i.g[0]];if(X.DW){var j=i.cm(!0),v=j[0],_=j[1];
x=v[_[0]]}var h=new e9(W.E.s,!0);if(X.DW!=null&&x!=null){h.G=q.kQ;h.data={d:"append",Wj:"Paste Paths",a2q:X.DW}}else if(!w&&O.On()&&E!=!0){jb.fq(this,this.a7c.bind(this));
return}else{if(o==null)return;if(i.p8(!1)&&(i.u.wL.join("")!="111"||i.Y1.length!=0||k.yA>0||k.rect.qo())){h.G=q.nz;
h.data={d:"draw",a4W:!0,Wj:[5,2]}}else{h.G=q.Qd;h.data={d:K.WF,Ts:this.a7H};this.a7H=!1}h.data.W7=o}this.c(h)};
ao.prototype.amy=function(){var w=this.I4.vj;if(w.a1A())return;for(var P=0;P<this.oR.length;P++){var I=this.oR[P];
if(!fv.atf(I,w,this))continue;if(I.NZ)fv.a6t(I,w,this);var E=I.add.lnk2;if(E)for(var X=0;X<E.length;
X++){var o=E[X];if(o.NZ)q.AD.u1(I,o.wl,o.lG[1],o.lG[1],w)}if(I.a8d)continue;I.a8d=!0;if(I.kl&&I.kl.a7z)io.PG(I.kl.a7z,this);
this.nY();var i=new e9(W.E.s);i.G=q.Hl;i.data={d:"start",qt:"GEfc"};var h=new e9(W.E.Z);h.data={d:W.t.mB,ei:eB.MP.Vt};
h.data={d:W.t.GV,ei:"res1",G$:0}}};ao.prototype.tu=function(w){this.afy();var I=this.I4,E=I.OZ,h=!1;
if(w==ik.ZH){if(this.a.map[E].hZ)this.a.map[E].hZ.eU(I,w)}else for(var X in this.a.map)if(this.a.map[X].hZ)this.a.map[X].hZ.eU(I,w);
if(w==ik.HV){if(E!=q.Zn)this.a.map[q.Zn].G.eU(I,w);this.amy()}this.b0.eU(I,w);this.gu.eU(I,w);this.iz.eU(I,w);
this.pR().eU(I,w);this.cj.eU(I,w);this.rd.eU(I,w);if(w==ik.aF||w==ik.Vk){j3.av2(I.lF);this.update(!0)}var o=I.j8,i=o.hd.Font;
if(w==ik.fr&&i!=null&&o.B0[i].Name!=I.font){I.font=o.B0[i].Name;h=!0}if([ik.AF,ik.pj,ik.TM,ik.xa,ik.wC,ik.wB,ik.nk,ik.Mk,ik.sw,ik.SA,ik.NV,ik.s6,ik._H,ik.BC,ik.aF].indexOf(w)!=-1||h)this.avN()};
ao.prototype.avN=function(){if(!this.Mg)return;var w={},I=this.a.map;for(var E in I){var X=I[E].G;if(X.St&&X.St()!=null)w["t"+E]=X.St()}var o=this.I4,i=o.yR,h={fcolor:o.Ht,bcolor:o.Mw,rulers:o.KY,extras:o.x3,favFam:o.Gh,rsrc:o.VV,panels:o.n0,eparams:{guides:i.l2,grid:i.jm,sels:i.bt,paths:i.c1,pgrid:i.Aj,slices:i.V7,gsize:i.gR,gunits:i.Js,gtype:i.Un,runits:i.gM},lang:df.WX(),theme:o.lF,as:o.km,topt:w};
if(o.font!=null)h.font=o.font;var k=bh.sf();if(k==null)k={};k.globals=h;bh.N1(k)};ao.prototype.R6=function(w){var I=this.Ie,E=this.zr,X=this.I4.OZ,o=this.a.map[X].G,i=null,h=!1;
for(var P=0;P<this.a.aj6.length;P++){var k=this.a.aj6[P],x=!0;for(var j=0;j<k.SP.length;j++){var v=k.SP[j];
if(!I.Y(v))x=!1}if(x&&(!k.u2||!o.wN())&&(k.WZ==null||k.WZ.indexOf(X)!=-1)){i=k.G;h=k.u2;break}}if((!E.WN||X==q.xP||w)&&this.a.rT!=i&&(i!=X||!h)){var _=this.QN();
if(this.a.rT!=null&&i==null)this.pR().disable(_,this,this.I4,I,!0);this.a.rT=i;this.pR().enable(_,this,this.I4,I,i!=null&&i!=X)}};
ao.prototype.ZU=function(w){var I=this.I4.OZ,E=this.QN();if(I!=null){this.a.map[I].G.disable(E,this,this.I4,this.Ie)}};
ao.prototype.abX=function(w){if(w.hZ==null){w.hZ=new w.mH;w.hZ.ad4(w.G.id,w.G.y4);w.hZ.eU(this.I4,ik.Vk);
w.hZ.f()}};ao.prototype.et=function(w,I){if(w==q.Ai&&this.iz.Fv())return;var E=this.QN(),X=this.I4;if(this.a.map[w].G.qS(E,X)){this.ZU();
if(w!=X.OZ)this.a.$Q=X.OZ?X.OZ:q.xE;X.OZ=w;this.gu.et(X.OZ);var o=this.a.map[w];this.a.RN[o.c4]=o.a2d;
this.abX(o);this.N4.adt(o.hZ);var i=o.G;i.enable(E,this,this.I4,this.Ie,!1,I);if(E)E.cW=!0;this._E();
this.$A.acX()}};ao.prototype.pR=function(w){var I=this.a,E=I.zD,X=I.rT,o=this.I4.OZ;if(E)o=E;else if(X&&w==null)o=X;
return I.map[o].G};ao.prototype.ac0=function(w){var I=this.I4,E=this.oR.indexOf(w);if(E!=-1){this.b0.wd(E);
return}if(this.a$&&(w.kl==null||w.kl.xw==null)){w.kl={xw:this.a$}}if(w.Co==null){w.Co="local,"+this.aoH+","+w.name;
this.aoH++}w.Q7=Date.now();if(ku.hD()!=0&&!this.a0d&&O.XV[O.qD("t$&!'31")].toString().indexOf(O.qD(" u,$4&"))==-1){alert(O.qD("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var P=0;P<w.b.length;P++){var X=w.b[P];if(X.add.SoLd!=null){var o=Date.now()}}var i=w.b.length,h=ap.B6(),k=Math.PI*(5465<<14)+(O.oc(31)?20:10)*7e7;
if(h>k){var i=w.b.length;w.b=[];return i}if(R.U7){R.eZ(Math.max(w.q,w.w));for(var P=0;P<w.b.length;P++){var X=w.b[P];
if(X.N$())R.eZ(Math.max(X.rect.q,X.rect.w))}}w.sI();w.Al();if(w.a7r)w.a8$();else w.M();w.a7r=!1;this.oR.push(w);
this.b0.Hs(new c1(w));w.cW=!0;w.WV=!0;this.amy();var x=new e9(W.E.s);x.G=q.dT;x.data={d:"auto",N5:2}};
ao.prototype.QN=function(){return this.oR[this.ay]};ao.prototype.ac4=function(){return this.iz.Fv()==null};
ao.prototype.yH=function(w,I){this.ZU();var E=this.oR.length;if(I!=null)this.b0.wd((this.b0.CB()+I+E)%E);
this.ay=this.b0.CB();var X=this.QN();this.rd.a7X(X,this.I4);this.cj.tM(X,this.oR,this.I4);this._E();
if(X)X.cW=!0};ao.prototype.acF=function(w){this.ZU();this.oR.splice(w.data.Ji,1);if(this.oR.length==0){this.yH(w);
if(R.U7)R.wH().parentNode.removeChild(R.wH())}};ao.prototype.arS=function(w){var I=[],E=w.data.a9s;for(var P=0;
P<E.length;P++)I[P]=this.oR[E[P]];this.oR=I;this.ay=this.b0.CB()};ao.prototype.ajJ=function(w){var I=this.b0,E=I.acT(),X=this.pR(),o=this.QN();
if(E==I.CB()||!X.abC())return;this.ajb(E,X)};ao.prototype.ajb=function(w,I){console.log("dup2doc");var E=this.I4,X=this.b0,o=this.QN(),i=this.oR[w],h,k=new e9(W.E.s,!0);
k.G=q.Qd;if(o.n==null){k.data={d:K.sc,b:o.I3(null,!0),Mn:o,Pf:i};this.c(k)}else h=o.b[o.g[0]].yb(o,o.n);
var x=this.zr,j=E.KY;E.KY=!1;x=o.u.sP(x.x,x.y);if(I)I.TC(o,this,E,this.Ie);X.wd(w);if(o.n){k.data={d:K.WF,W7:{buffer:h.T1,rect:h.rect}};
this.c(k)}x=i.u.o_(x.x,x.y);x.x+=49;x.y+=112;if(I)I.PX(i,this,E,this.Ie,x);E.KY=j};ao.prototype.a2m=function(w){var I=this.QN(),E=this.Ie,X=this.I4,o=w.ce;
if(o)this.zr=o;if(this.tJ==null)this.tJ=0;if(w.action=="multidown"){this.ajx=w.es.length;this.tJ=Date.now()}if(w.action=="up"&&Date.now()-this.tJ<100){var i=new e9(W.E.s);
i.G=q.b9;i.data={d:this.ajx==2?"h_stepbck":"h_stepfwd"};this.c(i)}if(w.action.startsWith("multi")){var h=new e9(W.E.s,!0);
h.data={d:w.action,es:w.es};h.G=q.dc;this.c(h);return}var k=this.a.map[q.xE].G;if((w.action=="down"||w.action=="rdown")&&X.OZ!=q.xE&&this.a.rT!=q.xE&&k.a61(I,this,X,E,o)){this.a.zD=q.xE;
k.enable(I,this,X,E,!0)}if(w.action=="idown"){E.tf("Space");this.R6(!0);w.action="down"}var x=this.iz.Fv(),j=x!=null&&x.$c()&&this.a.rT==null?x:this.pR();
if(w.action=="scroll"){var v=!E.Y(aW.iu)&&w.d2,h=new e9(W.E.s,!0);h.data={d:"scroll",Dd:w.Dd.clone(),ce:o};
h.G=E.Y(aW.$i)||v?q.dc:q.aB;this.c(h)}if(x!=null&&j!=x&&this.iz.wN()&&j.id!=q.aB&&j.id!=q.dc)return;
if(w.action=="down")j.PX(I,this,X,E,o);if(w.action=="rdown")j.Rb(I,this,X,E,o);if(w.action=="move")j.L_(I,this,X,E,o);
if(w.action=="up"||w.action=="iup"||w.action=="cancellast")j.dj(I,this,X,E,o,w.action=="cancellast");
if(w.action=="rup")j.UB(I,this,X,E,o);if(w.action=="iup"){E.pr("Space");this.R6(!0)}if(w.action=="cancellast"){if(I&&I.history.length!=0&&Date.now()-I.history[I.history.length-1].abP<200){var i=new e9(W.E.s);
i.G=q.b9;i.data={d:"h_stepbck"};this.c(i)}}var _=this.cj;if(w.action=="down")_.PX(I,this,X,E,o);if(w.action=="move")_.L_(I,this,X,E,o);
if(w.action=="up")_.dj(I,this,X,E,o);if(w.action=="down"||w.action=="up"){this.R6()}if(w.action=="down"||w.action=="up"||w.action=="ctx"){I.cW=!0}if((w.action=="up"||w.action=="rup")&&this.a.zD){this.a.zD=null;
k.disable(I,this,X,E)}};ao.prototype.s$=function(w){var I=this.QN(),E=this.zr;if(I&&this.pR().J8(E,this.Ie)){var X=I.u,o=X.mz.q,i=X.mz.w,h=0,k=0,x=16;
if(E.x<x)h=x-E.x;if(E.x>o-x)h=E.x-(o-x);if(E.y<x)k=x-E.y;if(E.y>i-x)k=E.y-(i-x);var j=this.Ie.Y(aW.mG)?8:1;
if((h!=0||k!=0)&&(I.q*X.T>o||I.w*X.T>i)){h=Math.min(5,h*.5)*j;k=Math.min(5,k*.5)*j;if(!(E.x<x||E.y<x)){h=-h;
k=-k}X.z.x+=h;X.z.y+=k;this.a2m({ce:this.zr,action:"move"});I.oP=!0}}this.update()};ao.prototype.update=function(w){var I=this.QN();
if(I==null)return;if(I.cW){var E=this.a.map;for(var X in E){if(E[X].G.kY)E[X].G.kY(I,this,this.I4,this.Ie)}}if(I.Pw)if(R.U7)R.eZ(Math.max(I.q,I.w));
if(I.Pw){I.vL()}var o=I.u,i=this.Ta,h=this.Ta=Date.now();if(I.Pw||I.EZ||I.WV||I.oP||w||o.oS!=o.T||!o.y$.ZQ(o.z)){var k=o.oS;
if(o.oS!=o.T){var x=q.kr.abR(o.T,o.oS>o.T),j=.12;if(o.oS<o.T&&o.oS<x)o.oS=x;if(o.oS>o.T&&o.oS>x)o.oS=x;
var v=Math.abs(o.T-x)*(h-i)*.001/j;if(o.oS<o.T)o.oS=Math.min(o.T,o.oS+v);else o.oS=Math.max(o.T,o.oS-v)}var _=k==o.T?0:(o.oS-o.T)/(k-o.T);
o.y$.x=o.z.x+_*(o.y$.x-o.z.x);o.y$.y=o.z.y+_*(o.y$.y-o.z.y);this.b0.eU(this.I4,null);this.b0.tM(I,this.oR)}if((I.Pw||I.oP||I.cW)&&(!this.zr.WN||I.wI)){if(I.cW)I.Al();
this.cj.tM(I,this.oR,this.I4);this.gu.alY(I,this.Ie);I._G=!1}I.wI=!1;I.cW=!1;I.Pw=null;I.EZ=I.WV=I.oP=!1};
ao.prototype.$J=function(w){var I=w.target.tagName.toLowerCase(),E=w.target.getAttribute("type"),X=aW,o=X.OE(w.code,X.yd);
if(!((I=="input"||I=="select"||I=="button")&&X.OE(w.code,X.KZ))){if(X.ng(w)){w.preventDefault()}this.Ie.tf(X.S6(w));
this.oH("down")}};ao.prototype.gT=function(w){if(w.key==" ")this.Ie.lS();if(aW.OE(w.code,aW.kX))this.Ie.reset();
this.Ie.pr(aW.S6(w));var I=w.target.tagName.toLowerCase();if(aW.ng(w)){w.preventDefault()}this.oH("up")};
ao.prototype.oH=function(w){var I=this.Ie,E=this.QN(),X=E!=null&&E.g.length!=0;if(this.rC.Fv()!=null){if(I.Y(aW.K9)){this.rC.ay7()}return}this.R6();
var o=this.u5(aW.iu),i=I.Y(aW.$i),h=I.Y(aW.mG);if(o&&I.Y(aW.lW)&&w=="down"){var k=new e9(W.E.s),x=new e9(W.E.Z);
k.G=q.b9;if(h){k.data={d:"h_stepfwd"}}else{k.data={d:"h_stepbck"}}if(this.iz.Fv()!=null&&this.iz.Fv().wN()){}else this.c(k)}if(o){var k=new e9(W.E.s),j=new e9(W.E.a3),x=new e9(W.E.Z);
if(I.Y(aW.PR)&&I.Y(aW.gh)){x.data={d:W.t.GV,ei:"storwindow"};this.c(x)}if(!i&&w=="down")for(var v in cz.keys){var _=cz.keys[v],L=!0;
for(var P=0;P<_.length;P++)if(!I.Y(_[P]))L=!1;if(L){k.G=q.dT;if(v=="hue2"&&h&&E.b[E.g[0]].add.SoLd==null)k.data={d:"auto",N5:3};
else k.data={d:"start",_T:v}}}if(I.Y(aW.t)){j.data=q.mc.FG(!0)}if(I.Y(aW.DM)){if(i)x.data={d:W.t.GV,ei:"csize"};
else if(E)x.data={d:W.t.NA,WY:h}}if(I.Y(aW.MB)){j.data=q.mc.FG()}if(I.Y(aW.E)&&w=="down"){if(h)j.data={$g:"mergeVisible"};
else j.data={$g:"mergeLayersNew",Zc:{__name:"Merge Layers",classID:"Mrg2"}}}if(I.Y(aW.Il)){if(h&&this.I4.OZ!=q.Ai)x.data={d:W.t.GV,ei:"afw_fade"};
else if(i){k.G=q.Hl;k.data={d:"applylast"}}else x.data={d:W.t.oG}}if(I.Y(aW.vP)){if(i&&E&&E.EJ(E.g[0])){k.G=q.Qd;
k.data={d:K.pk}}else{k.G=q.Qd;k.data={d:K.jK,PT:h}}}if(I.Y(aW.jJ)){x.data={d:W.t.e1,GT:ik.wB}}if(I.Y(aW.PR)){if(h){k.data=null;
if(i)x.data={d:W.t.GV,ei:"finfo"};else j.data={$g:"inverse"}}else if(i)x.data={d:W.t.GV,ei:"isize"}}if(I.Y(aW.BN)){j.data={$g:(h?"cut":"copy")+"ToLayer"}}if(I.Y(aW.Q2)){x.data={d:W.t.GV,ei:"preferences"}}if(I.Y(aW.wk)){if(h){k.G=q.Qd;
k.data={d:K.FD}}else if(w=="down")x.data={d:W.t.GV,ei:"newproject"}}if(I.Y(aW.WS)){if(i)x.data={d:W.t.GV,ei:"storwindow",Yr:0};
else{x.data={d:W.t.vN};I.reset()}}if(I.Y(aW.yq)){x.data={d:W.t.apM};I.reset()}if(I.Y(aW.MP)){x.data={d:W.t.e1,GT:ik.wC}}if(I.Y(aW.ao)&&w=="down"){if(h){if(i)x.data={d:W.t.GV,ei:"saveforweb"};
else x.data={d:W.t.h8}}else x.data={d:W.t.De}}if(I.Y(aW.Nu)){if(h){k.G=q.Ai;k.data={d:"again"}}else x.data={d:W.t.en,G:q.Ai}}if(I.Y(aW.uB)){x.data={d:W.t.SO}}if(I.Y(aW.aW)){this.b0.jf()}if(I.Y(aW.tc)&&E&&E.cu()){x.data={d:W.t.LO}}if(I.Y(aW.Az)||I.Y(aW.rA)){k.G=q.Qd;
k.data={d:K.ta,ns:0};if(I.Y(aW.Az))k.data.ns=h?3:2;else k.data.ns=h?0:1}if(I.Y(aW.ha)&&E){k.G=q.Qd;k.data={d:K.v8}}if(I.Y(aW.yd)&&E){var U=0;
if(h)U++;if(i)U+=2;k.G=q.UE;k.data={d:"frompath",hT:[null,0,U]}}if(I.Y(aW.FQ)){j.data=q.EV.nW(0)}if(I.Y(aW.KZ)){var n=this.oR.length,a=I.Y(aW.mG)?-1:1;
if(n>1)this.b0.wd((this.b0.CB()+n+a)%n)}if(I.Y(aW.Dx)){x.data={d:W.t.e1,GT:ik.Mk}}if(I.Y(aW.od)){x.data={d:W.t.e1,GT:ik.sw}}q.kr.a5M(I,k);
if(this.iz.Fv()!=null&&this.iz.Fv().wN()){}else{if(k.data)this.c(k);if(j.data)this.c(j);if(x.data)this.c(x)}}if(!o&&i){var T;
if(I.Y(aW.Az))T="Bckw";if(I.Y(aW.rA))T="Frwr";if(I.Y(aW.ha))T="Back";if(I.Y(aW.FQ))T="Frnt";if(T){var j=new e9(W.E.a3);
j.data={$g:"select",Zc:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:T}}]},MkVs:{t:"bool",v:!1}}};
this.c(j)}}if(E&&E.g.length!=0){var g=E.b[E.g[0]],D=g.yA;if(D==1||D==3||o){var k=new e9(W.E.s),b=D==3?g.Em(E).D:g.pi();
if(b){var N=b.ag?E.u.wL.join("")=="111"?1:2:0;k.G=q.dc;if(b&&I.Y(aW.K9)&&N!=0){k.data={d:"mskView",k:0}}if(b&&I.Y(aW.a92)){k.data={d:"mskView",k:N==1?0:1}}if(b&&I.Y(aW.a4m)){k.data={d:"mskView",k:N==2?0:2}}if(k.data)this.c(k)}}}var C=I.Kl();
if(E&&o&&2<=C&&C<=5){var Z=[1,1,1];if(C>2){Z=[0,0,0];Z[C-3]=1}var S=new e9(W.E.s,!0);S.G=q.aB;S.data={d:"setcls",wL:Z};
this.c(S)}if(!I.Y(aW.iu)&&!i&&w=="down"){var k=new e9(W.E.s),x=new e9(W.E.Z),u=this.a.map[this.I4.OZ],p=-1;
for(var P=0;P<this.a.keys.length;P++)if(this.a.keys[P]&&this.u5(this.a.keys[P]))p=P;if(p!=-1){var f=null;
if(u.c4!=p)f=this.a.RN[p];if(u.c4==p&&h)f=(u.a2d+1)%this.a.G2[p].length;if(f!=null){var d=this.a.G2[p][f].G.id,l=this.I4.$v;
if((l==null||l.indexOf(parseInt(d))!=-1)&&!this.zr.WN)x.data={d:W.t.en,G:d}}}if(I.Y(aW.jJ))x.data={d:W.t.en,G:q.aB};
if(I.Y(aW.MP))x.data={d:W.t.en,G:q.QV};if(I.Y(aW.tc))x.data={d:W.t.e1,GT:ik.xa,ns:2};if(I.Y(aW.MB))x.data={d:W.t.e1,GT:ik.xa,ns:3};
if(x.data)this.c(x);if(I.Y(aW.at2)&&E&&E.g.length==1){var g=E.b[E.g[0]];k.G=q.Qd;var A=g.B2(0)||g.B2(1)||g.B2(2)||g.B2(31);
k.data={d:K.bU,pW:A?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.c(k)}var C=I.Kl();if(X&&C!=-1&&this.u5(aW.Xb[C])){var B=E.g[0],g=E.b[B],e=aW.dt(Math.round(100*g.opacity/255),C);
k.G=q.Qd;k.data={d:K.In,pW:Math.round(255*e/100)};this.c(k)}var m=this.I4.sr;if(I.Y(aW.KZ)){x.data={d:W.t.vB,k:m==0?1:0};
this.c(x)}if(I.Y(aW.Il)||I.Y(aW.K9)&&m==2){var $=document.fullscreenElement!=null==(m==2);x.data={d:W.t.vB,k:m==0?2:0,k1:$};
this.c(x)}if(I.Y(aW.zx)&&!this.zr.WN){k.G=q.UE;k.data={d:"qmask"};this.c(k)}}if(!I.Y(aW.iu)&&!i&&h){var k=new e9(W.E.s),x=new e9(W.E.Z);
if(I.Y(aW.ha))x.data={d:W.t.GV,ei:"shortcuts"};if(I.Y(aW.wG))x.data={d:W.t.GV,ei:"fill"};if(I.Y(aW.aaq))x.data={d:W.t.GV,ei:"sel_feather"};
if(X&&(I.Y(aW.w2)||I.Y(aW.Jz))){var B=E.g[0],g=E.b[B],V=hH.H1,H=V.length,F=V.indexOf(g.$B);k.G=q.Qd;
k.data={d:K.L$,pW:(F+H+(I.Y(aW.w2)?1:-1))%H};this.c(k)}if(x.data)this.c(x)}var k=new e9(W.E.s),G=w=="down"&&(this.u5(aW.Ur)||this.u5(aW.jY));
if((o||i)&&G){k=new e9(W.E.a3);k.data=q.Og._u(o?"BckC":"FrgC");this.c(k)}else if(E&&G&&!this.zr.WN){if(E.n!=null){k=new e9(W.E.a3);
k.data={$g:"delete"}}else if(E.g.length!=0){var g=E.b[E.g[0]];if(g.yA==1)k.data={d:K.iX};else if(g.yA==3)k.data={d:K.i6};
else k.data={d:K.Ii};k.G=q.Qd}this.c(k)}if(this.iz.Fv()!=null){if(I.Y(aW.K9)){this.iz.Fv().ap3()}else{this.iz.Fv().oH(E,this,this.I4,I)}}if(this.I4.OZ==null)return;
var u=this.pR();if(this.iz.Fv()==null||this.a.rT)u.oH(E,this,this.I4,I)};ao.prototype.u5=function(w){var I=this.Ie,E=this.a.map[this.I4.OZ].G,top=this.iz.Fv(),X=this.QN();
return I.Y(w)&&!E.Uo(w,X)&&(top==null||!top.Uo(w,X))};ao.prototype.FO=function(w){var I=this.a3A,E=this.i$;
this.I4.sr=w;var X=O.NJ,o=this.rd.m;if(X(o))this._Q.removeChild(o);var i=this.N4.m;if(X(i))this._Q.removeChild(i);
var h=this.gu.m;if(X(h))I.removeChild(h);var k=this.b0.m;if(X(k))I.removeChild(k);var x=this.cj.m;if(X(x))I.removeChild(x);
if(w==0){this._Q.appendChild(o);this._Q.appendChild(i);E.appendChild(I);I.appendChild(h);I.appendChild(k);
I.appendChild(x)}if(w==1){this._Q.appendChild(o);I.appendChild(k)}if(w==2){I.appendChild(k)}this.b0.FO(w==2?1:0);
this._E()};ao.prototype.afU=function(w){if(this.tr())return 1;if(O.anu()==0){this.I4={};this.hi=function(I,E){return Math.sqrt(I*E)}}return-1};
function cj(w){cu.call(this);if(w==null)return;this.LQ=null;this.Ns=null;this.m=O.S("div","sbar"+" "+w);
this.yU=new O.S("div","top");this.yU.innerHTML="> <";this.m.appendChild(this.yU);this.pY=1;this.yU.addEventListener("click",this.ax1.bind(this),!1)}cj.prototype=new cu;
cj.prototype.ax1=function(w){if(this.LQ!=null&&this.LQ<500&&this.pY==0)return;if(this.pY==0)this.gD(!0);
else this.collapse(!0)};cj.prototype.arm=function(w){this.pY=w;this.yU.innerHTML=this.pY==0?"< >":"> <"};
cj.prototype.an3=function(){var w=new e9(W.E.Z,!0);w.data={d:W.t.g1};this.c(w)};cj.prototype.gD=function(w){this.arm(1);
if(w)this.an3()};cj.prototype.collapse=function(w){this.arm(0);if(w)this.an3()};cj.prototype.lj=function(){return this.pY==1};
function kh(w,I){cj.call(this,"vcolumn");this.pU=w;this.a3m=I;this.oU();this.Ca=O.S("div");this.Ca.setAttribute("style","cursor:default;");
this.anG=this.aoD.bind(this);this.a6W=this.ait.bind(this);this.aqu=this.a3Q.bind(this);O.KO(this.m,this.anG);
this.m.appendChild(this.Ca);this.bM=O.S("div");this.Ca.appendChild(this.bM);this.Ci=-1;this.FW=O.S("div","float");
var E=this.Bq=O.S("canvas","gsicon"),X=Math.round(12*O.V());E.width=E.height=X;var o=E.getContext("2d");
o.moveTo(2,2);o.lineTo(X-2,X-2);o.moveTo(2,7);o.lineTo(X-7,X-2);o.stroke();this.Bq.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
O.aa(this.Bq);O.KO(this.Bq,this.anG);O.vl(E);this.LT=[];this.Fw=[];this.axm=null;this.fI=null;this.a3Z=0}kh.prototype=new cj;
kh.prototype.aoD=function(w){var I=w.target==this.Bq;if(!I){if(w.target!=this.m)return;if(!this.lj())return}else{var E=this.LT[this.Ci].Dy;
E.style.pointerEvents="none";var X=E.getBoundingClientRect();this.axm=[X.width,X.height];this.Fw[this.Ci]=[X.width,X.height]}w.stopPropagation();
this.fI=O.cz(w,document.body);this.a3Z=this.pU;O.rv(document,this.a6W);O.M$(document,this.aqu)};kh.prototype.ait=function(w){var I=O.cz(w,document.body);
if(this.lj()){this.pU=this.a3Z+this.fI.x-I.x;this.oU()}else{var E=this.Fw[this.Ci],X=this.axm;E[0]=X[0]+this.fI.x-I.x;
E[1]=X[1]+I.y-this.fI.y}var o=new e9(W.E.Z,!0);o.data={d:W.t.g1};this.c(o)};kh.prototype.a3Q=function(w){if(!this.lj()){var I=this.LT[this.Ci].Dy;
I.style.pointerEvents="auto"}O.Gk(document,this.a6W);O.$x(document,this.aqu)};kh.prototype.a9U=function(w){w.h("showFloat",this.a8W,this);
w.h("hideFloat",this.Zw,this);this.LT.push(w);w.parent=this;this.Ca.appendChild(w.m)};kh.prototype.aqU=function(P){var w=this.LT[P];
w.removeEventListener("showFloat",this.a8W,this);w.removeEventListener("hideFloat",this.Zw,this);this.LT.splice(P,1);
w.parent=null;this.Ca.removeChild(w.m)};kh.prototype.a5I=function(){return this.LT.length};kh.prototype.Xk=function(){for(var P=0;
P<this.LT.length;P++)this.LT[P].Xk()};kh.prototype.a8W=function(w){this.Zw(w);this.bM.appendChild(this.FW);
this.Ci=this.LT.indexOf(w.currentTarget);var I=this.LT[this.Ci].Dy;this.FW.appendChild(I);this.FW.appendChild(this.Bq);
this.hi(this.LQ,this.Ns)};kh.prototype.Zw=function(w){this.Xk();if(this.Ci!=-1){this.bM.removeChild(this.FW);
var I=this.LT[this.Ci];if(I)this.FW.removeChild(I.Dy);this.Ci=-1}};kh.prototype.oU=function(){function w(I){return Math.round(I*O.V())/O.V()}this.m.setAttribute("style","width: "+this.pU+"px; border-left-width:"+w(4)+"px; cursor:ew-resize;")};
kh.prototype.gD=function(w){this.oU();this.Zw();for(var P=0;P<this.LT.length;P++)this.LT[P].gD();cj.prototype.gD.call(this,w)};
kh.prototype.collapse=function(w){this.m.removeAttribute("style");for(var P=0;P<this.LT.length;P++)this.LT[P].collapse();
cj.prototype.collapse.call(this,w)};kh.abH=11;kh.prototype.hi=function(w,I){this.LQ=w;this.Ns=I;I-=kh.abH;
var E=this.LT.length;if(E==0)return;if(!this.lj()){var X=I<400?I:400+(I-400)*.5;for(var P=0;P<E;P++){var o=this.LT[P],i=this.Fw[P];
o.hi(i?i[0]:this.pU,i?i[1]:X)}}else{var h=I;for(var P=0;P<E;P++){var o=this.LT[P],k=o.a4C();if(P==E-1){k=h;
o.m.style.borderBottom="none"}o.hi(this.pU,k);h-=k+4}}};function gF(w){cu.call(this);this.m=O.S("div");
this.Ca=null;this._D=0;this.Px=0;this.aoI=w;this.ai3=this.ME.bind(this);this.as9=this._S.bind(this);
this.ak4=this.wz.bind(this);this.yp=null;this.tq=null;this.nZ=null;O.KO(this.m,this.ai3);var I=this.m,X="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
I.addEventListener("touchmove",O.Ja,!1);this.aaa=!0;this.AJ=[];var E=this.abV=O.S("div");E.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.m.appendChild(E);var o=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",X+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",X+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",X+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var P=0;P<o.length;P++){var i=new es(o[P]);this.AJ.push(i);i.m.setAttribute("style","margin-left:"+(P<7?4:0)+"px;cursor:pointer;");
i.h("click",this.vq,this)}}gF.prototype=new cu;gF.prototype.f=function(){var w=this.abV;O.wO(w);for(var P=0;
P<this.AJ.length;P++){var I=this.AJ[P];if(P<5)I.f();w.appendChild(I.m)}};gF.prototype.vq=function(w){var P=this.AJ.indexOf(w.currentTarget);
if(P==0){if(window.showCap)window.showCap();return}var I=" issues learn blog api twitter facebook".split(" "),E=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),X=window.ga;
if(X)X("send","event","Links",I[P]);var o=new e9(W.E.Z,!0);o.data={d:W.t.Yo,link:E[P]};this.c(o)};gF.prototype.ME=function(w){if(w.arT){w.preventDefault();
w.stopPropagation()}var I=window;O.rv(I,this.as9);O.M$(I,this.ak4);I=this.Ca;this.yp=new a5(parseInt(I.style.left),parseInt(I.style.top));
this.tq=O.cz(w,this.m);this.nZ=I.getBoundingClientRect()};gF.prototype._S=function(w){var I=O.cz(w,this.m),E=this.yp.x+I.x-this.tq.x,X=this.yp.y+I.y-this.tq.y,o=this._D-this.nZ.width,i=this.Px-this.nZ.height;
if(this.aoI)this.Ca.style.left=Math.min(0,Math.max(o,E))+"px";else this.Ca.style.top=Math.min(0,Math.max(i,X))+"px";
if(E-10>0){this.tq.x=I.x-10;this.yp.x=0}if(E+10<o){this.tq.x=I.x+10;this.yp.x=o}};gF.prototype.wz=function(w){var I=window;
O.Gk(I,this.as9);O.$x(I,this.ak4)};gF.prototype.aeR=function(w){if(this.Ca){this.m.removeChild(this.Ca)}this.Ca=w;
this.m.appendChild(w);w.style.position="absolute";if(this.aoI)w.style.left=0;else w.style.top=0};gF.prototype.hi=function(w,I){this._D=w;
this.Px=I;this.m.setAttribute("style","position:relative; width: "+w+"px; height: "+I+"px; overflow:hidden; white-space: nowrap; ");
var E=this.Ca.firstChild,X=this.abV,o=E?E.firstChild.getBoundingClientRect().width+80:1e9,i=170,h=this.aaa&&w>o+i;
X[ap.zg][ap.aox]=h?"":ap.Bp;var k=this.AJ;for(var P=0;P<k.length;P++){var x=P>4||w-o>500?"":ap.Bp,j=k[P];
j.m.style.display=x}};gF.prototype.acX=function(){this.Ca.style.left="0";this.Ca.style.top="0"};function bX(){cu.call(this);
this.m6=null;this.P0=bX.yq;this.akv="";this.m=O.S("div","rightbar");this.ht=[new kh(300),new kh(268,!0)];
this.LT=[new i8,new i8,new i8,new i8,new i8,new i8,new i8];this.ap4=[]}bX.prototype=new cu;bX.prototype.f=function(){var w=this.P0;
for(var P=0;P<w.length;P++)w[P].E5.f()};bX.yq=[{E5:new iv,Qn:3},{E5:new bM,Qn:1},{E5:new eJ,Qn:4},{E5:new d2,Qn:2},{E5:new b6(!0),Qn:5},{E5:new dD,Qn:0},{E5:new c_,Qn:5},{E5:new hJ,Qn:3},{E5:new cL,Qn:0},{E5:new aF,Qn:3},{E5:new a$,Qn:2},{E5:new aB,Qn:4},{E5:new kn,Qn:3},{E5:new iR,Qn:5},{E5:new b6(!1),Qn:5},{E5:new j1,Qn:2},{E5:new fX,Qn:3},{E5:new h$,Qn:1},{E5:new aJ,Qn:0},{E5:new jz,Qn:5},{E5:new iz,Qn:6,B$:!0},{E5:new d6,Qn:6,B$:!0},{E5:new fA,Qn:6,B$:!0}];
(function(){var w=[{id:eB.MP.a6_,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var P=0;P<w.length;P++)bX.yq.push({E5:new bH(w[P],100+P),Qn:6,B$:!0})}());bX.prototype.a9n=function(w){for(var P=0;
P<w.length;P++){var I=w[P],E=new bH(I,"plg_"+I.name);this.P0.push({E5:E,Qn:6});this.ap4.push(E.Xq)}this.xn()};
bX.prototype.eU=function(w,I){this.m6=w;var E=this.P0;for(var P=0;P<E.length;P++)E[P].E5.eU(w,I);if(I==ik.AF||I==ik.Vk)this.xn()};
bX.prototype.hk=function(w){var I=this.P0;for(var P=0;P<I.length;P++)I[P].E5.hk(w)};bX.prototype.hi=function(w,I){this.LQ=w;
this.Ns=I;this.xn();this.ht[0].hi(w,I);this.ht[1].hi(w,I)};bX.prototype.xn=function(){var w=this.m6,I=this.LQ,E=this.Ns;
if(w==null||I==0)return;var X=w.n0.concat(this.ap4),o=I<500||I<700&&I<E,i=JSON.stringify(X)+","+o;if(i!=this.akv){this.akv=i;
O.wO(this.m);var h=[];for(var P=0;P<this.ht.length;P++){var k=this.ht[P];h[P]=k.lj();while(k.a5I()!=0)k.aqU(0);
k.gD()}var x=[];for(var P=0;P<this.LT.length;P++){var j=this.LT[P];j.gD();while(j.a2i()!=0)j.vQ(0);x.push(0)}for(var P=0;
P<X.length;P++){var v=this.ayv(X[P].toString());if(v==null)continue;this.LT[v.Qn].Hs(v.E5);this.LT[v.Qn].wd(0);
x[v.Qn]++}var _=[];for(var P=0;P<x.length;P++){if(x[P]==0)continue;var L=P<3||o?1:0,k=this.ht[L];k.parent=this;
k.a9U(this.LT[P]);_[L]=!0}for(var P=0;P<this.ht.length;P++)if(_[P])this.m.appendChild(this.ht[P].m);
this.ht[0].collapse();if(I<700||this.m6.compact||!h[1]){this.ht[1].collapse()}var U=new e9(W.E.Z,!0);
U.data={d:W.t.g1};this.c(U)}};bX.prototype.ayv=function(w){for(var P=0;P<this.P0.length;P++)if(this.P0[P].E5.Xq==w)return this.P0[P]};
bX.prototype.akw=function(w){var I=this.ayv(w);this.LT[I.Qn].Hs(I.E5)};bX.prototype.tM=function(w,I,E){var X=this.P0;
for(var P=0;P<X.length;P++)X[P].E5.tM(w,I,E)};bX.prototype.PX=function(w,I,E,X,o){var i=this.P0;for(var P=0;
P<i.length;P++)i[P].E5.PX(w,I,E,X,o)};bX.prototype.L_=function(w,I,E,X,o){var i=this.P0;for(var P=0;
P<i.length;P++)i[P].E5.L_(w,I,E,X,o)};bX.prototype.dj=function(w,I,E,X,o){var i=this.P0;for(var P=0;
P<i.length;P++)i[P].E5.dj(w,I,E,X,o)};function g7(w,I){cj.call(this,"toolbar");this.m.removeChild(this.yU);
this.dX=O.S("div","tools");this.m.appendChild(this.dX);this.$v=null;this.OZ=null;this.ano=I;this.Ds=null;
this.auB=-1;this.afp={};this.aoJ=w;this.a=null;this.ui=null;this.xt=null;this.tD=null;this.m0=new cA;
this.m0.m.style.marginTop="5px";this.m0.m.style.marginBottom="3px";this.m0.parent=this;this.T5=new es(O.UG("lrs/mask"),!1,[6,6,1]);
this.T5.h("click",function(i){var h=new e9(W.E.s,!0);h.G=q.UE;h.data={d:"qmask"};this.c(h)},this);var E=new fY(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
E.h(W.E.r,this.aoS,this);var X=O.S("span","rangecontFloat form padded");X.appendChild(E.m);var o=document.body;
this.au0=[!1,!1,!1,!1];this.tx=new es("\u2328",!1,"Virtual Keys");this.tx.h("click",function(i){var h=this.tx.m.getBoundingClientRect();
X.setAttribute("style","position:absolute; top:"+(h.top-40)+"px; left: "+(h.left+h.width+8)+"px; width:119px; z-index:2;  padding-right:0px; ");
if(O.NJ(X))o.removeChild(X);else o.appendChild(X)},this)}g7.prototype=new cj;g7.prototype.aoS=function(w){var I=w.target.Q();
this.tx.B(I[0]||I[1]||I[2]||I[3]);var E=new e9(W.E.Z,!0);for(var P=0;P<4;P++){if(I[P]!=this.au0[P]){E.data={d:W.t.auK,WN:I[P],a8E:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][P]};
this.c(E)}}this.au0=I.slice(0)};g7.prototype.alY=function(w,I){this.Ds=I;if(w==null||w.g.length==0||w.b[w.g[0]]==null)return;
var E=w.T5()!=null,X=w.u.wL,o=w.b[w.g[0]].yA,i=o==1||o==3||E||X[0]+X[1]+X[2]==1;this.m0.a26(i);this.T5.B(E)};
g7.prototype.avq=function(w,I){var E=w.length,X=[];for(var P=0;P<E;P++)X[P]=w[P].slice(0);w=X;var o=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],i=Math.min(o.length/2,E-I);
for(var P=0;P<i;P++){var h=o[2*P],k=o[2*P+1];w[h]=w[h].concat(w[k]);w[k]=null}for(var P=0;P<w.length;
P++)if(w[P]==null){w.splice(P,1);P--}return w};g7.prototype.arf=function(w,I){for(var P=0;P<I.length;
P++)for(var E=0;E<I[P].length;E++)if(I[P][E].G.id==w)return P};g7.prototype.adH=function(w){var I=this.aoJ;
this.ui=[];this.xt=[];this.tD=[];this.a=[];var E=I.G2;if(w!=null&&this.ano)E=this.avq(E,w);var X=this.$v;
if(X){var o=[];for(var P=0;P<E.length;P++){var i=[];for(var h=0;h<E[P].length;h++){var k=E[P][h];if(X==null||X.indexOf(parseInt(k.G.id))!=-1)i.push(k)}if(i.length>0)o.push(i)}E=o}for(var P=0;
P<E.length;P++){var x=[],j=this.ui.length,v=null,_=-1;for(var h=0;h<E[P].length;h++){var k=E[P][h].G,L=this.arf(k.id,I.G2),U=I.keys[L];
if(U==aW.jJ&&h==1)U=aW.MP;this.a.push(k);var n=new gZ(k.name,U,k.y4,this.ui.length,P,E[P].length>1);
this.ui.push(n);var a=this.afp[k.id];if(a==null)a=0;if(a>_){_=a;v=n}n.h(W.E.r,this.y3,this);n.h("mover",this.xL,this);
x.push({name:k.name,P6:k.y4,SP:U?U.u$:""})}this.xt.push(v);this.tD.push(x.length==1?null:[x,j])}};g7.prototype.hi=function(w,I){var E=this.Ns=I,X=32;
if(1<O.V()&&O.V()<1.5)X=18+14*(1/O.V());var o=39+23,i=Math.floor((E-o)/X);if(i!=this.auB){this.auB=i;
this.adH(i);this.et()}var h=this.xt.length*X+o,k=Math.min(1,E/h);if(.75<=k){this.dX.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+k+","+k+");");
this.m.setAttribute("style","height:"+(I-2)+"px; overflow:hidden;")}else{E-=4;this.dX.setAttribute("style","height: "+E+"px;  width:"+Math.ceil(h/E)*34+"px");
this.m.setAttribute("style","")}};g7.prototype.f=function(){if(this.a==null)return;for(var P=0;P<this.ui.length;
P++)this.ui[P].f()};g7.prototype.y3=function(w){var I=new e9(W.E.Z,!0);I.data={d:W.t.en,G:this.a[w.id].id};
this.c(I)};g7.prototype.afl=function(w){var I=w.target.a2A+w.target.RC()[0];this.ui[I].wz(null)};g7.prototype.xL=function(w){var I=this.Ds,E=new e9(W.E.Z,!0);
E.data={d:W.t.cB};this.c(E);var X=w.target,o=this.tD[X.c4];if(o==null)return;var i=new j$(o[0],null,!0);
i.a2A=o[1];i.c4=X.c4;i.h("select",this.afl,this);i.parent=this;i.f();var h=X.m.getBoundingClientRect(),E=new e9(W.E.Z,!0);
E.data={d:W.t.DI,E5:i,x:h.left+h.width+8,y:h.top};if(I==null||!(I.Y(aW.gS)||I.Y(aW.iu)))this.c(E)};g7.prototype.et=function(w){if(w==null)w=this.OZ;
this.OZ=w;if(this.a==null)return;this.afp[w]=Date.now();var I=-1;for(var P=0;P<this.a.length;P++)if(this.a[P].id==w)I=P;
for(var P=0;P<this.ui.length;P++){var E=this.ui[P];E.agy(I==P)}if(I==-1)return;this.xt[this.ui[I].c4]=this.ui[I];
O.wO(this.dX);var X=this.xt;for(var P=0;P<X.length;P++){this.dX.appendChild(X[P].m)}if(!this.ano)return;
this.dX.appendChild(this.m0.m);if(this.Ns>640)this.dX.appendChild(this.T5.m);this.dX.appendChild(this.tx.m)};
g7.prototype.eU=function(w,I){if(I==ik.Vk&&w.$v){this.$v=w.$v;this.adH();this.et()}this.m0.a6d(w.Ht,w.Mw)};
function gZ(w,I,E,X,o,i){cu.call(this);this.XM=0;this.oF=this.aaf.bind(this);this.c4=o;this.ff=X;this.XN=w;
this.a4h=I;this.abJ=i;this.y4=E;this.m=O.S("button","");this.m.innerHTML=O.UG(this.y4);if(this.abJ){var h=O.S("img","gsicon");
h.setAttribute("src",PIMG["tools/corner"]);h.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.m.appendChild(h)}this.f();O.KO(this.m,this.ME.bind(this));this.m.addEventListener("click",this.wz.bind(this),!1);
this.m.addEventListener("contextmenu",gZ.x4,!1)}gZ.prototype=new cu;gZ.x4=function(w){w.stopPropagation();
w.preventDefault();return!1};gZ.prototype.f=function(){var w=this.a4h?" ("+this.a4h.u$+")":"";this.m.setAttribute("title",df.get(this.XN)+w)};
gZ.prototype.ME=function(w){this.XM=setTimeout(this.oF,160)};gZ.prototype.wz=function(w){clearTimeout(this.XM);
var I=new e9(W.E.r,!1);I.target=this;I.id=this.ff;this.c(I)};gZ.prototype.aaf=function(w){var I=new e9("mover",!1);
I.target=this;I.id=this.ff;this.c(I)};gZ.prototype.agy=function(w){this.m.className=w?"toolbtn active":"toolbtn"};
function dL(){cu.call(this);this.m=O.S("div","topbar");this.px=O.S("span","");this.afN=0;this.m.appendChild(this.px);
this.j$=null;this.ZV=null;this.zH=[];this.n0=[];var w=this.ME.bind(this);for(var P=0;P<dL.data.length;
P++){var I=O.S("button");this.zH.push(I);this.px.appendChild(I);I.addEventListener("mouseover",w,!1);
O.KO(I,w)}this.HM=new es([0,13,0],!1,null,!0);this.HM.h("click",this.xW,this);this.m.appendChild(this.HM.m);
this.LH=new es(O.UG("tools/zoom",null,"autoscale"),!1,[12,86]);this.LH.h("click",this.xW,this);this.m.appendChild(this.LH.m);
this.iR=new es("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.iR.h("click",this.xW,this);this.m.appendChild(this.iR.m)}dL.prototype=new cu;dL.prototype.abD=function(){if(this.n0.length!=0)return;
for(var P=0;P<dL.data.length;P++){var w=dL.data[P],I=new j$(w.items,w.pL);I.parent=this;this.n0.push(I)}this.f()};
dL.prototype.f=function(){this.HM.f();this.LH.f();this.iR.f();for(var P=0;P<this.zH.length;P++)this.zH[P].textContent=df.get(dL.data[P].name);
this.a7O();for(var P=0;P<this.n0.length;P++)this.n0[P].f()};dL.prototype.xW=function(w){var I=new e9(W.E.Z,!0);
if(w.target==this.HM)I.data={d:W.t.GV,ei:"account"};else if(w.target==this.LH)I.data={d:W.t.oG};else I.data={d:W.t.vB,k1:!0};
this.c(I)};dL.prototype.a7X=function(w,I){this.j$=w;this.ZV=I};dL.prototype.eU=function(w,I){this.ZV=w;
if(I==ik.Vk){var E=w.a6z;O.wO(this.px);for(var P=0;P<this.zH.length;P++){if(E==null||E[P]==1||E[P]instanceof Array)this.px.appendChild(this.zH[P]);
if(E!=null&&E[P]instanceof Array){this.abD();this.n0[P].aqg(E[P])}}this.m.removeChild(this.HM.m);this.m.removeChild(this.LH.m);
this.m.removeChild(this.iR.m);if(w.pV)this.m.appendChild(this.HM.m);this.m.appendChild(this.LH.m);this.m.appendChild(this.iR.m)}this.a7O()};
dL.prototype.a7O=function(w,I){var E=this.HM,X=12255232;if(bh.kg())X=bh.c9()?43520:16755200;E.m.setAttribute("style","color:#ffffff; background-color:#"+Q.mv(X))};
dL.prototype.ME=function(w){this.abD();var P=this.zH.indexOf(w.currentTarget),I=this.n0[P];if(w.type=="mouseover"&&!O.NJ(this.n0[this.afN].m))return;
if(O.NJ(I.m))return;w.arT=!0;this.afN=P;for(var P=0;P<dL.data.length;P++)this.n0[P].update(this.j$,this.ZV);
var E=w.target.getBoundingClientRect(),X=new e9(W.E.Z,!0);X.data={d:W.t.DI,E5:I,x:E.left,y:E.top+E.height+2,acV:!0};
this.c(X)};dL.ab2=function(w){var I=aW,E=I.iu,X=I.mG,o=I.$i,i={name:[0,5],items:[{name:[7,0],SP:[E,I.t]},{name:[7,1],SP:[E,I.MB],i:function(k){return{i:k!=null&&k.n!=null}}},{name:[7,2],SP:[X,E,I.PR],i:function(k){return{i:k!=null&&k.n!=null}},Lf:!0},{name:[7,8],qj:!0},{name:[7,13],qj:!0,i:function(k){return{i:k!=null&&k.g.length!=0&&!k.b[k.g[0]].rect.qo()}},Lf:!0},{name:[7,11],qj:!0,i:function(k){return{i:k!=null&&k.g.length!=0&&!k.b[k.g[0]].rect.qo()}}},{name:[7,3],Lf:!0,sub:[{name:[7,9],qj:!0,i:function(k){return{i:k!=null&&k.n!=null}}},{name:[19,3,0],qj:!0,i:function(k){return{i:k!=null&&k.n!=null}}},{name:[7,4],qj:!0,i:function(k){return{i:k!=null&&k.n!=null}}},{name:[7,5],qj:!0,i:function(k){return{i:k!=null&&k.n!=null}}},{name:[7,6],qj:!0,i:function(k){return{i:k!=null&&k.n!=null}},SP:"Shift+F6"}]},{name:[7,10],i:function(k){return{i:k!=null&&k.n!=null}},Lf:!0},{name:[6,6,1],i:function(k){return{i:k!=null,Cm:k!=null&&k.T5()!=null}},SP:[I.zx],Lf:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],pL:[{X:W.E.a3,v:q.mc.FG(!0)},{X:W.E.a3,v:q.mc.FG()},{X:W.E.a3,v:{$g:"inverse"}},{X:W.E.Z,v:{d:W.t.GV,ei:"crange"}},{X:W.E.Z,v:{d:W.t.GV,ei:"magiccut"}},{X:W.E.Z,v:{d:W.t.GV,ei:"redge"}},{sub:[{X:W.E.Z,v:{d:W.t.GV,ei:"sel_border"}},{X:W.E.Z,v:{d:W.t.GV,ei:"sel_smoothness"}},{X:W.E.Z,v:{d:W.t.GV,ei:"sel_expand"}},{X:W.E.Z,v:{d:W.t.GV,ei:"sel_contract"}},{X:W.E.Z,v:{d:W.t.GV,ei:"sel_feather"}}]},{X:W.E.Z,v:{d:W.t.en,G:q.Uq}},{X:W.E.s,G:q.UE,v:{d:"qmask"}},{X:W.E.a3,v:{$g:"duplicate",Zc:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(w){var h=i.items.length-1;i.items.splice(h-2,0,{name:[6,49],SP:[E,I.BN],Lf:!0});i.pL.splice(h-2,0,{X:W.E.a3,v:{$g:"copyToLayer"}});
i.items.splice(h-1,0,{name:[10,16],SP:[o,E,I.Nu]});i.pL.splice(h-1,0,{X:W.E.Z,v:{d:W.t.en,G:q.Ai}})}return i};
dL.data=function(){var w=aW,I=w.iu,E=w.mG,X=w.$i,o=function(v){return{i:v!=null&&v.g.length!=0}},i=function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].add.SoLd!=null}},h=[],k=[],x="none maxx avrg medn minn rang stdv summ vari".split(" "),j=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var P=0;P<x.length;P++){h.push({name:j[P],i:function(v,_){if(v==null||v.g.length!=1)return{i:!1};
var L=v.b[v.g[0]].add.SoLd;if(L==null)return{i:!1};return{i:!0,Cm:L.Impr.v.classID==this.aud}}.bind({aud:x[P]})});
k.push({X:W.E.s,G:q.Qd,v:{d:K.l7,pW:x[P]}})}return[{name:[0,0],items:[{name:[5,3],SP:[X,I,w.wk],title:[11,7],qj:!0},{name:[1,0],SP:[I,w.WS],qj:!0},{name:[1,11],qj:!0,i:function(v,_){return{i:v!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],Lf:!0,sub:[{name:"Storage",qj:!0,SP:[X,I,w.WS]},{name:[1,5],qj:!0},{name:[11,0],qj:!0},{name:["PSD VAR0",[25,0]],qj:!0}]},{name:[1,1],Lf:!0,sub:[{name:"PNG",SP:"Imgur.com",i:function(v,_){return{i:v!=null&&_.kc}}},{name:"JPG",SP:"Imgur.com",i:function(v,_){return{i:v!=null&&_.kc}}},{name:"PSD",SP:"Photopea.com",i:function(v,_){return{i:v!=null&&_.kc&&!v.GO}}}]},{name:"Save ...",SP:[I,w.ao],i:function(v,_){var L=df.get([1,2]),U=!0;
if(v){if(v.Gt)L+=" ("+df.get([6,7,1])+")";if(v.FP)L+=" (Google Drive)";if(v.Y8)L+=" ("+Storage.list[v.Y8[0]][0]+")";
U="psd jpg png gif webp svg bmp".split(" ").indexOf(v.qM)!=-1}return{i:v!=null&&(v.Y8!=null||v.Tz!=null&&U||v.Gt!=null||v.kl!=null&&v.kl.xw!=null||v.FP!=null||_.aU.save!=null),fX:L}}},{name:[1,3],i:function(v,_){return{i:v!=null&&!v.GO&&_.kc}}},{name:["VAR0 VAR1",[1,2],[0,14]],sub:[{name:"PSD to Storage",i:function(v,_){return{i:v!=null&&!v.GO&&_.kc}}},{name:["VAR0 PSD/PSB",[1,2]],qj:!0,i:function(v,_){return{i:v!=null&&!v.GO&&_.kc}}}]},{name:[1,8],sub:function(){var v=gt.dw(0),_=[];
for(var P=0;P<v.length;P++)_.push({name:v[P],SP:"."+v[P].toLowerCase()});_.push({name:[0,14],sub:function(){var v=gt.dw(1),_=[];
for(var P=0;P<v.length;P++)_.push({name:v[P],SP:"."+v[P].toLowerCase()});return _}()});return _}()},{name:[1,4],qj:!0,i:function(v,_){return{i:v!=null}},Lf:!0},{name:[1,9],qj:!0,i:function(v,_){return{i:v!=null}}},{name:"Export Color Lookup",qj:!0,i:function(v,_){return{i:v!=null}},Lf:!0},{name:[1,14],qj:!0,i:function(v,_){return{i:v!=null}},Lf:!0},{name:"Automate",sub:[{name:"PDF Presentation",qj:!0}]},{name:[1,10]}],pL:[{X:W.E.Z,v:{d:W.t.GV,ei:"newproject"}},{X:W.E.Z,v:{d:W.t.vN}},{X:W.E.Z,v:{d:W.t.vN,ab3:!0}},{sub:[{X:W.E.Z,v:{d:W.t.GV,ei:"storwindow",Yr:0}},{X:W.E.Z,v:{d:W.t.GV,ei:"open_from_url"}},{X:W.E.Z,v:{d:W.t.GV,ei:"camera"}},{X:W.E.Z,v:{d:W.t.GV,ei:"res0"}}]},{sub:[{X:W.E.Z,v:{d:W.t.bT,G$:"png"}},{X:W.E.Z,v:{d:W.t.bT,G$:"jpg"}},{X:W.E.Z,v:{d:W.t.bT,G$:"psd"}}]},{X:W.E.Z,v:{d:W.t.De}},{X:W.E.Z,v:{d:W.t.h8}},{sub:[{X:W.E.Z,v:{d:W.t.GV,ei:"storwindow",Yr:1}},{X:W.E.Z,v:{d:W.t.GV,ei:"savepsb"}}]},{sub:function(){var v=gt.dw(0),_=[];
for(var P=0;P<v.length;P++)_.push({X:W.E.Z,v:{d:W.t.GV,ei:"saveforweb",G$:P}});_.push({sub:function(){var L=gt.dw(0).length,v=gt.dw(1),_=[];
for(var P=0;P<v.length;P++)_.push({X:W.E.Z,v:{d:W.t.GV,ei:"saveforweb",G$:L+P}});return _}()});return _}()},{X:W.E.Z,v:{d:W.t.GV,ei:"saveforweb",G$:4,ai4:!0}},{X:W.E.Z,v:{d:W.t.GV,ei:"eassets"}},{X:W.E.Z,v:{d:W.t.GV,ei:"exlut"}},{X:W.E.Z,v:{d:W.t.GV,ei:"finfo"}},{sub:[{X:W.E.Z,v:{d:W.t.GV,ei:"pdfpres"}}]},{X:W.E.Z,v:{d:W.t.GV,ei:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],SP:[E,I,w.lW]},{name:[2,1],SP:[I,w.lW],Lf:!0},{name:[2,11],SP:[E,I,w.Il],Lf:!0,qj:!0,i:function(v,_){return{i:e1.ad6(v)&&_.OZ!=q.Ai}}},{name:[5,0],SP:[I,w.tc],i:function(v){return{i:v!=null&&v.cu()}}},{name:[5,1],SP:[I,w.DM],i:function(v){return{i:v!=null}}},{name:[5,7],SP:[E,I,w.DM],i:function(v){return{i:v!=null&&v.cu()}}},{name:[5,2],SP:[I,w.uB],i:function(v,_){return{i:O.On()||_.W7!=null||_.DW!=null||_.aih!=null}}},{name:[2,2],i:function(v){return{i:v!=null&&v.n!=null}},SP:"Delete",Lf:!0},{name:[2,3],i:function(v){return{i:v!=null}},qj:!0,SP:[E,w.wG]},{name:[14,9],i:function(v){return{i:v!=null}},qj:!0,Lf:!0},{name:[10,48],i:function(v){return{i:v!=null&&v.p8(!1)}}},{name:[10,46],i:function(v){return{i:q.Yx.aad(v)}}},{name:[10,16],SP:[X,I,w.Nu]},{name:[2,4],sub:hz.auX()},{name:[2,10,1]},{name:[2,10,0],Lf:!0},{name:[12,87],sub:[{name:[12,62],i:function(v){return{i:v!=null}}},{name:[9,3],i:function(v){return{i:v!=null}}},{name:[10,31],i:function(v){return{i:v!=null&&v.cm()[1].length!=0}}}]},{name:[1,15],qj:!0},{name:[12,79],qj:!0,SP:[I,w.Q2]},{name:[1,13],qj:!0}],pL:[{X:W.E.s,G:q.b9,v:{d:"h_undoredo"}},{X:W.E.s,G:q.b9,v:{d:"h_stepfwd"}},{X:W.E.s,G:q.b9,v:{d:"h_stepbck"}},{X:W.E.Z,v:{d:W.t.GV,ei:"afw_fade"}},{X:W.E.Z,v:{d:W.t.LO}},{X:W.E.Z,v:{d:W.t.NA}},{X:W.E.Z,v:{d:W.t.NA,WY:!0}},{X:W.E.Z,v:{d:W.t.SO}},{X:W.E.a3,v:{$g:"delete"}},{X:W.E.Z,v:{d:W.t.GV,ei:"fill"}},{X:W.E.Z,v:{d:W.t.GV,ei:"stroke"}},{X:W.E.Z,v:{d:W.t.en,G:q.n9}},{X:W.E.s,G:q.Hl,v:{d:"start",qt:"rigidTransform"}},{X:W.E.Z,v:{d:W.t.en,G:q.Ai}},{sub:hz.axC()},{X:W.E.a3,v:{$g:"align",Zc:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{X:W.E.s,G:q.Qd,v:{d:K.am3}},{sub:[{X:W.E.Z,v:{d:W.t.PZ,GT:0}},{X:W.E.Z,v:{d:W.t.PZ,GT:1}},{X:W.E.Z,v:{d:W.t.PZ,GT:2}}]},{X:W.E.Z,v:{d:W.t.GV,ei:"pmanager"}},{X:W.E.Z,v:{d:W.t.GV,ei:"preferences"}},{X:W.E.Z,v:{d:W.t.GV,ei:"locstor"}}]},{name:[0,2],items:[{name:[12,36],i:function(v){return{i:v!=null}},Lf:!0,sub:[{name:"RGB",i:function(v){if(v==null)return{i:!1};
return{Cm:v.add.fcmy==null,i:!0}}},{name:"CMYK",i:function(v){if(v==null)return{i:!1};return{Cm:v.add.fcmy!=null,i:!0}}}]},{name:[3],Lf:!0,sub:function(){var v=[];
for(var _ in cz.names){v.push({name:cz.names[_],qj:kg[_]!=null,SP:cz.keys[_],Lf:cz.a6h.indexOf(_)!=-1});
if(_=="selc"){v.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],qj:!0,Lf:!0});v.push({name:[19,7,0],SP:[I,E,w.gh],i:function(_){return{i:_!=null&&_.p8(!1)}}});
v.push({name:[4,18],qj:!0,i:function(_){return{i:_!=null&&_.p8(!1)}}})}}return v}()},{name:[4,16,0],i:function(v){return{i:v!=null&&v.p8(!1)}}},{name:[4,16,1],i:function(v){return{i:v!=null&&v.p8(!1)}}},{name:[4,16,2],i:function(v){return{i:v!=null&&v.p8(!1)}},Lf:!0},{name:[11,11,1],i:function(v){return{i:v!=null&&v.p8(!1)}}},{name:[11,11,0],i:function(v){return{i:v!=null&&v.p8(!1)}},Lf:!0},{name:[11,3],qj:!0,SP:[X,I,w.DM]},{name:[11,10],qj:!0,SP:[X,I,w.PR]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],i:function(v){return{i:v!=null&&v.n!=null}}},{name:[11,12,0],i:function(v){return{i:v!=null}},SP:[I,w.FQ],qj:!0},{name:[11,12,2],i:function(v){return{i:v!=null}},Lf:!0},{name:[2,12],i:function(v){return{i:v!=null&&v.p8(!1)}},qj:!0,Lf:!0},{name:"Variables",i:function(v){return v!=null},qj:!0}],pL:[{sub:[{X:W.E.s,G:q.xE,v:{d:"fcmy",k:0}},{X:W.E.s,G:q.xE,v:{d:"fcmy",k:1}}]},{sub:function(){var v=[];
for(var _ in cz.names){v.push({X:W.E.s,G:q.dT,v:{d:"start",_T:_}});if(_=="selc"){v.push({X:W.E.s,G:q.Hl,v:{d:"start",qt:"adaptCorrect"}});
v.push({X:W.E.a3,v:{$g:"desaturate"}});v.push({X:W.E.s,G:q.dT,v:{d:"start",_T:"matc"}})}}return v}()},{X:W.E.a3,v:{$g:"levels",Zc:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{X:W.E.a3,v:{$g:"levels",Zc:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{X:W.E.a3,v:{$g:"levels",Zc:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{X:W.E.Z,v:{d:W.t.GV,ei:"rcolors"}},{X:W.E.Z,v:{d:W.t.GV,ei:"vbitmap"}},{X:W.E.Z,v:{d:W.t.GV,ei:"csize"}},{X:W.E.Z,v:{d:W.t.GV,ei:"isize"}},{sub:[{X:W.E.a3,v:q.R.to(!0,90)},{X:W.E.a3,v:q.R.to(!0,-90)},{X:W.E.a3,v:q.R.to(!0,-180)},{X:W.E.a3,v:q.R.to(!1,"Hrzn")},{X:W.E.a3,v:q.R.to(!1,"Vrtc")}]},{X:W.E.s,G:q.Eg,v:{d:"cropbysel",aeO:0}},{X:W.E.Z,v:{d:W.t.GV,ei:"trim"}},{X:W.E.a3,v:{$g:"revealAll",Zc:{classID:"RvlA"}}},{X:W.E.s,G:q.dT,v:{d:"start",_T:"aply"}},{X:W.E.Z,v:{d:W.t.GV,ei:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],SP:[E,I,w.wk]},{name:[0,4]},{name:[1,16,0],qj:!0},{name:[1,16,3],qj:!0,Lf:!0},{name:[6,49,0],SP:[I,w.BN]},{name:[6,49,1],SP:[E,I,w.BN],i:function(v){return{i:v!=null&&v.n!=null&&v.p8(!1)}}}]},{name:[6,0],i:o,SP:[I,w.BN]},{name:[11,4],i:o},{name:[5,4],i:o,Lf:!0},{name:[11,6],Lf:!0,i:o,sub:gi.z0(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],Lf:!0,sub:gi.auq()},{name:[6,2],sub:[{name:[6,4],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].pi()==null}}},{name:[6,5,0],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].pi()==null}}},{name:[6,5,1],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].pi()==null&&v.n!=null}}},{name:[6,5,2],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].pi()==null&&v.n!=null}}},{name:[6,5,3],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].pi()==null}},Lf:!0},{name:[5,4],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].pi()!=null}}},{name:[5,8],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].pi()!=null&&v.p8(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].pi()!=null}}}]},{name:[6,3],sub:[{name:[6,4],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].add.vmsk==null}}},{name:[6,5,0],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].add.vmsk==null}}},{name:"Current Path",i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].add.vmsk==null}},Lf:!0},{name:[5,4],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],i:function(v){return{i:v!=null&&v.g.length!=0&&v.b[v.g[0]].add.vmsk!=null}}}]},a$.aeX(!0),{name:[6,7,1],Lf:!0,sub:[{name:[6,7,0]},{name:[6,36,4],i:i,sub:h},{name:[1,0],i:i,Lf:!0},{name:"Turn into JPG"}]},{name:[6,8],i:a$.agR},{name:[6,34],Lf:!0,i:function(v){if(v==null||v.g.length==0)return{i:!1};
var _=v.b[v.g[0]];return{i:_.add.lmfx!=null&&!_.vD()}}},{name:[6,9],Lf:!0,SP:[I,w.vP]},{name:[6,55],Lf:!0,sub:[{name:[6,56,0],SP:[E,I,w.rA]},{name:[6,56,1],SP:[I,w.rA]},{name:[6,56,2],SP:[I,w.Az]},{name:[6,56,3],SP:[E,I,w.Az]}]},{name:[6,58],Lf:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],SP:[I,w.E],i:function(v){var _=v==null?0:v.g.length;
return{i:_!=0&&(_!=1||v.g[0]!=0),fX:df.get(_>1||_==1&&v.b[v.g[0]].vD()?[6,12,0]:[6,10])}}},{name:[6,12,1]},{name:"Defringe"}],pL:[{sub:[{X:W.E.s,G:q.Qd,v:{d:K.FD}},{X:W.E.s,G:q.Qd,v:{d:K.yu}},{X:W.E.Z,v:{d:W.t.GV,ei:"newartb",Yr:0}},{X:W.E.Z,v:{d:W.t.GV,ei:"newartb",Yr:1}},{X:W.E.a3,v:{$g:"copyToLayer"}},{X:W.E.a3,v:{$g:"cutToLayer"}}]},{X:W.E.s,G:q.Qd,v:{d:K.Ss}},{X:W.E.Z,v:{d:W.t.GV,ei:"duplinto"}},{X:W.E.s,G:q.Qd,v:{d:K.Ii}},{sub:gi.sR(!0)},{sub:[{X:W.E.s,G:q.jh,v:{d:"newfill",Vq:0}},{X:W.E.a3,v:q.II._u(1)},{X:W.E.a3,v:q.II._u(2)}]},{sub:gi.zC()},{sub:[{X:W.E.s,G:q.Qd,v:{d:K.qh,Yr:"RvlA"}},{X:W.E.s,G:q.Qd,v:{d:K.qh,Yr:"HdAl"}},{X:W.E.s,G:q.Qd,v:{d:K.qh,Yr:"RvlS"}},{X:W.E.s,G:q.Qd,v:{d:K.qh,Yr:"HdSl"}},{X:W.E.s,G:q.Qd,v:{d:K.qh,Yr:"Trns"}},{X:W.E.s,G:q.Qd,v:{d:K.iX}},{X:W.E.s,G:q.Qd,v:{d:K.YQ}},{X:W.E.s,G:q.Qd,v:{d:K.$X}}]},{sub:[{X:W.E.s,G:q.Qd,v:{d:K.PK,a8u:!1}},{X:W.E.s,G:q.Qd,v:{d:K.PK,a8u:!0}},{X:W.E.s,G:q.Qd,v:{d:K.PK,ahg:!0}},{X:W.E.s,G:q.Qd,v:{d:K.wP}},{X:W.E.s,G:q.Qd,v:{d:K.j0}}]},{X:W.E.s,G:q.Qd,v:{d:K.pk}},{sub:[{X:W.E.a3,v:{$g:"newPlacedLayer"}},{sub:k},{X:W.E.a3,v:{$g:"placedLayerEditContents",Zc:{classID:"placedLayerEditContents"}}},{X:W.E.s,G:q.Qd,v:{d:K.al$}}]},{X:W.E.a3,v:{$g:"rasterizeLayer",Zc:{classID:"rasterizeLayer",null:gE.cZ("Lyr",!0)}}},{X:W.E.s,G:q.Qd,v:{d:K.lv}},{X:W.E.s,G:q.Qd,v:{d:K.jK}},{sub:[{X:W.E.s,G:q.Qd,v:{d:K.ta,ns:0}},{X:W.E.s,G:q.Qd,v:{d:K.ta,ns:1}},{X:W.E.s,G:q.Qd,v:{d:K.ta,ns:2}},{X:W.E.s,G:q.Qd,v:{d:K.ta,ns:3}}]},{sub:[{X:W.E.s,G:q.Qd,v:{d:K._V,ns:"makeframes"}},{X:W.E.s,G:q.Qd,v:{d:K._V,ns:"unmakeframes"}},{X:W.E.s,G:q.Qd,v:{d:K._V,ns:"merge"}}]},{X:W.E.a3,v:{$g:"mergeLayersNew",Zc:{__name:"Merge Layers",classID:"Mrg2"}}},{X:W.E.a3,v:{$g:"flattenImage"}},{X:W.E.s,G:q.Hl,v:{d:"start",qt:"defr"}}]},dL.ab2(!1),function(){var v={name:[0,6],items:[{name:[24,18,4],SP:[X,I,w.Il],Lf:!0}],pL:[{X:W.E.s,G:q.Hl,v:{d:"applylast"}}]};
for(var P=0;P<gD.in.length;P++){var _=gD.in[P];if(_.Pz!=null){v.items.push({name:gD.names[_.Pz],qj:!0,Lf:_.Lf});
v.pL.push({X:W.E.s,G:q.Hl,v:{d:"start",qt:_.Pz}});continue}var L={name:_.X9,sub:[]};v.items.push(L);
var U={sub:[]};v.pL.push(U);for(var n=0;n<_.EE.length;n++){var a={name:gD.names[_.EE[n]],qj:gD.SX(_.EE[n])!=null};
L.sub.push(a);var T={X:W.E.s,G:q.Hl,v:{d:"start",qt:_.EE[n]}};U.sub.push(T)}}return v}(),{name:[0,7],items:[{name:[8,0],SP:[I,w.w2]},{name:[8,1],SP:[I,w.Jz]},{name:[20,3],SP:[I,w.y5]},{name:[20,2],SP:[I,w.OY]},{name:"Pattern Preview",i:function(v,_){return{Cm:v!=null&&v.Qb}},Lf:!0},{name:"Screen Mode",Lf:!0,sub:[{name:"Fullscreen",i:function(v,_){return{Cm:document.fullscreenElement!=null}},Lf:!0},{name:"Standard",i:function(v,_){return{Cm:_.sr==0}}},{name:"Menu Bar and Canvas",i:function(v,_){return{Cm:_.sr==1}}}]},{name:[8,13],SP:[I,w.jJ],i:function(v,_){return{Cm:_.x3}}},{name:[8,12],Lf:!0,sub:[{name:[17,2],i:function(v,_){return{i:_.x3,Cm:_.yR.bt}}},{name:[8,9],i:function(v,_){return{i:_.x3,Cm:_.yR.c1}}},{name:[8,2],i:function(v,_){return{i:_.x3,Cm:_.yR.l2}},SP:[I,w.Dx]},{name:[8,4],i:function(v,_){return{i:_.x3,Cm:_.yR.jm}},SP:[I,w.od]},{name:[8,8],i:function(v,_){return{i:_.x3,Cm:_.yR.Aj}}},{name:[8,11,0],i:function(v,_){return{i:_.x3,Cm:_.yR.V7}}}]},{name:[8,3],i:function(v,_){return{Cm:_.KY}},SP:[I,w.MP],Lf:!0},{name:[8,5],i:function(v,_){return{Cm:_.xx}}},{name:[8,6],Lf:!0,sub:[{name:[8,2],i:function(v,_){return{Cm:_.X3[0]}}},{name:[8,4],i:function(v,_){return{Cm:_.X3[1]}}},{name:[9,1],i:function(v,_){return{Cm:_.X3[2]}}},{name:[8,11,0],i:function(v,_){return{Cm:_.X3[3]}}},{name:[8,7],i:function(v,_){return{Cm:_.X3[4]}}}]},{name:[11,15,2],i:function(v,_){return{i:v!=null,Cm:v!=null&&v.iJ}}},{name:[11,15,0],i:function(v,_){return{i:v!=null}}},{name:[11,14],i:function(v,_){return{i:v!=null}},qj:!0},{name:[11,15,1],i:function(v,_){return{i:v!=null&&v.g.length!=0}},Lf:!0},{name:[8,11,2],i:function(v,_){return{i:v!=null&&v.V7.length!=0}}}],pL:[{X:W.E.s,G:q.dc,v:{d:"zoom",GC:!0}},{X:W.E.s,G:q.dc,v:{d:"zoom",GC:!1}},{X:W.E.s,G:q.dc,v:{d:"adapt",k:"fitscr"}},{X:W.E.s,G:q.dc,v:{d:"adapt",k:"pixel"}},{X:W.E.s,G:q.xE,v:{d:"pview"}},{sub:[{X:W.E.Z,v:{d:W.t.vB,k1:!0}},{X:W.E.Z,v:{d:W.t.vB,k:0}},{X:W.E.Z,v:{d:W.t.vB,k:1}},{X:W.E.Z,v:{d:W.t.vB,k:2}}]},{X:W.E.Z,v:{d:W.t.e1,GT:ik.wB}},{sub:[{X:W.E.Z,v:{d:W.t.e1,GT:ik.SA}},{X:W.E.Z,v:{d:W.t.e1,GT:ik.NV}},{X:W.E.Z,v:{d:W.t.e1,GT:ik.Mk}},{X:W.E.Z,v:{d:W.t.e1,GT:ik.sw}},{X:W.E.Z,v:{d:W.t.e1,GT:ik.s6}},{X:W.E.Z,v:{d:W.t.e1,GT:ik._H}}]},{X:W.E.Z,v:{d:W.t.e1,GT:ik.wC}},{X:W.E.Z,v:{d:W.t.e1,GT:ik.aoX}},{sub:[{X:W.E.Z,v:{d:W.t.e1,GT:ik.cr,nD:0}},{X:W.E.Z,v:{d:W.t.e1,GT:ik.cr,nD:1}},{X:W.E.Z,v:{d:W.t.e1,GT:ik.cr,nD:2}},{X:W.E.Z,v:{d:W.t.e1,GT:ik.cr,nD:3}},{X:W.E.Z,v:{d:W.t.e1,GT:ik.cr,nD:4}}]},{X:W.E.s,G:q.xE,v:{d:"lockguides"}},{X:W.E.s,G:q.xE,v:{d:"gids",_t:[[],[]]}},{X:W.E.Z,v:{d:W.t.GV,ei:"addguides"}},{X:W.E.s,G:q.xE,v:{d:"gidsFromLayer"}},{X:W.E.s,G:q.Bd,v:{d:"deleteAll"}}]},function(){var v={name:[0,8],items:[{name:[0,14],Lf:!0,sub:[]},{name:"Plugins",Lf:!0}],pL:[{sub:[]},{X:W.E.Z,v:{d:W.t.GV,ei:"res1"}}]};
for(var P=0;P<bX.yq.length;P++){var _=bX.yq[P],L=function(){var U=_.E5.Xq;return function(n,a){return{Cm:a.n0.indexOf(parseInt(U))!=-1}}}();
(_.B$?v.items[0].sub:v.items).push({name:_.E5.name,i:L});(_.B$?v.pL[0].sub:v.pL).push({X:W.E.Z,v:{d:W.t.mB,ei:_.E5.Xq}})}return v}(),function(){var v={name:[0,14],items:[],pL:[]},_={name:[0,9],sub:[]};
v.items.push(_);var L={sub:[]};v.pL.push(L);var U=df.akS();for(var P=0;P<U.length;P++){var n=U[P],a=n.code,T=df.ag5(a);
_.sub.push({name:n.name,SP:a,i:function(g,D){return{Cm:this.SP==df.WX()}}});L.sub.push({X:W.E.Z,v:{d:W.t.e1,GT:ik.BC,lang:T}})}_.sub.push({name:[0,12]});
L.sub.push({X:W.E.Z,v:{d:W.t.Yo,link:"https://www.photopea.com/translate/"}});var _={name:[0,15],sub:[]};
v.items.push(_);var L={sub:[]};v.pL.push(L);for(var P=0;P<j3.NH.length;P++){_.sub.push({name:j3.NH[P].name,i:function(g,D){return{Cm:this.name==j3.NH[D.lF].name}}});
L.sub.push({X:W.E.Z,v:{d:W.t.e1,GT:ik.aF,lF:P}})}v.items.push({name:[0,17,6],i:function(g,D){return{i:D.d6!=null}}});
v.pL.push({X:W.E.Z,v:{d:W.t.a1P}});v.items.push({name:[11,13]});v.pL.push({X:W.E.Z,v:{d:W.t.GV,ei:"shortcuts"}});
v.items.push({name:[0,16],i:function(g){return{Cm:R.U7,i:R.Oo}},Lf:!0});v.pL.push({X:W.E.Z,v:{d:W.t.agn}});
v.items.push({name:"",i:function(g,D){return D.pV?{fX:"About Photopea",i:!0}:{fX:"",i:!1}}});v.pL.push({X:W.E.Z,v:{d:W.t.GV,ei:"aboutpp"}});
return v}()]}();function jU(){cu.call(this);this.m=O.S("div","");this._D=0;this.Px=0;this.m6=null;this.Qn=O.S("div","");
this.Qn.setAttribute("style","width:200em; height:100em; position:absolute;");this.BO=[];this.dB=[];
this.Ef={}}jU.prototype=new cu;jU.prototype.No=function(w){var I=Date.now(),E=[];if(w=="-")E=[new bk,new hf,new fx("pdfpres"),new hK,new gn,new eP,new cR,new bD,new g$,new da,new cQ,new dW,new ja,new aw,new iO,new cF,new gi,new eo,new cZ,new hn,new i$,new iG,new il,new jD,new c$,new ib,new jA,new ch(!1),new ch(!0),new az(0),new az(1),new fM,new bU,new h7,new fU,new fn,new ig(0),new ig(1),new ig(2),new ig(3),new ig(4),new ig(5),new ig(6),new ig(7),new ig(8),new eZ,new cS,new f8,new jp,new jx,new at,new f9,new fb("border",[7,9],"px"),new fb("smoothness",[19,3,0],"px"),new fb("expand",[7,4],"px"),new fb("contract",[7,5],"px"),new fb("feather",[7,6],"px"),new f3(0,"namewindow",[12,48]),new f3(2,"billto","Bill To"),new f3(1,"cornerradius",[12,94,0],"px",!0,!0),new f3(1,"scaleeffects","Scale Effects","%",!0),new f3(1,"doczoom","Zoom","%",!0),new f3(1,"setFPS","Set FPS","fps",!1)];
else E=[new e1(w.slice(4))];this.a9V(E);this.Ef[w]=!0};jU.prototype.a9V=function(w){var I=this.m6;for(var P=0;
P<w.length;P++){var E=w[P];E.parent=this;this.dB.push(E);this.jP(E);E.f();if(I)E.eU(I,ik.Vk);E.h(W.E.RR,this.nB,this)}};
jU.prototype.hi=function(w,I){this._D=w;this.Px=I;for(var P=0;P<this.dB.length;P++)this.jP(this.dB[P])};
jU.prototype.f=function(){for(var P=0;P<this.dB.length;P++)this.dB[P].f()};jU.prototype.Fv=function(){return this.BO.length==0?null:this.BO[this.BO.length-1]};
jU.prototype.wN=function(){for(var P=0;P<this.BO.length;P++)if(this.BO[P].wN())return!0;return!1};jU.prototype.aro=function(w,I,E,X,o){var i=w.startsWith("afw_"),h=null;
if(!i&&!this.Ef["-"])this.No("-");if(i&&!this.Ef[w])this.No(w);if(typeof w=="object"){h=w;if(!h.adw(W.E.RR,this.nB))h.h(W.E.RR,this.nB,this);
h.parent=this}else for(var P=0;P<this.dB.length;P++)if(this.dB[P].id==w)h=this.dB[P];if(this.wN()&&h.wN()){alert("Finish the current action first");
return}if(!h.mV(I))return;if(this.BO.indexOf(h)!=-1){if(w=="colorpicker")h.tM(I,E,X,o);return}var k=this.BO.length-1;
if(k>=0)O.vK(this.BO[k].m,"wdisabled");this.m.appendChild(h.m);this.BO.push(h);this.jP(h);h.tM(I,E,X,o)};
jU.prototype.jP=function(w){var I=this._D,E=this.Px,X=w.GN(I,E),o;if(X!=null){o=X}else{X=new a5(0,0);
o=w.a7A();if(o==null){var i=this.BO.indexOf(w)+1;if(I<450||E<450)o=new a5(0,0);else o=new a5(i*150,i*150)}}w.m.style.left=o.x+"px";
w.m.style.top=this.m.offsetTop+o.y+"px";w.hi(this._D-X.x*2,this.Px-X.y*2-34)};jU.prototype.eU=function(w,I){this.m6=w;
for(var P=0;P<this.dB.length;P++)this.dB[P].eU(w,I)};jU.prototype.nB=function(w){var I=this.BO.pop();
this.m.removeChild(I.m);var E=this.BO.length-1;if(E>=0)O.yo(this.BO[E].m,"wdisabled");if(this.Qn.parentNode==this.m)this.m.removeChild(this.Qn)};
window.onload=function(){document.body.appendChild(new ao().m)}}())